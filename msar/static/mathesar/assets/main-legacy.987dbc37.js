!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}System.register([],(function(t,n){"use strict";return{execute:function(){let t,r;function o(){}const s=e=>e;function i(e,t){for(const n in t)e[n]=t[n];return e}function a(e){return e()}function l(){return Object.create(null)}function c(e){e.forEach(a)}function u(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t}function p(e,...t){if(null==e)return o;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function $(e){let t;return p(e,(e=>t=e))(),t}function m(e,t,n){e.$$.on_destroy.push(p(t,n))}function f(e,t,n,r){if(e){const o=h(e,t,n,r);return e[0](o)}}function h(e,t,n,r){return e[1]&&r?i(n.ctx.slice(),e[1](r(t))):n.ctx}function g(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function y(e,t,n,r,o,s){if(o){const i=h(t,n,r,s);e.p(i,o)}}function v(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function b(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function w(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}function _(e){const t={};for(const n in e)t[n]=!0;return t}function x(e){return null==e?"":e}function S(e,t,n){return e.set(n),t}function C(e){return e&&u(e.destroy)?e.destroy:o}const E="undefined"!=typeof window;let k=E?()=>window.performance.now():()=>Date.now(),I=E?e=>requestAnimationFrame(e):o;const T=new Set;function D(e){T.forEach((t=>{t.c(e)||(T.delete(t),t.f())})),0!==T.size&&I(D)}function M(e){let t;return 0===T.size&&I(D),{promise:new Promise((n=>{T.add(t={c:e,f:n})})),abort(){T.delete(t)}}}function O(e,t){e.appendChild(t)}function N(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function A(e){const t=H("style");return function(e,t){O(e.head||e,t),t.sheet}(N(e),t),t.sheet}function L(e,t,n){e.insertBefore(t,n||null)}function P(e){e.parentNode.removeChild(e)}function R(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function H(e){return document.createElement(e)}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function F(e){return document.createTextNode(e)}function j(){return F(" ")}function q(){return F("")}function V(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function B(e){return function(t){return t.preventDefault(),e.call(this,t)}}function W(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function U(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Y(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:U(e,r,t[r])}function K(e,t){for(const n in t)U(e,n,t[n])}function G(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function X(e,t){e.value=null==t?"":t}function Z(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let J;function Q(){if(void 0===J){J=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch($h){J=!0}}return J}function ee(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=H("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=Q();let o;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=V(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{o=V(n.contentWindow,"resize",t)}),O(e,n),()=>{(r||o&&n.contentWindow)&&o(),P(n)}}function te(e,t,n){e.classList[n?"add":"remove"](t)}function ne(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}class re{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=z(t.nodeName):this.e=H(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)L(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(P)}}const oe=new Map;let se,ie=0;function ae(e,t,n,r,o,s,i,a=0){const l=16.666/r;let c="{\n";for(let h=0;h<=1;h+=l){const e=t+(n-t)*s(h);c+=100*h+`%{${i(e,1-e)}}\n`}const u=c+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=N(e),{stylesheet:$,rules:m}=oe.get(p)||function(e,t){const n={stylesheet:A(t),rules:{}};return oe.set(e,n),n}(p,e);m[d]||(m[d]=!0,$.insertRule(`@keyframes ${d} ${u}`,$.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${d} ${r}ms linear ${o}ms 1 both`,ie+=1,d}function le(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),ie-=o,ie||I((()=>{ie||(oe.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&P(t)})),oe.clear())})))}function ce(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}function ue(e){se=e}function de(){if(!se)throw new Error("Function called outside component initialization");return se}function pe(e){de().$$.on_mount.push(e)}function $e(e){de().$$.after_update.push(e)}function me(e){de().$$.on_destroy.push(e)}function fe(){const e=de();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const s=ne(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function he(e,t){return de().$$.context.set(e,t),t}function ge(e){return de().$$.context.get(e)}function ye(e){return de().$$.context.has(e)}function ve(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const be=[],we=[],_e=[],xe=[],Se=Promise.resolve();let Ce=!1;function Ee(){Ce||(Ce=!0,Se.then(Ne))}function ke(){return Ee(),Se}function Ie(e){_e.push(e)}function Te(e){xe.push(e)}const De=new Set;let Me,Oe=0;function Ne(){const e=se;do{for(;Oe<be.length;){const e=be[Oe];Oe++,ue(e),Ae(e.$$)}for(ue(null),be.length=0,Oe=0;we.length;)we.pop()();for(let e=0;e<_e.length;e+=1){const t=_e[e];De.has(t)||(De.add(t),t())}_e.length=0}while(be.length);for(;xe.length;)xe.pop()();Ce=!1,De.clear(),ue(e)}function Ae(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ie)}}function Le(){return Me||(Me=Promise.resolve(),Me.then((()=>{Me=null}))),Me}function Pe(e,t,n){e.dispatchEvent(ne(`${t?"intro":"outro"}${n}`))}const Re=new Set;let He;function ze(){He={r:0,c:[],p:He}}function Fe(){He.r||c(He.c),He=He.p}function je(e,t){e&&e.i&&(Re.delete(e),e.i(t))}function qe(e,t,n,r){if(e&&e.o){if(Re.has(e))return;Re.add(e),He.c.push((()=>{Re.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const Ve={duration:0};function Be(e,t,n){let r,i,a=t(e,n),l=!1,c=0;function d(){r&&le(e,r)}function p(){const{delay:t=0,duration:n=300,easing:u=s,tick:p=o,css:$}=a||Ve;$&&(r=ae(e,0,1,n,t,u,$,c++)),p(0,1);const m=k()+t,f=m+n;i&&i.abort(),l=!0,Ie((()=>Pe(e,!0,"start"))),i=M((t=>{if(l){if(t>=f)return p(1,0),Pe(e,!0,"end"),d(),l=!1;if(t>=m){const e=u((t-m)/n);p(e,1-e)}}return l}))}let $=!1;return{start(){$||($=!0,le(e),u(a)?(a=a(),Le().then(p)):p())},invalidate(){$=!1},end(){l&&(d(),l=!1)}}}function We(e,t,n){let r,i=t(e,n),a=!0;const l=He;function d(){const{delay:t=0,duration:n=300,easing:u=s,tick:d=o,css:p}=i||Ve;p&&(r=ae(e,1,0,n,t,u,p));const $=k()+t,m=$+n;Ie((()=>Pe(e,!1,"start"))),M((t=>{if(a){if(t>=m)return d(0,1),Pe(e,!1,"end"),--l.r||c(l.c),!1;if(t>=$){const e=u((t-$)/n);d(1-e,e)}}return a}))}return l.r+=1,u(i)?Le().then((()=>{i=i(),d()})):d(),{end(t){t&&i.tick&&i.tick(1,0),a&&(r&&le(e,r),a=!1)}}}function Ue(e,t,n,r){let i=t(e,n),a=r?0:1,l=null,d=null,p=null;function $(){p&&le(e,p)}function m(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function f(t){const{delay:n=0,duration:r=300,easing:u=s,tick:f=o,css:h}=i||Ve,g={start:k()+n,b:t};t||(g.group=He,He.r+=1),l||d?d=g:(h&&($(),p=ae(e,a,t,r,n,u,h)),t&&f(0,1),l=m(g,r),Ie((()=>Pe(e,t,"start"))),M((t=>{if(d&&t>d.start&&(l=m(d,r),d=null,Pe(e,l.b,"start"),h&&($(),p=ae(e,a,l.b,l.duration,0,u,i.css))),l)if(t>=l.end)f(a=l.b,1-a),Pe(e,l.b,"end"),d||(l.b?$():--l.group.r||c(l.group.c)),l=null;else if(t>=l.start){const e=t-l.start;a=l.a+l.d*u(e/l.duration),f(a,1-a)}return!(!l&&!d)})))}return{run(e){u(i)?Le().then((()=>{i=i(),f(e)})):f(e)},end(){$(),l=d=null}}}function Ye(e,t){const n=t.token={};function r(e,r,o,s){if(t.token!==n)return;t.resolved=s;let i=t.ctx;void 0!==o&&(i=i.slice(),i[o]=s);const a=e&&(t.current=e)(i);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(ze(),qe(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),Fe())})):t.block.d(1),a.c(),je(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[r]=a),l&&Ne()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=de();if(e.then((e=>{ue(n),r(t.then,1,t.value,e),ue(null)}),(e=>{if(ue(n),r(t.catch,2,t.error,e),ue(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}function Ke(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}const Ge="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Xe(e,t){e.d(1),t.delete(e.key)}function Ze(e,t){qe(e,1,1,(()=>{t.delete(e.key)}))}function Je(e,t){e.f(),Ze(e,t)}function Qe(e,t,n,r,o,s,i,a,l,c,u,d){let p=e.length,$=s.length,m=p;const f={};for(;m--;)f[e[m].key]=m;const h=[],g=new Map,y=new Map;for(m=$;m--;){const e=d(o,s,m),a=n(e);let l=i.get(a);l?r&&l.p(e,t):(l=c(a,e),l.c()),g.set(a,h[m]=l),a in f&&y.set(a,Math.abs(m-f[a]))}const v=new Set,b=new Set;function w(e){je(e,1),e.m(a,u),i.set(e.key,e),u=e.first,$--}for(;p&&$;){const t=h[$-1],n=e[p-1],r=t.key,o=n.key;t===n?(u=t.first,p--,$--):g.has(o)?!i.has(r)||v.has(r)?w(t):b.has(o)?p--:y.get(r)>y.get(o)?(b.add(r),w(t)):(v.add(o),p--):(l(n,i),p--)}for(;p--;){const t=e[p];g.has(t.key)||l(t,i)}for(;$;)w(h[$-1]);return h}function et(e,t){const n={},r={},o={$$scope:1};let s=e.length;for(;s--;){const i=e[s],a=t[s];if(a){for(const e in i)e in a||(r[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[s]=a}else for(const e in i)o[e]=1}for(const i in r)i in n||(n[i]=void 0);return n}function tt(e){return"object"==typeof e&&null!==e?e:{}}function nt(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function rt(e){e&&e.c()}function ot(e,t,n,r){const{fragment:o,on_mount:s,on_destroy:i,after_update:l}=e.$$;o&&o.m(t,n),r||Ie((()=>{const t=s.map(a).filter(u);i?i.push(...t):c(t),e.$$.on_mount=[]})),l.forEach(Ie)}function st(e,t){const n=e.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function it(e,t,n,r,s,i,a,u=[-1]){const d=se;ue(e);const p=e.$$={fragment:null,ctx:null,props:i,update:o,not_equal:s,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:l(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};a&&a(p.root);let $=!1;if(p.ctx=n?n(e,t.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),$&&function(e,t){-1===e.$$.dirty[0]&&(be.push(e),Ee(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],p.update(),$=!0,c(p.before_update),p.fragment=!!r&&r(p.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);p.fragment&&p.fragment.l(e),e.forEach(P)}else p.fragment&&p.fragment.c();t.intro&&je(e.$$.fragment),ot(e,t.target,t.anchor,t.customElement),Ne()}ue(d)}class at{$destroy(){st(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class lt extends Promise{constructor(t,n){super(t),e(this,"isCancelled",!1),e(this,"onCancel",void 0),this.onCancel=n}cancel(){this.isCancelled=!0,this.onCancel?.()}then(e,t){return this.isCancelled?null:super.then((t=>this.isCancelled?null:e?.(t)||t),(e=>{if(this.isCancelled)return null;if(!t)throw e;return t(e)}))}}class ct{constructor(){e(this,"listeners",void 0),this.listeners=new Map}getCallbackSet(e){const t=this.listeners.get(e);if(t)return t;const n=new Set;return this.listeners.set(e,n),n}on(e,t){const n=this.getCallbackSet(e);return n.add(t),()=>{n.delete(t)}}async dispatch(e,t){const n=this.listeners.get(e);n?await Promise.all([...n.values()].map((e=>e(t)))):console.warn(`No listeners found when dispatching event '${String(e)}'.`)}destroy(){this.listeners.clear()}}t=Symbol.iterator;class ut{constructor(t){e(this,"set",void 0),this.set=new Set(t)}getNewInstance(...e){return new this.constructor(...e)}with(e){const t=new Set(this.set);return t.add(e),this.getNewInstance(t)}union(e){const t=new Set(this.set);return[...e].forEach((e=>{t.add(e)})),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Set(this.set);return t.forEach((e=>{n.delete(e)})),this.getNewInstance(n)}has(e){return this.set.has(e)}get size(){return this.set.size}values(){return this.set.values()}valuesArray(){return[...this.set.values()]}[t](){return this.values()}}r=Symbol.iterator;class dt{constructor(t=[]){e(this,"map",void 0),e(this,"valueIsValid",(()=>!0)),this.map=new Map(t)}getNewInstance(...e){return new this.constructor(...e)}with(e,t,n=((e,t)=>t)){return this.withEntries([[e,t]],n)}withEntries(e,t=((e,t)=>t)){const n=new Map(this.map);return[...e].forEach((([e,r])=>{const o=this.get(e),s=void 0===o?r:t(o,r);this.valueIsValid(s)?n.set(e,s):n.delete(e)})),this.getNewInstance(n)}coalesce(e,t){return this.has(e)?this:this.with(e,t)}coalesceEntries(e){const t=new Map(this.map);return[...e].forEach((([e,n])=>{!this.has(e)&&this.valueIsValid(n)&&t.set(e,n)})),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Map(this.map);return t.forEach((e=>n.delete(e))),this.getNewInstance(n)}drained(){return this.getNewInstance([])}has(e){return this.map.has(e)}get(e){return this.map.get(e)}get size(){return this.map.size}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}mapValues(e){return new dt([...this.entries()].map((([t,n])=>[t,e(n)])))}filterValues(e){return new dt([...this.entries()].filter((([,t])=>e(t))))}[r](){return this.entries()}}const pt=[];function $t(e,t){return{subscribe:mt(e,t).subscribe}}function mt(e,t=o){let n;const r=new Set;function s(t){if(function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}(e,t)&&(e=t,n)){const t=!pt.length;for(const n of r)n[1](),pt.push(n,e);if(t){for(let e=0;e<pt.length;e+=2)pt[e][0](pt[e+1]);pt.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(i,a=o){const l=[i,a];return r.add(l),1===r.size&&(n=t(s)||o),i(e),()=>{r.delete(l),0===r.size&&(n(),n=null)}}}}function ft(e,t,n){const r=!Array.isArray(e),s=r?[e]:e,i=t.length<2;return $t(n,(e=>{let n=!1;const a=[];let l=0,d=o;const $=()=>{if(l)return;d();const n=t(r?a[0]:a,e);i?e(n):d=u(n)?n:o},m=s.map(((e,t)=>p(e,(e=>{a[t]=e,l&=~(1<<t),n&&$()}),(()=>{l|=1<<t}))));return n=!0,$(),function(){c(m),d()}}))}class ht{constructor(t=[]){e(this,"map",void 0),this.map=mt(new dt(t))}subscribe(e){return this.map.subscribe(e)}reconstruct(e=[]){this.map.set(new dt(e))}clear(){this.map.set(new dt)}delete(e){this.map.update((t=>t.without(e)))}set(e,t,n=((e,t)=>t)){this.map.update((r=>r.with(e,t,n)))}setEntries(e=[],t=((e,t)=>t)){this.map.update((n=>n.withEntries(e,t)))}setMultiple(e,t,n=((e,t)=>t)){this.map.update((r=>r.withEntries([...e].map((e=>[e,t])),n)))}getEntries(){return $(this.map).entries()}derivedEntries(){return ft(this.map,(e=>e.entries()))}getHas(e){return $(this.map).has(e)}derivedHas(e){return ft(this.map,(t=>t.has(e)))}getValue(e){return $(this.map).get(e)}derivedValue(e){return ft(this.map,(t=>t.get(e)))}getKeys(){return $(this.map).keys()}derivedKeys(){return ft(this.map,(e=>e.keys()))}getValues(){return $(this.map).values()}derivedValues(){return ft(this.map,(e=>e.values()))}}class gt{constructor(t=[]){e(this,"values",void 0),this.values=mt(new ut(t))}subscribe(e){return this.values.subscribe(e)}reconstruct(e=[]){this.values.set(new ut(e))}clear(){this.values.set(new ut)}delete(e){this.values.update((t=>t.without(e)))}add(e){this.values.update((t=>t.with(e)))}addMultiple(e=[]){this.values.update((t=>t.union(e)))}getValues(){return $(this.values).values()}derivedValues(){return ft(this.values,(e=>e.values()))}getHas(e){return $(this.values).has(e)}derivedHas(e){return ft(this.values,(t=>t.has(e)))}}var yt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function vt(e){var t=e.default;if("function"==typeof t){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var bt={exports:{}};!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",s="minute",i="hour",a="day",l="week",c="month",u="quarter",d="year",p="date",$="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,c),s=n-o<0,i=t.clone().add(r+(s?-1:1),c);return+(-(r+(n-o)/(s?o-i:i-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:a,D:p,h:i,m:s,s:o,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=h;var w=function(e){return e instanceof C},_=function e(t,n,r){var o;if(!t)return v;if("string"==typeof t){var s=t.toLowerCase();b[s]&&(o=s),n&&(b[s]=n,o=s);var i=t.split("-");if(!o&&i.length>1)return e(i[0])}else{var a=t.name;b[a]=t,o=a}return!r&&o&&(v=o),o||!r&&v},x=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new C(n)},S=y;S.l=_,S.i=w,S.w=function(e,t){return x(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var C=function(){function h(e){this.$L=_(e.locale,null,!0),this.parse(e)}var g=h.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(m);if(r){var o=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===$)},g.isSame=function(e,t){var n=x(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return x(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<x(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),$=function(e,t){var o=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(a)},m=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,h=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?$(1,0):$(31,11);case c:return r?$(1,h):$(0,h+1);case l:var v=this.$locale().weekStart||0,b=(f<v?f+7:f)-v;return $(r?g-b:g+(6-b),h);case a:case p:return m(y+"Hours",0);case i:return m(y+"Minutes",1);case s:return m(y+"Seconds",2);case o:return m(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),$=(n={},n[a]=u+"Date",n[p]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[i]=u+"Hours",n[s]=u+"Minutes",n[o]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],m=l===a?this.$D+(t-this.$W):t;if(l===c||l===d){var f=this.clone().set(p,1);f.$d[$](m),f.init(),this.$d=f.set(p,Math.min(this.$D,f.daysInMonth())).$d}else $&&this.$d[$](m);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(r,u){var p,$=this;r=Number(r);var m=S.p(u),f=function(e){var t=x($);return S.w(t.date(t.date()+Math.round(e*r)),$)};if(m===c)return this.set(c,this.$M+r);if(m===d)return this.set(d,this.$y+r);if(m===a)return f(1);if(m===l)return f(7);var h=(p={},p[s]=t,p[i]=n,p[o]=e,p)[m]||1,g=this.$d.getTime()+r*h;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||$;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),s=this.$H,i=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=function(e,n,o,s){return e&&(e[n]||e(t,r))||o[n].slice(0,s)},d=function(e){return S.s(s%12||12,e,"0")},p=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:u(n.monthsShort,a,c,3),MMMM:u(c,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,l,2),ddd:u(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(s),HH:S.s(s,2,"0"),h:d(1),hh:d(2),a:p(s,i,!0),A:p(s,i,!1),m:String(i),mm:S.s(i,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:o};return r.replace(f,(function(e,t){return t||m[e]||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,p,$){var m,f=S.p(p),h=x(r),g=(h.utcOffset()-this.utcOffset())*t,y=this-h,v=S.m(this,h);return v=(m={},m[d]=v/12,m[c]=v,m[u]=v/3,m[l]=(y-g)/6048e5,m[a]=(y-g)/864e5,m[i]=y/n,m[s]=y/t,m[o]=y/e,m)[f]||y,$?v:S.a(v)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},h}(),E=C.prototype;return x.prototype=E,[["$ms",r],["$s",o],["$m",s],["$H",i],["$W",a],["$M",c],["$y",d],["$D",p]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),x.extend=function(e,t){return e.$i||(e(t,C,x),e.$i=!0),x},x.locale=_,x.isDayjs=w,x.unix=function(e){return x(1e3*e)},x.en=b[v],x.Ls=b,x.p={},x}()}(bt);const wt=bt.exports;var _t={exports:{}};!function(e,t){e.exports=function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},i=function(e){return(e=+e)+(e>68?1900:2e3)},a=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=s[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=s.meridiem;if(r){for(var o=1;o<=24;o+=1)if(e.indexOf(r(o,0,t))>-1){n=o>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[o,function(e){this.afternoon=u(e,!1)}],a:[o,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,a("seconds")],ss:[r,a("seconds")],m:[r,a("minutes")],mm:[r,a("minutes")],H:[r,a("hours")],h:[r,a("hours")],HH:[r,a("hours")],hh:[r,a("hours")],D:[r,a("day")],DD:[n,a("day")],Do:[o,function(e){var t=s.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,a("month")],MM:[n,a("month")],MMM:[o,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,a("year")],YY:[n,function(e){this.year=i(e)}],YYYY:[/\d{4}/,a("year")],Z:l,ZZ:l};function p(n){var r,o;r=n,o=s&&s.formats;for(var i=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var s=r&&r.toUpperCase();return n||o[r]||e[r]||o[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),a=i.length,l=0;l<a;l+=1){var c=i[l],u=d[c],p=u&&u[0],$=u&&u[1];i[l]=$?{regex:p,parser:$}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<a;n+=1){var o=i[n];if("string"==typeof o)r+=o.length;else{var s=o.regex,l=o.parser,c=e.slice(r),u=s.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(i=e.parseTwoDigitYear);var r=t.prototype,o=r.parse;r.parse=function(e){var t=e.date,r=e.utc,i=e.args;this.$u=r;var a=i[1];if("string"==typeof a){var l=!0===i[2],c=!0===i[3],u=l||c,d=i[2];c&&(d=i[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=p(t)(e),o=r.year,s=r.month,i=r.day,a=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,$=new Date,m=i||(o||s?1:$.getDate()),f=o||$.getFullYear(),h=0;o&&!s||(h=s>0?s-1:$.getMonth());var g=a||0,y=l||0,v=c||0,b=u||0;return d?new Date(Date.UTC(f,h,m,g,y,v,b+60*d.offset*1e3)):n?new Date(Date.UTC(f,h,m,g,y,v,b)):new Date(f,h,m,g,y,v,b)}catch(e){return new Date("")}}(t,a,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var $=a.length,m=1;m<=$;m+=1){i[1]=a[m-1];var f=n.apply(this,i);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}m===$&&(this.$d=new Date(""))}else o.call(this,e)}}}()}(_t);const xt=_t.exports;var St={exports:{}};!function(e,t){e.exports=function(){var e,t,n=1e3,r=6e4,o=36e5,s=864e5,i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,l=2592e6,c=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:a,months:l,days:s,hours:o,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},d=function(e){return e instanceof y},p=function(e,t,n){return new y(e,n,t.$l)},$=function(e){return t.p(e)+"s"},m=function(e){return e<0},f=function(e){return m(e)?Math.ceil(e):Math.floor(e)},h=function(e){return Math.abs(e)},g=function(e,t){return e?m(e)?{negative:!0,format:""+h(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},y=function(){function m(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return p(e*u[$(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[$(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var o=e.match(c);if(o){var s=o.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var h=m.prototype;return h.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*u[n]}),0)},h.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=f(e/a),e%=a,this.$d.months=f(e/l),e%=l,this.$d.days=f(e/s),e%=s,this.$d.hours=f(e/o),e%=o,this.$d.minutes=f(e/r),e%=r,this.$d.seconds=f(e/n),e%=n,this.$d.milliseconds=e},h.toISOString=function(){var e=g(this.$d.years,"Y"),t=g(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=g(n,"D"),o=g(this.$d.hours,"H"),s=g(this.$d.minutes,"M"),i=this.$d.seconds||0;this.$d.milliseconds&&(i+=this.$d.milliseconds/1e3);var a=g(i,"S"),l=e.negative||t.negative||r.negative||o.negative||s.negative||a.negative,c=o.format||s.format||a.format?"T":"",u=(l?"-":"")+"P"+e.format+t.format+r.format+c+o.format+s.format+a.format;return"P"===u||"-P"===u?"P0D":u},h.toJSON=function(){return this.toISOString()},h.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(i,(function(e,t){return t||String(r[e])}))},h.as=function(e){return this.$ms/u[$(e)]},h.get=function(e){var t=this.$ms,n=$(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?f(t/u[n]):this.$d[n],0===t?0:t},h.add=function(e,t,n){var r;return r=t?e*u[$(t)]:d(e)?e.$ms:p(e,this).$ms,p(this.$ms+r*(n?-1:1),this)},h.subtract=function(e,t){return this.add(e,t,!0)},h.locale=function(e){var t=this.clone();return t.$l=e,t},h.clone=function(){return p(this.$ms,this)},h.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},h.milliseconds=function(){return this.get("milliseconds")},h.asMilliseconds=function(){return this.as("milliseconds")},h.seconds=function(){return this.get("seconds")},h.asSeconds=function(){return this.as("seconds")},h.minutes=function(){return this.get("minutes")},h.asMinutes=function(){return this.as("minutes")},h.hours=function(){return this.get("hours")},h.asHours=function(){return this.as("hours")},h.days=function(){return this.get("days")},h.asDays=function(){return this.as("days")},h.weeks=function(){return this.get("weeks")},h.asWeeks=function(){return this.as("weeks")},h.months=function(){return this.get("months")},h.asMonths=function(){return this.as("months")},h.years=function(){return this.get("years")},h.asYears=function(){return this.as("years")},m}();return function(n,r,o){e=o,t=o().$utils(),o.duration=function(e,t){var n=o.locale();return p(e,{$l:n},t)},o.isDuration=d;var s=r.prototype.add,i=r.prototype.subtract;r.prototype.add=function(e,t){return d(e)&&(e=e.asMilliseconds()),s.bind(this)(e,t)},r.prototype.subtract=function(e,t){return d(e)&&(e=e.asMilliseconds()),i.bind(this)(e,t)}}}()}(St);const Ct=St.exports;wt.extend(xt),wt.extend(Ct);let Et=0;function kt(){return Et+=1,`_global-id-${Et}`}function It(e){return"object"==typeof e&&null!==e}function Tt(e){return"number"==typeof e}function Dt(e,t){return It(e)&&t in e}function Mt(e,t){return Dt(e,t)&&"string"==typeof e[t]}function Ot(e){return null!=e}function Nt(e,t){return Ot(e)?e:t}function At(e,t){return void 0===e?void 0:t(e)}function Lt(e){if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024)),n=e/1024**t,r=" KMGTP".charAt(t);return`${n.toFixed(2)} ${r}B`}function Pt(e,t="label"){return Mt(e,t)?e[t]:void 0===e?"":String(e)}function Rt(e){const t=e-1;return t*t*t+1}function Ht(e){return"[object Date]"===Object.prototype.toString.call(e)}function zt(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map(((t,n)=>zt(e[n],t)));return e=>n.map((t=>t(e)))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(Ht(e)&&Ht(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),r={};return n.forEach((n=>{r[n]=zt(e[n],t[n])})),e=>{const t={};return n.forEach((n=>{t[n]=r[n](e)})),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}const Ft={allowPause:!0,duration:0};function jt(e,t={}){const n={...Ft,...t},r=function(e,t={}){const n=mt(e);let r,o=e;function a(a,l){if(null==e)return n.set(e=a),Promise.resolve();o=a;let c=r,u=!1,{delay:d=0,duration:p=400,easing:$=s,interpolate:m=zt}=i(i({},t),l);if(0===p)return c&&(c.abort(),c=null),n.set(e=o),Promise.resolve();const f=k()+d;let h;return r=M((t=>{if(t<f)return!0;u||(h=m(e,a),"function"==typeof p&&(p=p(e,a)),u=!0),c&&(c.abort(),c=null);const r=t-f;return r>p?(n.set(e=a),!1):(n.set(e=h($(r/p))),!0)})),r.promise}return{set:a,update:(t,n)=>a(t(o,e),n),subscribe:n.subscribe}}(e,n);let o=!1,a=e,l=e,{duration:c}=n,u=()=>{};function d(){return new Promise((e=>{u=e}))}return{update:function(e,t){c=t?.duration??n.duration,l=$(r),a=e(a,l);const o=d();return r.set(a,t).then(u),o},set:function(e,t){a=e,c=t?.duration??n.duration;const o=d();return r.update(((t,n)=>(l=n,e)),t).then(u),o},subscribe:r.subscribe,pause:function(){n.allowPause&&(o=!0,r.update(((e,t)=>(a=e,t)),{duration:0}))},resume:function(){if(!o)return;const e=$(r),t=(a-e)/((a-l)/c);r.set(a,{duration:t}).then(u)}}}function qt(e){return function(e){return"object"==typeof e&&null!==e&&"subscribe"in e&&"function"==typeof e.subscribe}(e)?e:$t(e)}function Vt(e){let t=[];return $t(t,(n=>{const r=e.map(((e,r)=>e.subscribe((e=>{t=function(e,t,n){const r=[...e];return r[t]=n,r}(t,r,e),n(t)}))));return()=>r.forEach((e=>e()))}))}const Bt="validationContext";class Wt{constructor(){e(this,"validationResult",mt(!0)),e(this,"validationFunctionMap",new Map)}validate(){let e=!0;for(const t of this.validationFunctionMap.values())e=e&&t();return this.validationResult.set(e),e}addValidator(e,t){this.validationFunctionMap.set(e,t),me((()=>{this.validationFunctionMap.delete(e),this.validate()}))}}function Ut(){const e=new Wt;return he(Bt,e),e}function Yt(){if(!ye(Bt))throw Error("Validation context not present");return ge(Bt)}function Kt(e){if(!e.target)return;return e.target.value}function Gt(e){return e.detail}function Xt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Zt(e){return function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e).toLowerCase()}function Jt(e={}){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function Qt(e=0,t=100){return Math.floor(Math.random()*(t-e+1))+e}function en(e){return Object.entries(e).filter((e=>0===e[0].indexOf("--"))).map((e=>`${e[0]}: ${e[1]};`)).join("")}function tn(...e){return e.filter(Ot).map((e=>{const t=e.trim();return t.endsWith(";")?t:`${t};`})).join("")}function nn(e,t){return Math.ceil(e/t)}function rn(e,t){let{callback:n,references:r}=t;function o(t){r&&$(r)?.some((e=>e?.contains?.(t.target)??!1))||e.contains(t.target)||n(t)}const s="onpointerdown"in document.body?["pointerdown"]:["mousedown","contextmenu"];return s.forEach((e=>{document.body.addEventListener(e,o,!0)})),{update:function(e){n=e.callback,r=e.references},destroy:function(){s.forEach((e=>{document.body.removeEventListener(e,o,!0)}))}}}var on={exports:{}};function sn(e){const t=[{name:"flip"},{name:"preventOverflow",options:{altAxis:!0}},{name:"offset",options:{offset:[0,0]}},...[{name:"setMinWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{const t=Math.min(250,e.state.rects.reference.width);e.state.styles.popper.minWidth=`${t}px`},effect:e=>{const t=e.state.elements.reference.offsetWidth,n=Math.min(250,t);e.state.elements.popper.style.minWidth=`${n}px`}}]];return e.forEach((e=>{const n=t.findIndex((t=>t.name===e.name));-1===n?t.push(e):t[n]=e})),t}function an(e,t){let n,r;function o(t,r){t&&(n=on.exports.createPopper(t,e,{placement:r?.placement||"bottom-start",modifiers:sn(r?.modifiers??[])}))}function s(){n?.destroy(),r=void 0}return o(t.reference,t.options),{update:function(e){const{reference:t,options:i}=e;if(t){if(n)return r!==t?(s(),o(t,i),void(r=t)):void(i&&n.setOptions(i));o(t,i)}else s()},destroy:s}}function ln(e,t){function n(t){t&&t instanceof HTMLElement&&t.appendChild(e)}return n(t??document.querySelector("body")??void 0),{update:n,destroy:function(){e.parentElement?.removeChild(e)}}}!function(e,t){!function(e){function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function r(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function o(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var s=Math.max,i=Math.min,a=Math.round;function l(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function c(){return!/^((?!chrome|android).)*safari/i.test(l())}function u(e,o,s){void 0===o&&(o=!1),void 0===s&&(s=!1);var i=e.getBoundingClientRect(),l=1,u=1;o&&r(e)&&(l=e.offsetWidth>0&&a(i.width)/e.offsetWidth||1,u=e.offsetHeight>0&&a(i.height)/e.offsetHeight||1);var d=(n(e)?t(e):window).visualViewport,p=!c()&&s,$=(i.left+(p&&d?d.offsetLeft:0))/l,m=(i.top+(p&&d?d.offsetTop:0))/u,f=i.width/l,h=i.height/u;return{width:f,height:h,top:m,right:$+f,bottom:m+h,left:$,x:$,y:m}}function d(e){var n=t(e);return{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function p(e){return e?(e.nodeName||"").toLowerCase():null}function $(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function m(e){return u($(e)).left+d(e).scrollLeft}function f(e){return t(e).getComputedStyle(e)}function h(e){var t=f(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function g(e,n,o){void 0===o&&(o=!1);var s,i,l=r(n),c=r(n)&&function(e){var t=e.getBoundingClientRect(),n=a(t.width)/e.offsetWidth||1,r=a(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(n),f=$(n),g=u(e,c,o),y={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(l||!l&&!o)&&(("body"!==p(n)||h(f))&&(y=(s=n)!==t(s)&&r(s)?{scrollLeft:(i=s).scrollLeft,scrollTop:i.scrollTop}:d(s)),r(n)?((v=u(n,!0)).x+=n.clientLeft,v.y+=n.clientTop):f&&(v.x=m(f))),{x:g.left+y.scrollLeft-v.x,y:g.top+y.scrollTop-v.y,width:g.width,height:g.height}}function y(e){var t=u(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function v(e){return"html"===p(e)?e:e.assignedSlot||e.parentNode||(o(e)?e.host:null)||$(e)}function b(e){return["html","body","#document"].indexOf(p(e))>=0?e.ownerDocument.body:r(e)&&h(e)?e:b(v(e))}function w(e,n){var r;void 0===n&&(n=[]);var o=b(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),i=t(o),a=s?[i].concat(i.visualViewport||[],h(o)?o:[]):o,l=n.concat(a);return s?l:l.concat(w(v(a)))}function _(e){return["table","td","th"].indexOf(p(e))>=0}function x(e){return r(e)&&"fixed"!==f(e).position?e.offsetParent:null}function S(e){for(var n=t(e),s=x(e);s&&_(s)&&"static"===f(s).position;)s=x(s);return s&&("html"===p(s)||"body"===p(s)&&"static"===f(s).position)?n:s||function(e){var t=/firefox/i.test(l());if(/Trident/i.test(l())&&r(e)&&"fixed"===f(e).position)return null;var n=v(e);for(o(n)&&(n=n.host);r(n)&&["html","body"].indexOf(p(n))<0;){var s=f(n);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return n;n=n.parentNode}return null}(e)||n}var C="top",E="bottom",k="right",I="left",T="auto",D=[C,E,k,I],M="start",O="end",N="viewport",A="popper",L=D.reduce((function(e,t){return e.concat([t+"-"+M,t+"-"+O])}),[]),P=[].concat(D,[T]).reduce((function(e,t){return e.concat([t,t+"-"+M,t+"-"+O])}),[]),R=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function H(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function z(e){return e.split("-")[0]}function F(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&o(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function j(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function q(e,r,o){return r===N?j(function(e,n){var r=t(e),o=$(e),s=r.visualViewport,i=o.clientWidth,a=o.clientHeight,l=0,u=0;if(s){i=s.width,a=s.height;var d=c();(d||!d&&"fixed"===n)&&(l=s.offsetLeft,u=s.offsetTop)}return{width:i,height:a,x:l+m(e),y:u}}(e,o)):n(r)?function(e,t){var n=u(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(r,o):j(function(e){var t,n=$(e),r=d(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=s(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=s(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),l=-r.scrollLeft+m(e),c=-r.scrollTop;return"rtl"===f(o||n).direction&&(l+=s(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:l,y:c}}($(e)))}function V(e,t,o,a){var l="clippingParents"===t?function(e){var t=w(v(e)),o=["absolute","fixed"].indexOf(f(e).position)>=0&&r(e)?S(e):e;return n(o)?t.filter((function(e){return n(e)&&F(e,o)&&"body"!==p(e)})):[]}(e):[].concat(t),c=[].concat(l,[o]),u=c[0],d=c.reduce((function(t,n){var r=q(e,n,a);return t.top=s(r.top,t.top),t.right=i(r.right,t.right),t.bottom=i(r.bottom,t.bottom),t.left=s(r.left,t.left),t}),q(e,u,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function B(e){return e.split("-")[1]}function W(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function U(e){var t,n=e.reference,r=e.element,o=e.placement,s=o?z(o):null,i=o?B(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case C:t={x:a,y:n.y-r.height};break;case E:t={x:a,y:n.y+n.height};break;case k:t={x:n.x+n.width,y:l};break;case I:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?W(s):null;if(null!=c){var u="y"===c?"height":"width";switch(i){case M:t[c]=t[c]-(n[u]/2-r[u]/2);break;case O:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Y(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function K(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function G(e,t){void 0===t&&(t={});var r=t,o=r.placement,s=void 0===o?e.placement:o,i=r.strategy,a=void 0===i?e.strategy:i,l=r.boundary,c=void 0===l?"clippingParents":l,d=r.rootBoundary,p=void 0===d?N:d,m=r.elementContext,f=void 0===m?A:m,h=r.altBoundary,g=void 0!==h&&h,y=r.padding,v=void 0===y?0:y,b=Y("number"!=typeof v?v:K(v,D)),w=f===A?"reference":A,_=e.rects.popper,x=e.elements[g?w:f],S=V(n(x)?x:x.contextElement||$(e.elements.popper),c,p,a),I=u(e.elements.reference),T=U({reference:I,element:_,strategy:"absolute",placement:s}),M=j(Object.assign({},_,T)),O=f===A?M:I,L={top:S.top-O.top+b.top,bottom:O.bottom-S.bottom+b.bottom,left:S.left-O.left+b.left,right:O.right-S.right+b.right},P=e.modifiersData.offset;if(f===A&&P){var R=P[s];Object.keys(L).forEach((function(e){var t=[k,E].indexOf(e)>=0?1:-1,n=[C,E].indexOf(e)>=0?"y":"x";L[e]+=R[n]*t}))}return L}var X={placement:"bottom",modifiers:[],strategy:"absolute"};function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function J(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,o=void 0===r?[]:r,s=t.defaultOptions,i=void 0===s?X:s;return function(e,t,r){void 0===r&&(r=i);var s,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},X,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],u=!1,d={state:l,setOptions:function(r){var s="function"==typeof r?r(l.options):r;p(),l.options=Object.assign({},i,l.options,s),l.scrollParents={reference:n(e)?w(e):e.contextElement?w(e.contextElement):[],popper:w(t)};var a,u,$=function(e){var t=H(e);return R.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(o,l.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return l.orderedModifiers=$.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:l,name:t,instance:d,options:r}),i=function(){};c.push(s||i)}})),d.update()},forceUpdate:function(){if(!u){var e=l.elements,t=e.reference,n=e.popper;if(Z(t,n)){l.rects={reference:g(t,S(n),"fixed"===l.options.strategy),popper:y(n)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var o=l.orderedModifiers[r],s=o.fn,i=o.options,a=void 0===i?{}:i,c=o.name;"function"==typeof s&&(l=s({state:l,options:a,name:c,instance:d})||l)}else l.reset=!1,r=-1}}},update:(s=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(s())}))}))),a}),destroy:function(){p(),u=!0}};if(!Z(e,t))return d;function p(){c.forEach((function(e){return e()})),c=[]}return d.setOptions(r).then((function(e){!u&&r.onFirstUpdate&&r.onFirstUpdate(e)})),d}}var Q={passive:!0},ee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var n=e.state,r=e.instance,o=e.options,s=o.scroll,i=void 0===s||s,a=o.resize,l=void 0===a||a,c=t(n.elements.popper),u=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",r.update,Q)})),l&&c.addEventListener("resize",r.update,Q),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",r.update,Q)})),l&&c.removeEventListener("resize",r.update,Q)}},data:{}},te={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=U({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function re(e){var n,r=e.popper,o=e.popperRect,s=e.placement,i=e.variation,l=e.offsets,c=e.position,u=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,m=e.isFixed,h=l.x,g=void 0===h?0:h,y=l.y,v=void 0===y?0:y,b="function"==typeof p?p({x:g,y:v}):{x:g,y:v};g=b.x,v=b.y;var w=l.hasOwnProperty("x"),_=l.hasOwnProperty("y"),x=I,T=C,D=window;if(d){var M=S(r),N="clientHeight",A="clientWidth";M===t(r)&&"static"!==f(M=$(r)).position&&"absolute"===c&&(N="scrollHeight",A="scrollWidth"),(s===C||(s===I||s===k)&&i===O)&&(T=E,v-=(m&&M===D&&D.visualViewport?D.visualViewport.height:M[N])-o.height,v*=u?1:-1),s!==I&&(s!==C&&s!==E||i!==O)||(x=k,g-=(m&&M===D&&D.visualViewport?D.visualViewport.width:M[A])-o.width,g*=u?1:-1)}var L,P=Object.assign({position:c},d&&ne),R=!0===p?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:a(t*r)/r||0,y:a(n*r)/r||0}}({x:g,y:v}):{x:g,y:v};return g=R.x,v=R.y,u?Object.assign({},P,((L={})[T]=_?"0":"",L[x]=w?"0":"",L.transform=(D.devicePixelRatio||1)<=1?"translate("+g+"px, "+v+"px)":"translate3d("+g+"px, "+v+"px, 0)",L)):Object.assign({},P,((n={})[T]=_?v+"px":"",n[x]=w?g+"px":"",n.transform="",n))}var oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,s=n.adaptive,i=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:z(t.placement),variation:B(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,re(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,re(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},se={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},o=t.attributes[e]||{},s=t.elements[e];r(s)&&p(s)&&(Object.assign(s.style,n),Object.keys(o).forEach((function(e){var t=o[e];!1===t?s.removeAttribute(e):s.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],s=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});r(o)&&p(o)&&(Object.assign(o.style,i),Object.keys(s).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]},ie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=void 0===o?[0,0]:o,i=P.reduce((function(e,n){return e[n]=function(e,t,n){var r=z(e),o=[I,C].indexOf(r)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[I,k].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}(n,t.rects,s),e}),{}),a=i[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=i}},ae={left:"right",right:"left",bottom:"top",top:"bottom"};function le(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var ce={start:"end",end:"start"};function ue(e){return e.replace(/start|end/g,(function(e){return ce[e]}))}function de(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?P:l,u=B(r),d=u?a?L:L.filter((function(e){return B(e)===u})):D,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var $=p.reduce((function(t,n){return t[n]=G(e,{placement:n,boundary:o,rootBoundary:s,padding:i})[z(n)],t}),{});return Object.keys($).sort((function(e,t){return $[e]-$[t]}))}var pe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=void 0===o||o,i=n.altAxis,a=void 0===i||i,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,$=n.flipVariations,m=void 0===$||$,f=n.allowedAutoPlacements,h=t.options.placement,g=z(h),y=l||(g!==h&&m?function(e){if(z(e)===T)return[];var t=le(e);return[ue(e),t,ue(t)]}(h):[le(h)]),v=[h].concat(y).reduce((function(e,n){return e.concat(z(n)===T?de(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)}),[]),b=t.rects.reference,w=t.rects.popper,_=new Map,x=!0,S=v[0],D=0;D<v.length;D++){var O=v[D],N=z(O),A=B(O)===M,L=[C,E].indexOf(N)>=0,P=L?"width":"height",R=G(t,{placement:O,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),H=L?A?k:I:A?E:C;b[P]>w[P]&&(H=le(H));var F=le(H),j=[];if(s&&j.push(R[N]<=0),a&&j.push(R[H]<=0,R[F]<=0),j.every((function(e){return e}))){S=O,x=!1;break}_.set(O,j)}if(x)for(var q=function(e){var t=v.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},V=m?3:1;V>0&&"break"!==q(V);V--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $e(e,t,n){return s(e,i(t,n))}var me={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,l=n.altAxis,c=void 0!==l&&l,u=n.boundary,d=n.rootBoundary,p=n.altBoundary,$=n.padding,m=n.tether,f=void 0===m||m,h=n.tetherOffset,g=void 0===h?0:h,v=G(t,{boundary:u,rootBoundary:d,padding:$,altBoundary:p}),b=z(t.placement),w=B(t.placement),_=!w,x=W(b),T="x"===x?"y":"x",D=t.modifiersData.popperOffsets,O=t.rects.reference,N=t.rects.popper,A="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,L="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(D){if(a){var H,F="y"===x?C:I,j="y"===x?E:k,q="y"===x?"height":"width",V=D[x],U=V+v[F],Y=V-v[j],K=f?-N[q]/2:0,X=w===M?O[q]:N[q],Z=w===M?-N[q]:-O[q],J=t.elements.arrow,Q=f&&J?y(J):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[F],ne=ee[j],re=$e(0,O[q],Q[q]),oe=_?O[q]/2-K-re-te-L.mainAxis:X-re-te-L.mainAxis,se=_?-O[q]/2+K+re+ne+L.mainAxis:Z+re+ne+L.mainAxis,ie=t.elements.arrow&&S(t.elements.arrow),ae=ie?"y"===x?ie.clientTop||0:ie.clientLeft||0:0,le=null!=(H=null==P?void 0:P[x])?H:0,ce=V+se-le,ue=$e(f?i(U,V+oe-le-ae):U,V,f?s(Y,ce):Y);D[x]=ue,R[x]=ue-V}if(c){var de,pe="x"===x?C:I,me="x"===x?E:k,fe=D[T],he="y"===T?"height":"width",ge=fe+v[pe],ye=fe-v[me],ve=-1!==[C,I].indexOf(b),be=null!=(de=null==P?void 0:P[T])?de:0,we=ve?ge:fe-O[he]-N[he]-be+L.altAxis,_e=ve?fe+O[he]+N[he]-be-L.altAxis:ye,xe=f&&ve?function(e,t,n){var r=$e(e,t,n);return r>n?n:r}(we,fe,_e):$e(f?we:ge,fe,f?_e:ye);D[T]=xe,R[T]=xe-fe}t.modifiersData[r]=R}},requiresIfExists:["offset"]},fe={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=z(n.placement),l=W(a),c=[I,k].indexOf(a)>=0?"height":"width";if(s&&i){var u=function(e,t){return Y("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:K(e,D))}(o.padding,n),d=y(s),p="y"===l?C:I,$="y"===l?E:k,m=n.rects.reference[c]+n.rects.reference[l]-i[l]-n.rects.popper[c],f=i[l]-n.rects.reference[l],h=S(s),g=h?"y"===l?h.clientHeight||0:h.clientWidth||0:0,v=m/2-f/2,b=u[p],w=g-d[c]-u[$],_=g/2-d[c]/2+v,x=$e(b,_,w),T=l;n.modifiersData[r]=((t={})[T]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&F(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function he(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ge(e){return[C,k,E,I].some((function(t){return e[t]>=0}))}var ye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,i=G(t,{elementContext:"reference"}),a=G(t,{altBoundary:!0}),l=he(i,r),c=he(a,o,s),u=ge(l),d=ge(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}},ve=J({defaultModifiers:[ee,te,oe,se]}),be=[ee,te,oe,se,ie,pe,me,fe,ye],we=J({defaultModifiers:be});e.applyStyles=se,e.arrow=fe,e.computeStyles=oe,e.createPopper=we,e.createPopperLite=ve,e.defaultModifiers=be,e.detectOverflow=G,e.eventListeners=ee,e.flip=pe,e.hide=ye,e.offset=ie,e.popperGenerator=J,e.popperOffsets=te,e.preventOverflow=me,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(0,on.exports);const cn={onMove:()=>{},onStart:()=>{},onStop:()=>{},min:0,max:1/0,axis:"x",invert:!1};function un(e,t){const n=function(e){return"touches"in e}(e)?e.touches[0]:e;return"x"===t?n.clientX:n.clientY}function dn(e){e.preventDefault()}function pn(e,t){const n=function(e){return{...cn,...e}}(t);let r=0,o=0,s=0;function i(e){const t=n.invert?-1:1,i=un(e,n.axis)-o,a=function(e){return Math.min(Math.max(e,n.min),n.max)}(r+i*t);!function(e){s=e,n.onMove(s)}(a)}function a(){n.onStop(s),window.removeEventListener("mousemove",i,!0),window.removeEventListener("touchmove",i,!0),window.removeEventListener("mouseup",a,!0),window.removeEventListener("touchend",a,!0),window.removeEventListener("touchcancel",a,!0),window.removeEventListener("selectstart",dn,!0)}function l(e){n.onStart(),r=n.getStartingValue(),o=un(e,n.axis),window.addEventListener("mousemove",i,!0),window.addEventListener("touchmove",i,!0),window.addEventListener("mouseup",a,!0),window.addEventListener("touchend",a,!0),window.addEventListener("touchcancel",a,!0),window.addEventListener("selectstart",dn,!0)}return e.addEventListener("mousedown",l),e.addEventListener("touchstart",l,{passive:!1}),{destroy(){e.removeEventListener("mousedown",l),e.removeEventListener("touchstart",l)}}}function $n(e){let t,n;const r=e[7].default,o=f(r,e,e[6],null);let s=[e[2],{href:e[0]},{class:e[1]}],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("a"),o&&o.c(),Y(t,a)},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||64&i)&&y(o,r,e,e[6],n?g(r,e[6],i,null):v(e[6]),null),Y(t,a=et(s,[4&i&&e[2],(!n||1&i)&&{href:e[0]},(!n||2&i)&&{class:e[1]}]))},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function mn(e,t,n){let r;const o=["href","appearance","size","class"];let s=w(t,o),{$$slots:a={},$$scope:l}=t,{href:c}=t,{appearance:u="default"}=t,{size:d="medium"}=t,{class:p=""}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,o)),"href"in e&&n(0,c=e.href),"appearance"in e&&n(3,u=e.appearance),"size"in e&&n(4,d=e.size),"class"in e&&n(5,p=e.class),"$$scope"in e&&n(6,l=e.$$scope)},e.$$.update=()=>{56&e.$$.dirty&&n(1,r=["anchor-button","btn",`btn-${u}`,`size-${d}`,p].join(" "))},[c,r,s,u,d,p,l,a]}class fn extends at{constructor(e){super(),it(this,e,mn,$n,d,{href:0,appearance:3,size:4,class:5})}}function hn(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("span"),o&&o.c(),U(t,"class","badge")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function gn(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class yn extends at{constructor(e){super(),it(this,e,gn,hn,d,{})}}function vn(e){let t,n;return t=new yn({props:{$$slots:{default:[bn]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bn(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},d(e){e&&P(t)}}}function wn(e){let t,n,r=e[0]>0&&vn(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0]>0?r?(r.p(e,n),1&n&&je(r,1)):(r=vn(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function _n(e,t,n){let{value:r}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value)},[r]}class xn extends at{constructor(e){super(),it(this,e,_n,wn,d,{value:0})}}const Sn=e=>({}),Cn=e=>({}),En=e=>({}),kn=e=>({}),In=e=>({}),Tn=e=>({});function Dn(e){let t,n,r;const o=e[3].title,s=f(o,e,e[2],Tn);return{c(){t=H("div"),n=H("div"),s&&s.c(),U(n,"class","title"),U(t,"class","title-and-meta")},m(e,o){L(e,t,o),O(t,n),s&&s.m(n,null),r=!0},p(e,t){s&&s.p&&(!r||4&t)&&y(s,o,e,e[2],r?g(o,e[2],t,In):v(e[2]),Tn)},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e)}}}function Mn(e){let t,n;const r=e[3].body,o=f(r,e,e[2],kn);return{c(){t=H("div"),o&&o.c(),U(t,"class","body")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&y(o,r,e,e[2],n?g(r,e[2],t,En):v(e[2]),kn)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function On(e){let t,n;const r=e[3].footer,o=f(r,e,e[2],Cn);return{c(){t=H("div"),o&&o.c(),U(t,"class","footer")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&y(o,r,e,e[2],n?g(r,e[2],t,Sn):v(e[2]),Cn)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function Nn(e){let t,n,r,o,s,i=e[1].title&&Dn(e),a=e[1].body&&Mn(e),l=e[1].footer&&On(e);return{c(){t=H("div"),i&&i.c(),n=j(),a&&a.c(),r=j(),l&&l.c(),U(t,"class",o=["tutorial",e[0]].join(" "))},m(e,o){L(e,t,o),i&&i.m(t,null),O(t,n),a&&a.m(t,null),O(t,r),l&&l.m(t,null),s=!0},p(e,[c]){e[1].title?i?(i.p(e,c),2&c&&je(i,1)):(i=Dn(e),i.c(),je(i,1),i.m(t,n)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[1].body?a?(a.p(e,c),2&c&&je(a,1)):(a=Mn(e),a.c(),je(a,1),a.m(t,r)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),e[1].footer?l?(l.p(e,c),2&c&&je(l,1)):(l=On(e),l.c(),je(l,1),l.m(t,null)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()),(!s||1&c&&o!==(o=["tutorial",e[0]].join(" ")))&&U(t,"class",o)},i(e){s||(je(i),je(a),je(l),s=!0)},o(e){qe(i),qe(a),qe(l),s=!1},d(e){e&&P(t),i&&i.d(),a&&a.d(),l&&l.d()}}}function An(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r);let{class:i=""}=t;return e.$$set=e=>{"class"in e&&n(0,i=e.class),"$$scope"in e&&n(2,o=e.$$scope)},[i,s,o,r]}class Ln extends at{constructor(e){super(),it(this,e,An,Nn,d,{class:0})}}function Pn(e){let t,n,r,o;const s=e[9].default,a=f(s,e,e[8],null);let l=[{type:"button"},{class:e[3]},e[4]],u={};for(let c=0;c<l.length;c+=1)u=i(u,l[c]);return{c(){t=H("button"),a&&a.c(),Y(t,u),te(t,"danger",e[1]),te(t,"active",e[2])},m(s,i){L(s,t,i),a&&a.m(t,null),t.autofocus&&t.focus(),e[17](t),n=!0,r||(o=[V(t,"click",e[10]),V(t,"keydown",e[11]),V(t,"focus",e[12]),V(t,"blur",e[13]),V(t,"mouseenter",e[14]),V(t,"mouseleave",e[15]),V(t,"mousedown",e[16])],r=!0)},p(e,[r]){a&&a.p&&(!n||256&r)&&y(a,s,e,e[8],n?g(s,e[8],r,null):v(e[8]),null),Y(t,u=et(l,[{type:"button"},(!n||8&r)&&{class:e[3]},16&r&&e[4]])),te(t,"danger",e[1]),te(t,"active",e[2])},i(e){n||(je(a,e),n=!0)},o(e){qe(a,e),n=!1},d(n){n&&P(t),a&&a.d(n),e[17](null),r=!1,c(o)}}}function Rn(e,t,n){let r;const o=["appearance","size","danger","active","class","element"];let s=w(t,o),{$$slots:a={},$$scope:l}=t,{appearance:c="default"}=t,{size:u="medium"}=t,{danger:d=!1}=t,{active:p=!1}=t,{class:$=""}=t,{element:m}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(4,s=w(t,o)),"appearance"in e&&n(5,c=e.appearance),"size"in e&&n(6,u=e.size),"danger"in e&&n(1,d=e.danger),"active"in e&&n(2,p=e.active),"class"in e&&n(7,$=e.class),"element"in e&&n(0,m=e.element),"$$scope"in e&&n(8,l=e.$$scope)},e.$$.update=()=>{224&e.$$.dirty&&n(3,r=["btn",`btn-${c}`,`size-${u}`,$].join(" "))},[m,d,p,r,s,c,u,$,l,a,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{m=e,n(0,m)}))}]}class Hn extends at{constructor(e){super(),it(this,e,Rn,Pn,d,{appearance:5,size:6,danger:1,active:2,class:7,element:0})}}var zn={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},Fn={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},jn={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},qn={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Vn={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Bn={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},Wn={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},Un={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},Yn={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},Kn={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},Gn={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[448,512,["external-link"],"f08e","M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},Xn=Gn,Zn={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},Jn={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Qn={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},er=Qn,tr={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},nr={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},rr={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},or={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},sr={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},ir={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},ar={prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},lr={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},cr=lr,ur={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},dr={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]};const pr={data:{prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]}},$r={data:{prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]}},mr={data:{prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]}},fr={data:{prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]}},hr={data:cr},gr={data:{prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]}},yr={data:{prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]}},vr={data:ur},br={data:{prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]}},wr={data:{prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]}},_r={data:{prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]}},xr={data:{prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]}},Sr={data:{prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]}},Cr={data:Gn},Er={data:{prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]}},kr={data:{prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]}},Ir={data:{prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]}},Tr={data:{prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]},spin:!0},Dr={data:ur};function Mr(e){let t,n;const r=[Tr,{size:e[0]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=1&n?et(r,[0&n&&tt(Tr),1&n&&{size:e[0]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Or(e,t,n){let{size:r}=t;return e.$$set=e=>{"size"in e&&n(0,r=e.size)},[r]}class Nr extends at{constructor(e){super(),it(this,e,Or,Mr,d,{size:0})}}function Ar(e){let t,n,r,o;return{c(){t=z("path"),U(t,"d",n=e[0].path),U(t,"fill-rule",r=e[0].fillRule),U(t,"clip-rule",o=e[0].clipRule),U(t,"style",e[1])},m(e,n){L(e,t,n)},p(e,s){1&s&&n!==(n=e[0].path)&&U(t,"d",n),1&s&&r!==(r=e[0].fillRule)&&U(t,"fill-rule",r),1&s&&o!==(o=e[0].clipRule)&&U(t,"clip-rule",o),2&s&&U(t,"style",e[1])},d(e){e&&P(t)}}}function Lr(e){let t;return{c(){t=z("path"),U(t,"d",e[0]),U(t,"style",e[1])},m(e,n){L(e,t,n)},p(e,n){1&n&&U(t,"d",e[0]),2&n&&U(t,"style",e[1])},d(e){e&&P(t)}}}function Pr(e){let t;function n(e,t){return"string"==typeof e[0]?Lr:Ar}let r=n(e),s=r(e);return{c(){s.c(),t=q()},m(e,n){s.m(e,n),L(e,t,n)},p(e,[o]){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},i:o,o:o,d(e){s.d(e),e&&P(t)}}}function Rr(e,t,n){let{path:r}=t,{style:o}=t;return e.$$set=e=>{"path"in e&&n(0,r=e.path),"style"in e&&n(1,o=e.style)},[r,o]}class Hr extends at{constructor(e){super(),it(this,e,Rr,Pr,d,{path:0,style:1})}}function zr(e,t,n){if(!n)return;const r=function(e,t,n){const{cx:r,cy:o}=n,s=1.4*n.r;return["M 0 0",`L 0 ${t}`,`L ${e} ${t}`,`L ${e} 0`,"L 0 0","z",`M ${r} ${o-s}`,`A ${s} ${s} 0 0 1 ${r+s} ${o}`,`A ${s} ${s} 0 0 1 ${r} ${o+s}`,`A ${s} ${s} 0 0 1 ${r-s} ${o}`,`A ${s} ${s} 0 0 1 ${r} ${o-s}`,"z"].join(" ")}(e,t,n);return`clip-path: path('${r}');`}function Fr(e,t,n){const r=e.slice();return r[16]=t[n],r}function jr(e){let t,n;return{c(){t=z("title"),n=F(e[4])},m(e,r){L(e,t,r),O(t,n)},p(e,t){16&t&&G(n,e[4])},d(e){e&&P(t)}}}function qr(e){let t,n;return t=new Hr({props:{path:e[9],style:zr(e[6],e[5],e[8])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.path=e[9]),352&n&&(r.style=zr(e[6],e[5],e[8])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vr(e){let t,n,r=[],o=new Map,s=e[9];const i=e=>e[16];for(let a=0;a<s.length;a+=1){let t=Fr(e,s,a),n=i(t);o.set(n,r[a]=Br(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){864&n&&(s=e[9],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,Br,t,Fr),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function Br(e,t){let n,r,o;return r=new Hr({props:{path:t[16],style:zr(t[6],t[5],t[8])}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};512&n&&(o.path=t[16]),352&n&&(o.style=zr(t[6],t[5],t[8])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Wr(e){let t,n=[{class:"notification-dot"},e[8]],r={};for(let o=0;o<n.length;o+=1)r=i(r,n[o]);return{c(){t=z("circle"),K(t,r)},m(e,n){L(e,t,n)},p(e,o){K(t,r=et(n,[{class:"notification-dot"},256&o&&e[8]]))},d(e){e&&P(t)}}}function Ur(e){let t,n,r,o,s,a,l,c,u,d=e[4]&&jr(e);const p=[Vr,qr],$=[];function m(e,t){return 512&t&&(r=null),null==r&&(r=!!Array.isArray(e[9])),r?0:1}o=m(e,-1),s=$[o]=p[o](e);let f=e[8]&&Wr(e),h=[{version:"1.1"},{viewBox:l="0 0 "+e[6]+" "+e[5]},{width:"1em"},{height:"1em"},{class:e[7]},{"aria-label":e[3]},{role:c=e[3]?"img":"presentation"},e[10]],g={};for(let y=0;y<h.length;y+=1)g=i(g,h[y]);return{c(){t=z("svg"),d&&d.c(),n=q(),s.c(),a=q(),f&&f.c(),K(t,g),te(t,"fa-spin",e[1]),te(t,"fa-pulse",e[2]),Z(t,"font-size",e[0],!1)},m(e,r){L(e,t,r),d&&d.m(t,null),O(t,n),$[o].m(t,null),O(t,a),f&&f.m(t,null),u=!0},p(e,[r]){e[4]?d?d.p(e,r):(d=jr(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null);let i=o;o=m(e,r),o===i?$[o].p(e,r):(ze(),qe($[i],1,1,(()=>{$[i]=null})),Fe(),s=$[o],s?s.p(e,r):(s=$[o]=p[o](e),s.c()),je(s,1),s.m(t,a)),e[8]?f?f.p(e,r):(f=Wr(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),K(t,g=et(h,[{version:"1.1"},(!u||96&r&&l!==(l="0 0 "+e[6]+" "+e[5]))&&{viewBox:l},{width:"1em"},{height:"1em"},(!u||128&r)&&{class:e[7]},(!u||8&r)&&{"aria-label":e[3]},(!u||8&r&&c!==(c=e[3]?"img":"presentation"))&&{role:c},1024&r&&e[10]])),te(t,"fa-spin",e[1]),te(t,"fa-pulse",e[2]),Z(t,"font-size",e[0],!1)},i(e){u||(je(s),u=!0)},o(e){qe(s),u=!1},d(e){e&&P(t),d&&d.d(),$[o].d(),f&&f.d()}}}function Yr(e,t,n){let r,o,s,a;const l=["data","size","spin","pulse","flip","rotate","class","label","title","hasNotificationDot"];let c,u=w(t,l),{data:d}=t,{size:p="1em"}=t,{spin:$=!1}=t,{pulse:m=!1}=t,{flip:f}=t,{rotate:h}=t,{class:g=""}=t,{label:y}=t,{title:v}=t,{hasNotificationDot:_=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(10,u=w(t,l)),"data"in e&&n(11,d=e.data),"size"in e&&n(0,p=e.size),"spin"in e&&n(1,$=e.spin),"pulse"in e&&n(2,m=e.pulse),"flip"in e&&n(12,f=e.flip),"rotate"in e&&n(13,h=e.rotate),"class"in e&&n(14,g=e.class),"label"in e&&n(3,y=e.label),"title"in e&&n(4,v=e.title),"hasNotificationDot"in e&&n(15,_=e.hasNotificationDot)},e.$$.update=()=>{2048&e.$$.dirty&&n(6,[r,o,,,s]=d.icon,r,(n(5,o),n(11,d)),(n(9,s),n(11,d))),28672&e.$$.dirty&&n(7,c=function(e,t,n){const r=["fa-icon"];return e&&r.push(e),t&&r.push(`fa-flip-${t}`),n&&r.push(`fa-rotate-${n}`),r.join(" ")}(g,f,h)),32864&e.$$.dirty&&n(8,a=_?function(e,t){const n=.22*Math.min(t,e);return{r:n,cx:e-n,cy:n}}(r,o):void 0)},[p,$,m,y,v,o,r,c,a,s,u,d,f,h,g,_]}class Kr extends at{constructor(e){super(),it(this,e,Yr,Ur,d,{data:11,size:0,spin:1,pulse:2,flip:12,rotate:13,class:14,label:3,title:4,hasNotificationDot:15})}}function Gr(e){let t,n;const r=[e[2]];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=4&n?et(r,[tt(e[2])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xr(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zr(e){let t,n;return{c(){t=H("span"),n=F(e[1])},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&G(n,e[1])},d(e){e&&P(t)}}}function Jr(e){let t,n,r,o,s;const i=[Xr,Gr],a=[];function l(e,t){return e[0]?0:e[2]?1:-1}~(t=l(e))&&(n=a[t]=i[t](e));let c=e[1]&&Zr(e);return{c(){n&&n.c(),r=j(),c&&c.c(),o=q()},m(e,n){~t&&a[t].m(e,n),L(e,r,n),c&&c.m(e,n),L(e,o,n),s=!0},p(e,s){let u=t;t=l(e),t===u?~t&&a[t].p(e,s):(n&&(ze(),qe(a[u],1,1,(()=>{a[u]=null})),Fe()),~t?(n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null),e[1]?c?c.p(e,s):(c=Zr(e),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},i(e){s||(je(n),s=!0)},o(e){qe(n),s=!1},d(e){~t&&a[t].d(e),e&&P(r),c&&c.d(e),e&&P(o)}}}function Qr(e){let t,n;const r=[{appearance:e[4]},{disabled:e[3]||e[0]},e[6]];let o={$$slots:{default:[Jr]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Hn({props:o}),t.$on("click",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=89&n?et(r,[16&n&&{appearance:e[4]},9&n&&{disabled:e[3]||e[0]},64&n&&tt(e[6])]):{};519&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eo(e,t,n){const r=["label","icon","onClick","confirm","disabled","isProcessing","appearance","proceed"];let o=w(t,r),{label:s="Proceed"}=t,{icon:a}=t,{onClick:l=(()=>{})}=t,{confirm:c=(async()=>!0)}=t,{disabled:u=!1}=t,{isProcessing:d=!1}=t,{appearance:p="primary"}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(6,o=w(t,r)),"label"in e&&n(1,s=e.label),"icon"in e&&n(2,a=e.icon),"onClick"in e&&n(7,l=e.onClick),"confirm"in e&&n(8,c=e.confirm),"disabled"in e&&n(3,u=e.disabled),"isProcessing"in e&&n(0,d=e.isProcessing),"appearance"in e&&n(4,p=e.appearance)},[d,s,a,u,p,async function(){if(await c()){n(0,d=!0);try{await l()}finally{n(0,d=!1)}}},o,l,c]}class to extends at{constructor(e){super(),it(this,e,eo,Qr,d,{label:1,icon:2,onClick:7,confirm:8,disabled:3,isProcessing:0,appearance:4,proceed:5})}get proceed(){return this.$$.ctx[5]}}function no(e){let t,n;return t=new Hn({props:{appearance:"secondary",disabled:e[0]||!e[4],size:e[5],$$slots:{default:[oo]},$$scope:{ctx:e}}}),t.$on("click",(function(){u(e[1])&&e[1].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};17&r&&(o.disabled=e[0]||!e[4]),32&r&&(o.size=e[5]),131584&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ro(e){let t,n;const r=[e[9].icon];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=512&n?et(r,[tt(e[9].icon)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function oo(e){let t,n,r,o,s=e[9].label+"",i=e[9].icon&&ro(e);return{c(){i&&i.c(),t=j(),n=H("span"),r=F(s)},m(e,s){i&&i.m(e,s),L(e,t,s),L(e,n,s),O(n,r),o=!0},p(e,n){e[9].icon?i?(i.p(e,n),512&n&&je(i,1)):(i=ro(e),i.c(),je(i,1),i.m(t.parentNode,t)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),(!o||512&n)&&s!==(s=e[9].label+"")&&G(r,s)},i(e){o||(je(i),o=!0)},o(e){qe(i),o=!1},d(e){i&&i.d(e),e&&P(t),e&&P(n)}}}function so(e){let t,n,r,o,s,i,a=e[6]&&no(e);function l(t){e[13](t)}function c(t){e[14](t)}let u={onClick:e[2],icon:e[8].icon,label:e[8].label,disabled:e[0]||!e[3],size:e[5]};return void 0!==e[0]&&(u.isProcessing=e[0]),void 0!==e[7]&&(u.proceed=e[7]),r=new to({props:u}),we.push((()=>nt(r,"isProcessing",l))),we.push((()=>nt(r,"proceed",c))),{c(){t=H("div"),a&&a.c(),n=j(),rt(r.$$.fragment),U(t,"class","cancel-or-proceed-button-pair"),te(t,"has-cancel-button",e[6])},m(e,o){L(e,t,o),a&&a.m(t,null),O(t,n),ot(r,t,null),i=!0},p(e,[l]){e[6]?a?(a.p(e,l),64&l&&je(a,1)):(a=no(e),a.c(),je(a,1),a.m(t,n)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe());const c={};4&l&&(c.onClick=e[2]),256&l&&(c.icon=e[8].icon),256&l&&(c.label=e[8].label),9&l&&(c.disabled=e[0]||!e[3]),32&l&&(c.size=e[5]),!o&&1&l&&(o=!0,c.isProcessing=e[0],Te((()=>o=!1))),!s&&128&l&&(s=!0,c.proceed=e[7],Te((()=>s=!1))),r.$set(c),(!i||64&l)&&te(t,"has-cancel-button",e[6])},i(e){i||(je(a),je(r.$$.fragment,e),i=!0)},o(e){qe(a),qe(r.$$.fragment,e),i=!1},d(e){e&&P(t),a&&a.d(),st(r)}}}function io(e,t,n){let r,o;const s={label:"Cancel"},i={label:"Proceed",icon:vr};let{cancelButton:a={}}=t,{proceedButton:l={}}=t,{onCancel:c=(()=>{})}=t,{onProceed:u=(()=>{})}=t,{canProceed:d=!0}=t,{canCancel:p=!0}=t,{isProcessing:$=!1}=t,{size:m}=t,{hasCancelButton:f=!0}=t,h=async()=>{};return e.$$set=e=>{"cancelButton"in e&&n(10,a=e.cancelButton),"proceedButton"in e&&n(11,l=e.proceedButton),"onCancel"in e&&n(1,c=e.onCancel),"onProceed"in e&&n(2,u=e.onProceed),"canProceed"in e&&n(3,d=e.canProceed),"canCancel"in e&&n(4,p=e.canCancel),"isProcessing"in e&&n(0,$=e.isProcessing),"size"in e&&n(5,m=e.size),"hasCancelButton"in e&&n(6,f=e.hasCancelButton)},e.$$.update=()=>{1024&e.$$.dirty&&n(9,r={...s,...a}),2048&e.$$.dirty&&n(8,o={...i,...l})},[$,c,u,d,p,m,f,h,o,r,a,l,function(){return h()},function(e){$=e,n(0,$)},function(e){h=e,n(7,h)}]}class ao extends at{constructor(e){super(),it(this,e,io,so,d,{cancelButton:10,proceedButton:11,onCancel:1,onProceed:2,canProceed:3,canCancel:4,isProcessing:0,size:5,hasCancelButton:6,proceed:12})}get proceed(){return this.$$.ctx[12]}}class lo{constructor(){e(this,"disabled",mt(!1)),e(this,"inputId",mt(kt()))}}const co={};function uo(e){he(co,e)}function po(){return ge(co)}function $o(e,t,n){let{id:r=kt()}=t,{labelController:o=po()}=t,{disabled:s=!1}=t,{focusOnMount:i=!1}=t;return $e((async()=>{if(await ke(),i){document.querySelector(`#${r}`)?.focus()}})),e.$$set=e=>{"id"in e&&n(0,r=e.id),"labelController"in e&&n(1,o=e.labelController),"disabled"in e&&n(2,s=e.disabled),"focusOnMount"in e&&n(3,i=e.focusOnMount)},e.$$.update=()=>{6&e.$$.dirty&&o?.disabled.set(s),3&e.$$.dirty&&o?.inputId.set(r)},[r,o,s,i]}class mo extends at{constructor(e){super(),it(this,e,$o,null,d,{id:0,labelController:1,disabled:2,focusOnMount:3})}}function fo(e){let t,n,r,o,s,a,l,u;const d=[e[6],{disabled:e[3]}];function p(t){e[10](t)}let $={};for(let c=0;c<d.length;c+=1)$=i($,d[c]);void 0!==e[1]&&($.id=e[1]),t=new mo({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[6],{class:"checkbox"},{type:"checkbox"},{id:e[1]},{checked:s=e[0]??void 0},{indeterminate:e[4]},{disabled:e[3]},{value:e[2]}],f={};for(let c=0;c<m.length;c+=1)f=i(f,m[c]);return{c(){rt(t.$$.fragment),r=j(),o=H("input"),Y(o,f)},m(n,s){ot(t,n,s),L(n,r,s),L(n,o,s),o.autofocus&&o.focus(),a=!0,l||(u=[V(o,"change",e[5]),V(o,"click",e[8]),V(o,"mousedown",e[9])],l=!0)},p(e,[r]){const i=72&r?et(d,[64&r&&tt(e[6]),8&r&&{disabled:e[3]}]):{};!n&&2&r&&(n=!0,i.id=e[1],Te((()=>n=!1))),t.$set(i),Y(o,f=et(m,[64&r&&e[6],{class:"checkbox"},{type:"checkbox"},(!a||2&r)&&{id:e[1]},(!a||1&r&&s!==(s=e[0]??void 0))&&{checked:s},(!a||16&r)&&{indeterminate:e[4]},(!a||8&r)&&{disabled:e[3]},(!a||4&r)&&{value:e[2]}]))},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),a=!1},d(e){st(t,e),e&&P(r),e&&P(o),l=!1,c(u)}}}function ho(e,t,n){let r;const o=["checked","allowIndeterminate","value","disabled","id"];let s=w(t,o);const a=fe();let{checked:l=!1}=t,{allowIndeterminate:c=!1}=t,{value:u}=t,{disabled:d=!1}=t,{id:p}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(6,s=w(t,o)),"checked"in e&&n(0,l=e.checked),"allowIndeterminate"in e&&n(7,c=e.allowIndeterminate),"value"in e&&n(2,u=e.value),"disabled"in e&&n(3,d=e.disabled),"id"in e&&n(1,p=e.id)},e.$$.update=()=>{129&e.$$.dirty&&n(4,r=c&&null===l)},[l,p,u,d,r,function(){n(0,l=!l),a("change",l)},s,c,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){p=e,n(1,p)}]}class go extends at{constructor(e){super(),it(this,e,ho,fo,d,{checked:0,allowIndeterminate:7,value:2,disabled:3,id:1})}}function yo(e){return`${e}-label`}const vo=e=>({inputId:8&e}),bo=e=>({inputId:e[3]});function wo(e){let t,n,r,o,s;const a=e[9].default,l=f(a,e,e[8],bo);let c=[{for:e[3]},e[6],{style:e[0]},{class:"label-component"},{id:n=yo(e[3])}],u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return{c(){t=H("label"),l&&l.c(),Y(t,u),te(t,"disabled",e[4])},m(n,i){L(n,t,i),l&&l.m(t,null),r=!0,o||(s=V(t,"click",e[5]),o=!0)},p(e,[o]){l&&l.p&&(!r||264&o)&&y(l,a,e,e[8],r?g(a,e[8],o,vo):v(e[8]),bo),Y(t,u=et(c,[(!r||8&o)&&{for:e[3]},64&o&&e[6],(!r||1&o)&&{style:e[0]},{class:"label-component"},(!r||8&o&&n!==(n=yo(e[3])))&&{id:n}])),te(t,"disabled",e[4])},i(e){r||(je(l,e),r=!0)},o(e){qe(l,e),r=!1},d(e){e&&P(t),l&&l.d(e),o=!1,s()}}}function _o(e,t,n){let r,s;const a=["controller","style"];let l,c,u=w(t,a),d=o,$=o;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let{$$slots:m={},$$scope:f}=t,{controller:h=new lo}=t,{style:g}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(6,u=w(t,a)),"controller"in e&&n(7,h=e.controller),"style"in e&&n(0,g=e.style),"$$scope"in e&&n(8,f=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&uo(h),128&e.$$.dirty&&(n(2,({inputId:r,disabled:s}=h),r,(n(1,s),$(),$=p(s,(e=>n(4,c=e))),s)),d(),d=p(r,(e=>n(3,l=e))))},[g,s,r,l,c,function(){document.querySelector(`#${l}`)?.focus()},u,h,f,m]}class xo extends at{constructor(e){super(),it(this,e,_o,wo,d,{controller:7,style:0})}}const So=e=>({}),Co=e=>({}),Eo=e=>({}),ko=e=>({});function Io(e){let t,n,r,o,s,i,a,l,c,u=(e[0]??"")+"",d=(e[1]??"")+"";const p=e[3].label,$=f(p,e,e[4],ko),m=e[3].default,h=f(m,e,e[4],null),b=e[3].help,w=f(b,e,e[4],Co);return{c(){t=H("span"),n=H("span"),r=F(u),$&&$.c(),o=j(),s=H("span"),h&&h.c(),i=j(),a=H("span"),l=F(d),w&&w.c(),U(n,"class","label"),U(s,"class","input"),U(a,"class","help"),U(t,"class","label-content")},m(e,u){L(e,t,u),O(t,n),O(n,r),$&&$.m(n,null),O(t,o),O(t,s),h&&h.m(s,null),O(t,i),O(t,a),O(a,l),w&&w.m(a,null),c=!0},p(e,t){(!c||1&t)&&u!==(u=(e[0]??"")+"")&&G(r,u),$&&$.p&&(!c||16&t)&&y($,p,e,e[4],c?g(p,e[4],t,Eo):v(e[4]),ko),h&&h.p&&(!c||16&t)&&y(h,m,e,e[4],c?g(m,e[4],t,null):v(e[4]),null),(!c||2&t)&&d!==(d=(e[1]??"")+"")&&G(l,d),w&&w.p&&(!c||16&t)&&y(w,b,e,e[4],c?g(b,e[4],t,So):v(e[4]),Co)},i(e){c||(je($,e),je(h,e),je(w,e),c=!0)},o(e){qe($,e),qe(h,e),qe(w,e),c=!1},d(e){e&&P(t),$&&$.d(e),h&&h.d(e),w&&w.d(e)}}}function To(e){let t,n,r;return n=new xo({props:{$$slots:{default:[Io]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","labeled-input"),te(t,"layout-stacked","stacked"===e[2]),te(t,"layout-inline","inline"===e[2]),te(t,"layout-inline-input-first","inline-input-first"===e[2])},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[o]){const s={};19&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||4&o)&&te(t,"layout-stacked","stacked"===e[2]),(!r||4&o)&&te(t,"layout-inline","inline"===e[2]),(!r||4&o)&&te(t,"layout-inline-input-first","inline-input-first"===e[2])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Do(e,t,n){let{$$slots:r={},$$scope:o}=t,{label:s}=t,{help:i}=t,{layout:a="inline"}=t;return e.$$set=e=>{"label"in e&&n(0,s=e.label),"help"in e&&n(1,i=e.help),"layout"in e&&n(2,a=e.layout),"$$scope"in e&&n(4,o=e.$$scope)},[s,i,a,r,o]}class Mo extends at{constructor(e){super(),it(this,e,Do,To,d,{label:0,help:1,layout:2})}}function Oo(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","margin-trim svelte-1hehqd7")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function No(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Ao extends at{constructor(e){super(),it(this,e,No,Oo,d,{})}}function Lo(e){let t,n,r;const o=[e[0]];var s=e[1];function a(e){let t={};for(let n=0;n<o.length;n+=1)t=i(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&rt(t.$$.fragment),n=q()},m(e,o){t&&ot(t,e,o),L(e,n,o),r=!0},p(e,[r]){const i=1&r?et(o,[tt(e[0])]):{};if(s!==(s=e[1])){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}s?(t=new s(a()),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&qe(t.$$.fragment,e),r=!1},d(e){e&&P(n),t&&st(t,e)}}}function Po(e,t,n){let r,o,{componentWithProps:s}=t;return e.$$set=e=>{"componentWithProps"in e&&n(2,s=e.componentWithProps)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=s.component),4&e.$$.dirty&&n(0,o=s.props)},[o,r,s]}class Ro extends at{constructor(e){super(),it(this,e,Po,Lo,d,{componentWithProps:2})}}function Ho(e,t,n){const r=e.slice();return r[1]=t[n],r}function zo(e){let t,n;return t=new Ro({props:{componentWithProps:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.componentWithProps=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fo(e){let t,n,r,o;const s=[Wo,Bo,Vo],i=[];function a(e,t){return 0===e[0].length?0:1===e[0].length?1:2}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function jo(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},i:o,o:o,d(e){e&&P(t)}}}function qo(e){let t;return{c(){t=F("")},m(e,n){L(e,t,n)},p:o,i:o,o:o,d(e){e&&P(t)}}}function Vo(e){let t,n;return t=new Ao({props:{$$slots:{default:[Yo]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bo(e){let t,n=e[0][0]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function Wo(e){let t;return{c(){t=F("")},m(e,n){L(e,t,n)},p:o,i:o,o:o,d(e){e&&P(t)}}}function Uo(e){let t,n,r=e[1]+"";return{c(){t=H("p"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[1]+"")&&G(n,r)},d(e){e&&P(t)}}}function Yo(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=Uo(Ho(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);L(e,t,n)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=Ho(e,n,s);r[s]?r[s].p(i,o):(r[s]=Uo(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){R(r,e),e&&P(t)}}}function Ko(e){let t,n,r,o,s;const i=[qo,jo,Fo,zo],a=[];function l(e,n){return 1&n&&(t=null),void 0===e[0]?0:"string"==typeof e[0]?1:(null==t&&(t=!!Array.isArray(e[0])),t?2:3)}return n=l(e,-1),r=a[n]=i[n](e),{c(){r.c(),o=q()},m(e,t){a[n].m(e,t),L(e,o,t),s=!0},p(e,[t]){let s=n;n=l(e,t),n===s?a[n].p(e,t):(ze(),qe(a[s],1,1,(()=>{a[s]=null})),Fe(),r=a[n],r?r.p(e,t):(r=a[n]=i[n](e),r.c()),je(r,1),r.m(o.parentNode,o))},i(e){s||(je(r),s=!0)},o(e){qe(r),s=!1},d(e){a[n].d(e),e&&P(o)}}}function Go(e,t,n){let{arg:r}=t;return e.$$set=e=>{"arg"in e&&n(0,r=e.arg)},[r]}class Xo extends at{constructor(e){super(),it(this,e,Go,Ko,d,{arg:0})}}function Zo(e,t,n){const r=e.slice();return r[2]=t[n],r}function Jo(e){let t,n,r;const o=[e[1]];var s=e[0].component;function a(e){let t={};for(let n=0;n<o.length;n+=1)t=i(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&rt(t.$$.fragment),n=q()},m(e,o){t&&ot(t,e,o),L(e,n,o),r=!0},p(e,r){const i=2&r?et(o,[tt(e[1])]):{};if(s!==(s=e[0].component)){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}s?(t=new s(a()),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&qe(t.$$.fragment,e),r=!1},d(e){e&&P(n),t&&st(t,e)}}}function Qo(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=ts(Zo(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);L(e,t,n)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=Zo(e,n,s);r[s]?r[s].p(i,o):(r[s]=ts(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:o,o:o,d(e){R(r,e),e&&P(t)}}}function es(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},i:o,o:o,d(e){e&&P(t)}}}function ts(e){let t,n,r=e[2]+"";return{c(){t=H("p"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[2]+"")&&G(n,r)},d(e){e&&P(t)}}}function ns(e){let t,n,r,o,s;const i=[es,Qo,Jo],a=[];function l(e,n){return 1&n&&(t=null),"string"==typeof e[0]?0:(null==t&&(t=!!Array.isArray(e[0])),t?1:2)}return n=l(e,-1),r=a[n]=i[n](e),{c(){r.c(),o=q()},m(e,t){a[n].m(e,t),L(e,o,t),s=!0},p(e,[t]){let s=n;n=l(e,t),n===s?a[n].p(e,t):(ze(),qe(a[s],1,1,(()=>{a[s]=null})),Fe(),r=a[n],r?r.p(e,t):(r=a[n]=i[n](e),r.c()),je(r,1),r.m(o.parentNode,o))},i(e){s||(je(r),s=!0)},o(e){qe(r),s=!1},d(e){a[n].d(e),e&&P(o)}}}function rs(e,t,n){let r,{arg:o}=t;return e.$$set=e=>{"arg"in e&&n(0,o=e.arg)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=Dt(o,"props")&&It(o.props)?o.props:{})},[o,r]}class os extends at{constructor(e){super(),it(this,e,rs,ns,d,{arg:0})}}const ss=e=>({option:2&e,disabled:146&e}),is=e=>({option:e[14],disabled:e[7](e[14])||e[4]});function as(e,t,n){const r=e.slice();r[14]=t[n];const o=r[8](r[14]);return r[15]=o,r}const ls=e=>({option:2&e,disabled:146&e}),cs=e=>({option:e[14],disabled:e[7](e[14])||e[4]}),us=e=>({option:2&e,disabled:146&e}),ds=e=>({option:e[14],disabled:e[7](e[14])||e[4]});function ps(e){let t,n,r,o=e[9].label&&$s(e),s=e[2]&&ms(e);return{c(){t=H("legend"),o&&o.c(),n=j(),s&&s.c()},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,r){e[9].label?o?(o.p(e,r),512&r&&je(o,1)):(o=$s(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[2]?s?s.p(e,r):(s=ms(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(je(o),r=!0)},o(e){qe(o),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}function $s(e){let t;const n=e[11].label,r=f(n,e,e[13],ds);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8338&o)&&y(r,n,e,e[13],t?g(n,e[13],o,us):v(e[13]),ds)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function ms(e){let t;return{c(){t=F(e[2])},m(e,n){L(e,t,n)},p(e,n){4&n&&G(t,e[2])},d(e){e&&P(t)}}}function fs(e){let t;const n=e[11].default,r=f(n,e,e[13],cs);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8338&o)&&y(r,n,e,e[13],t?g(n,e[13],o,ls):v(e[13]),cs)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function hs(e){let t,n;return t=new os({props:{slot:"label",arg:e[5](e[14])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.arg=e[5](e[14])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gs(e){let t,n;return t=new Xo({props:{slot:"help",arg:e[15]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};258&n&&(r.arg=e[15]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ys(e,t){let n,r,o,s;return r=new Mo({props:{layout:"inline-input-first",$$slots:{help:[gs],label:[hs],default:[fs]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=H("li"),rt(r.$$.fragment),o=j(),U(n,"class","option"),te(n,"has-help",!!t[15]),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,o){t=e;const i={};8626&o&&(i.$$scope={dirty:o,ctx:t}),r.$set(i),(!s||258&o)&&te(n,"has-help",!!t[15])},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function vs(e){let t,n,r,o,s,i,a,l=[],c=new Map,u=(e[9].label||e[2])&&ps(e),d=e[1];const p=e=>e[14];for(let f=0;f<d.length;f+=1){let t=as(e,d,f),n=p(t);c.set(n,l[f]=ys(n,t))}const $=e[11].extra,m=f($,e,e[13],is);return{c(){t=H("fieldset"),u&&u.c(),n=j(),r=H("ul");for(let e=0;e<l.length;e+=1)l[e].c();o=j(),m&&m.c(),U(r,"class","options"),U(t,"class","fieldset-group"),U(t,"aria-label",e[3]),te(t,"inline",e[0]),te(t,"boxed",e[6]),te(t,"has-label",!!e[2])},m(c,d){L(c,t,d),u&&u.m(t,null),O(t,n),O(t,r);for(let e=0;e<l.length;e+=1)l[e].m(r,null);O(t,o),m&&m.m(t,null),s=!0,i||(a=V(t,"change",e[12]),i=!0)},p(e,[o]){e[9].label||e[2]?u?(u.p(e,o),516&o&&je(u,1)):(u=ps(e),u.c(),je(u,1),u.m(t,n)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe()),8626&o&&(d=e[1],ze(),l=Qe(l,o,p,1,e,d,c,r,Ze,ys,null,as),Fe()),m&&m.p&&(!s||8338&o)&&y(m,$,e,e[13],s?g($,e[13],o,ss):v(e[13]),is),(!s||8&o)&&U(t,"aria-label",e[3]),(!s||1&o)&&te(t,"inline",e[0]),(!s||64&o)&&te(t,"boxed",e[6]),(!s||4&o)&&te(t,"has-label",!!e[2])},i(e){if(!s){je(u);for(let e=0;e<d.length;e+=1)je(l[e]);je(m,e),s=!0}},o(e){qe(u);for(let t=0;t<l.length;t+=1)qe(l[t]);qe(m,e),s=!1},d(e){e&&P(t),u&&u.d();for(let t=0;t<l.length;t+=1)l[t].d();m&&m.d(e),i=!1,a()}}}function bs(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r);let{isInline:i=!1}=t,{options:a=[]}=t,{label:l}=t,{ariaLabel:c}=t,{disabled:u=!1}=t,{labelKey:d="label"}=t,{getLabel:p=(e=>Pt(e,d))}=t,{boxed:$=!1}=t,{getDisabled:m=(()=>!1)}=t,{getHelp:f=(()=>{})}=t;return e.$$set=e=>{"isInline"in e&&n(0,i=e.isInline),"options"in e&&n(1,a=e.options),"label"in e&&n(2,l=e.label),"ariaLabel"in e&&n(3,c=e.ariaLabel),"disabled"in e&&n(4,u=e.disabled),"labelKey"in e&&n(10,d=e.labelKey),"getLabel"in e&&n(5,p=e.getLabel),"boxed"in e&&n(6,$=e.boxed),"getDisabled"in e&&n(7,m=e.getDisabled),"getHelp"in e&&n(8,f=e.getHelp),"$$scope"in e&&n(13,o=e.$$scope)},[i,a,l,c,u,p,$,m,f,s,d,r,function(t){ve.call(this,e,t)},o]}class ws extends at{constructor(e){super(),it(this,e,bs,vs,d,{isInline:0,options:1,label:2,ariaLabel:3,disabled:4,labelKey:10,getLabel:5,boxed:6,getDisabled:7,getHelp:8})}}const _s=e=>({}),xs=e=>({slot:"label"});function Ss(e){let t,n;function r(...t){return e[13](e[17],...t)}return t=new go({props:{checked:e[0].some(r),disabled:e[18]}}),t.$on("change",(function(...t){return e[14](e[17],...t)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,o){e=n;const s={};131585&o&&(s.checked=e[0].some(r)),262144&o&&(s.disabled=e[18]),t.$set(s)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Cs(e){let t;const n=e[12].default,r=f(n,e,e[16],xs);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&y(r,n,e,e[16],t?g(n,e[16],o,_s):v(e[16]),xs)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Es(e){let t,n;return t=new ws({props:{isInline:e[1],options:e[2],label:e[3],ariaLabel:e[4],disabled:e[10],labelKey:e[5],getLabel:e[6],getHelp:e[7],getDisabled:e[8],$$slots:{label:[Cs,({option:e,disabled:t})=>({17:e,18:t}),({option:e,disabled:t})=>(e?131072:0)|(t?262144:0)],default:[Ss,({option:e,disabled:t})=>({17:e,18:t}),({option:e,disabled:t})=>(e?131072:0)|(t?262144:0)]},$$scope:{ctx:e}}}),t.$on("change",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.isInline=e[1]),4&n&&(r.options=e[2]),8&n&&(r.label=e[3]),16&n&&(r.ariaLabel=e[4]),1024&n&&(r.disabled=e[10]),32&n&&(r.labelKey=e[5]),64&n&&(r.getLabel=e[6]),128&n&&(r.getHelp=e[7]),256&n&&(r.getDisabled=e[8]),459265&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ks(e,t,n){let{$$slots:r={},$$scope:o}=t,{values:s=[]}=t,{isInline:i=!1}=t,{options:a=[]}=t,{label:l}=t,{ariaLabel:c}=t,{checkboxLabelKey:u}=t,{getCheckboxLabel:d}=t,{getCheckboxHelp:p=(()=>{})}=t,{getCheckboxDisabled:$=(()=>!1)}=t,{valuesAreEqual:m=((e,t)=>e===t)}=t,{disabled:f=!1}=t;function h(e,t){n(0,s=t?[...s,e]:s.filter((t=>!m(t,e))))}return e.$$set=e=>{"values"in e&&n(0,s=e.values),"isInline"in e&&n(1,i=e.isInline),"options"in e&&n(2,a=e.options),"label"in e&&n(3,l=e.label),"ariaLabel"in e&&n(4,c=e.ariaLabel),"checkboxLabelKey"in e&&n(5,u=e.checkboxLabelKey),"getCheckboxLabel"in e&&n(6,d=e.getCheckboxLabel),"getCheckboxHelp"in e&&n(7,p=e.getCheckboxHelp),"getCheckboxDisabled"in e&&n(8,$=e.getCheckboxDisabled),"valuesAreEqual"in e&&n(9,m=e.valuesAreEqual),"disabled"in e&&n(10,f=e.disabled),"$$scope"in e&&n(16,o=e.$$scope)},[s,i,a,l,c,u,d,p,$,m,f,h,r,(e,t)=>m(t,e),(e,{detail:t})=>h(e,t),function(t){ve.call(this,e,t)},o]}class Is extends at{constructor(e){super(),it(this,e,ks,Es,d,{values:0,isInline:1,options:2,label:3,ariaLabel:4,checkboxLabelKey:5,getCheckboxLabel:6,getCheckboxHelp:7,getCheckboxDisabled:8,valuesAreEqual:9,disabled:10})}}function Ts(e){let t,n,r;const o=e[5].default,s=f(o,e,e[4],null);return{c(){t=H("span"),s&&s.c(),U(t,"class",n="chip display-"+e[1]+" "+e[2]),Z(t,"background",e[0],!1)},m(e,n){L(e,t,n),s&&s.m(t,null),r=!0},p(e,[i]){s&&s.p&&(!r||16&i)&&y(s,o,e,e[4],r?g(o,e[4],i,null):v(e[4]),null),(!r||6&i&&n!==(n="chip display-"+e[1]+" "+e[2]))&&U(t,"class",n),1&i&&Z(t,"background",e[0],!1)},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e)}}}function Ds(e,t,n){let{$$slots:r={},$$scope:o}=t,{textShade:s="dark"}=t,{background:i=(()=>`hsl(${Qt(0,359)}, ${Qt(0,100)}%, ${"dark"===s?85:40}%)`)()}=t,{display:a="block"}=t,{class:l=""}=t;return e.$$set=e=>{"textShade"in e&&n(3,s=e.textShade),"background"in e&&n(0,i=e.background),"display"in e&&n(1,a=e.display),"class"in e&&n(2,l=e.class),"$$scope"in e&&n(4,o=e.$$scope)},[i,a,l,s,o,r]}class Ms extends at{constructor(e){super(),it(this,e,Ds,Ts,d,{textShade:3,background:0,display:1,class:2})}}const Os=e=>({}),Ns=e=>({}),As=e=>({}),Ls=e=>({}),Ps=e=>({}),Rs=e=>({}),Hs=e=>({isOpen:1&e}),zs=e=>({toggle:e[2],isOpen:e[0]});function Fs(e){let t,n,r,o;const s=[gr,{size:"0.9rem"},{rotate:e[0]?void 0:270}];let a={};for(let u=0;u<s.length;u+=1)a=i(a,s[u]);t=new Kr({props:a});const l=e[3].header,c=f(l,e,e[4],Rs);return{c(){rt(t.$$.fragment),n=j(),r=H("div"),c&&c.c(),U(r,"class","collapsible-header-title")},m(e,s){ot(t,e,s),L(e,n,s),L(e,r,s),c&&c.m(r,null),o=!0},p(e,n){const r=1&n?et(s,[0&n&&tt(gr),s[1],1&n&&{rotate:e[0]?void 0:270}]):{};t.$set(r),c&&c.p&&(!o||16&n)&&y(c,l,e,e[4],o?g(l,e[4],n,Ps):v(e[4]),Rs)},i(e){o||(je(t.$$.fragment,e),je(c,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(c,e),o=!1},d(e){st(t,e),e&&P(n),e&&P(r),c&&c.d(e)}}}function js(e){let t,n;const r=e[3].content,o=f(r,e,e[4],Ns);return{c(){t=H("div"),o&&o.c(),U(t,"class","collapsible-content")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||16&t)&&y(o,r,e,e[4],n?g(r,e[4],t,Os):v(e[4]),Ns)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function qs(e){let t,n,r,o,s;const i=e[3].trigger,a=f(i,e,e[4],zs),l=a||function(e){let t,n;return t=new Hn({props:{appearance:e[1],class:"collapsible-header-btn",$$slots:{default:[Fs]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.appearance=e[1]),17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e),c=e[3]["trigger-aside"],u=f(c,e,e[4],Ls);let d=e[0]&&js(e);return{c(){t=H("div"),n=H("div"),l&&l.c(),r=j(),u&&u.c(),o=j(),d&&d.c(),U(n,"class","collapsible-header"),U(t,"class","collapsible")},m(e,i){L(e,t,i),O(t,n),l&&l.m(n,null),O(n,r),u&&u.m(n,null),O(t,o),d&&d.m(t,null),s=!0},p(e,[n]){a?a.p&&(!s||17&n)&&y(a,i,e,e[4],s?g(i,e[4],n,Hs):v(e[4]),zs):l&&l.p&&(!s||19&n)&&l.p(e,s?n:-1),u&&u.p&&(!s||16&n)&&y(u,c,e,e[4],s?g(c,e[4],n,As):v(e[4]),Ls),e[0]?d?(d.p(e,n),1&n&&je(d,1)):(d=js(e),d.c(),je(d,1),d.m(t,null)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe())},i(e){s||(je(l,e),je(u,e),je(d),s=!0)},o(e){qe(l,e),qe(u,e),qe(d),s=!1},d(e){e&&P(t),l&&l.d(e),u&&u.d(e),d&&d.d()}}}function Vs(e,t,n){let{$$slots:r={},$$scope:o}=t,{isOpen:s=!1}=t,{triggerAppearance:i="default"}=t;return e.$$set=e=>{"isOpen"in e&&n(0,s=e.isOpen),"triggerAppearance"in e&&n(1,i=e.triggerAppearance),"$$scope"in e&&n(4,o=e.$$scope)},[s,i,function(){n(0,s=!s)},r,o]}class Bs extends at{constructor(e){super(),it(this,e,Vs,qs,d,{isOpen:0,triggerAppearance:1})}}class Ws{constructor(t){var n;e(this,"inputs",void 0),e(this,"output",void 0),this.inputs=new gt,this.output=(n=ft(this.inputs,(e=>ft(Vt([...e]),t))),ft(n,((e,t)=>e.subscribe(t))))}registerInput(e){const t=qt(e);return this.inputs.add(t),()=>this.inputs.delete(t)}subscribe(e,t){return this.output.subscribe(e,t)}}const Us=Symbol("menu alignment stores context");function Ys(){return new Ws((e=>e.some((e=>e))))}function Ks(){return ge(Us)}function Gs(){if(void 0!==Ks())throw Error("MenuController context has already been set");const e={hasControlColumn:Ys(),hasIconColumn:Ys()};return he(Us,e),e}function Xs(e){let t,n;const r=e[11].default,o=f(r,e,e[10],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","menu"),U(t,"role","menu"),U(t,"style",e[0]),te(t,"has-icon",e[1]),te(t,"has-control",e[2])},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||1024&s)&&y(o,r,e,e[10],n?g(r,e[10],s,null):v(e[10]),null),(!n||1&s)&&U(t,"style",e[0]),(!n||2&s)&&te(t,"has-icon",e[1]),(!n||4&s)&&te(t,"has-control",e[2])},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function Zs(e,t,n){let r,o,s,i,{$$slots:a={},$$scope:l}=t;const c=Gs(),{hasControlColumn:u,hasIconColumn:d}=c;m(e,u,(e=>n(2,i=e))),m(e,d,(e=>n(1,s=e)));let{style:p}=t,{iconWidth:$="1em"}=t,{controlWidth:f="1em"}=t,{cssVariables:h}=t;return e.$$set=e=>{"style"in e&&n(5,p=e.style),"iconWidth"in e&&n(6,$=e.iconWidth),"controlWidth"in e&&n(7,f=e.controlWidth),"cssVariables"in e&&n(8,h=e.cssVariables),"$$scope"in e&&n(10,l=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&n(9,r=h?en(h):""),736&e.$$.dirty&&n(0,o=tn(en({"--Menu__icon-width":$,"--Menu__control-width":f}),r,p))},[o,s,i,u,d,p,$,f,h,r,l,a]}class Js extends at{constructor(e){super(),it(this,e,Zs,Xs,d,{style:5,iconWidth:6,controlWidth:7,cssVariables:8})}}function Qs(e){let t,n,r,o,s,i;return n=new Js({props:{$$slots:{default:[ei]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","context-menu dropdown content")},m(a,l){L(a,t,l),ot(n,t,null),o=!0,s||(i=[C(rn.call(null,t,{callback:e[3]})),C(r=an.call(null,t,{reference:ni(e[2])})),C(ln.call(null,t)),V(t,"click",e[4])],s=!0)},p(e,t){const o={};512&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o),r&&u(r.update)&&4&t&&r.update.call(null,{reference:ni(e[2])})},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n),s=!1,c(i)}}}function ei(e){let t;const n=e[7].default,r=f(n,e,e[9],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||512&o)&&y(r,n,e,e[9],t?g(n,e[9],o,null):v(e[9]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function ti(e){let t,n,r=e[0]&&Qs(e);return{c(){t=H("div"),r&&r.c(),U(t,"class","context-menu-wrapper")},m(o,s){L(o,t,s),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=Qs(e),r.c(),je(r,1),r.m(t,null)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(n){n&&P(t),r&&r.d(),e[8](null)}}}function ni(e){const{x:t,y:n}=e;return{getBoundingClientRect:()=>({width:0,height:0,x:t,y:n,top:n,right:t,bottom:n,left:t,toJSON:()=>({x:t,y:n})})}}function ri(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{triggerElement:i}=t,{closeOnInnerClick:a=!0}=t,l=!1,c={x:0,y:0};function u(e){e.preventDefault(),n(2,c={x:e.clientX,y:e.clientY}),n(0,l=!l)}function d(){n(0,l=!1)}function p(e){"Escape"===e.key&&l&&d(),e.stopPropagation()}return pe((()=>{const e=i??r?.parentElement??void 0;return e?(e.addEventListener("contextmenu",u),()=>{e.removeEventListener("contextmenu",u)}):()=>{}})),e.$$set=e=>{"triggerElement"in e&&n(5,i=e.triggerElement),"closeOnInnerClick"in e&&n(6,a=e.closeOnInnerClick),"$$scope"in e&&n(9,s=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(l?document.addEventListener("keydown",p,{capture:!0}):document.removeEventListener("keydown",p,{capture:!0}))},[l,r,c,d,function(){a&&d()},i,a,o,function(e){we[e?"unshift":"push"]((()=>{r=e,n(1,r)}))},s]}class oi extends at{constructor(e){super(),it(this,e,ri,ti,d,{triggerElement:5,closeOnInnerClick:6})}}const si=e=>({}),ii=e=>({handleNewValue:e[0]});function ai(e){let t;const n=e[4].default,r=f(n,e,e[3],ii);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||8&o)&&y(r,n,e,e[3],t?g(n,e[3],o,si):v(e[3]),ii)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function li(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe();let i,{duration:a=300}=t,{value:l}=t;function c(e){l!==e&&(n(1,l=e),s("artificialInput",e),s("artificialChange",e))}return me((()=>clearTimeout(i))),e.$$set=e=>{"duration"in e&&n(2,a=e.duration),"value"in e&&n(1,l=e.value),"$$scope"in e&&n(3,o=e.$$scope)},[function({value:e,debounce:t}){clearTimeout(i),t?i=window.setTimeout((()=>{c(e)}),a):c(e)},l,a,o,r]}class ci extends at{constructor(e){super(),it(this,e,li,ai,d,{duration:2,value:1})}}class ui{constructor(t){e(this,"elements",mt(new Set)),e(this,"parent",void 0),this.parent=t}add(e){return this.elements.update((t=>{const n=new Set(t);return n.add(e),n})),this.parent?.add(e),()=>this.delete(e)}delete(e){this.elements.update((t=>{const n=new Set(t);return n.delete(e),n})),this.parent?.delete(e)}subscribe(e){return this.elements.subscribe(e)}}const di=e=>({}),pi=e=>({close:e[8]});function $i(e){let t,n,r,o,s,i,a,l;const d=[fi,mi],p=[];function $(e,t){return e[10].default?0:e[3]?1:-1}return~(n=$(e))&&(r=p[n]=d[n](e)),{c(){t=H("div"),r&&r.c(),U(t,"class",o=["dropdown content",e[2]].join(" "))},m(r,o){L(r,t,o),~n&&p[n].m(t,null),e[18](t),i=!0,a||(l=[C(ln.call(null,t)),C(s=an.call(null,t,{reference:e[1],options:{placement:e[4],modifiers:[{name:"flip",options:{fallbackPlacements:e[6]}}]}})),C(rn.call(null,t,{callback:e[8],references:e[7]})),V(t,"click",e[9]),V(t,"mouseenter",e[16]),V(t,"mouseleave",e[17])],a=!0)},p(e,a){let l=n;n=$(e),n===l?~n&&p[n].p(e,a):(r&&(ze(),qe(p[l],1,1,(()=>{p[l]=null})),Fe()),~n?(r=p[n],r?r.p(e,a):(r=p[n]=d[n](e),r.c()),je(r,1),r.m(t,null)):r=null),(!i||4&a&&o!==(o=["dropdown content",e[2]].join(" ")))&&U(t,"class",o),s&&u(s.update)&&82&a&&s.update.call(null,{reference:e[1],options:{placement:e[4],modifiers:[{name:"flip",options:{fallbackPlacements:e[6]}}]}})},i(e){i||(je(r),i=!0)},o(e){qe(r),i=!1},d(r){r&&P(t),~n&&p[n].d(),e[18](null),a=!1,c(l)}}}function mi(e){let t,n;return t=new os({props:{arg:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.arg=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fi(e){let t;const n=e[15].default,r=f(n,e,e[14],pi);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&y(r,n,e,e[14],t?g(n,e[14],o,di):v(e[14]),pi)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function hi(e){let t,n,r=e[0]&&$i(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=$i(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function gi(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const a=_(s),l=fe();let c,{trigger:u}=t,{placements:d=["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]}=t,{preferredPlacement:p}=t,{isOpen:$=!1}=t,{class:m=""}=t,{closeOnInnerClick:f=!1}=t,{content:h}=t;const g=ge("dropdownAccompanyingElements");async function y(){c||await ke(),c&&g?.delete(c)}me(y);const v=new ui(g);he("dropdownAccompanyingElements",v);const b=ft(v,(e=>[u,...e]));function w(e){e?(l("open"),async function(){c||await ke(),c&&g?.add(c)}()):(l("close"),y())}function x(){n(0,$=!1)}return e.$$set=e=>{"trigger"in e&&n(1,u=e.trigger),"placements"in e&&n(11,d=e.placements),"preferredPlacement"in e&&n(12,p=e.preferredPlacement),"isOpen"in e&&n(0,$=e.isOpen),"class"in e&&n(2,m=e.class),"closeOnInnerClick"in e&&n(13,f=e.closeOnInnerClick),"content"in e&&n(3,h=e.content),"$$scope"in e&&n(14,i=e.$$scope)},e.$$.update=()=>{6144&e.$$.dirty&&n(4,r=p??d[0]??"bottom-start"),2064&e.$$.dirty&&n(6,o=(()=>{const e=d.filter((e=>e!==r));if(0!==e.length)return e})()),1&e.$$.dirty&&w($)},[$,u,m,h,r,c,o,b,x,function(){f&&x()},a,d,p,f,i,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{c=e,n(5,c)}))}]}class yi extends at{constructor(e){super(),it(this,e,gi,hi,d,{trigger:1,placements:11,preferredPlacement:12,isOpen:0,class:2,closeOnInnerClick:13,content:3})}}const vi=e=>({}),bi=e=>({}),wi=e=>({}),_i=e=>({});function xi(e){let t;const n=e[8].content,r=f(n,e,e[14],bi);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&y(r,n,e,e[14],t?g(n,e[14],o,vi):v(e[14]),bi)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Si(e){let t,n,r,o,s,a;const l=e[8].trigger,u=f(l,e,e[14],_i);let d=[{"aria-label":"Help"},e[6]],p={};for(let c=0;c<d.length;c+=1)p=i(p,d[c]);return r=new yi({props:{trigger:e[3],isOpen:e[5],placements:["top","right","bottom","left"],class:"tooltip "+e[0],$$slots:{default:[xi]},$$scope:{ctx:e}}}),r.$on("mouseenter",e[12]),r.$on("mouseleave",e[13]),{c(){t=H("span"),u&&u.c(),n=j(),rt(r.$$.fragment),Y(t,p)},m(i,l){L(i,t,l),u&&u.m(t,null),e[9](t),L(i,n,l),ot(r,i,l),o=!0,s||(a=[V(t,"mouseenter",e[10]),V(t,"mouseleave",e[11])],s=!0)},p(e,[n]){u&&u.p&&(!o||16384&n)&&y(u,l,e,e[14],o?g(l,e[14],n,wi):v(e[14]),_i),Y(t,p=et(d,[{"aria-label":"Help"},64&n&&e[6]]));const s={};8&n&&(s.trigger=e[3]),32&n&&(s.isOpen=e[5]),1&n&&(s.class="tooltip "+e[0]),16384&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(u,e),je(r.$$.fragment,e),o=!0)},o(e){qe(u,e),qe(r.$$.fragment,e),o=!1},d(o){o&&P(t),u&&u.d(o),e[9](null),o&&P(n),st(r,o),s=!1,c(a)}}}function Ci(e,t,n){let r;const o=["tooltipClass","allowHover"];let s,a,l=w(t,o),{$$slots:c={},$$scope:u}=t,{tooltipClass:d=""}=t,{allowHover:p=!1}=t,$=!1,m=!1;return e.$$set=e=>{t=i(i({},t),b(e)),n(6,l=w(t,o)),"tooltipClass"in e&&n(0,d=e.tooltipClass),"allowHover"in e&&n(7,p=e.allowHover),"$$scope"in e&&n(14,u=e.$$scope)},e.$$.update=()=>{134&e.$$.dirty&&n(5,r=$||p&&m)},[d,$,m,s,a,r,l,p,c,function(e){we[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},()=>{window.clearTimeout(a),n(1,$=!0)},()=>{n(4,a=window.setTimeout((()=>{n(1,$=!1)}),100))},()=>{n(2,m=!0)},()=>{n(2,m=!1)},u]}class Ei extends at{constructor(e){super(),it(this,e,Ci,Si,d,{tooltipClass:0,allowHover:7})}}const ki=e=>({}),Ii=e=>({slot:"content"});function Ti(e){let t,n;const r=[{slot:"trigger"},yr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(yr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Di(e){let t;const n=e[0].default,r=f(n,e,e[1],Ii);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2&o)&&y(r,n,e,e[1],t?g(n,e[1],o,ki):v(e[1]),Ii)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Mi(e){let t,n;return t=new Ei({props:{"aria-label":"Help",class:"help-trigger",allowHover:!0,$$slots:{content:[Di],trigger:[Ti]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Oi(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[r,o]}class Ni extends at{constructor(e){super(),it(this,e,Oi,Mi,d,{})}}function Ai(e){let t,n,r;const o=e[3].default,s=f(o,e,e[2],null);let a=[{class:n=["input-group",e[0]].join(" ")},e[1]],l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return{c(){t=H("div"),s&&s.c(),Y(t,l)},m(e,n){L(e,t,n),s&&s.m(t,null),r=!0},p(e,[i]){s&&s.p&&(!r||4&i)&&y(s,o,e,e[2],r?g(o,e[2],i,null):v(e[2]),null),Y(t,l=et(a,[(!r||1&i&&n!==(n=["input-group",e[0]].join(" ")))&&{class:n},2&i&&e[1]]))},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e)}}}function Li(e,t,n){const r=["class"];let o=w(t,r),{$$slots:s={},$$scope:a}=t,{class:l=""}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(1,o=w(t,r)),"class"in e&&n(0,l=e.class),"$$scope"in e&&n(2,a=e.$$scope)},[l,o,a,s]}class Pi extends at{constructor(e){super(),it(this,e,Li,Ai,d,{class:0})}}function Ri(e){let t,n,r;const o=e[3].default,s=f(o,e,e[2],null);let a=[{class:n=["input-group-text",e[0]].join(" ")},e[1]],l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return{c(){t=H("span"),s&&s.c(),Y(t,l)},m(e,n){L(e,t,n),s&&s.m(t,null),r=!0},p(e,[i]){s&&s.p&&(!r||4&i)&&y(s,o,e,e[2],r?g(o,e[2],i,null):v(e[2]),null),Y(t,l=et(a,[(!r||1&i&&n!==(n=["input-group-text",e[0]].join(" ")))&&{class:n},2&i&&e[1]]))},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e)}}}function Hi(e,t,n){const r=["class"];let o=w(t,r),{$$slots:s={},$$scope:a}=t,{class:l=""}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(1,o=w(t,r)),"class"in e&&n(0,l=e.class),"$$scope"in e&&n(2,a=e.$$scope)},[l,o,a,s]}class zi extends at{constructor(e){super(),it(this,e,Hi,Ri,d,{class:0})}}function Fi(e){let t,n,r,o,s,a,l,u;const d=[e[6]];function p(t){e[15](t)}let $={};for(let c=0;c<d.length;c+=1)$=i($,d[c]);void 0!==e[2]&&($.id=e[2]),t=new mo({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[6],{style:e[5]},{type:"text"},{class:s=["input-element","text-input",e[3]].join(" ")},{id:e[2]}],f={};for(let c=0;c<m.length;c+=1)f=i(f,m[c]);return{c(){rt(t.$$.fragment),r=j(),o=H("input"),Y(o,f),te(o,"has-error",e[4]),te(o,"read-only",e[6].readonly)},m(n,s){ot(t,n,s),L(n,r,s),L(n,o,s),o.autofocus&&o.focus(),e[16](o),X(o,e[0]),a=!0,l||(u=[V(o,"input",e[17]),V(o,"input",e[9]),V(o,"focus",e[10]),V(o,"blur",e[11]),V(o,"keydown",e[12]),V(o,"beforeinput",e[13]),V(o,"change",e[14])],l=!0)},p(e,[r]){const i=64&r?et(d,[tt(e[6])]):{};!n&&4&r&&(n=!0,i.id=e[2],Te((()=>n=!1))),t.$set(i),Y(o,f=et(m,[64&r&&e[6],(!a||32&r)&&{style:e[5]},{type:"text"},(!a||8&r&&s!==(s=["input-element","text-input",e[3]].join(" ")))&&{class:s},(!a||4&r)&&{id:e[2]}])),1&r&&o.value!==e[0]&&X(o,e[0]),te(o,"has-error",e[4]),te(o,"read-only",e[6].readonly)},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),a=!1},d(n){st(t,n),n&&P(r),n&&P(o),e[16](null),l=!1,c(u)}}}function ji(e,t,n){let r,o;const s=["value","class","element","hasError","id","cssVariables"];let a=w(t,s),{value:l=""}=t,{class:c=""}=t,{element:u}=t,{hasError:d=!1}=t,{id:p}=t,{cssVariables:$}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(6,a=w(t,s)),"value"in e&&n(0,l=e.value),"class"in e&&n(3,c=e.class),"element"in e&&n(1,u=e.element),"hasError"in e&&n(4,d=e.hasError),"id"in e&&n(2,p=e.id),"cssVariables"in e&&n(7,$=e.cssVariables)},e.$$.update=()=>{128&e.$$.dirty&&n(8,r=$?en($):""),n(5,o=tn(r,a.style))},[l,u,p,c,d,o,a,$,r,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){p=e,n(2,p)},function(e){we[e?"unshift":"push"]((()=>{u=e,n(1,u)}))},function(){l=this.value,n(0,l)}]}class qi extends at{constructor(e){super(),it(this,e,ji,Fi,d,{value:0,class:3,element:1,hasError:4,id:2,cssVariables:7})}}var Vi=-1;function Bi(e,t,n,r){if(e===t)return e?[[0,e]]:[];if(null!=n){var o=function(e,t,n){var r="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,i=t.length;if(0===r.length&&(null===o||0===o.length)){var a=r.index,l=e.slice(0,a),c=e.slice(a),u=o?o.index:null,d=a+i-s;if((null===u||u===d)&&!(d<0||d>i)){var p=t.slice(0,d);if((f=t.slice(d))===c){var $=Math.min(a,d);if((g=l.slice(0,$))===(v=p.slice(0,$)))return Qi(g,l.slice($),p.slice($),c)}}if(null===u||u===a){var m=a,f=(p=t.slice(0,m),t.slice(m));if(p===l){var h=Math.min(s-m,i-m);if((y=c.slice(c.length-h))===(b=f.slice(f.length-h)))return Qi(l,c.slice(0,c.length-h),f.slice(0,f.length-h),y)}}}if(r.length>0&&o&&0===o.length){var g=e.slice(0,r.index),y=e.slice(r.index+r.length);if(!(i<($=g.length)+(h=y.length))){var v=t.slice(0,$),b=t.slice(i-h);if(g===v&&y===b)return Qi(g,e.slice($,s-h),t.slice($,i-h),y)}}return null}(e,t,n);if(o)return o}var s=Ui(e,t),i=e.substring(0,s);s=Yi(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[Vi,e]];var r=e.length>t.length?e:t,o=e.length>t.length?t:e,s=r.indexOf(o);if(-1!==s)return n=[[1,r.substring(0,s)],[0,o],[1,r.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=Vi),n;if(1===o.length)return[[Vi,e],[1,t]];var i=function(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;function o(e,t,n){for(var r,o,s,i,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,c="";-1!==(l=t.indexOf(a,l+1));){var u=Ui(e.substring(n),t.substring(l)),d=Yi(e.substring(0,n),t.substring(0,l));c.length<d+u&&(c=t.substring(l-d,l)+t.substring(l,l+u),r=e.substring(0,n-d),o=e.substring(n+u),s=t.substring(0,l-d),i=t.substring(l+u))}return 2*c.length>=e.length?[r,o,s,i,c]:null}var s,i,a,l,c,u=o(n,r,Math.ceil(n.length/4)),d=o(n,r,Math.ceil(n.length/2));if(!u&&!d)return null;s=d?u&&u[4].length>d[4].length?u:d:u;e.length>t.length?(i=s[0],a=s[1],l=s[2],c=s[3]):(l=s[0],c=s[1],i=s[2],a=s[3]);var p=s[4];return[i,a,l,c,p]}(e,t);if(i){var a=i[0],l=i[1],c=i[2],u=i[3],d=i[4],p=Bi(a,c),$=Bi(l,u);return p.concat([[0,d]],$)}return function(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),s=o,i=2*o,a=new Array(i),l=new Array(i),c=0;c<i;c++)a[c]=-1,l[c]=-1;a[s+1]=0,l[s+1]=0;for(var u=n-r,d=u%2!=0,p=0,$=0,m=0,f=0,h=0;h<o;h++){for(var g=-h+p;g<=h-$;g+=2){for(var y=s+g,v=(S=g===-h||g!==h&&a[y-1]<a[y+1]?a[y+1]:a[y-1]+1)-g;S<n&&v<r&&e.charAt(S)===t.charAt(v);)S++,v++;if(a[y]=S,S>n)$+=2;else if(v>r)p+=2;else if(d){if((_=s+u-g)>=0&&_<i&&-1!==l[_])if(S>=(w=n-l[_]))return Wi(e,t,S,v)}}for(var b=-h+m;b<=h-f;b+=2){for(var w,_=s+b,x=(w=b===-h||b!==h&&l[_-1]<l[_+1]?l[_+1]:l[_-1]+1)-b;w<n&&x<r&&e.charAt(n-w-1)===t.charAt(r-x-1);)w++,x++;if(l[_]=w,w>n)f+=2;else if(x>r)m+=2;else if(!d){if((y=s+u-b)>=0&&y<i&&-1!==a[y]){var S;v=s+(S=a[y])-y;if(S>=(w=n-w))return Wi(e,t,S,v)}}}}return[[Vi,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return i&&l.unshift([0,i]),a&&l.push([0,a]),Ki(l,r),l}function Wi(e,t,n,r){var o=e.substring(0,n),s=t.substring(0,r),i=e.substring(n),a=t.substring(r),l=Bi(o,s),c=Bi(i,a);return l.concat(c)}function Ui(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:r=o,o=Math.floor((r-n)/2+n);return Gi(e.charCodeAt(o-1))&&o--,o}function Yi(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:r=o,o=Math.floor((r-n)/2+n);return Xi(e.charCodeAt(e.length-o))&&o--,o}function Ki(e,t){e.push([0,""]);for(var n,r=0,o=0,s=0,i="",a="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:s++,a+=e[r][1],r++;break;case Vi:o++,i+=e[r][1],r++;break;case 0:var l=r-s-o-1;if(t){if(l>=0&&Ji(e[l][1])){var c=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),i=c+i,a=c+a,!e[l][1]){e.splice(l,1),r--;var u=l-1;e[u]&&1===e[u][0]&&(s++,a=e[u][1]+a,u--),e[u]&&e[u][0]===Vi&&(o++,i=e[u][1]+i,u--),l=u}}if(Zi(e[r][1])){c=e[r][1].charAt(0);e[r][1]=e[r][1].slice(1),i+=c,a+=c}}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(i.length>0||a.length>0){i.length>0&&a.length>0&&(0!==(n=Ui(a,i))&&(l>=0?e[l][1]+=a.substring(0,n):(e.splice(0,0,[0,a.substring(0,n)]),r++),a=a.substring(n),i=i.substring(n)),0!==(n=Yi(a,i))&&(e[r][1]=a.substring(a.length-n)+e[r][1],a=a.substring(0,a.length-n),i=i.substring(0,i.length-n)));var d=s+o;0===i.length&&0===a.length?(e.splice(r-d,d),r-=d):0===i.length?(e.splice(r-d,d,[1,a]),r=r-d+1):0===a.length?(e.splice(r-d,d,[Vi,i]),r=r-d+1):(e.splice(r-d,d,[Vi,i],[1,a]),r=r-d+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,o=0,i="",a=""}""===e[e.length-1][1]&&e.pop();var p=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),p=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),p=!0)),r++;p&&Ki(e,t)}function Gi(e){return e>=55296&&e<=56319}function Xi(e){return e>=56320&&e<=57343}function Zi(e){return Xi(e.charCodeAt(0))}function Ji(e){return Gi(e.charCodeAt(e.length-1))}function Qi(e,t,n,r){return Ji(e)||Zi(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[Vi,t],[1,n],[0,r]])}function ea(e,t,n){return Bi(e,t,n,!0)}ea.INSERT=1,ea.DELETE=Vi,ea.EQUAL=0;var ta=ea;const na=["direction","boxSizing","paddingRight","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","fontFamily","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize"];function ra(e){const{clientWidth:t,scrollWidth:n}=e;if(t>=n)return;const r=e.selectionEnd;if(!r)return;if(0===r)return void(e.scrollLeft=0);const o=e.value;if(r===o.length)return void(e.scrollLeft=e.scrollWidth);const s=function(e,t){const n=document.createElement("div");n.id="caret-position-measurement",document.body.appendChild(n);const{style:r}=n;r.position="absolute",r.top="0px",r.zIndex="999999999",r.backgroundColor="coral",r.width="max-content",r.whiteSpace="pre",r.visibility="hidden";for(const s of na)r[s]=t[s];n.textContent=e;const o=n.clientWidth;return n.remove(),o}(o.substring(0,r),window.getComputedStyle(e));let i=10;const a=s-e.scrollLeft-t+i;if(a>0)return void(e.scrollLeft+=a);i=25;const l=e.scrollLeft-s+i;l>0&&(e.scrollLeft-=l)}function oa(e){let t,n,r;const o=[{value:e[1]},e[5]];function s(t){e[9](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.element=e[0]),t=new qi({props:a}),we.push((()=>nt(t,"element",s))),t.$on("beforeinput",e[2]),t.$on("blur",e[3]),t.$on("focus",e[10]),t.$on("blur",e[11]),t.$on("blur",e[4]),t.$on("keydown",e[12]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=34&r?et(o,[2&r&&{value:e[1]},32&r&&tt(e[5])]):{};!n&&1&r&&(n=!0,s.element=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function sa(e,t,n){let r;const o=["formatter","value","onParseError","element"];let s=w(t,o);const a=fe();let l,c,u,{formatter:d}=t,{value:p}=t,{onParseError:$=(()=>{})}=t,{element:m}=t,f="";return e.$$set=e=>{t=i(i({},t),b(e)),n(5,s=w(t,o)),"formatter"in e&&n(7,d=e.formatter),"value"in e&&n(6,p=e.value),"onParseError"in e&&n(8,$=e.onParseError),"element"in e&&n(0,m=e.element)},e.$$.update=()=>{var t;128&e.$$.dirty&&(r=e=>null==e?"":d.format(e)),64&e.$$.dirty&&(c=r(t=p),l?.value!==t&&(n(1,f=c),u=t))},[m,f,async function(e){e.preventDefault();const{value:t,cursorPosition:r}=function(e){const t=e.target,n=e.inputType,r=t.value,o=t.selectionStart??0,s=t.selectionEnd??r.length,i=o===s;let a=r.substring(0,o),l=r.substring(s,r.length);const c=(()=>{switch(n){case"insertText":case"insertFromPaste":case"insertFromDrop":return"insert";default:return"delete"}})(),u=(()=>{switch(n){case"deleteContentBackward":case"deleteWordBackward":return"backward";case"deleteContentForward":case"deleteWordForward":return"forward";default:return}})();"delete"===c&&i&&("backward"===u?a=a.slice(0,-1):"forward"===u&&(l=l.slice(1,l.length)));const d="insert"===c&&e.data||"";return{value:`${a}${d}${l}`,cursorPosition:a.length+d.length}}(e);try{l=d.parse(t),function(e){n(6,p=e),a("artificialInput",e)}(l.value),n(1,f=l.intermediateDisplay);const e=function({oldText:e,oldCursorPosition:t,newText:n}){const r=ta(e,n);let o=0;return r.forEach((e=>{const[t]=e;t===ta.DELETE?o-=1:t===ta.INSERT&&(o+=1)})),o<0&&(o=0),t+o}({oldText:t,oldCursorPosition:r,newText:l.intermediateDisplay});if(await ke(),m?.setSelectionRange(e,e),!m)return;ra(m)}catch($h){$({userInput:t,error:$h})}},function(){u!==p&&a("artificialChange",p)},function(){n(1,f=c??"")},s,p,d,$,function(e){m=e,n(0,m)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class ia extends at{constructor(e){super(),it(this,e,sa,oa,d,{formatter:7,value:6,onParseError:8,element:0})}}function aa(e){const t=new Intl.NumberFormat(e).format(1.2)[1];if(![".",","].includes(t))throw new Error(`Unsupported decimal separator: ${t}`);return t}const la={allowFloat:!1,allowNegative:!1,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1};function ca(e){return{...e,decimalSeparator:aa(e.locale)}}class ua{constructor(t={}){e(this,"opts",void 0),this.opts=ca(function(e,t={}){return{...e,...Jt(t)}}(la,t))}}function da(e){return e.replace(new RegExp(`[${["","","","","","","","","",""].join("")}]`,"g"),"-")}function pa(e){return`${!!/^-/.exec(e)?"-":""}${e.replace(/-/g,"")}`}function $a(e){return e.replace(/,/g,".")}function ma(e){const t=[String.raw`\d`,...e.allowNegative?[Xt("-")]:[],...e.allowFloat?[Xt(e.decimalSeparator)]:[]],n=new RegExp(`[^${t.join("")}]`,"g");return e=>e.replace(n,"")}function fa(e){return t=>t.split(e.decimalSeparator).reduce(((t,n,r)=>{if(void 0===t)return n;return`${t}${r<=1?e.decimalSeparator:""}${n}`}))}function ha(e){const t=new RegExp(`(^|[^\\d])(?=${Xt(e.decimalSeparator)})`);return e=>e.replace(t,"$10")}function ga(e){return e.replace(/^(-?)0*(?!\.|$)/,"$1")}function ya(e){return e.replace(/(\.(?:[1-9]|0(?=0*[1-9]))*)(0*)$/,"$1")}function va(e){return e.replace(/\.$/,"")}function ba(e){return t=>e.reduce(((e,t)=>t(e)),t)}function wa(e){return ba([da,ma(e),pa,fa(e),$a,ha(e),ga])}function _a(e){return function(t){const n=function(t){return Number.isNaN(t)?["Value is NaN."]:!e.allowNegative&&(t<0||Object.is(t,-0))?["Value must be positive."]:e.allowFloat||"number"!=typeof t||t%1==0?[]:["Value must be an integer."]}(t);if(n.length)throw new Error(`Unable to format value. ${n.join(", ")}`);const r=Intl.NumberFormat(e.locale,{numberingSystem:"latn",minimumFractionDigits:e.minimumFractionDigits,maximumFractionDigits:Math.max(e.minimumFractionDigits,e.maximumFractionDigits),useGrouping:e.useGrouping}).formatToParts(t),o=[];e.forceTrailingDecimal&&o.push(function(e){return t=>t.some((e=>"decimal"===e.type))?t:[...t,{type:"decimal",value:e.decimalSeparator}]}(e));const s=function(e){return e.map((e=>e.value)).join("")}(o.reduce(((e,t)=>t(e)),r));return da(s)}}function xa(e){return t=>t.replace(/\./g,e.decimalSeparator)}function Sa(e){return(e.split(".")[1]??"").length}function Ca(e){return e.endsWith(".")}function Ea(e){return function(t){const n=wa(e)(t),r=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t}(n);if(void 0===r)return{value:null,intermediateDisplay:n};const o=function(e){return ba([wa(e),ya,va])}(e)(t);var s;if(s=r,_a(ca({locale:"en-US",allowFloat:!0,allowNegative:!0,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1}))(s)===o){const t=Object.is(r,-0)?-0:parseFloat(r.toFixed(e.maximumFractionDigits));return{value:{type:"number",numericalValue:t,normalizedStringifiedNumber:t.toString()},intermediateDisplay:_a({...e,forceTrailingDecimal:Ca(n),minimumFractionDigits:Math.min(Sa(n),e.maximumFractionDigits)})(t)}}const i=function(e){try{return BigInt(e)}catch{return}}(n);return void 0!==i?{value:{type:"bigint",numericalValue:i,normalizedStringifiedNumber:o},intermediateDisplay:_a({...e,forceTrailingDecimal:!1,minimumFractionDigits:0,maximumFractionDigits:0})(i)}:{value:{type:"bigfloat",normalizedStringifiedNumber:o},intermediateDisplay:xa(e)(n)}}}class ka extends ua{format(e){return _a(this.opts)(e)}parse(e){const t=Ea(this.opts)(e);if(null===t.value)return{value:null,intermediateDisplay:t.intermediateDisplay};if("number"!==t.value.type)throw new Error("Number input could not be accurately parsed to a JavaScript number without loss of precision.");return{value:t.value.numericalValue,intermediateDisplay:t.intermediateDisplay}}}class Ia extends ua{format(e){const t=Ea({...this.opts,decimalSeparator:"."})(e);switch(t.value?.type){case"bigfloat":return t.value.normalizedStringifiedNumber;case"number":case"bigint":return _a(this.opts)(t.value.numericalValue);default:return""}}parse(e){const t=Ea(this.opts)(e);return{value:t.value?.normalizedStringifiedNumber??null,intermediateDisplay:t.intermediateDisplay}}}function Ta(e){const t={...la,...e},{allowFloat:n,allowNegative:r}=t;return r?"text":n?"decimal":"numeric"}function Da(e){let t,n,r,o;const s=[{formatter:e[3]},e[4],{inputmode:e[2]}];function a(t){e[5](t)}function l(t){e[6](t)}let c={};for(let u=0;u<s.length;u+=1)c=i(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new ia({props:c}),we.push((()=>nt(t,"value",a))),we.push((()=>nt(t,"element",l))),t.$on("artificialInput",e[7]),t.$on("artificialChange",e[8]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const i=28&o?et(s,[8&o&&{formatter:e[3]},16&o&&tt(e[4]),4&o&&{inputmode:e[2]}]):{};!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),!r&&2&o&&(r=!0,i.element=e[1],Te((()=>r=!1))),t.$set(i)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function Ma(e,t,n){let r,o;const s=["value","element"];let a=w(t,s),{value:l}=t,{element:c}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(4,a=w(t,s)),"value"in e&&n(0,l=e.value),"element"in e&&n(1,c=e.element)},e.$$.update=()=>{n(3,r=new ka(a)),n(2,o=Ta(a))},[l,c,o,r,a,function(e){l=e,n(0,l)},function(e){c=e,n(1,c)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class Oa extends at{constructor(e){super(),it(this,e,Ma,Da,d,{value:0,element:1})}}function Na(e){let t,n,r,o;const s=[e[4],{formatter:e[3]},{inputmode:e[2]}];function a(t){e[5](t)}function l(t){e[6](t)}let c={};for(let u=0;u<s.length;u+=1)c=i(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new ia({props:c}),we.push((()=>nt(t,"value",a))),we.push((()=>nt(t,"element",l))),t.$on("blur",e[7]),t.$on("focus",e[8]),t.$on("keydown",e[9]),t.$on("artificialInput",e[10]),t.$on("artificialChange",e[11]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const i=28&o?et(s,[16&o&&tt(e[4]),8&o&&{formatter:e[3]},4&o&&{inputmode:e[2]}]):{};!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),!r&&2&o&&(r=!0,i.element=e[1],Te((()=>r=!1))),t.$set(i)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function Aa(e,t,n){let r,o;const s=["value","element"];let a=w(t,s),{value:l}=t,{element:c}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(4,a=w(t,s)),"value"in e&&n(0,l=e.value),"element"in e&&n(1,c=e.element)},e.$$.update=()=>{n(3,r=new Ia(a)),n(2,o=Ta(a))},[l,c,o,r,a,function(e){l=e,n(0,l)},function(e){c=e,n(1,c)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class La extends at{constructor(e){super(),it(this,e,Aa,Na,d,{value:0,element:1})}}const Pa=e=>({close:33554432&e}),Ra=e=>({close:e[25]}),Ha=e=>({}),za=e=>({});function Fa(e){let t,n,r;const o=[gr,{size:"0.75em"}];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","arrow")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt(gr),o[1]]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function ja(e){let t,n,r,o;const s=e[17].trigger,i=f(s,e,e[24],za);let a=e[8]&&Fa();return{c(){t=H("span"),i&&i.c(),n=j(),a&&a.c(),r=q(),U(t,"class","label")},m(e,s){L(e,t,s),i&&i.m(t,null),L(e,n,s),a&&a.m(e,s),L(e,r,s),o=!0},p(e,t){i&&i.p&&(!o||16777216&t)&&y(i,s,e,e[24],o?g(s,e[24],t,Ha):v(e[24]),za),e[8]?a?(a.p(e,t),256&t&&je(a,1)):(a=Fa(),a.c(),je(a,1),a.m(r.parentNode,r)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe())},i(e){o||(je(i,e),je(a),o=!0)},o(e){qe(i,e),qe(a),o=!1},d(e){e&&P(t),i&&i.d(e),e&&P(n),a&&a.d(e),e&&P(r)}}}function qa(e){let t;const n=e[17].content,r=f(n,e,e[24],Ra);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||50331648&o)&&y(r,n,e,e[24],t?g(n,e[24],o,Pa):v(e[24]),Ra)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Va(e){let t,n,r,o,s;const a=[{appearance:e[1]},{class:e[12]},{"aria-controls":e[5]},{"aria-haspopup":"listbox"},{"aria-label":e[4]},{title:e[4]},{size:e[9]},{disabled:e[10]},e[15]];function l(t){e[18](t)}let c={$$slots:{default:[ja]},$$scope:{ctx:e}};for(let u=0;u<a.length;u+=1)c=i(c,a[u]);return void 0!==e[11]&&(c.element=e[11]),t=new Hn({props:c}),we.push((()=>nt(t,"element",l))),t.$on("click",e[13]),t.$on("keydown",e[19]),t.$on("focus",e[20]),t.$on("blur",e[21]),o=new yi({props:{trigger:e[11],isOpen:e[0],placements:e[6],preferredPlacement:e[7],class:e[2],closeOnInnerClick:e[3],$$slots:{default:[qa,({close:e})=>({25:e}),({close:e})=>e?33554432:0]},$$scope:{ctx:e}}}),o.$on("close",e[14]),o.$on("open",e[22]),o.$on("close",e[23]),{c(){rt(t.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,n){ot(t,e,n),L(e,r,n),ot(o,e,n),s=!0},p(e,[r]){const s=38450&r?et(a,[2&r&&{appearance:e[1]},4096&r&&{class:e[12]},32&r&&{"aria-controls":e[5]},a[3],16&r&&{"aria-label":e[4]},16&r&&{title:e[4]},512&r&&{size:e[9]},1024&r&&{disabled:e[10]},32768&r&&tt(e[15])]):{};16777472&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2048&r&&(n=!0,s.element=e[11],Te((()=>n=!1))),t.$set(s);const i={};2048&r&&(i.trigger=e[11]),1&r&&(i.isOpen=e[0]),64&r&&(i.placements=e[6]),128&r&&(i.preferredPlacement=e[7]),4&r&&(i.class=e[2]),8&r&&(i.closeOnInnerClick=e[3]),50331648&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(r),st(o,e)}}}function Ba(e,t,n){let r;const o=["triggerClass","triggerAppearance","contentClass","isOpen","closeOnInnerClick","ariaLabel","ariaControls","placements","preferredPlacement","showArrow","size","disabled"];let s,a=w(t,o),{$$slots:l={},$$scope:c}=t,{triggerClass:u=""}=t,{triggerAppearance:d="default"}=t,{contentClass:p=""}=t,{isOpen:$=!1}=t,{closeOnInnerClick:m=!1}=t,{ariaLabel:f}=t,{ariaControls:h}=t,{placements:g}=t,{preferredPlacement:y}=t,{showArrow:v=!0}=t,{size:_="medium"}=t,{disabled:x=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(15,a=w(t,o)),"triggerClass"in e&&n(16,u=e.triggerClass),"triggerAppearance"in e&&n(1,d=e.triggerAppearance),"contentClass"in e&&n(2,p=e.contentClass),"isOpen"in e&&n(0,$=e.isOpen),"closeOnInnerClick"in e&&n(3,m=e.closeOnInnerClick),"ariaLabel"in e&&n(4,f=e.ariaLabel),"ariaControls"in e&&n(5,h=e.ariaControls),"placements"in e&&n(6,g=e.placements),"preferredPlacement"in e&&n(7,y=e.preferredPlacement),"showArrow"in e&&n(8,v=e.showArrow),"size"in e&&n(9,_=e.size),"disabled"in e&&n(10,x=e.disabled),"$$scope"in e&&n(24,c=e.$$scope)},e.$$.update=()=>{65792&e.$$.dirty&&n(12,r=function(e,t){const n=["dropdown","trigger"];return e&&n.push(e),t||n.push("no-arrow"),n.join(" ")}(u,v))},[$,d,p,m,f,h,g,y,v,_,x,s,r,function(e){e.preventDefault(),n(0,$=!$)},function(){n(0,$=!1)},a,u,l,function(e){s=e,n(11,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},c]}class Wa extends at{constructor(e){super(),it(this,e,Ba,Va,d,{triggerClass:16,triggerAppearance:1,contentClass:2,isOpen:0,closeOnInnerClick:3,ariaLabel:4,ariaControls:5,placements:6,preferredPlacement:7,showArrow:8,size:9,disabled:10})}}const Ua=e=>({isOpen:2&e[0]}),Ya=e=>({api:e[0],isOpen:e[1]});function Ka(e){let t;const n=e[16].default,r=f(n,e,e[15],Ya);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32770&o[0])&&y(r,n,e,e[15],t?g(n,e[15],o,Ua):v(e[15]),Ya)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Ga(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let{selectionType:c="multiple"}=t,{options:u}=t,{value:d=[]}=t,{searchable:p=!1}=t,{disabled:$=!1}=t,{labelKey:f="label"}=t,{getLabel:h=(e=>Pt(e,f))}=t,{checkEquality:g=((e,t)=>e===t)}=t,{checkIfOptionIsDisabled:y=(()=>!1)}=t,{mode:v="dropdown"}=t;const b=mt(!1);m(e,b,(e=>n(1,r=e)));const w=mt(-1);m(e,w,(e=>n(17,o=e)));const _=mt(Array.isArray(u)?u:[]);function x(){const e=d[d.length-1];S(w,o=s.findIndex((t=>g(e,t))),o)}function C(){$||(S(b,r=!0,r),x())}function E(){$||S(b,r=!1,r)}function k(e){const t=s.findIndex((t=>g(e,t)));S(w,o=t,o)}function I(){const e=s.length;S(w,o=o===e-1?0:o+1,o)}function T(){const e=s.length;S(w,o=o<=0?e-1:o-1,o)}function D(e){return"single"===c?g(e,d[0]):d.some((t=>g(e,t)))}function M(e){k(e),y(e)||(D(e)?"single"===c&&E():("single"===c?(n(5,d=[e]),E()):n(5,d=[...d,e]),l("change",d)))}function O(e){k(e),y(e)||D(e)&&("single"===c?(n(5,d=[]),E()):n(5,d=d.filter((t=>!g(e,t)))),l("change",d))}function N(e){"single"!==c&&D(e)?O(e):M(e)}function A(){N(s[o])}m(e,_,(e=>n(18,s=e))),pe((()=>{"static"===v&&x()}));const L={open:C,close:E,toggle:function(){$||(r?E():C())},focusOption:k,focusNext:I,focusPrevious:T,isOptionSelected:D,select:M,deselect:O,pick:N,pickFocused:A,handleKeyDown:function(e){if(r||"dropdown"!==v)switch(e.key){case"ArrowDown":e.preventDefault(),I();break;case"ArrowUp":e.preventDefault(),T();break;case"Escape":e.preventDefault(),E();break;case"Enter":e.preventDefault(),A()}else if("Enter"===e.key)e.preventDefault(),C()}},P=mt(d),R=mt({selectionType:c,getLabel:h,searchable:p,disabled:$,checkEquality:g,checkIfOptionIsDisabled:y,mode:v});return he("LIST_BOX_CONTEXT",{api:L,state:{isOpen:b,displayedOptions:_,focusedOptionIndex:w,value:P,staticProps:R}}),e.$$set=e=>{"selectionType"in e&&n(6,c=e.selectionType),"options"in e&&n(7,u=e.options),"value"in e&&n(5,d=e.value),"searchable"in e&&n(8,p=e.searchable),"disabled"in e&&n(9,$=e.disabled),"labelKey"in e&&n(10,f=e.labelKey),"getLabel"in e&&n(11,h=e.getLabel),"checkEquality"in e&&n(12,g=e.checkEquality),"checkIfOptionIsDisabled"in e&&n(13,y=e.checkIfOptionIsDisabled),"mode"in e&&n(14,v=e.mode),"$$scope"in e&&n(15,a=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty[0]&&_.set(Array.isArray(u)?u:[]),32&e.$$.dirty[0]&&P.set(d),31552&e.$$.dirty[0]&&R.set({selectionType:c,getLabel:h,searchable:p,disabled:$,checkEquality:g,checkIfOptionIsDisabled:y,mode:v})},[L,r,b,w,_,d,c,u,p,$,f,h,g,y,v,a,i]}class Xa extends at{constructor(e){super(),it(this,e,Ga,Ka,d,{selectionType:6,options:7,value:5,searchable:8,disabled:9,labelKey:10,getLabel:11,checkEquality:12,checkIfOptionIsDisabled:13,mode:14,api:0},null,[-1,-1])}get api(){return this.$$.ctx[0]}}function Za(e,t,n){const r=e.slice();r[23]=t[n],r[26]=n;const o=r[6].some((e=>r[4].checkEquality(e,r[23])));return r[24]=o,r}const Ja=e=>({option:32&e,label:48&e}),Qa=e=>({option:e[23],label:e[4].getLabel(e[23])});function el(e,t){let n,r,o,s,i,a;const l=t[15].default,c=f(l,t,t[14],Qa),u=c||function(e){let t,n;return t=new os({props:{arg:e[4].getLabel(e[23])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};48&n&&(r.arg=e[4].getLabel(e[23])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(t);function d(){return t[19](t[23])}return{key:e,first:null,c(){n=H("li"),u&&u.c(),r=j(),U(n,"role","option"),U(n,"aria-selected",o=!!t[24]||void 0),te(n,"selected",t[24]),te(n,"in-focus",t[26]===t[7]),this.first=n},m(e,t){L(e,n,t),u&&u.m(n,null),O(n,r),s=!0,i||(a=V(n,"click",d),i=!0)},p(e,r){t=e,c?c.p&&(!s||16432&r)&&y(c,l,t,t[14],s?g(l,t[14],r,Ja):v(t[14]),Qa):u&&u.p&&(!s||48&r)&&u.p(t,s?r:-1),(!s||112&r&&o!==(o=!!t[24]||void 0))&&U(n,"aria-selected",o),(!s||112&r)&&te(n,"selected",t[24]),(!s||160&r)&&te(n,"in-focus",t[26]===t[7])},i(e){s||(je(u,e),s=!0)},o(e){qe(u,e),s=!1},d(e){e&&P(n),u&&u.d(e),i=!1,a()}}}function tl(e){let t,n,r,o,s,i=[],a=new Map,l=e[5];const u=e=>e[23];for(let c=0;c<l.length;c+=1){let t=Za(e,l,c),n=u(t);a.set(n,i[c]=el(n,t))}return{c(){t=H("ul");for(let e=0;e<i.length;e+=1)i[e].c();U(t,"tabindex","0"),U(t,"id",e[0]),U(t,"role","listbox"),U(t,"aria-expanded","true"),U(t,"class",n=["list-box-options",e[4].selectionType,e[1]].join(" ")),te(t,"truncate",e[2]),te(t,"disabled",e[4].disabled)},m(n,a){L(n,t,a);for(let e=0;e<i.length;e+=1)i[e].m(t,null);e[20](t),r=!0,o||(s=[V(t,"focus",e[16]),V(t,"blur",e[17]),V(t,"keydown",e[18])],o=!0)},p(e,[o]){16880&o&&(l=e[5],ze(),i=Qe(i,o,u,1,e,l,a,t,Ze,el,null,Za),Fe()),(!r||1&o)&&U(t,"id",e[0]),(!r||18&o&&n!==(n=["list-box-options",e[4].selectionType,e[1]].join(" ")))&&U(t,"class",n),(!r||22&o)&&te(t,"truncate",e[2]),(!r||18&o)&&te(t,"disabled",e[4].disabled)},i(e){if(!r){for(let e=0;e<l.length;e+=1)je(i[e]);r=!0}},o(e){for(let t=0;t<i.length;t+=1)qe(i[t]);r=!1},d(n){n&&P(t);for(let e=0;e<i.length;e+=1)i[e].d();e[20](null),o=!1,c(s)}}}function nl(e,t,n){let r,o,s,i,{$$slots:a={},$$scope:l}=t,{id:c}=t,{class:u=""}=t,{truncateOnOverflow:d=!0}=t,{offsetOnFocus:p=0}=t;const{api:$,state:f}=ge("LIST_BOX_CONTEXT"),{displayedOptions:h,value:g,focusedOptionIndex:y,staticProps:v}=f;let b;function w(){if(b){const e=b.querySelector(".in-focus"),t="dropdown"===r.mode?b.parentElement:b;if(e&&t)if(e.offsetTop+e.clientHeight+p>t.scrollTop+t.clientHeight){const n=t.getBoundingClientRect().bottom-e.getBoundingClientRect().bottom-2*p;t.scrollTop-=n}else e.offsetTop<t.scrollTop&&(t.scrollTop=e.offsetTop-p)}}m(e,h,(e=>n(5,o=e))),m(e,g,(e=>n(6,s=e))),m(e,y,(e=>n(7,i=e))),m(e,v,(e=>n(4,r=e))),pe((()=>(w(),y.subscribe((()=>{ke().then((()=>w()))})))));return e.$$set=e=>{"id"in e&&n(0,c=e.id),"class"in e&&n(1,u=e.class),"truncateOnOverflow"in e&&n(2,d=e.truncateOnOverflow),"offsetOnFocus"in e&&n(13,p=e.offsetOnFocus),"$$scope"in e&&n(14,l=e.$$scope)},[c,u,d,b,r,o,s,i,$,h,g,y,v,p,l,a,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>$.pick(e),function(e){we[e?"unshift":"push"]((()=>{b=e,n(3,b)}))}]}class rl extends at{constructor(e){super(),it(this,e,nl,tl,d,{id:0,class:1,truncateOnOverflow:2,offsetOnFocus:13})}}const ol=e=>({option:268435456&e[0],label:536870912&e[0]}),sl=e=>({option:e[28],label:e[29]});function il(e,t,n){const r=e.slice();return r[30]=t[n],r}const al=e=>({option:1&e[0],label:17&e[0]}),ll=e=>({option:e[30],label:e[4](e[30])});function cl(e){let t,n;return t=new os({props:{arg:e[4](e[30])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n[0]&&(r.arg=e[4](e[30])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ul(e){let t;const n=e[16].default,r=f(n,e,e[23],ll);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388625&o[0])&&y(r,n,e,e[23],t?g(n,e[23],o,al):v(e[23]),ll)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function dl(e){let t,n,r,o,s,i,a,l,c,u,d;const p=[ul,cl],$=[];function m(e,t){return e[14].default?0:1}function f(){return e[17](e[30])}return r=m(e),o=$[r]=p[r](e),a=new Kr({props:{data:cr,size:"0.8em"}}),{c(){t=H("span"),n=H("span"),o.c(),s=j(),i=H("span"),rt(a.$$.fragment),l=j(),U(n,"class","label"),U(i,"class","remove-button icon-button"),U(t,"class","selected-value")},m(e,o){L(e,t,o),O(t,n),$[r].m(n,null),O(t,s),O(t,i),ot(a,i,null),O(t,l),c=!0,u||(d=V(i,"click",W(f)),u=!0)},p(t,s){let i=r;r=m(e=t),r===i?$[r].p(e,s):(ze(),qe($[i],1,1,(()=>{$[i]=null})),Fe(),o=$[r],o?o.p(e,s):(o=$[r]=p[r](e),o.c()),je(o,1),o.m(n,null))},i(e){c||(je(o),je(a.$$.fragment,e),c=!0)},o(e){qe(o),qe(a.$$.fragment,e),c=!1},d(e){e&&P(t),$[r].d(),st(a),u=!1,d()}}}function pl(e){let t,n;return t=new rl({props:{id:e[1]+"-select-options"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.id=e[1]+"-select-options"),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $l(e){let t,n;return t=new rl({props:{id:e[1]+"-select-options",$$slots:{default:[ml,({option:e,label:t})=>({28:e,29:t}),({option:e,label:t})=>[(e?268435456:0)|(t?536870912:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.id=e[1]+"-select-options"),813694976&n[0]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ml(e){let t;const n=e[16].default,r=f(n,e,e[23],sl);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||813694976&o[0])&&y(r,n,e,e[23],t?g(n,e[23],o,ol):v(e[23]),sl)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function fl(e){let t,n,r,o;const s=[$l,pl],i=[];function a(e,t){return e[14].default?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function hl(e){let t,n,r,o,s,i,a,l,d,p,$,m=e[0],f=[];for(let c=0;c<m.length;c+=1)f[c]=dl(il(e,m,c));const h=e=>qe(f[e],1,1,(()=>{f[e]=null}));return s=new Kr({props:{data:or}}),l=new yi({props:{isOpen:e[27],class:"multi-select-content "+e[6],trigger:e[10],$$slots:{default:[fl]},$$scope:{ctx:e}}}),l.$on("close",(function(){return e[20](e[26])})),{c(){t=H("span"),n=H("span");for(let e=0;e<f.length;e+=1)f[e].c();r=j(),o=H("span"),rt(s.$$.fragment),a=j(),rt(l.$$.fragment),U(n,"class","selected-values"),U(o,"class","clear-button icon-button"),U(t,"class",i="input-element multi-select-trigger "+e[7]),U(t,"aria-label",e[8]),U(t,"tabindex","0"),U(t,"id",e[1]),te(t,"disabled",e[2])},m(i,c){L(i,t,c),O(t,n);for(let e=0;e<f.length;e+=1)f[e].m(n,null);O(t,r),O(t,o),ot(s,o,null),e[19](t),L(i,a,c),ot(l,i,c),d=!0,p||($=[V(o,"click",W(e[18])),V(t,"click",(function(){u(e[26].toggle)&&e[26].toggle.apply(this,arguments)})),V(t,"keydown",(function(){u(e[26].handleKeyDown)&&e[26].handleKeyDown.apply(this,arguments)}))],p=!0)},p(r,o){if(e=r,8409105&o[0]){let t;for(m=e[0],t=0;t<m.length;t+=1){const r=il(e,m,t);f[t]?(f[t].p(r,o),je(f[t],1)):(f[t]=dl(r),f[t].c(),je(f[t],1),f[t].m(n,null))}for(ze(),t=m.length;t<f.length;t+=1)h(t);Fe()}(!d||128&o[0]&&i!==(i="input-element multi-select-trigger "+e[7]))&&U(t,"class",i),(!d||256&o[0])&&U(t,"aria-label",e[8]),(!d||2&o[0])&&U(t,"id",e[1]),(!d||132&o[0])&&te(t,"disabled",e[2]);const s={};134217728&o[0]&&(s.isOpen=e[27]),64&o[0]&&(s.class="multi-select-content "+e[6]),1024&o[0]&&(s.trigger=e[10]),8404994&o[0]&&(s.$$scope={dirty:o,ctx:e}),l.$set(s)},i(e){if(!d){for(let e=0;e<m.length;e+=1)je(f[e]);je(s.$$.fragment,e),je(l.$$.fragment,e),d=!0}},o(e){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)qe(f[t]);qe(s.$$.fragment,e),qe(l.$$.fragment,e),d=!1},d(n){n&&P(t),R(f,n),st(s),e[19](null),n&&P(a),st(l,n),p=!1,c($)}}}function gl(e){let t,n,r,o,s;const a=[e[13],{id:e[1]},{disabled:e[2]}];let l={};for(let d=0;d<a.length;d+=1)l=i(l,a[d]);function c(t){e[21](t)}t=new mo({props:l});let u={options:e[5],labelKey:e[3],getLabel:e[4],disabled:e[2],checkEquality:e[9],$$slots:{default:[hl,({api:e,isOpen:t})=>({26:e,27:t}),({api:e,isOpen:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}};return void 0!==e[0]&&(u.value=e[0]),r=new Xa({props:u}),we.push((()=>nt(r,"value",c))),r.$on("change",e[22]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,o){ot(t,e,o),L(e,n,o),ot(r,e,o),s=!0},p(e,n){const s=8198&n[0]?et(a,[8192&n[0]&&tt(e[13]),2&n[0]&&{id:e[1]},4&n[0]&&{disabled:e[2]}]):{};t.$set(s);const i={};32&n[0]&&(i.options=e[5]),8&n[0]&&(i.labelKey=e[3]),16&n[0]&&(i.getLabel=e[4]),4&n[0]&&(i.disabled=e[2]),512&n[0]&&(i.checkEquality=e[9]),209733079&n[0]&&(i.$$scope={dirty:n,ctx:e}),!o&&1&n[0]&&(o=!0,i.value=e[0],Te((()=>o=!1))),r.$set(i)},i(e){s||(je(t.$$.fragment,e),je(r.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function yl(e,t,n){const r=["id","disabled","labelKey","getLabel","options","values","contentClass","triggerClass","ariaLabel","valuesAreEqual","autoClearInvalidValues"];let o=w(t,r),{$$slots:s={},$$scope:a}=t;const l=_(s),c=fe();let u,{id:d=kt()}=t,{disabled:p=!1}=t,{labelKey:$="label"}=t,{getLabel:m=(e=>Pt(e,$))}=t,{options:f=[]}=t,{values:h=[]}=t,{contentClass:g=""}=t,{triggerClass:y=""}=t,{ariaLabel:v}=t,{valuesAreEqual:x=((e,t)=>e===t)}=t,{autoClearInvalidValues:S=!0}=t;function C(e){n(0,h=e),c("change",h)}function E(e){C(h.filter((t=>!x(t,e))))}return e.$$set=e=>{t=i(i({},t),b(e)),n(13,o=w(t,r)),"id"in e&&n(1,d=e.id),"disabled"in e&&n(2,p=e.disabled),"labelKey"in e&&n(3,$=e.labelKey),"getLabel"in e&&n(4,m=e.getLabel),"options"in e&&n(5,f=e.options),"values"in e&&n(0,h=e.values),"contentClass"in e&&n(6,g=e.contentClass),"triggerClass"in e&&n(7,y=e.triggerClass),"ariaLabel"in e&&n(8,v=e.ariaLabel),"valuesAreEqual"in e&&n(9,x=e.valuesAreEqual),"autoClearInvalidValues"in e&&n(15,S=e.autoClearInvalidValues),"$$scope"in e&&n(23,a=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty[0]&&(t=f,S&&C(h.filter((e=>t.some((t=>x(t,e)))))))},[h,d,p,$,m,f,g,y,v,x,u,C,E,o,l,S,s,e=>E(e),()=>C([]),function(e){we[e?"unshift":"push"]((()=>{u=e,n(10,u)}))},e=>e.close(),function(e){h=e,n(0,h)},function(t){ve.call(this,e,t)},a]}class vl extends at{constructor(e){super(),it(this,e,yl,gl,d,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,values:0,contentClass:6,triggerClass:7,ariaLabel:8,valuesAreEqual:9,autoClearInvalidValues:15},null,[-1,-1])}}function bl(e){let t,n,r,o,s,a,l,u;const d=[e[5]];function p(t){e[12](t)}let $={};for(let c=0;c<d.length;c+=1)$=i($,d[c]);void 0!==e[2]&&($.id=e[2]),t=new mo({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[5],{type:"password"},{class:s=["input-element","password-input",...e[3].split(" ")].join(" ")},{id:e[2]}],f={};for(let c=0;c<m.length;c+=1)f=i(f,m[c]);return{c(){rt(t.$$.fragment),r=j(),o=H("input"),Y(o,f),te(o,"has-error",e[4])},m(n,s){ot(t,n,s),L(n,r,s),L(n,o,s),o.autofocus&&o.focus(),e[13](o),X(o,e[0]),a=!0,l||(u=[V(o,"input",e[14]),V(o,"input",e[6]),V(o,"focus",e[7]),V(o,"blur",e[8]),V(o,"keydown",e[9]),V(o,"beforeinput",e[10]),V(o,"change",e[11])],l=!0)},p(e,[r]){const i=32&r?et(d,[tt(e[5])]):{};!n&&4&r&&(n=!0,i.id=e[2],Te((()=>n=!1))),t.$set(i),Y(o,f=et(m,[32&r&&e[5],{type:"password"},(!a||8&r&&s!==(s=["input-element","password-input",...e[3].split(" ")].join(" ")))&&{class:s},(!a||4&r)&&{id:e[2]}])),1&r&&o.value!==e[0]&&X(o,e[0]),te(o,"has-error",e[4])},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),a=!1},d(n){st(t,n),n&&P(r),n&&P(o),e[13](null),l=!1,c(u)}}}function wl(e,t,n){const r=["value","class","element","hasError","id"];let o=w(t,r),{value:s=""}=t,{class:a=""}=t,{element:l}=t,{hasError:c=!1}=t,{id:u}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,o=w(t,r)),"value"in e&&n(0,s=e.value),"class"in e&&n(3,a=e.class),"element"in e&&n(1,l=e.element),"hasError"in e&&n(4,c=e.hasError),"id"in e&&n(2,u=e.id)},[s,l,u,a,c,o,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){u=e,n(2,u)},function(e){we[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},function(){s=this.value,n(0,s)}]}class _l extends at{constructor(e){super(),it(this,e,wl,bl,d,{value:0,class:3,element:1,hasError:4,id:2})}}function xl(e){let t,n,r,s,a=[{class:"progress"},{role:"progressbar"},{"aria-valuenow":e[0]},{"aria-valuemin":r=0},{"aria-valuemax":s=100},{"aria-valuetext":e[1]},e[2]],l={};for(let o=0;o<a.length;o+=1)l=i(l,a[o]);return{c(){t=H("div"),n=H("div"),Z(n,"width",e[0]+"%"),Y(t,l)},m(e,r){L(e,t,r),O(t,n)},p(e,[r]){1&r&&Z(n,"width",e[0]+"%"),Y(t,l=et(a,[{class:"progress"},{role:"progressbar"},1&r&&{"aria-valuenow":e[0]},{"aria-valuemin":0},{"aria-valuemax":100},2&r&&{"aria-valuetext":e[1]},4&r&&e[2]]))},i:o,o:o,d(e){e&&P(t)}}}function Sl(e,t,n){const r=["percentage","ariaValueText"];let o=w(t,r),{percentage:s=0}=t,{ariaValueText:a="Progress"}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,o=w(t,r)),"percentage"in e&&n(0,s=e.percentage),"ariaValueText"in e&&n(1,a=e.ariaValueText)},[s,a,o]}class Cl extends at{constructor(e){super(),it(this,e,Sl,xl,d,{percentage:0,ariaValueText:1})}}function El(e){let t,n,r,o,s,a,l;const c=[e[5],{disabled:e[3]}];function u(t){e[6](t)}let d={};for(let p=0;p<c.length;p+=1)d=i(d,c[p]);return void 0!==e[1]&&(d.id=e[1]),t=new mo({props:d}),we.push((()=>nt(t,"id",u))),{c(){rt(t.$$.fragment),r=j(),o=H("input"),U(o,"class","radio"),U(o,"type","radio"),o.checked=e[0],U(o,"id",e[1]),o.disabled=e[3],o.value=e[2]},m(n,i){ot(t,n,i),L(n,r,i),L(n,o,i),s=!0,a||(l=V(o,"change",e[4]),a=!0)},p(e,[r]){const i=40&r?et(c,[32&r&&tt(e[5]),8&r&&{disabled:e[3]}]):{};!n&&2&r&&(n=!0,i.id=e[1],Te((()=>n=!1))),t.$set(i),(!s||1&r)&&(o.checked=e[0]),(!s||2&r)&&U(o,"id",e[1]),(!s||8&r)&&(o.disabled=e[3]),(!s||4&r)&&(o.value=e[2])},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(r),e&&P(o),a=!1,l()}}}function kl(e,t,n){const r=["checked","value","disabled","id"];let o=w(t,r);const s=fe();let{checked:a=!1}=t,{value:l}=t,{disabled:c=!1}=t,{id:u}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,o=w(t,r)),"checked"in e&&n(0,a=e.checked),"value"in e&&n(2,l=e.value),"disabled"in e&&n(3,c=e.disabled),"id"in e&&n(1,u=e.id)},[a,u,l,c,function(){n(0,a=!a),s("change",a)},o,function(e){u=e,n(1,u)}]}class Il extends at{constructor(e){super(),it(this,e,kl,El,d,{checked:0,value:2,disabled:3,id:1})}}const Tl=e=>({}),Dl=e=>({slot:"label"}),Ml=e=>({}),Ol=e=>({slot:"extra"});function Nl(e){let t,n;return t=new Il({props:{disabled:e[15],checked:e[9](e[0],e[14])}}),t.$on("change",(function(...t){return e[11](e[14],...t)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};32768&r&&(o.disabled=e[15]),16897&r&&(o.checked=e[9](e[0],e[14])),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Al(e){let t;const n=e[10].default,r=f(n,e,e[13],Dl);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&y(r,n,e,e[13],t?g(n,e[13],o,Tl):v(e[13]),Dl)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Ll(e){let t;const n=e[10].extra,r=f(n,e,e[13],Ol);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&y(r,n,e,e[13],t?g(n,e[13],o,Ml):v(e[13]),Ol)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Pl(e){let t,n;return t=new ws({props:{isInline:e[1],options:e[2],label:e[3],ariaLabel:e[4],disabled:e[7],boxed:e[8],labelKey:e[5],getLabel:e[6],$$slots:{extra:[Ll,({option:e,disabled:t})=>({14:e,15:t}),({option:e,disabled:t})=>(e?16384:0)|(t?32768:0)],label:[Al,({option:e,disabled:t})=>({14:e,15:t}),({option:e,disabled:t})=>(e?16384:0)|(t?32768:0)],default:[Nl,({option:e,disabled:t})=>({14:e,15:t}),({option:e,disabled:t})=>(e?16384:0)|(t?32768:0)]},$$scope:{ctx:e}}}),t.$on("change",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.isInline=e[1]),4&n&&(r.options=e[2]),8&n&&(r.label=e[3]),16&n&&(r.ariaLabel=e[4]),128&n&&(r.disabled=e[7]),256&n&&(r.boxed=e[8]),32&n&&(r.labelKey=e[5]),64&n&&(r.getLabel=e[6]),57857&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rl(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s}=t,{isInline:i=!1}=t,{options:a=[]}=t,{label:l}=t,{ariaLabel:c}=t,{radioLabelKey:u}=t,{getRadioLabel:d}=t,{disabled:p=!1}=t,{boxed:$=!1}=t,{valuesAreEqual:m=((e,t)=>e===t)}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"isInline"in e&&n(1,i=e.isInline),"options"in e&&n(2,a=e.options),"label"in e&&n(3,l=e.label),"ariaLabel"in e&&n(4,c=e.ariaLabel),"radioLabelKey"in e&&n(5,u=e.radioLabelKey),"getRadioLabel"in e&&n(6,d=e.getRadioLabel),"disabled"in e&&n(7,p=e.disabled),"boxed"in e&&n(8,$=e.boxed),"valuesAreEqual"in e&&n(9,m=e.valuesAreEqual),"$$scope"in e&&n(13,o=e.$$scope)},[s,i,a,l,c,u,d,p,$,m,r,(e,{detail:t})=>{t&&n(0,s=e)},function(t){ve.call(this,e,t)},o]}class Hl extends at{constructor(e){super(),it(this,e,Rl,Pl,d,{value:0,isInline:1,options:2,label:3,ariaLabel:4,radioLabelKey:5,getRadioLabel:6,disabled:7,boxed:8,valuesAreEqual:9})}}function zl(e,{delay:t=0,duration:n=400,easing:r=s}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>"opacity: "+e*o}}function Fl(e,{delay:t=0,duration:n=400,easing:r=Rt,x:o=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,u=l*(1-i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-u*t}`}}function jl(e){let t,n,r;return{c(){t=H("div"),U(t,"class","skeleton")},m(e,n){L(e,t,n),r=!0},i(e){r||(e&&Ie((()=>{n||(n=Ue(t,zl,{duration:120},!0)),n.run(1)})),r=!0)},o(e){e&&(n||(n=Ue(t,zl,{duration:120},!1)),n.run(0)),r=!1},d(e){e&&P(t),e&&n&&n.end()}}}function ql(e){let t,n=e[0]&&jl();return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,[r]){e[0]?n?1&r&&je(n,1):(n=jl(),n.c(),je(n,1),n.m(t.parentNode,t)):n&&(ze(),qe(n,1,1,(()=>{n=null})),Fe())},i(e){je(n)},o(e){qe(n)},d(e){n&&n.d(e),e&&P(t)}}}function Vl(e,t,n){let{loading:r=!1}=t;return e.$$set=e=>{"loading"in e&&n(0,r=e.loading)},[r]}class Bl extends at{constructor(e){super(),it(this,e,Vl,ql,d,{loading:0})}}function Wl(e){let t,n,r,o,s,a,l,u;const d=[e[7],{disabled:e[3]}];function p(t){e[14](t)}let $={};for(let c=0;c<d.length;c+=1)$=i($,d[c]);void 0!==e[0]&&($.id=e[0]),t=new mo({props:$}),we.push((()=>nt(t,"id",p)));let m=[e[7],{class:s="input-element text-area "+e[4]},{id:e[0]},{disabled:e[3]}],f={};for(let c=0;c<m.length;c+=1)f=i(f,m[c]);return{c(){rt(t.$$.fragment),r=j(),o=H("textarea"),Y(o,f),te(o,"has-error",e[5])},m(n,s){ot(t,n,s),L(n,r,s),L(n,o,s),o.autofocus&&o.focus(),e[15](o),X(o,e[1]),a=!0,l||(u=[V(o,"input",e[16]),V(o,"input",e[9]),V(o,"change",e[10]),V(o,"focus",e[11]),V(o,"blur",e[12]),V(o,"keydown",e[6]),V(o,"keydown",e[13])],l=!0)},p(e,[r]){const i=136&r?et(d,[128&r&&tt(e[7]),8&r&&{disabled:e[3]}]):{};!n&&1&r&&(n=!0,i.id=e[0],Te((()=>n=!1))),t.$set(i),Y(o,f=et(m,[128&r&&e[7],(!a||16&r&&s!==(s="input-element text-area "+e[4]))&&{class:s},(!a||1&r)&&{id:e[0]},(!a||8&r)&&{disabled:e[3]}])),2&r&&X(o,e[1]),te(o,"has-error",e[5])},i(e){a||(je(t.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),a=!1},d(n){st(t,n),n&&P(r),n&&P(o),e[15](null),l=!1,c(u)}}}function Ul(e,t,n){const r=["id","disabled","class","addNewLineOnEnterKeyCombinations","value","element","hasError"];let o=w(t,r);const s=fe();let{id:a}=t,{disabled:l=!1}=t,{class:c=""}=t,{addNewLineOnEnterKeyCombinations:u=!1}=t,{value:d=""}=t,{element:p}=t,{hasError:$=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(7,o=w(t,r)),"id"in e&&n(0,a=e.id),"disabled"in e&&n(3,l=e.disabled),"class"in e&&n(4,c=e.class),"addNewLineOnEnterKeyCombinations"in e&&n(8,u=e.addNewLineOnEnterKeyCombinations),"value"in e&&n(1,d=e.value),"element"in e&&n(2,p=e.element),"hasError"in e&&n(5,$=e.hasError)},[a,d,p,l,c,$,function(e){let t="normal";if(p&&"Enter"===e.key&&(e.ctrlKey||e.metaKey||e.shiftKey)){if(u&&!e.shiftKey){let e=p.selectionStart;const t=p.value.substring(0,e),r=p.value.substring(e,p.value.length);n(2,p.value=`${t}\n${r}`,p),n(1,d=p.value),e+=1,n(2,p.selectionStart=e,p),n(2,p.selectionEnd=e,p)}t="newlineWithEnterKeyCombination"}s("processedKeyDown",{type:t,originalEvent:e})},o,u,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){a=e,n(0,a)},function(e){we[e?"unshift":"push"]((()=>{p=e,n(2,p)}))},function(){d=this.value,n(1,d)}]}class Yl extends at{constructor(e){super(),it(this,e,Ul,Wl,d,{id:0,disabled:3,class:4,addNewLineOnEnterKeyCombinations:8,value:1,element:2,hasError:5})}}function Kl(e){let t,n,r,o,s,a,l;const c=[e[2]];let u={};for(let m=0;m<c.length;m+=1)u=i(u,c[m]);r=new Kr({props:u});const d=[{class:["prefixed-input",e[1]].join(" ")},e[3]];function p(t){e[4](t)}let $={};for(let m=0;m<d.length;m+=1)$=i($,d[m]);return void 0!==e[0]&&($.value=e[0]),s=new qi({props:$}),we.push((()=>nt(s,"value",p))),s.$on("input",e[5]),s.$on("focus",e[6]),s.$on("blur",e[7]),s.$on("keydown",e[8]),s.$on("beforeinput",e[9]),s.$on("change",e[10]),{c(){t=H("span"),n=H("div"),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),U(n,"class","input-prefix-icon-container svelte-p2k6oc"),U(t,"class","prefix-wrapper svelte-p2k6oc")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(t,o),ot(s,t,null),l=!0},p(e,[t]){const n=4&t?et(c,[tt(e[2])]):{};r.$set(n);const o=10&t?et(d,[2&t&&{class:["prefixed-input",e[1]].join(" ")},8&t&&tt(e[3])]):{};!a&&1&t&&(a=!0,o.value=e[0],Te((()=>a=!1))),s.$set(o)},i(e){l||(je(r.$$.fragment,e),je(s.$$.fragment,e),l=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),l=!1},d(e){e&&P(t),st(r),st(s)}}}function Gl(e,t,n){const r=["value","class","prefixIcon"];let o=w(t,r),{value:s=""}=t,{class:a=""}=t,{prefixIcon:l}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(3,o=w(t,r)),"value"in e&&n(0,s=e.value),"class"in e&&n(1,a=e.class),"prefixIcon"in e&&n(2,l=e.prefixIcon)},[s,a,l,o,function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class Xl extends at{constructor(e){super(),it(this,e,Gl,Kl,d,{value:0,class:1,prefixIcon:2})}}function Zl(e){let t,n,r,o,s,i;const a=e[8].default,l=f(a,e,e[11],null);return r=new yi({props:{isOpen:e[4],trigger:e[3],placements:e[1],class:"truncation-content",$$slots:{default:[Ql]},$$scope:{ctx:e}}}),{c(){t=H("span"),l&&l.c(),n=j(),rt(r.$$.fragment),U(t,"class","truncate"),U(t,"style",e[5]),te(t,"multiline",e[2])},m(a,c){L(a,t,c),l&&l.m(t,null),e[9](t),L(a,n,c),ot(r,a,c),o=!0,s||(i=[V(t,"mouseenter",e[6]),V(t,"mouseleave",e[10])],s=!0)},p(e,n){l&&l.p&&(!o||2048&n)&&y(l,a,e,e[11],o?g(a,e[11],n,null):v(e[11]),null),(!o||32&n)&&U(t,"style",e[5]),(!o||4&n)&&te(t,"multiline",e[2]);const s={};16&n&&(s.isOpen=e[4]),8&n&&(s.trigger=e[3]),2&n&&(s.placements=e[1]),2048&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(l,e),je(r.$$.fragment,e),o=!0)},o(e){qe(l,e),qe(r.$$.fragment,e),o=!1},d(o){o&&P(t),l&&l.d(o),e[9](null),o&&P(n),st(r,o),s=!1,c(i)}}}function Jl(e){let t;const n=e[8].default,r=f(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2048&o)&&y(r,n,e,e[11],t?g(n,e[11],o,null):v(e[11]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Ql(e){let t;const n=e[8].default,r=f(n,e,e[11],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2048&o)&&y(r,n,e,e[11],t?g(n,e[11],o,null):v(e[11]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function ec(e){let t,n,r,o;const s=[Jl,Zl],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function tc(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t,{lines:l=1}=t,{passthrough:c=!1}=t,{popoverPlacements:u=["top","right","left","bottom"]}=t,d=!1;return e.$$set=e=>{"lines"in e&&n(7,l=e.lines),"passthrough"in e&&n(0,c=e.passthrough),"popoverPlacements"in e&&n(1,u=e.popoverPlacements),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{128&e.$$.dirty&&n(2,r=l>1),132&e.$$.dirty&&n(5,o=r?`-webkit-line-clamp: ${l};`:void 0)},[c,u,r,s,d,o,function(){var e;((e=s).scrollHeight-e.clientHeight>3||e.scrollWidth-e.clientWidth>0)&&n(4,d=!0)},l,i,function(e){we[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},()=>{n(4,d=!1)},a]}class nc extends at{constructor(e){super(),it(this,e,tc,ec,d,{lines:7,passthrough:0,popoverPlacements:1})}}function rc(e){return"string"==typeof e?e:Mt(e,"message")?e.message:"object"==typeof e?JSON.stringify(e):String(e)}class oc extends Error{constructor(e,t){super(`${JSON.stringify(e)}${t?` ${t}`:""}`),this.name="MissingExhaustiveConditionError"}}function sc(e){throw new oc(e)}const ic=e=>({}),ac=e=>({});function lc(e){let t,n,r,o,s,i,a;const l=e[10].panel,c=f(l,e,e[9],ac);return{c(){t=H("div"),n=H("div"),o=j(),c&&c.c(),U(n,"class","resizer"),U(t,"class","panel"),U(t,"style",e[8])},m(l,u){L(l,t,u),O(t,n),O(t,o),c&&c.m(t,null),s=!0,i||(a=C(r=pn.call(null,n,{getStartingValue:e[11],onMove:e[12],onStart:e[13],onStop:e[14],min:e[2],max:e[3],axis:"width"===e[6]?"x":"y",invert:"right"===e[1]||"bottom"===e[1]})),i=!0)},p(e,n){r&&u(r.update)&&239&n&&r.update.call(null,{getStartingValue:e[11],onMove:e[12],onStart:e[13],onStop:e[14],min:e[2],max:e[3],axis:"width"===e[6]?"x":"y",invert:"right"===e[1]||"bottom"===e[1]}),c&&c.p&&(!s||512&n)&&y(c,l,e,e[9],s?g(l,e[9],n,ic):v(e[9]),ac),(!s||256&n)&&U(t,"style",e[8])},i(e){s||(je(c,e),s=!0)},o(e){qe(c,e),s=!1},d(e){e&&P(t),c&&c.d(e),i=!1,a()}}}function cc(e){let t,n,r,o;const s=e[10].default,i=f(s,e,e[9],null);let a=e[4]&&lc(e);return{c(){t=H("div"),n=H("div"),i&&i.c(),r=j(),a&&a.c(),U(n,"class","main"),U(t,"class","with-panel"),te(t,"is-resizing",e[7]),te(t,"top","top"===e[1]),te(t,"bottom","bottom"===e[1]),te(t,"left","left"===e[1]),te(t,"right","right"===e[1]),te(t,"horizontal","width"===e[6]),te(t,"vertical","height"===e[6])},m(e,s){L(e,t,s),O(t,n),i&&i.m(n,null),O(t,r),a&&a.m(t,null),o=!0},p(e,[n]){i&&i.p&&(!o||512&n)&&y(i,s,e,e[9],o?g(s,e[9],n,null):v(e[9]),null),e[4]?a?(a.p(e,n),16&n&&je(a,1)):(a=lc(e),a.c(),je(a,1),a.m(t,null)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),(!o||128&n)&&te(t,"is-resizing",e[7]),(!o||2&n)&&te(t,"top","top"===e[1]),(!o||2&n)&&te(t,"bottom","bottom"===e[1]),(!o||2&n)&&te(t,"left","left"===e[1]),(!o||2&n)&&te(t,"right","right"===e[1]),(!o||64&n)&&te(t,"horizontal","width"===e[6]),(!o||64&n)&&te(t,"vertical","height"===e[6])},i(e){o||(je(i,e),je(a),o=!0)},o(e){qe(i,e),qe(a),o=!1},d(e){e&&P(t),i&&i.d(e),a&&a.d()}}}function uc(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t,{placement:a="right"}=t,{sizePx:l=300}=t,{minSizePx:c=0}=t,{maxSizePx:u=1/0}=t,{showPanel:d=!0}=t,{onResizeComplete:p=(()=>{})}=t,$=!1;return e.$$set=e=>{"placement"in e&&n(1,a=e.placement),"sizePx"in e&&n(0,l=e.sizePx),"minSizePx"in e&&n(2,c=e.minSizePx),"maxSizePx"in e&&n(3,u=e.maxSizePx),"showPanel"in e&&n(4,d=e.showPanel),"onResizeComplete"in e&&n(5,p=e.onResizeComplete),"$$scope"in e&&n(9,i=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(6,r=(()=>{switch(a){case"top":case"bottom":return"height";case"left":case"right":return"width";default:return sc(a)}})()),65&e.$$.dirty&&n(8,o=`${r}: ${l}px;`)},[l,a,c,u,d,p,r,$,o,i,s,()=>l,e=>{n(0,l=e)},()=>{n(7,$=!0)},e=>{n(7,$=!1),p(e)}]}class dc extends at{constructor(e){super(),it(this,e,uc,cc,d,{placement:1,sizePx:0,minSizePx:2,maxSizePx:3,showPanel:4,onResizeComplete:5})}}var pc=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],$c={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return"undefined"!=typeof console&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var n=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},mc={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},fc=function(e,t){return void 0===t&&(t=2),("000"+e).slice(-1*t)},hc=function(e){return!0===e?1:0};function gc(e,t){var n;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return e.apply(r,o)}),t)}}var yc=function(e){return e instanceof Array?e:[e]};function vc(e,t,n){if(!0===n)return e.classList.add(t);e.classList.remove(t)}function bc(e,t,n){var r=window.document.createElement(e);return t=t||"",n=n||"",r.className=t,void 0!==n&&(r.textContent=n),r}function wc(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function _c(e,t){return t(e)?e:e.parentNode?_c(e.parentNode,t):void 0}function xc(e,t){var n=bc("div","numInputWrapper"),r=bc("input","numInput "+e),o=bc("span","arrowUp"),s=bc("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==t)for(var i in t)r.setAttribute(i,t[i]);return n.appendChild(r),n.appendChild(o),n.appendChild(s),n}function Sc(e){try{return"function"==typeof e.composedPath?e.composedPath()[0]:e.target}catch($h){return e.target}}var Cc=function(){},Ec=function(e,t,n){return n.months[t?"shorthand":"longhand"][e]},kc={D:Cc,F:function(e,t,n){e.setMonth(n.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,n){e.setHours(e.getHours()%12+12*hc(new RegExp(n.amPM[1],"i").test(t)))},M:function(e,t,n){e.setMonth(n.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(1e3*parseFloat(t))},W:function(e,t,n){var r=parseInt(t),o=new Date(e.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:Cc,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:Cc,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},Ic={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Tc={Z:function(e){return e.toISOString()},D:function(e,t,n){return t.weekdays.shorthand[Tc.w(e,t,n)]},F:function(e,t,n){return Ec(Tc.n(e,t,n)-1,!1,t)},G:function(e,t,n){return fc(Tc.h(e,t,n))},H:function(e){return fc(e.getHours())},J:function(e,t){return void 0!==t.ordinal?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[hc(e.getHours()>11)]},M:function(e,t){return Ec(e.getMonth(),!0,t)},S:function(e){return fc(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,n){return n.getWeek(e)},Y:function(e){return fc(e.getFullYear(),4)},d:function(e){return fc(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return fc(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return fc(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},Dc=function(e){var t=e.config,n=void 0===t?$c:t,r=e.l10n,o=void 0===r?mc:r,s=e.isMobile,i=void 0!==s&&s;return function(e,t,r){var s=r||o;return void 0===n.formatDate||i?t.split("").map((function(t,r,o){return Tc[t]&&"\\"!==o[r-1]?Tc[t](e,s,n):"\\"!==t?t:""})).join(""):n.formatDate(e,t,s)}},Mc=function(e){var t=e.config,n=void 0===t?$c:t,r=e.l10n,o=void 0===r?mc:r;return function(e,t,r,s){if(0===e||e){var i,a=s||o,l=e;if(e instanceof Date)i=new Date(e.getTime());else if("string"!=typeof e&&void 0!==e.toFixed)i=new Date(e);else if("string"==typeof e){var c=t||(n||$c).dateFormat,u=String(e).trim();if("today"===u)i=new Date,r=!0;else if(n&&n.parseDate)i=n.parseDate(e,c);else if(/Z$/.test(u)||/GMT$/.test(u))i=new Date(e);else{for(var d=void 0,p=[],$=0,m=0,f="";$<c.length;$++){var h=c[$],g="\\"===h,y="\\"===c[$-1]||g;if(Ic[h]&&!y){f+=Ic[h];var v=new RegExp(f).exec(e);v&&(d=!0)&&p["Y"!==h?"push":"unshift"]({fn:kc[h],val:v[++m]})}else g||(f+=".")}i=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),p.forEach((function(e){var t=e.fn,n=e.val;return i=t(i,n,a)||i})),i=d?i:void 0}}if(i instanceof Date&&!isNaN(i.getTime()))return!0===r&&i.setHours(0,0,0,0),i;n.errorHandler(new Error("Invalid date provided: "+l))}}};function Oc(e,t,n){return void 0===n&&(n=!0),!1!==n?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var Nc=function(e,t,n){return 3600*e+60*t+n},Ac=864e5;function Lc(e){var t=e.defaultHour,n=e.defaultMinute,r=e.defaultSeconds;if(void 0!==e.minDate){var o=e.minDate.getHours(),s=e.minDate.getMinutes(),i=e.minDate.getSeconds();t<o&&(t=o),t===o&&n<s&&(n=s),t===o&&n===s&&r<i&&(r=e.minDate.getSeconds())}if(void 0!==e.maxDate){var a=e.maxDate.getHours(),l=e.maxDate.getMinutes();(t=Math.min(t,a))===a&&(n=Math.min(l,n)),t===a&&n===l&&(r=e.maxDate.getSeconds())}return{hours:t,minutes:n,seconds:r}}"function"!=typeof Object.assign&&(Object.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var r=function(t){t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))},o=0,s=t;o<s.length;o++){var i=s[o];r(i)}return e});var Pc=globalThis&&globalThis.__assign||function(){return Pc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Pc.apply(this,arguments)},Rc=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r};function Hc(e,t){var n={config:Pc(Pc({},$c),Fc.defaultConfig),l10n:mc};function r(){var e;return(null===(e=n.calendarContainer)||void 0===e?void 0:e.getRootNode()).activeElement||document.activeElement}function o(e){return e.bind(n)}function s(){var e=n.config;!1===e.weekNumbers&&1===e.showMonths||!0!==e.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var t=(n.days.offsetWidth+1)*e.showMonths;n.daysContainer.style.width=t+"px",n.calendarContainer.style.width=t+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function i(e){if(0===n.selectedDates.length){var t=void 0===n.config.minDate||Oc(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),r=Lc(n.config);t.setHours(r.hours,r.minutes,r.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==e&&"blur"!==e.type&&function(e){e.preventDefault();var t="keydown"===e.type,r=Sc(e),o=r;void 0!==n.amPM&&r===n.amPM&&(n.amPM.textContent=n.l10n.amPM[hc(n.amPM.textContent===n.l10n.amPM[0])]);var s=parseFloat(o.getAttribute("min")),i=parseFloat(o.getAttribute("max")),a=parseFloat(o.getAttribute("step")),l=parseInt(o.value,10),c=e.delta||(t?38===e.which?1:-1:0),u=l+a*c;if(void 0!==o.value&&2===o.value.length){var d=o===n.hourElement,p=o===n.minuteElement;u<s?(u=i+u+hc(!d)+(hc(d)&&hc(!n.amPM)),p&&f(void 0,-1,n.hourElement)):u>i&&(u=o===n.hourElement?u-i-hc(!n.amPM):s,p&&f(void 0,1,n.hourElement)),n.amPM&&d&&(1===a?u+l===23:Math.abs(u-l)>a)&&(n.amPM.textContent=n.l10n.amPM[hc(n.amPM.textContent===n.l10n.amPM[0])]),o.value=fc(u)}}(e);var o=n._input.value;a(),Q(),n._input.value!==o&&n._debouncedChange()}function a(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var e,t,r=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(n.minuteElement.value,10)||0)%60,s=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(e=r,t=n.amPM.textContent,r=e%12+12*hc(t===n.l10n.amPM[1]));var i=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===Oc(n.latestSelectedDateObj,n.config.minDate,!0),a=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===Oc(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var l=Nc(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),u=Nc(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),d=Nc(r,o,s);if(d>u&&d<l){var p=function(e){var t=Math.floor(e/3600),n=(e-3600*t)/60;return[t,n,e-3600*t-60*n]}(l);r=p[0],o=p[1],s=p[2]}}else{if(a){var $=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(r=Math.min(r,$.getHours()))===$.getHours()&&(o=Math.min(o,$.getMinutes())),o===$.getMinutes()&&(s=Math.min(s,$.getSeconds()))}if(i){var m=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(r=Math.max(r,m.getHours()))===m.getHours()&&o<m.getMinutes()&&(o=m.getMinutes()),o===m.getMinutes()&&(s=Math.max(s,m.getSeconds()))}}c(r,o,s)}}function l(e){var t=e||n.latestSelectedDateObj;t&&t instanceof Date&&c(t.getHours(),t.getMinutes(),t.getSeconds())}function c(e,t,r){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(e%24,t,r||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=fc(n.config.time_24hr?e:(12+e)%12+12*hc(e%12==0)),n.minuteElement.value=fc(t),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[hc(e>=12)]),void 0!==n.secondElement&&(n.secondElement.value=fc(r)))}function u(e){var t=Sc(e),n=parseInt(t.value)+(e.delta||0);(n/1e3>1||"Enter"===e.key&&!/[^\d]/.test(n.toString()))&&D(n)}function d(e,t,r,o){return t instanceof Array?t.forEach((function(t){return d(e,t,r,o)})):e instanceof Array?e.forEach((function(e){return d(e,t,r,o)})):(e.addEventListener(t,r,o),void n._handlers.push({remove:function(){return e.removeEventListener(t,r,o)}}))}function p(){K("onChange")}function $(e,t){var r=void 0!==e?n.parseDate(e):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),o=n.currentYear,s=n.currentMonth;try{void 0!==r&&(n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth())}catch(i){i.message="Invalid date supplied: "+r,n.config.errorHandler(i)}t&&n.currentYear!==o&&(K("onYearChange"),_()),!t||n.currentYear===o&&n.currentMonth===s||K("onMonthChange"),n.redraw()}function m(e){var t=Sc(e);~t.className.indexOf("arrow")&&f(e,t.classList.contains("arrowUp")?1:-1)}function f(e,t,n){var r=e&&Sc(e),o=n||r&&r.parentNode&&r.parentNode.firstChild,s=G("increment");s.delta=t,o&&o.dispatchEvent(s)}function h(e,t,r,o){var s=M(t,!0),i=bc("span",e,t.getDate().toString());return i.dateObj=t,i.$i=o,i.setAttribute("aria-label",n.formatDate(t,n.config.ariaDateFormat)),-1===e.indexOf("hidden")&&0===Oc(t,n.now)&&(n.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),s?(i.tabIndex=-1,X(t)&&(i.classList.add("selected"),n.selectedDateElem=i,"range"===n.config.mode&&(vc(i,"startRange",n.selectedDates[0]&&0===Oc(t,n.selectedDates[0],!0)),vc(i,"endRange",n.selectedDates[1]&&0===Oc(t,n.selectedDates[1],!0)),"nextMonthDay"===e&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(e){return!("range"!==n.config.mode||n.selectedDates.length<2)&&(Oc(e,n.selectedDates[0])>=0&&Oc(e,n.selectedDates[1])<=0)}(t)&&!X(t)&&i.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==e&&o%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(t)+"</span>"),K("onDayCreate",i),i}function g(e){e.focus(),"range"===n.config.mode&&L(e)}function y(e){for(var t=e>0?0:n.config.showMonths-1,r=e>0?n.config.showMonths:-1,o=t;o!=r;o+=e)for(var s=n.daysContainer.children[o],i=e>0?0:s.children.length-1,a=e>0?s.children.length:-1,l=i;l!=a;l+=e){var c=s.children[l];if(-1===c.className.indexOf("hidden")&&M(c.dateObj))return c}}function v(e,t){var o=r(),s=O(o||document.body),i=void 0!==e?e:s?o:void 0!==n.selectedDateElem&&O(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&O(n.todayDateElem)?n.todayDateElem:y(t>0?1:-1);void 0===i?n._input.focus():s?function(e,t){for(var r=-1===e.className.indexOf("Month")?e.dateObj.getMonth():n.currentMonth,o=t>0?n.config.showMonths:-1,s=t>0?1:-1,i=r-n.currentMonth;i!=o;i+=s)for(var a=n.daysContainer.children[i],l=r-n.currentMonth===i?e.$i+t:t<0?a.children.length-1:0,c=a.children.length,u=l;u>=0&&u<c&&u!=(t>0?c:-1);u+=s){var d=a.children[u];if(-1===d.className.indexOf("hidden")&&M(d.dateObj)&&Math.abs(e.$i-u)>=Math.abs(t))return g(d)}n.changeMonth(s),v(y(s),0)}(i,t):g(i)}function b(e,t){for(var r=(new Date(e,t,1).getDay()-n.l10n.firstDayOfWeek+7)%7,o=n.utils.getDaysInMonth((t-1+12)%12,e),s=n.utils.getDaysInMonth(t,e),i=window.document.createDocumentFragment(),a=n.config.showMonths>1,l=a?"prevMonthDay hidden":"prevMonthDay",c=a?"nextMonthDay hidden":"nextMonthDay",u=o+1-r,d=0;u<=o;u++,d++)i.appendChild(h("flatpickr-day "+l,new Date(e,t-1,u),0,d));for(u=1;u<=s;u++,d++)i.appendChild(h("flatpickr-day",new Date(e,t,u),0,d));for(var p=s+1;p<=42-r&&(1===n.config.showMonths||d%7!=0);p++,d++)i.appendChild(h("flatpickr-day "+c,new Date(e,t+1,p%s),0,d));var $=bc("div","dayContainer");return $.appendChild(i),$}function w(){if(void 0!==n.daysContainer){wc(n.daysContainer),n.weekNumbers&&wc(n.weekNumbers);for(var e=document.createDocumentFragment(),t=0;t<n.config.showMonths;t++){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),e.appendChild(b(r.getFullYear(),r.getMonth()))}n.daysContainer.appendChild(e),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&L()}}function _(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var e=function(e){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&e<n.config.minDate.getMonth())&&!(void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&e>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var t=0;t<12;t++)if(e(t)){var r=bc("option","flatpickr-monthDropdown-month");r.value=new Date(n.currentYear,t).getMonth().toString(),r.textContent=Ec(t,n.config.shorthandCurrentMonth,n.l10n),r.tabIndex=-1,n.currentMonth===t&&(r.selected=!0),n.monthsDropdownContainer.appendChild(r)}}}function x(){var e,t=bc("div","flatpickr-month"),r=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?e=bc("span","cur-month"):(n.monthsDropdownContainer=bc("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),d(n.monthsDropdownContainer,"change",(function(e){var t=Sc(e),r=parseInt(t.value,10);n.changeMonth(r-n.currentMonth),K("onMonthChange")})),_(),e=n.monthsDropdownContainer);var o=xc("cur-year",{tabindex:"-1"}),s=o.getElementsByTagName("input")[0];s.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&s.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(s.setAttribute("max",n.config.maxDate.getFullYear().toString()),s.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var i=bc("div","flatpickr-current-month");return i.appendChild(e),i.appendChild(o),r.appendChild(i),t.appendChild(r),{container:t,yearElement:s,monthElement:e}}function S(){wc(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var e=n.config.showMonths;e--;){var t=x();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function C(){n.weekdayContainer?wc(n.weekdayContainer):n.weekdayContainer=bc("div","flatpickr-weekdays");for(var e=n.config.showMonths;e--;){var t=bc("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return E(),n.weekdayContainer}function E(){if(n.weekdayContainer){var e=n.l10n.firstDayOfWeek,t=Rc(n.l10n.weekdays.shorthand);e>0&&e<t.length&&(t=Rc(t.splice(e,t.length),t.splice(0,e)));for(var r=n.config.showMonths;r--;)n.weekdayContainer.children[r].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+t.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function k(e,t){void 0===t&&(t=!0);var r=t?e:e-n.currentMonth;r<0&&!0===n._hidePrevMonthArrow||r>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=r,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,K("onYearChange"),_()),w(),K("onMonthChange"),Z())}function I(e){return n.calendarContainer.contains(e)}function T(e){if(n.isOpen&&!n.config.inline){var t=Sc(e),r=I(t),o=!(t===n.input||t===n.altInput||n.element.contains(t)||e.path&&e.path.indexOf&&(~e.path.indexOf(n.input)||~e.path.indexOf(n.altInput)))&&!r&&!I(e.relatedTarget),s=!n.config.ignoredFocusElements.some((function(e){return e.contains(t)}));o&&s&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&i(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function D(e){if(!(!e||n.config.minDate&&e<n.config.minDate.getFullYear()||n.config.maxDate&&e>n.config.maxDate.getFullYear())){var t=e,r=n.currentYear!==t;n.currentYear=t||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),r&&(n.redraw(),K("onYearChange"),_())}}function M(e,t){var r;void 0===t&&(t=!0);var o=n.parseDate(e,void 0,t);if(n.config.minDate&&o&&Oc(o,n.config.minDate,void 0!==t?t:!n.minDateHasTime)<0||n.config.maxDate&&o&&Oc(o,n.config.maxDate,void 0!==t?t:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===o)return!1;for(var s=!!n.config.enable,i=null!==(r=n.config.enable)&&void 0!==r?r:n.config.disable,a=0,l=void 0;a<i.length;a++){if("function"==typeof(l=i[a])&&l(o))return s;if(l instanceof Date&&void 0!==o&&l.getTime()===o.getTime())return s;if("string"==typeof l){var c=n.parseDate(l,void 0,!0);return c&&c.getTime()===o.getTime()?s:!s}if("object"==typeof l&&void 0!==o&&l.from&&l.to&&o.getTime()>=l.from.getTime()&&o.getTime()<=l.to.getTime())return s}return!s}function O(e){return void 0!==n.daysContainer&&(-1===e.className.indexOf("hidden")&&-1===e.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(e))}function N(e){var t=e.target===n._input,r=n._input.value.trimEnd()!==J();!t||!r||e.relatedTarget&&I(e.relatedTarget)||n.setDate(n._input.value,!0,e.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function A(t){var o=Sc(t),s=n.config.wrap?e.contains(o):o===n._input,l=n.config.allowInput,c=n.isOpen&&(!l||!s),u=n.config.inline&&s&&!l;if(13===t.keyCode&&s){if(l)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),o.blur();n.open()}else if(I(o)||c||u){var d=!!n.timeContainer&&n.timeContainer.contains(o);switch(t.keyCode){case 13:d?(t.preventDefault(),i(),q()):V(t);break;case 27:t.preventDefault(),q();break;case 8:case 46:s&&!n.config.allowInput&&(t.preventDefault(),n.clear());break;case 37:case 39:if(d||s)n.hourElement&&n.hourElement.focus();else{t.preventDefault();var p=r();if(void 0!==n.daysContainer&&(!1===l||p&&O(p))){var $=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),k($),v(y(1),0)):v(void 0,$)}}break;case 38:case 40:t.preventDefault();var m=40===t.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?t.ctrlKey?(t.stopPropagation(),D(n.currentYear-m),v(y(1),0)):d||v(void 0,7*m):o===n.currentYearElement?D(n.currentYear-m):n.config.enableTime&&(!d&&n.hourElement&&n.hourElement.focus(),i(t),n._debouncedChange());break;case 9:if(d){var f=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(e){return e})),h=f.indexOf(o);if(-1!==h){var g=f[h+(t.shiftKey?-1:1)];t.preventDefault(),(g||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&t.shiftKey&&(t.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(t.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],a(),Q();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],a(),Q()}(s||I(o))&&K("onKeyDown",t)}function L(e,t){if(void 0===t&&(t="flatpickr-day"),1===n.selectedDates.length&&(!e||e.classList.contains(t)&&!e.classList.contains("flatpickr-disabled"))){for(var r=e?e.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),o=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),s=Math.min(r,n.selectedDates[0].getTime()),i=Math.max(r,n.selectedDates[0].getTime()),a=!1,l=0,c=0,u=s;u<i;u+=Ac)M(new Date(u),!0)||(a=a||u>s&&u<i,u<o&&(!l||u>l)?l=u:u>o&&(!c||u<c)&&(c=u));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+t)).forEach((function(t){var s,i,u,d=t.dateObj.getTime(),p=l>0&&d<l||c>0&&d>c;if(p)return t.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(e){t.classList.remove(e)}));a&&!p||(["startRange","inRange","endRange","notAllowed"].forEach((function(e){t.classList.remove(e)})),void 0!==e&&(e.classList.add(r<=n.selectedDates[0].getTime()?"startRange":"endRange"),o<r&&d===o?t.classList.add("startRange"):o>r&&d===o&&t.classList.add("endRange"),d>=l&&(0===c||d<=c)&&(i=o,u=r,(s=d)>Math.min(i,u)&&s<Math.max(i,u))&&t.classList.add("inRange")))}))}}function P(){!n.isOpen||n.config.static||n.config.inline||F()}function R(e){return function(t){var r=n.config["_"+e+"Date"]=n.parseDate(t,n.config.dateFormat),o=n.config["_"+("min"===e?"max":"min")+"Date"];void 0!==r&&(n["min"===e?"minDateHasTime":"maxDateHasTime"]=r.getHours()>0||r.getMinutes()>0||r.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(e){return M(e)})),n.selectedDates.length||"min"!==e||l(r),Q()),n.daysContainer&&(j(),void 0!==r?n.currentYearElement[e]=r.getFullYear().toString():n.currentYearElement.removeAttribute(e),n.currentYearElement.disabled=!!o&&void 0!==r&&o.getFullYear()===r.getFullYear())}}function H(){return n.config.wrap?e.querySelector("[data-input]"):e}function z(){"object"!=typeof n.config.locale&&void 0===Fc.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=Pc(Pc({},Fc.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Fc.l10ns[n.config.locale]:void 0),Ic.D="("+n.l10n.weekdays.shorthand.join("|")+")",Ic.l="("+n.l10n.weekdays.longhand.join("|")+")",Ic.M="("+n.l10n.months.shorthand.join("|")+")",Ic.F="("+n.l10n.months.longhand.join("|")+")",Ic.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===Pc(Pc({},t),JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===Fc.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=Dc(n),n.parseDate=Mc({config:n.config,l10n:n.l10n})}function F(e){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){K("onPreCalendarPosition");var t=e||n._positionElement,r=Array.prototype.reduce.call(n.calendarContainer.children,(function(e,t){return e+t.offsetHeight}),0),o=n.calendarContainer.offsetWidth,s=n.config.position.split(" "),i=s[0],a=s.length>1?s[1]:null,l=t.getBoundingClientRect(),c=window.innerHeight-l.bottom,u="above"===i||"below"!==i&&c<r&&l.top>r,d=window.pageYOffset+l.top+(u?-r-2:t.offsetHeight+2);if(vc(n.calendarContainer,"arrowTop",!u),vc(n.calendarContainer,"arrowBottom",u),!n.config.inline){var p=window.pageXOffset+l.left,$=!1,m=!1;"center"===a?(p-=(o-l.width)/2,$=!0):"right"===a&&(p-=o-l.width,m=!0),vc(n.calendarContainer,"arrowLeft",!$&&!m),vc(n.calendarContainer,"arrowCenter",$),vc(n.calendarContainer,"arrowRight",m);var f=window.document.body.offsetWidth-(window.pageXOffset+l.right),h=p+o>window.document.body.offsetWidth,g=f+o>window.document.body.offsetWidth;if(vc(n.calendarContainer,"rightMost",h),!n.config.static)if(n.calendarContainer.style.top=d+"px",h)if(g){var y=function(){for(var e=null,t=0;t<document.styleSheets.length;t++){var n=document.styleSheets[t];if(n.cssRules){try{n.cssRules}catch(o){continue}e=n;break}}return null!=e?e:(r=document.createElement("style"),document.head.appendChild(r),r.sheet);var r}();if(void 0===y)return;var v=window.document.body.offsetWidth,b=Math.max(0,v/2-o/2),w=y.cssRules.length,_="{left:"+l.left+"px;right:auto;}";vc(n.calendarContainer,"rightMost",!1),vc(n.calendarContainer,"centerMost",!0),y.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+_,w),n.calendarContainer.style.left=b+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=f+"px";else n.calendarContainer.style.left=p+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,e)}function j(){n.config.noCalendar||n.isMobile||(_(),Z(),w())}function q(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function V(e){e.preventDefault(),e.stopPropagation();var t=_c(Sc(e),(function(e){return e.classList&&e.classList.contains("flatpickr-day")&&!e.classList.contains("flatpickr-disabled")&&!e.classList.contains("notAllowed")}));if(void 0!==t){var r=t,o=n.latestSelectedDateObj=new Date(r.dateObj.getTime()),s=(o.getMonth()<n.currentMonth||o.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=r,"single"===n.config.mode)n.selectedDates=[o];else if("multiple"===n.config.mode){var i=X(o);i?n.selectedDates.splice(parseInt(i),1):n.selectedDates.push(o)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=o,n.selectedDates.push(o),0!==Oc(o,n.selectedDates[0],!0)&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()})));if(a(),s){var l=n.currentYear!==o.getFullYear();n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth(),l&&(K("onYearChange"),_()),K("onMonthChange")}if(Z(),w(),Q(),s||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():g(r),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var c="single"===n.config.mode&&!n.config.enableTime,u="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(c||u)&&q()}p()}}n.parseDate=Mc({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=d,n._setHoursFromDate=l,n._positionCalendar=F,n.changeMonth=k,n.changeYear=D,n.clear=function(e,t){void 0===e&&(e=!0);void 0===t&&(t=!0);n.input.value="",void 0!==n.altInput&&(n.altInput.value="");void 0!==n.mobileInput&&(n.mobileInput.value="");n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===t&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth());if(!0===n.config.enableTime){var r=Lc(n.config),o=r.hours,s=r.minutes,i=r.seconds;c(o,s,i)}n.redraw(),e&&K("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active"));K("onClose")},n.onMouseOver=L,n._createElement=bc,n.createDay=h,n.destroy=function(){void 0!==n.config&&K("onDestroy");for(var e=n._handlers.length;e--;)n._handlers[e].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput);n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly"));["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(e){try{delete n[e]}catch(t){}}))},n.isEnabled=M,n.jumpToDate=$,n.updateValue=Q,n.open=function(e,t){void 0===t&&(t=n._positionElement);if(!0===n.isMobile){if(e){e.preventDefault();var r=Sc(e);r&&r.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void K("onOpen")}if(n._input.disabled||n.config.inline)return;var o=n.isOpen;n.isOpen=!0,o||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),K("onOpen"),F(t));!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==e&&n.timeContainer.contains(e.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))},n.redraw=j,n.set=function(e,t){if(null!==e&&"object"==typeof e)for(var r in Object.assign(n.config,e),e)void 0!==B[r]&&B[r].forEach((function(e){return e()}));else n.config[e]=t,void 0!==B[e]?B[e].forEach((function(e){return e()})):pc.indexOf(e)>-1&&(n.config[e]=yc(t));n.redraw(),Q(!0)},n.setDate=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=n.config.dateFormat);if(0!==e&&!e||e instanceof Array&&0===e.length)return n.clear(t);W(e,r),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),$(void 0,t),l(),0===n.selectedDates.length&&n.clear(!1);Q(t),t&&K("onChange")},n.toggle=function(e){if(!0===n.isOpen)return n.close();n.open(e)};var B={locale:[z,E],showMonths:[S,s,C],minDate:[$],maxDate:[$],positionElement:[Y],clickOpens:[function(){!0===n.config.clickOpens?(d(n._input,"focus",n.open),d(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function W(e,t){var r=[];if(e instanceof Array)r=e.map((function(e){return n.parseDate(e,t)}));else if(e instanceof Date||"number"==typeof e)r=[n.parseDate(e,t)];else if("string"==typeof e)switch(n.config.mode){case"single":case"time":r=[n.parseDate(e,t)];break;case"multiple":r=e.split(n.config.conjunction).map((function(e){return n.parseDate(e,t)}));break;case"range":r=e.split(n.l10n.rangeSeparator).map((function(e){return n.parseDate(e,t)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(e)));n.selectedDates=n.config.allowInvalidPreload?r:r.filter((function(e){return e instanceof Date&&M(e,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(e,t){return e.getTime()-t.getTime()}))}function U(e){return e.slice().map((function(e){return"string"==typeof e||"number"==typeof e||e instanceof Date?n.parseDate(e,void 0,!0):e&&"object"==typeof e&&e.from&&e.to?{from:n.parseDate(e.from,void 0),to:n.parseDate(e.to,void 0)}:e})).filter((function(e){return e}))}function Y(){n._positionElement=n.config.positionElement||n._input}function K(e,t){if(void 0!==n.config){var r=n.config[e];if(void 0!==r&&r.length>0)for(var o=0;r[o]&&o<r.length;o++)r[o](n.selectedDates,n.input.value,n,t);"onChange"===e&&(n.input.dispatchEvent(G("change")),n.input.dispatchEvent(G("input")))}}function G(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}function X(e){for(var t=0;t<n.selectedDates.length;t++){var r=n.selectedDates[t];if(r instanceof Date&&0===Oc(r,e))return""+t}return!1}function Z(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(e,t){var r=new Date(n.currentYear,n.currentMonth,1);r.setMonth(n.currentMonth+t),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[t].textContent=Ec(r.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=r.getMonth().toString(),e.value=r.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function J(e){var t=e||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(e){return n.formatDate(e,t)})).filter((function(e,t,r){return"range"!==n.config.mode||n.config.enableTime||r.indexOf(e)===t})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Q(e){void 0===e&&(e=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=J(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=J(n.config.altFormat)),!1!==e&&K("onValueUpdate")}function ee(e){var t=Sc(e),r=n.prevMonthNav.contains(t),o=n.nextMonthNav.contains(t);r||o?k(r?-1:1):n.yearElements.indexOf(t)>=0?t.select():t.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):t.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=e,n.isOpen=!1,function(){var r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],s=Pc(Pc({},JSON.parse(JSON.stringify(e.dataset||{}))),t),i={};n.config.parseDate=s.parseDate,n.config.formatDate=s.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(e){n.config._enable=U(e)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(e){n.config._disable=U(e)}});var a="time"===s.mode;if(!s.dateFormat&&(s.enableTime||a)){var l=Fc.defaultConfig.dateFormat||$c.dateFormat;i.dateFormat=s.noCalendar||a?"H:i"+(s.enableSeconds?":S":""):l+" H:i"+(s.enableSeconds?":S":"")}if(s.altInput&&(s.enableTime||a)&&!s.altFormat){var c=Fc.defaultConfig.altFormat||$c.altFormat;i.altFormat=s.noCalendar||a?"h:i"+(s.enableSeconds?":S K":" K"):c+" h:i"+(s.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:R("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:R("max")});var u=function(e){return function(t){n.config["min"===e?"_minTime":"_maxTime"]=n.parseDate(t,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:u("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:u("max")}),"time"===s.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0);Object.assign(n.config,i,s);for(var d=0;d<r.length;d++)n.config[r[d]]=!0===n.config[r[d]]||"true"===n.config[r[d]];pc.filter((function(e){return void 0!==n.config[e]})).forEach((function(e){n.config[e]=yc(n.config[e]||[]).map(o)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(d=0;d<n.config.plugins.length;d++){var p=n.config.plugins[d](n)||{};for(var $ in p)pc.indexOf($)>-1?n.config[$]=yc(p[$]).map(o).concat(n.config[$]):void 0===s[$]&&(n.config[$]=p[$])}s.altInputClass||(n.config.altInputClass=H().className+" "+n.config.altInputClass);K("onParseConfig")}(),z(),function(){if(n.input=H(),!n.input)return void n.config.errorHandler(new Error("Invalid input element specified"));n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=bc(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling));n.config.allowInput||n._input.setAttribute("readonly","readonly");Y()}(),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var e=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);e&&W(e,n.config.dateFormat);n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]);void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i"));void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i"));n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(e,t){return void 0===e&&(e=n.currentMonth),void 0===t&&(t=n.currentYear),1===e&&(t%4==0&&t%100!=0||t%400==0)?29:n.l10n.daysInMonth[e]}},n.isMobile||function(){var e=window.document.createDocumentFragment();if(n.calendarContainer=bc("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(e.appendChild((n.monthNav=bc("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=bc("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=bc("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,S(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(e){n.__hidePrevMonthArrow!==e&&(vc(n.prevMonthNav,"flatpickr-disabled",e),n.__hidePrevMonthArrow=e)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(e){n.__hideNextMonthArrow!==e&&(vc(n.nextMonthNav,"flatpickr-disabled",e),n.__hideNextMonthArrow=e)}}),n.currentYearElement=n.yearElements[0],Z(),n.monthNav)),n.innerContainer=bc("div","flatpickr-innerContainer"),n.config.weekNumbers){var t=function(){n.calendarContainer.classList.add("hasWeeks");var e=bc("div","flatpickr-weekwrapper");e.appendChild(bc("span","flatpickr-weekday",n.l10n.weekAbbreviation));var t=bc("div","flatpickr-weeks");return e.appendChild(t),{weekWrapper:e,weekNumbers:t}}(),r=t.weekWrapper,o=t.weekNumbers;n.innerContainer.appendChild(r),n.weekNumbers=o,n.weekWrapper=r}n.rContainer=bc("div","flatpickr-rContainer"),n.rContainer.appendChild(C()),n.daysContainer||(n.daysContainer=bc("div","flatpickr-days"),n.daysContainer.tabIndex=-1),w(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),e.appendChild(n.innerContainer)}n.config.enableTime&&e.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var e=Lc(n.config);n.timeContainer=bc("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var t=bc("span","flatpickr-time-separator",":"),r=xc("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=r.getElementsByTagName("input")[0];var o=xc("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});n.minuteElement=o.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=fc(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?e.hours:function(e){switch(e%24){case 0:case 12:return 12;default:return e%12}}(e.hours)),n.minuteElement.value=fc(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():e.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(r),n.timeContainer.appendChild(t),n.timeContainer.appendChild(o),n.config.time_24hr&&n.timeContainer.classList.add("time24hr");if(n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var s=xc("flatpickr-second");n.secondElement=s.getElementsByTagName("input")[0],n.secondElement.value=fc(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():e.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(bc("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(s)}n.config.time_24hr||(n.amPM=bc("span","flatpickr-am-pm",n.l10n.amPM[hc((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM));return n.timeContainer}());vc(n.calendarContainer,"rangeMode","range"===n.config.mode),vc(n.calendarContainer,"animate",!0===n.config.animate),vc(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(e);var s=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!s&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var i=bc("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(i,n.element),i.appendChild(n.element),n.altInput&&i.appendChild(n.altInput),i.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){n.config.wrap&&["open","close","toggle","clear"].forEach((function(e){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+e+"]"),(function(t){return d(t,"click",n[e])}))}));if(n.isMobile)return void function(){var e=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=bc("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=e,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===e?"Y-m-d\\TH:i:S":"date"===e?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr));n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d"));n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d"));n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step")));n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(xf){}d(n.mobileInput,"change",(function(e){n.setDate(Sc(e).value,!1,n.mobileFormatStr),K("onChange"),K("onClose")}))}();var e=gc(P,50);n._debouncedChange=gc(p,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d(n.daysContainer,"mouseover",(function(e){"range"===n.config.mode&&L(Sc(e))}));d(n._input,"keydown",A),void 0!==n.calendarContainer&&d(n.calendarContainer,"keydown",A);n.config.inline||n.config.static||d(window,"resize",e);void 0!==window.ontouchstart?d(window.document,"touchstart",T):d(window.document,"mousedown",T);d(window.document,"focus",T,{capture:!0}),!0===n.config.clickOpens&&(d(n._input,"focus",n.open),d(n._input,"click",n.open));void 0!==n.daysContainer&&(d(n.monthNav,"click",ee),d(n.monthNav,["keyup","increment"],u),d(n.daysContainer,"click",V));if(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){var t=function(e){return Sc(e).select()};d(n.timeContainer,["increment"],i),d(n.timeContainer,"blur",i,{capture:!0}),d(n.timeContainer,"click",m),d([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&d(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&d(n.amPM,"click",(function(e){i(e)}))}n.config.allowInput&&d(n._input,"blur",N)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&l(n.config.noCalendar?n.latestSelectedDateObj:void 0),Q(!1)),s();var r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&r&&F(),K("onReady")}(),n}function zc(e,t){for(var n=Array.prototype.slice.call(e).filter((function(e){return e instanceof HTMLElement})),r=[],o=0;o<n.length;o++){var s=n[o];try{if(null!==s.getAttribute("data-fp-omit"))continue;void 0!==s._flatpickr&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=Hc(s,t||{}),r.push(s._flatpickr)}catch(i){console.error(i)}}return 1===r.length?r[0]:r}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return zc(this,e)},HTMLElement.prototype.flatpickr=function(e){return zc([this],e)});var Fc=function(e,t){return"string"==typeof e?zc(window.document.querySelectorAll(e),t):e instanceof Node?zc([e],t):zc(e,t)};function jc(e){let t;return{c(){t=H("div"),t.innerHTML='<input type="hidden" data-input=""/>',U(t,"class","flat-pickr")},m(n,r){L(n,t,r),e[7](t)},p:o,i:o,o:o,d(n){n&&P(t),e[7](null)}}}function qc(e,t,n){const r=fe();let o,s,{value:i}=t,{type:a}=t,{format:l}=t,{timeShow24Hr:c=!0}=t,{timeEnableSeconds:u=!0}=t;return pe((()=>(n(6,s=Fc(o,{wrap:!0,enableTime:"date"!==a,enableSeconds:u,noCalendar:"time"===a,dateFormat:l,parseDate:(e,t)=>wt(e,t).toDate(),formatDate:(e,t)=>wt(e).format(t),time_24hr:c,static:!0,inline:!0,monthSelectorType:"static",onChange:e=>{if(e[0]){const t=i,o=wt(e[0]);if(n(1,i=o.format(l)),r("change",i),"date"===a)r("dateChange",i);else if("time"===a)r("timeChange",i);else{const e=wt(t,l);if(!e.isValid())return r("dateChange",i),void r("timeChange",i);e.format("YYYY-MM-DD")!==o.format("YYYY-MM-DD")&&r("dateChange",i),e.format("HH:mm")!==o.format("HH:mm")&&r("timeChange",i)}}}})),()=>s.destroy()))),e.$$set=e=>{"value"in e&&n(1,i=e.value),"type"in e&&n(2,a=e.type),"format"in e&&n(3,l=e.format),"timeShow24Hr"in e&&n(4,c=e.timeShow24Hr),"timeEnableSeconds"in e&&n(5,u=e.timeEnableSeconds)},e.$$.update=()=>{66&e.$$.dirty&&(null==i?s?.clear():s?.setDate(i))},[o,i,a,l,c,u,s,function(e){we[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}Fc.defaultConfig={},Fc.l10ns={en:Pc({},mc),default:Pc({},mc)},Fc.localize=function(e){Fc.l10ns.default=Pc(Pc({},Fc.l10ns.default),e)},Fc.setDefaults=function(e){Fc.defaultConfig=Pc(Pc({},Fc.defaultConfig),e)},Fc.parseDate=Mc({}),Fc.formatDate=Dc({}),Fc.compareDates=Oc,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(e){return zc(this,e)}),Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof e?parseInt(e,10):e))},"undefined"!=typeof window&&(window.flatpickr=Fc);class Vc extends at{constructor(e){super(),it(this,e,qc,jc,d,{value:1,type:2,format:3,timeShow24Hr:4,timeEnableSeconds:5})}}const Bc=e=>({}),Wc=e=>({slot:"trigger"});function Uc(e){let t,n;const r=[e[2]];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=4&n?et(r,[tt(e[2])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yc(e){let t,n;return{c(){t=H("span"),n=F(e[0]),U(t,"class","label")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&G(n,e[0])},d(e){e&&P(t)}}}function Kc(e){let t;const n=e[6].trigger,r=f(n,e,e[7],Wc),o=r||function(e){let t,n,r,o=e[2]&&Uc(e),s=e[0]&&Yc(e);return{c(){t=H("span"),o&&o.c(),n=j(),s&&s.c(),U(t,"class","dropdown-menu-trigger svelte-pow2fb")},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,r){e[2]?o?(o.p(e,r),4&r&&je(o,1)):(o=Uc(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[0]?s?s.p(e,r):(s=Yc(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(je(o),r=!0)},o(e){qe(o),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||128&s)&&y(r,n,e,e[7],t?g(n,e[7],s,Bc):v(e[7]),Wc):o&&o.p&&(!t||5&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){qe(o,e),t=!1},d(e){o&&o.d(e)}}}function Gc(e){let t;const n=e[6].default,r=f(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&y(r,n,e,e[7],t?g(n,e[7],o,null):v(e[7]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Xc(e){let t,n;return t=new Js({props:{slot:"content",style:"--min-width: 100%;"+e[4],$$slots:{default:[Gc]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.style="--min-width: 100%;"+e[4]),128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zc(e){let t,n;const r=[{closeOnInnerClick:e[3]},{ariaLabel:e[1]??e[0]},e[5]];let o={$$slots:{content:[Xc],trigger:[Kc]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Wa({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=43&n?et(r,[8&n&&{closeOnInnerClick:e[3]},3&n&&{ariaLabel:e[1]??e[0]},32&n&&tt(e[5])]):{};149&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jc(e,t,n){const r=["label","ariaLabel","icon","closeOnInnerClick","menuStyle"];let o=w(t,r),{$$slots:s={},$$scope:a}=t,{label:l=""}=t,{ariaLabel:c}=t,{icon:u}=t,{closeOnInnerClick:d=!0}=t,{menuStyle:p=""}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,o=w(t,r)),"label"in e&&n(0,l=e.label),"ariaLabel"in e&&n(1,c=e.ariaLabel),"icon"in e&&n(2,u=e.icon),"closeOnInnerClick"in e&&n(3,d=e.closeOnInnerClick),"menuStyle"in e&&n(4,p=e.menuStyle),"$$scope"in e&&n(7,a=e.$$scope)},[l,c,u,d,p,o,s,a]}class Qc extends at{constructor(e){super(),it(this,e,Jc,Zc,d,{label:0,ariaLabel:1,icon:2,closeOnInnerClick:3,menuStyle:4})}}const eu=e=>({option:1&e,label:17&e}),tu=e=>({option:e[0],label:e[4](e[0])}),nu=e=>({}),ru=e=>({option:e[28],label:e[29]}),ou=e=>({option:268435456&e,label:536870912&e}),su=e=>({option:e[28],label:e[29]});function iu(e){let t,n;return t=new os({props:{arg:e[4](e[0])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.arg=e[4](e[0])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function au(e){let t;const n=e[16].default,r=f(n,e,e[23],tu);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388625&o)&&y(r,n,e,e[23],t?g(n,e[23],o,eu):v(e[23]),tu)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function lu(e){let t,n,r,o;const s=[au,iu],i=[];function a(e,t){return e[14].default?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function cu(e){let t,n;return t=new rl({props:{id:e[1]+"-select-options"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.id=e[1]+"-select-options"),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uu(e){let t,n;return t=new rl({props:{id:e[1]+"-select-options",$$slots:{default:[du,({option:e,label:t})=>({28:e,29:t}),({option:e,label:t})=>(e?268435456:0)|(t?536870912:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.id=e[1]+"-select-options"),813694976&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function du(e){let t;const n=e[16].default,r=f(n,e,e[23],su);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||813694976&o)&&y(r,n,e,e[23],t?g(n,e[23],o,ou):v(e[23]),su)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function pu(e){let t;const n=e[16].empty,r=f(n,e,e[23],ru);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8388608&o)&&y(r,n,e,e[23],t?g(n,e[23],o,nu):v(e[23]),ru)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function $u(e){let t,n,r,o,s;const i=[uu,cu],a=[];function l(e,t){return e[14].default?0:1}t=l(e),n=a[t]=i[t](e);let c=0===e[5].length&&e[14].empty&&pu(e);return{c(){n.c(),r=j(),c&&c.c(),o=q()},m(e,n){a[t].m(e,n),L(e,r,n),c&&c.m(e,n),L(e,o,n),s=!0},p(e,s){let u=t;t=l(e),t===u?a[t].p(e,s):(ze(),qe(a[u],1,1,(()=>{a[u]=null})),Fe(),n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),je(n,1),n.m(r.parentNode,r)),0===e[5].length&&e[14].empty?c?(c.p(e,s),16416&s&&je(c,1)):(c=pu(e),c.c(),je(c,1),c.m(o.parentNode,o)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){s||(je(n),je(c),s=!0)},o(e){qe(n),qe(c),s=!1},d(e){a[t].d(e),e&&P(r),c&&c.d(e),e&&P(o)}}}function mu(e){let t,n;return t=new Wa({props:{ariaControls:e[1]+"-select-options",ariaLabel:e[10],isOpen:e[27],disabled:e[2],id:e[1],contentClass:["select",e[8],e[6]].join(" "),triggerAppearance:e[9],triggerClass:["input-element select full-width",e[8],e[7]].join(" "),$$slots:{content:[$u],trigger:[lu]},$$scope:{ctx:e}}}),t.$on("open",(function(){return e[17](e[26])})),t.$on("close",(function(){return e[18](e[26])})),t.$on("keydown",(function(...t){return e[19](e[26],...t)})),t.$on("focus",e[20]),t.$on("blur",e[21]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.ariaControls=e[1]+"-select-options"),1024&r&&(o.ariaLabel=e[10]),134217728&r&&(o.isOpen=e[27]),4&r&&(o.disabled=e[2]),2&r&&(o.id=e[1]),320&r&&(o.contentClass=["select",e[8],e[6]].join(" ")),512&r&&(o.triggerAppearance=e[9]),384&r&&(o.triggerClass=["input-element select full-width",e[8],e[7]].join(" ")),8405043&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fu(e){let t,n,r,o;const s=[e[13],{id:e[1]},{disabled:e[2]}];let a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return t=new mo({props:a}),r=new Xa({props:{selectionType:"single",options:e[5],value:void 0!==e[0]?[e[0]]:[],labelKey:e[3],getLabel:e[4],checkEquality:e[11],$$slots:{default:[mu,({api:e,isOpen:t})=>({26:e,27:t}),({api:e,isOpen:t})=>(e?67108864:0)|(t?134217728:0)]},$$scope:{ctx:e}}}),r.$on("change",e[22]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const o=8198&n?et(s,[8192&n&&tt(e[13]),2&n&&{id:e[1]},4&n&&{disabled:e[2]}]):{};t.$set(o);const i={};32&n&&(i.options=e[5]),1&n&&(i.value=void 0!==e[0]?[e[0]]:[]),8&n&&(i.labelKey=e[3]),16&n&&(i.getLabel=e[4]),2048&n&&(i.checkEquality=e[11]),209733623&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function hu(e,t,n){const r=["id","disabled","labelKey","getLabel","options","value","contentClass","triggerClass","class","triggerAppearance","ariaLabel","valuesAreEqual","autoSelect"];let o=w(t,r),{$$slots:s={},$$scope:a}=t;const l=_(s),c=fe();let{id:u=kt()}=t,{disabled:d=!1}=t,{labelKey:p="label"}=t,{getLabel:$=(e=>Pt(e,p))}=t,{options:m}=t,{value:f}=t,{contentClass:h=""}=t,{triggerClass:g=""}=t,{class:y=""}=t,{triggerAppearance:v="default"}=t,{ariaLabel:x}=t,{valuesAreEqual:S=((e,t)=>e===t)}=t,{autoSelect:C="first"}=t;function E(e){n(0,[f]=e,f),c("change",f),c("input",f),c("artificialChange",f),c("artificialInput",f)}return e.$$set=e=>{t=i(i({},t),b(e)),n(13,o=w(t,r)),"id"in e&&n(1,u=e.id),"disabled"in e&&n(2,d=e.disabled),"labelKey"in e&&n(3,p=e.labelKey),"getLabel"in e&&n(4,$=e.getLabel),"options"in e&&n(5,m=e.options),"value"in e&&n(0,f=e.value),"contentClass"in e&&n(6,h=e.contentClass),"triggerClass"in e&&n(7,g=e.triggerClass),"class"in e&&n(8,y=e.class),"triggerAppearance"in e&&n(9,v=e.triggerAppearance),"ariaLabel"in e&&n(10,x=e.ariaLabel),"valuesAreEqual"in e&&n(11,S=e.valuesAreEqual),"autoSelect"in e&&n(15,C=e.autoSelect),"$$scope"in e&&n(23,a=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty&&(t=m,"none"!==C&&(t.length?void 0!==f&&t.some((e=>S(e,f)))||("first"===C?E(t):"clear"===C&&E([])):void 0!==f&&E([])))},[f,u,d,p,$,m,h,g,y,v,x,S,E,o,l,C,s,e=>e.open(),e=>e.close(),(e,t)=>e.handleKeyDown(t),function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>E(e.detail),a]}class gu extends at{constructor(e){super(),it(this,e,hu,fu,d,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,contentClass:6,triggerClass:7,class:8,triggerAppearance:9,ariaLabel:10,valuesAreEqual:11,autoSelect:15})}}function yu(e,t){return"boolean"===e||t?.[0]}function vu(e){let t,n;const r=[e[4],{triggerAppearance:e[0]},{options:e[1]},{value:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new gu({props:o}),t.$on("change",e[3]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=23&n?et(r,[16&n&&tt(e[4]),1&n&&{triggerAppearance:e[0]},2&n&&{options:e[1]},4&n&&{value:e[2]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bu(e,t,n){let r,o;const s=["dataType","enumValues","options","triggerAppearance","value"];let a=w(t,s),{dataType:l}=t,{enumValues:c}=t,{options:u}=t,{triggerAppearance:d="default"}=t,{value:p=yu(l,c)}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(4,a=w(t,s)),"dataType"in e&&n(6,l=e.dataType),"enumValues"in e&&n(7,c=e.enumValues),"options"in e&&n(8,u=e.options),"triggerAppearance"in e&&n(0,d=e.triggerAppearance),"value"in e&&n(5,p=e.value)},e.$$.update=()=>{448&e.$$.dirty&&n(1,r=function(e,t,n){return"boolean"===e?[{value:!0,label:n?.true?.label??"True"},{value:!1,label:n?.false?.label??"False"}]:t?.map((e=>({value:e,label:n?.[e]?.label??e})))||[]}(l,c,u)),34&e.$$.dirty&&n(2,o=function(e,t){return e.find((e=>e.value===t))}(r,p))},[d,r,o,function(e){n(5,p=e.detail?.value)},a,p,l,c,u]}class wu extends at{constructor(e){super(),it(this,e,bu,vu,d,{dataType:6,enumValues:7,options:8,triggerAppearance:0,value:5})}}function _u(e){let t,n,r;const o=[e[2]];function s(t){e[4](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new qi({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=4&r?et(o,[tt(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function xu(e){let t,n,r;const o=[e[2]];function s(t){e[3](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new Yl({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=4&r?et(o,[tt(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Su(e){let t,n,r,o;const s=[xu,_u],i=[];function a(e,t){return"textarea"===e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Cu(e,t,n){const r=["value","interfaceType"];let o=w(t,r),{value:s}=t,{interfaceType:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,o=w(t,r)),"value"in e&&n(0,s=e.value),"interfaceType"in e&&n(1,a=e.interfaceType)},[s,a,o,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)}]}class Eu extends at{constructor(e){super(),it(this,e,Cu,Su,d,{value:0,interfaceType:1})}}function ku(e){let t,n,r;const o=[e[2]];function s(t){e[3](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.checked=e[0]),t=new go({props:a}),we.push((()=>nt(t,"checked",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=4&r?et(o,[tt(e[2])]):{};!n&&1&r&&(n=!0,s.checked=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Iu(e){let t;return{c(){t=F("Toggle not implemented yet")},m(e,n){L(e,t,n)},p:o,i:o,o:o,d(e){e&&P(t)}}}function Tu(e){let t,n,r,o;const s=[Iu,ku],i=[];function a(e,t){return"toggle"===e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Du(e,t,n){const r=["value","interfaceType"];let o=w(t,r),{value:s=!1}=t,{interfaceType:a="checkbox"}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,o=w(t,r)),"value"in e&&n(0,s=e.value),"interfaceType"in e&&n(1,a=e.interfaceType)},[s,a,o,function(e){s=e,n(0,s)}]}class Mu extends at{constructor(e){super(),it(this,e,Du,Tu,d,{value:0,interfaceType:1})}}function Ou(e){let t,n,r;const o=[e[5],{interfaceType:e[2]}];function s(t){e[9](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new Eu({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=36&r?et(o,[32&r&&tt(e[5]),4&r&&{interfaceType:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Nu(e){let t,n,r;const o=[e[5],{allowFloat:"float"===e[1]},{allowNegative:!0}];function s(t){e[8](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new Oa({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=34&r?et(o,[32&r&&tt(e[5]),2&r&&{allowFloat:"float"===e[1]},o[2]]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Au(e){let t,n,r;const o=[e[5],{interfaceType:e[2]}];function s(t){e[7](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new Mu({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=36&r?et(o,[32&r&&tt(e[5]),4&r&&{interfaceType:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Lu(e){let t,n,r;const o=[e[5],{enumValues:e[3]},{dataType:e[1]},{options:e[4]}];function s(t){e[6](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new wu({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=58&r?et(o,[32&r&&tt(e[5]),8&r&&{enumValues:e[3]},2&r&&{dataType:e[1]},16&r&&{options:e[4]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Pu(e){let t,n,r,o;const s=[Lu,Au,Nu,Ou],i=[];function a(e,t){return e[3]||"select"===e[2]?0:"boolean"===e[1]?1:"integer"===e[1]||"float"===e[1]?2:"string"===e[1]?3:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function Ru(e,t,n){const r=["dataType","value","interfaceType","enum","options"];let o=w(t,r),{dataType:s="string"}=t,{value:a}=t,{interfaceType:l}=t,{enum:c}=t,{options:u}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,o=w(t,r)),"dataType"in e&&n(1,s=e.dataType),"value"in e&&n(0,a=e.value),"interfaceType"in e&&n(2,l=e.interfaceType),"enum"in e&&n(3,c=e.enum),"options"in e&&n(4,u=e.options)},[a,s,l,c,u,o,function(e){a=e,n(0,a)},function(e){a=e,n(0,a)},function(e){a=e,n(0,a)},function(e){a=e,n(0,a)}]}class Hu extends at{constructor(e){super(),it(this,e,Ru,Pu,d,{dataType:1,value:0,interfaceType:2,enum:3,options:4})}}function zu(e,t,n){const r=e.slice();r[18]=t[n];const o=Math.round(r[1]?.[r[18].fileId]??0);return r[19]=o,r}function Fu(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[18].fileId;for(let a=0;a<s.length;a+=1){let t=zu(e,s,a),n=i(t);o.set(n,r[a]=ju(n,t))}return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","files")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){3&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,ju,null,zu),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function ju(e,t){let n,r,o,s,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_,x=t[18].file.name+"",S=t[19]+"",C=Lt(t[18].file.size)+"";const E=[xr];let k={};for(let I=0;I<E.length;I+=1)k=i(k,E[I]);return s=new Kr({props:k}),d=new Cl({props:{percentage:t[19]}}),{key:e,first:null,c(){n=H("div"),r=H("div"),o=H("div"),rt(s.$$.fragment),a=j(),l=H("span"),c=F(x),u=j(),rt(d.$$.fragment),p=j(),$=H("div"),m=H("span"),f=F("Uploaded "),h=F(S),g=F("%"),y=j(),v=H("span"),b=F(C),w=j(),U(o,"class","file-name"),U($,"class","upload-info"),U(r,"class","file-info"),U(n,"class","file"),this.first=n},m(e,t){L(e,n,t),O(n,r),O(r,o),ot(s,o,null),O(o,a),O(o,l),O(l,c),O(r,u),ot(d,r,null),O(r,p),O(r,$),O($,m),O(m,f),O(m,h),O(m,g),O($,y),O($,v),O(v,b),O(n,w),_=!0},p(e,n){t=e;const r=0&n?et(E,[tt(xr)]):{};s.$set(r),(!_||1&n)&&x!==(x=t[18].file.name+"")&&G(c,x);const o={};3&n&&(o.percentage=t[19]),d.$set(o),(!_||3&n)&&S!==(S=t[19]+"")&&G(h,S),(!_||1&n)&&C!==(C=Lt(t[18].file.size)+"")&&G(b,C)},i(e){_||(je(s.$$.fragment,e),je(d.$$.fragment,e),_=!0)},o(e){qe(s.$$.fragment,e),qe(d.$$.fragment,e),_=!1},d(e){e&&P(n),st(s),st(d)}}}function qu(e){let t,n,r,o;const s=e[10].default,a=f(s,e,e[9],null),l=a||function(e){let t,n,r,o,s,a;const l=[_r];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return r=new Kr({props:c}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("div"),s.innerHTML='<div class="title">Drag a file here</div> \n            <div class="desc">or click to browse a file from your computer</div>',U(n,"class","icon-holder"),U(s,"class","text"),U(t,"class","message")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(t,o),O(t,s),a=!0},p(e,t){const n=0&t?et(l,[tt(_r)]):{};r.$set(n)},i(e){a||(je(r.$$.fragment,e),a=!0)},o(e){qe(r.$$.fragment,e),a=!1},d(e){e&&P(t),st(r)}}}();return{c(){t=H("label"),l&&l.c(),U(t,"tabindex","0"),U(t,"for",e[5]),U(t,"class","file-upload-trigger"),te(t,"dragging-over",e[4])},m(s,i){L(s,t,i),l&&l.m(t,null),n=!0,r||(o=[V(t,"keydown",e[8]),V(t,"drop",W(B(e[7]))),V(t,"dragenter",W(B(e[11]))),V(t,"dragover",W(B(e[12]))),V(t,"dragleave",W(B(e[13]))),V(t,"dragend",W(B(e[14])))],r=!0)},p(e,r){a&&a.p&&(!n||512&r)&&y(a,s,e,e[9],n?g(s,e[9],r,null):v(e[9]),null),(!n||16&r)&&te(t,"dragging-over",e[4])},i(e){n||(je(l,e),n=!0)},o(e){qe(l,e),n=!1},d(e){e&&P(t),l&&l.d(e),r=!1,c(o)}}}function Vu(e){let t,n,r,o,s,i,a,l=e[0]&&e[0].length>0&&Fu(e),c=(e[2]||!e[0]||0===e[0].length)&&qu(e);return{c(){t=H("div"),l&&l.c(),n=j(),r=H("input"),o=j(),c&&c.c(),U(r,"type","file"),U(r,"id",e[5]),r.multiple=e[2],Z(r,"display","none"),U(t,"class","file-upload"),te(t,"disabled",e[3]),te(t,"inprogress",e[0]&&e[0].length>0)},m(u,d){L(u,t,d),l&&l.m(t,null),O(t,n),O(t,r),O(t,o),c&&c.m(t,null),s=!0,i||(a=V(r,"change",e[6]),i=!0)},p(e,[o]){e[0]&&e[0].length>0?l?(l.p(e,o),1&o&&je(l,1)):(l=Fu(e),l.c(),je(l,1),l.m(t,n)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()),(!s||4&o)&&(r.multiple=e[2]),e[2]||!e[0]||0===e[0].length?c?(c.p(e,o),5&o&&je(c,1)):(c=qu(e),c.c(),je(c,1),c.m(t,null)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe()),(!s||8&o)&&te(t,"disabled",e[3]),(!s||1&o)&&te(t,"inprogress",e[0]&&e[0].length>0)},i(e){s||(je(l),je(c),s=!0)},o(e){qe(l),qe(c),s=!1},d(e){e&&P(t),l&&l.d(),c&&c.d(),i=!1,a()}}}function Bu(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe(),i=kt();let{fileProgress:a}=t,{multiple:l=!1}=t,{fileUploads:c}=t,{disabled:u=!1}=t,d=0,p=!1;function $(e,t){const r=[];for(const n of t)r.push({fileId:`${i}-${d}`,file:n}),d+=1;n(0,c=[...c||[],...r]),s("add",{added:r,all:c,originalEvent:e})}return e.$$set=e=>{"fileProgress"in e&&n(1,a=e.fileProgress),"multiple"in e&&n(2,l=e.multiple),"fileUploads"in e&&n(0,c=e.fileUploads),"disabled"in e&&n(3,u=e.disabled),"$$scope"in e&&n(9,o=e.$$scope)},[c,a,l,u,p,i,function(e){const t=e.target;t.files&&$(e,t.files),t.value=""},function(e){if(n(4,p=!1),!u){const t=e.dataTransfer?.files;if(!t||0===t.length)return;$(e,l?t:[t[0]])}},function(e){u||"Enter"!==e.key||e.target.click()},o,r,()=>{n(4,p=!0)},()=>{n(4,p=!0)},()=>{n(4,p=!1)},()=>{n(4,p=!1)}]}class Wu extends at{constructor(e){super(),it(this,e,Bu,Vu,d,{fileProgress:1,multiple:2,fileUploads:0,disabled:3})}}function Uu(e,t,n){const r=e.slice();return r[19]=t[n],r}function Yu(e){let t,n,r;return n=new Hn({props:{appearance:"plain",tabindex:"0",role:"link","aria-label":"Previous",disabled:1===e[0],$$slots:{default:[Ku]},$$scope:{ctx:e}}}),n.$on("click",e[8]),{c(){t=H("li"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.disabled=1===e[0]),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Ku(e){let t,n;const r=[fr,{tabindex:"-1"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(fr),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gu(e){let t,n,r,o,s,i;const a=[Zu,Xu],l=[];function c(e,t){return e[2]?0:1}n=c(e),r=l[n]=a[n](e);let u=e[5].start>2&&Qu(e);return{c(){t=H("li"),r.c(),o=j(),u&&u.c(),s=q()},m(e,r){L(e,t,r),l[n].m(t,null),L(e,o,r),u&&u.m(e,r),L(e,s,r),i=!0},p(e,o){let i=n;n=c(e),n===i?l[n].p(e,o):(ze(),qe(l[i],1,1,(()=>{l[i]=null})),Fe(),r=l[n],r?r.p(e,o):(r=l[n]=a[n](e),r.c()),je(r,1),r.m(t,null)),e[5].start>2?u?(u.p(e,o),32&o&&je(u,1)):(u=Qu(e),u.c(),je(u,1),u.m(s.parentNode,s)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe())},i(e){i||(je(r),je(u),i=!0)},o(e){qe(r),qe(u),i=!1},d(e){e&&P(t),l[n].d(),e&&P(o),u&&u.d(e),e&&P(s)}}}function Xu(e){let t,n;return t=new Hn({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":"Goto Page 1",class:"page",$$slots:{default:[Ju]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194304&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zu(e){let t,n,r,s,i;return{c(){t=H("a"),n=F("1"),U(t,"tabindex","0"),U(t,"aria-label","Goto Page 1"),U(t,"class","page"),U(t,"href",r=e[2](1,e[1])),U(t,"data-tinro-ignore","")},m(r,o){L(r,t,o),O(t,n),s||(i=V(t,"click",e[9]),s=!0)},p(e,n){6&n&&r!==(r=e[2](1,e[1]))&&U(t,"href",r)},i:o,o:o,d(e){e&&P(t),s=!1,i()}}}function Ju(e){let t;return{c(){t=F("1")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function Qu(e){let t,n,r;return n=new Hn({props:{tabindex:"0",role:"link",appearance:"plain","aria-label":"Goto Page "+e[5].prevPageWindow,$$slots:{default:[ed]},$$scope:{ctx:e}}}),n.$on("click",e[11]),{c(){t=H("li"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r["aria-label"]="Goto Page "+e[5].prevPageWindow),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function ed(e){let t,n,r,o,s;const a=[{class:"ellipsis"},wr];let l={};for(let d=0;d<a.length;d+=1)l=i(l,a[d]);n=new Kr({props:l});const c=[{class:"arrow"},$r];let u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return o=new Kr({props:u}),{c(){t=H("span"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r=0&t?et(a,[a[0],tt(wr)]):{};n.$set(r);const s=0&t?et(c,[c[0],tt($r)]):{};o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function td(e){let t,n;return t=new Hn({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`,class:"page","data-page":e[19],"aria-selected":e[0]===e[19],$$slots:{default:[rd]},$$scope:{ctx:e}}}),t.$on("click",(function(...t){return e[13](e[19],...t)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};33&r&&(o["aria-label"]=e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`),32&r&&(o["data-page"]=e[19]),33&r&&(o["aria-selected"]=e[0]===e[19]),4194336&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nd(e){let t,n,r,s,i,a,l,c,u=e[19]+"";function d(...t){return e[12](e[19],...t)}return{c(){t=H("a"),n=F(u),U(t,"tabindex","0"),U(t,"class","page"),U(t,"href",r=e[2](e[19],e[1])),U(t,"aria-label",s=e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`),U(t,"aria-selected",i=e[0]===e[19]),U(t,"data-page",a=e[19]),U(t,"data-tinro-ignore","")},m(e,r){L(e,t,r),O(t,n),l||(c=V(t,"click",d),l=!0)},p(o,l){e=o,32&l&&u!==(u=e[19]+"")&&G(n,u),38&l&&r!==(r=e[2](e[19],e[1]))&&U(t,"href",r),33&l&&s!==(s=e[0]===e[19]?`Current Page, Page ${e[0]}`:`Goto Page ${e[19]}`)&&U(t,"aria-label",s),33&l&&i!==(i=e[0]===e[19])&&U(t,"aria-selected",i),32&l&&a!==(a=e[19])&&U(t,"data-page",a)},i:o,o:o,d(e){e&&P(t),l=!1,c()}}}function rd(e){let t,n=e[19]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[19]+"")&&G(t,n)},d(e){e&&P(t)}}}function od(e,t){let n,r,o,s;const i=[nd,td],a=[];function l(e,t){return e[2]?0:1}return r=l(t),o=a[r]=i[r](t),{key:e,first:null,c(){n=H("li"),o.c(),te(n,"active",t[0]===t[19]),this.first=n},m(e,t){L(e,n,t),a[r].m(n,null),s=!0},p(e,c){let u=r;r=l(t=e),r===u?a[r].p(t,c):(ze(),qe(a[u],1,1,(()=>{a[u]=null})),Fe(),o=a[r],o?o.p(t,c):(o=a[r]=i[r](t),o.c()),je(o,1),o.m(n,null)),(!s||33&c)&&te(n,"active",t[0]===t[19])},i(e){s||(je(o),s=!0)},o(e){qe(o),s=!1},d(e){e&&P(n),a[r].d()}}}function sd(e){let t,n,r,o,s,i=e[5].end<e[4]-1&&id(e);const a=[cd,ld],l=[];function c(e,t){return e[2]?0:1}return r=c(e),o=l[r]=a[r](e),{c(){i&&i.c(),t=j(),n=H("li"),o.c()},m(e,o){i&&i.m(e,o),L(e,t,o),L(e,n,o),l[r].m(n,null),s=!0},p(e,s){e[5].end<e[4]-1?i?(i.p(e,s),48&s&&je(i,1)):(i=id(e),i.c(),je(i,1),i.m(t.parentNode,t)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe());let u=r;r=c(e),r===u?l[r].p(e,s):(ze(),qe(l[u],1,1,(()=>{l[u]=null})),Fe(),o=l[r],o?o.p(e,s):(o=l[r]=a[r](e),o.c()),je(o,1),o.m(n,null))},i(e){s||(je(i),je(o),s=!0)},o(e){qe(i),qe(o),s=!1},d(e){i&&i.d(e),e&&P(t),e&&P(n),l[r].d()}}}function id(e){let t,n,r;return n=new Hn({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Goto Page "+e[5].nextPageWindow,$$slots:{default:[ad]},$$scope:{ctx:e}}}),n.$on("click",e[14]),{c(){t=H("li"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r["aria-label"]="Goto Page "+e[5].nextPageWindow),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function ad(e){let t,n,r,o,s;const a=[{class:"ellipsis"},wr];let l={};for(let d=0;d<a.length;d+=1)l=i(l,a[d]);n=new Kr({props:l});const c=[{class:"arrow"},pr];let u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return o=new Kr({props:u}),{c(){t=H("span"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r=0&t?et(a,[a[0],tt(wr)]):{};n.$set(r);const s=0&t?et(c,[c[0],tt(pr)]):{};o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function ld(e){let t,n;return t=new Hn({props:{tabindex:"0",appearance:"secondary",class:"page",role:"link","aria-label":"Goto Page "+e[4],$$slots:{default:[ud]},$$scope:{ctx:e}}}),t.$on("click",e[16]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r["aria-label"]="Goto Page "+e[4]),4194320&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cd(e){let t,n,r,s,i,a;return{c(){t=H("a"),n=F(e[4]),U(t,"tabindex","0"),U(t,"class","page"),U(t,"aria-label",r="Goto Page "+e[4]),U(t,"href",s=e[2](e[4],e[1])),U(t,"data-tinro-ignore","")},m(r,o){L(r,t,o),O(t,n),i||(a=V(t,"click",e[15]),i=!0)},p(e,o){16&o&&G(n,e[4]),16&o&&r!==(r="Goto Page "+e[4])&&U(t,"aria-label",r),22&o&&s!==(s=e[2](e[4],e[1]))&&U(t,"href",s)},i:o,o:o,d(e){e&&P(t),i=!1,a()}}}function ud(e){let t;return{c(){t=F(e[4])},m(e,n){L(e,t,n)},p(e,n){16&n&&G(t,e[4])},d(e){e&&P(t)}}}function dd(e){let t,n,r;return n=new Hn({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Next",disabled:e[0]===e[4],$$slots:{default:[pd]},$$scope:{ctx:e}}}),n.$on("click",e[17]),{c(){t=H("li"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};17&t&&(r.disabled=e[0]===e[4]),4194304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function pd(e){let t,n;const r=[mr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(mr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $d(e){let t,n,r,o,s,i,a,l=[],c=new Map,u=e[4]>1&&Yu(e),d=e[5].start>1&&Gu(e),p=e[5].currentWindow;const $=e=>e[19];for(let h=0;h<p.length;h+=1){let t=Uu(e,p,h),n=$(t);c.set(n,l[h]=od(n,t))}let m=e[5].end<e[4]&&sd(e),f=e[4]>1&&dd(e);return{c(){t=H("nav"),n=H("ul"),u&&u.c(),r=j(),d&&d.c(),o=j();for(let e=0;e<l.length;e+=1)l[e].c();s=j(),m&&m.c(),i=j(),f&&f.c(),U(n,"class","pagination"),U(t,"aria-label",e[3])},m(e,c){L(e,t,c),O(t,n),u&&u.m(n,null),O(n,r),d&&d.m(n,null),O(n,o);for(let t=0;t<l.length;t+=1)l[t].m(n,null);O(n,s),m&&m.m(n,null),O(n,i),f&&f.m(n,null),a=!0},p(e,[h]){e[4]>1?u?(u.p(e,h),16&h&&je(u,1)):(u=Yu(e),u.c(),je(u,1),u.m(n,r)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe()),e[5].start>1?d?(d.p(e,h),32&h&&je(d,1)):(d=Gu(e),d.c(),je(d,1),d.m(n,o)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe()),103&h&&(p=e[5].currentWindow,ze(),l=Qe(l,h,$,1,e,p,c,n,Ze,od,s,Uu),Fe()),e[5].end<e[4]?m?(m.p(e,h),48&h&&je(m,1)):(m=sd(e),m.c(),je(m,1),m.m(n,i)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()),e[4]>1?f?(f.p(e,h),16&h&&je(f,1)):(f=dd(e),f.c(),je(f,1),f.m(n,null)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),(!a||8&h)&&U(t,"aria-label",e[3])},i(e){if(!a){je(u),je(d);for(let e=0;e<p.length;e+=1)je(l[e]);je(m),je(f),a=!0}},o(e){qe(u),qe(d);for(let t=0;t<l.length;t+=1)qe(l[t]);qe(m),qe(f),a=!1},d(e){e&&P(t),u&&u.d(),d&&d.d();for(let t=0;t<l.length;t+=1)l[t].d();m&&m.d(),f&&f.d()}}}function md(e,t,n){let r,o;const s=fe();let{currentPage:i=1}=t,{pageSize:a=10}=t,{total:l=0}=t,{getLink:c}=t,{ariaLabel:u="Pagination"}=t;async function d(e,t){t>0&&t<=r&&i!==t&&(n(0,i=t),s("change",{currentPage:i,originalEvent:e})),await ke();document.querySelector(`[data-page="${i}"]`)?.focus()}return e.$$set=e=>{"currentPage"in e&&n(0,i=e.currentPage),"pageSize"in e&&n(1,a=e.pageSize),"total"in e&&n(7,l=e.total),"getLink"in e&&n(2,c=e.getLink),"ariaLabel"in e&&n(3,u=e.ariaLabel)},e.$$.update=()=>{130&e.$$.dirty&&n(4,r=nn(l,a)),17&e.$$.dirty&&n(5,o=function(e,t){let n=Math.max(e-2,1),r=Math.min(n+4,t);r-n<4&&(n=Math.max(r-4,1)),r>t-2&&(n=Math.max(r-(6-(t-r)),1)),n<3&&(r=Math.min(r+2-(n-1),t));const o=function(e,t){const n=[];for(let r=e;r<=t;r+=1)n.push(r);return n}(n,r);return{currentWindow:o,start:n,end:r,prevPageWindow:Math.max(n-3,1),nextPageWindow:Math.min(r+3,t)}}(i,r))},[i,a,c,u,r,o,d,l,e=>d(e,i-1),e=>d(e,1),e=>d(e,1),e=>d(e,o.prevPageWindow),(e,t)=>d(t,e),(e,t)=>d(t,e),e=>d(e,o.nextPageWindow),e=>d(e,r),e=>d(e,r),e=>d(e,i+1)]}class fd extends at{constructor(e){super(),it(this,e,md,$d,d,{currentPage:0,pageSize:1,total:7,getLink:2,ariaLabel:3})}}const hd=e=>({option:2097152&e,label:4194304&e}),gd=e=>({option:e[21],label:e[22]});function yd(e){let t;const n=e[12].default,r=f(n,e,e[17],gd),o=r||function(e){let t,n;return t=new os({props:{arg:e[4](e[21])}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097168&n&&(r.arg=e[4](e[21])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||6422528&s)&&y(r,n,e,e[17],t?g(n,e[17],s,hd):v(e[17]),gd):o&&o.p&&(!t||2097168&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){qe(o,e),t=!1},d(e){o&&o.d(e)}}}function vd(e){let t,n;return t=new rl({props:{id:e[1],class:"input-element selection-list "+e[6],offsetOnFocus:e[8],$$slots:{default:[yd,({option:e,label:t})=>({21:e,22:t}),({option:e,label:t})=>(e?2097152:0)|(t?4194304:0)]},$$scope:{ctx:e}}}),t.$on("keydown",(function(...t){return e[13](e[20],...t)})),t.$on("focus",e[14]),t.$on("blur",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2&r&&(o.id=e[1]),64&r&&(o.class="input-element selection-list "+e[6]),256&r&&(o.offsetOnFocus=e[8]),6422544&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bd(e){let t,n,r,o;const s=[e[10],{id:e[1]},{disabled:e[2]}];let a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return t=new mo({props:a}),r=new Xa({props:{selectionType:"single",options:e[5],value:void 0!==e[0]?[e[0]]:[],labelKey:e[3],getLabel:e[4],disabled:e[2],mode:"static",checkEquality:e[7],$$slots:{default:[vd,({api:e})=>({20:e}),({api:e})=>e?1048576:0]},$$scope:{ctx:e}}}),r.$on("change",e[16]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const o=1030&n?et(s,[1024&n&&tt(e[10]),2&n&&{id:e[1]},4&n&&{disabled:e[2]}]):{};t.$set(o);const i={};32&n&&(i.options=e[5]),1&n&&(i.value=void 0!==e[0]?[e[0]]:[]),8&n&&(i.labelKey=e[3]),16&n&&(i.getLabel=e[4]),4&n&&(i.disabled=e[2]),128&n&&(i.checkEquality=e[7]),1179986&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function wd(e,t,n){const r=["id","disabled","labelKey","getLabel","options","value","class","valuesAreEqual","autoSelect","offsetOnFocus"];let o=w(t,r),{$$slots:s={},$$scope:a}=t;const l=fe();let{id:c=kt()}=t,{disabled:u=!1}=t,{labelKey:d="label"}=t,{getLabel:p=(e=>Pt(e,d))}=t,{options:$}=t,{value:m}=t,{class:f=""}=t,{valuesAreEqual:h=((e,t)=>e===t)}=t,{autoSelect:g="first"}=t,{offsetOnFocus:y=0}=t;function v(e){n(0,[m]=e,m),l("change",m),l("input",m),l("artificialChange",m),l("artificialInput",m)}return e.$$set=e=>{t=i(i({},t),b(e)),n(10,o=w(t,r)),"id"in e&&n(1,c=e.id),"disabled"in e&&n(2,u=e.disabled),"labelKey"in e&&n(3,d=e.labelKey),"getLabel"in e&&n(4,p=e.getLabel),"options"in e&&n(5,$=e.options),"value"in e&&n(0,m=e.value),"class"in e&&n(6,f=e.class),"valuesAreEqual"in e&&n(7,h=e.valuesAreEqual),"autoSelect"in e&&n(11,g=e.autoSelect),"offsetOnFocus"in e&&n(8,y=e.offsetOnFocus),"$$scope"in e&&n(17,a=e.$$scope)},e.$$.update=()=>{var t;32&e.$$.dirty&&(t=$,"none"!==g&&(t.length?void 0!==m&&t.some((e=>h(e,m)))||("first"===g?v(t):"clear"===g&&v([])):void 0!==m&&v([])))},[m,c,u,d,p,$,f,h,y,v,o,g,s,(e,t)=>e.handleKeyDown(t),function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>v(e.detail),a]}class _d extends at{constructor(e){super(),it(this,e,wd,bd,d,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,class:6,valuesAreEqual:7,autoSelect:11,offsetOnFocus:8})}}function xd(e){let t,n,r,o,s,a,l;const u=e[12].default,d=f(u,e,e[11],null);let p=[{role:"tab"},{tabindex:"0"},{"aria-selected":e[3]},{"aria-disabled":n=!!e[1].disabled},{id:r=e[3]?`mtsr-${e[0]}-tab`:void 0},{"aria-controls":o=e[3]?`mtsr-${e[0]}-tabpanel`:void 0},e[6]],$={};for(let c=0;c<p.length;c+=1)$=i($,p[c]);return{c(){t=H(e[7]),d&&d.c(),Y(t,$)},m(n,r){L(n,t,r),d&&d.m(t,null),s=!0,a||(l=[V(t,"focus",e[13]),V(t,"blur",e[14]),V(t,"mousedown",e[15]),V(t,"click",e[16])],a=!0)},p(e,i){d&&d.p&&(!s||2048&i)&&y(d,u,e,e[11],s?g(u,e[11],i,null):v(e[11]),null),Y(t,$=et(p,[{role:"tab"},{tabindex:"0"},(!s||8&i)&&{"aria-selected":e[3]},(!s||2&i&&n!==(n=!!e[1].disabled))&&{"aria-disabled":n},(!s||9&i&&r!==(r=e[3]?`mtsr-${e[0]}-tab`:void 0))&&{id:r},(!s||9&i&&o!==(o=e[3]?`mtsr-${e[0]}-tabpanel`:void 0))&&{"aria-controls":o},64&i&&e[6]]))},i(e){s||(je(d,e),s=!0)},o(e){qe(d,e),s=!1},d(e){e&&P(t),d&&d.d(e),a=!1,c(l)}}}function Sd(e){let t,n,r;return{c(){t=H("button"),t.textContent="",U(t,"type","button"),U(t,"aria-label","remove"),U(t,"class","remove")},m(o,s){L(o,t,s),n||(r=V(t,"click",e[17]),n=!0)},p:o,d(e){e&&P(t),n=!1,r()}}}function Cd(e){let t,n,r,o,s=e[7],i=e[7]&&xd(e),a=e[4]&&Sd(e);return{c(){t=H("li"),i&&i.c(),n=j(),a&&a.c(),U(t,"role","presentation"),U(t,"class","tab"),U(t,"tabindex","-1"),U(t,"style",r=e[5]?`width:${Math.floor(100/e[2])}%;`:void 0),te(t,"active",e[3])},m(e,r){L(e,t,r),i&&i.m(t,null),O(t,n),a&&a.m(t,null),o=!0},p(e,[l]){e[7]?s?d(s,e[7])?(i.d(1),i=xd(e),i.c(),i.m(t,n)):i.p(e,l):(i=xd(e),i.c(),i.m(t,n)):s&&(i.d(1),i=null),s=e[7],e[4]?a?a.p(e,l):(a=Sd(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),(!o||36&l&&r!==(r=e[5]?`width:${Math.floor(100/e[2])}%;`:void 0))&&U(t,"style",r),(!o||8&l)&&te(t,"active",e[3])},i(e){o||(je(i),o=!0)},o(e){qe(i),o=!1},d(e){e&&P(t),i&&i.d(e),a&&a.d()}}}function Ed(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let{componentId:c}=t,{tab:u}=t,{totalTabs:d}=t,{isActive:p=!1}=t,{allowRemoval:$=!1}=t,{uniformTabWidth:m=!0}=t,{link:f}=t;return e.$$set=e=>{"componentId"in e&&n(0,c=e.componentId),"tab"in e&&n(1,u=e.tab),"totalTabs"in e&&n(2,d=e.totalTabs),"isActive"in e&&n(3,p=e.isActive),"allowRemoval"in e&&n(4,$=e.allowRemoval),"uniformTabWidth"in e&&n(5,m=e.uniformTabWidth),"link"in e&&n(9,f=e.link),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{512&e.$$.dirty&&n(10,r=void 0!==f),1024&e.$$.dirty&&n(7,o=r?"a":"div"),1536&e.$$.dirty&&n(6,s=r?{href:f}:{})},[c,u,d,p,$,m,s,o,l,f,r,a,i,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>l("remove",e)]}class kd extends at{constructor(e){super(),it(this,e,Ed,Cd,d,{componentId:0,tab:1,totalTabs:2,isActive:3,allowRemoval:4,uniformTabWidth:5,link:9})}}const Id=e=>({activeTab:2&e}),Td=e=>({activeTab:e[1]});function Dd(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}const Md=e=>({tab:1&e,activeTab:2&e}),Od=e=>({tab:e[21],activeTab:e[1]});function Nd(e){let t,n;const r=e[16].tab,o=f(r,e,e[19],Od),s=o||function(e){let t,n=e[21][e[3]]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){9&r&&n!==(n=e[21][e[3]]+"")&&G(t,n)},d(e){e&&P(t)}}}(e);return{c(){s&&s.c(),t=j()},m(e,r){s&&s.m(e,r),L(e,t,r),n=!0},p(e,t){o?o.p&&(!n||524291&t)&&y(o,r,e,e[19],n?g(r,e[19],t,Md):v(e[19]),Od):s&&s.p&&(!n||9&t)&&s.p(e,n?t:-1)},i(e){n||(je(s,e),n=!0)},o(e){qe(s,e),n=!1},d(e){s&&s.d(e),e&&P(t)}}}function Ad(e,t){let n,r,o;return r=new kd({props:{componentId:t[9],tab:t[21],allowRemoval:t[4],uniformTabWidth:t[7],link:t[13](t[21]),totalTabs:t[0].length,isActive:t[21][t[2]]===t[1]?.[t[2]],$$slots:{default:[Nd]},$$scope:{ctx:t}}}),r.$on("focus",Hd),r.$on("blur",zd),r.$on("click",t[12]),r.$on("mousedown",(function(...e){return t[17](t[21],...e)})),r.$on("remove",(function(...e){return t[18](t[23],...e)})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.tab=t[21]),16&n&&(o.allowRemoval=t[4]),128&n&&(o.uniformTabWidth=t[7]),1&n&&(o.link=t[13](t[21])),1&n&&(o.totalTabs=t[0].length),7&n&&(o.isActive=t[21][t[2]]===t[1]?.[t[2]]),524299&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Ld(e){let t;const n=e[16].default,r=f(n,e,e[19],Td);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||524290&o)&&y(r,n,e,e[19],t?g(n,e[19],o,Id):v(e[19]),Td)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Pd(e){let t,n,r,o,s,i,a=[],l=new Map,c=e[0];const u=e=>e[21][e[2]]||e[21];for(let p=0;p<c.length;p+=1){let t=Dd(e,c,p),n=u(t);l.set(n,a[p]=Ad(n,t))}let d=e[1]&&Ld(e);return{c(){t=H("div"),n=H("ul");for(let e=0;e<a.length;e+=1)a[e].c();r=j(),o=H("div"),s=H("div"),d&&d.c(),U(n,"role","tablist"),U(n,"class","tabs"),te(n,"fill-tab-width",e[5]),U(s,"role","tabpanel"),U(s,"aria-hidden","false"),U(s,"id","mtsr-"+e[9]+"-tabpanel"),U(s,"aria-labelledby","mtsr-"+e[9]+"-tab"),U(s,"tabindex","0"),U(o,"class","tab-content-holder"),U(t,"class","tab-container"),U(t,"role","navigation"),te(t,"fill-container-height",e[6]),te(t,"compact","compact"===e[8])},m(e,l){L(e,t,l),O(t,n);for(let t=0;t<a.length;t+=1)a[t].m(n,null);O(t,r),O(t,o),O(o,s),d&&d.m(s,null),i=!0},p(e,[r]){540319&r&&(c=e[0],ze(),a=Qe(a,r,u,1,e,c,l,n,Ze,Ad,null,Dd),Fe()),(!i||32&r)&&te(n,"fill-tab-width",e[5]),e[1]?d?(d.p(e,r),2&r&&je(d,1)):(d=Ld(e),d.c(),je(d,1),d.m(s,null)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe()),(!i||64&r)&&te(t,"fill-container-height",e[6]),(!i||256&r)&&te(t,"compact","compact"===e[8])},i(e){if(!i){for(let e=0;e<c.length;e+=1)je(a[e]);je(d),i=!0}},o(e){for(let t=0;t<a.length;t+=1)qe(a[t]);qe(d),i=!1},d(e){e&&P(t);for(let t=0;t<a.length;t+=1)a[t].d();d&&d.d()}}}let Rd=0;function Hd(e){e.target.parentElement.classList.add("focused")}function zd(e){e.target.parentElement.classList.remove("focused")}function Fd(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=fe(),i=(Rd+=1,Rd);let{tabs:a=[]}=t,{activeTab:l=a[0]}=t,{idKey:c="id"}=t,{labelKey:u="label"}=t,{linkKey:d="href"}=t,{allowRemoval:p=!1}=t,{preventDefault:$=!1}=t,{fillTabWidth:m=!1}=t,{fillContainerHeight:f=!1}=t,{uniformTabWidth:h=!0}=t,{tabStyle:g="default"}=t;function y(e,t){!!t[d]||n(1,l=t),s("tabSelected",{tab:t,originalEvent:e})}function v(e,t){const r=a.splice(t,1);l?.[c]===r[0]?.[c]&&(a[t]?n(1,l=a[t]):a[t-1]?n(1,l=a[t-1]):n(1,l=null)),n(0,a=[].concat(a)),s("tabRemoved",{removedTab:r[0],activeTab:l,originalEvent:e.detail})}return e.$$set=e=>{"tabs"in e&&n(0,a=e.tabs),"activeTab"in e&&n(1,l=e.activeTab),"idKey"in e&&n(2,c=e.idKey),"labelKey"in e&&n(3,u=e.labelKey),"linkKey"in e&&n(14,d=e.linkKey),"allowRemoval"in e&&n(4,p=e.allowRemoval),"preventDefault"in e&&n(15,$=e.preventDefault),"fillTabWidth"in e&&n(5,m=e.fillTabWidth),"fillContainerHeight"in e&&n(6,f=e.fillContainerHeight),"uniformTabWidth"in e&&n(7,h=e.uniformTabWidth),"tabStyle"in e&&n(8,g=e.tabStyle),"$$scope"in e&&n(19,o=e.$$scope)},[a,l,c,u,p,m,f,h,g,i,y,v,function(e){if($){e.preventDefault();e.target.closest('a[role="tab"]')?.focus?.()}},function(e){return e[d]},d,$,r,(e,t)=>y(t,e),(e,t)=>v(t,e),o]}class jd extends at{constructor(e){super(),it(this,e,Fd,Pd,d,{tabs:0,activeTab:1,idKey:2,labelKey:3,linkKey:14,allowRemoval:4,preventDefault:15,fillTabWidth:5,fillContainerHeight:6,uniformTabWidth:7,tabStyle:8})}}const qd={body:"Are you sure?",proceedButton:{label:"Yes"},cancelButton:{label:"Cancel"},onProceed:()=>Promise.resolve(),onSuccess:()=>{},onError:()=>{}};class Vd{constructor(t,n){e(this,"modal",void 0),e(this,"confirmationProps",void 0),e(this,"resolve",mt((()=>{}))),e(this,"canProceed",mt(!0)),this.modal=t,this.confirmationProps=mt(n)}}class Bd{constructor(t){e(this,"idSet",void 0),this.idSet=new ut(t)}ids(){return this.idSet.values()}get size(){return this.idSet.size}has(e){return this.idSet.has(e)}isOnTop(e){return this.idSet.values().next().value===e}withModalOnTop(e){return new Bd(new ut([e]).union(this.idSet).values())}without(e){return new Bd(this.idSet.without(e).values())}}class Wd{constructor({modalId:t,modalStackStore:n}){e(this,"modalId",void 0),e(this,"modalStackStore",void 0),e(this,"isOpen",void 0),e(this,"isOnTop",void 0),this.modalId=t,this.modalStackStore=n,this.isOpen=function({modalId:e,modalStackStore:t}){return{subscribe:n=>t.subscribe((t=>{n(t.has(e))})),update(n){t.update((t=>{const r=t.has(e);return n(r)?t.withModalOnTop(e):r?t.without(e):t}))},set(n){n?t.update((t=>t.withModalOnTop(e))):t.update((t=>t.without(e)))}}}({modalId:t,modalStackStore:n}),this.isOnTop=ft(this.modalStackStore,(e=>e.isOnTop(this.modalId)))}open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}}const Ud=e=>({}),Yd=e=>({}),Kd=e=>({}),Gd=e=>({});function Xd(e){let t,n,r,o,s,i,a=(e[0]??"")+"";const l=e[6].title,c=f(l,e,e[7],Gd);let u=e[1]&&Zd(e);return{c(){t=H("div"),n=H("div"),c&&c.c(),r=j(),o=F(a),s=j(),u&&u.c(),U(n,"class","title"),U(t,"class","title-bar")},m(e,a){L(e,t,a),O(t,n),c&&c.m(n,null),O(n,r),O(n,o),O(t,s),u&&u.m(t,null),i=!0},p(e,n){c&&c.p&&(!i||128&n)&&y(c,l,e,e[7],i?g(l,e[7],n,Kd):v(e[7]),Gd),(!i||1&n)&&a!==(a=(e[0]??"")+"")&&G(o,a),e[1]?u?(u.p(e,n),2&n&&je(u,1)):(u=Zd(e),u.c(),je(u,1),u.m(t,null)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe())},i(e){i||(je(c,e),je(u),i=!0)},o(e){qe(c,e),qe(u),i=!1},d(e){e&&P(t),c&&c.d(e),u&&u.d()}}}function Zd(e){let t,n;return t=new Hn({props:{appearance:"plain",class:"close-button",$$slots:{default:[Jd]},$$scope:{ctx:e}}}),t.$on("click",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jd(e){let t,n;const r=[hr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(hr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qd(e){let t,n,r,o,s,i,a=(e[5].title||e[0]||e[1])&&Xd(e);const l=e[6].default,c=f(l,e,e[7],null),u=e[6].footer,d=f(u,e,e[7],Yd);return{c(){t=H("div"),a&&a.c(),n=j(),r=H("div"),c&&c.c(),o=j(),s=H("div"),d&&d.c(),U(r,"class","body"),U(s,"class","footer"),U(t,"class","window"),te(t,"can-scroll-body",e[2]),te(t,"has-body-padding",e[3])},m(e,l){L(e,t,l),a&&a.m(t,null),O(t,n),O(t,r),c&&c.m(r,null),O(t,o),O(t,s),d&&d.m(s,null),i=!0},p(e,[r]){e[5].title||e[0]||e[1]?a?(a.p(e,r),35&r&&je(a,1)):(a=Xd(e),a.c(),je(a,1),a.m(t,n)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),c&&c.p&&(!i||128&r)&&y(c,l,e,e[7],i?g(l,e[7],r,null):v(e[7]),null),d&&d.p&&(!i||128&r)&&y(d,u,e,e[7],i?g(u,e[7],r,Ud):v(e[7]),Yd),(!i||4&r)&&te(t,"can-scroll-body",e[2]),(!i||8&r)&&te(t,"has-body-padding",e[3])},i(e){i||(je(a),je(c,e),je(d,e),i=!0)},o(e){qe(a),qe(c,e),qe(d,e),i=!1},d(e){e&&P(t),a&&a.d(),c&&c.d(e),d&&d.d(e)}}}function ep(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r),i=fe();let{title:a}=t,{hasCloseButton:l=!0}=t,{canScrollBody:c=!0}=t,{hasBodyPadding:u=!0}=t;return e.$$set=e=>{"title"in e&&n(0,a=e.title),"hasCloseButton"in e&&n(1,l=e.hasCloseButton),"canScrollBody"in e&&n(2,c=e.canScrollBody),"hasBodyPadding"in e&&n(3,u=e.hasBodyPadding),"$$scope"in e&&n(7,o=e.$$scope)},[a,l,c,u,function(){i("close")},s,r,o]}class tp extends at{constructor(e){super(),it(this,e,ep,Qd,d,{title:0,hasCloseButton:1,canScrollBody:2,hasBodyPadding:3})}}const{window:np}=Ge,rp=e=>({}),op=e=>({}),sp=e=>({}),ip=e=>({slot:"footer"});function ap(e){let t,n,r,o,s,i,a,l,c,u=e[4]&&lp(e);return o=new tp({props:{canScrollBody:e[5],hasCloseButton:e[6],$$slots:{footer:[dp],title:[up],default:[cp]},$$scope:{ctx:e}}}),o.$on("close",e[7]),{c(){t=H("div"),u&&u.c(),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","window-positioner"),te(r,"width-regular","regular"===e[3]),te(r,"width-medium","medium"===e[3]),te(r,"width-large","large"===e[3]),U(t,"class","modal"),U(t,"data-modal-id",e[1])},m(e,s){L(e,t,s),u&&u.m(t,null),O(t,n),O(t,r),ot(o,r,null),a=!0,l||(c=C(ln.call(null,t)),l=!0)},p(e,s){e[4]?u?(u.p(e,s),16&s&&je(u,1)):(u=lp(e),u.c(),je(u,1),u.m(t,n)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe());const i={};32&s&&(i.canScrollBody=e[5]),64&s&&(i.hasCloseButton=e[6]),8196&s&&(i.$$scope={dirty:s,ctx:e}),o.$set(i),(!a||8&s)&&te(r,"width-regular","regular"===e[3]),(!a||8&s)&&te(r,"width-medium","medium"===e[3]),(!a||8&s)&&te(r,"width-large","large"===e[3]),(!a||2&s)&&U(t,"data-modal-id",e[1])},i(e){a||(je(u),je(o.$$.fragment,e),Ie((()=>{i&&i.end(1),s=Be(r,Fl,{y:20,duration:150}),s.start()})),a=!0)},o(e){qe(u),qe(o.$$.fragment,e),s&&s.invalidate(),i=We(r,Fl,{y:20,duration:150}),a=!1},d(e){e&&P(t),u&&u.d(),st(o),e&&i&&i.end(),l=!1,c()}}}function lp(e){let t,n,r,s,i,a;return{c(){t=H("div"),U(t,"class","overlay")},m(n,r){L(n,t,r),s=!0,i||(a=V(t,"click",e[9]),i=!0)},p:o,i(e){s||(Ie((()=>{r&&r.end(1),n=Be(t,zl,{duration:150}),n.start()})),s=!0)},o(e){n&&n.invalidate(),r=We(t,zl,{duration:150}),s=!1},d(e){e&&P(t),e&&r&&r.end(),i=!1,a()}}}function cp(e){let t;const n=e[12].default,r=f(n,e,e[13],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&y(r,n,e,e[13],t?g(n,e[13],o,null):v(e[13]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function up(e){let t,n,r,o=(e[2]??"")+"";const s=e[12].title,i=f(s,e,e[13],op);return{c(){t=H("div"),i&&i.c(),n=F(o),U(t,"slot","title")},m(e,o){L(e,t,o),i&&i.m(t,null),O(t,n),r=!0},p(e,t){i&&i.p&&(!r||8192&t)&&y(i,s,e,e[13],r?g(s,e[13],t,rp):v(e[13]),op),(!r||4&t)&&o!==(o=(e[2]??"")+"")&&G(n,o)},i(e){r||(je(i,e),r=!0)},o(e){qe(i,e),r=!1},d(e){e&&P(t),i&&i.d(e)}}}function dp(e){let t;const n=e[12].footer,r=f(n,e,e[13],ip);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8192&o)&&y(r,n,e,e[13],t?g(n,e[13],o,sp):v(e[13]),ip)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function pp(e){let t,n,r,o,s=e[0]&&ap(e);return{c(){s&&s.c(),t=q()},m(i,a){s&&s.m(i,a),L(i,t,a),n=!0,r||(o=V(np,"keydown",e[8]),r=!0)},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&je(s,1)):(s=ap(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){s&&s.d(e),e&&P(t),r=!1,o()}}}function $p(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let{modalId:c}=t,{isOpen:u=!1}=t,{title:d}=t,{size:p="regular"}=t,{allowClose:$=!0}=t,{hasOverlay:m=!0}=t,{closeOn:f=["button"]}=t,{canScrollBody:h=!0}=t;function g(){n(0,u=!1)}return e.$$set=e=>{"modalId"in e&&n(1,c=e.modalId),"isOpen"in e&&n(0,u=e.isOpen),"title"in e&&n(2,d=e.title),"size"in e&&n(3,p=e.size),"allowClose"in e&&n(10,$=e.allowClose),"hasOverlay"in e&&n(4,m=e.hasOverlay),"closeOn"in e&&n(11,f=e.closeOn),"canScrollBody"in e&&n(5,h=e.canScrollBody),"$$scope"in e&&n(13,a=e.$$scope)},e.$$.update=()=>{3072&e.$$.dirty&&n(6,r=$&&f.includes("button")),3072&e.$$.dirty&&(o=$&&f.includes("esc")),3072&e.$$.dirty&&(s=$&&f.includes("overlay")),1&e.$$.dirty&&async function(e){await ke(),l(e?"open":"close")}(u)},[u,c,d,p,m,h,r,g,function(e){"Escape"===e.key&&u&&o&&g()},function(){s&&g()},$,f,i,a]}class mp extends at{constructor(e){super(),it(this,e,$p,pp,d,{modalId:1,isOpen:0,title:2,size:3,allowClose:10,hasOverlay:4,closeOn:11,canScrollBody:5})}}const fp=e=>({}),hp=e=>({slot:"title"}),gp=e=>({}),yp=e=>({slot:"footer"});function vp(e){let t;const n=e[10].default,r=f(n,e,e[14],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&y(r,n,e,e[14],t?g(n,e[14],o,null):v(e[14]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function bp(e){let t;const n=e[10].title,r=f(n,e,e[14],hp);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&y(r,n,e,e[14],t?g(n,e[14],o,fp):v(e[14]),hp)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function wp(e){let t;const n=e[10].footer,r=f(n,e,e[14],yp);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16384&o)&&y(r,n,e,e[14],t?g(n,e[14],o,gp):v(e[14]),yp)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function _p(e){let t,n,r;function o(t){e[11](t)}let s={hasOverlay:e[9],title:e[1],size:e[2],allowClose:e[3]&&e[9],closeOn:e[4],canScrollBody:e[5],modalId:e[0].modalId,$$slots:{footer:[wp],title:[bp],default:[vp]},$$scope:{ctx:e}};return void 0!==e[8]&&(s.isOpen=e[8]),t=new mp({props:s}),we.push((()=>nt(t,"isOpen",o))),t.$on("open",e[12]),t.$on("close",e[13]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};512&r&&(o.hasOverlay=e[9]),2&r&&(o.title=e[1]),4&r&&(o.size=e[2]),520&r&&(o.allowClose=e[3]&&e[9]),16&r&&(o.closeOn=e[4]),32&r&&(o.canScrollBody=e[5]),1&r&&(o.modalId=e[0].modalId),16384&r&&(o.$$scope={dirty:r,ctx:e}),!n&&256&r&&(n=!0,o.isOpen=e[8],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function xp(e,t,n){let r,s,i,a,l=o,c=o;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t,{controller:$}=t,{title:m}=t,{size:f}=t,{allowClose:h=!0}=t,{closeOn:g=["button"]}=t,{canScrollBody:y=!0}=t;return e.$$set=e=>{"controller"in e&&n(0,$=e.controller),"title"in e&&n(1,m=e.title),"size"in e&&n(2,f=e.size),"allowClose"in e&&n(3,h=e.allowClose),"closeOn"in e&&n(4,g=e.closeOn),"canScrollBody"in e&&n(5,y=e.canScrollBody),"$$scope"in e&&n(14,d=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&(n(7,({isOpen:r,isOnTop:s}=$),r,(n(6,s),c(),c=p(s,(e=>n(9,a=e))),s)),l(),l=p(r,(e=>n(8,i=e))))},[$,m,f,h,g,y,s,r,i,a,u,function(e){i=e,r.set(i)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},d]}class Sp extends at{constructor(e){super(),it(this,e,xp,_p,d,{controller:0,title:1,size:2,allowClose:3,closeOn:4,canScrollBody:5})}}function Cp(e){let t,n;return t=new os({props:{arg:e[4]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.arg=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ep(e){let t,n;return t=new os({props:{arg:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.arg=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kp(e){let t,n,r=e[5]&&Ep(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&je(r,1)):(r=Ep(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Ip(e){let t,n;return t=new ao({props:{slot:"footer",cancelButton:e[2],proceedButton:e[3],onCancel:e[10],onProceed:e[11],canProceed:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.cancelButton=e[2]),8&n&&(r.proceedButton=e[3]),512&n&&(r.canProceed=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Tp(e){let t,n;return t=new Sp({props:{controller:e[1],allowClose:e[0],$$slots:{footer:[Ip],title:[kp],default:[Cp]},$$scope:{ctx:e}}}),t.$on("close",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),1&n&&(r.allowClose=e[0]),524860&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dp(e,t,n){let r,s,i,a,l,c,u,d,$,m,f,h,g,y,v=o,b=o,w=o;e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));let{controller:_}=t,x=!0;return e.$$set=e=>{"controller"in e&&n(13,_=e.controller)},e.$$.update=()=>{8192&e.$$.dirty&&n(1,({modal:r,confirmationProps:s,resolve:i,canProceed:a}=_),r,(n(8,s),b(),b=p(s,(e=>n(14,g=e))),s),(n(7,i),v(),v=p(i,(e=>n(18,h=e))),i),(n(6,a),w(),w=p(a,(e=>n(9,y=e))),a)),16384&e.$$.dirty&&n(5,({title:l,body:c,proceedButton:u,cancelButton:d,onProceed:$,onSuccess:m,onError:f}=g),l,(n(4,c),n(14,g)),(n(3,u),n(14,g)),(n(2,d),n(14,g)))},[x,r,d,u,c,l,a,i,s,y,function(){h(!1),r.close()},async function(){try{n(0,x=!1),await $(),m(),h(!0),r.close()}catch($h){f($h),r.close()}finally{n(0,x=!0)}},function(){h(!1),n(0,x=!0)},_,g]}class Mp extends at{constructor(e){super(),it(this,e,Dp,Tp,d,{controller:13})}}function Op(e){return{text:e,isMatch:!0}}function Np(e){return{text:e,isMatch:!1}}function Ap(e,t){if(0===e.length)return[];if(0===t.length)return[Np(e)];const n=Zt(e),r=Zt(t),o=[];let s=0;for(;;){const i=n.indexOf(r,s);if(-1===i){s<n.length&&o.push(Np(e.slice(s)));break}i>s&&o.push(Np(e.substring(s,i))),o.push(Op(e.substring(i,i+t.length))),s=i+t.length}return o}function Lp(e){return e?"exactMatch":"noMatch"}function Pp(e,t,n){if(null!=e&&""!==e)return n&&n(t)===e?"exactMatch":Lp(e===t||String(e)===String(t))}function Rp(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("span"),o&&o.c(),U(t,"class","match svelte-1hlowus")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function Hp(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class zp extends at{constructor(e){super(),it(this,e,Hp,Rp,d,{})}}function Fp(e,t,n){const r=e.slice();return r[3]=t[n],r}function jp(e){let t,n=e[3].text+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function qp(e){let t,n,r;var o=e[1];function s(e){return{props:{$$slots:{default:[Vp]},$$scope:{ctx:e}}}}return o&&(t=new o(s(e))),{c(){t&&rt(t.$$.fragment),n=q()},m(e,o){t&&ot(t,e,o),L(e,n,o),r=!0},p(e,r){const i={};if(65&r&&(i.$$scope={dirty:r,ctx:e}),o!==(o=e[1])){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}o?(t=new o(s(e)),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&qe(t.$$.fragment,e),r=!1},d(e){e&&P(n),t&&st(t,e)}}}function Vp(e){let t,n=e[3].text+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[3].text+"")&&G(t,n)},d(e){e&&P(t)}}}function Bp(e){let t,n,r,o;const s=[qp,jp],i=[];function a(e,t){return e[3].isMatch?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Wp(e){let t,n,r=e[0],o=[];for(let i=0;i<r.length;i+=1)o[i]=Bp(Fp(e,r,i));const s=e=>qe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=H("span");for(let e=0;e<o.length;e+=1)o[e].c();U(t,"class","match-highlighter")},m(e,r){L(e,t,r);for(let n=0;n<o.length;n+=1)o[n].m(t,null);n=!0},p(e,[n]){if(3&n){let i;for(r=e[0],i=0;i<r.length;i+=1){const s=Fp(e,r,i);o[i]?(o[i].p(s,n),je(o[i],1)):(o[i]=Bp(s),o[i].c(),je(o[i],1),o[i].m(t,null))}for(ze(),i=r.length;i<o.length;i+=1)s(i);Fe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)qe(o[t]);n=!1},d(e){e&&P(t),R(o,e)}}}function Up(e,t,n){let r,{matchParts:o}=t,{matchComponent:s}=t;return e.$$set=e=>{"matchParts"in e&&n(0,o=e.matchParts),"matchComponent"in e&&n(2,s=e.matchComponent)},e.$$.update=()=>{4&e.$$.dirty&&n(1,r=s??zp)},[o,r,s]}class Yp extends at{constructor(e){super(),it(this,e,Up,Wp,d,{matchParts:0,matchComponent:2})}}function Kp(e){let t,n;return t=new Yp({props:{matchParts:e[1],matchComponent:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.matchParts=e[1]),1&n&&(r.matchComponent=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gp(e,t,n){let r,{text:o}=t,{substring:s=""}=t,{matchComponent:i}=t;return e.$$set=e=>{"text"in e&&n(2,o=e.text),"substring"in e&&n(3,s=e.substring),"matchComponent"in e&&n(0,i=e.matchComponent)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=Ap(o,s))},[i,r,o,s]}class Xp extends at{constructor(e){super(),it(this,e,Gp,Kp,d,{text:2,substring:3,matchComponent:0})}}function Zp(e){let t;return{c(){t=H("div"),U(t,"class","menu-divider")},m(e,n){L(e,t,n)},p:o,i:o,o:o,d(e){e&&P(t)}}}class Jp extends at{constructor(e){super(),it(this,e,null,Zp,d,{})}}function Qp(e){let t,n;const r=e[2].default,o=f(r,e,e[1],null);let s=[{class:"menu-heading"},e[0]],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("div"),o&&o.c(),Y(t,a)},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||2&i)&&y(o,r,e,e[1],n?g(r,e[1],i,null):v(e[1]),null),Y(t,a=et(s,[{class:"menu-heading"},1&i&&e[0]]))},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function e$(e,t,n){const r=[];let o=w(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(0,o=w(t,r)),"$$scope"in e&&n(1,a=e.$$scope)},[o,a,s]}class t$ extends at{constructor(e){super(),it(this,e,e$,Qp,d,{})}}const n$=e=>({}),r$=e=>({});function o$(e){let t,n;const r=[e[0],{hasNotificationDot:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=3&n?et(r,[1&n&&tt(e[0]),2&n&&{hasNotificationDot:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s$(e){let t,n,r,o,s,i;const a=e[4].control,l=f(a,e,e[3],r$);let c=e[0]&&o$(e);const u=e[4].default,d=f(u,e,e[3],null);return{c(){t=H("div"),l&&l.c(),n=j(),r=H("div"),c&&c.c(),o=j(),s=H("div"),d&&d.c(),U(t,"class","control cell"),U(r,"class","icon cell"),U(s,"class","label cell")},m(e,a){L(e,t,a),l&&l.m(t,null),L(e,n,a),L(e,r,a),c&&c.m(r,null),L(e,o,a),L(e,s,a),d&&d.m(s,null),i=!0},p(e,[t]){l&&l.p&&(!i||8&t)&&y(l,a,e,e[3],i?g(a,e[3],t,n$):v(e[3]),r$),e[0]?c?(c.p(e,t),1&t&&je(c,1)):(c=o$(e),c.c(),je(c,1),c.m(r,null)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe()),d&&d.p&&(!i||8&t)&&y(d,u,e,e[3],i?g(u,e[3],t,null):v(e[3]),null)},i(e){i||(je(l,e),je(c),je(d,e),i=!0)},o(e){qe(l,e),qe(c),qe(d,e),i=!1},d(e){e&&P(t),l&&l.d(e),e&&P(n),e&&P(r),c&&c.d(),e&&P(o),e&&P(s),d&&d.d(e)}}}function i$(e,t,n){let r,{$$slots:o={},$$scope:s}=t;const i=_(o),a=Ks(),l=mt(!1);m(e,l,(e=>n(5,r=e)));let{icon:c}=t,{hasNotificationDot:u=!1}=t;return a&&(pe((()=>a.hasControlColumn.registerInput(i.control))),pe((()=>a.hasIconColumn.registerInput(l)))),e.$$set=e=>{"icon"in e&&n(0,c=e.icon),"hasNotificationDot"in e&&n(1,u=e.hasNotificationDot),"$$scope"in e&&n(3,s=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&S(l,r=!!c,r)},[c,u,l,s,o]}class a$ extends at{constructor(e){super(),it(this,e,i$,s$,d,{icon:0,hasNotificationDot:1})}}function l$(e){let t,n,r,o,s;const a=e[6].default,l=f(a,e,e[5],null);let c=[e[4],{class:n="menu-item "+e[3]},{role:"menuitem"}],u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return{c(){t=H(e[0]),l&&l.c(),Y(t,u),te(t,"disabled",e[1]),te(t,"danger",e[2])},m(n,i){L(n,t,i),l&&l.m(t,null),r=!0,o||(s=V(t,"click",e[7]),o=!0)},p(e,o){l&&l.p&&(!r||32&o)&&y(l,a,e,e[5],r?g(a,e[5],o,null):v(e[5]),null),Y(t,u=et(c,[16&o&&e[4],(!r||8&o&&n!==(n="menu-item "+e[3]))&&{class:n},{role:"menuitem"}])),te(t,"disabled",e[1]),te(t,"danger",e[2])},i(e){r||(je(l,e),r=!0)},o(e){qe(l,e),r=!1},d(e){e&&P(t),l&&l.d(e),o=!1,s()}}}function c$(e){let t,n,r=e[0],o=e[0]&&l$(e);return{c(){o&&o.c(),t=q()},m(e,r){o&&o.m(e,r),L(e,t,r),n=!0},p(e,[n]){e[0]?r?d(r,e[0])?(o.d(1),o=l$(e),o.c(),o.m(t.parentNode,t)):o.p(e,n):(o=l$(e),o.c(),o.m(t.parentNode,t)):r&&(o.d(1),o=null),r=e[0]},i(e){n||(je(o),n=!0)},o(e){qe(o),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function u$(e,t,n){const r=["tag","disabled","danger","class"];let o=w(t,r),{$$slots:s={},$$scope:a}=t,{tag:l="div"}=t,{disabled:c=!1}=t,{danger:u=!1}=t,{class:d=""}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(4,o=w(t,r)),"tag"in e&&n(0,l=e.tag),"disabled"in e&&n(1,c=e.disabled),"danger"in e&&n(2,u=e.danger),"class"in e&&n(3,d=e.class),"$$scope"in e&&n(5,a=e.$$scope)},[l,c,u,d,o,a,s,function(t){ve.call(this,e,t)}]}class d$ extends at{constructor(e){super(),it(this,e,u$,c$,d,{tag:0,disabled:1,danger:2,class:3})}}function p$(e){let t;const n=e[7].default,r=f(n,e,e[8],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||256&o)&&y(r,n,e,e[8],t?g(n,e[8],o,null):v(e[8]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function $$(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},i:o,o:o,d(e){e&&P(t)}}}function m$(e){let t,n,r,o;const s=[$$,p$],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function f$(e){let t,n;return t=new a$({props:{icon:e[1],hasNotificationDot:e[4],$$slots:{default:[m$]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.icon=e[1]),16&n&&(r.hasNotificationDot=e[4]),257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function h$(e){let t,n;const r=[{tag:"button"},{class:"menu-item-button"},{disabled:e[2]},{danger:e[3]},e[6]];let o={$$slots:{default:[f$]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new d$({props:o}),t.$on("click",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=76&n?et(r,[r[0],r[1],4&n&&{disabled:e[2]},8&n&&{danger:e[3]},64&n&&tt(e[6])]):{};275&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function g$(e,t,n){const r=["label","icon","disabled","danger","hasNotificationDot"];let o=w(t,r),{$$slots:s={},$$scope:a}=t;const l=fe();let{label:c}=t,{icon:u}=t,{disabled:d=!1}=t,{danger:p=!1}=t,{hasNotificationDot:$=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(6,o=w(t,r)),"label"in e&&n(0,c=e.label),"icon"in e&&n(1,u=e.icon),"disabled"in e&&n(2,d=e.disabled),"danger"in e&&n(3,p=e.danger),"hasNotificationDot"in e&&n(4,$=e.hasNotificationDot),"$$scope"in e&&n(8,a=e.$$scope)},[c,u,d,p,$,function(){d||l("click")},o,s,a]}class y$ extends at{constructor(e){super(),it(this,e,g$,h$,d,{label:0,icon:1,disabled:2,danger:3,hasNotificationDot:4})}}function v$(e){let t;const n=e[6].default,r=f(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&y(r,n,e,e[7],t?g(n,e[7],o,null):v(e[7]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function b$(e){let t,n;return t=new a$({props:{icon:e[0],hasNotificationDot:e[2],$$slots:{default:[v$]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.icon=e[0]),4&n&&(r.hasNotificationDot=e[2]),128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function w$(e){let t,n;const r=[{tag:"a"},{class:"menu-item-link "+e[4]},{href:e[1]},{disabled:e[3]},e[5]];let o={$$slots:{default:[b$]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new d$({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=58&n?et(r,[r[0],16&n&&{class:"menu-item-link "+e[4]},2&n&&{href:e[1]},8&n&&{disabled:e[3]},32&n&&tt(e[5])]):{};133&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _$(e,t,n){const r=["icon","href","hasNotificationDot","disabled","class"];let o=w(t,r),{$$slots:s={},$$scope:a}=t,{icon:l}=t,{href:c}=t,{hasNotificationDot:u=!1}=t,{disabled:d=!1}=t,{class:p=""}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,o=w(t,r)),"icon"in e&&n(0,l=e.icon),"href"in e&&n(1,c=e.href),"hasNotificationDot"in e&&n(2,u=e.hasNotificationDot),"disabled"in e&&n(3,d=e.disabled),"class"in e&&n(4,p=e.class),"$$scope"in e&&n(7,a=e.$$scope)},[l,c,u,d,p,o,s,a]}class x$ extends at{constructor(e){super(),it(this,e,_$,w$,d,{icon:0,href:1,hasNotificationDot:2,disabled:3,class:4})}}const S$={backgroundColor:"var(--sky-500)",textColor:"var(--slate-800)",progressColor:"rgba(255, 255, 255, 0.6)",lifetime:6e3,hasProgress:!0,initialProgress:1,finalProgress:0,allowPause:!0,allowDismiss:!0,onShow:()=>{},onDismiss:()=>{}};class C${constructor({defaultProps:t}={defaultProps:{}}){e(this,"maxId",0),e(this,"defaultProps",void 0),e(this,"entriesMap",void 0),e(this,"entries",void 0),this.entriesMap=mt(new Map),this.defaultProps={...S$,...t},this.entries=ft(this.entriesMap,(e=>[...e.values()]))}makeId(){return this.maxId+=1,this.maxId}show(e={}){const t={...this.defaultProps,...e},n=t.id??this.makeId(),r=jt(t.initialProgress,{duration:200,easing:s}),o={id:n,progress:r,dismiss:()=>this.dismiss(n)},i={id:n,props:t,controller:o};return this.entriesMap.update((e=>{const t=new Map(e);return t.set(n,i),t})),t.lifetime&&o.progress.set(t.finalProgress,{duration:t.lifetime}).then(o.dismiss),t.onShow(o),o}dismiss(e){this.entriesMap.update((t=>{const n=t.get(e);if(!n)return t;const r=new Map(t);return r.delete(e),n.props.onDismiss(),r}))}}function E$(e){return"string"==typeof e?{title:e}:e}function k$(e,{from:t,to:n},r={}){const o=getComputedStyle(e),s="none"===o.transform?"":o.transform,[i,a]=o.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*i/n.width-(n.left+i),c=t.top+t.height*a/n.height-(n.top+a),{delay:d=0,duration:p=(e=>120*Math.sqrt(e)),easing:$=Rt}=r;return{delay:d,duration:u(p)?p(Math.sqrt(l*l+c*c)):p,easing:$,css:(e,r)=>{const o=r*l,i=r*c,a=e+r*t.width/n.width,u=e+r*t.height/n.height;return`transform: ${s} translate(${o}px, ${i}px) scale(${a}, ${u});`}}}function I$(e){let t,n,r;const o=[e[6]];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","icon")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=64&t?et(o,[tt(e[6])]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function T$(e){let t,n;return{c(){t=H("div"),n=F(e[14]),U(t,"class","title")},m(e,r){L(e,t,r),O(t,n)},p(e,t){16384&t&&G(n,e[14])},d(e){e&&P(t)}}}function D$(e){let t,n,r,o,s;const a=[hr];let l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return n=new Kr({props:l}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","close-button"),U(t,"role","button"),U(t,"tabindex","-1")},m(i,a){L(i,t,a),ot(n,t,null),r=!0,o||(s=V(t,"click",(function(){u(e[13])&&e[13].apply(this,arguments)})),o=!0)},p(t,r){e=t;const o=0&r?et(a,[tt(hr)]):{};n.$set(o)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n),o=!1,s()}}}function M$(e){let t,n,r,o;const s=[N$,O$],i=[];function a(e,t){return e[0].contentComponent?0:e[0].message?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=H("div"),r&&r.c(),U(t,"class","message")},m(e,r){L(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),~n&&i[n].d()}}}function O$(e){let t;return{c(){t=F(e[16])},m(e,n){L(e,t,n)},p(e,n){65536&n&&G(t,e[16])},i:o,o:o,d(e){e&&P(t)}}}function N$(e){let t,n,r;const o=[e[15]];var s=e[0].contentComponent;function a(e){let t={};for(let n=0;n<o.length;n+=1)t=i(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&rt(t.$$.fragment),n=q()},m(e,o){t&&ot(t,e,o),L(e,n,o),r=!0},p(e,r){const i=32768&r?et(o,[tt(e[15])]):{};if(s!==(s=e[0].contentComponent)){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}s?(t=new s(a()),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&qe(t.$$.fragment,e),r=!1},d(e){e&&P(n),t&&st(t,e)}}}function A$(e){let t;return{c(){t=H("progress"),t.value=e[17]},m(e,n){L(e,t,n)},p(e,n){131072&n&&(t.value=e[17])},d(e){e&&P(t)}}}function L$(e){let t,n,r,o,s,i,a,l,d,p=e[6]&&I$(e),$=e[0].title&&T$(e),m=e[0].allowDismiss&&D$(e),f=(e[0].contentComponent||e[0].message)&&M$(e),h=e[0].hasProgress&&A$(e);return{c(){t=H("div"),n=H("div"),p&&p.c(),r=j(),$&&$.c(),o=j(),m&&m.c(),s=j(),f&&f.c(),i=j(),h&&h.c(),U(n,"class","header"),U(t,"class","toast-item"),U(t,"style",e[2])},m(c,g){L(c,t,g),O(t,n),p&&p.m(n,null),O(n,r),$&&$.m(n,null),O(n,o),m&&m.m(n,null),O(t,s),f&&f.m(t,null),O(t,i),h&&h.m(t,null),a=!0,l||(d=[V(t,"mouseenter",(function(){u(e[12])&&e[12].apply(this,arguments)})),V(t,"mouseleave",(function(){u(e[11])&&e[11].apply(this,arguments)}))],l=!0)},p(s,[l]){(e=s)[6]?p?(p.p(e,l),64&l&&je(p,1)):(p=I$(e),p.c(),je(p,1),p.m(n,r)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe()),e[0].title?$?$.p(e,l):($=T$(e),$.c(),$.m(n,o)):$&&($.d(1),$=null),e[0].allowDismiss?m?(m.p(e,l),1&l&&je(m,1)):(m=D$(e),m.c(),je(m,1),m.m(n,null)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()),e[0].contentComponent||e[0].message?f?(f.p(e,l),1&l&&je(f,1)):(f=M$(e),f.c(),je(f,1),f.m(t,i)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),e[0].hasProgress?h?h.p(e,l):(h=A$(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),(!a||4&l)&&U(t,"style",e[2])},i(e){a||(je(p),je(m),je(f),a=!0)},o(e){qe(p),qe(m),qe(f),a=!1},d(e){e&&P(t),p&&p.d(),$&&$.d(),m&&m.d(),f&&f.d(),h&&h.d(),l=!1,c(d)}}}function P$(e,t,n){let r,s,i,a,l,c,u,d,$,m,f,h,g,y,v,b,w,_,x,S,C,E,k,I=o,T=o,D=o,M=o,O=o,N=o,A=o,L=o;e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>O())),e.$$.on_destroy.push((()=>N())),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>L()));let{entry:P}=t;return e.$$set=e=>{"entry"in e&&n(18,P=e.entry)},e.$$.update=()=>{262144&e.$$.dirty&&n(0,({props:r,controller:s}=P),r,(n(19,s),n(18,P))),524288&e.$$.dirty&&(n(1,({progress:i,dismiss:a}=s),i,(n(13,a),n(19,s),n(18,P))),L(),L=p(i,(e=>n(17,k=e)))),2&e.$$.dirty&&n(12,({pause:l,resume:c}=i),l,(n(11,c),n(1,i),n(19,s),n(18,P))),1&e.$$.dirty&&(n(10,u=qt(r.title)),O(),O=p(u,(e=>n(14,S=e)))),1&e.$$.dirty&&(n(9,d=qt(r.message)),A(),A=p(d,(e=>n(16,E=e)))),1&e.$$.dirty&&(n(8,$=qt(r.contentComponentProps)),N(),N=p($,(e=>n(15,C=e)))),1&e.$$.dirty&&(n(7,m=qt(r.icon)),M(),M=p(m,(e=>n(23,x=e)))),8388608&e.$$.dirty&&n(6,f=x),1&e.$$.dirty&&(n(5,h=qt(r.backgroundColor)),D(),D=p(h,(e=>n(22,_=e)))),1&e.$$.dirty&&(n(4,g=qt(r.textColor)),T(),T=p(g,(e=>n(21,w=e)))),1&e.$$.dirty&&(n(3,y=qt(r.progressColor)),I(),I=p(y,(e=>n(20,b=e)))),7340032&e.$$.dirty&&n(2,v=`\n    --toast-item-background-color: ${_};\n    --toast-item-text-color: ${w};\n    --toast-item-progress-color: ${b};\n  `)},[r,i,v,y,g,h,f,m,$,d,u,c,l,a,S,C,E,k,P,s,b,w,_,x]}class R$ extends at{constructor(e){super(),it(this,e,P$,L$,d,{entry:18})}}function H$(e,t,n){const r=e.slice();return r[4]=t[n],r}function z$(e,t){let n,r,a,l,c,u,d,p=o;const $=[t[3],{entry:t[4]}];var m=t[1];function f(e){let t={};for(let n=0;n<$.length;n+=1)t=i(t,$[n]);return{props:t}}return m&&(r=new m(f())),{key:e,first:null,c(){n=H("li"),r&&rt(r.$$.fragment),a=j(),this.first=n},m(e,t){L(e,n,t),r&&ot(r,n,null),O(n,a),d=!0},p(e,o){t=e;const s=12&o?et($,[8&o&&tt(t[3]),4&o&&{entry:t[4]}]):{};if(m!==(m=t[1])){if(r){ze();const e=r;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}m?(r=new m(f()),rt(r.$$.fragment),je(r.$$.fragment,1),ot(r,n,a)):r=null}else m&&r.$set(s)},r(){u=n.getBoundingClientRect()},f(){!function(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,ce(e,o)}}(n),p(),ce(n,u)},a(){p(),p=function(e,t,n,r){if(!t)return o;const i=e.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return o;const{delay:a=0,duration:l=300,easing:c=s,start:u=k()+a,end:d=u+l,tick:p=o,css:$}=n(e,{from:t,to:i},r);let m,f=!0,h=!1;function g(){$&&le(e,m),f=!1}return M((e=>{if(!h&&e>=u&&(h=!0),h&&e>=d&&(p(1,0),g()),!f)return!1;if(h){const t=0+1*c((e-u)/l);p(t,1-t)}return!0})),$&&(m=ae(e,0,1,l,a,c,$)),a||(h=!0),p(0,1),g}(n,u,k$,{duration:200})},i(e){d||(r&&je(r.$$.fragment,e),Ie((()=>{c&&c.end(1),l=Be(n,Fl,{x:256}),l.start()})),d=!0)},o(e){r&&qe(r.$$.fragment,e),l&&l.invalidate(),c=We(n,zl,{}),d=!1},d(e){e&&P(n),r&&st(r),e&&c&&c.end()}}}function F$(e){let t,n,r=[],o=new Map,s=e[2];const i=e=>e[4].id;for(let a=0;a<s.length;a+=1){let t=H$(e,s,a),n=i(t);o.set(n,r[a]=z$(n,t))}return{c(){t=H("ul");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","toast-presenter")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){if(14&n){s=e[2],ze();for(let e=0;e<r.length;e+=1)r[e].r();r=Qe(r,n,i,1,e,s,o,t,Je,z$,null,H$);for(let e=0;e<r.length;e+=1)r[e].a();Fe()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function j$(e,t,n){const r=["entries","toastItemComponent"];let s,a=w(t,r),l=o,c=()=>(l(),l=p(u,(e=>n(2,s=e))),u);e.$$.on_destroy.push((()=>l()));let{entries:u}=t;c();let{toastItemComponent:d=R$}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(3,a=w(t,r)),"entries"in e&&c(n(0,u=e.entries)),"toastItemComponent"in e&&n(1,d=e.toastItemComponent)},[u,d,s,a]}class q$ extends at{constructor(e){super(),it(this,e,j$,F$,d,{entries:0,toastItemComponent:1})}}function V$(e,t){const{cases:n}=t;return n[String(e)]??n.default??[]}function B$(e,t){return n=e,r=t.condition,o=t.value,("eq"===r?n===o:"neq"===r&&n!==o)?t.elements??[]:[];var n,r,o}function W$(e,t){const n=new Set;let r=[];if("input"===e.type||"static"===e.type)n.add(e.variable);else if("switch"===e.type){r=V$(t[e.variable],e)}else if("if"===e.type){r=B$(t[e.variable],e)}else"layout"!==e.type&&e.type||(r=e.elements);return r.forEach((e=>{W$(e,t).forEach((e=>n.add(e)))})),n}function U$(e){const t=new Set;let n=[];if("switch"===e.type){t.add(e.variable);const r=[];Object.keys(e.cases).forEach((t=>{r.push(...e.cases[t])})),n=r}else"if"===e.type?(t.add(e.variable),n=e.elements):"layout"!==e.type&&e.type||(n=e.elements);return n.forEach((e=>{U$(e).forEach((e=>t.add(e)))})),t}function Y$(e,t,n){const r=U$(e.layout),o=new Map;function s(){const e={};return o.forEach(((t,n)=>{e[n]=$(t)})),e}Object.keys(e.variables)?.forEach((n=>{const r=mt(void 0!==t?.[n]?t[n]:e.variables[n].default);o.set(n,r)}));const i=function(){let t={},n=W$(e.layout,s());return $t(t,(i=>{const a=[...o].map((([o,a])=>a.subscribe((()=>{const a=s();r.has(o)&&(n=W$(e.layout,a)),t={},n.forEach((e=>{t[e]=a[e]})),i(t)}))));return()=>a.forEach((e=>e()))}))}(),a=ft(i,(t=>{const n={isValid:!0,failedChecks:{}};return Object.keys(t).forEach((r=>{const o=t[r],s=e.variables[r],i=s?.validation;if(s&&i){const{checks:e}=i;if(e.includes("isEmpty")){let e=null!=o;"string"===s.type&&(e=e&&""!==o),e||(n.failedChecks[r]||(n.failedChecks[r]=[]),n.failedChecks[r].push("isEmpty")),n.isValid=n.isValid&&e}}})),n}));return{...e,stores:o,values:i,validationStore:a,getValidationResult:function(){return $(a)},customComponents:n}}function K$(e,t,n){const r=e.slice();return r[7]=t[n],r}function G$(e){let t,n,r;const o=[e[5],{dataType:e[0]},{label:e[1]},{hasError:e[3].length>0}];function s(t){e[6](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[4]&&(a.value=e[4]),t=new Hu({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const s=43&r?et(o,[32&r&&tt(e[5]),1&r&&{dataType:e[0]},2&r&&{label:e[1]},8&r&&{hasError:e[3].length>0}]):{};!n&&16&r&&(n=!0,s.value=e[4],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function X$(e){let t,n=e[7]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[7]+"")&&G(t,n)},d(e){e&&P(t)}}}function Z$(e){let t;return{c(){t=F("* This is a required field")},m(e,n){L(e,t,n)},p:o,d(e){e&&P(t)}}}function J$(e,t){let n,r;function o(e,t){return"isEmpty"===e[7]?Z$:X$}let s=o(t),i=s(t);return{key:e,first:null,c(){n=H("div"),i.c(),r=j(),U(n,"class","validation-error"),this.first=n},m(e,t){L(e,n,t),i.m(n,null),O(n,r)},p(e,a){s===(s=o(t=e))&&i?i.p(t,a):(i.d(1),i=s(t),i&&(i.c(),i.m(n,r)))},d(e){e&&P(n),i.d()}}}function Q$(e){let t,n,r,o,s=[],i=new Map;n=new Mo({props:{label:e[1],layout:"boolean"===e[0]?"inline-input-first":"stacked",$$slots:{default:[G$]},$$scope:{ctx:e}}});let a=e[3];const l=e=>e[7];for(let c=0;c<a.length;c+=1){let t=K$(e,a,c),n=l(t);i.set(n,s[c]=J$(n,t))}return{c(){t=H("div"),rt(n.$$.fragment),r=j();for(let e=0;e<s.length;e+=1)s[e].c();U(t,"class","form-element form-input")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r);for(let n=0;n<s.length;n+=1)s[n].m(t,null);o=!0},p(e,[r]){const o={};2&r&&(o.label=e[1]),1&r&&(o.layout="boolean"===e[0]?"inline-input-first":"stacked"),1083&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),8&r&&(a=e[3],s=Qe(s,r,l,1,e,a,i,t,Xe,J$,null,K$))},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n);for(let t=0;t<s.length;t+=1)s[t].d()}}}function em(e,t,n){const r=["type","label","store","validationErrors"];let s,a=w(t,r),l=o,c=()=>(l(),l=p($,(e=>n(4,s=e))),$);e.$$.on_destroy.push((()=>l()));let{type:u}=t,{label:d}=t,{store:$}=t;c();let{validationErrors:m}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,a=w(t,r)),"type"in e&&n(0,u=e.type),"label"in e&&n(1,d=e.label),"store"in e&&c(n(2,$=e.store)),"validationErrors"in e&&n(3,m=e.validationErrors)},[u,d,$,m,s,a,function(e){s=e,$.set(s)}]}class tm extends at{constructor(e){super(),it(this,e,em,Q$,d,{type:0,label:1,store:2,validationErrors:3})}}function nm(e,t,n){const r=e.slice();return r[4]=t[n],r}const rm=e=>({element:2&e}),om=e=>({element:e[4]});function sm(e,t){let n,r;const o=t[3].default,s=f(o,t,t[2],om);return{key:e,first:null,c(){n=q(),s&&s.c(),this.first=n},m(e,t){L(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||6&n)&&y(s,o,t,t[2],r?g(o,t[2],n,rm):v(t[2]),om)},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(n),s&&s.d(e)}}}function im(e){let t,n,r,o=[],s=new Map,i=e[1]||[];const a=e=>e[4];for(let l=0;l<i.length;l+=1){let t=nm(e,i,l),n=a(t);s.set(n,o[l]=sm(n,t))}return{c(){t=H("div");for(let e=0;e<o.length;e+=1)o[e].c();U(t,"class",n="form-element form-layout "+e[0])},m(e,n){L(e,t,n);for(let r=0;r<o.length;r+=1)o[r].m(t,null);r=!0},p(e,[l]){6&l&&(i=e[1]||[],ze(),o=Qe(o,l,a,1,e,i,s,t,Ze,sm,null,nm),Fe()),(!r||1&l&&n!==(n="form-element form-layout "+e[0]))&&U(t,"class",n)},i(e){if(!r){for(let e=0;e<i.length;e+=1)je(o[e]);r=!0}},o(e){for(let t=0;t<o.length;t+=1)qe(o[t]);r=!1},d(e){e&&P(t);for(let t=0;t<o.length;t+=1)o[t].d()}}}function am(e,t,n){let{$$slots:r={},$$scope:o}=t,{orientation:s="vertical"}=t,{elements:i}=t;return e.$$set=e=>{"orientation"in e&&n(0,s=e.orientation),"elements"in e&&n(1,i=e.elements),"$$scope"in e&&n(2,o=e.$$scope)},[s,i,o,r]}class lm extends at{constructor(e){super(),it(this,e,am,im,d,{orientation:0,elements:1})}}function cm(e,t,n){const r=e.slice();return r[6]=t[n],r}const um=e=>({element:2&e}),dm=e=>({element:e[6]});function pm(e,t){let n,r;const o=t[5].default,s=f(o,t,t[4],dm);return{key:e,first:null,c(){n=q(),s&&s.c(),this.first=n},m(e,t){L(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||18&n)&&y(s,o,t,t[4],r?g(o,t[4],n,um):v(t[4]),dm)},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(n),s&&s.d(e)}}}function $m(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[6];for(let a=0;a<s.length;a+=1){let t=cm(e,s,a),n=i(t);o.set(n,r[a]=pm(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,[n]){18&n&&(s=e[1],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,pm,t,cm),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function mm(e,t,n){let r,s,i=o,a=()=>(i(),i=p(u,(e=>n(3,s=e))),u);e.$$.on_destroy.push((()=>i()));let{$$slots:l={},$$scope:c}=t,{store:u}=t;a();let{cases:d}=t;return e.$$set=e=>{"store"in e&&a(n(0,u=e.store)),"cases"in e&&n(2,d=e.cases),"$$scope"in e&&n(4,c=e.$$scope)},e.$$.update=()=>{12&e.$$.dirty&&n(1,r=V$(s,{cases:d}))},[u,r,d,s,c,l]}class fm extends at{constructor(e){super(),it(this,e,mm,$m,d,{store:0,cases:2})}}function hm(e,t,n){const r=e.slice();return r[8]=t[n],r}const gm=e=>({element:2&e}),ym=e=>({element:e[8]});function vm(e,t){let n,r;const o=t[7].default,s=f(o,t,t[6],ym);return{key:e,first:null,c(){n=q(),s&&s.c(),this.first=n},m(e,t){L(e,n,t),s&&s.m(e,t),r=!0},p(e,n){t=e,s&&s.p&&(!r||66&n)&&y(s,o,t,t[6],r?g(o,t[6],n,gm):v(t[6]),ym)},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(n),s&&s.d(e)}}}function bm(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[8];for(let a=0;a<s.length;a+=1){let t=hm(e,s,a),n=i(t);o.set(n,r[a]=vm(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,[n]){66&n&&(s=e[1],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,vm,t,hm),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function wm(e,t,n){let r,s,i=o,a=()=>(i(),i=p(u,(e=>n(5,s=e))),u);e.$$.on_destroy.push((()=>i()));let{$$slots:l={},$$scope:c}=t,{store:u}=t;a();let{condition:d="eq"}=t,{value:$}=t,{elements:m}=t;return e.$$set=e=>{"store"in e&&a(n(0,u=e.store)),"condition"in e&&n(2,d=e.condition),"value"in e&&n(3,$=e.value),"elements"in e&&n(4,m=e.elements),"$$scope"in e&&n(6,c=e.$$scope)},e.$$.update=()=>{60&e.$$.dirty&&n(1,r=B$(s,{condition:d,value:$,elements:m}))},[u,r,d,$,m,s,c,l]}class _m extends at{constructor(e){super(),it(this,e,wm,bm,d,{store:0,condition:2,value:3,elements:4})}}function xm(e){let t,n,r;const o=[e[1]??{},{store:e[3]},{stores:e[2]}];var s=e[4][e[0]];function a(e){let t={};for(let n=0;n<o.length;n+=1)t=i(t,o[n]);return{props:t}}return s&&(t=new s(a())),{c(){t&&rt(t.$$.fragment),n=q()},m(e,o){t&&ot(t,e,o),L(e,n,o),r=!0},p(e,r){const i=14&r?et(o,[2&r&&tt(e[1]??{}),8&r&&{store:e[3]},4&r&&{stores:e[2]}]):{};if(s!==(s=e[4][e[0]])){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}s?(t=new s(a()),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else s&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&qe(t.$$.fragment,e),r=!1},d(e){e&&P(n),t&&st(t,e)}}}function Sm(e){let t,n,r=e[4]?.[e[0]]&&xm(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[4]?.[e[0]]?r?(r.p(e,n),17&n&&je(r,1)):(r=xm(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Cm(e,t,n){let{componentId:r}=t,{props:o}=t,{stores:s}=t,{store:i}=t,{customComponents:a}=t;return e.$$set=e=>{"componentId"in e&&n(0,r=e.componentId),"props"in e&&n(1,o=e.props),"stores"in e&&n(2,s=e.stores),"store"in e&&n(3,i=e.store),"customComponents"in e&&n(4,a=e.customComponents)},[r,o,s,i,a]}class Em extends at{constructor(e){super(),it(this,e,Cm,Sm,d,{componentId:0,props:1,stores:2,store:3,customComponents:4})}}function km(e){let t,n;return t=new lm({props:{orientation:e[0].orientation,elements:e[0].elements,$$slots:{default:[Om,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.orientation=e[0].orientation),1&n&&(r.elements=e[0].elements),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Im(e){let t,n;const r=[{store:e[7]},e[0]];let o={$$slots:{default:[Nm,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new _m({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=129&n?et(r,[128&n&&{store:e[7]},1&n&&tt(e[0])]):{};1792&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Tm(e){let t,n;return t=new fm({props:{store:e[7],cases:e[0].cases,$$slots:{default:[Am,({element:e})=>({9:e}),({element:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.store=e[7]),1&n&&(r.cases=e[0].cases),1792&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dm(e){let t,n;const r=[e[0],{customComponents:e[3]},{store:e[7]},{stores:e[1]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Em({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=139&n?et(r,[1&n&&tt(e[0]),8&n&&{customComponents:e[3]},128&n&&{store:e[7]},2&n&&{stores:e[1]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mm(e){let t,n,r=e[6]&&"custom"!==e[6]&&Lm(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[6]&&"custom"!==e[6]?r?(r.p(e,n),64&n&&je(r,1)):(r=Lm(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Om(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Hm({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=768&n?et(r,[256&n&&tt(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Nm(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Hm({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=768&n?et(r,[256&n&&tt(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Am(e){let t,n;const r=[e[8],{element:e[9]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Hm({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=768&n?et(r,[256&n&&tt(e[8]),512&n&&{element:e[9]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lm(e){let t,n;const r=[e[0],e[2][e[0].variable],{type:e[6]},{store:e[7]},{validationErrors:e[4].failedChecks[e[0].variable]||[]},{disabled:e[5]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new tm({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=245&n?et(r,[1&n&&tt(e[0]),5&n&&tt(e[2][e[0].variable]),64&n&&{type:e[6]},128&n&&{store:e[7]},17&n&&{validationErrors:e[4].failedChecks[e[0].variable]||[]},32&n&&{disabled:e[5]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Pm(e){let t,n,r,o;const s=[Mm,Dm,Tm,Im,km],i=[];function a(e,t){return"input"===e[0].type&&e[7]?0:"static"===e[0].type&&e[7]?1:"switch"===e[0].type&&e[7]?2:"if"===e[0].type&&e[7]?3:"layout"!==e[0].type&&e[0].type?-1:4}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function Rm(e,t,n){let r,o,{element:s}=t,{stores:a}=t,{variables:l}=t,{customComponents:c}=t,{validationResult:u}=t,{disabled:d=!1}=t;return e.$$set=e=>{n(8,t=i(i({},t),b(e))),"element"in e&&n(0,s=e.element),"stores"in e&&n(1,a=e.stores),"variables"in e&&n(2,l=e.variables),"customComponents"in e&&n(3,c=e.customComponents),"validationResult"in e&&n(4,u=e.validationResult),"disabled"in e&&n(5,d=e.disabled)},e.$$.update=()=>{3&e.$$.dirty&&n(7,r="variable"in s?a.get(s.variable):void 0),5&e.$$.dirty&&n(6,o="variable"in s?l[s.variable].type:void 0)},t=b(t),[s,a,l,c,u,d,o,r,t]}class Hm extends at{constructor(e){super(),it(this,e,Rm,Pm,d,{element:0,stores:1,variables:2,customComponents:3,validationResult:4,disabled:5})}}function zm(e){let t,n,r,o,s,i;return r=new Hm({props:{stores:e[1].stores,variables:e[1].variables,element:e[1].layout,customComponents:e[1].customComponents,validationResult:e[3],disabled:e[0]}}),{c(){t=H("div"),n=H("form"),rt(r.$$.fragment),U(t,"class","form-builder")},m(a,l){L(a,t,l),O(t,n),ot(r,n,null),o=!0,s||(i=V(n,"submit",B(e[4])),s=!0)},p(e,[t]){const n={};2&t&&(n.stores=e[1].stores),2&t&&(n.variables=e[1].variables),2&t&&(n.element=e[1].layout),2&t&&(n.customComponents=e[1].customComponents),8&t&&(n.validationResult=e[3]),1&t&&(n.disabled=e[0]),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),st(r),s=!1,i()}}}function Fm(e,t,n){let r,s,i=o;e.$$.on_destroy.push((()=>i()));const a=fe();let{disabled:l=!1}=t,{form:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,l=e.disabled),"form"in e&&n(1,c=e.form)},e.$$.update=()=>{2&e.$$.dirty&&(n(2,r=c.validationStore),i(),i=p(r,(e=>n(3,s=e))))},[l,c,r,s,function(){return a("submit"),!1}]}class jm extends at{constructor(e){super(),it(this,e,Fm,zm,d,{disabled:0,form:1})}}function qm(e){return async function(e){await ke(),e.closest(".window")?.querySelector(":scope > .footer")?.appendChild(e)}(e),{destroy:()=>e.parentElement?.removeChild(e)}}function Vm(e){const t=document.querySelector(e);if(t?.textContent)try{return JSON.parse(t.textContent)}catch(n){console.error(n)}}function Bm(e){return Vm(`#${e}`)}function Wm(){const e=Vm("#common-data");if(!e)throw new Error("commonData is undefined. This state should never occur");return e}var Um=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Ym}(e)}(e)};var Ym="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Km(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Qm((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Gm(e,t,n){return e.concat(t).map((function(e){return Km(e,n)}))}function Xm(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function Zm(e,t){try{return t in e}catch(n){return!1}}function Jm(e,t,n){var r={};return n.isMergeableObject(e)&&Xm(e).forEach((function(t){r[t]=Km(e[t],n)})),Xm(t).forEach((function(o){(function(e,t){return Zm(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(Zm(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return Qm;var n=t.customMerge(e);return"function"==typeof n?n:Qm}(o,n)(e[o],t[o],n):r[o]=Km(t[o],n))})),r}function Qm(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Gm,n.isMergeableObject=n.isMergeableObject||Um,n.cloneUnlessOtherwiseSpecified=Km;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):Jm(e,t,n):Km(t,n)}Qm.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Qm(e,n,t)}),{})};var ef=Qm,tf={},nf={exports:{}};!function(e){var t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_,x,S,C;!function(E){var k="object"==typeof yt?yt:"object"==typeof self?self:"object"==typeof this?this:{};function I(e,t){return e!==k&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}!function(e){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};t=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},o=function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},s=function(e,t){return function(n,r){t(n,r,e)}},i=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){e.done?n(e.value):o(e.value).then(i,a)}l((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(a){s=[6,a],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},c=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||C(t,e,n)},C=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)i.push(r.value)}catch($h){o={error:$h}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(o)throw o.error}}return i},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},$=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,o++)r[o]=s[i];return r},m=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,s=t.length;o<s;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},f=function(e){return this instanceof f?(this.v=e,this):new f(e)},h=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),s=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{l(o[e](t))}catch(n){d(s[0][3],n)}}function l(e){e.value instanceof f?Promise.resolve(e.value.v).then(c,u):d(s[0][2],e)}function c(e){a("next",e)}function u(e){a("throw",e)}function d(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}},g=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:f(e[r](t)),done:"return"===r}:o?o(t):t}:o}},y=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=u(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){o(r,s,(t=e[n](t)).done,t.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var k=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&C(t,e,n);return k(t,e),t},w=function(e){return e&&e.__esModule?e:{default:e}},_=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},x=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},S=function(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)},e("__extends",t),e("__assign",n),e("__rest",r),e("__decorate",o),e("__param",s),e("__metadata",i),e("__awaiter",a),e("__generator",l),e("__exportStar",c),e("__createBinding",C),e("__values",u),e("__read",d),e("__spread",p),e("__spreadArrays",$),e("__spreadArray",m),e("__await",f),e("__asyncGenerator",h),e("__asyncDelegator",g),e("__asyncValues",y),e("__makeTemplateObject",v),e("__importStar",b),e("__importDefault",w),e("__classPrivateFieldGet",_),e("__classPrivateFieldSet",x),e("__classPrivateFieldIn",S)}(I(k,I(e.exports)))}()}(nf);var rf,of={},sf={},af={};Object.defineProperty(af,"__esModule",{value:!0}),af.ErrorKind=void 0,function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(rf||(af.ErrorKind=rf={}));var lf,cf,uf={},df={};Object.defineProperty(df,"__esModule",{value:!0}),df.createNumberElement=df.createLiteralElement=df.isDateTimeSkeleton=df.isNumberSkeleton=df.isTagElement=df.isPoundElement=df.isPluralElement=df.isSelectElement=df.isTimeElement=df.isDateElement=df.isNumberElement=df.isArgumentElement=df.isLiteralElement=df.SKELETON_TYPE=df.TYPE=void 0,function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(lf||(df.TYPE=lf={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(cf||(df.SKELETON_TYPE=cf={})),df.isLiteralElement=function(e){return e.type===lf.literal},df.isArgumentElement=function(e){return e.type===lf.argument},df.isNumberElement=function(e){return e.type===lf.number},df.isDateElement=function(e){return e.type===lf.date},df.isTimeElement=function(e){return e.type===lf.time},df.isSelectElement=function(e){return e.type===lf.select},df.isPluralElement=function(e){return e.type===lf.plural},df.isPoundElement=function(e){return e.type===lf.pound},df.isTagElement=function(e){return e.type===lf.tag},df.isNumberSkeleton=function(e){return!(!e||"object"!=typeof e||e.type!==cf.number)},df.isDateTimeSkeleton=function(e){return!(!e||"object"!=typeof e||e.type!==cf.dateTime)},df.createLiteralElement=function(e){return{type:lf.literal,value:e}},df.createNumberElement=function(e,t){return{type:lf.number,value:e,style:t}};var pf={};Object.defineProperty(pf,"__esModule",{value:!0}),pf.WHITE_SPACE_REGEX=pf.SPACE_SEPARATOR_REGEX=void 0,pf.SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,pf.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/;var $f,mf={},ff={};var hf,gf,yf={},vf={};function bf(){if(gf)return yf;gf=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.parseNumberSkeleton=yf.parseNumberSkeletonFromString=void 0;var e=nf.exports,t=(hf||(hf=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.WHITE_SPACE_REGEX=void 0,vf.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i),vf);yf.parseNumberSkeletonFromString=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var n=e.split(t.WHITE_SPACE_REGEX).filter((function(e){return e.length>0})),r=[],o=0,s=n;o<s.length;o++){var i=s[o].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var a=i[0],l=i.slice(1),c=0,u=l;c<u.length;c++){if(0===u[c].length)throw new Error("Invalid number skeleton")}r.push({stem:a,options:l})}return r};var n=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,r=/^(@+)?(\+|#+)?[rs]?$/g,o=/(\*)(0+)|(#+)(0+)|(0+)/g,s=/^(0+)$/;function i(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(r,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function a(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function l(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!s.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function c(e){var t=a(e);return t||{}}return yf.parseNumberSkeleton=function(t){for(var u={},d=0,p=t;d<p.length;d++){var $=p[d];switch($.stem){case"percent":case"%":u.style="percent";continue;case"%x100":u.style="percent",u.scale=100;continue;case"currency":u.style="currency",u.currency=$.options[0];continue;case"group-off":case",_":u.useGrouping=!1;continue;case"precision-integer":case".":u.maximumFractionDigits=0;continue;case"measure-unit":case"unit":u.style="unit",u.unit=$.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":u.notation="compact",u.compactDisplay="short";continue;case"compact-long":case"KK":u.notation="compact",u.compactDisplay="long";continue;case"scientific":u=e.__assign(e.__assign(e.__assign({},u),{notation:"scientific"}),$.options.reduce((function(t,n){return e.__assign(e.__assign({},t),c(n))}),{}));continue;case"engineering":u=e.__assign(e.__assign(e.__assign({},u),{notation:"engineering"}),$.options.reduce((function(t,n){return e.__assign(e.__assign({},t),c(n))}),{}));continue;case"notation-simple":u.notation="standard";continue;case"unit-width-narrow":u.currencyDisplay="narrowSymbol",u.unitDisplay="narrow";continue;case"unit-width-short":u.currencyDisplay="code",u.unitDisplay="short";continue;case"unit-width-full-name":u.currencyDisplay="name",u.unitDisplay="long";continue;case"unit-width-iso-code":u.currencyDisplay="symbol";continue;case"scale":u.scale=parseFloat($.options[0]);continue;case"integer-width":if($.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");$.options[0].replace(o,(function(e,t,n,r,o,s){if(t)u.minimumIntegerDigits=n.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(s.test($.stem))u.minimumIntegerDigits=$.stem.length;else if(n.test($.stem)){if($.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");$.stem.replace(n,(function(e,t,n,r,o,s){return"*"===n?u.minimumFractionDigits=t.length:r&&"#"===r[0]?u.maximumFractionDigits=r.length:o&&s?(u.minimumFractionDigits=o.length,u.maximumFractionDigits=o.length+s.length):(u.minimumFractionDigits=t.length,u.maximumFractionDigits=t.length),""}));var m=$.options[0];"w"===m?u=e.__assign(e.__assign({},u),{trailingZeroDisplay:"stripIfInteger"}):m&&(u=e.__assign(e.__assign({},u),i(m)))}else if(r.test($.stem))u=e.__assign(e.__assign({},u),i($.stem));else{var f=a($.stem);f&&(u=e.__assign(e.__assign({},u),f));var h=l($.stem);h&&(u=e.__assign(e.__assign({},u),h))}}return u},yf}!function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=nf.exports;t.__exportStar(function(){if($f)return ff;$f=1,Object.defineProperty(ff,"__esModule",{value:!0}),ff.parseDateTimeSkeleton=void 0;var e=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;return ff.parseDateTimeSkeleton=function(t){var n={};return t.replace(e,(function(e){var t=e.length;switch(e[0]){case"G":n.era=4===t?"long":5===t?"narrow":"short";break;case"y":n.year=2===t?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":n.month=["numeric","2-digit","short","long","narrow"][t-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":n.day=["numeric","2-digit"][t-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":n.weekday=4===t?"long":5===t?"narrow":"short";break;case"e":if(t<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");n.weekday=["short","long","narrow","short"][t-4];break;case"c":if(t<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");n.weekday=["short","long","narrow","short"][t-4];break;case"a":n.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":n.hourCycle="h12",n.hour=["numeric","2-digit"][t-1];break;case"H":n.hourCycle="h23",n.hour=["numeric","2-digit"][t-1];break;case"K":n.hourCycle="h11",n.hour=["numeric","2-digit"][t-1];break;case"k":n.hourCycle="h24",n.hour=["numeric","2-digit"][t-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":n.minute=["numeric","2-digit"][t-1];break;case"s":n.second=["numeric","2-digit"][t-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":n.timeZoneName=t<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),n},ff}(),e),t.__exportStar(bf(),e)}(mf);var wf={},_f={};Object.defineProperty(_f,"__esModule",{value:!0}),_f.timeData=void 0,_f.timeData={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]},Object.defineProperty(wf,"__esModule",{value:!0}),wf.getBestPattern=void 0;var xf,Sf=_f;function Cf(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,r=e.language;return"root"!==r&&(n=e.maximize().region),(Sf.timeData[n||""]||Sf.timeData[r||""]||Sf.timeData["".concat(r,"-001")]||Sf.timeData["001"])[0]}wf.getBestPattern=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var s=0;r+1<e.length&&e.charAt(r+1)===o;)s++,r++;var i=1+(1&s),a=s<2?1:3+(s>>1),l=Cf(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)n+="a";for(;i-- >0;)n=l+n}else n+="J"===o?"H":o}return n},Object.defineProperty(uf,"__esModule",{value:!0}),uf.Parser=void 0;var Ef=nf.exports,kf=af,If=df,Tf=pf,Df=mf,Mf=wf,Of=new RegExp("^".concat(Tf.SPACE_SEPARATOR_REGEX.source,"*")),Nf=new RegExp("".concat(Tf.SPACE_SEPARATOR_REGEX.source,"*$"));function Af(e,t){return{start:e,end:t}}var Lf=!!String.prototype.startsWith&&"_a".startsWith("a",1),Pf=!!String.fromCodePoint,Rf=!!Object.fromEntries,Hf=!!String.prototype.codePointAt,zf=!!String.prototype.trimStart,Ff=!!String.prototype.trimEnd,jf=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},qf=!0;try{qf="a"===(null===(xf=Xf("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===xf?void 0:xf[0])}catch(Zpe){qf=!1}var Vf,Bf=Lf?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Wf=Pf?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,s=0;o>s;){if((n=e[s++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Uf=Rf?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],s=o[0],i=o[1];t[s]=i}return t},Yf=Hf?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},Kf=zf?function(e){return e.trimStart()}:function(e){return e.replace(Of,"")},Gf=Ff?function(e){return e.trimEnd()}:function(e){return e.replace(Nf,"")};function Xf(e,t){return new RegExp(e,t)}if(qf){var Zf=Xf("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Vf=function(e,t){var n;return Zf.lastIndex=t,null!==(n=Zf.exec(e)[1])&&void 0!==n?n:""}}else Vf=function(e,t){for(var n=[];;){var r=Yf(e,t);if(void 0===r||eh(r)||th(r))break;n.push(r),t+=r>=65536?2:1}return Wf.apply(void 0,n)};var Jf=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(kf.ErrorKind.UNMATCHED_CLOSING_TAG,Af(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&Qf(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var i=this.clonePosition();this.bump(),r.push({type:If.TYPE.pound,location:Af(i,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:If.TYPE.literal,value:"<".concat(r,"/>"),location:Af(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var s=o.val,i=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Qf(this.char()))return this.error(kf.ErrorKind.INVALID_TAG,Af(i,this.clonePosition()));var a=this.clonePosition();return r!==this.parseTagName()?this.error(kf.ErrorKind.UNMATCHED_CLOSING_TAG,Af(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:If.TYPE.tag,value:r,children:s,location:Af(n,this.clonePosition())},err:null}:this.error(kf.ErrorKind.INVALID_TAG,Af(i,this.clonePosition())))}return this.error(kf.ErrorKind.UNCLOSED_TAG,Af(n,this.clonePosition()))}return this.error(kf.ErrorKind.INVALID_TAG,Af(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var s=this.tryParseUnquoted(e,t);if(s)r+=s;else{var i=this.tryParseLeftAngleBracket();if(!i)break;r+=i}}}var a=Af(n,this.clonePosition());return{val:{type:If.TYPE.literal,value:r,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Qf(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Wf.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Wf(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(kf.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Af(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(kf.ErrorKind.EMPTY_ARGUMENT,Af(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(kf.ErrorKind.MALFORMED_ARGUMENT,Af(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(kf.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Af(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:If.TYPE.argument,value:r,location:Af(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(kf.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Af(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(kf.ErrorKind.MALFORMED_ARGUMENT,Af(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Vf(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:Af(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,s=this.clonePosition(),i=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(i){case"":return this.error(kf.ErrorKind.EXPECT_ARGUMENT_TYPE,Af(s,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===($=Gf(g.val)).length)return this.error(kf.ErrorKind.EXPECT_ARGUMENT_STYLE,Af(this.clonePosition(),this.clonePosition()));l={style:$,styleLocation:Af(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(r)).err)return y;var u=Af(r,this.clonePosition());if(l&&Bf(null==l?void 0:l.style,"::",0)){var d=Kf(l.style.slice(2));if("number"===i)return(g=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?g:{val:{type:If.TYPE.number,value:n,location:u,style:g.val},err:null};if(0===d.length)return this.error(kf.ErrorKind.EXPECT_DATE_TIME_SKELETON,u);var p=d;this.locale&&(p=(0,Mf.getBestPattern)(d,this.locale));var $={type:If.SKELETON_TYPE.dateTime,pattern:p,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,Df.parseDateTimeSkeleton)(p):{}};return{val:{type:"date"===i?If.TYPE.date:If.TYPE.time,value:n,location:u,style:$},err:null}}return{val:{type:"number"===i?If.TYPE.number:"date"===i?If.TYPE.date:If.TYPE.time,value:n,location:u,style:null!==(o=null==l?void 0:l.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var m=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(kf.ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,Af(m,Ef.__assign({},m)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),h=0;if("select"!==i&&"offset"===f.value){if(!this.bumpIf(":"))return this.error(kf.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Af(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(kf.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,kf.ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),f=this.parseIdentifierIfPossible(),h=g.val}var y,v=this.tryParsePluralOrSelectOptions(e,i,t,f);if(v.err)return v;if((y=this.tryParseArgumentClose(r)).err)return y;var b=Af(r,this.clonePosition());return"select"===i?{val:{type:If.TYPE.select,value:n,options:Uf(v.val),location:b},err:null}:{val:{type:If.TYPE.plural,value:n,options:Uf(v.val),offset:h,pluralType:"plural"===i?"cardinal":"ordinal",location:b},err:null};default:return this.error(kf.ErrorKind.INVALID_ARGUMENT_TYPE,Af(s,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(kf.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Af(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(kf.ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Af(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,Df.parseNumberSkeletonFromString)(e)}catch(r){return this.error(kf.ErrorKind.INVALID_NUMBER_SKELETON,t)}return{val:{type:If.SKELETON_TYPE.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,Df.parseNumberSkeleton)(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,s=!1,i=[],a=new Set,l=r.value,c=r.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(kf.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,kf.ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=Af(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(a.has(l))return this.error("select"===t?kf.ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:kf.ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(s=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?kf.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:kf.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Af(this.clonePosition(),this.clonePosition()));var $=this.parseMessage(e+1,t,n);if($.err)return $;var m=this.tryParseArgumentClose(p);if(m.err)return m;i.push([l,{value:$.val,location:Af(p,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(o=this.parseIdentifierIfPossible()).value,c=o.location}return 0===i.length?this.error("select"===t?kf.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:kf.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,Af(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(kf.ErrorKind.MISSING_OTHER_CLAUSE,Af(this.clonePosition(),this.clonePosition())):{val:i,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,s=0;!this.isEOF();){var i=this.char();if(!(i>=48&&i<=57))break;o=!0,s=10*s+(i-48),this.bump()}var a=Af(r,this.clonePosition());return o?jf(s*=n)?{val:s,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Yf(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Bf(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&eh(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Qf(e){return e>=97&&e<=122||e>=65&&e<=90}function eh(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function th(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function nh(e,t,n,r){var o,s=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),i=t.get(s);return void 0===i&&(i=e.call(this,r),t.set(s,i)),i}function rh(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),s=t.get(o);return void 0===s&&(s=e.apply(this,r),t.set(o,s)),s}function oh(e,t,n,r,o){return n.bind(t,e,r,o)}function sh(e,t){return oh(e,this,1===e.length?nh:rh,t.cache.create(),t.serializer)}uf.Parser=Jf,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._Parser=e.parse=void 0;var t=nf.exports,n=af,r=uf,o=df;function s(e){e.forEach((function(e){if(delete e.location,(0,o.isSelectElement)(e)||(0,o.isPluralElement)(e))for(var t in e.options)delete e.options[t].location,s(e.options[t].value);else(0,o.isNumberElement)(e)&&(0,o.isNumberSkeleton)(e.style)||((0,o.isDateElement)(e)||(0,o.isTimeElement)(e))&&(0,o.isDateTimeSkeleton)(e.style)?delete e.style.location:(0,o.isTagElement)(e)&&s(e.children)}))}e.parse=function(e,o){void 0===o&&(o={}),o=t.__assign({shouldParseSkeletons:!0,requiresOtherClause:!0},o);var i=new r.Parser(e,o).parse();if(i.err){var a=SyntaxError(n.ErrorKind[i.err.kind]);throw a.location=i.err.location,a.originalMessage=i.err.message,a}return(null==o?void 0:o.captureLocation)||s(i.val),i.val},t.__exportStar(df,e),e._Parser=r.Parser}(sf);var ih=function(){return JSON.stringify(arguments)};function ah(){this.cache=Object.create(null)}ah.prototype.get=function(e){return this.cache[e]},ah.prototype.set=function(e,t){this.cache[e]=t};var lh={create:function(){return new ah}},ch={variadic:function(e,t){return oh(e,this,rh,t.cache.create(),t.serializer)},monadic:function(e,t){return oh(e,this,nh,t.cache.create(),t.serializer)}};const uh=Object.freeze(Object.defineProperty({__proto__:null,memoize:function(e,t){var n=t&&t.cache?t.cache:lh,r=t&&t.serializer?t.serializer:ih;return(t&&t.strategy?t.strategy:sh)(e,{cache:n,serializer:r})},strategies:ch},Symbol.toStringTag,{value:"Module"})),dh=vt(uh);var ph={},$h={};Object.defineProperty($h,"__esModule",{value:!0}),$h.MissingValueError=$h.InvalidValueTypeError=$h.InvalidValueError=$h.FormatError=$h.ErrorCode=void 0;var mh,fh=nf.exports;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(mh||($h.ErrorCode=mh={}));var hh=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return fh.__extends(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error);$h.FormatError=hh;var gh=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),mh.INVALID_VALUE,o)||this}return fh.__extends(t,e),t}(hh);$h.InvalidValueError=gh;var yh=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),mh.INVALID_VALUE,r)||this}return fh.__extends(t,e),t}(hh);$h.InvalidValueTypeError=yh;var vh=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),mh.MISSING_VALUE,n)||this}return fh.__extends(t,e),t}(hh);$h.MissingValueError=vh,Object.defineProperty(ph,"__esModule",{value:!0}),ph.formatToParts=ph.isFormatXMLElementFn=ph.PART_TYPE=void 0;var bh,wh=sf,_h=$h;function xh(e){return"function"==typeof e}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(bh||(ph.PART_TYPE=bh={})),ph.isFormatXMLElementFn=xh,ph.formatToParts=function e(t,n,r,o,s,i,a){if(1===t.length&&(0,wh.isLiteralElement)(t[0]))return[{type:bh.literal,value:t[0].value}];for(var l=[],c=0,u=t;c<u.length;c++){var d=u[c];if((0,wh.isLiteralElement)(d))l.push({type:bh.literal,value:d.value});else if((0,wh.isPoundElement)(d))"number"==typeof i&&l.push({type:bh.literal,value:r.getNumberFormat(n).format(i)});else{var p=d.value;if(!s||!(p in s))throw new _h.MissingValueError(p,a);var $=s[p];if((0,wh.isArgumentElement)(d))$&&"string"!=typeof $&&"number"!=typeof $||($="string"==typeof $||"number"==typeof $?String($):""),l.push({type:"string"==typeof $?bh.literal:bh.object,value:$});else if((0,wh.isDateElement)(d)){var m="string"==typeof d.style?o.date[d.style]:(0,wh.isDateTimeSkeleton)(d.style)?d.style.parsedOptions:void 0;l.push({type:bh.literal,value:r.getDateTimeFormat(n,m).format($)})}else if((0,wh.isTimeElement)(d)){m="string"==typeof d.style?o.time[d.style]:(0,wh.isDateTimeSkeleton)(d.style)?d.style.parsedOptions:o.time.medium;l.push({type:bh.literal,value:r.getDateTimeFormat(n,m).format($)})}else if((0,wh.isNumberElement)(d)){(m="string"==typeof d.style?o.number[d.style]:(0,wh.isNumberSkeleton)(d.style)?d.style.parsedOptions:void 0)&&m.scale&&($*=m.scale||1),l.push({type:bh.literal,value:r.getNumberFormat(n,m).format($)})}else{if((0,wh.isTagElement)(d)){var f=d.children,h=d.value,g=s[h];if(!xh(g))throw new _h.InvalidValueTypeError(h,"function",a);var y=g(e(f,n,r,o,s,i).map((function(e){return e.value})));Array.isArray(y)||(y=[y]),l.push.apply(l,y.map((function(e){return{type:"string"==typeof e?bh.literal:bh.object,value:e}})))}if((0,wh.isSelectElement)(d)){if(!(v=d.options[$]||d.options.other))throw new _h.InvalidValueError(d.value,$,Object.keys(d.options),a);l.push.apply(l,e(v.value,n,r,o,s))}else if((0,wh.isPluralElement)(d)){var v;if(!(v=d.options["=".concat($)])){if(!Intl.PluralRules)throw new _h.FormatError('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',_h.ErrorCode.MISSING_INTL_API,a);var b=r.getPluralRules(n,{type:d.pluralType}).select($-(d.offset||0));v=d.options[b]||d.options.other}if(!v)throw new _h.InvalidValueError(d.value,$,Object.keys(d.options),a);l.push.apply(l,e(v.value,n,r,o,s,$-(d.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===bh.literal&&t.type===bh.literal?n.value+=t.value:e.push(t),e}),[])}(l)},Object.defineProperty(of,"__esModule",{value:!0}),of.IntlMessageFormat=void 0;var Sh=nf.exports,Ch=sf,Eh=dh,kh=ph;function Ih(e,t){return t?Object.keys(e).reduce((function(n,r){var o,s;return n[r]=(o=e[r],(s=t[r])?Sh.__assign(Sh.__assign(Sh.__assign({},o||{}),s||{}),Object.keys(o).reduce((function(e,t){return e[t]=Sh.__assign(Sh.__assign({},o[t]),s[t]||{}),e}),{})):o),n}),Sh.__assign({},e)):e}function Th(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}var Dh=function(){function e(t,n,r,o){var s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===kh.PART_TYPE.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return(0,kh.formatToParts)(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=s.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var i=o||{};i.formatters;var a=Sh.__rest(i,["formatters"]);this.ast=e.__parse(t,Sh.__assign(Sh.__assign({},a),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ih(e.formats,r),this.formatters=o&&o.formatters||function(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,Eh.memoize)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Sh.__spreadArray([void 0],t,!1)))}),{cache:Th(e.number),strategy:Eh.strategies.variadic}),getDateTimeFormat:(0,Eh.memoize)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Sh.__spreadArray([void 0],t,!1)))}),{cache:Th(e.dateTime),strategy:Eh.strategies.variadic}),getPluralRules:(0,Eh.memoize)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Sh.__spreadArray([void 0],t,!1)))}),{cache:Th(e.pluralRules),strategy:Eh.strategies.variadic})}}(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=Ch.parse,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();of.IntlMessageFormat=Dh,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=nf.exports,n=of;t.__exportStar(ph,e),t.__exportStar(of,e),t.__exportStar($h,e),e.default=n.IntlMessageFormat}(tf);const Mh={},Oh=(e,t,n)=>n?(t in Mh||(Mh[t]={}),e in Mh[t]||(Mh[t][e]=n),n):n,Nh=(e,t)=>{if(null==t)return;if(t in Mh&&e in Mh[t])return Mh[t][e];const n=ug(t);for(let r=0;r<n.length;r++){const o=Rh(n[r],e);if(o)return Oh(e,t,o)}};let Ah;const Lh=mt({});function Ph(e){return e in Ah}function Rh(e,t){if(!Ph(e))return null;const n=function(e){return Ah[e]||null}(e),r=function(e,t){if(null==t)return;if(t in e)return e[t];const n=t.split(".");let r=e;for(let o=0;o<n.length;o++)if("object"==typeof r){if(o>0){const e=n.slice(o,n.length).join(".");if(e in r){r=r[e];break}}r=r[n[o]]}else r=void 0;return r}(n,t);return r}function Hh(e,...t){delete Mh[e],Lh.update((n=>(n[e]=ef.all([n[e]||{},...t]),n)))}ft([Lh],(([e])=>Object.keys(e))),Lh.subscribe((e=>Ah=e));const zh={};function Fh(e){return zh[e]}function jh(e){return null!=e&&ug(e).some((e=>{var t;return null==(t=Fh(e))?void 0:t.size}))}function qh(e,t){const n=Promise.all(t.map((t=>(function(e,t){zh[e].delete(t),0===zh[e].size&&delete zh[e]}(e,t),t().then((e=>e.default||e))))));return n.then((t=>Hh(e,...t)))}const Vh={};function Bh(e){if(!jh(e))return e in Vh?Vh[e]:Promise.resolve();const t=function(e){return ug(e).map((e=>{const t=Fh(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return Vh[e]=Promise.all(t.map((([e,t])=>qh(e,t)))).then((()=>{if(jh(e))return Bh(e);delete Vh[e]})),Vh[e]}function Wh(e,t){Fh(e)||function(e){zh[e]=new Set}(e);const n=Fh(e);Fh(e).has(t)||(Ph(e)||Lh.update((t=>(t[e]={},t))),n.add(t))}var Uh=Object.getOwnPropertySymbols,Yh=Object.prototype.hasOwnProperty,Kh=Object.prototype.propertyIsEnumerable;function Gh({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${ug(e).join('", "')}".${jh(dg())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`)}const Xh={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0};function Zh(){return Xh}function Jh(e){const t=e,{formats:n}=t,r=((e,t)=>{var n={};for(var r in e)Yh.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Uh)for(var r of Uh(e))t.indexOf(r)<0&&Kh.call(e,r)&&(n[r]=e[r]);return n})(t,["formats"]);let o=e.fallbackLocale;if(e.initialLocale)try{tf.IntlMessageFormat.resolveLocale(e.initialLocale)&&(o=e.initialLocale)}catch(s){console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return r.warnOnMissingMessages&&(delete r.warnOnMissingMessages,null==r.handleMissingMessage?r.handleMissingMessage=Gh:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(Xh,r,{initialLocale:o}),n&&("number"in n&&Object.assign(Xh.formats.number,n.number),"date"in n&&Object.assign(Xh.formats.date,n.date),"time"in n&&Object.assign(Xh.formats.time,n.time)),pg.set(o)}const Qh=mt(!1);var eg=Object.defineProperty,tg=Object.defineProperties,ng=Object.getOwnPropertyDescriptors,rg=Object.getOwnPropertySymbols,og=Object.prototype.hasOwnProperty,sg=Object.prototype.propertyIsEnumerable,ig=(e,t,n)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let ag;const lg=mt(null);function cg(e){return e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))).reverse()}function ug(e,t=Zh().fallbackLocale){const n=cg(e);return t?[...new Set([...n,...cg(t)])]:n}function dg(){return null!=ag?ag:void 0}lg.subscribe((e=>{ag=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)}));const pg=((e,t)=>tg(e,ng(t)))(((e,t)=>{for(var n in t||(t={}))og.call(t,n)&&ig(e,n,t[n]);if(rg)for(var n of rg(t))sg.call(t,n)&&ig(e,n,t[n]);return e})({},lg),{set:e=>{if(e&&function(e){if(null==e)return;const t=ug(e);for(let n=0;n<t.length;n++){const e=t[n];if(Ph(e))return e}}(e)&&jh(e)){const{loadingDelay:t}=Zh();let n;return"undefined"!=typeof window&&null!=dg()&&t?n=window.setTimeout((()=>Qh.set(!0)),t):Qh.set(!0),Bh(e).then((()=>{lg.set(e)})).finally((()=>{clearTimeout(n),Qh.set(!1)}))}return lg.set(e)}}),$g=e=>{const t=Object.create(null);return n=>{const r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}};var mg=Object.defineProperty,fg=Object.getOwnPropertySymbols,hg=Object.prototype.hasOwnProperty,gg=Object.prototype.propertyIsEnumerable,yg=(e,t,n)=>t in e?mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vg=(e,t)=>{for(var n in t||(t={}))hg.call(t,n)&&yg(e,n,t[n]);if(fg)for(var n of fg(t))gg.call(t,n)&&yg(e,n,t[n]);return e},bg=(e,t)=>{var n={};for(var r in e)hg.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&fg)for(var r of fg(e))t.indexOf(r)<0&&gg.call(e,r)&&(n[r]=e[r]);return n};const wg=(e,t)=>{const{formats:n}=Zh();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},_g=$g((e=>{var t=e,{locale:n,format:r}=t,o=bg(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(o=wg("number",r)),new Intl.NumberFormat(n,o)})),xg=$g((e=>{var t=e,{locale:n,format:r}=t,o=bg(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?o=wg("date",r):0===Object.keys(o).length&&(o=wg("date","short")),new Intl.DateTimeFormat(n,o)})),Sg=$g((e=>{var t=e,{locale:n,format:r}=t,o=bg(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?o=wg("time",r):0===Object.keys(o).length&&(o=wg("time","short")),new Intl.DateTimeFormat(n,o)})),Cg=$g(((e,t=dg())=>new tf.IntlMessageFormat(e,t,Zh().formats,{ignoreTag:Zh().ignoreTag}))),Eg=(e,t={})=>{var n,r,o,s;let i=t;"object"==typeof e&&(i=e,e=i.id);const{values:a,locale:l=dg(),default:c}=i;if(null==l)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let u=Nh(e,l);if(u){if("string"!=typeof u)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof u}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),u}else u=null!=(s=null!=(o=null==(r=(n=Zh()).handleMissingMessage)?void 0:r.call(n,{locale:l,id:e,defaultValue:c}))?o:c)?s:e;if(!a)return u;let d=u;try{d=Cg(u,l).format(a)}catch(p){p instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,p.message)}return d},kg=(e,t)=>((e={})=>{var t=e,{locale:n=dg()}=t,r=bg(t,["locale"]);return Sg(vg({locale:n},r))})(t).format(e),Ig=(e,t)=>((e={})=>{var t=e,{locale:n=dg()}=t,r=bg(t,["locale"]);return xg(vg({locale:n},r))})(t).format(e),Tg=(e,t)=>((e={})=>{var t=e,{locale:n=dg()}=t,r=bg(t,["locale"]);return _g(vg({locale:n},r))})(t).format(e),Dg=(e,t=dg())=>Nh(e,t),Mg=ft([pg,Lh],(()=>Eg));ft([pg],(()=>kg)),ft([pg],(()=>Ig)),ft([pg],(()=>Tg)),ft([pg,Lh],(()=>Dg));function Og(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("span"),o&&o.c(),U(t,"class","identifier svelte-xmbz32")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function Ng(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Ag extends at{constructor(e){super(),it(this,e,Ng,Og,d,{})}}function Lg(e){return{type:"text",content:e}}function Pg(e,t){return{type:"slot",name:e,arg:t}}function Rg(e){if(""===e.remainder)return e;const t=function(e){let t;const n=e.replace(/^\[(\w+)\]\((\w+)\)|^\[(\w+)\]/,((e,n,r,o)=>(n?t=Pg(n,r):o&&(t=Pg(o)),"")));return t?{tokens:[t],remainder:n}:void 0}(e.remainder);return Rg(t?{tokens:[...e.tokens,...t.tokens],remainder:t.remainder}:function({tokens:e,remainder:t}){const n=t[0],r=e[e.length-1];return{tokens:r&&"text"===r.type?[...e.slice(0,-1),Lg(r.content+n)]:[...e,Lg(n)],remainder:t.slice(1)}}(e))}function Hg(e){return Rg({tokens:[],remainder:e}).tokens}function zg(e,t,n){const r=e.slice();return r[3]=t[n],r}const Fg=e=>({slotName:1&e,translatedArg:1&e}),jg=e=>({slotName:e[3].name,translatedArg:e[3].arg});function qg(e){let t,n=sc(e[3])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=sc(e[3])+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function Vg(e){let t;const n=e[2].default,r=f(n,e,e[1],jg);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||3&o)&&y(r,n,e,e[1],t?g(n,e[1],o,Fg):v(e[1]),jg)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Bg(e){let t,n=e[3].content+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[3].content+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function Wg(e){let t,n,r,o;const s=[Bg,Vg,qg],i=[];function a(e,t){return"text"===e[3].type?0:"slot"===e[3].type?1:2}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Ug(e){let t,n,r=Hg(e[0]),o=[];for(let i=0;i<r.length;i+=1)o[i]=Wg(zg(e,r,i));const s=e=>qe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=q()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);L(e,t,r),n=!0},p(e,[n]){if(3&n){let i;for(r=Hg(e[0]),i=0;i<r.length;i+=1){const s=zg(e,r,i);o[i]?(o[i].p(s,n),je(o[i],1)):(o[i]=Wg(s),o[i].c(),je(o[i],1),o[i].m(t.parentNode,t))}for(ze(),i=r.length;i<o.length;i+=1)s(i);Fe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)qe(o[t]);n=!1},d(e){R(o,e),e&&P(t)}}}function Yg(e,t,n){let{$$slots:r={},$$scope:o}=t,{text:s}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class Kg extends at{constructor(e){super(),it(this,e,Yg,Ug,d,{text:0})}}function Gg(e){let t,n;return t=new Ag({props:{$$slots:{default:[Xg]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xg(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},d(e){e&&P(t)}}}function Zg(e){let t,n,r="identifier"===e[2]&&Gg(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"identifier"===e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=Gg(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Jg(e){let t,n;return t=new Kg({props:{text:e[1],$$slots:{default:[Zg,({slotName:e})=>({2:e}),({slotName:e})=>e?4:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.text=e[1]),13&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qg(e,t,n){let{identifier:r}=t,{wrappingString:o=""}=t;return e.$$set=e=>{"identifier"in e&&n(0,r=e.identifier),"wrappingString"in e&&n(1,o=e.wrappingString)},[r,o]}class ey extends at{constructor(e){super(),it(this,e,Qg,Jg,d,{identifier:0,wrappingString:1})}}const ty={data:Kn},ny={data:{prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]}},ry={data:{prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]}},oy={data:{prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]}},sy={data:zn},iy={data:cr},ay={data:jn},ly={data:Wn},cy={data:{prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]}},uy={data:Bn},dy={data:{prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]}},py={data:{prefix:"fas",iconName:"microscope",icon:[512,512,[128300],"f610","M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32H200c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32l8 0zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]}},$y={data:tr},my={data:rr},fy={data:ir},hy={data:ir},gy={data:Vn},yy={data:ur},vy={data:Jn},by={data:Yn},wy={data:{prefix:"fas",iconName:"filter-circle-xmark",icon:[576,512,[],"e17b","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 512c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm59.3-180.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"]}},_y={data:Zn},xy={data:dr},Sy={data:or},Cy={data:sr},Ey={data:Un},ky={data:nr},Iy={data:{prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]}},Ty={data:{prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]}},Dy={data:{prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64H280v64h46.1c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41H232V224H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64v64zM448 416V352H365.3l.4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4H64v64H210.7l5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7H448z"]}},My={data:{prefix:"fas",iconName:"wand-sparkles",icon:[512,512,[],"f72b","M464 6.1c9.5-8.5 24-8.1 33 .9l8 8c9 9 9.4 23.5 .9 33l-85.8 95.9c-2.6 2.9-4.1 6.7-4.1 10.7V176c0 8.8-7.2 16-16 16H384.2c-4.6 0-8.9 1.9-11.9 5.3L100.7 500.9C94.3 508 85.3 512 75.8 512c-8.8 0-17.3-3.5-23.5-9.8L9.7 459.7C3.5 453.4 0 445 0 436.2c0-9.5 4-18.5 11.1-24.8l111.6-99.8c3.4-3 5.3-7.4 5.3-11.9V272c0-8.8 7.2-16 16-16h34.6c3.9 0 7.7-1.5 10.7-4.1L464 6.1zM432 288c3.6 0 6.7 2.4 7.7 5.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8-14.8 51.7c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8l-14.8-51.7-51.7-14.8c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8 14.8-51.7c1-3.4 4.1-5.8 7.7-5.8zM87.7 69.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8L87.7 218.2c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8L57.5 166.5 5.8 151.7c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8L72.3 69.8c1-3.4 4.1-5.8 7.7-5.8s6.7 2.4 7.7 5.8zM224 0c3.7 0 6.9 2.5 7.8 6.1l6.8 27.3 27.3 6.8c3.6 .9 6.1 4.1 6.1 7.8s-2.5 6.9-6.1 7.8l-27.3 6.8-6.8 27.3c-.9 3.6-4.1 6.1-7.8 6.1s-6.9-2.5-7.8-6.1l-6.8-27.3-27.3-6.8c-3.6-.9-6.1-4.1-6.1-7.8s2.5-6.9 6.1-7.8l27.3-6.8 6.8-27.3c.9-3.6 4.1-6.1 7.8-6.1z"]}},Oy={data:{prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6s-14.5-12.5-14.5-22V224H352 337.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144C0 99.8 35.8 64 80 64H96c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V416c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"]}},Ny={data:Jn},Ay={data:lr},Ly={data:Xn},Py={data:{prefix:"fas",iconName:"grip",icon:[448,512,["grip-horizontal"],"f58d","M128 136c0-22.1-17.9-40-40-40L40 96C17.9 96 0 113.9 0 136l0 48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V136zm0 192c0-22.1-17.9-40-40-40H40c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM288 328c0-22.1-17.9-40-40-40H200c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM448 328c0-22.1-17.9-40-40-40H360c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328z"]}},Ry={data:{prefix:"fas",iconName:"plug",icon:[384,512,[128268],"f1e6","M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8C297 398 352 333.4 352 256V224c17.7 0 32-14.3 32-32s-14.3-32-32-32H32z"]}},Hy={data:{prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]}},zy={data:{prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]}},Fy={data:{icon:[24,24,[],"",["M16.3776 8.27091C16.538 7.86412 16.1358 7.46189 15.729 7.62233L10.1173 9.83557C9.98843 9.88639 9.88643 9.98839 9.8356 10.1173L7.62237 15.729C7.46193 16.1358 7.86415 16.538 8.27094 16.3776L13.8827 14.1643C14.0115 14.1135 14.1135 14.0115 14.1644 13.8826L16.3776 8.27091Z",{fillRule:"evenodd",clipRule:"evenodd",path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12Z"}]]}},jy={data:Qn},qy={data:Kn},Vy={data:{prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]}},By={data:er},Wy={data:{icon:[18,18,[],"","m7.387 0.4182c-0.141 0.3522-0.3215 0.7703-0.5131 1.13-0.2127 0.3993-0.738 0.9245-1.138 1.137-0.3605 0.1918-0.7797 0.3725-1.133 0.5136-0.4214 0.1684-0.4214 0.4069 1.816e-4 0.5754 0.353 0.1412 0.7722 0.322 1.133 0.514 0.3993 0.2126 0.9246 0.7379 1.137 1.137 0.1918 0.3602 0.3724 0.779 0.5134 1.132 0.1685 0.4214 0.4071 0.4214 0.5757-1.3e-4 0.1412-0.3528 0.3219-0.7716 0.5138-1.132 0.2127-0.3993 0.7379-0.9246 1.137-1.137 0.3597-0.1917 0.7778-0.3723 1.13-0.5133 0.4213-0.1688 0.4212-0.4076-2.47e-4 -0.5764-0.3522-0.1411-0.7703-0.3217-1.13-0.5134-0.3993-0.2128-0.9245-0.738-1.137-1.137-0.1916-0.3596-0.3722-0.7774-0.5133-1.129-0.1688-0.4213-0.4076-0.4211-0.5763 3.506e-4zm-4.805 6.427c-0.1056 0.2639-0.2409 0.5772-0.3845 0.8467-0.1594 0.2992-0.553 0.6928-0.8524 0.8521-0.2701 0.1438-0.5842 0.2792-0.8487 0.3849-0.3158 0.1262-0.3157 0.3049 1.36e-4 0.4312 0.2645 0.1058 0.5787 0.2413 0.8488 0.3851 0.2992 0.1593 0.6928 0.553 0.8521 0.8523 0.1437 0.2699 0.279 0.5837 0.3847 0.848 0.1263 0.3158 0.305 0.3157 0.4314-9.7e-5 0.1058-0.2643 0.2412-0.5782 0.385-0.8482 0.1594-0.2992 0.553-0.6929 0.8522-0.8523 0.2695-0.1436 0.5828-0.279 0.8467-0.3847 0.3157-0.1265 0.3156-0.3055-1.838e-4 -0.432-0.2639-0.1057-0.5772-0.241-0.8467-0.3847-0.2992-0.1594-0.6928-0.553-0.8523-0.8523-0.1436-0.2694-0.2789-0.5826-0.3846-0.8464-0.1265-0.3157-0.3054-0.3156-0.4318 2.627e-4zm9.262 0.691c-0.2263 0.5653-0.516 1.236-0.8235 1.814-0.3414 0.6409-1.185 1.484-1.826 1.825-0.5786 0.3079-1.251 0.598-1.818 0.8244-0.6765 0.2703-0.6763 0.6531 2.913e-4 0.9236 0.5667 0.2266 1.24 0.5169 1.818 0.825 0.641 0.3413 1.484 1.184 1.825 1.826 0.3078 0.5782 0.5977 1.25 0.8241 1.817 0.2705 0.6764 0.6534 0.6763 0.9241-2.09e-4 0.2266-0.5662 0.5167-1.239 0.8247-1.817 0.3414-0.641 1.184-1.484 1.826-1.826 0.5774-0.3077 1.248-0.5976 1.814-0.824 0.6763-0.2709 0.6761-0.6543-3.95e-4 -0.9253-0.5653-0.2264-1.236-0.5163-1.814-0.824-0.6408-0.3415-1.484-1.185-1.826-1.826-0.3076-0.5772-0.5974-1.248-0.8238-1.813-0.2709-0.6762-0.6542-0.676-0.925 5.627e-4z"]}},Uy={data:Fn},Yy={data:ar},Ky={data:{prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]}},Gy={data:{prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]}},Xy={data:{prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]}},Zy={data:{icon:[16,16,[],"",{fillRule:"evenodd",clipRule:"evenodd",path:"M15 1C15.5523 1 16 1.44771 16 2V13.5644C16 14.1166 15.5523 14.5644 15 14.5644H1C0.447715 14.5644 0 14.1166 0 13.5644V2C0 1.44772 0.447715 1 1 1H15ZM14.6 6.76282V9.3349C14.5517 9.32236 14.501 9.31568 14.4488 9.31568L11.4861 9.31568V6.78197L14.449 6.78197C14.5012 6.78197 14.5518 6.77532 14.6 6.76282ZM5.83926 9.31569L10.2861 9.31569V6.78197L5.83926 6.78196V9.31569ZM4.63926 9.31569L1.4 9.31569V6.78196L4.63926 6.78196V9.31569ZM4.63926 10.5157V13.1644H1.4V10.5157L4.63926 10.5157ZM5.83926 13.1644V10.5157L10.2861 10.5157V13.1644H5.83926ZM11.4861 10.5157V13.1644H14.6V10.4965C14.5517 10.509 14.501 10.5157 14.4488 10.5157L11.4861 10.5157ZM14.6 5.60112V2.4H1.4V5.58196L14.449 5.58197C14.5012 5.58197 14.5518 5.58862 14.6 5.60112Z"}]}},Jy={data:{prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M144 80c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]}},Qy={data:ir},ev={data:{prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]}},tv={data:ur},nv={data:Vn},rv={data:{prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]}},ov={data:{prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]}},sv={data:{prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z"]}},iv={data:{prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z"]}},av={data:{prefix:"fas",iconName:"slash",icon:[640,512,[],"f715","M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"]}},lv={data:ir},cv={data:{prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"]}},uv={data:qn},dv={data:{prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]}},pv={data:{prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]}},$v={data:{prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]}},mv={data:tr},fv={data:{prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]}},hv={data:{prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512c70.7 0 128-57.3 128-128s-57.3-128-128-128S0 313.3 0 384s57.3 128 128 128z"]}},gv={data:{prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32V67.7c1.6 .2 3.1 .4 4.7 .7c10.6 1.6 42.1 6.7 55.1 10c17.1 4.3 27.5 21.7 23.2 38.9s-21.7 27.5-38.9 23.2c-9.3-2.4-37.6-7-48.9-8.7c-32.1-4.8-59.6-2.4-78.5 4.9c-18.3 7-25.9 16.9-27.9 28c-1.9 10.7-.5 16.8 1.3 20.6c1.9 4 5.6 8.5 12.9 13.4c16.2 10.8 41.1 17.9 73.3 26.7l2.8 .8c28.4 7.7 63.2 17.2 89 34.3c14.1 9.4 27.3 22.1 35.5 39.7c8.3 17.8 10.1 37.8 6.3 59.1c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.1c-.4-.1-.9-.1-1.3-.2l-.2 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.2-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.4 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.7 .5-16.8-1.3-20.6c-1.9-4-5.6-8.5-12.9-13.4c-16.2-10.8-41.1-17.9-73.3-26.7l-2.8-.8c-28.4-7.7-63.2-17.2-89-34.3c-14.1-9.4-27.3-22.1-35.5-39.7c-8.3-17.8-10.1-37.8-6.3-59.1C25 114.1 53 89.3 86 76.7c13-5 27.2-8.2 42-10V32c0-17.7 14.3-32 32-32z"]}},yv={data:{prefix:"fas",iconName:"hashtag",icon:[448,512,[62098],"23","M181.3 32.4c17.4 2.9 29.2 19.4 26.3 36.8L197.8 128h95.1l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3s29.2 19.4 26.3 36.8L357.8 128H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H347.1L325.8 320H384c17.7 0 32 14.3 32 32s-14.3 32-32 32H315.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8l9.8-58.7H155.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8L90.2 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l21.3-128H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3zM187.1 192L165.8 320h95.1l21.3-128H187.1z"]}},vv={data:{prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]}},bv={data:{prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]}},wv={data:{prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]}},_v={data:Bn},xv={data:{icon:[12,12,[],"","M4 0V1.33333H2V10.6667H4V12H0.666664V0H4ZM8 0H11.3333V12H8V10.6667H10V1.33333H8V0Z"]}},Sv=new class{constructor(){e(this,"stack",mt(new Bd)),e(this,"isModalOpen",void 0),e(this,"maxId",0),this.isModalOpen=ft(this.stack,(e=>e.size>0))}getId(){return this.maxId+=1,this.maxId}getPropsForNewModal(){return{modalId:this.getId(),modalStackStore:this.stack}}spawnModalController(){return new Wd(this.getPropsForNewModal())}},Cv=function(e={}){const t=new C$({defaultProps:e});function n(e={}){return t.show({icon:Ir,backgroundColor:"var(--red-100)",...E$(e)})}return{entries:t.entries,info:function(e={}){return t.show(E$({icon:Er,...E$(e)}))},success:function(e={}){return t.show({icon:Dr,backgroundColor:"var(--green-100)",...E$(e)})},error:n,fromError:function(e){return n(e instanceof Error?e.message:"Something went wrong.")},spinner:function(e={}){return t.show({icon:{...Tr},lifetime:0,allowDismiss:!1,hasProgress:!1,...E$(e)})},progress:function(e={}){return t.show({lifetime:0,allowDismiss:!1,initialProgress:0,...E$(e)})}}}(),Ev=Sv.spawnModalController(),{confirm:kv,confirmationController:Iv}=function({confirmationModal:e,defaultConfirmationProps:t}){const n={...qd,...t},r=new Vd(e,n);return{confirm:async function(e){return new Promise((t=>{r.resolve.set(t),r.canProceed.set(!0),r.confirmationProps.set({...n,...e}),r.modal.open()}))},confirmationController:r}}({confirmationModal:Ev});function Tv(e){const t=e.identifierType;return kv({title:e.identifierName?{component:ey,props:{identifier:e.identifierName,wrappingString:$(Mg)("delete_item_question_with_identifier",{values:{item:t}})}}:$(Mg)("delete_item_question",{values:{item:t}}),body:$(Mg)("are_you_sure_to_proceed"),proceedButton:{label:$(Mg)("delete_item",{values:{item:t}}),icon:sy},onError:e=>Cv.error(`${$(Mg)("unable_to_delete_item",{values:{item:t}})} ${e.message}`),...e})}const Dv=Symbol("ClipboardHandlerStore");/*! js-cookie v3.0.1 | MIT */function Mv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Ov=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=Mv({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var i in o)o[i]&&(s+="; "+i,!0!==o[i]&&(s+="="+o[i].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var s=n[o].split("="),i=s.slice(1).join("=");try{var a=decodeURIComponent(s[0]);if(r[a]=t.read(i,a),e===a)break}catch(l){}}return e?r[e]:r}},remove:function(e,t){r(e,"",Mv({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Mv({},this.attributes,t))},withConverter:function(t){return e(Mv({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});function Nv(e){if(Dt(e,"code")){const{code:t}=e;if("string"==typeof t||"number"==typeof t)return t}}class Av extends Error{constructor(t){const n=function(e){return{message:rc(e),code:Nv(e),field:Mt(e,"field")?e.field:void 0,detail:Dt(e,"detail")?e.detail:void 0}}(t);super(n.message),e(this,"code",void 0),e(this,"field",void 0),e(this,"detail",void 0),this.name="ApiError",this.code=n.code,this.field=n.field,this.detail=n.detail}getSegregatedErrors(){return this.field?{commonErrors:[],fieldSpecificErrors:new dt([[this.field,[rc(this)]]])}:{commonErrors:[rc(this)],fieldSpecificErrors:new dt}}}class Lv extends Error{constructor(t){const n=(Array.isArray(t)?t:[t]).map((e=>new Av(e)));super(n.map((e=>e.message)).join(" ")),e(this,"errors",void 0),this.name="ApiMultiError",this.errors=n}getSegregatedErrors(){return this.errors.reduce(((e,t)=>{const n=t.getSegregatedErrors();return{commonErrors:[...e.commonErrors,...n.commonErrors],fieldSpecificErrors:e.fieldSpecificErrors.withEntries(n.fieldSpecificErrors,((e,t)=>[...e,...t]))}}),{commonErrors:[],fieldSpecificErrors:new dt})}}function Pv(e){return e instanceof Lv?e.errors.map((e=>rc(e))):[rc(e)]}var Rv=(e=>(e.Idle="idle",e.Loading="loading",e.Done="done",e.Error="error",e))(Rv||{});const Hv=["processing","failure","success"],zv=Hv[0];function Fv(e,t){for(const n of Hv)if(e===n||t===n)return n;throw new Error("Invalid RequestStatus states.")}function jv(e){const t=Object.entries(e).map((([e,t])=>[e,"string"==typeof t?t:JSON.stringify(t)]));return new URLSearchParams(t).toString()}function qv(e,t){return t?`${e}?${jv(t)}`:e}const Vv=new Set([200,201,204]);function Bv(e,t,n){const r=new XMLHttpRequest;r.open(e,t),r.setRequestHeader("Content-Type","application/json");const o=Ov.get("csrftoken");o&&r.setRequestHeader("X-CSRFToken",o),n?r.send(JSON.stringify(n)):r.send();let s=!1;return new lt(((e,t)=>{r.addEventListener("load",(()=>{if(Vv.has(r.status))e(function(e){if(204===e.status)return;const t=String(e.response);return 0!==t.trim().length?JSON.parse(String(t)):void 0}(r));else{if(401===r.status)return void window.location.reload();try{t(new Lv(JSON.parse(String(r.response))))}catch{const e=["When making an XHR request, the server responded with an","error, but the response body was not valid JSON."].join(" ");t(new Error(e))}}})),r.addEventListener("error",(()=>{t(new Error("An unexpected error has occurred"))})),r.addEventListener("abort",(()=>{s||t(new Error("Request was aborted"))}))}),(()=>{s=!0,r.abort()}))}function Wv(e){return Bv("GET",e)}function Uv(e,t){return Bv("POST",e,t)}function Yv(e,t){return Bv("PATCH",e,t)}function Kv(e,t){return Bv("DELETE",e,t)}const Gv={list:function(){return Wv("/api/ui/v0/users/")},get:function(e){return Wv(`/api/ui/v0/users/${e}/`)},add:function(e){return Uv("/api/ui/v0/users/",e)},delete:function(e){return Kv(`/api/ui/v0/users/${e}/`)},update:function(e,t){return Yv(`/api/ui/v0/users/${e}/`,t)},changePassword:function(e,t){return Uv("/api/ui/v0/users/password_change/",{password:t,old_password:e})},resetPassword:function(e,t){return Uv(`/api/ui/v0/users/${e}/password_reset/`,{password:t})},addDatabaseRole:function(e,t,n){return Uv("/api/ui/v0/database_roles/",{user:e,database:t,role:n})},deleteDatabaseRole:function(e){return Kv(`/api/ui/v0/database_roles/${e}/`)},addSchemaRole:function(e,t,n){return Uv("/api/ui/v0/schema_roles/",{user:e,schema:t,role:n})},deleteSchemaRole:function(e){return Kv(`/api/ui/v0/schema_roles/${e}/`)}},Xv=new Set(["canViewLinkedEntities"]),Zv=new Set([...Xv,"canEditTableRecords","canEditMetadata"]);function Jv(e,t){return t.some((t=>function(e,t){switch(e){case"manager":return!0;case"editor":return Zv.has(t);case"viewer":return Xv.has(t);default:throw new oc(e)}}(t,e)))}function Qv(e){switch(e){case"manager":return $(Mg)("manager");case"editor":return $(Mg)("editor");case"viewer":return $(Mg)("viewer");default:throw new oc(e)}}function eb(e){switch(e){case"manager":return $(Mg)("manager_access");case"editor":return $(Mg)("editor_access");case"viewer":return $(Mg)("readonly_access");default:throw new oc(e)}}const tb={viewer:1,editor:2,manager:3};class nb{constructor(t){e(this,"id",void 0),e(this,"isSuperUser",void 0),e(this,"fullName",void 0),e(this,"email",void 0),e(this,"username",void 0),e(this,"displayLanguage",void 0),e(this,"databaseRoles",void 0),e(this,"schemaRoles",void 0),this.id=t.id,this.isSuperUser=t.is_superuser,this.databaseRoles=new Map(t.database_roles.map((e=>[e.database,e]))),this.schemaRoles=new Map(t.schema_roles.map((e=>[e.schema,e]))),this.fullName=t.full_name,this.email=t.email,this.username=t.username,this.displayLanguage=t.display_language}hasPermission(e,t){if(this.isSuperUser)return!0;const{database:n,schema:r}=e;if(r&&!n)throw new Error("Schema needs to be accompanied by the database for permission checks");const o=[];if(r){const e=this.schemaRoles.get(r.id);e&&o.push(e.role)}if(n){const e=this.databaseRoles.get(n.id);e&&o.push(e.role)}return Jv(t,o)}getRoleForDb(e){return this.databaseRoles.get(e.id)}getRoleForSchema(e){return this.schemaRoles.get(e.id)}hasDirectDbAccess(e){return this.databaseRoles.has(e.id)}hasDbAccess(e){return this.hasDirectDbAccess(e)||this.isSuperUser}hasDirectSchemaAccess(e){return this.schemaRoles.has(e.id)}hasSchemaAccess(e,t){return this.hasDbAccess(e)||this.hasDirectSchemaAccess(t)}getDisplayName(){return this.username}getUser(){return{id:this.id,is_superuser:this.isSuperUser,username:this.username,database_roles:[...this.databaseRoles.values()],schema_roles:[...this.schemaRoles.values()],full_name:this.fullName,email:this.email,display_language:this.displayLanguage}}with(e){return new nb({...this.getUser(),...e})}withNewDatabaseRole(e){return new nb({...this.getUser(),database_roles:[...this.databaseRoles.values(),e]})}withoutDatabaseRole(e){return new nb({...this.getUser(),database_roles:[...this.databaseRoles.values()].filter((t=>t.database!==e.database))})}withNewSchemaRole(e){return new nb({...this.getUser(),schema_roles:[...this.schemaRoles.values(),e]})}withoutSchemaRole(e){return new nb({...this.getUser(),schema_roles:[...this.schemaRoles.values()].filter((t=>t.schema!==e.schema))})}}class rb extends nb{constructor(){super({id:0,is_superuser:!1,database_roles:[],schema_roles:[],username:"Anonymous",full_name:"Anonymous",email:null,display_language:"en"})}hasPermission(){return!1}}const ob=Symbol("users list store");class sb{constructor(){e(this,"requestStatus",mt()),e(this,"users",mt([])),e(this,"count",mt(0)),e(this,"request",void 0),this.fetchUsers()}async fetchUsersSilently(){this.request?.cancel(),this.request=Gv.list();const e=await this.request;this.users.set(e.results.map((e=>new nb(e)))),this.count.set(e.count)}async fetchUsers(){try{this.requestStatus.set({state:"processing"}),await this.fetchUsersSilently(),this.requestStatus.set({state:"success"})}catch(e){this.requestStatus.set({state:"failure",errors:[rc(e)]})}}async getUserDetails(e){const t=$(this.requestStatus);if("success"===t?.state)return $(this.users).find((t=>t.id===e));if("processing"===t?.state){const t=(await this.request)?.results.find((t=>t.id===e));if(t)return new nb(t)}}async delete(e){this.requestStatus.set({state:"processing"}),await Gv.delete(e),this.users.update((t=>t.filter((t=>t.id!==e)))),this.count.update((e=>e-1)),this.requestStatus.set({state:"success"}),this.fetchUsersSilently()}async addDatabaseRoleForUser(e,t,n){const r=await Gv.addDatabaseRole(e,t.id,n);this.users.update((t=>t.map((t=>t.id===e?t.withNewDatabaseRole(r):t)))),this.fetchUsersSilently()}async removeDatabaseAccessForUser(e,t){const n=$(this.users).find((t=>t.id===e))?.getRoleForDb(t);n&&(await Gv.deleteDatabaseRole(n.id),this.users.update((t=>t.map((t=>t.id===e?t.withoutDatabaseRole(n):t)))),this.fetchUsersSilently())}async addSchemaRoleForUser(e,t,n){const r=await Gv.addSchemaRole(e,t.id,n);this.users.update((t=>t.map((t=>t.id===e?t.withNewSchemaRole(r):t)))),this.fetchUsersSilently()}async removeSchemaAccessForUser(e,t){const n=$(this.users).find((t=>t.id===e))?.getRoleForSchema(t);n&&(await Gv.deleteSchemaRole(n.id),this.users.update((t=>t.map((t=>t.id===e?t.withoutSchemaRole(n):t)))),this.fetchUsersSilently())}getUsersWithAccessToDb(e){return ft(this.users,(t=>t.filter((t=>t.hasDbAccess(e)))))}getUsersWithoutAccessToDb(e){return ft(this.users,(t=>t.filter((t=>!t.hasDbAccess(e)))))}getNormalUsersWithDirectSchemaRole(e){return ft(this.users,(t=>t.filter((t=>!t.isSuperUser&&t.hasDirectSchemaAccess(e)))))}getNormalUsersWithoutDirectSchemaRole(e){return ft(this.users,(t=>t.filter((t=>!t.isSuperUser&&!t.hasDirectSchemaAccess(e)))))}getUsersWithAccessToSchema(e,t){return ft(this.users,(n=>n.filter((n=>n.hasSchemaAccess(e,t)))))}}function ib(){return ge(ob)}function ab(){if(void 0!==ib())throw Error("UsersStore context has already been set");const e=new sb;return he(ob,e),e}const lb=Symbol("UserProfileStore");function cb(){return ge(lb)}function ub(e){return async function(e){const t=await fetch(e,{mode:"cors"});if(t.ok)return await t.json()}(`https://api.github.com/repos/centerofci/mathesar${e}`)}const db={fetchLatest:()=>ub("/releases/latest"),fetchByTagName:e=>ub(`/releases/tags/${e}`)};function pb(e){try{return JSON.parse(e)}catch(t){return}}function $b(){return Date.now()}class mb{constructor(t){e(this,"inputHash",""),e(this,"cacheKey",void 0),e(this,"value",void 0),e(this,"fetch",void 0),e(this,"timeToLiveMs",void 0),e(this,"serializeValue",JSON.stringify),e(this,"deserializeValue",pb),e(this,"writableLoading",mt(!1)),e(this,"loading",this.writableLoading),t.inputHash&&(this.inputHash=t.inputHash),this.value=mt(void 0),this.cacheKey=t.cacheKey,this.fetch=t.fetch,this.timeToLiveMs=t.timeToLiveMs,t.serialize&&(this.serializeValue=t.serialize),t.deserialize&&(this.deserializeValue=t.deserialize),this.cachedFetch()}serialize({inputHash:e,timestamp:t,value:n}){return JSON.stringify({inputHash:e,timestamp:t,value:this.serializeValue(n)})}deserialize(e){try{const t=JSON.parse(e),{inputHash:n,timestamp:r,value:o}=t;if("string"!=typeof n)return;if("number"!=typeof r)return;if("string"!=typeof o)return;const s=this.deserializeValue(o);if(void 0===s)return;return{inputHash:n,timestamp:r,value:s}}catch(t){return}}fetchFromCache(){const e=localStorage.getItem(this.cacheKey);if(null===e)return"no-cache-found";const t=this.deserialize(e);return void 0===t?"no-cache-found":$b()-t.timestamp>this.timeToLiveMs?"cache-too-old":t.inputHash!==this.inputHash?"hash-change":(this.value.set(t),"cache-ok")}async forceFetch(){try{this.writableLoading.set(!0);const e=$b(),t=await this.fetch(),{inputHash:n}=this;localStorage.setItem(this.cacheKey,this.serialize({inputHash:n,timestamp:e,value:t})),this.value.set({inputHash:n,timestamp:e,value:t})}finally{this.writableLoading.set(!1)}}async cachedFetch(){if("cache-ok"!==this.fetchFromCache())try{await this.forceFetch()}catch(e){}}subscribe(e){return this.value.subscribe(e)}}class fb{constructor(t){e(this,"store",void 0),e(this,"key",void 0),e(this,"defaultValue",void 0),e(this,"serialize",void 0),e(this,"deserialize",void 0),this.key=t.key,this.defaultValue=t.defaultValue,this.serialize=t.serialize??JSON.stringify,this.deserialize=t.deserialize??JSON.parse,this.store=mt(this.getLocalStorageValue())}getLocalStorageValue(){const e=localStorage.getItem(this.key);if(null===e)return this.defaultValue;try{return this.deserialize(e)}catch{return this.defaultValue}}setLocalStorageValue(e){localStorage.setItem(this.key,this.serialize(e))}subscribe(e,t){return this.store.subscribe(e,t)}set(e){this.store.set(e),this.setLocalStorageValue(e)}update(e){this.store.update((t=>{const n=e(t);return this.setLocalStorageValue(n),n}))}}const hb="mathesar-release-data",gb="data-explorer-left-sidebar-width",yb="data-explorer-right-sidebar-width",vb=new fb({key:"table-inspector-width",defaultValue:350}),bb=new fb({key:gb,defaultValue:400}),wb=new fb({key:yb,defaultValue:350});function _b(e){if(void 0!==e)return{id:e.id,tagName:e.tag_name,date:e.published_at}}function xb(e){try{const[t,n,r]=e.split(".").map((e=>parseInt(e,10)));if(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))return;return 1e6*t+1e3*n+r}catch(t){return}}class Sb{constructor({current:t,latest:n}){e(this,"current",void 0),e(this,"latest",void 0),e(this,"upgradeStatus",void 0),this.current=t,this.latest=n,this.upgradeStatus=function(e,t){if(void 0===e||void 0===t)return;const n=xb(e.tagName),r=xb(t.tagName);return n&&r&&r>n?"upgradable":"up-to-date"}(t,n)}serialize(){return JSON.stringify({current:this.current,latest:this.latest})}static deserialize(e){try{const t=JSON.parse(e),{current:n,latest:r}=t;return new Sb({current:n,latest:r})}catch(t){return}}}function Cb(e){return new mb({inputHash:e,cacheKey:hb,timeToLiveMs:864e5,fetch:()=>async function(e){return new Sb({current:_b(await db.fetchByTagName(e)),latest:_b(await db.fetchLatest())})}(e),serialize:e=>e.serialize(),deserialize:e=>Sb.deserialize(e)})}const Eb=Symbol("ReleaseDataStore");function kb(){return ge(Eb)}class Ib{constructor(t){e(this,"onOpen",void 0),e(this,"onClose",void 0),e(this,"nestingLevel",void 0),e(this,"purpose",mt("dataEntry")),e(this,"isOpen",mt(!1)),e(this,"submit",(()=>{})),e(this,"cancel",(()=>{})),e(this,"tableId",mt(void 0)),e(this,"columnWithNestedSelectorOpen",mt(void 0)),this.onOpen=t.onOpen??(()=>{}),this.onClose=t.onClose??(()=>{}),this.nestingLevel=t.nestingLevel}open(){this.isOpen.set(!0),this.onOpen()}close(){this.submit=()=>{},this.cancel=()=>{},this.isOpen.set(!1),this.onClose()}acquireUserInput({tableId:e}){return this.tableId.set(e),this.purpose.set("dataEntry"),this.open(),new Promise((e=>{this.submit=t=>{e(t),this.close()},this.cancel=()=>{e(void 0),this.close()}}))}navigateToRecordPage({tableId:e}){this.tableId.set(e),this.purpose.set("navigation"),this.open(),this.cancel=()=>{this.close()}}}const Tb={};function Db(e){he(Tb,e)}function Mb(){return ge(Tb)}function Ob(e){return`/db/${e}/`}function Nb(e,t){return`${Ob(e)}${t}/`}function Ab(e,t){return`${Nb(e,t)}tables/`}function Lb(e,t){return`${Nb(e,t)}explorations/`}function Pb(e,t){return`${Nb(e,t)}import/`}const Rb="inference";function Hb(e,t,n,r){const o=Pb(e,t),s=function(e){return new URLSearchParams({[Rb]:JSON.stringify(e.useColumnTypeInference)}).toString()}(r);return`${o}${n}/?${s}`}function zb(e,t){return`${Nb(e,t)}data-explorer/`}function Fb(e,t,n){return`${Lb(e,t)}${n}/`}function jb(e,t,n){return`${Fb(e,t,n)}edit/`}function qb(e,t,n){return`${Ab(e,t)}${n}/`}function Vb(e,t,n,r){return`${qb(e,t,n)}${String(r)}`}const Bb="/profile/",Wb="/administration/",Ub=`${Wb}update/`,Yb=`${Wb}users/`,Kb=`${Wb}users/new/`,Gb="/connections/";function Xb(e){return`${Yb}${e}/`}function Zb(e){return`https://docs.mathesar.org${e}`}function Jb(e){return!1===e.import_verified&&void 0!==e.data_files&&e.data_files.length>0}function Qb(e,t){const n=[...e.values()];let r=[];const{settings:o}=t;if(o){const{column_order:e}=o;e&&(r=e)}return n.forEach((e=>{r.includes(e.id)||r.push(e.id)})),r}function ew(e,t,n){return Jb(n)?Hb(e,t,n.id,{useColumnTypeInference:!0}):qb(e,t,n.id)}function tw(e,t,n){const r=e.slice();return r[10]=t[n],r}function nw(e){let t,n,r=e[5],o=[];for(let i=0;i<r.length;i+=1)o[i]=ow(tw(e,r,i));const s=e=>qe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=q()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);L(e,t,r),n=!0},p(e,n){if(32&n){let i;for(r=e[5],i=0;i<r.length;i+=1){const s=tw(e,r,i);o[i]?(o[i].p(s,n),je(o[i],1)):(o[i]=ow(s),o[i].c(),je(o[i],1),o[i].m(t.parentNode,t))}for(ze(),i=r.length;i<o.length;i+=1)s(i);Fe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)qe(o[t]);n=!1},d(e){R(o,e),e&&P(t)}}}function rw(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ow(e){let t,n;const r=[e[10],{size:"min(1em, 0.75em + 0.25rem)"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=32&n?et(r,[tt(e[10]),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sw(e){let t;const n=e[7].default,r=f(n,e,e[9],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||512&o)&&y(r,n,e,e[9],t?g(n,e[9],o,null):v(e[9]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function iw(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},i:o,o:o,d(e){e&&P(t)}}}function aw(e){let t,n,r,o,s,i,a,l,c,u,d;const p=[rw,nw],$=[];function m(e,t){return e[1]?0:1}r=m(e),o=$[r]=p[r](e);const f=[iw,sw],h=[];function g(e,t){return e[0]?0:1}return a=g(e),l=h[a]=f[a](e),{c(){t=H("span"),n=H("span"),o.c(),s=F(""),i=H("span"),l.c(),U(n,"class","icon svelte-1byqy9q"),Z(n,"white-space","nowrap"),U(i,"class","name svelte-1byqy9q"),U(t,"class","name-with-icon svelte-1byqy9q"),te(t,"boxed",e[2]),te(t,"bold",e[4])},m(o,l){L(o,t,l),O(t,n),$[r].m(n,null),O(t,s),O(t,i),h[a].m(i,null),c=!0,u||(d=V(t,"click",e[8]),u=!0)},p(e,s){let u=r;r=m(e),r===u?$[r].p(e,s):(ze(),qe($[u],1,1,(()=>{$[u]=null})),Fe(),o=$[r],o?o.p(e,s):(o=$[r]=p[r](e),o.c()),je(o,1),o.m(n,null));let d=a;a=g(e),a===d?h[a].p(e,s):(ze(),qe(h[d],1,1,(()=>{h[d]=null})),Fe(),l=h[a],l?l.p(e,s):(l=h[a]=f[a](e),l.c()),je(l,1),l.m(i,null)),(!c||4&s)&&te(t,"boxed",e[2]),(!c||16&s)&&te(t,"bold",e[4])},i(e){c||(je(o),je(l),c=!0)},o(e){qe(o),qe(l),c=!1},d(e){e&&P(t),$[r].d(),h[a].d(),u=!1,d()}}}function lw(e){let t,n;return t=new nc({props:{passthrough:!e[3],$$slots:{default:[aw]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.passthrough=!e[3]),567&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cw(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{icon:i}=t,{name:a}=t,{isLoading:l=!1}=t,{iconHasBox:c=!1}=t,{truncate:u=!0}=t,{bold:d=!1}=t;return e.$$set=e=>{"icon"in e&&n(6,i=e.icon),"name"in e&&n(0,a=e.name),"isLoading"in e&&n(1,l=e.isLoading),"iconHasBox"in e&&n(2,c=e.iconHasBox),"truncate"in e&&n(3,u=e.truncate),"bold"in e&&n(4,d=e.bold),"$$scope"in e&&n(9,s=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(5,r=Array.isArray(i)?i:[i])},[a,l,c,u,d,r,i,o,function(t){ve.call(this,e,t)},s]}class uw extends at{constructor(e){super(),it(this,e,cw,lw,d,{icon:6,name:0,isLoading:1,iconHasBox:2,truncate:3,bold:4})}}const dw=e=>({tableName:1&e}),pw=e=>({tableName:e[0].name});function $w(e){let t;return{c(){t=F("*")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function mw(e){let t,n,r;const o=e[4].default,s=f(o,e,e[5],pw),i=s||function(e){let t,n=e[0].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&G(t,n)},d(e){e&&P(t)}}}(e);let a=e[2]&&$w();return{c(){i&&i.c(),t=j(),a&&a.c(),n=q()},m(e,o){i&&i.m(e,o),L(e,t,o),a&&a.m(e,o),L(e,n,o),r=!0},p(e,t){s?s.p&&(!r||33&t)&&y(s,o,e,e[5],r?g(o,e[5],t,dw):v(e[5]),pw):i&&i.p&&(!r||1&t)&&i.p(e,r?t:-1),e[2]?a||(a=$w(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(e){r||(je(i,e),r=!0)},o(e){qe(i,e),r=!1},d(e){i&&i.d(e),e&&P(t),a&&a.d(e),e&&P(n)}}}function fw(e){let t,n;const r=[{icon:Zy},{isLoading:e[1]},e[3]];let o={$$slots:{default:[mw]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new uw({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=10&n?et(r,[0&n&&{icon:Zy},2&n&&{isLoading:e[1]},8&n&&tt(e[3])]):{};37&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hw(e,t,n){let r;const o=["table","isLoading"];let s=w(t,o),{$$slots:a={},$$scope:l}=t,{table:c}=t,{isLoading:u=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(3,s=w(t,o)),"table"in e&&n(0,c=e.table),"isLoading"in e&&n(1,u=e.isLoading),"$$scope"in e&&n(5,l=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=Jb(c))},[c,u,r,s,a,l]}class gw extends at{constructor(e){super(),it(this,e,hw,fw,d,{table:0,isLoading:1})}}const yw={Boolean:"boolean",Date:"date",Time:"time",DateTime:"datetime",Duration:"duration",Email:"email",Money:"money",Number:"number",Text:"text",Uri:"uri",JsonArray:"jsonlist",JsonObject:"map",Array:"array",Other:"other"},vw="character varying",bw="character",ww="text",_w={variables:{restrictFieldSize:{type:"boolean",default:!1},length:{type:"integer",default:255,validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"restrictFieldSize",label:"Set a maximum length"},{type:"if",variable:"restrictFieldSize",condition:"eq",value:!0,elements:[{type:"input",variable:"length",label:"Field Size Limit"}]}]}};function xw(e,t){const n=function(e,t){if(e.restrictFieldSize){const{length:n}=e;return("string"==typeof n||"number"==typeof n)&&("string"==typeof n?parseInt(n,10):n)>255?vw:t===bw?bw:vw}return ww}(e,t),r={};return n!==bw&&n!==vw||(r.length=e.length),{dbType:n,typeOptions:r}}function Sw(e,t){switch(e){case bw:case vw:return{length:t?.length??null,restrictFieldSize:!0};default:return{restrictFieldSize:!1}}}const Cw={getIcon:()=>({...vv,label:"Text"}),defaultDbType:vw,cellInfo:{type:"string",config:{multiLine:!0},conditionalConfig:{[bw]:{multiLine:!1}}},getDbConfig:()=>({form:_w,determineDbTypeAndOptions:xw,constructDbFormValuesFromTypeOptions:Sw})},Ew="decimal",kw="numeric",Iw="integer",Tw="smallint",Dw="bigint",Mw="real",Ow="double precision",Nw={variables:{numberType:{type:"string",enum:["Integer","Decimal","Float"],default:"Decimal"},integerDataSize:{type:"string",enum:["default","bigInt","smallInt"],default:"default"},decimalPlaces:{type:"integer",default:null},maxDigits:{type:"integer",default:null},floatingPointType:{type:"string",enum:["real","doublePrecision"],default:"real"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"numberType",label:"Number Type"},{type:"switch",variable:"numberType",cases:{Integer:[{type:"input",variable:"integerDataSize",label:"Integer Data Size",interfaceType:"select",options:{default:{label:"Default (4 bytes)"},bigInt:{label:"Big Integer (8 bytes)"},smallInt:{label:"Small Integer (2 bytes)"}}}],Decimal:[{type:"layout",orientation:"horizontal",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"maxDigits",label:"Max Digits"}]}],Float:[{type:"input",variable:"floatingPointType",label:"Floating Point Type",interfaceType:"select",options:{real:{label:"Real (6 digits)"},doublePrecision:{label:"Double Precision (15 digits)"}}}]}}]}};function Aw(e,t){const n=function(e,t){switch(e.numberType){case"Integer":switch(e.integerDataSize){case"smallInt":return Tw;case"bigInt":return Dw;default:return Iw}case"Float":return"real"===e.floatingPointType?Mw:Ow;default:return t===Ew?Ew:kw}}(e,t),r={};return n!==Ew&&n!==kw||(null!==e.maxDigits&&(r.precision=e.maxDigits),null!==e.decimalPlaces&&(r.scale=e.decimalPlaces)),{dbType:n,typeOptions:r}}function Lw(e,t){switch(e){case Tw:return{numberType:"Integer",integerDataSize:"smallInt"};case Dw:return{numberType:"Integer",integerDataSize:"bigInt"};case Mw:return{numberType:"Float",floatingPointType:"real"};case Ow:return{numberType:"Float",floatingPointType:"doublePrecision"};case Iw:return{numberType:"Integer",integerDataSize:"default"};default:return{numberType:"Decimal",maxDigits:t?.precision??null,decimalPlaces:t?.scale??null}}}const Pw={variables:{decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"false"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function Rw(e){const t=e.decimalPlaces;return{number_format:"none"===e.numberFormat?void 0:e.numberFormat,use_grouping:e.useGrouping??"false",minimum_fraction_digits:t??void 0,maximum_fraction_digits:t??void 0}}function Hw(e,t){return null===e&&null===t?null:null===e?t:null===t?e:Math.max(e,t)}function zw(e){const t=e,n=Hw(t?.minimum_fraction_digits??null,t?.maximum_fraction_digits??null);return{numberFormat:t?.number_format??"none",useGrouping:t?.use_grouping??"false",decimalPlaces:n}}const Fw={getIcon:()=>({...yv,label:"Number"}),cellInfo:{type:"number",conditionalConfig:{[Ew]:{floatAllowanceStrategy:"scale-based"},[kw]:{floatAllowanceStrategy:"scale-based"},[Iw]:{floatAllowanceStrategy:"never"},[Tw]:{floatAllowanceStrategy:"never"},[Dw]:{floatAllowanceStrategy:"never"},[Mw]:{floatAllowanceStrategy:"always"},[Ow]:{floatAllowanceStrategy:"always"}}},defaultDbType:kw,getDbConfig:()=>({form:Nw,determineDbTypeAndOptions:Aw,constructDbFormValuesFromTypeOptions:Lw}),getDisplayConfig:()=>({form:Pw,determineDisplayOptions:Rw,constructDisplayFormValuesFromDisplayOptions:zw})},jw={variables:{currencySymbol:{type:"string",default:"$"},currencySymbolLocation:{type:"string",enum:["after-minus","end-with-space"],default:"after-minus"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"},decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"true"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"currencySymbol",label:"Currency Symbol"},{type:"input",variable:"currencySymbolLocation",label:"Currency Symbol Location",options:{"after-minus":{label:"Start"},"end-with-space":{label:"End"}}},{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Number Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function qw(e){const t=e;return{currency_symbol:t.currencySymbol,currency_symbol_location:t.currencySymbolLocation,number_format:"none"===t.numberFormat?null:t.numberFormat,use_grouping:t.useGrouping,minimum_fraction_digits:t.decimalPlaces??void 0,maximum_fraction_digits:t.decimalPlaces??void 0}}function Vw(e){const t=e,n=Hw(t?.minimum_fraction_digits??null,t?.maximum_fraction_digits??null);return{numberFormat:t?.number_format??"none",currencySymbol:t?.currency_symbol??"",decimalPlaces:n,currencySymbolLocation:t?.currency_symbol_location??"after-minus",useGrouping:t?.use_grouping??"true"}}const Bw={getIcon:()=>gv,cellInfo:{type:"money"},defaultDbType:"MATHESAR_TYPES.MATHESAR_MONEY",getDisplayConfig:()=>({form:jw,determineDisplayOptions:qw,constructDisplayFormValuesFromDisplayOptions:Vw})},Ww={getIcon:()=>({...mv,label:"Email"}),defaultDbType:"mathesar_types.email",cellInfo:{type:"string"}},Uw={variables:{displayAs:{type:"string",enum:["checkbox","dropdown"],default:"checkbox"},useCustomLabels:{type:"boolean",default:!1},trueLabel:{type:"string",default:"true",validation:{checks:["isEmpty"]}},falseLabel:{type:"string",default:"false",validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"displayAs",label:"Display as",options:{checkbox:{label:"Checkbox"},dropdown:{label:"Dropdown"}}},{type:"if",variable:"displayAs",condition:"eq",value:"dropdown",elements:[{type:"input",variable:"useCustomLabels",label:"Use Custom Labels"},{type:"if",variable:"useCustomLabels",condition:"eq",value:!0,elements:[{type:"input",variable:"trueLabel",label:"Label for TRUE"},{type:"input",variable:"falseLabel",label:"Label for FALSE"}]}]}]}};function Yw(e){const t={input:e.displayAs};return"dropdown"===e.displayAs&&e.useCustomLabels&&(t.custom_labels={TRUE:e.trueLabel,FALSE:e.falseLabel}),t}function Kw(e){const t=e,n={displayAs:t?.input??"checkbox"};return"object"==typeof t?.custom_labels&&null!==t.custom_labels&&(n.useCustomLabels=!0,n.trueLabel=t.custom_labels.TRUE,n.falseLabel=t.custom_labels.FALSE),n}const Gw={getIcon:()=>({...uv,label:"Boolean"}),cellInfo:{type:"boolean"},getDisplayConfig:()=>({form:Uw,determineDisplayOptions:Yw,constructDisplayFormValuesFromDisplayOptions:Kw})},Xw={getIcon:()=>_v,defaultDbType:"mathesar_types.uri",cellInfo:{type:"uri"}},Zw=["d","h","m","s","ms"],Jw={max:"m",min:"s"},Qw={d:"D",h:"HH",m:"mm",s:"ss",ms:"SSS"};class e_{constructor(t){e(this,"min",void 0),e(this,"max",void 0),this.min=t?.min??Jw.min,this.max=t?.max??Jw.max}getUnitsInRange(){return Zw.slice(Zw.indexOf(this.max),Zw.indexOf(this.min)+1)}getHigherUnit(e){const t=Zw[Zw.indexOf(e)-1];return t?Zw.indexOf(t)<Zw.indexOf(this.max)?null:t:null}getFormattingString(){const e=this.getUnitsInRange().map((e=>Qw[e]));return 1===e.length?e[0]:e[e.length-1]===Qw.ms?[e.slice(0,e.length-1).join(":"),e[e.length-1]].join("."):e.join(":")}static getAllUnits(){return Zw}static getDefaults(){return Jw}}const t_=/^((\.?\d+)|(\d+(\.\d+)?))$/;const n_={ms:{convert:e=>e.asMilliseconds(),unitName:"milliseconds",decimalCorrection:0},s:{convert:e=>e.asSeconds(),unitName:"seconds"},m:{convert:e=>e.asMinutes(),unitName:"minutes"},h:{convert:e=>e.asHours(),unitName:"hours"},d:{convert:e=>e.asDays(),unitName:"days"}};class r_{constructor(t){e(this,"specification",void 0),this.specification=t}parse(e){const t=function(e,t){let n=e.getUnitsInRange();"ms"===n[n.length-1]&&(n=n.slice(0,n.length-1));let r=t.trim();if(""===r)return null;":"===r[0]&&(r=`0${r}`);const o=r[r.length-1];if(":"!==o&&"."!==o||(r=`${r}0`),r.split(":").length>n.length)throw new Error("Duration exceeds specified unit range");const s=r.split(":").map((e=>{let t=e;t.length>1&&"."===t[t.length-1]&&(t=`${t}0`);const n=parseFloat(t);if(Number.isNaN(n)||!t_.test(t))throw new Error("Unable to parse duration");return n})).slice(-n.length),i=n.slice(-s.length),a={};return i.forEach(((e,t)=>{a[e]=s[t]??0})),wt.duration({years:0,months:0,days:a.d??0,hours:a.h??0,minutes:a.m??0,seconds:a.s??0}).toISOString()}(this.specification,e);return{value:t,intermediateDisplay:e}}format(e){return function(e,t){const n={},r=wt.duration(e),o=t.getUnitsInRange().reverse();if(0===o.length)throw new Error("Invalid duration specification");let s=n_[o[0]],i=s.convert(r);for(const a of o){const e=t.getHigherUnit(a);let r=0;if(e){const t=n_[e];r=Math.floor(t.convert(wt.duration(i,s.unitName))),i-=s.convert(wt.duration(r,t.unitName))}n[s.unitName]=parseFloat(i.toFixed(s.decimalCorrection??3)),e&&(i=r,s=n_[e])}return wt.duration(n).format(t.getFormattingString())}(e,this.specification)}}const o_=e_.getDefaults(),s_={variables:{durationConfig:{type:"custom",default:{max:o_.max,min:o_.min}}},layout:{orientation:"vertical",elements:[{type:"static",variable:"durationConfig",componentId:"duration-config-menu"}]}};function i_(e){return{...e.durationConfig,show_units:!1}}function a_(e){const t=e;return{durationConfig:{max:t?.max??o_.max,min:t?.min??o_.min}}}const l_={getIcon:()=>({...$v,label:"Duration"}),cellInfo:{type:"duration"},getDisplayConfig:()=>({form:s_,determineDisplayOptions:i_,constructDisplayFormValuesFromDisplayOptions:a_})};function c_(e,t,n){const r=[];return e.forEach((e=>{t.forEach((t=>{r.push(n(e,t))}))})),r}const u_={none:new Date("1999-12-25T00:00").toLocaleDateString().replace("25","DD").replace("12","MM").replace("1999","YYYY"),us:"MM/DD/YYYY",eu:"DD/MM/YYYY",friendly:"D MMM YYYY",iso:"YYYY-MM-DD"},d_=new Map([["us",["M/D/YYYY","M/D/YY"]],["eu",["D/M/YYYY","D/M/YY"]],["friendly",["D MMM YY"]]]),p_={"24hr":"HH:mm","24hrLong":"HH:mm:ss","12hr":"hh:mm a","12hrLong":"hh:mm:ss a"},$_=["hh:mm:ss a","HH:mm:ss","hh:mm a","HH:mm"],m_=[...$_,...c_($_,[" Z",".Z","Z"],((e,t)=>`${e}${t}`))];class f_{constructor(t){e(this,"type",void 0),e(this,"isTimeZoneType",void 0),e(this,"dateFormat",void 0),e(this,"timeFormat",void 0),this.type=t?.type??"timestamp",this.dateFormat=t?.dateFormat??"none",this.timeFormat=t?.timeFormat??"24hr",this.isTimeZoneType="timeWithTZ"===this.type||"timestampWithTZ"===this.type}getFormattingString(){switch(this.type){case"date":return u_[this.dateFormat];case"time":case"timeWithTZ":return p_[this.timeFormat];default:return`${u_[this.dateFormat]} ${p_[this.timeFormat]}`}}getCommonFormattingStrings(){const e=[u_[this.dateFormat],...d_.get(this.dateFormat)??[]];return"date"===this.type?d_.get(this.dateFormat)??[]:"time"===this.type?$_:"timeWithTZ"===this.type?m_:"timestamp"===this.type?c_(e,$_,((e,t)=>`${e} ${t}`)):"timestampWithTZ"===this.type?c_(e,m_,((e,t)=>`${e} ${t}`)):[]}getCanonicalFormattingStrings(){const e=["YYYY-MM-DD"],t=[...e,"YYYY-MM-DD [AD]","YYYY-MM-DD [BC]"],n=["HH:mm:ss"],r=["HH:mm:ss.Z","HH:mm:ss Z","HH:mm:ss.ZZ","HH:mm:ss ZZ"],o=c_(e,n,((e,t)=>`${e} ${t}`)),s=[...o,...c_(o,["[AD]","[BC]"],((e,t)=>`${e} ${t}`))],i=c_(e,r,((e,t)=>`${e}T${t}`)),a=[...i,...c_(i,["[AD]","[BC]"],((e,t)=>`${e}T${t}`))];switch(this.type){case"date":return t;case"time":return n;case"timeWithTZ":return r;case"timestamp":return s;case"timestampWithTZ":return a;default:return[]}}getCanonicalString(e){return"date"===this.type?wt(e).format("YYYY-MM-DD"):"time"===this.type?wt(e).format("HH:mm:ss"):"timeWithTZ"===this.type?wt(e).format("HH:mm:ss Z"):"timestamp"===this.type?wt(e).format("YYYY-MM-DD HH:mm:ss"):"timestampWithTZ"===this.type?wt(e).format("YYYY-MM-DD HH:mm:ss Z"):e.toISOString()}hasSecondsInTime(){return"date"!==this.type&&("12hrLong"===this.timeFormat||"24hrLong"===this.timeFormat)}isTime24Hr(){return"date"!==this.type&&("24hr"===this.timeFormat||"24hrLong"===this.timeFormat)}static getDateFormattingStringMap(){return u_}static getTimeFormattingStringMap(){return p_}}class h_{constructor(t){e(this,"specification",void 0),this.specification=t}parse(e){const t=[this.specification.getFormattingString(),...this.specification.getCommonFormattingStrings(),...this.specification.getCanonicalFormattingStrings()];let n=wt(e,t,!0);return n.isValid()||(n=wt(e,this.specification.getCanonicalFormattingStrings())),{value:n.isValid()?this.specification.getCanonicalString(n.toDate()):e,intermediateDisplay:e}}format(e){const t=wt(e,this.specification.getCanonicalFormattingStrings());return t.isValid()?t.format(this.specification.getFormattingString()):e}parseAndFormat(e){const{value:t}=this.parse(e);return Ot(t)?this.format(t):e}}function g_(){const e=wt("2001-12-31"),t=f_.getDateFormattingStringMap();return{none:{label:`Infer from browser (${e.format(t.none)})`},us:{label:`US (${e.format(t.us)})`},eu:{label:`European (${e.format(t.eu)})`},friendly:{label:`Friendly (${e.format(t.friendly)})`},iso:{label:`Standard (${e.format(t.iso)})`}}}function y_(){const e=wt(),t=f_.getTimeFormattingStringMap();return{"24hr":{label:`Short time 24 hr (${e.format(t["24hr"])})`},"24hrLong":{label:`Long time 24 hr (${e.format(t["24hrLong"])})`},"12hr":{label:`Short time 12 hr (${e.format(t["12hr"])})`},"12hrLong":{label:`Long time 12 hr (${e.format(t["12hrLong"])})`}}}const v_={variables:{format:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Date Format",options:g_()}]}};function b_(e){return{format:e.format}}function w_(e){return{format:e?.format??"none"}}const __={getIcon:()=>({...dv,label:"Date"}),cellInfo:{type:"date"},getDisplayConfig:()=>({form:v_,determineDisplayOptions:b_,constructDisplayFormValuesFromDisplayOptions:w_})},x_="time with time zone",S_="time without time zone",C_={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function E_(e){return{dbType:e.supportTimeZones?x_:S_,typeOptions:{}}}function k_(e){return{supportTimeZones:e===x_}}const I_={variables:{format:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Time Format",options:y_()}]}};function T_(e){return{format:e.format}}function D_(e){return{format:e?.format??"24hr"}}const M_={getIcon:()=>({...bv,label:"Time"}),defaultDbType:x_,cellInfo:{type:"time",conditionalConfig:{[x_]:{supportTimeZone:!0},[S_]:{supportTimeZone:!1}}},getDbConfig:()=>({form:C_,determineDbTypeAndOptions:E_,constructDbFormValuesFromTypeOptions:k_}),getDisplayConfig:()=>({form:I_,determineDisplayOptions:T_,constructDisplayFormValuesFromDisplayOptions:D_})},O_="timestamp with time zone",N_="timestamp without time zone",A_={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function L_(e){return{dbType:e.supportTimeZones?O_:N_,typeOptions:{}}}function P_(e){return{supportTimeZones:e===O_}}const R_={variables:{dateFormat:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"},timeFormat:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"dateFormat",label:"Date Format",options:g_()},{type:"input",variable:"timeFormat",label:"Time Format",options:y_()}]}};function H_(e){return{date_format:e.dateFormat,time_format:e.timeFormat}}function z_(e){const t=e;return{dateFormat:t?.date_format??"none",timeFormat:t?.time_format??"24hr"}}const F_={getIcon:()=>({...pv,label:"Date & Time"}),defaultDbType:O_,cellInfo:{type:"datetime",conditionalConfig:{[O_]:{supportTimeZone:!0},[N_]:{supportTimeZone:!1}}},getDbConfig:()=>({form:A_,determineDbTypeAndOptions:L_,constructDbFormValuesFromTypeOptions:P_}),getDisplayConfig:()=>({form:R_,determineDisplayOptions:H_,constructDisplayFormValuesFromDisplayOptions:z_})},j_={getIcon:()=>({...wv,label:"Unknown column type"}),cellInfo:{type:"string"}},q_={name:"Other",identifier:"other",...j_,dbTypes:new Set([])};function V_(e,t){let n;for(const[,r]of t)if(r.dbTypes.has(e)){n=r;break}return n}function B_(e,t){let n=V_(e,t);return n||(n=q_),n}const W_={[yw.Text]:Cw,[yw.Money]:Bw,[yw.Email]:Ww,[yw.Number]:Fw,[yw.Boolean]:Gw,[yw.Uri]:Xw,[yw.Duration]:l_,[yw.Date]:__,[yw.Time]:M_,[yw.DateTime]:F_},U_={[yw.Array]:e=>({getIcon:t=>{const n={...xv,label:"Array"};if(t&&t.typeOptions){const n=B_(t.typeOptions.item_type,e);if(n){const e=n.getIcon(),t=Array.isArray(e)?e:[e];return[{...xv,label:"Array"},...t]}}return n},cellInfo:{type:"array"}}),[yw.JsonArray]:()=>({getIcon:()=>fv,defaultDbType:"mathesar_types.mathesar_json_array",cellInfo:{type:"string"}}),[yw.JsonObject]:()=>({getIcon:()=>hv,defaultDbType:"mathesar_types.mathesar_json_object",cellInfo:{type:"string"}})},Y_=ww;function K_(e){const t=new Map,n=[];e.forEach((e=>{if("other"===e.identifier)return;const r={identifier:e.identifier,name:e.name,dbTypes:new Set(e.db_types)},o=W_[e.identifier];if(o)return void t.set(e.identifier,{...r,...o});const s=U_[e.identifier];s?n.push({...r,factory:s}):t.set(e.identifier,{...r,...j_})}));const r=new Map(t);return n.forEach((e=>{r.set(e.identifier,{identifier:e.identifier,name:e.name,dbTypes:e.dbTypes,...e.factory(t)})})),r}var G_={exports:{}},X_={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(M){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),i=new I(r||[]);return s._invoke=function(e,t,n){var r=d;return function(o,s){if(r===$)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw s;return D()}for(n.method=o,n.arg=s;;){var i=n.delegate;if(i){var a=C(i,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=$;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?m:p,l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=m,n.method="throw",n.arg=l.arg)}}}(e,n,i),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(M){return{type:"throw",arg:M}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",$="executing",m="completed",f={};function h(){}function g(){}function y(){}var v={};v[s]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(T([])));w&&w!==n&&r.call(w,s)&&(v=w);var _=y.prototype=h.prototype=Object.create(v);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,s,i,a){var l=u(e[o],e,s);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,a)}))}a(l.arg)}var o;this._invoke=function(e,r){function s(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(s,s):s()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,f;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:D}}function D(){return{value:t,done:!0}}return g.prototype=_.constructor=y,y.constructor=g,g.displayName=l(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,a,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(S.prototype),S.prototype[i]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,o,s){void 0===s&&(s=Promise);var i=new S(c(t,n,r,o),s);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(_),l(_,a,"Generator"),_[s]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),f}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}}(X_),function(e){e.exports=X_.exports}(G_);var Z_={},J_={exports:{}};!function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0}(J_);var Q_={exports:{}},ex={exports:{}},tx={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0}(tx),function(e){var t=tx.exports;e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(ex);var nx={exports:{}};!function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0}(nx);var rx={exports:{}};!function(e){var t=tx.exports;e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0}(rx);var ox={exports:{}};!function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}(ox),function(e){var t=ex.exports,n=nx.exports,r=rx.exports,o=ox.exports;e.exports=function(e){return t(e)||n(e)||r(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0}(Q_);var sx={},ix={};ix.notUndefined=function(e){return void 0!==e};var ax=ix.notUndefined;sx.isIterable=function(e){return null!=e&&ax(e[Symbol.iterator])};var lx={};lx.isLoopable=sx.isIterable;var cx={},ux=ix.notUndefined;cx.isWrappable=function(e){return null==e||ux(e[Symbol.iterator])};var dx={},px=G_.exports,$x=px.mark(fx),mx=px.mark(hx);function fx(e){return px.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e,"t0",1);case 1:case"end":return t.stop()}}),$x)}function hx(e){return px.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e){t.next=2;break}return t.delegateYield(e,"t0",2);case 2:case"end":return t.stop()}}),mx)}dx.wrap=fx,dx.nullableWrap=hx;var gx={},yx=Q_.exports;function vx(e,t){var n=e.fn,r=e.validateArgs,o=e.variadic,s=e.reduces,i=e.growRight,a=e.minArgs,l=e.maxArgs,c=e.isIterable,u=e.iterableType,d=e.applyOnIterableArgs,p=e.IterableClass;if(t.length>a){var $=!0,m=o?t.findIndex((function(e,t){return c(e)&&t>=a})):Math.min(l,t.length-1),f=o?t.length:m+1;if(o)for(var h=m;h<t.length;h++)$=$&&c(t[h]);else $=c(t[m]);if(t.length>l&&(-1===m||!$)){var g=o?"...".concat(u,"s"):u,y="".concat(n.name," takes up to ").concat(l," arguments, followed by ").concat(g,". ")+"You already passed ".concat(t.length," arguments");throw o?new Error("".concat(y," and the following arguments were not all ").concat(u,"s")):new Error("".concat(y," and the last argument was not ").concat(u))}if(m>=0&&$){for(var v=m;v<f;v++)t[v]=d(t[v]);var b=o?t.slice(m):t[m];return t.splice(m),i||t.reverse(),t.unshift(b),r(t),s?n.apply(void 0,yx(t)):new p(n,t)}}return bx(e,t)}function bx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(0===r.length)throw new Error("Cannot make a partial application with no arguments");return r.unshift.apply(r,yx(t)),vx(e,r)}}gx.curry=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return n<=s.length?t.apply(void 0,yx(r).concat(s)):e(t,n-s.length,[].concat(yx(r),s))}},gx.variadicCurryWithValidation=bx;var wx={},_x=Symbol.for("_");wx._=_x;var xx=Symbol("__iterate");wx.__iterate=xx;var Sx=Symbol("split");wx.split=Sx;var Cx,Ex=J_.exports,kx=Q_.exports,Ix=sx.isIterable,Tx=lx.isLoopable,Dx=cx.isWrappable,Mx=dx.nullableWrap,Ox=gx.variadicCurryWithValidation,Nx=wx,Ax=Nx._,Lx=Nx.__iterate;function Px(e){if(Dx(e))return Ix(e)?e:Mx(e);throw"function"==typeof e.next?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}function Rx(e,t){this[Ax]={fn:e,args:t,staticIterator:null}}function Hx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Rx.apply(this,t)}Z_.wrap=Mx,Z_.isIterable=Ix,Z_.isLoopable=Tx,Z_.isWrappable=Dx,Z_.ensureIterable=Px,Z_.callReturn=function(e){"return"in e&&e.return()},Z_.BaseIterableIterator=Rx,Object.assign(Rx.prototype,(Ex(Cx={constructor:Rx},Lx,(function(){var e=this[Ax],t=e.fn,n=e.args;return t.apply(void 0,kx(n))})),Ex(Cx,"next",(function(){var e=this[Ax];return e.staticIterator=e.staticIterator||this[Lx](),e.staticIterator.next()})),Ex(Cx,"return",(function(e){var t=this[Ax];return t.staticIterator=t.staticIterator||this[Lx](),t.staticIterator.return(e)})),Ex(Cx,"throw",(function(e){var t=this[Ax];return t.staticIterator=t.staticIterator||this[Lx](),t.staticIterator.throw(e)})),Cx)),Z_.IterableIterator=Hx,Hx.prototype=Object.assign(Object.create(Rx.prototype),Ex({constructor:Hx},Symbol.iterator,(function(){return this[Lx]()}))),Z_.cache=function(e){return kx(e)},Z_.wrapWithIterableIterator=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validateArgs,r=void 0===n?function(e){return e}:n;return function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r(n),new Hx(e,n)}};Z_.iterableCurry=function(e,t){return Ox(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.validateArgs,r=void 0===n?function(e){}:n,o=t.variadic,s=void 0!==o&&o,i=t.reduces,a=void 0!==i&&i,l=t.growRight,c=void 0!==l&&l,u=t.minArgs,d=void 0===u?e.length-1:u,p=t.maxArgs,$=void 0===p?e.length-1:p,m=t.applyOnIterableArgs;return{fn:e,validateArgs:r,variadic:s,reduces:a,growRight:c,minArgs:d,maxArgs:$,isIterable:Dx,iterableType:"iterable",applyOnIterableArgs:void 0===m?Px:m,IterableClass:Hx}}(e,t))};var zx={},Fx=G_.exports,jx=Fx.mark(Wx);function qx(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Vx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function Vx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bx=Z_.iterableCurry;function Wx(e,t){var n,r,o,s;return Fx.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:n=0,r=qx(e),i.prev=2,r.s();case 4:if((o=r.n()).done){i.next=10;break}return s=o.value,i.next=8,t(s,n++);case 8:i.next=4;break;case 10:i.next=15;break;case 12:i.prev=12,i.t0=i.catch(2),r.e(i.t0);case 15:return i.prev=15,r.f(),i.finish(15);case 18:case"end":return i.stop()}}),jx,null,[[2,12,15,18]])}zx.__map=Wx;var Ux=Bx(Wx);zx.map=Ux;var Yx={};function Kx(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Gx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gx(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function Gx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xx=Z_.iterableCurry;function Zx(e,t){var n,r=0,o=Kx(e);try{for(o.s();!(n=o.n()).done;){if(t(n.value,r++))return!0}}catch(s){o.e(s)}finally{o.f()}return!1}Yx.__some=Zx;var Jx=Xx(Zx,{reduces:!0});Yx.some=Jx;var Qx={},eS=G_.exports,tS=eS.mark(sS),nS=Z_,rS=nS.wrapWithIterableIterator,oS=nS.ensureIterable;function sS(){var e,t,n,r,o,s,i=arguments;return eS.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(e=i.length,t=new Array(e),n=0;n<e;n++)t[n]=i[n];r=0,o=t;case 2:if(!(r<o.length)){a.next=8;break}return s=o[r],a.delegateYield(oS(s),"t0",5);case 5:r++,a.next=2;break;case 8:case"end":return a.stop()}}),tS)}Qx.__concat=sS;var iS=rS(sS);Qx.concat=iS;var aS={},lS={};function cS(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return uS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uS(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw s}}}}function uS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dS=Z_.iterableCurry;function pS(e,t){var n,r=t,o=cS(e);try{for(o.s();!(n=o.n()).done;){r=n.value}}catch(s){o.e(s)}finally{o.f()}return r}lS.__takeLastOr=pS;var $S=dS(pS,{reduces:!0});lS.takeLastOr=$S;var mS=Z_.iterableCurry,fS=lS.__takeLastOr;function hS(e){return fS(e,void 0)}aS.__takeLast=hS;var gS=mS(hS,{reduces:!0});aS.takeLast=gS;const yS=Qx.concat;const vS=zx.map;const bS=Yx.some;const wS=aS.takeLast;const _S=["library_management","movie_collection"];const xS={list:function(){return Wv("/api/db/v0/connections/?limit=500")},createFromKnownConnection:function(e){return Uv("/api/ui/v0/connections/create_from_known_connection/",e)},createFromScratch:function(e){return Uv("/api/ui/v0/connections/create_from_scratch/",e)},createWithNewUser:function(e){return Uv("/api/ui/v0/connections/create_with_new_user/",e)},update:function(e,t){return Yv(`/api/db/v0/connections/${e}/`,t)},delete:function(e,t=!1){return Kv(qv(`/api/db/v0/connections/${e}/`,{del_msar_schemas:t}))}},SS=Wm();function CS(e,t){return!bS((t=>t.id!==e.id&&t.host===e.host&&t.port===e.port&&t.database===e.database),t)}const ES=new class{constructor(){e(this,"unsortedConnections",new ht),e(this,"connections",void 0),e(this,"currentConnectionId",mt()),e(this,"currentConnection",void 0),this.unsortedConnections.reconstruct(SS.connections.map((e=>[e.id,e]))),this.connections=ft(this.unsortedConnections,(e=>{return new dt((t=e.values(),[...t].sort(((e,t)=>e.nickname.localeCompare(t.nickname)))).map((e=>[e.id,e])));var t})),this.currentConnectionId.set(SS.current_connection??void 0),this.currentConnection=ft([this.connections,this.currentConnectionId],(([e,t])=>At(t,(t=>e.get(t)))))}addConnection(e){this.unsortedConnections.set(e.id,e)}async createFromKnownConnection(e){const t=await xS.createFromKnownConnection(e);return this.addConnection(t),t}async createFromScratch(e){const t=await xS.createFromScratch(e);return this.addConnection(t),t}async createWithNewUser(e){const t=await xS.createWithNewUser(e);return this.addConnection(t),t}setCurrentConnectionId(e){this.currentConnectionId.set(e)}clearCurrentConnectionId(){this.currentConnectionId.set(void 0)}async updateConnection(e,t){const n=await xS.update(e,t);return this.unsortedConnections.set(e,n),n}async deleteConnection(e,t=!1){const n=$(this.connections),r=n.get(e);if(!r)return;const o=CS(r,n.values());await xS.delete(e,t&&o),this.unsortedConnections.delete(e)}},kS=ES.currentConnection,IS=Wm(),TS=new Map,DS=new Map;async function MS(e){const t=TS.get(e);if(t)try{t.update((e=>({...e,state:Rv.Loading}))),DS.get(e)?.cancel();const n=Wv(`/api/ui/v0/connections/${e}/types/`);DS.set(e,n);const r=K_(await n);return t.update((e=>({...e,state:Rv.Done,data:r}))),r}catch(n){return void t.update((e=>({...e,state:Rv.Error,error:n instanceof Error?n.message:"Error in fetching schemas"})))}else console.error(`DB Types store for db: ${e} not found.`)}let OS=!0;const NS=ft(kS,((e,t)=>{let n;if(e){const r=function(e){let t=TS.get(e.id);return t?$(t).error&&MS(e.id):(t=mt({state:Rv.Loading,data:new Map}),TS.set(e.id,t),OS&&IS.current_connection===e.id?t.update((e=>({...e,state:Rv.Done,data:K_(IS.abstract_types)}))):MS(e.id),OS=!1),t}(e);n=r.subscribe((e=>{t(e)}))}else t({state:Rv.Done,data:new Map});return()=>{n?.()}})),AS=[yw.Date,yw.Time,yw.DateTime],LS={[yw.DateTime]:[yw.DateTime],[yw.Date]:[yw.Date],[yw.Time]:[yw.Time],[yw.Duration]:[yw.Duration],[yw.Number]:[yw.Number],[yw.Money]:[yw.Money]};function PS(e,t){const n=new Map(e.map((e=>[e,t])));return Object.fromEntries(n)}function RS(e){const t=Object.values(yw),n=new Map(t.map((t=>[t,e(t)])));return Object.fromEntries(n)}const HS=[{id:"equal",name:"equals",aliases:PS(AS,"is same as"),uiTypeParameterMap:RS((e=>[e])),hasParams:!0},{id:"null",name:"is empty",uiTypeParameterMap:RS((()=>[])),hasParams:!1},{id:"not_null",name:"is not empty",uiTypeParameterMap:RS((()=>[])),hasParams:!1}],zS=[...HS,{id:"contains_case_insensitive",name:"contains",uiTypeParameterMap:{[yw.Text]:[yw.Text],[yw.Email]:[yw.Text],[yw.Uri]:[yw.Text]},hasParams:!0},{id:"starts_with_case_insensitive",name:"starts with",uiTypeParameterMap:{[yw.Text]:[yw.Text],[yw.Email]:[yw.Text],[yw.Uri]:[yw.Text]},hasParams:!0},{id:"uri_scheme_equals",name:"URI scheme is",uiTypeParameterMap:{[yw.Uri]:[yw.Text]},hasParams:!0},{id:"uri_authority_contains",name:"URI authority contains",uiTypeParameterMap:{[yw.Uri]:[yw.Text]},hasParams:!0},{id:"json_array_length_equals",name:"number of elements is",uiTypeParameterMap:{[yw.JsonArray]:[yw.Number]},hasParams:!0},{id:"json_array_length_greater_than",name:"number of elements >",uiTypeParameterMap:{[yw.JsonArray]:[yw.Number]},hasParams:!0},{id:"json_array_length_greater_or_equal",name:"number of elements >=",uiTypeParameterMap:{[yw.JsonArray]:[yw.Number]},hasParams:!0},{id:"json_array_length_less_than",name:"number of elements <",uiTypeParameterMap:{[yw.JsonArray]:[yw.Number]},hasParams:!0},{id:"json_array_length_less_or_equal",name:"number of elements <=",uiTypeParameterMap:{[yw.JsonArray]:[yw.Number]},hasParams:!0},{id:"json_array_not_empty",name:"array is not empty",uiTypeParameterMap:{[yw.JsonArray]:[]},hasParams:!1},{id:"json_array_contains",name:"array contains",uiTypeParameterMap:{[yw.JsonArray]:[yw.Text]},hasParams:!0},{id:"email_domain_equals",name:"email domain is",uiTypeParameterMap:{[yw.Email]:[yw.Text]},hasParams:!0},{id:"email_domain_contains",name:"email domain contains",uiTypeParameterMap:{[yw.Email]:[yw.Text]},hasParams:!0},{id:"lesser",name:"is lesser than",aliases:PS(AS,"is before"),uiTypeParameterMap:LS,hasParams:!0},{id:"greater",name:"is greater than",aliases:PS(AS,"is after"),uiTypeParameterMap:LS,hasParams:!0},{id:"lesser_or_equal",name:"is lesser or equal to",aliases:PS(AS,"is before or same as"),uiTypeParameterMap:LS,hasParams:!0},{id:"greater_or_equal",name:"is greater or equal to",aliases:PS(AS,"is after or same as"),uiTypeParameterMap:LS,hasParams:!0}];function FS(e){const t=Object.values(yw),n=new Map;return t.forEach((t=>{n.has(t)||n.set(t,[]);const r=n.get(t);e.forEach((e=>{e.uiTypeParameterMap[t]&&r?.push({id:e.id,name:e.aliases?.[t]??e.name,parameters:e.uiTypeParameterMap[t]??[]})}))})),n}const jS=FS(HS),qS=FS(zS);function VS(e){const t=new Map;return qS.get(e)?.forEach((e=>{t.set(e.id,e)})),t}const BS=[{id:"truncate_to_day",name:"Year, Month, Day",appliesTo:[yw.DateTime],returns:yw.Text},{id:"truncate_to_year",name:"Year",appliesTo:[yw.Date,yw.DateTime],returns:yw.Number},{id:"truncate_to_month",name:"Year, Month",appliesTo:[yw.Date,yw.DateTime],returns:yw.Text},{id:"extract_uri_scheme",name:"URI scheme",appliesTo:[yw.Uri],returns:yw.Text},{id:"extract_uri_authority",name:"URI Authority",appliesTo:[yw.Uri],returns:yw.Text},{id:"extract_email_domain",name:"Domain",appliesTo:[yw.Email],returns:yw.Text}];const WS=function(){const e=Object.values(yw),t=new Map;return e.forEach((e=>{t.has(e)||t.set(e,[]);const n=t.get(e);BS.forEach((t=>{t.appliesTo.includes(e)&&n?.push({id:t.id,name:t.name,returns:t.returns,possibleReturnValues:t.possibleReturnValues})}))})),t}();function US(e){return WS.get(e)??[]}const YS=["distinct_aggregate_to_array","count","sum","median","mode","percentage_true","max","min","mean","peak_time","peak_month"];function KS(e){return Object.fromEntries(Object.values(yw).map((t=>[t,e])))}function GS(){return Object.fromEntries(Object.values(yw).map((e=>[e,e])))}const XS={distinct_aggregate_to_array:{label:"List",inputOutputTypeMap:KS(yw.Array)},count:{label:"Count",inputOutputTypeMap:KS(yw.Number)},sum:{label:"Sum",inputOutputTypeMap:{[yw.Number]:yw.Number,[yw.Money]:yw.Money,[yw.Duration]:yw.Duration}},median:{label:"Median",inputOutputTypeMap:GS()},mode:{label:"Mode",inputOutputTypeMap:GS()},percentage_true:{label:"Percentage True",inputOutputTypeMap:{[yw.Boolean]:yw.Number}},max:{label:"Max",inputOutputTypeMap:GS()},min:{label:"Min",inputOutputTypeMap:GS()},mean:{label:"Mean",inputOutputTypeMap:{[yw.Number]:yw.Number,[yw.Money]:yw.Money,[yw.Duration]:yw.Duration}},peak_time:{label:"Peak time",inputOutputTypeMap:{[yw.DateTime]:yw.Time,[yw.Time]:yw.Time}},peak_month:{label:"Peak month",inputOutputTypeMap:{[yw.DateTime]:yw.Number,[yw.Date]:yw.Number}}};function ZS(e){const t=[];for(const n of YS){const{label:r,inputOutputTypeMap:o}=XS[n],s=o[e];s&&t.push({id:n,label:r,inputType:e,outputType:s})}return t}function JS(e){return e.length>1?e.replace(/s$/i,""):e}function QS(e){return(e[0]?.toLocaleUpperCase()??"")+e.slice(1)}function eC(e){if("number"==typeof e)return e;if(e instanceof Array)return e.length;if("size"in e)return e.size;if("object"==typeof e&&"function"==typeof e[Symbol.iterator]){let t=0;for(const n of e)t+=1;return t}return 0}function tC(e,t="en-US"){return function(e,t="en-US"){return"object"==typeof Intl&&"function"==typeof Intl.PluralRules?new Intl.PluralRules(t).select(e):0===e?"zero":1===e?"one":2===e?"two":"many"}(eC(e),t)}function nC(e,t){return{zero:t,one:e,two:t,few:t,many:t,other:t}}const rC={cells:nC("cell","cells"),columns:nC("column","columns"),explorations:nC("exploration","explorations"),filters:nC("filter","filters"),matches:nC("match","matches"),records:nC("record","records"),rows:nC("row","rows"),results:nC("result","results"),schemas:nC("schema","schemas"),tables:nC("table","tables"),times:nC("time","times"),values:nC("value","values")};function oC(e,t="lower"){switch(t){case"title":return function(e){return e.split(" ").map(QS).join(" ")}(e);case"sentence":return QS(e);default:return e}}function sC(e,t,n="lower"){return oC(rC[t][tC(e)],n)}function iC(e,t,{casing:n,countWhenZero:r="numeric",countWhenSingular:o="numeric"}={}){const s=eC(e),i=function(e,t,n){if(0===e){if("numeric"===t)return String(e);if("word"in t)return t.word;sc(t)}if(1===e){if("numeric"===n)return String(e);if("hidden"===n)return"";if("word"in n)return n.word;sc(n)}return String(e)}(s,r,o);return[i,sC(s,t,n)].filter(Boolean).join(" ")}const aC=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],["'","&#39;"],['"',"&quot;"]]),lC=new RegExp(`[${[...aC.keys()].join("")}]`,"g");function cC(e){return aC.get(e)??""}const uC=/\{[0-9_a-z]+\}/g,dC=new RegExp("","g");function pC(e){return void 0===e?"":null===e?"":"string"==typeof e?e:JSON.stringify(e)}function $C(e,t){return e.replace(uC,(function(e){return t.get(e.slice(1,-1))??e}))}function mC(e){const t=Object.entries(e);return new dt(t.map((([e,t])=>[e,pC(t)])))}function fC(e){const t=Object.entries(e.data);return new dt(t.map((([t,n])=>[t,$C(e.template,mC(n))])))}function hC(e,t){return e.withEntries(t)}function gC(e){return new dt(e.map((e=>[String(e.column),fC(e)])))}function yC(e,t){return e.withEntries(t,hC)}function vC(e,t=pC){return new dt([...e].map((([e,n])=>[String(e),t(n)])))}function bC({template:e,inputData:t,transitiveData:n}){return $C(e,{get:function(e){const r=t.get(e);if(void 0===r)return;const o=n.get(e);return void 0===o?r:o.get(r)??r}})}function wC(e){return function(e){return e.replace(lC,cC)}(e).replace(dC,'<span class="postgres-keyword">NULL</span>')}class _C{constructor(){e(this,"fetched",mt(new dt)),e(this,"bespoke",mt(new dt)),e(this,"combined",void 0),this.combined=ft([this.bespoke,this.fetched],(([e,t])=>yC(e,t)))}subscribe(e,t){return this.combined.subscribe(e,t)}setFetchedSummaries(e){this.fetched.set(e)}addBespokeRecordSummary({columnId:e,recordId:t,recordSummary:n}){const r=new dt([[e,new dt([[t,n]])]]);this.bespoke.update((e=>yC(e,r)))}}const xC="::";function SC(e,t){return`${String(e)}::${t}`}function CC(e){return e.split(xC).slice(0,-1).join(xC)}function EC(e){return function(e){let t;for(const{state:n}of e){if(n===zv)return n;t=t?Fv(n,t):n}return t}(yS(e.cellModificationStatus.values(),e.rowCreationStatus.values(),e.rowDeletionStatus.values()))}function kC(e){return{count:e.count,eqValue:e.eq_value,firstValue:e.first_value,lastValue:e.last_value,resultIndices:e.result_indices}}function IC(e){return"record"in e}function TC(e){return"record"in e&&"isNew"in e&&e.isNew}function DC(e){return"isNewHelpText"in e}function MC(e){return"group"in e}function OC(e){return"isAddPlaceholder"in e}function NC(e){return TC(e)&&!OC(e)}function AC(e){return IC(e)&&Object.entries(e.record).length>0}function LC(e,t){if(IC(e)&&void 0!==t){const n=e.record[t];if(Ot(n))return String(n)}return e.identifier}function PC(e,t){const n=t.find((e=>e.primary_key));if(!n)throw new Error("No primary key column found.");const r=e[n.id];if("string"!=typeof r&&"number"!=typeof r)throw new Error("Primary key value is not a string or number.");return r}function RC(e,t,n){return`__${t}_${e}_${n}`}function HC(e,t,n){return{record:e,identifier:RC("normal",n,t),rowIndex:t}}class zC{constructor({tableId:t,meta:n,columnsDataStore:r,contextualFilters:o,shareConsumer:s}){e(this,"tableId",void 0),e(this,"url",void 0),e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"state",void 0),e(this,"savedRecords",void 0),e(this,"savedRecordRowsWithGroupHeaders",void 0),e(this,"newRecords",void 0),e(this,"recordSummaries",new _C),e(this,"grouping",void 0),e(this,"totalCount",void 0),e(this,"error",void 0),e(this,"promise",void 0),e(this,"createPromises",void 0),e(this,"updatePromises",void 0),e(this,"fetchCallback",void 0),e(this,"requestParamsUnsubscriber",void 0),e(this,"contextualFilters",void 0),e(this,"shareConsumer",void 0),this.tableId=t,this.shareConsumer=s,this.state=mt(Rv.Loading),this.savedRecordRowsWithGroupHeaders=mt([]),this.newRecords=mt([]),this.savedRecords=ft(this.savedRecordRowsWithGroupHeaders,(e=>e.filter((e=>!MC(e))))),this.grouping=mt(void 0),this.totalCount=mt(void 0),this.error=mt(void 0),this.meta=n,this.columnsDataStore=r,this.contextualFilters=o,this.url=`/api/db/v0/tables/${this.tableId}/records/`,this.fetch(),this.requestParamsUnsubscriber=this.meta.recordsRequestParamsData.subscribe((()=>{this.fetch()}))}async fetch(e=!1){this.promise?.cancel();const{offset:t}=$(this.meta.pagination);this.savedRecordRowsWithGroupHeaders.update((n=>{let r=[...n];r.length=Math.min(r.length,$(this.meta.pagination).size);let o=-1;return r=r.map((n=>(o+=1,e&&n?n:{state:"loading",identifier:RC("dummy",t,o),rowIndex:o,record:{}}))),r})),this.error.set(void 0),e||(this.state.set(Rv.Loading),this.newRecords.set([]),this.meta.clearAllStatusesAndErrors());try{const e=$(this.meta.recordsRequestParamsData),o=[...this.contextualFilters].map((([e,t])=>({columnId:e,conditionId:"equal",value:t}))),s=jv({...{...(r={...e,filtering:e.filtering.withEntries(o),shareConsumer:this.shareConsumer}).pagination.recordsRequestParams(),...r.sorting.recordsRequestParamsIncludingGrouping(r.grouping),...r.grouping.recordsRequestParams(),...r.filtering.recordsRequestParams(),...r.searchFuzzy.recordsRequestParams()},...r.shareConsumer?.getQueryParams()});this.promise=Wv(`${this.url}?${s}`);const i=await this.promise,a=i.count||0,l=i.grouping?{columnIds:(n=i.grouping).columns,preprocIds:n.preproc??[],mode:n.mode,groups:(n.groups??[]).map(kC)}:void 0;i.preview_data&&this.recordSummaries.setFetchedSummaries(gC(i.preview_data));const c=function({records:e,offset:t,grouping:n}){if((n?.columnIds??[]).length>0){const r=[];let o=0;return n?.groups.forEach(((s,i)=>{const a={};n.columnIds.forEach((e=>{void 0!==s.eqValue[e]?a[e]=s.eqValue[e]:a[e]=s.firstValue[e]})),r.push({group:s,identifier:RC("groupHeader",t,i),groupValues:a}),s.resultIndices.forEach((n=>{const s=e[n];r.push(HC(s,o,t)),o+=1}))})),r}return e.map(((e,n)=>HC(e,n,t)))}({records:i.results,offset:t,grouping:l}),u={state:Rv.Done,savedRecordRowsWithGroupHeaders:c,grouping:l,totalCount:a};return this.savedRecordRowsWithGroupHeaders.set(c),this.state.set(Rv.Done),this.grouping.set(l),this.totalCount.set(a),this.error.set(void 0),this.fetchCallback?.(u),u}catch(o){this.state.set(Rv.Error),this.error.set(o instanceof Error?o.message:"Unable to load records")}var n,r}async deleteSelected(e){const t=this.getRecordRows(),n=$(this.columnsDataStore.pkColumn),r=[],o=[];e.forEach((e=>{const s=t[e];if(s){const e=LC(s,n?.id);n?.id&&Ot(s.record[n?.id])?r.push(e):o.push(e)}}));const s=[...r,...o];if(0===s.length)return;this.meta.rowDeletionStatus.setMultiple(s,{state:"processing"});const i=new Set,a=new Map;o.length>0&&o.forEach((e=>i.add(e)));const l=r;let c=i.size>0;if(l.length>0){const e=[...l],t=`/api/ui/v0/tables/${this.tableId}/records/delete/`;try{await Kv(t,{pks:e}),l.forEach((e=>i.add(e)))}catch($h){a.set(l.join(","),rc($h))}c=!0}const u=$(this.savedRecords),d=new Set(u.map((e=>LC(e,n?.id))));if(this.newRecords.set([]),c&&await this.fetch(!0),this.meta.rowCreationStatus.delete(Array.from(d,String)),this.meta.clearAllStatusesAndErrorsForRows([...i]),this.meta.rowDeletionStatus.setEntries([...a.entries()].map((([e,t])=>[e,{state:"failure",errors:[t]}]))),this.meta.rowDeletionStatus.clear(),a.size>0){const e=`Unable to delete ${sC(l,"rows")}.`,t=[...a.values()].join("\n");throw new Error(`${e} ${t}`)}}async updateCell(e,t){const{record:n}=e,r=$(this.columnsDataStore.pkColumn);if(void 0===r)return console.error("Unable to update record for a row without a primary key"),e;const o=n[r.id];if(void 0===o)return console.error("Unable to update record for a row with a missing primary key value"),e;const s=SC(LC(e,r.id),t.id);this.meta.cellModificationStatus.set(s,{state:"processing"}),this.updatePromises?.get(s)?.cancel();const i=Yv(`${this.url}${String(o)}/`,{[t.id]:n[t.id]});this.updatePromises||(this.updatePromises=new Map),this.updatePromises.set(s,i);try{const t=await i;return this.meta.cellModificationStatus.set(s,{state:"success"}),{...e,record:t.results[0]}}catch(a){this.meta.cellModificationStatus.set(s,{state:"failure",errors:[`Unable to save cell. ${rc(a)}`]})}finally{this.updatePromises.get(s)===i&&this.updatePromises.delete(s)}return e}getNewEmptyRecord(){const{offset:e}=$(this.meta.pagination),t=this.getRecordRows(),n=RC("new",e,kt());return{record:Object.fromEntries($(this.columnsDataStore.columns).filter((e=>null===e.default)).map((e=>[String(e.id),null]))),identifier:n,isNew:!0,rowIndex:t.length}}async createRecord(e){const t=$(this.columnsDataStore.pkColumn),n=$(this.columnsDataStore.columns),r=LC(e,t?.id);if(function({row:e,rowKey:t,columns:n,cellClientSideErrors:r}){n.forEach((n=>{!function({cellValue:e,column:t,cellKey:n,cellClientSideErrors:r}){const o=function(e,t){const n=[];return null!==e||t.nullable||n.push("Cell value cannot be NULL for this column."),void 0!==e||t.default||n.push("This column requires an initial value."),n}(e,t);o.length?r.set(n,o):r.delete(n)}({cellValue:e.record[String(n.id)],column:n,cellKey:SC(t,n.id),cellClientSideErrors:r})}))}({row:e,rowKey:r,columns:n,cellClientSideErrors:this.meta.cellClientSideErrors}),$(this.meta.rowsWithClientSideErrors).has(r))return e;const o=LC(e,t?.id);this.meta.rowCreationStatus.set(o,{state:"processing"}),this.createPromises?.get(o)?.cancel();const s={...Object.fromEntries(this.contextualFilters),...e.record},i=Uv(this.url,s);this.createPromises||(this.createPromises=new Map),this.createPromises.set(o,i);try{const n=(await i).results[0];let r={...e,record:n};if(OC(r)){const{isAddPlaceholder:e,...t}=r;r=t}const s=LC(r,t?.id);return this.meta.rowCreationStatus.delete(o),this.meta.rowCreationStatus.set(s,{state:"success"}),this.newRecords.update((t=>t.map((t=>t.identifier===e.identifier?r:t)))),this.totalCount.update((e=>(e??0)+1)),r}catch(a){this.meta.rowCreationStatus.set(o,{state:"failure",errors:[rc(a)]})}finally{this.createPromises.get(o)===i&&this.createPromises.delete(o)}return e}async createOrUpdateRecord(e,t){const n=$(this.columnsDataStore.pkColumn);let r;return!$(this.newRecords).find((t=>t.identifier===e.identifier))&&OC(e)&&this.newRecords.update((t=>{const{isAddPlaceholder:n,...r}=e;return[...t,r]})),r=n?.id&&TC(e)&&void 0===e.record[n?.id]?await this.createRecord(e):await this.updateCell(e,t),r}async addEmptyRecord(){const e=this.getNewEmptyRecord();this.newRecords.update((t=>t.concat(e))),await this.createRecord(e)}getRecordRows(){return[...$(this.savedRecords),...$(this.newRecords)]}destroy(){this.promise?.cancel(),this.promise=void 0,this.requestParamsUnsubscriber()}}class FC extends ct{constructor({tableId:t,hiddenColumns:n,shareConsumer:r}){var o;super(),e(this,"tableId",void 0),e(this,"promise",void 0),e(this,"api",void 0),e(this,"fetchedColumns",mt([])),e(this,"fetchStatus",mt(void 0)),e(this,"hiddenColumns",void 0),e(this,"columns",void 0),e(this,"pkColumn",void 0),e(this,"shareConsumer",void 0),this.tableId=t,this.shareConsumer=r,this.api=(o=`/api/db/v0/tables/${this.tableId}/columns/`,{get:e=>Wv(qv(o,e)),add:e=>Uv(o,e),remove:e=>Kv(`${o}${e}/`),update:(e,t)=>Yv(`${o}${e}/`,t)}),this.hiddenColumns=new gt(n),this.columns=ft([this.fetchedColumns,this.hiddenColumns],(([e,t])=>e.filter((e=>!t.has(e.id))))),this.pkColumn=ft(this.fetchedColumns,(e=>e.find((e=>e.primary_key)))),this.fetch()}async fetch(){try{this.fetchStatus.set({state:"processing"}),this.promise?.cancel(),this.promise=this.api.get({limit:500,...this.shareConsumer?.getQueryParams()});const e=(await this.promise).results;return this.fetchedColumns.set(e),this.fetchStatus.set({state:"success"}),await this.dispatch("columnsFetched",e),e}catch(e){return void this.fetchStatus.set({state:"failure",errors:[rc(e)]})}finally{this.promise=void 0}}async add(e){const t=await this.api.add(e);return await this.dispatch("columnAdded",t),await this.fetch(),t}async rename(e,t){await this.api.update(e,{name:t}),await this.dispatch("columnRenamed",e)}async updateDescription(e,t){await this.api.update(e,{description:t}),this.fetchedColumns.update((n=>n.map((n=>n.id===e?{...n,description:t}:n))))}async setNullabilityOfColumn(e,t){if(e.primary_key)throw new Error(`Column "${e.name}" cannot allow NULL because it is a primary key.`);await this.api.update(e.id,{nullable:t}),await this.fetch()}async patch(e,t){const n=await this.api.update(e,{...t});return await this.fetch(),await this.dispatch("columnPatched",n),n}destroy(){this.promise?.cancel(),this.promise=void 0,super.destroy()}async deleteColumn(e){await this.api.remove(e),await this.dispatch("columnDeleted",e),await this.fetch()}}class jC{constructor({page:t,size:n}={}){e(this,"page",void 0),e(this,"size",void 0),e(this,"offset",void 0),e(this,"leftBound",void 0),e(this,"rightBound",void 0),this.page=t??1,this.size=n??500,this.offset=(this.page-1)*this.size,this.leftBound=this.offset+1,this.rightBound=this.offset+this.size}recordsRequestParams(){return{limit:this.size,offset:this.offset}}terse(){return[this.page,this.size]}static fromTerse(e){return new jC({page:e[0],size:e[1]})}}class qC{static encode(e){return btoa(unescape(encodeURIComponent(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(escape(atob(t)))}}function VC(e){const t=[{column_id:[e.columnId]}];return void 0!==e.value&&t.push({literal:[e.value]}),{[e.conditionId]:t}}function BC(e){return[e.columnId,e.conditionId,e.value]}function WC(e){return{columnId:e[0],conditionId:e[1],value:e[2]}}const UC=["and","or"],YC=UC[0];class KC{constructor({combination:t,entries:n}={}){e(this,"combination",void 0),e(this,"entries",void 0),this.combination=t??YC,this.entries=n??[]}withEntries(e){return new KC({combination:this.combination,entries:[...this.entries,...e]})}withEntry(e){return this.withEntries([e])}withoutEntry(e){return new KC({combination:this.combination,entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new KC({combination:this.combination,entries:this.entries.filter((t=>!e.includes(t.columnId)))})}withCombination(e){return new KC({combination:e,entries:this.entries})}equals(e){if(this.entries.length!==e.entries.length||this.combination!==e.combination)return!1;for(let t=0;t<e.entries.length;t+=1){const n=this.entries[t],r=e.entries[t];if(n.columnId!==r.columnId||n.conditionId!==r.conditionId||n.value!==r.value)return!1}return!0}recordsRequestParams(){if(!this.entries.length)return{};const e=this.entries.map(VC);if(1===e.length)return{filter:e[0]};return{filter:"and"===this.combination?{and:e}:{or:e}}}terse(){return[this.combination,this.entries.map(BC)]}static fromTerse(e){return new KC({combination:UC.find((t=>t===e[0]))??YC,entries:e[1].map(WC)})}}class GC{constructor({entries:t}={}){e(this,"entries",void 0),this.entries=t??[]}hasColumn(e){return this.entries.some((t=>t.columnId===e))}withEntry(e){return new GC({entries:[...this.entries,e]})}withReplacedEntry(e,t){return new GC({entries:this.entries.map(((n,r)=>r===e?t:n))})}withoutEntry(e){return new GC({entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new GC({entries:this.entries.filter((t=>!e.includes(t.columnId)))})}withPreprocForColumn(e,t){return new GC({entries:this.entries.map((n=>n.columnId===e?{columnId:e,preprocFnId:t}:n))})}recordsRequestParams(){if(!this.entries.length)return{};const e={columns:[],preproc:[]};return this.entries.forEach((t=>{e.columns.push(t.columnId),e.preproc?.push(t.preprocFnId??null)})),e.preproc?.every((e=>!Ot(e)))&&(e.preproc=null),{grouping:e}}terse(){return this.entries.map((e=>e.preprocFnId?[e.columnId,e.preprocFnId]:[e.columnId]))}static fromTerse(e){return new GC({entries:e.map((e=>({columnId:e[0],preprocFnId:e[1]??void 0})))})}}const XC=["ASCENDING","DESCENDING"];function ZC(e,t){return t?{ASCENDING:$(Mg)("ascending_id"),DESCENDING:$(Mg)("descending_id")}:["string","uri"].includes(e)?{ASCENDING:"A-Z",DESCENDING:"Z-A"}:["date","datetime","time"].includes(e)?{ASCENDING:$(Mg)("oldest_to_newest_sort"),DESCENDING:$(Mg)("newest_to_oldest_sort")}:["number"].includes(e)?{ASCENDING:"0-9",DESCENDING:"9-0"}:{ASCENDING:$(Mg)("ascending"),DESCENDING:$(Mg)("descending")}}const JC=new Map([["ASCENDING","asc"],["DESCENDING","desc"]]);function QC(e){const t=JC.get(e);if(!t)throw new Error(`Invalid sort direction: ${e}`);return t}class eE extends dt{constructor(e=[]){[...e].forEach((([,e])=>{if(!function(e){return XC.includes(e)}(e))throw new Error(`Invalid sort direction: ${e}`)})),super(e)}recordsRequestParams(){const e=[...this].map((([e,t])=>({field:e,direction:QC(t)})));return e.length?{order_by:e}:{}}recordsRequestParamsIncludingGrouping(e){const t=new eE(e.entries.map((e=>[e.columnId,"ASCENDING"])));return t.withEntries(this).recordsRequestParams()}terse(){return[...this].map((([e,t])=>[e,t]))}static fromTerse(e){return new eE(e.map((([e,t])=>[e,t])))}}function tE(e){return"string"==typeof e?e.trim().length>0:null!=e}class nE extends dt{constructor(e=[]){super(e),this.valueIsValid=tE}recordsRequestParams(){return 0===this.size?{}:{search_fuzzy:[...this].map((([e,t])=>({field:e,literal:t})))}}}function rE(e){return{pagination:e?.pagination??new jC,sorting:e?.sorting??new eE,grouping:e?.grouping??new GC,filtering:e?.filtering??new KC}}function oE(e){return qC.encode(JSON.stringify(function(e){const t=rE(e);return[t.pagination.terse(),t.sorting.terse(),t.grouping.terse(),t.filtering.terse()]}(e)))}function sE(e){return t=JSON.parse(qC.decode(e)),{pagination:jC.fromTerse(t[0]),sorting:eE.fromTerse(t[1]),grouping:GC.fromTerse(t[2]),filtering:KC.fromTerse(t[3])};var t}const iE=oE(rE());class aE{constructor(t){e(this,"pagination",void 0),e(this,"sorting",void 0),e(this,"grouping",void 0),e(this,"filtering",void 0),e(this,"searchFuzzy",void 0),e(this,"cellClientSideErrors",new ht),e(this,"rowsWithClientSideErrors",void 0),e(this,"cellModificationStatus",new ht),e(this,"rowDeletionStatus",new ht),e(this,"rowCreationStatus",new ht),e(this,"rowStatus",void 0),e(this,"sheetState",void 0),e(this,"serialization",void 0),e(this,"recordsRequestParamsData",void 0);const n=rE(t);this.pagination=mt(n.pagination),this.sorting=mt(n.sorting),this.grouping=mt(n.grouping),this.filtering=mt(n.filtering),this.searchFuzzy=mt(new nE),this.rowsWithClientSideErrors=ft(this.cellClientSideErrors,(e=>new ut([...e.keys()].map(CC)))),this.rowStatus=ft([this.cellClientSideErrors,this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],(([e,t,n,r])=>function({cellClientSideErrors:e,cellModificationStatus:t,rowCreationStatus:n,rowDeletionStatus:r}){const o=[...e.keys()].map(CC),s=[...t].reduce(((e,[t,n])=>"failure"===n.state?e.with(CC(t)):e),new ut),i=new dt([...o,...s].map((e=>[e,{errorsFromWholeRowAndCells:["This row contains a cell with an error."]}]))),a=n.withEntries(r).mapValues((e=>({wholeRowState:e.state,errorsFromWholeRowAndCells:"failure"===e.state?e.errors:[]})));return i.withEntries(a,(function(e,t){return{wholeRowState:e.wholeRowState??t.wholeRowState,errorsFromWholeRowAndCells:[...e.errorsFromWholeRowAndCells??[],...t.errorsFromWholeRowAndCells??[]]}})).mapValues((function(e){return{errorsFromWholeRowAndCells:[],...e}}))}({cellClientSideErrors:e,cellModificationStatus:t,rowDeletionStatus:n,rowCreationStatus:r}))),this.sheetState=ft([this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],(([e,t,n])=>EC({cellModificationStatus:e,rowDeletionStatus:t,rowCreationStatus:n}))),this.serialization=ft([this.pagination,this.sorting,this.grouping,this.filtering],(([e,t,n,r])=>{const o=oE({pagination:e,sorting:t,grouping:n,filtering:r});return o===iE?"":o})),this.recordsRequestParamsData=ft([this.pagination,this.sorting,this.grouping,this.filtering,this.searchFuzzy],(([e,t,n,r,o])=>({pagination:e,sorting:t,grouping:n,filtering:r,searchFuzzy:o})))}clearAllStatusesAndErrorsForRows(e){this.rowCreationStatus.delete(e),this.rowDeletionStatus.delete(e);const t=new Set(e);this.cellClientSideErrors.delete([...this.cellClientSideErrors.getKeys()].filter((([e])=>t.has(CC(e))))),this.cellModificationStatus.delete([...this.cellModificationStatus.getKeys()].filter((([e])=>t.has(CC(e)))))}clearAllStatusesAndErrors(){this.rowCreationStatus.clear(),this.rowDeletionStatus.clear(),this.cellClientSideErrors.clear(),this.cellModificationStatus.clear()}static fromSerialization(e){try{return new aE(sE(e))}catch(t){return}}}class lE{constructor(t,n,r){e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"recordsData",void 0),e(this,"scrollOffset",void 0),e(this,"horizontalScrollOffset",void 0),e(this,"isTableInspectorVisible",void 0),e(this,"customizedColumnWidths",void 0),e(this,"columnPlacements",void 0),e(this,"rowWidth",void 0),e(this,"displayableRecords",void 0),this.meta=t,this.columnsDataStore=n,this.recordsData=r,this.horizontalScrollOffset=mt(0),this.scrollOffset=mt(0),this.isTableInspectorVisible=mt(!0),this.customizedColumnWidths=new ht,this.columnPlacements=ft([this.columnsDataStore.columns,this.customizedColumnWidths],(([e,t])=>{let n=0;const r=new Map;return e.forEach((({id:e})=>{const o=t.get(e)??160;r.set(e,{width:o,left:n}),n+=o})),r})),this.rowWidth=ft(this.columnPlacements,(e=>[...e.values()].reduce(((e,t)=>e+t.width),0)));const{savedRecordRowsWithGroupHeaders:o,newRecords:s}=this.recordsData;this.displayableRecords=ft([o,s],(([e,t])=>{let n=e;const r=n.filter((e=>IC(e)));return t.length>0&&(n=n.concat({identifier:"__new_help_text",isNewHelpText:!0}).concat(t)),n=n.concat({...this.recordsData.getNewEmptyRecord(),rowIndex:r.length+t.length,isAddPlaceholder:!0}),n}))}}const cE={};function uE(){return ge(cE)}function dE(e){let t;const n=e[17].default,r=f(n,e,e[16],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&y(r,n,e,e[16],t?g(n,e[16],o,null):v(e[16]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function pE(e){let t,n,r,o,s=e[0].length&&dE(e);return{c(){t=H("div"),s&&s.c(),U(t,"class","sheet svelte-ldl9os"),U(t,"style",e[4]),te(t,"has-border",e[3]),te(t,"uses-virtual-list",e[1]),te(t,"set-to-row-width",e[2])},m(i,a){L(i,t,a),s&&s.m(t,null),n=!0,r||(o=[V(t,"click",e[18]),V(t,"focusin",e[5]),V(t,"focusout",e[6])],r=!0)},p(e,[r]){e[0].length?s?(s.p(e,r),1&r&&je(s,1)):(s=dE(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe()),(!n||16&r)&&U(t,"style",e[4]),(!n||8&r)&&te(t,"has-border",e[3]),(!n||2&r)&&te(t,"uses-virtual-list",e[1]),(!n||4&r)&&te(t,"set-to-row-width",e[2])},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s&&s.d(),r=!1,c(o)}}}function $E(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=ge(Dv);let{columns:c}=t,{usesVirtualList:u=!1}=t,{restrictWidthToRowWidth:d=!1}=t,{hasBorder:p=!1}=t,{hasPaddingRight:$=!1}=t,{clipboardHandler:m}=t,{getColumnIdentifier:f}=t,{scrollOffset:h=0}=t,{horizontalScrollOffset:g=0}=t,{paddingRight:y=($?100:0)}=t,{columnWidths:v=new dt}=t;const b={getColumnWidth:function(e){const t=v.get(e);return void 0!==t?t:c.some((t=>f(t)===e))?160:0},setColumnWidth:(e,t)=>{n(9,v=v.with(e,t))},resetColumnWidth:e=>{n(9,v=v.without(e))},setHorizontalScrollOffset:e=>{n(8,g=e)},setScrollOffset:e=>{n(7,h=e)}},w={columnStyleMap:mt(r),rowWidth:mt(o),horizontalScrollOffset:mt(g),scrollOffset:mt(h),paddingRight:mt(y)};return he(cE,{stores:w,api:b}),e.$$set=e=>{"columns"in e&&n(0,c=e.columns),"usesVirtualList"in e&&n(1,u=e.usesVirtualList),"restrictWidthToRowWidth"in e&&n(2,d=e.restrictWidthToRowWidth),"hasBorder"in e&&n(3,p=e.hasBorder),"hasPaddingRight"in e&&n(10,$=e.hasPaddingRight),"clipboardHandler"in e&&n(11,m=e.clipboardHandler),"getColumnIdentifier"in e&&n(12,f=e.getColumnIdentifier),"scrollOffset"in e&&n(7,h=e.scrollOffset),"horizontalScrollOffset"in e&&n(8,g=e.horizontalScrollOffset),"paddingRight"in e&&n(13,y=e.paddingRight),"columnWidths"in e&&n(9,v=e.columnWidths),"$$scope"in e&&n(16,a=e.$$scope)},e.$$.update=()=>{12801&e.$$.dirty&&n(15,({columnStyleMap:r,rowWidth:o}=function(e,t,n,r){let o=0;const s=new Map;return e.forEach((e=>{const r=t(e),i=n.get(r)??160;s.set(r,{left:o,width:i,styleString:`width: ${i}px; left: ${o}px;`}),o+=i})),{columnStyleMap:s,rowWidth:o+r}}(c,f,v,y)),r,(n(14,o),n(0,c),n(12,f),n(9,v),n(13,y))),16384&e.$$.dirty&&w.rowWidth.set(o),32768&e.$$.dirty&&w.columnStyleMap.set(r),256&e.$$.dirty&&w.horizontalScrollOffset.set(g),128&e.$$.dirty&&w.scrollOffset.set(h),8192&e.$$.dirty&&w.paddingRight.set(y),16388&e.$$.dirty&&n(4,s=d?`width:${o}px;`:void 0)},[c,u,d,p,s,function(){l?.set(m)},function(){l?.set(void 0)},h,g,v,$,m,f,y,o,r,a,i,function(t){ve.call(this,e,t)}]}class mE extends at{constructor(e){super(),it(this,e,$E,pE,d,{columns:0,usesVirtualList:1,restrictWidthToRowWidth:2,hasBorder:3,hasPaddingRight:10,clipboardHandler:11,getColumnIdentifier:12,scrollOffset:7,horizontalScrollOffset:8,paddingRight:13,columnWidths:9})}}function fE(e){let t,n,r,o=`${e[2]}px`;const s=e[7].default,i=f(s,e,e[6],null);return{c(){t=H("div"),n=H("div"),i&&i.c(),U(n,"class","svelte-1w4nhl1"),Z(n,"width",o,!1),U(t,"data-sheet-element","header"),U(t,"class","svelte-1w4nhl1"),te(t,"inherit-font-style",e[0])},m(o,s){L(o,t,s),O(t,n),i&&i.m(n,null),e[8](t),r=!0},p(e,[a]){i&&i.p&&(!r||64&a)&&y(i,s,e,e[6],r?g(s,e[6],a,null):v(e[6]),null),4&a&&o!==(o=`${e[2]}px`)&&Z(n,"width",o,!1),(!r||1&a)&&te(t,"inherit-font-style",e[0])},i(e){r||(je(i,e),r=!0)},o(e){qe(i,e),r=!1},d(n){n&&P(t),i&&i.d(n),e[8](null)}}}function hE(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const{stores:a,api:l}=uE(),{horizontalScrollOffset:c}=a;m(e,c,(e=>n(5,r=e)));const{rowWidth:u}=a;m(e,u,(e=>n(2,o=e)));let d,{inheritFontStyle:p=!1}=t;function $(e){d&&n(1,d.scrollLeft=e,d)}return pe((()=>{$(r);const e=e=>{const{scrollLeft:t}=e.target;!function(e){r!==e&&l.setHorizontalScrollOffset(e)}(t)};return d.addEventListener("scroll",e),()=>{d.removeEventListener("scroll",e)}})),e.$$set=e=>{"inheritFontStyle"in e&&n(0,p=e.inheritFontStyle),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&$(r)},[p,d,o,c,u,r,i,s,function(e){we[e?"unshift":"push"]((()=>{d=e,n(1,d)}))}]}class gE extends at{constructor(e){super(),it(this,e,hE,fE,d,{inheritFontStyle:0})}}const yE=e=>({htmlAttributes:1&e,style:2&e}),vE=e=>({htmlAttributes:e[0],style:e[1]?.styleString});function bE(e){let t;const n=e[8].default,r=f(n,e,e[7],vE);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||131&o)&&y(r,n,e,e[7],t?g(n,e[7],o,yE):v(e[7]),vE)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function wE(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const{stores:l}=uE(),{columnStyleMap:c}=l;m(e,c,(e=>n(6,s=e)));let{columnIdentifierKey:u}=t,{isStatic:d=!1}=t,{isControlCell:p=!1}=t;return e.$$set=e=>{"columnIdentifierKey"in e&&n(3,u=e.columnIdentifierKey),"isStatic"in e&&n(4,d=e.isStatic),"isControlCell"in e&&n(5,p=e.isControlCell),"$$scope"in e&&n(7,a=e.$$scope)},e.$$.update=()=>{72&e.$$.dirty&&n(1,r=s.get(u)),48&e.$$.dirty&&n(0,o={"data-sheet-element":"cell","data-cell-static":!!d||void 0,"data-cell-control":!!p||void 0})},[o,r,c,u,d,p,s,a,i]}class _E extends at{constructor(e){super(),it(this,e,wE,bE,d,{columnIdentifierKey:3,isStatic:4,isControlCell:5})}}const xE=e=>({htmlAttributes:1&e,style:2&e}),SE=e=>({htmlAttributes:e[0],style:e[1]});function CE(e){let t;const n=e[8].default,r=f(n,e,e[7],SE);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||131&o)&&y(r,n,e,e[7],t?g(n,e[7],o,xE):v(e[7]),SE)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function EE(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const{stores:l}=uE(),{columnStyleMap:c}=l;m(e,c,(e=>n(6,s=e)));let{index:u}=t,{columnSpan:d=1}=t;let{isStatic:p=!1}=t;return e.$$set=e=>{"index"in e&&n(3,u=e.index),"columnSpan"in e&&n(4,d=e.columnSpan),"isStatic"in e&&n(5,p=e.isStatic),"$$scope"in e&&n(7,a=e.$$scope)},e.$$.update=()=>{88&e.$$.dirty&&n(1,r=function(e,t,n){const r=[...e.values()],o=r[u]?u:0,s=r[o]?.left??0;let i=r[o+n-1];return i=i??r[r.length-1],`left: ${s}px; width: ${i?i.left+i.width-s:0}px`}(s,0,d)),32&e.$$.dirty&&n(0,o={"data-sheet-element":"cell","data-cell-static":!!p||void 0})},[o,r,c,u,d,p,s,a,i]}class kE extends at{constructor(e){super(),it(this,e,EE,CE,d,{index:3,columnSpan:4,isStatic:5})}}function IE(e){let t,n,r,s;return{c(){t=H("div"),t.innerHTML='<div class="indicator svelte-19pm5e"></div>',U(t,"class","column-resizer svelte-19pm5e"),te(t,"is-resizing",e[2])},m(o,i){L(o,t,i),r||(s=[C(n=pn.call(null,t,{getStartingValue:e[4],onMove:e[5],onStart:e[6],onStop:e[7],min:e[0]})),V(t,"dblclick",e[8])],r=!0)},p(e,[r]){n&&u(n.update)&&7&r&&n.update.call(null,{getStartingValue:e[4],onMove:e[5],onStart:e[6],onStop:e[7],min:e[0]}),4&r&&te(t,"is-resizing",e[2])},i:o,o:o,d(e){e&&P(t),r=!1,c(s)}}}function TE(e,t,n){const{api:r}=uE();let{minColumnWidth:o=50}=t,{columnIdentifierKey:s}=t,i=!1;return e.$$set=e=>{"minColumnWidth"in e&&n(0,o=e.minColumnWidth),"columnIdentifierKey"in e&&n(1,s=e.columnIdentifierKey)},[o,s,i,r,()=>r.getColumnWidth(s),e=>r.setColumnWidth(s,e),()=>{n(2,i=!0)},()=>{n(2,i=!1)},()=>r.resetColumnWidth(s)]}class DE extends at{constructor(e){super(),it(this,e,TE,IE,d,{minColumnWidth:0,columnIdentifierKey:1})}}const ME=32;function OE(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function NE(){const e=function(){const e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return t=>e(t)}(),t=function(){const e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return t=>e(t)}();function n(n){const r=n.target;if(r.className?.indexOf?.("contract-trigger")<0&&r.className?.indexOf?.("expand-trigger")<0)return;const o=this;OE(this),this.__resizeRAF__&&t(this.__resizeRAF__),this.__resizeRAF__=e((()=>{(function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height})(o)&&(o.__resizeLast__.width=o.offsetWidth,o.__resizeLast__.height=o.offsetHeight,o.__resizeListeners__.forEach((e=>{e.call(o,n)})))}))}let r=!1,o="",s="animationstart",i="";const a="Webkit Moz O ms".split(" "),l="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c=document.createElement("fakeelement");if(void 0!==c.style.animationName&&(r=!0),!1===r)for(let $=0;$<a.length;$+=1)if(void 0!==c.style[a[$]+"AnimationName"]){i=a[$],o="-"+i.toLowerCase()+"-",s=l[$],r=!0;break}const u="resizeanim",d="@"+o+"keyframes "+"resizeanim { from { opacity: 0; } to { opacity: 0; } } ",p=o+"animation: 1ms "+"resizeanim; ";return{addResizeListener:function(e,t){if(!e.__resizeTriggers__){const t=e.ownerDocument,r=window.getComputedStyle(e);r&&"static"===r.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){const t=(d??"")+".resize-triggers { "+(p??"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; }.resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=e.head||e.getElementsByTagName("head")[0],r=e.createElement("style");r.id="detectElementResize",r.type="text/css",r.styleSheet?r.styleSheet.cssText=t:r.appendChild(e.createTextNode(t)),n.appendChild(r)}}(t),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=t.createElement("div")).className="resize-triggers";const o=t.createElement("div");o.className="expand-trigger",o.appendChild(t.createElement("div"));const i=t.createElement("div");i.className="contract-trigger",e.__resizeTriggers__.appendChild(o),e.__resizeTriggers__.appendChild(i),e.appendChild(e.__resizeTriggers__),OE(e),e.addEventListener("scroll",n,!0),s&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName===u&&OE(e)},e.__resizeTriggers__.addEventListener(s,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(t)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",n,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(s,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(r){}}}}}const AE=e=>({height:1&e}),LE=e=>({height:e[0]});function PE(e){let t;const n=e[6].default,r=f(n,e,e[5],LE);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||33&o)&&y(r,n,e,e[5],t?g(n,e[5],o,AE):v(e[5]),LE)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function RE(e){let t,n,r=!e[2]&&PE(e);return{c(){t=H("div"),r&&r.c(),U(t,"class",e[3])},m(o,s){L(o,t,s),r&&r.m(t,null),e[7](t),n=!0},p(e,[o]){e[2]?r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe()):r?(r.p(e,o),4&o&&je(r,1)):(r=PE(e),r.c(),je(r,1),r.m(t,null)),(!n||8&o)&&U(t,"class",e[3])},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(n){n&&P(t),r&&r.d(),e[7](null)}}}function HE(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t,{class:l="default"}=t,c=!1,u=0;function d(){if(s){const e=s.offsetHeight||0,t=window.getComputedStyle(s)||{},r=parseInt(t.paddingTop,10)||0,o=parseInt(t.paddingBottom,10)||0;u!==e-r-o&&n(0,u=e-r-o)}}return pe((()=>{let e;return o?.parentNode&&(s=o.parentNode,e=NE(),e.addResizeListener(s,d),d()),()=>{e&&s&&e.removeResizeListener(s,d)}})),e.$$set=e=>{"class"in e&&n(4,l=e.class),"$$scope"in e&&n(5,a=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=["virtual-list","resizer",l].join(" ")),1&e.$$.dirty&&n(2,c=0===u)},[u,o,c,r,l,a,i,function(e){we[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class zE extends at{constructor(e){super(),it(this,e,HE,RE,d,{class:4})}}
/*!
             * perfect-scrollbar v1.5.3
             * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
             * Licensed under MIT
             */function FE(e){return getComputedStyle(e)}function jE(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r+="px"),e.style[n]=r}return e}function qE(e){var t=document.createElement("div");return t.className=e,t}var VE="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function BE(e,t){if(!VE)throw new Error("No element matching method supported");return VE.call(e,t)}function WE(e){e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)}function UE(e,t){return Array.prototype.filter.call(e.children,(function(e){return BE(e,t)}))}var YE="ps",KE="ps__rtl",GE={thumb:function(e){return"ps__thumb-"+e},rail:function(e){return"ps__rail-"+e},consuming:"ps__child--consume"},XE={focus:"ps--focus",clicking:"ps--clicking",active:function(e){return"ps--active-"+e},scrolling:function(e){return"ps--scrolling-"+e}},ZE={x:null,y:null};function JE(e,t){var n=e.element.classList,r=XE.scrolling(t);n.contains(r)?clearTimeout(ZE[t]):n.add(r)}function QE(e,t){ZE[t]=setTimeout((function(){return e.isAlive&&e.element.classList.remove(XE.scrolling(t))}),e.settings.scrollingThreshold)}var ek=function(e){this.element=e,this.handlers={}},tk={isEmpty:{configurable:!0}};ek.prototype.bind=function(e,t){void 0===this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)},ek.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter((function(r){return!(!t||r===t)||(n.element.removeEventListener(e,r,!1),!1)}))},ek.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)},tk.isEmpty.get=function(){var e=this;return Object.keys(this.handlers).every((function(t){return 0===e.handlers[t].length}))},Object.defineProperties(ek.prototype,tk);var nk=function(){this.eventElements=[]};function rk(e){if("function"==typeof window.CustomEvent)return new CustomEvent(e);var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,void 0),t}function ok(e,t,n,r,o){var s;if(void 0===r&&(r=!0),void 0===o&&(o=!1),"top"===t)s=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==t)throw new Error("A proper axis should be provided");s=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(e,t,n,r,o){var s=n[0],i=n[1],a=n[2],l=n[3],c=n[4],u=n[5];void 0===r&&(r=!0);void 0===o&&(o=!1);var d=e.element;e.reach[l]=null,d[a]<1&&(e.reach[l]="start");d[a]>e[s]-e[i]-1&&(e.reach[l]="end");t&&(d.dispatchEvent(rk("ps-scroll-"+l)),t<0?d.dispatchEvent(rk("ps-scroll-"+c)):t>0&&d.dispatchEvent(rk("ps-scroll-"+u)),r&&function(e,t){JE(e,t),QE(e,t)}(e,l));e.reach[l]&&(t||o)&&d.dispatchEvent(rk("ps-"+l+"-reach-"+e.reach[l]))}(e,n,s,r,o)}function sk(e){return parseInt(e,10)||0}nk.prototype.eventElement=function(e){var t=this.eventElements.filter((function(t){return t.element===e}))[0];return t||(t=new ek(e),this.eventElements.push(t)),t},nk.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)},nk.prototype.unbind=function(e,t,n){var r=this.eventElement(e);r.unbind(t,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},nk.prototype.unbindAll=function(){this.eventElements.forEach((function(e){return e.unbindAll()})),this.eventElements=[]},nk.prototype.once=function(e,t,n){var r=this.eventElement(e),o=function(e){r.unbind(t,o),n(e)};r.bind(t,o)};var ik={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function ak(e){var t=e.element,n=Math.floor(t.scrollTop),r=t.getBoundingClientRect();e.containerWidth=Math.round(r.width),e.containerHeight=Math.round(r.height),e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight,t.contains(e.scrollbarXRail)||(UE(t,GE.rail("x")).forEach((function(e){return WE(e)})),t.appendChild(e.scrollbarXRail)),t.contains(e.scrollbarYRail)||(UE(t,GE.rail("y")).forEach((function(e){return WE(e)})),t.appendChild(e.scrollbarYRail)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=lk(e,sk(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=sk((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=lk(e,sk(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=sk(n*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),function(e,t){var n={width:t.railXWidth},r=Math.floor(e.scrollTop);t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft;t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-r:n.top=t.scrollbarXTop+r;jE(t.scrollbarXRail,n);var o={top:r,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?o.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth-9:o.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?o.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:o.left=t.scrollbarYLeft+e.scrollLeft;jE(t.scrollbarYRail,o),jE(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),jE(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}(t,e),e.scrollbarXActive?t.classList.add(XE.active("x")):(t.classList.remove(XE.active("x")),e.scrollbarXWidth=0,e.scrollbarXLeft=0,t.scrollLeft=!0===e.isRtl?e.contentWidth:0),e.scrollbarYActive?t.classList.add(XE.active("y")):(t.classList.remove(XE.active("y")),e.scrollbarYHeight=0,e.scrollbarYTop=0,t.scrollTop=0)}function lk(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function ck(e,t){var n=t[0],r=t[1],o=t[2],s=t[3],i=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=e.element,p=null,$=null,m=null;function f(t){t.touches&&t.touches[0]&&(t[o]=t.touches[0].pageY),d[l]=p+m*(t[o]-$),JE(e,c),ak(e),t.stopPropagation(),t.type.startsWith("touch")&&t.changedTouches.length>1&&t.preventDefault()}function h(){QE(e,c),e[u].classList.remove(XE.clicking),e.event.unbind(e.ownerDocument,"mousemove",f)}function g(t,i){p=d[l],i&&t.touches&&(t[o]=t.touches[0].pageY),$=t[o],m=(e[r]-e[n])/(e[s]-e[a]),i?e.event.bind(e.ownerDocument,"touchmove",f):(e.event.bind(e.ownerDocument,"mousemove",f),e.event.once(e.ownerDocument,"mouseup",h),t.preventDefault()),e[u].classList.add(XE.clicking),t.stopPropagation()}e.event.bind(e[i],"mousedown",(function(e){g(e)})),e.event.bind(e[i],"touchstart",(function(e){g(e,!0)}))}var uk={"click-rail":function(e){e.element,e.event.bind(e.scrollbarY,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarYRail,"mousedown",(function(t){var n=t.pageY-window.pageYOffset-e.scrollbarYRail.getBoundingClientRect().top>e.scrollbarYTop?1:-1;e.element.scrollTop+=n*e.containerHeight,ak(e),t.stopPropagation()})),e.event.bind(e.scrollbarX,"mousedown",(function(e){return e.stopPropagation()})),e.event.bind(e.scrollbarXRail,"mousedown",(function(t){var n=t.pageX-window.pageXOffset-e.scrollbarXRail.getBoundingClientRect().left>e.scrollbarXLeft?1:-1;e.element.scrollLeft+=n*e.containerWidth,ak(e),t.stopPropagation()}))},"drag-thumb":function(e){ck(e,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),ck(e,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(e){var t=e.element;e.event.bind(e.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(BE(t,":hover")||BE(e.scrollbarX,":focus")||BE(e.scrollbarY,":focus"))){var r,o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){if("IFRAME"===o.tagName)o=o.contentDocument.activeElement;else for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(BE(r=o,"input,[contenteditable]")||BE(r,"select,[contenteditable]")||BE(r,"textarea,[contenteditable]")||BE(r,"button,[contenteditable]"))return}var s=0,i=0;switch(n.which){case 37:s=n.metaKey?-e.contentWidth:n.altKey?-e.containerWidth:-30;break;case 38:i=n.metaKey?e.contentHeight:n.altKey?e.containerHeight:30;break;case 39:s=n.metaKey?e.contentWidth:n.altKey?e.containerWidth:30;break;case 40:i=n.metaKey?-e.contentHeight:n.altKey?-e.containerHeight:-30;break;case 32:i=n.shiftKey?e.containerHeight:-e.containerHeight;break;case 33:i=e.containerHeight;break;case 34:i=-e.containerHeight;break;case 36:i=e.contentHeight;break;case 35:i=-e.contentHeight;break;default:return}e.settings.suppressScrollX&&0!==s||e.settings.suppressScrollY&&0!==i||(t.scrollTop-=i,t.scrollLeft+=s,ak(e),function(n,r){var o=Math.floor(t.scrollTop);if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var s=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===s&&n<0||s>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(s,i)&&n.preventDefault())}}))},wheel:function(e){var t=e.element;function n(n){var r=function(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!=t&&n!=n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}(n),o=r[0],s=r[1];if(!function(e,n,r){if(!ik.isWebKit&&t.querySelector("select:focus"))return!0;if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(GE.consuming))return!0;var s=FE(o);if(r&&s.overflowY.match(/(scroll|auto)/)){var i=o.scrollHeight-o.clientHeight;if(i>0&&(o.scrollTop>0&&r<0||o.scrollTop<i&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(n.target,o,s)){var i=!1;e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(s?t.scrollTop-=s*e.settings.wheelSpeed:t.scrollTop+=o*e.settings.wheelSpeed,i=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(o?t.scrollLeft+=o*e.settings.wheelSpeed:t.scrollLeft-=s*e.settings.wheelSpeed,i=!0):(t.scrollTop-=s*e.settings.wheelSpeed,t.scrollLeft+=o*e.settings.wheelSpeed),ak(e),i=i||function(n,r){var o=Math.floor(t.scrollTop),s=0===t.scrollTop,i=o+t.offsetHeight===t.scrollHeight,a=0===t.scrollLeft,l=t.scrollLeft+t.offsetWidth===t.scrollWidth;return!(Math.abs(r)>Math.abs(n)?s||i:a||l)||!e.settings.wheelPropagation}(o,s),i&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)},touch:function(e){if(ik.supportsTouch||ik.supportsIePointer){var t=e.element,n={},r=0,o={},s=null;ik.supportsTouch?(e.event.bind(t,"touchstart",c),e.event.bind(t,"touchmove",u),e.event.bind(t,"touchend",d)):ik.supportsIePointer&&(window.PointerEvent?(e.event.bind(t,"pointerdown",c),e.event.bind(t,"pointermove",u),e.event.bind(t,"pointerup",d)):window.MSPointerEvent&&(e.event.bind(t,"MSPointerDown",c),e.event.bind(t,"MSPointerMove",u),e.event.bind(t,"MSPointerUp",d)))}function i(n,r){t.scrollTop-=r,t.scrollLeft-=n,ak(e)}function a(e){return e.targetTouches?e.targetTouches[0]:e}function l(e){return(!e.pointerType||"pen"!==e.pointerType||0!==e.buttons)&&(!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE))}function c(e){if(l(e)){var t=a(e);n.pageX=t.pageX,n.pageY=t.pageY,r=(new Date).getTime(),null!==s&&clearInterval(s)}}function u(s){if(l(s)){var c=a(s),u={pageX:c.pageX,pageY:c.pageY},d=u.pageX-n.pageX,p=u.pageY-n.pageY;if(function(e,n,r){if(!t.contains(e))return!1;for(var o=e;o&&o!==t;){if(o.classList.contains(GE.consuming))return!0;var s=FE(o);if(r&&s.overflowY.match(/(scroll|auto)/)){var i=o.scrollHeight-o.clientHeight;if(i>0&&(o.scrollTop>0&&r<0||o.scrollTop<i&&r>0))return!0}if(n&&s.overflowX.match(/(scroll|auto)/)){var a=o.scrollWidth-o.clientWidth;if(a>0&&(o.scrollLeft>0&&n<0||o.scrollLeft<a&&n>0))return!0}o=o.parentNode}return!1}(s.target,d,p))return;i(d,p),n=u;var $=(new Date).getTime(),m=$-r;m>0&&(o.x=d/m,o.y=p/m,r=$),function(n,r){var o=Math.floor(t.scrollTop),s=t.scrollLeft,i=Math.abs(n),a=Math.abs(r);if(a>i){if(r<0&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return 0===window.scrollY&&r>0&&ik.isChrome}else if(i>a&&(n<0&&s===e.contentWidth-e.containerWidth||n>0&&0===s))return!0;return!0}(d,p)&&s.preventDefault()}}function d(){e.settings.swipeEasing&&(clearInterval(s),s=setInterval((function(){e.isInitialized?clearInterval(s):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(s):e.element?(i(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(s):clearInterval(s)}),10))}}},dk=function(e,t){var n=this;if(void 0===t&&(t={}),"string"==typeof e&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=e,e.classList.add(YE),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},t)this.settings[r]=t[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var o,s,i=function(){return e.classList.add(XE.focus)},a=function(){return e.classList.remove(XE.focus)};this.isRtl="rtl"===FE(e).direction,!0===this.isRtl&&e.classList.add(KE),this.isNegativeScroll=(s=e.scrollLeft,e.scrollLeft=-1,o=e.scrollLeft<0,e.scrollLeft=s,o),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new nk,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=qE(GE.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=qE(GE.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",i),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var l=FE(this.scrollbarXRail);this.scrollbarXBottom=parseInt(l.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=sk(l.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=sk(l.borderLeftWidth)+sk(l.borderRightWidth),jE(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=sk(l.marginLeft)+sk(l.marginRight),jE(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=qE(GE.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=qE(GE.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",i),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=FE(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=sk(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(e){var t=FE(e);return sk(t.width)+sk(t.paddingLeft)+sk(t.paddingRight)+sk(t.borderLeftWidth)+sk(t.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=sk(c.borderTopWidth)+sk(c.borderBottomWidth),jE(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=sk(c.marginTop)+sk(c.marginBottom),jE(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(e){return uk[e](n)})),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",(function(e){return n.onScroll(e)})),ak(this)};dk.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,jE(this.scrollbarXRail,{display:"block"}),jE(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=sk(FE(this.scrollbarXRail).marginLeft)+sk(FE(this.scrollbarXRail).marginRight),this.railYMarginHeight=sk(FE(this.scrollbarYRail).marginTop)+sk(FE(this.scrollbarYRail).marginBottom),jE(this.scrollbarXRail,{display:"none"}),jE(this.scrollbarYRail,{display:"none"}),ak(this),ok(this,"top",0,!1,!0),ok(this,"left",0,!1,!0),jE(this.scrollbarXRail,{display:""}),jE(this.scrollbarYRail,{display:""}))},dk.prototype.onScroll=function(e){this.isAlive&&(ak(this),ok(this,"top",this.element.scrollTop-this.lastScrollTop),ok(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},dk.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),WE(this.scrollbarX),WE(this.scrollbarY),WE(this.scrollbarXRail),WE(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},dk.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(e){return!e.match(/^ps([-_].+|)$/)})).join(" ")};const pk="object"==typeof performance&&"function"==typeof performance.now?()=>performance.now():()=>Date.now();function $k(e){void 0!==e.id&&cancelAnimationFrame(e.id)}function mk(e,t){const{itemSize:n,instanceProps:r}=e,{itemMetadataMap:o,lastMeasuredIndex:s}=r;if(t>s){let e=0;if(s>=0){const t=o[s];e=t.offset+t.size}for(let r=s+1;r<=t;r+=1){const t=n(r);o[r]={offset:e,size:t},e+=t}r.lastMeasuredIndex=t}return o[t]}function fk(e,t,n){const{scrollOffset:r}=e;let o=t,s=n;for(;s<=o;){const t=s+Math.floor((o-s)/2),n=mk(e,t).offset;if(n===r)return t;n<r?s=t+1:n>r&&(o=t-1)}return s>0?s-1:0}function hk(e){const{instanceProps:t,scrollOffset:n}=e,{itemMetadataMap:r,lastMeasuredIndex:o}=t;return(o>0?r[o].offset:0)>=n?fk(e,o,0):function(e,t){const{itemCount:n,scrollOffset:r}=e;let o=1,s=t;for(;s<n&&mk(e,s).offset<r;)s+=o,o*=2;return fk(e,Math.min(s,n-1),Math.floor(s/2))}(e,Math.max(0,o))}function gk(e){const{isScrolling:t,scrollDirection:n,itemCount:r,overscanCount:o}=e;if(0===r)return[0,0,0,0];const s=hk(e),i=function(e,t){const{height:n,itemCount:r,scrollOffset:o}=e,s=mk(e,t),i=o+n;let a=s.offset+s.size,l=t;for(;l<r-1&&a<i;)l+=1,a+=mk(e,l).size;return l}(e,s),a=t&&"backward"!==n?1:Math.max(1,o),l=t&&"forward"!==n?1:Math.max(1,o);return[Math.max(0,s-a),Math.max(0,Math.min(r-1,i+l)),s,i]}function yk(e,t){const{instanceProps:n}=e,{styleCache:r}=n;let o;if(Object.prototype.hasOwnProperty.call(r,t))o=r[t];else{const{offset:s}=mk(e,t),{size:i}=n.itemMetadataMap[t];o={position:"absolute",left:0,top:s,height:i,width:"100%"},r[t]=o}return o}const vk={defaultItemKey:e=>e,getItemsInfo:function(e){const{itemKey:t,itemCount:n,isScrolling:r}=e,[o,s]=gk(e),i=[];if(n>0)for(let a=o;a<=s;a+=1)i.push({key:t(a),index:a,isScrolling:r,style:yk(e,a)});return{items:i,startIndex:o,stopIndex:s}},getEstimatedTotalSize:function(e){const{instanceProps:t,itemCount:n,estimatedItemSize:r}=e,{lastMeasuredIndex:o,itemMetadataMap:s}=t;let i=o,a=0;if(i>=n&&(i=n-1),i>=0){const e=s[i];a=e.offset+e.size}return a+(n-i-1)*r}},bk=e=>({items:2&e[0]}),wk=e=>({items:e[1],api:e[5]});function _k(e){let t,n,r;const o=e[25].default,s=f(o,e,e[24],wk);return{c(){t=H("div"),n=H("div"),s&&s.c(),U(n,"style",e[3]),U(t,"class",e[4]),Z(t,"height",e[0]+"px"),Z(t,"width","100%"),Z(t,"direction","ltr"),U(t,"data-sheet-body-element","list")},m(o,i){L(o,t,i),O(t,n),s&&s.m(n,null),e[26](t),r=!0},p(e,i){s&&s.p&&(!r||16777218&i[0])&&y(s,o,e,e[24],r?g(o,e[24],i,bk):v(e[24]),wk),(!r||8&i[0])&&U(n,"style",e[3]),(!r||16&i[0])&&U(t,"class",e[4]),(!r||1&i[0])&&Z(t,"height",e[0]+"px")},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(n){n&&P(t),s&&s.d(n),e[26](null)}}}const xk=30;function Sk(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const a=fe();let l,c,u,d,p,{class:$="default"}=t,{estimatedItemSize:m=xk}=t,{height:f}=t,{scrollOffset:h=0}=t,{itemCount:g}=t,{overscanCount:y=2}=t,{itemSize:v=(()=>m)}=t,{paddingBottom:b=0}=t,{horizontalScrollOffset:w=0}=t,{itemKey:_=vk.defaultItemKey}=t,{width:x}=t,S={lastMeasuredIndex:-1,itemMetadataMap:{},styleCache:{}},C=!1,E="forward",k=f,I=[],T=!1,D=!1;function M(e){c&&"number"==typeof e&&c.scrollLeft!==e&&n(2,c.scrollLeft=e,c)}pe((()=>{"number"==typeof h&&n(2,c.scrollTop=h,c),M(w),d=new dk(c,{minScrollbarLength:40,wheelPropagation:!1});const e=e=>{!function(e){const{clientHeight:t,scrollHeight:r,scrollTop:o,scrollLeft:s}=e.target;if(T=!0,w!==s&&(n(7,w=s),a("h-scroll",w)),h!==o){const e=Math.max(0,Math.min(o,r-t));n(21,C=!0),n(22,E=h<e?"forward":"backward"),n(6,h=e),a("scroll",h)}}(e)},t=e=>{!function(e){const{scrollLeft:t}=e.target;w!==t&&(n(7,w=t),a("h-scroll",w))}(e)};return a("refetch",p),c.addEventListener("ps-scroll-y",e),c.addEventListener("ps-scroll-x",t),()=>{c.removeEventListener("ps-scroll-y",e),c.removeEventListener("ps-scroll-x",t),d?.destroy()}}));const O=()=>{u=void 0,n(21,C=!1),D=!0,a("refetch",p)};function N(){void 0!==u&&$k(u),u=function(e,t){const n=pk(),r={id:void 0};return r.id=requestAnimationFrame((function o(){pk()-n>=t?e.call(void 0):r.id=requestAnimationFrame(o)})),r}(O,150)}function A(e){n(20,S={...S,lastMeasuredIndex:Math.min(S.lastMeasuredIndex,(e??0)-1),styleCache:{}})}function L(e,t){if(c&&d){const r=Math.max(e,0),o=Math.max(t,0);let s=!1;h!==r&&(n(2,c.scrollTop=r,c),s=!0),w!==o&&(n(2,c.scrollLeft=o,c),s=!0),s&&d.update()}}function P(){c&&d&&(n(2,c.scrollTop=c.scrollHeight,c),d.update())}function R(){c&&d&&(n(2,c.scrollTop=0,c),d.update())}$e((()=>{T&&(T=!1,N()),D&&(D=!1,n(20,S.styleCache={},S)),d&&d.update()})),me((()=>{void 0!==u&&$k(u)}));const H={scrollToTop:R,scrollToBottom:P,scrollToPosition:L,recalculateHeightsAfterIndex:A};return e.$$set=e=>{"class"in e&&n(8,$=e.class),"estimatedItemSize"in e&&n(9,m=e.estimatedItemSize),"height"in e&&n(0,f=e.height),"scrollOffset"in e&&n(6,h=e.scrollOffset),"itemCount"in e&&n(10,g=e.itemCount),"overscanCount"in e&&n(11,y=e.overscanCount),"itemSize"in e&&n(12,v=e.itemSize),"paddingBottom"in e&&n(13,b=e.paddingBottom),"horizontalScrollOffset"in e&&n(7,w=e.horizontalScrollOffset),"itemKey"in e&&n(14,_=e.itemKey),"width"in e&&n(15,x=e.width),"$$scope"in e&&n(24,i=e.$$scope)},e.$$.update=()=>{var t;256&e.$$.dirty[0]&&n(4,r=["virtual-list","outerElement",$].join(" ")),7364161&e.$$.dirty[0]&&(t={itemSize:v,instanceProps:S,isScrolling:C,scrollDirection:E,itemCount:g,overscanCount:y,scrollOffset:h,height:f,itemKey:_,estimatedItemSize:m},p=vk.getItemsInfo(t),n(1,I=p.items),n(23,l=vk.getEstimatedTotalSize(t)),k!==f&&(k=f,a("refetch",p))),10526720&e.$$.dirty[0]&&n(3,o=`height:${l+b}px;width:${x?`${x}px`:"100%"};`+(C?"pointer-events:none;":"")),128&e.$$.dirty[0]&&M(w)},[f,I,c,o,r,H,h,w,$,m,g,y,v,b,_,x,A,L,P,R,S,C,E,l,i,s,function(e){we[e?"unshift":"push"]((()=>{c=e,n(2,c)}))}]}class Ck extends at{constructor(e){super(),it(this,e,Sk,_k,d,{class:8,estimatedItemSize:9,height:0,scrollOffset:6,itemCount:10,overscanCount:11,itemSize:12,paddingBottom:13,horizontalScrollOffset:7,itemKey:14,width:15,recalculateHeightsAfterIndex:16,scrollToPosition:17,scrollToBottom:18,scrollToTop:19},null,[-1,-1])}get recalculateHeightsAfterIndex(){return this.$$.ctx[16]}get scrollToPosition(){return this.$$.ctx[17]}get scrollToBottom(){return this.$$.ctx[18]}get scrollToTop(){return this.$$.ctx[19]}}const Ek=e=>({items:131072&e,api:262144&e}),kk=e=>({items:e[17],api:e[18]});function Ik(e){let t;const n=e[11].default,r=f(n,e,e[14],kk);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||409600&o)&&y(r,n,e,e[14],t?g(n,e[14],o,Ek):v(e[14]),kk)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Tk(e){let t,n;return t=new Ck({props:{horizontalScrollOffset:e[4],scrollOffset:e[5],height:e[16],width:e[6],itemCount:e[0],paddingBottom:e[2],itemSize:e[1],estimatedItemSize:ME,itemKey:e[3],$$slots:{default:[Ik,({items:e,api:t})=>({17:e,18:t}),({items:e,api:t})=>(e?131072:0)|(t?262144:0)]},$$scope:{ctx:e}}}),t.$on("scroll",e[12]),t.$on("h-scroll",e[13]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.horizontalScrollOffset=e[4]),32&n&&(r.scrollOffset=e[5]),65536&n&&(r.height=e[16]),64&n&&(r.width=e[6]),1&n&&(r.itemCount=e[0]),4&n&&(r.paddingBottom=e[2]),2&n&&(r.itemSize=e[1]),8&n&&(r.itemKey=e[3]),409600&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dk(e){let t,n,r;return n=new zE({props:{$$slots:{default:[Tk,({height:e})=>({16:e}),({height:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"data-sheet-element","body"),U(t,"tabindex","-1"),U(t,"class","svelte-1sm73pn")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};82047&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Mk(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const{stores:l,api:c}=uE(),{rowWidth:u,horizontalScrollOffset:d,scrollOffset:p}=l;m(e,u,(e=>n(6,s=e))),m(e,d,(e=>n(4,r=e))),m(e,p,(e=>n(5,o=e)));let{itemCount:$}=t,{itemSize:f}=t,{paddingBottom:h=0}=t,{itemKey:g}=t;return e.$$set=e=>{"itemCount"in e&&n(0,$=e.itemCount),"itemSize"in e&&n(1,f=e.itemSize),"paddingBottom"in e&&n(2,h=e.paddingBottom),"itemKey"in e&&n(3,g=e.itemKey),"$$scope"in e&&n(14,a=e.$$scope)},[$,f,h,g,r,o,s,c,u,d,p,i,e=>{c.setScrollOffset(e.detail)},e=>{c.setHorizontalScrollOffset(e.detail)},a]}class Ok extends at{constructor(e){super(),it(this,e,Mk,Dk,d,{itemCount:0,itemSize:1,paddingBottom:2,itemKey:3})}}const Nk=e=>({styleString:1&e}),Ak=e=>({htmlAttributes:e[2],styleString:e[0]});function Lk(e){let t;const n=e[6].default,r=f(n,e,e[5],Ak);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||33&o)&&y(r,n,e,e[5],t?g(n,e[5],o,Nk):v(e[5]),Ak)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Pk(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const{stores:a}=uE(),{rowWidth:l}=a;m(e,l,(e=>n(4,o=e)));let{style:c}=t;return e.$$set=e=>{"style"in e&&n(3,c=e.style),"$$scope"in e&&n(5,i=e.$$scope)},e.$$.update=()=>{var t,s;24&e.$$.dirty&&n(0,(s=o,r=`position:${(t=c).position};left:${t.left}px;top:${t.top}px;height:${t.height}px;width:${s}px`))},[r,l,{"data-sheet-element":"row","data-sheet-section":"body"},c,o,i,s]}class Rk extends at{constructor(e){super(),it(this,e,Pk,Lk,d,{style:3})}}function Hk(e,t,n){return e&&e?.columnId===n.id&&e.rowIndex===t.rowIndex}function zk(e){const t=e?.parentElement,n=document.querySelector('[data-sheet-body-element="list"]');if(n&&t){if(t.offsetTop+t.clientHeight+40>n.scrollTop+n.clientHeight){const e=n.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom-40;n.scrollTop-=e}else t.offsetTop-30<n.scrollTop&&(n.scrollTop=t.offsetTop-30);if(e.offsetLeft+t.clientWidth+30>n.scrollLeft+n.clientWidth){const t=n.getBoundingClientRect().right-e.getBoundingClientRect().right-30;n.scrollLeft-=t}else e.offsetLeft-30<n.scrollLeft&&(n.scrollLeft=e.offsetLeft-30)}}function Fk(){zk(document.querySelector('[data-sheet-element="cell"].is-active'))}const jk="-",qk=({rowIndex:e},{id:t})=>`${e}-${t}`,Vk=(e,t,n)=>t.has(n.id)||e.valuesArray().some((e=>e.endsWith(`-${n.id}`))),Bk=(e,t,n)=>e.has(qk(t,n));function Wk(e){const t=e.split(jk).slice(1).join(jk);const n=Number(t);return Number.isNaN(n)?t:n}function Uk(e){return Number(e.split(jk)[0])}class Yk{constructor(t){e(this,"getColumns",void 0),e(this,"getColumnOrder",void 0),e(this,"getRows",void 0),e(this,"getMaxSelectionRowIndex",void 0),e(this,"activeCell",void 0),e(this,"selectionBounds",void 0),e(this,"activeCellUnsubscriber",void 0),e(this,"selectedCells",void 0),e(this,"columnsSelectedWhenTheTableIsEmpty",void 0),e(this,"freezeSelection",void 0),e(this,"selectionInProgress",void 0),this.selectedCells=new gt,this.columnsSelectedWhenTheTableIsEmpty=new gt,this.getColumns=t.getColumns,this.getColumnOrder=t.getColumnOrder,this.getRows=t.getRows,this.getMaxSelectionRowIndex=t.getMaxSelectionRowIndex,this.freezeSelection=!1,this.selectionInProgress=mt(!1),this.activeCell=mt(void 0),document.addEventListener("mouseup",(()=>{this.onEndSelection()})),this.activeCellUnsubscriber=this.activeCell.subscribe((e=>{if(e){const t=this.getRows().find((t=>t.rowIndex===e.rowIndex)),n=this.getColumns().find((t=>t.id===e.columnId));t&&n?(this.selectionBounds=void 0,this.selectMultipleCells([[t,n]])):this.resetSelection()}else this.resetSelection()}))}onStartSelection(e,t){if(this.freezeSelection)return;this.selectionInProgress.set(!0),this.selectionBounds={startColumnId:t.id,endColumnId:t.id,startRowIndex:e.rowIndex,endRowIndex:e.rowIndex};const n=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(n)}onMouseEnterCellWhileSelection(e,t){const{rowIndex:n}=e,{id:r}=t;if(!this.selectionBounds||this.freezeSelection)return;this.selectionBounds.endRowIndex=n,this.selectionBounds.endColumnId=r;const o=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(o)}onEndSelection(){if(this.selectionBounds){const e=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(e),this.selectionBounds=void 0}this.selectionInProgress.set(!1)}selectAndActivateFirstCellIfExists(){const e=this.getRows()[0],t=this.getColumns()[0];e&&t&&(this.selectMultipleCells([[e,t]]),this.activateCell(e,t))}selectAndActivateFirstDataEntryCellInLastRow(){const e=this.getRows(),t=this.getColumns();e.length>0&&t.length>1&&this.activateCell(e[e.length-1],t[1])}getIncludedCells(e){const{startRowIndex:t,endRowIndex:n,startColumnId:r,endColumnId:o}=e,s=Math.min(t,n),i=Math.max(t,n),a=this.getColumnOrder(),l=a.findIndex((e=>e===r)),c=a.findIndex((e=>e===o)),u=Math.min(l,c),d=Math.max(l,c),p=a.slice(u,d+1),$=this.getColumns(),m=[];return this.getRows().forEach((e=>{const{rowIndex:t}=e;t>=s&&t<=i&&p.forEach((t=>{const n=$.find((e=>e.id===t));n&&m.push([e,n])}))})),m}selectMultipleCells(e){const t=e.map((([e,t])=>qk(e,t)));this.selectedCells.reconstruct(t)}resetSelection(){this.selectionBounds=void 0,this.columnsSelectedWhenTheTableIsEmpty.clear(),this.selectedCells.clear()}isCompleteColumnSelected(e){return this.getRows().length?this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)||this.getRows().every((t=>Bk($(this.selectedCells),t,e))):this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)}isCompleteRowSelected(e){const t=this.getColumns();return t.length>0&&t.every((t=>Bk($(this.selectedCells),e,t)))}isAnyColumnCompletelySelected(){const e=$(this.selectedCells).valuesArray(),t=[];for(const n of e){const e=Wk(n);if(!t.includes(e)){if(this.isCompleteColumnSelected({id:e}))return!0;t.push(e)}}return!1}isAnyRowCompletelySelected(){const e=$(this.selectedCells).valuesArray(),t=[];for(const n of e){const e=Uk(n);if(!t.includes(e)){if(this.isCompleteRowSelected({rowIndex:e}))return!0;t.push(e)}}return!1}intersectSelectedRowsWithGivenColumns(e){const t=this.getSelectedUniqueRowsId(new ut(this.selectedCells.getValues())),n=[];e.forEach((e=>{t.forEach((t=>{const r=this.getRows()[t];n.push([r,e])}))})),this.selectMultipleCells(n)}toggleColumnSelection(e){const t=this.isCompleteColumnSelected(e);if(this.activateCell({rowIndex:0},e),t)return this.resetSelection(),!1;const n=this.getRows();if(0===n.length)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;const r=[];return n.forEach((t=>{r.push([t,e])})),this.resetSelection(),this.selectMultipleCells(r),!0}toggleRowSelection(e){if(this.isCompleteRowSelected(e))this.resetSelection();else{const t=[];this.getColumns().forEach((n=>{t.push([e,n])})),this.resetSelection(),this.selectMultipleCells(t)}}onColumnSelectionStart(e){if(!this.isCompleteColumnSelected(e)){this.activateCell({rowIndex:0},{id:e.id});const t=this.getRows();if(0===t.length)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;this.onStartSelection(t[0],e),this.onMouseEnterCellWhileSelection(t[t.length-1],e)}return!0}onMouseEnterColumnHeaderWhileSelection(e){const t=this.getRows();return 0===t.length?(this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0):(this.onMouseEnterCellWhileSelection(t[t.length-1],e),!0)}onRowSelectionStart(e){const t=this.getColumns(),n=this.getColumnOrder();t.length;const r=n[0],o=n[n.length-1],s=t.find((e=>e.id===r)),i=t.find((e=>e.id===o));return s&&i&&(this.activateCell(e,s),this.onStartSelection(e,s),this.onMouseEnterCellWhileSelection(e,i)),!0}onMouseEnterRowHeaderWhileSelection(e){const t=this.getColumns();t.length;const n=t[t.length-1];return this.onMouseEnterCellWhileSelection(e,n),!0}resetActiveCell(){this.activeCell.set(void 0)}activateCell(e,t){this.activeCell.set({rowIndex:e.rowIndex,columnId:t.id})}focusCell(e,t){document.querySelectorAll(`[data-column-identifier="${t.id}"]`).item(e.rowIndex)?.querySelector(".cell-wrapper")?.focus()}getAdjacentCell(e,t){const n=this.getColumnOrder(),r=(()=>{const n=function(e){switch(e){case"up":return-1;case"down":return 1;default:return 0}}(t);if(0===n)return e.rowIndex;const r=this.getMaxSelectionRowIndex(),o=e.rowIndex+n;return o<0||o>r?void 0:o})();if(void 0===r)return;const o=(()=>{const r=function(e){switch(e){case"left":return-1;case"right":return 1;default:return 0}}(t);if(0===r)return e.columnId;if(e.columnId){const t=n.findIndex((t=>t===e.columnId));return n[t+r]}return""})();return o?{rowIndex:r,columnId:o}:void 0}handleKeyEventsOnActiveCell(e){const t=function(e){const{key:t}=e,n=e.shiftKey;switch(!0){case n&&"Tab"===t:return"left";case n:return;case"ArrowUp"===t:return"up";case"ArrowDown"===t:return"down";case"ArrowLeft"===t:return"left";case"ArrowRight"===t:case"Tab"===t:return"right";default:return}}(e);if(!t)return;let n=!1;return this.activeCell.update((e=>{if(!e)return;const r=this.getAdjacentCell(e,t);return r?(n=!0,r):e})),n?"moved":void 0}activateFirstCellInSelectedColumn(){const e=$(this.activeCell);e&&this.activateCell({rowIndex:0},{id:e.columnId})}getSelectedUniqueColumnsId(e,t){const n=new Set([...[...e].map(Wk),...t]);return Array.from(n)}getSelectedUniqueRowsId(e){const t=new Set([...[...e].map(Uk)]);return Array.from(t)}destroy(){this.activeCellUnsubscriber()}}class Kk{constructor({tableId:t,shareConsumer:n}){var r;e(this,"tableId",void 0),e(this,"store",void 0),e(this,"promise",void 0),e(this,"api",void 0),e(this,"shareConsumer",void 0),e(this,"uniqueColumns",void 0),this.tableId=t,this.shareConsumer=n,this.store=mt({state:Rv.Loading,constraints:[]}),this.uniqueColumns=ft(this.store,(({constraints:e})=>new Set(e.filter((e=>"unique"===e.type&&1===e.columns.length)).map((e=>e.columns[0]))))),this.api=(r=`/api/db/v0/tables/${this.tableId}/constraints/`,{get:e=>Wv(qv(r,e)),add:e=>Uv(r,e),remove:e=>Kv(`${r}${e}/`)}),this.fetch()}set(e){this.store.set(e)}update(e){this.store.update(e)}subscribe(e){return this.store.subscribe(e)}get(){return $(this.store)}async fetch(){this.update((e=>({...e,state:Rv.Loading})));try{this.promise?.cancel(),this.promise=this.api.get({limit:500,...this.shareConsumer?.getQueryParams()});const e=await this.promise,t={state:Rv.Done,constraints:e.results};return this.set(t),t}catch(e){this.set({state:Rv.Error,error:e instanceof Error?e.message:void 0,constraints:[]})}finally{this.promise=void 0}}async add(e){const t=await this.api.add(e);return await this.fetch(),t}async remove(e){await this.api.remove(e),await this.fetch()}async setUniquenessOfColumn(e,t){if(e.primary_key){if(!t)throw new Error(`Column "${e.name}" must remain unique because it is a primary key.`);return}if(t===$(this.uniqueColumns).has(e.id))return;if(t)return void(await this.add({type:"unique",columns:[e.id]}));const{constraints:n}=$(this.store),r=function(e,t){return e.filter((function(e){return e.columns.length===t.length&&e.columns.every((e=>t.includes(e)))}))}(n,[e.id]).filter((e=>"unique"===e.type));await Promise.all(r.map((e=>this.api.remove(e.id)))),await this.fetch()}destroy(){this.promise?.cancel(),this.promise=void 0}}function Gk(e){let t,n,r,o;const s=[e[2]];function a(t){e[3](t)}function l(t){e[4](t)}let c={};for(let u=0;u<s.length;u+=1)c=i(c,s[u]);return void 0!==e[0]&&(c.value=e[0]),void 0!==e[1]&&(c.element=e[1]),t=new Yl({props:c}),we.push((()=>nt(t,"value",a))),we.push((()=>nt(t,"element",l))),t.$on("input",e[5]),t.$on("change",e[6]),t.$on("focus",e[7]),t.$on("blur",e[8]),t.$on("keydown",e[9]),t.$on("processedKeyDown",e[10]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const i=4&o?et(s,[tt(e[2])]):{};!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),!r&&2&o&&(r=!0,i.element=e[1],Te((()=>r=!1))),t.$set(i)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function Xk(e,t,n){const r=["value"];let o,s=w(t,r),{value:a=""}=t,l="0px",c="0px";function u(){if(!o)return;const e=[`${Math.min(o.scrollHeight,400)}px`,l,c];n(1,o.style.height=`calc(${e.join(" + ")})`,o)}return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,r)),"value"in e&&n(0,a=e.value)},e.$$.update=()=>{2&e.$$.dirty&&function(){if(!o)return;n(1,o.style.height="1em",o);const e=getComputedStyle(o);l=e.borderTopWidth,c=e.borderBottomWidth,u()}(),1&e.$$.dirty&&u()},[a,o,s,function(e){a=e,n(0,a)},function(e){o=e,n(1,o)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class Zk extends at{constructor(e){super(),it(this,e,Xk,Gk,d,{value:0})}}function Jk(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("span"),o&&o.c(),U(t,"class","postgres-keyword")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function Qk(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class eI extends at{constructor(e){super(),it(this,e,Qk,Jk,d,{})}}function tI(e){let t;return{c(){t=F("DEFAULT")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function nI(e){let t,n;return t=new eI({props:{$$slots:{default:[tI]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class rI extends at{constructor(e){super(),it(this,e,null,nI,d,{})}}function oI(e){let t;return{c(){t=F("NULL")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function sI(e){let t,n;return t=new eI({props:{$$slots:{default:[oI]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}class iI extends at{constructor(e){super(),it(this,e,null,sI,d,{})}}function aI(e){let t;const n=e[3].default,r=f(n,e,e[2],null),o=r||function(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},d(e){e&&P(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||4&s)&&y(r,n,e,e[2],t?g(n,e[2],s,null):v(e[2]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){qe(o,e),t=!1},d(e){o&&o.d(e)}}}function lI(e){let t,n;return t=new Yp({props:{matchParts:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.matchParts=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cI(e){let t,n;return t=new rI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uI(e){let t,n;return t=new iI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dI(e){let t,n,r,o;const s=[uI,cI,lI,aI],i=[];function a(e,t){return null===e[0]?0:void 0===e[0]?1:e[1]?2:3}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function pI(e,t,n){let{$$slots:r={},$$scope:o}=t,{value:s}=t,{matchParts:i}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"matchParts"in e&&n(1,i=e.matchParts),"$$scope"in e&&n(2,o=e.$$scope)},[s,i,o,r]}class $I extends at{constructor(e){super(),it(this,e,pI,dI,d,{value:0,matchParts:1})}}function mI(e){let t,n,r;return{c(){t=H("div"),U(t,"class",n=x(`cell-background ${e[2]}`)+" svelte-hwy11c"),U(t,"style",r=`background-color: ${e[1]};`)},m(e,n){L(e,t,n)},p(e,o){4&o&&n!==(n=x(`cell-background ${e[2]}`)+" svelte-hwy11c")&&U(t,"class",n),2&o&&r!==(r=`background-color: ${e[1]};`)&&U(t,"style",r)},d(e){e&&P(t)}}}function fI(e){let t,n=e[0]&&mI(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,[r]){e[0]?n?n.p(e,r):(n=mI(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:o,o:o,d(e){n&&n.d(e),e&&P(t)}}}function hI(e,t,n){let{when:r=!0}=t,{color:o}=t,{class:s=""}=t;return e.$$set=e=>{"when"in e&&n(0,r=e.when),"color"in e&&n(1,o=e.color),"class"in e&&n(2,s=e.class)},[r,o,s]}class gI extends at{constructor(e){super(),it(this,e,hI,fI,d,{when:0,color:1,class:2})}}function yI(e){let t,n,r,o;return t=new gI({props:{color:"rgba(14, 101, 235, 0.1)",when:e[2]}}),r=new gI({props:{color:"var(--cell-background-color)",when:"noMatch"!==e[7]}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.when=e[2]),t.$set(o);const s={};128&n&&(s.when="noMatch"!==e[7]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function vI(e){let t,n,r,o,s,a,l="edit"!==e[4]&&yI(e);const u=e[16].default,d=f(u,e,e[15],null);let p=[{class:"cell-wrapper"},{tabindex:r=-1},e[14]],$={};for(let c=0;c<p.length;c+=1)$=i($,p[c]);return{c(){t=H("div"),l&&l.c(),n=j(),d&&d.c(),Y(t,$),te(t,"is-active",e[1]),te(t,"is-focused",e[10]),te(t,"disabled",e[3]),te(t,"is-edit-mode","edit"===e[4]),te(t,"truncate",e[5]&&!e[8]),te(t,"h-align-right","right"===e[9]&&!e[8]),te(t,"has-padding",e[6]&&!e[8]),te(t,"exact-match","exactMatch"===e[7]),te(t,"substring-match","substringMatch"===e[7]),te(t,"no-match","noMatch"===e[7]),te(t,"svelte-89fo8v",!0)},m(r,i){L(r,t,i),l&&l.m(t,null),O(t,n),d&&d.m(t,null),e[22](t),o=!0,s||(a=[V(t,"click",e[17]),V(t,"dblclick",e[18]),V(t,"mousedown",e[19]),V(t,"mouseenter",e[20]),V(t,"keydown",e[21]),V(t,"copy",e[13]),V(t,"focus",e[11]),V(t,"blur",e[12])],s=!0)},p(e,[r]){"edit"!==e[4]?l?(l.p(e,r),16&r&&je(l,1)):(l=yI(e),l.c(),je(l,1),l.m(t,n)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()),d&&d.p&&(!o||32768&r)&&y(d,u,e,e[15],o?g(u,e[15],r,null):v(e[15]),null),Y(t,$=et(p,[{class:"cell-wrapper"},{tabindex:-1},16384&r&&e[14]])),te(t,"is-active",e[1]),te(t,"is-focused",e[10]),te(t,"disabled",e[3]),te(t,"is-edit-mode","edit"===e[4]),te(t,"truncate",e[5]&&!e[8]),te(t,"h-align-right","right"===e[9]&&!e[8]),te(t,"has-padding",e[6]&&!e[8]),te(t,"exact-match","exactMatch"===e[7]),te(t,"substring-match","substringMatch"===e[7]),te(t,"no-match","noMatch"===e[7]),te(t,"svelte-89fo8v",!0)},i(e){o||(je(l),je(d,e),o=!0)},o(e){qe(l),qe(d,e),o=!1},d(n){n&&P(t),l&&l.d(),d&&d.d(n),e[22](null),s=!1,c(a)}}}function bI(e,t,n){const r=["element","isActive","isSelectedInRange","disabled","mode","multiLineTruncate","hasPadding","valueComparisonOutcome","isIndependentOfSheet","horizontalAlignment"];let o=w(t,r),{$$slots:s={},$$scope:a}=t,{element:l}=t,{isActive:c=!1}=t,{isSelectedInRange:u=!1}=t,{disabled:d=!1}=t,{mode:p="default"}=t,{multiLineTruncate:$=!1}=t,{hasPadding:m=!0}=t,{valueComparisonOutcome:f}=t,{isIndependentOfSheet:h=!1}=t,{horizontalAlignment:g="left"}=t,y=!1;async function v(e,t){await ke(),function(e,t){return!!e&&"edit"!==t&&!!l&&!l.contains(document.activeElement)}(e,t)&&l?.focus()}return e.$$set=e=>{t=i(i({},t),b(e)),n(14,o=w(t,r)),"element"in e&&n(0,l=e.element),"isActive"in e&&n(1,c=e.isActive),"isSelectedInRange"in e&&n(2,u=e.isSelectedInRange),"disabled"in e&&n(3,d=e.disabled),"mode"in e&&n(4,p=e.mode),"multiLineTruncate"in e&&n(5,$=e.multiLineTruncate),"hasPadding"in e&&n(6,m=e.hasPadding),"valueComparisonOutcome"in e&&n(7,f=e.valueComparisonOutcome),"isIndependentOfSheet"in e&&n(8,h=e.isIndependentOfSheet),"horizontalAlignment"in e&&n(9,g=e.horizontalAlignment),"$$scope"in e&&n(15,a=e.$$scope)},e.$$.update=()=>{18&e.$$.dirty&&v(c,p)},[l,c,u,d,p,$,m,f,h,g,y,function(){n(10,y=!0)},function(){n(10,y=!1)},function(e){e.target!==l&&e.stopPropagation()},o,a,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class wI extends at{constructor(e){super(),it(this,e,bI,vI,d,{element:0,isActive:1,isSelectedInRange:2,disabled:3,mode:4,multiLineTruncate:5,hasPadding:6,valueComparisonOutcome:7,isIndependentOfSheet:8,horizontalAlignment:9})}}const _I=e=>({value:1&e,formatValue:32&e,matchParts:512&e}),xI=e=>({value:e[0],formatValue:e[5],matchParts:e[9],handleInputBlur:e[17],handleInputKeydown:e[16]}),SI=e=>({}),CI=e=>({handleInputBlur:e[17],handleInputKeydown:e[16]});function EI(e){let t,n,r;return n=new nc({props:{lines:e[1]&&e[4]?2:1,passthrough:!e[8],$$slots:{default:[II]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","content svelte-kb88kg"),te(t,"nowrap",!e[1]&&!e[7]),te(t,"truncate",e[1]&&e[4]&&!e[7])},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,o){const s={};18&o&&(s.lines=e[1]&&e[4]?2:1),256&o&&(s.passthrough=!e[8]),16785953&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||130&o)&&te(t,"nowrap",!e[1]&&!e[7]),(!r||146&o)&&te(t,"truncate",e[1]&&e[4]&&!e[7])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function kI(e){let t;const n=e[21].default,r=f(n,e,e[24],CI);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777216&o)&&y(r,n,e,e[24],t?g(n,e[24],o,SI):v(e[24]),CI)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function II(e){let t;const n=e[21].content,r=f(n,e,e[24],xI),o=r||function(e){let t,n;return t=new $I({props:{value:e[13],matchParts:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n&&(r.value=e[13]),512&n&&(r.matchParts=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||16777761&s)&&y(r,n,e,e[24],t?g(n,e[24],s,_I):v(e[24]),xI):o&&o.p&&(!t||8704&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){qe(o,e),t=!1},d(e){o&&o.d(e)}}}function TI(e){let t,n,r,o;const s=[kI,EI],i=[];function a(e,t){return e[11]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function DI(e){let t,n,r;function o(t){e[22](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],mode:e[11]?"edit":"default",multiLineTruncate:e[4],horizontalAlignment:e[6],valueComparisonOutcome:e[12],isIndependentOfSheet:e[7],$$slots:{default:[TI]},$$scope:{ctx:e}};return void 0!==e[10]&&(s.element=e[10]),t=new wI({props:s}),we.push((()=>nt(t,"element",o))),t.$on("dblclick",e[14]),t.$on("keydown",e[15]),t.$on("mousedown",e[18]),t.$on("mouseenter",e[23]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),2048&r&&(o.mode=e[11]?"edit":"default"),16&r&&(o.multiLineTruncate=e[4]),64&r&&(o.horizontalAlignment=e[6]),4096&r&&(o.valueComparisonOutcome=e[12]),128&r&&(o.isIndependentOfSheet=e[7]),16788403&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1024&r&&(n=!0,o.element=e[10],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function MI(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t;const l=fe();let c,u,{isActive:d}=t,{isSelectedInRange:p}=t,{value:$}=t,{disabled:m}=t,{multiLineTruncate:f=!1}=t,{formatValue:h}=t,{horizontalAlignment:g}=t,{searchValue:y}=t,{isIndependentOfSheet:v=!1}=t,{showTruncationPopover:b=!1}=t,{highlightSubstringMatches:w=!0}=t,_=!1;function x(){m||n(11,_=!0)}function S(){n(11,_=!1)}function C(){n(0,$=u)}function E(){u=$}function k(){$!==u&&(E(),l("update",{value:$}))}return pe(E),e.$$set=e=>{"isActive"in e&&n(1,d=e.isActive),"isSelectedInRange"in e&&n(2,p=e.isSelectedInRange),"value"in e&&n(0,$=e.value),"disabled"in e&&n(3,m=e.disabled),"multiLineTruncate"in e&&n(4,f=e.multiLineTruncate),"formatValue"in e&&n(5,h=e.formatValue),"horizontalAlignment"in e&&n(6,g=e.horizontalAlignment),"searchValue"in e&&n(19,y=e.searchValue),"isIndependentOfSheet"in e&&n(7,v=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(8,b=e.showTruncationPopover),"highlightSubstringMatches"in e&&n(20,w=e.highlightSubstringMatches),"$$scope"in e&&n(24,a=e.$$scope)},e.$$.update=()=>{33&e.$$.dirty&&n(13,r=h?.($)??$),1572865&e.$$.dirty&&n(9,o=(()=>{if(w&&"string"==typeof $&&"string"==typeof y)return Ap($,y)})()),524833&e.$$.dirty&&n(12,s=(()=>{if(o)return function(e){if(0!==e.length)return 1===e.length?Lp(e[0].isMatch):"substringMatch"}(o);return Pp(y,$,(e=>null==e?"":h?.(e)??""))})())},[$,d,p,m,f,h,g,v,b,o,c,_,s,r,x,function(e){switch(e.key){case"Enter":_?S():x(),e.preventDefault();break;case"Escape":C(),S();break;case"Tab":S(),l("movementKeyDown",{originalEvent:e,key:e.key});break;case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":_||l("movementKeyDown",{originalEvent:e,key:e.key})}},function(e){switch(e.key){case"Escape":C();break;case"Enter":case"Tab":k()}},function(){k(),S()},function(){d||l("activate")},y,w,i,function(e){c=e,n(10,c)},function(t){ve.call(this,e,t)},a]}class OI extends at{constructor(e){super(),it(this,e,MI,DI,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,multiLineTruncate:4,formatValue:5,horizontalAlignment:6,searchValue:19,isIndependentOfSheet:7,showTruncationPopover:8,highlightSubstringMatches:20})}}function NI(e){let t,n,r;function o(t){e[8](t)}let s={focusOnMount:!0,maxlength:Nt(e[7]),disabled:e[3],addNewLineOnEnterKeyCombinations:!0};return void 0!==e[0]&&(s.value=e[0]),t=new Yl({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){u(e[15])&&e[15].apply(this,arguments)})),t.$on("processedKeyDown",(function(...t){return e[9](e[16],...t)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};128&o&&(s.maxlength=Nt(e[7])),8&o&&(s.disabled=e[3]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function AI(e){let t,n,r;function o(t){e[10](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[5],showTruncationPopover:e[6],multiLineTruncate:!0,$$slots:{default:[NI,({handleInputBlur:e,handleInputKeydown:t})=>({15:e,16:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?32768:0)|(t?65536:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[11]),t.$on("activate",e[12]),t.$on("mouseenter",e[13]),t.$on("update",e[14]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),64&r&&(o.showTruncationPopover=e[6]),229513&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function LI(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{isIndependentOfSheet:l}=t,{showTruncationPopover:c=!1}=t,{length:u}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"isIndependentOfSheet"in e&&n(5,l=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(6,c=e.showTruncationPopover),"length"in e&&n(7,u=e.length)},[s,r,o,i,a,l,c,u,function(e){s=e,n(0,s)},(e,t)=>function(e,t){const{type:n,originalEvent:r}=e;"newlineWithEnterKeyCombination"===n?r.stopPropagation():t(r)}(t.detail,e),function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class PI extends at{constructor(e){super(),it(this,e,LI,AI,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}function RI(e){let t,n,r;function o(t){e[8](t)}let s={focusOnMount:!0,maxlength:Nt(e[7]),disabled:e[3]};return void 0!==e[0]&&(s.value=e[0]),t=new qi({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){u(e[14])&&e[14].apply(this,arguments)})),t.$on("keydown",(function(){u(e[15])&&e[15].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};128&o&&(s.maxlength=Nt(e[7])),8&o&&(s.disabled=e[3]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function HI(e){let t,n,r;function o(t){e[9](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[5],showTruncationPopover:e[6],$$slots:{default:[RI,({handleInputBlur:e,handleInputKeydown:t})=>({14:e,15:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?16384:0)|(t?32768:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[10]),t.$on("activate",e[11]),t.$on("mouseenter",e[12]),t.$on("update",e[13]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),64&r&&(o.showTruncationPopover=e[6]),114825&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function zI(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{isIndependentOfSheet:l}=t,{showTruncationPopover:c=!1}=t,{length:u}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"isIndependentOfSheet"in e&&n(5,l=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(6,c=e.showTruncationPopover),"length"in e&&n(7,u=e.length)},[s,r,o,i,a,l,c,u,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class FI extends at{constructor(e){super(),it(this,e,zI,HI,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}const jI={initialInputValue:"",get:(e,t)=>{const n=e.type_options??{};return{component:t?.multiLine?PI:FI,props:n}},getInput:(e,t)=>({component:t?.multiLine?Zk:qi,props:{maxlength:Nt(e.type_options?.length)}}),getDisplayFormatter:()=>String};function qI(e){let t,n,r;function o(t){e[13](t)}let s={allowIndeterminate:!0,disabled:e[3]||e[4]};return void 0!==e[0]&&(s.checked=e[0]),t=new go({props:s}),we.push((()=>nt(t,"checked",o))),t.$on("change",e[8]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};24&r&&(o.disabled=e[3]||e[4]),!n&&1&r&&(n=!0,o.checked=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function VI(e){let t,n;return t=new rI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BI(e){let t,n,r,o;const s=[VI,qI],i=[];function a(e,t){return void 0===e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function WI(e){let t,n,r;function o(t){e[14](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[5],valueComparisonOutcome:e[7],$$slots:{default:[BI]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.element=e[6]),t=new wI({props:s}),we.push((()=>nt(t,"element",o))),t.$on("mouseenter",e[15]),t.$on("keydown",e[9]),t.$on("click",e[10]),t.$on("mousedown",e[11]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),32&r&&(o.isIndependentOfSheet=e[5]),128&r&&(o.valueComparisonOutcome=e[7]),262169&r&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r&&(n=!0,o.element=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function UI(e,t,n){let r;const o=fe();let s,{isActive:i}=t,{isSelectedInRange:a}=t,{value:l}=t,{disabled:c}=t,{searchValue:u}=t,{isProcessing:d}=t,{isIndependentOfSheet:p}=t,$=!1;function m(){o("update",{value:l})}return e.$$set=e=>{"isActive"in e&&n(1,i=e.isActive),"isSelectedInRange"in e&&n(2,a=e.isSelectedInRange),"value"in e&&n(0,l=e.value),"disabled"in e&&n(3,c=e.disabled),"searchValue"in e&&n(12,u=e.searchValue),"isProcessing"in e&&n(4,d=e.isProcessing),"isIndependentOfSheet"in e&&n(5,p=e.isIndependentOfSheet)},e.$$.update=()=>{4097&e.$$.dirty&&n(7,r=Pp(u,l))},[l,i,a,c,d,p,s,r,m,function(e){switch(e.key){case"Enter":i&&(n(0,l=!l),m());break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":o("movementKeyDown",{originalEvent:e,key:e.key})}},function(e){c||!i||e.target!==s||$||(n(0,l=!l),m()),$=!1,s?.focus()},function(){i||($=!0,o("activate"))},u,function(e){l=e,n(0,l)},function(e){s=e,n(6,s)},function(t){ve.call(this,e,t)}]}class YI extends at{constructor(e){super(),it(this,e,UI,WI,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:12,isProcessing:4,isIndependentOfSheet:5})}}function KI(e){let t,n=e[6](e[0]??void 0)+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){65&r&&n!==(n=e[6](e[0]??void 0)+"")&&G(t,n)},d(e){e&&P(t)}}}function GI(e){let t,n,r;const o=[gr];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","icon svelte-j6pzvy")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt(gr)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function XI(e){let t,n,r,o,s;r=new $I({props:{value:e[0],$$slots:{default:[KI]},$$scope:{ctx:e}}});let i=e[1]&&GI();return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),i&&i.c(),U(n,"class","value svelte-j6pzvy"),te(n,"active",e[1]),U(t,"class","cell svelte-j6pzvy")},m(e,a){L(e,t,a),O(t,n),ot(r,n,null),O(t,o),i&&i.m(t,null),s=!0},p(e,o){const a={};1&o&&(a.value=e[0]),16777281&o&&(a.$$scope={dirty:o,ctx:e}),r.$set(a),(!s||2&o)&&te(n,"active",e[1]),e[1]?i?(i.p(e,o),2&o&&je(i,1)):(i=GI(),i.c(),je(i,1),i.m(t,null)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){s||(je(r.$$.fragment,e),je(i),s=!0)},o(e){qe(r.$$.fragment,e),qe(i),s=!1},d(e){e&&P(t),st(r),i&&i.d()}}}function ZI(e){let t,n;return t=new rl({props:{id:e[8]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JI(e){let t,n,r,o,s;function i(t){e[14](t)}let a={"aria-controls":e[8],"aria-haspopup":"listbox",isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[4],$$slots:{default:[XI]},$$scope:{ctx:e}};return void 0!==e[7]&&(a.element=e[7]),t=new wI({props:a}),we.push((()=>nt(t,"element",i))),t.$on("mousedown",e[10]),t.$on("mouseenter",e[15]),t.$on("click",(function(){return e[16](e[22])})),t.$on("keydown",(function(...t){return e[17](e[22],e[23],...t)})),o=new yi({props:{trigger:e[7],isOpen:e[23],class:"single-select-cell-dropdown retain-active-cell",$$slots:{default:[ZI]},$$scope:{ctx:e}}}),o.$on("close",(function(){return e[18](e[22])})),{c(){rt(t.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,n){ot(t,e,n),L(e,r,n),ot(o,e,n),s=!0},p(r,s){e=r;const i={};2&s&&(i.isActive=e[1]),4&s&&(i.isSelectedInRange=e[2]),8&s&&(i.disabled=e[3]),16&s&&(i.isIndependentOfSheet=e[4]),16777283&s&&(i.$$scope={dirty:s,ctx:e}),!n&&128&s&&(n=!0,i.element=e[7],Te((()=>n=!1))),t.$set(i);const a={};128&s&&(a.trigger=e[7]),8388608&s&&(a.isOpen=e[23]),16777216&s&&(a.$$scope={dirty:s,ctx:e}),o.$set(a)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(r),st(o,e)}}}function QI(e){let t,n;return t=new Xa({props:{options:e[5],getLabel:e[6],disabled:e[3],selectionType:"single",value:Ot(e[0])?[e[0]]:[],$$slots:{default:[JI,({api:e,isOpen:t})=>({22:e,23:t}),({api:e,isOpen:t})=>(e?4194304:0)|(t?8388608:0)]},$$scope:{ctx:e}}}),t.$on("change",e[19]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.options=e[5]),64&n&&(r.getLabel=e[6]),8&n&&(r.disabled=e[3]),1&n&&(r.value=Ot(e[0])?[e[0]]:[]),29360351&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eT(e,t,n){const r=fe(),o=kt();let s,{isActive:i}=t,{isSelectedInRange:a}=t,{value:l}=t,{disabled:c}=t,{isIndependentOfSheet:u}=t,{options:d=[]}=t,{getLabel:p=(e=>Pt(e))}=t,$=!1;function m(e){i&&!$&&e.toggle(),$=!1}function f(e,t,n){if(["Tab","ArrowLeft","ArrowRight"].includes(e.key))return r("movementKeyDown",{originalEvent:e,key:e.key}),void t.close();if(n)t.handleKeyDown(e);else switch(e.key){case"Enter":c||t.handleKeyDown(e);break;case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}}function h(e){n(0,[l]=e,l),r("update",{value:l})}function g(e){e.close(),s?.focus()}return e.$$set=e=>{"isActive"in e&&n(1,i=e.isActive),"isSelectedInRange"in e&&n(2,a=e.isSelectedInRange),"value"in e&&n(0,l=e.value),"disabled"in e&&n(3,c=e.disabled),"isIndependentOfSheet"in e&&n(4,u=e.isIndependentOfSheet),"options"in e&&n(5,d=e.options),"getLabel"in e&&n(6,p=e.getLabel)},[l,i,a,c,u,d,p,s,o,m,function(){i||($=!0,r("activate"))},f,h,g,function(e){s=e,n(7,s)},function(t){ve.call(this,e,t)},e=>m(e),(e,t,n)=>f(n,e,t),e=>g(e),e=>h(e.detail)]}class tT extends at{constructor(e){super(),it(this,e,eT,QI,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,options:5,getLabel:6})}}function nT(e){const t=e?.custom_labels??void 0;return[t?.TRUE??"true",t?.FALSE??"false"]}function rT(e,t){return Ot(t)?t?e[0]:e[1]:""}function oT(e){const t=nT(e.display_options);return{options:[null,!0,!1],getLabel:e=>rT(t,e)}}const sT={initialInputValue:null,get:e=>{const t=e.display_options??void 0;return t&&"dropdown"===t.input?{component:tT,props:oT(e)}:{component:YI,props:{}}},getInput:e=>({component:gu,props:oT(e)}),getDisplayFormatter(e){const t=nT(e.display_options);return e=>null==e||"boolean"==typeof e?rT(t,e):""}};function iT(e){let t,n;const r=[e[3],{value:e[1]},{cssVariables:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new La({props:o}),t.$on("blur",e[4]),t.$on("focus",e[5]),t.$on("keydown",e[6]),t.$on("artificialInput",e[7]),t.$on("artificialInput",e[8]),t.$on("artificialChange",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=14&n?et(r,[8&n&&tt(e[3]),2&n&&{value:e[1]},4&n&&{cssVariables:e[2]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aT(e,t,n){let r;const o=["value"];let s=w(t,o),{value:a}=t,l=null;function c(e){n(1,l=function(e){return null==e?null:String(e)}(e))}return e.$$set=e=>{t=i(i({},t),b(e)),n(3,s=w(t,o)),"value"in e&&n(0,a=e.value)},e.$$.update=()=>{1&e.$$.dirty&&c(a),n(2,r={"--input-element-text-align":"right",...s.cssVariables||{}})},[a,l,r,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},({detail:e})=>{n(0,a=e)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class lT extends at{constructor(e){super(),it(this,e,aT,iT,d,{value:0})}}function cT(e){let t,n,r;const o=[{focusOnMount:!0},{disabled:e[3]},e[5]];function s(t){e[10](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new lT({props:a}),we.push((()=>nt(t,"value",s))),t.$on("blur",(function(){u(e[16])&&e[16].apply(this,arguments)})),t.$on("keydown",(function(){u(e[17])&&e[17].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,s){e=r;const i=40&s?et(o,[o[0],8&s&&{disabled:e[3]},32&s&&tt(e[5])]):{};!n&&1&s&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function uT(e){let t,n,r;function o(t){e[11](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[7],showTruncationPopover:e[8],searchValue:e[4],formatValue:e[9],horizontalAlignment:e[6],$$slots:{default:[cT,({handleInputBlur:e,handleInputKeydown:t})=>({16:e,17:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[12]),t.$on("activate",e[13]),t.$on("mouseenter",e[14]),t.$on("update",e[15]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),128&r&&(o.isIndependentOfSheet=e[7]),256&r&&(o.showTruncationPopover=e[8]),16&r&&(o.searchValue=e[4]),512&r&&(o.formatValue=e[9]),64&r&&(o.horizontalAlignment=e[6]),458793&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function dT(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{formatterOptions:l}=t,{horizontalAlignment:c="right"}=t,{isIndependentOfSheet:u}=t,{showTruncationPopover:d=!1}=t,{formatForDisplay:p}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"formatterOptions"in e&&n(5,l=e.formatterOptions),"horizontalAlignment"in e&&n(6,c=e.horizontalAlignment),"isIndependentOfSheet"in e&&n(7,u=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(8,d=e.showTruncationPopover),"formatForDisplay"in e&&n(9,p=e.formatForDisplay)},[s,r,o,i,a,l,c,u,d,p,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class pT extends at{constructor(e){super(),it(this,e,dT,uT,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,horizontalAlignment:6,isIndependentOfSheet:7,showTruncationPopover:8,formatForDisplay:9})}}const $T=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function mT(e){return"true"===e}function fT(e,t){const n=e.display_options,r=n?.number_format??null,o=(r&&$T.get(r))??void 0,s=mT(n?.use_grouping??"false"),i=function(e,t){return"scale-based"===t?0!==(e.type_options?.scale??1/0):"never"!==t}(e,t?.floatAllowanceStrategy);return{locale:o,allowFloat:i,allowNegative:!0,useGrouping:s,minimumFractionDigits:n?.minimum_fraction_digits??void 0}}function hT(e,t){const n={...fT(e,t),maximumFractionDigits:e.display_options?.maximum_fraction_digits??void 0},r=new Ia(n);return{formatterOptions:n,formatForDisplay:e=>Ot(e)?r.format(String(e)):e}}const gT={get:(e,t)=>({component:pT,props:hT(e,t)}),getInput:(e,t)=>({component:lT,props:fT(e,t)}),getDisplayFormatter:(e,t)=>n=>hT(e,t).formatForDisplay(String(n))};function yT(e){let t,n;const r=[e[3],{value:e[1]},{cssVariables:e[2]}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new La({props:o}),t.$on("blur",e[4]),t.$on("focus",e[5]),t.$on("keydown",e[6]),t.$on("artificialInput",e[7]),t.$on("artificialInput",e[8]),t.$on("artificialChange",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=14&n?et(r,[8&n&&tt(e[3]),2&n&&{value:e[1]},4&n&&{cssVariables:e[2]}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vT(e,t,n){let r;const o=["value"];let s=w(t,o),{value:a}=t,l=null;function c(e){n(1,l=function(e){return null==e?null:String(e)}(e))}return e.$$set=e=>{t=i(i({},t),b(e)),n(3,s=w(t,o)),"value"in e&&n(0,a=e.value)},e.$$.update=()=>{1&e.$$.dirty&&c(a),n(2,r={"--input-element-text-align":"right",...s.cssVariables||{}})},[a,l,r,s,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},({detail:e})=>{n(0,a=e)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class bT extends at{constructor(e){super(),it(this,e,vT,yT,d,{value:0})}}function wT(e){let t,n,r;const o=[{focusOnMount:!0},{disabled:e[3]},e[5]];function s(t){e[9](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new bT({props:a}),we.push((()=>nt(t,"value",s))),t.$on("blur",(function(){u(e[15])&&e[15].apply(this,arguments)})),t.$on("keydown",(function(){u(e[16])&&e[16].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,s){e=r;const i=40&s?et(o,[o[0],8&s&&{disabled:e[3]},32&s&&tt(e[5])]):{};!n&&1&s&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function _T(e){let t,n,r;function o(t){e[10](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[7],showTruncationPopover:e[8],formatValue:e[6],horizontalAlignment:"right",$$slots:{default:[wT,({handleInputBlur:e,handleInputKeydown:t})=>({15:e,16:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?32768:0)|(t?65536:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[11]),t.$on("mouseenter",e[12]),t.$on("activate",e[13]),t.$on("update",e[14]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),128&r&&(o.isIndependentOfSheet=e[7]),256&r&&(o.showTruncationPopover=e[8]),64&r&&(o.formatValue=e[6]),229417&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function xT(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{formatterOptions:l}=t,{formatForDisplay:c}=t,{isIndependentOfSheet:u}=t,{showTruncationPopover:d=!1}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"formatterOptions"in e&&n(5,l=e.formatterOptions),"formatForDisplay"in e&&n(6,c=e.formatForDisplay),"isIndependentOfSheet"in e&&n(7,u=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(8,d=e.showTruncationPopover)},[s,r,o,i,a,l,c,u,d,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class ST extends at{constructor(e){super(),it(this,e,xT,_T,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,formatForDisplay:6,isIndependentOfSheet:7,showTruncationPopover:8})}}const CT=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function ET(e){return 0===(e.type_options?.scale??1/0)}function kT(e){const t=e.display_options,n=t?.number_format??null;return{locale:(n&&CT.get(n))??void 0,useGrouping:mT(t?.use_grouping??"true"),allowFloat:!ET(e),allowNegative:!0,minimumFractionDigits:t?.minimum_fraction_digits??void 0,maximumFractionDigits:t?.maximum_fraction_digits??void 0,currencySymbol:t?.currency_symbol??"$",currencySymbolLocation:t?.currency_symbol_location??"after-minus"}}function IT(e){const t=kT(e),n=new Ia(t),r=(()=>{switch(t.currencySymbolLocation){case"after-minus":return e=>e.replace(/^(-?)/,`$1${t.currencySymbol}`);case"end-with-space":return e=>`${e} ${t.currencySymbol}`;default:return e=>e}})();return{formatterOptions:t,formatForDisplay:e=>Ot(e)?r(n.format(String(e))):e}}const TT={get:e=>({component:ST,props:IT(e)}),getInput:e=>({component:bT,props:{...kT(e),maximumFractionDigits:void 0}}),getDisplayFormatter:e=>t=>IT(e).formatForDisplay(String(t))};function DT(e){let t,n;const r=e[4].default,o=f(r,e,e[3],null);let s=[e[1]],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("a"),o&&o.c(),Y(t,a),te(t,"link",e[0]),Z(t,"pointer-events",e[0]?"auto":"none",!1),te(t,"svelte-1f5kace",!0)},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||8&i)&&y(o,r,e,e[3],n?g(r,e[3],i,null):v(e[3]),null),Y(t,a=et(s,[2&i&&e[1]])),te(t,"link",e[0]),Z(t,"pointer-events",e[0]?"auto":"none",!1),te(t,"svelte-1f5kace",!0)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function MT(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{isActive:i=!1}=t,{value:a}=t;return e.$$set=e=>{"isActive"in e&&n(0,i=e.isActive),"value"in e&&n(2,a=e.value),"$$scope"in e&&n(3,s=e.$$scope)},e.$$.update=()=>{5&e.$$.dirty&&n(1,r=i&&a?{href:a,target:"_blank"}:{})},[i,r,a,s,o]}class OT extends at{constructor(e){super(),it(this,e,MT,DT,d,{isActive:0,value:2})}}function NT(e){let t,n,r;function o(t){e[7](t)}let s={focusOnMount:!0,disabled:e[3]};return void 0!==e[0]&&(s.value=e[0]),t=new qi({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){u(e[13])&&e[13].apply(this,arguments)})),t.$on("keydown",(function(){u(e[14])&&e[14].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};8&o&&(s.disabled=e[3]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function AT(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},i:o,o:o,d(e){e&&P(t)}}}function LT(e){let t,n;return t=new Yp({props:{matchParts:e[15]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32768&n&&(r.matchParts=e[15]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function PT(e){let t,n,r,o;const s=[LT,AT],i=[];function a(e,t){return e[15]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function RT(e){let t,n;return t=new OT({props:{value:e[0],isActive:e[1],$$slots:{default:[PT]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),2&n&&(r.isActive=e[1]),98305&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HT(e){let t,n,r;return n=new $I({props:{value:e[0],$$slots:{default:[RT]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","content")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.value=e[0]),98307&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function zT(e){let t,n,r;function o(t){e[8](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],searchValue:e[4],isIndependentOfSheet:e[5],showTruncationPopover:e[6],$$slots:{content:[HT,({matchParts:e,handleInputBlur:t,handleInputKeydown:n})=>({15:e,13:t,14:n}),({matchParts:e,handleInputBlur:t,handleInputKeydown:n})=>(e?32768:0)|(t?8192:0)|(n?16384:0)],default:[NT,({handleInputBlur:e,handleInputKeydown:t})=>({13:e,14:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?8192:0)|(t?16384:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[9]),t.$on("activate",e[10]),t.$on("mouseenter",e[11]),t.$on("update",e[12]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.searchValue=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),64&r&&(o.showTruncationPopover=e[6]),122891&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function FT(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{searchValue:a}=t,{isIndependentOfSheet:l}=t,{showTruncationPopover:c=!1}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"searchValue"in e&&n(4,a=e.searchValue),"isIndependentOfSheet"in e&&n(5,l=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(6,c=e.showTruncationPopover)},[s,r,o,i,a,l,c,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class jT extends at{constructor(e){super(),it(this,e,FT,zT,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6})}}const qT={initialInputValue:"",get:()=>({component:jT}),getInput:()=>({component:qi}),getDisplayFormatter:()=>String};function VT(e){let t,n,r;const o=[{focusOnMount:!0},e[9],{formatter:e[6]},{cssVariables:e[8]}];function s(t){e[10](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new ia({props:a}),we.push((()=>nt(t,"value",s))),t.$on("blur",(function(){u(e[16])&&e[16].apply(this,arguments)})),t.$on("keydown",(function(){u(e[17])&&e[17].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,s){e=r;const i=832&s?et(o,[o[0],512&s&&tt(e[9]),64&s&&{formatter:e[6]},256&s&&{cssVariables:e[8]}]):{};!n&&1&s&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function BT(e){let t,n,r;function o(t){e[11](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],isIndependentOfSheet:e[4],showTruncationPopover:e[5],horizontalAlignment:"right",formatValue:e[7],$$slots:{default:[VT,({handleInputBlur:e,handleInputKeydown:t})=>({16:e,17:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[12]),t.$on("activate",e[13]),t.$on("mouseenter",e[14]),t.$on("update",e[15]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),128&r&&(o.formatValue=e[7]),459585&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function WT(e,t,n){let r;const o=["isActive","isSelectedInRange","value","disabled","isIndependentOfSheet","showTruncationPopover","formatter","formatForDisplay"];let s=w(t,o),{isActive:a}=t,{isSelectedInRange:l}=t,{value:c}=t,{disabled:u}=t,{isIndependentOfSheet:d}=t,{showTruncationPopover:p=!1}=t,{formatter:$}=t,{formatForDisplay:m}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(9,s=w(t,o)),"isActive"in e&&n(1,a=e.isActive),"isSelectedInRange"in e&&n(2,l=e.isSelectedInRange),"value"in e&&n(0,c=e.value),"disabled"in e&&n(3,u=e.disabled),"isIndependentOfSheet"in e&&n(4,d=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,p=e.showTruncationPopover),"formatter"in e&&n(6,$=e.formatter),"formatForDisplay"in e&&n(7,m=e.formatForDisplay)},e.$$.update=()=>{n(8,r={"--input-element-text-align":"right",...s.cssVariables||{}})},[c,a,l,u,d,p,$,m,r,s,function(e){c=e,n(0,c)},function(e){c=e,n(0,c)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class UT extends at{constructor(e){super(),it(this,e,WT,BT,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,formatter:6,formatForDisplay:7})}}function YT(e){const t=e_.getDefaults(),n=e.display_options?.max??t.max,r=e.display_options?.min??t.min,o=new e_({max:n,min:r}),s=new r_(o);return{formatter:s,placeholder:o.getFormattingString(),formatForDisplay:e=>Ot(e)?s.format(e):e}}const KT={get:e=>({component:UT,props:YT(e)}),getInput:e=>({component:ia,props:YT(e)}),getDisplayFormatter:e=>t=>YT(e).formatForDisplay(String(t))};function GT(e,t,n){const r=e.slice();return r[10]=t[n],r}function XT(e){let t,n,r,o,s,i,a,l=e[4][e[10]].absoluteDate+"",c=e[4][e[10]].label+"";return{c(){t=H("span"),n=F(l),r=j(),o=H("span"),s=F("("),i=F(c),a=F(")"),U(o,"class","tag-label absolute-date svelte-1kzbgml")},m(e,l){L(e,t,l),O(t,n),L(e,r,l),L(e,o,l),O(o,s),O(o,i),O(o,a)},p(e,t){4&t&&l!==(l=e[4][e[10]].absoluteDate+"")&&G(n,l),4&t&&c!==(c=e[4][e[10]].label+"")&&G(i,c)},d(e){e&&P(t),e&&P(r),e&&P(o)}}}function ZT(e){let t,n,r=e[4][e[10]].label+"";return{c(){t=H("span"),n=F(r),U(t,"class","tag-label")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=e[4][e[10]].label+"")&&G(n,r)},d(e){e&&P(t)}}}function JT(e){let t;function n(e,t){return e[1]?ZT:XT}let r=n(e),o=r(e);return{c(){o.c(),t=j()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function QT(e,t){let n,r,o;return r=new Hn({props:{appearance:t[0]?.trim()===t[10]?"primary":"plain",$$slots:{default:[JT]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[7](t[10])})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};5&n&&(o.appearance=t[0]?.trim()===t[10]?"primary":"plain"),8198&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function eD(e){let t,n,r=[],o=new Map,s=e[2];const i=e=>e[10];for(let a=0;a<s.length;a+=1){let t=GT(e,s,a),n=i(t);o.set(n,r[a]=QT(n,t))}return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","presets svelte-1kzbgml"),te(t,"is-relative",e[1])},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[a]){31&a&&(s=e[2],ze(),r=Qe(r,a,i,1,e,s,o,t,Ze,QT,null,GT),Fe()),(!n||2&a)&&te(t,"is-relative",e[1])},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function tD(e,t,n){let r,o;m(e,Mg,(e=>n(8,o=e)));const s=fe();let{type:i}=t,{value:a}=t,{formattingString:l}=t,{isRelative:c=!1}=t;const u={now:{label:o("now"),absoluteDate:wt().format(l)},today:{label:o("today"),absoluteDate:wt().startOf("day").format(l)},yesterday:{label:o("yesterday"),absoluteDate:wt().startOf("day").subtract(1,"day").format(l)}},d={date:["today","yesterday"],datetime:["now","today"],time:["now"]};return e.$$set=e=>{"type"in e&&n(5,i=e.type),"value"in e&&n(0,a=e.value),"formattingString"in e&&n(6,l=e.formattingString),"isRelative"in e&&n(1,c=e.isRelative)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=d[i])},[a,c,r,s,u,i,l,e=>{n(0,a=e),s("change",a)}]}class nD extends at{constructor(e){super(),it(this,e,tD,eD,d,{type:5,value:0,formattingString:6,isRelative:1})}}function rD(e){let t,n,r,o,s;function i(t){e[24](t)}t=new Vc({props:{type:e[1],value:e[9],format:e[2],timeShow24Hr:e[4],timeEnableSeconds:e[5]}}),t.$on("change",e[23]),t.$on("dateChange",e[11]);let a={isRelative:e[6],type:e[1],formattingString:e[2]};return void 0!==e[0]&&(a.value=e[0]),r=new nD({props:a}),we.push((()=>nt(r,"value",i))),r.$on("change",e[11]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,o){ot(t,e,o),L(e,n,o),ot(r,e,o),s=!0},p(e,n){const s={};2&n&&(s.type=e[1]),512&n&&(s.value=e[9]),4&n&&(s.format=e[2]),16&n&&(s.timeShow24Hr=e[4]),32&n&&(s.timeEnableSeconds=e[5]),t.$set(s);const i={};64&n&&(i.isRelative=e[6]),2&n&&(i.type=e[1]),4&n&&(i.formattingString=e[2]),!o&&1&n&&(o=!0,i.value=e[0],Te((()=>o=!1))),r.$set(i)},i(e){s||(je(t.$$.fragment,e),je(r.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function oD(e){let t,n,r,o,s,a,l;const c=[e[16],{formatter:e[3]},{placeholder:e[2]}];function u(t){e[17](t)}function d(t){e[18](t)}let p={};for(let f=0;f<c.length;f+=1)p=i(p,c[f]);function $(t){e[25](t)}void 0!==e[0]&&(p.value=e[0]),void 0!==e[7]&&(p.element=e[7]),t=new ia({props:p}),we.push((()=>nt(t,"value",u))),we.push((()=>nt(t,"element",d))),t.$on("focus",e[10]),t.$on("focus",e[19]),t.$on("blur",e[12]),t.$on("keydown",e[13]),t.$on("keydown",e[20]),t.$on("artificialInput",e[21]),t.$on("artificialChange",e[22]);let m={class:"retain-active-cell no-max-height",trigger:e[7],$$slots:{default:[rD]},$$scope:{ctx:e}};return void 0!==e[8]&&(m.isOpen=e[8]),s=new yi({props:m}),we.push((()=>nt(s,"isOpen",$))),s.$on("close",e[14]),{c(){rt(t.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,n){ot(t,e,n),L(e,o,n),ot(s,e,n),l=!0},p(e,[o]){const i=65548&o?et(c,[65536&o&&tt(e[16]),8&o&&{formatter:e[3]},4&o&&{placeholder:e[2]}]):{};!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),!r&&128&o&&(r=!0,i.element=e[7],Te((()=>r=!1))),t.$set(i);const l={};128&o&&(l.trigger=e[7]),268436087&o&&(l.$$scope={dirty:o,ctx:e}),!a&&256&o&&(a=!0,l.isOpen=e[8],Te((()=>a=!1))),s.$set(l)},i(e){l||(je(t.$$.fragment,e),je(s.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(s.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(o),st(s,e)}}}function sD(e,t,n){let r;const o=["type","formattingString","formatter","value","timeShow24Hr","timeEnableSeconds","allowRelativePresets"];let s=w(t,o);const a=fe();let l,{type:c}=t,{formattingString:u}=t,{formatter:d}=t,{value:p}=t,{timeShow24Hr:$=!0}=t,{timeEnableSeconds:m=!0}=t,{allowRelativePresets:f=!1}=t,h=!1;function g(){n(8,h=!1)}function y(e){n(0,p=d.parse(e).value),a("artificialInput",p),a("artificialChange",p)}return e.$$set=e=>{t=i(i({},t),b(e)),n(16,s=w(t,o)),"type"in e&&n(1,c=e.type),"formattingString"in e&&n(2,u=e.formattingString),"formatter"in e&&n(3,d=e.formatter),"value"in e&&n(0,p=e.value),"timeShow24Hr"in e&&n(4,$=e.timeShow24Hr),"timeEnableSeconds"in e&&n(5,m=e.timeEnableSeconds),"allowRelativePresets"in e&&n(6,f=e.allowRelativePresets)},e.$$.update=()=>{1&e.$$.dirty&&n(9,r=function(e){if(Ot(e)){const t=d.parseAndFormat(e);if(wt(t,u,!0).isValid())return t}}(p))},[p,c,u,d,$,m,f,l,h,r,function(){n(8,h=!0)},g,function(){h||a("blur")},function(e){"Tab"===e.key&&g()},function(){a("blur")},y,s,function(e){p=e,n(0,p)},function(e){l=e,n(7,l)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},e=>y(e.detail),function(e){p=e,n(0,p)},function(e){h=e,n(8,h)}]}class iD extends at{constructor(e){super(),it(this,e,sD,oD,d,{type:1,formattingString:2,formatter:3,value:0,timeShow24Hr:4,timeEnableSeconds:5,allowRelativePresets:6})}}function aD(e){let t,n,r;function o(t){e[12](t)}let s={focusOnMount:!0,type:e[6],formattingString:e[7],formatter:e[8],timeShow24Hr:e[9],timeEnableSeconds:e[10]};return void 0!==e[0]&&(s.value=e[0]),t=new iD({props:s}),we.push((()=>nt(t,"value",o))),t.$on("blur",(function(){u(e[18])&&e[18].apply(this,arguments)})),t.$on("keydown",(function(){u(e[19])&&e[19].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};64&o&&(s.type=e[6]),128&o&&(s.formattingString=e[7]),256&o&&(s.formatter=e[8]),512&o&&(s.timeShow24Hr=e[9]),1024&o&&(s.timeEnableSeconds=e[10]),!n&&1&o&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function lD(e){let t,n,r;function o(t){e[13](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[3],highlightSubstringMatches:!1,isIndependentOfSheet:e[4],showTruncationPopover:e[5],formatValue:e[11],$$slots:{default:[aD,({handleInputBlur:e,handleInputKeydown:t})=>({18:e,19:t}),({handleInputBlur:e,handleInputKeydown:t})=>(e?262144:0)|(t?524288:0)]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new OI({props:s}),we.push((()=>nt(t,"value",o))),t.$on("movementKeyDown",e[14]),t.$on("activate",e[15]),t.$on("mouseenter",e[16]),t.$on("update",e[17]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),8&r&&(o.disabled=e[3]),16&r&&(o.isIndependentOfSheet=e[4]),32&r&&(o.showTruncationPopover=e[5]),2048&r&&(o.formatValue=e[11]),1836993&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function cD(e,t,n){let{isActive:r}=t,{isSelectedInRange:o}=t,{value:s}=t,{disabled:i}=t,{isIndependentOfSheet:a}=t,{showTruncationPopover:l=!1}=t,{type:c}=t,{formattingString:u}=t,{formatter:d}=t,{timeShow24Hr:p=!0}=t,{timeEnableSeconds:$=!0}=t,{formatForDisplay:m}=t;return e.$$set=e=>{"isActive"in e&&n(1,r=e.isActive),"isSelectedInRange"in e&&n(2,o=e.isSelectedInRange),"value"in e&&n(0,s=e.value),"disabled"in e&&n(3,i=e.disabled),"isIndependentOfSheet"in e&&n(4,a=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(5,l=e.showTruncationPopover),"type"in e&&n(6,c=e.type),"formattingString"in e&&n(7,u=e.formattingString),"formatter"in e&&n(8,d=e.formatter),"timeShow24Hr"in e&&n(9,p=e.timeShow24Hr),"timeEnableSeconds"in e&&n(10,$=e.timeEnableSeconds),"formatForDisplay"in e&&n(11,m=e.formatForDisplay)},[s,r,o,i,a,l,c,u,d,p,$,m,function(e){s=e,n(0,s)},function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class uD extends at{constructor(e){super(),it(this,e,cD,lD,d,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,type:6,formattingString:7,formatter:8,timeShow24Hr:9,timeEnableSeconds:10,formatForDisplay:11})}}function dD(e){const t=(e.display_options??{}).format??"none",n=new f_({type:"date",dateFormat:t}),r=new h_(n);return{type:"date",formattingString:n.getFormattingString(),formatter:r,formatForDisplay:e=>Ot(e)?r.parseAndFormat(e):e}}const pD={get:e=>({component:uD,props:dD(e)}),getInput:e=>({component:iD,props:{...dD(e),allowRelativePresets:!0}}),getDisplayFormatter:e=>t=>dD(e).formatForDisplay(String(t))};function $D(e,t){const n=(e.display_options??{}).format??"24hr",r=new f_({type:t?"timeWithTZ":"time",timeFormat:n}),o=new h_(r);return{type:"time",formattingString:r.getFormattingString(),formatter:o,timeEnableSeconds:r.hasSecondsInTime(),timeShow24Hr:r.isTime24Hr(),formatForDisplay:e=>Ot(e)?o.parseAndFormat(e):e}}const mD={get:(e,t)=>({component:uD,props:$D(e,t?.supportTimeZone??!1)}),getInput:(e,t)=>({component:iD,props:{...$D(e,t?.supportTimeZone??!1),allowRelativePresets:!0}}),getDisplayFormatter(e,t){const n=t?.supportTimeZone??!1;return t=>$D(e,n).formatForDisplay(String(t))}};function fD(e,t){const n=e.display_options??{},r=n.date_format??"none",o=n.time_format??"24hr",s=new f_({type:t?"timestampWithTZ":"timestamp",dateFormat:r,timeFormat:o}),i=new h_(s);return{type:"datetime",formattingString:s.getFormattingString(),formatter:i,timeEnableSeconds:s.hasSecondsInTime(),timeShow24Hr:s.isTime24Hr(),formatForDisplay:e=>Ot(e)?i.parseAndFormat(e):e}}const hD={get:(e,t)=>({component:uD,props:fD(e,t?.supportTimeZone??!1)}),getInput:(e,t)=>({component:iD,props:{...fD(e,t?.supportTimeZone??!1),allowRelativePresets:!0}}),getDisplayFormatter:(e,t)=>n=>fD(e,t?.supportTimeZone??!1).formatForDisplay(String(n))};function gD(e,t,n){const r=e.slice();return r[10]=t[n],r}function yD(e){let t,n,r,o=e[4]&&vD(e),s=e[2],i=[];for(let l=0;l<s.length;l+=1)i[l]=xD(gD(e,s,l));const a=e=>qe(i[e],1,1,(()=>{i[e]=null}));return{c(){o&&o.c(),t=j(),n=H("div");for(let e=0;e<i.length;e+=1)i[e].c()},m(e,s){o&&o.m(e,s),L(e,t,s),L(e,n,s);for(let t=0;t<i.length;t+=1)i[t].m(n,null);r=!0},p(e,r){if(e[4]?o?o.p(e,r):(o=vD(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),52&r){let t;for(s=e[2],t=0;t<s.length;t+=1){const o=gD(e,s,t);i[t]?(i[t].p(o,r),je(i[t],1)):(i[t]=xD(o),i[t].c(),je(i[t],1),i[t].m(n,null))}for(ze(),t=s.length;t<i.length;t+=1)a(t);Fe()}},i(e){if(!r){for(let e=0;e<s.length;e+=1)je(i[e]);r=!0}},o(e){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)qe(i[t]);r=!1},d(e){o&&o.d(e),e&&P(t),e&&P(n),R(i,e)}}}function vD(e){let t,n,r=iC(e[2],"values")+"";return{c(){t=H("div"),n=F(r),U(t,"class","count svelte-1gbu1gr")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=iC(e[2],"values")+"")&&G(n,r)},d(e){e&&P(t)}}}function bD(e){let t,n=e[5](e[10])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){36&r&&n!==(n=e[5](e[10])+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function wD(e){let t,n;return t=new iI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _D(e){let t,n,r,o;const s=[wD,bD],i=[];function a(e,t){return null===e[10]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function xD(e){let t,n;return t=new Ms({props:{display:e[4]?"inline-block":"inline",background:"var(--slate-200)",$$slots:{default:[_D]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.display=e[4]?"inline-block":"inline"),8228&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SD(e){let t,n,r=Ot(e[2]),o=r&&yD(e);return{c(){o&&o.c(),t=q()},m(e,r){o&&o.m(e,r),L(e,t,r),n=!0},p(e,n){4&n&&(r=Ot(e[2])),r?o?(o.p(e,n),4&n&&je(o,1)):(o=yD(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe())},i(e){n||(je(o),n=!0)},o(e){qe(o),n=!1},d(e){o&&o.d(e),e&&P(t)}}}function CD(e){let t,n;return t=new $I({props:{value:e[2],$$slots:{default:[SD]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.value=e[2]),8244&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ED(e){let t,n;return t=new wI({props:{isActive:e[0],isSelectedInRange:e[1],disabled:e[3],isIndependentOfSheet:e[4],$$slots:{default:[CD]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[8]),t.$on("keydown",e[6]),t.$on("mousedown",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.isActive=e[0]),2&n&&(r.isSelectedInRange=e[1]),8&n&&(r.disabled=e[3]),16&n&&(r.isIndependentOfSheet=e[4]),8244&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kD(e,t,n){const r=fe();let{isActive:o}=t,{isSelectedInRange:s}=t,{value:i}=t,{disabled:a}=t,{isIndependentOfSheet:l}=t,{formatElementForDisplay:c}=t;return e.$$set=e=>{"isActive"in e&&n(0,o=e.isActive),"isSelectedInRange"in e&&n(1,s=e.isSelectedInRange),"value"in e&&n(2,i=e.value),"disabled"in e&&n(3,a=e.disabled),"isIndependentOfSheet"in e&&n(4,l=e.isIndependentOfSheet),"formatElementForDisplay"in e&&n(5,c=e.formatElementForDisplay)},[o,s,i,a,l,c,function(e){switch(e.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":r("movementKeyDown",{originalEvent:e,key:e.key})}},function(){o||r("activate")},function(t){ve.call(this,e,t)}]}class ID extends at{constructor(e){super(),it(this,e,kD,ED,d,{isActive:0,isSelectedInRange:1,value:2,disabled:3,isIndependentOfSheet:4,formatElementForDisplay:5})}}function TD(e){return B_(e,$(NS)?.data)?.cellInfo}function DD(e,t){return{...t?.config??{},...t?.conditionalConfig?.[e]??{}}}function MD(e,t){const n=t.type_options?.item_type??"string",r=TD(n),o=DD(n,r),s=e[r&&"array"!==r.type?r.type:"string"];return e=>Ot(e)&&s.getDisplayFormatter?s.getDisplayFormatter({type:n,type_options:null,display_options:t.display_options},o)(e):String(e)}const OD={string:jI,boolean:sT,number:gT,money:TT,uri:qT,duration:KT,date:pD,time:mD,datetime:hD},ND={array:(AD=OD,{get:e=>({component:ID,props:{formatElementForDisplay:MD(AD,e)}}),getInput:()=>({component:qi}),getDisplayFormatter:e=>{const t=MD(AD,e);return e=>Array.isArray(e)?e.map(t).join(", "):t(e)}})};var AD;const LD={...OD,...ND};function PD(e){let t,n,r=wC(e[0])+"";return{c(){t=new re(!1),n=q(),t.a=n},m(e,o){t.m(r,e,o),L(e,n,o)},p(e,[n]){1&n&&r!==(r=wC(e[0])+"")&&t.p(r)},i:o,o:o,d(e){e&&P(n),e&&t.d()}}}function RD(e,t,n){let{recordSummary:r}=t;return e.$$set=e=>{"recordSummary"in e&&n(0,r=e.recordSummary)},[r]}class HD extends at{constructor(e){super(),it(this,e,RD,PD,d,{recordSummary:0})}}function zD(e){let t,n,r;return n=new HD({props:{recordSummary:e[6]}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","record-summary svelte-wsjoli")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};64&t&&(r.recordSummary=e[6]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function FD(e){let t,n,r,o,s,i;return n=new HD({props:{recordSummary:e[6]}}),{c(){t=H("a"),rt(n.$$.fragment),U(t,"class","record-summary record-page-link svelte-wsjoli"),U(t,"title",r=e[7]("go_to_record")),U(t,"href",e[1]),U(t,"tabindex","-1")},m(r,a){L(r,t,a),ot(n,t,null),o=!0,s||(i=[V(t,"mouseenter",e[12]),V(t,"mouseleave",e[13]),V(t,"click",VD)],s=!0)},p(e,s){const i={};64&s&&(i.recordSummary=e[6]),n.$set(i),(!o||128&s&&r!==(r=e[7]("go_to_record")))&&U(t,"title",r),(!o||2&s)&&U(t,"href",e[1])},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n),s=!1,c(i)}}}function jD(e){let t,n,r,o,s,a,l;const u=[iy];let d={};for(let c=0;c<u.length;c+=1)d=i(d,u[c]);return n=new Kr({props:d}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","delete-button svelte-wsjoli"),U(t,"role","button"),U(t,"tabindex","-1"),U(t,"aria-label",r=e[7]("clear_value")),U(t,"title",o=e[7]("clear_value"))},m(r,o){L(r,t,o),ot(n,t,null),s=!0,a||(l=[V(t,"click",W(e[8])),V(t,"mouseenter",e[14]),V(t,"mouseleave",e[15])],a=!0)},p(e,i){const a=0&i?et(u,[tt(iy)]):{};n.$set(a),(!s||128&i&&r!==(r=e[7]("clear_value")))&&U(t,"aria-label",r),(!s||128&i&&o!==(o=e[7]("clear_value")))&&U(t,"title",o)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),a=!1,c(l)}}}function qD(e){let t,n,r,o,s,i,a,l,c;const u=[FD,zD],d=[];function p(e,t){return e[1]?0:1}n=p(e),r=d[n]=u[n](e);let $=e[0]&&jD(e);return{c(){t=H("span"),r.c(),o=j(),$&&$.c(),s=j(),i=H("span"),U(i,"class","background svelte-wsjoli"),U(t,"class","linked-record svelte-wsjoli"),te(t,"is-hovering-delete",e[4]),te(t,"is-hovering-record-page-link",e[5]),te(t,"exact-match","exactMatch"===e[2]),te(t,"no-match","noMatch"===e[2]),te(t,"disabled",e[3])},m(r,u){L(r,t,u),d[n].m(t,null),O(t,o),$&&$.m(t,null),O(t,s),O(t,i),a=!0,l||(c=V(t,"click",e[11]),l=!0)},p(e,[i]){let l=n;n=p(e),n===l?d[n].p(e,i):(ze(),qe(d[l],1,1,(()=>{d[l]=null})),Fe(),r=d[n],r?r.p(e,i):(r=d[n]=u[n](e),r.c()),je(r,1),r.m(t,o)),e[0]?$?($.p(e,i),1&i&&je($,1)):($=jD(e),$.c(),je($,1),$.m(t,s)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe()),(!a||16&i)&&te(t,"is-hovering-delete",e[4]),(!a||32&i)&&te(t,"is-hovering-record-page-link",e[5]),(!a||4&i)&&te(t,"exact-match","exactMatch"===e[2]),(!a||4&i)&&te(t,"no-match","noMatch"===e[2]),(!a||8&i)&&te(t,"disabled",e[3])},i(e){a||(je(r),je($),a=!0)},o(e){qe(r),qe($),a=!1},d(e){e&&P(t),d[n].d(),$&&$.d(),l=!1,c()}}}const VD=e=>e.stopPropagation();function BD(e,t,n){let r,o;m(e,Mg,(e=>n(7,o=e)));const s=fe();let{recordId:i}=t,{recordSummary:a}=t,{hasDeleteButton:l=!1}=t,{recordPageHref:c}=t,{valueComparisonOutcome:u}=t,{disabled:d=!1}=t,p=!1,$=!1;return e.$$set=e=>{"recordId"in e&&n(9,i=e.recordId),"recordSummary"in e&&n(10,a=e.recordSummary),"hasDeleteButton"in e&&n(0,l=e.hasDeleteButton),"recordPageHref"in e&&n(1,c=e.recordPageHref),"valueComparisonOutcome"in e&&n(2,u=e.valueComparisonOutcome),"disabled"in e&&n(3,d=e.disabled)},e.$$.update=()=>{1536&e.$$.dirty&&n(6,r=a||(void 0!==i?String(i):"(Unknown)"))},[l,c,u,d,p,$,r,o,function(){s("delete")},i,a,function(t){ve.call(this,e,t)},()=>{n(5,$=!0)},()=>{n(5,$=!1)},()=>{n(4,p=!0)},()=>{n(4,p=!1)}]}class WD extends at{constructor(e){super(),it(this,e,BD,qD,d,{recordId:9,recordSummary:10,hasDeleteButton:0,recordPageHref:1,valueComparisonOutcome:2,disabled:3})}}function UD(e){let t,n;return t=new iI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YD(e){let t,n;return t=new rI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KD(e){let t,n;return t=new WD({props:{recordId:e[0],recordSummary:e[3],valueComparisonOutcome:e[7]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.recordId=e[0]),8&n&&(r.recordSummary=e[3]),128&n&&(r.valueComparisonOutcome=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function GD(e){let t,n,r,o,s,a,l;const c=[gr];let u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return n=new Kr({props:u}),{c(){t=H("button"),rt(n.$$.fragment),U(t,"class","dropdown-button passthrough svelte-161jfap"),U(t,"aria-label",r=e[9]("pick_record")),U(t,"title",o=e[9]("pick_record"))},m(r,o){L(r,t,o),ot(n,t,null),s=!0,a||(l=V(t,"click",e[10]),a=!0)},p(e,i){const a=0&i?et(c,[tt(gr)]):{};n.$set(a),(!s||512&i&&r!==(r=e[9]("pick_record")))&&U(t,"aria-label",r),(!s||512&i&&o!==(o=e[9]("pick_record")))&&U(t,"title",o)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),a=!1,l()}}}function XD(e){let t,n,r,o,s,i;const a=[KD,YD,UD],l=[];function c(e,t){return e[8]?0:void 0===e[0]?1:2}r=c(e),o=l[r]=a[r](e);let u=!e[4]&&GD(e);return{c(){t=H("div"),n=H("div"),o.c(),s=j(),u&&u.c(),U(n,"class","value svelte-161jfap"),U(t,"class","linked-record-cell svelte-161jfap"),te(t,"disabled",e[4])},m(e,o){L(e,t,o),O(t,n),l[r].m(n,null),O(t,s),u&&u.m(t,null),i=!0},p(e,s){let d=r;r=c(e),r===d?l[r].p(e,s):(ze(),qe(l[d],1,1,(()=>{l[d]=null})),Fe(),o=l[r],o?o.p(e,s):(o=l[r]=a[r](e),o.c()),je(o,1),o.m(n,null)),e[4]?u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe()):u?(u.p(e,s),16&s&&je(u,1)):(u=GD(e),u.c(),je(u,1),u.m(t,null)),(!i||16&s)&&te(t,"disabled",e[4])},i(e){i||(je(o),je(u),i=!0)},o(e){qe(o),qe(u),i=!1},d(e){e&&P(t),l[r].d(),u&&u.d()}}}function ZD(e){let t,n,r;function o(t){e[18](t)}let s={isActive:e[1],isSelectedInRange:e[2],disabled:e[4],isIndependentOfSheet:e[5],hasPadding:!1,$$slots:{default:[XD]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.element=e[6]),t=new wI({props:s}),we.push((()=>nt(t,"element",o))),t.$on("mouseenter",e[19]),t.$on("keydown",e[11]),t.$on("mousedown",e[12]),t.$on("click",e[13]),t.$on("dblclick",e[10]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.isActive=e[1]),4&r&&(o.isSelectedInRange=e[2]),16&r&&(o.disabled=e[4]),32&r&&(o.isIndependentOfSheet=e[5]),8389529&r&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r&&(n=!0,o.element=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function JD(e,t,n){let r,o,s;m(e,Mg,(e=>n(9,s=e)));const i=fe(),a=Mb();let l,{isActive:c}=t,{columnFabric:u}=t,{isSelectedInRange:d}=t,{value:p}=t,{searchValue:$}=t,{recordSummary:f}=t,{setRecordSummary:h=(()=>{})}=t,{disabled:g}=t,{tableId:y}=t,{isIndependentOfSheet:v}=t,b=!1;async function w(e){if(g)return;e?.stopPropagation();const t=await a.acquireUserInput({tableId:y}),r=u.linkFk?.referent_columns[0];t&&(n(0,p=r?t.record[r]:t.recordId),h(String(t.recordId),t.recordSummary),i("update",{value:p})),l.focus()}return e.$$set=e=>{"isActive"in e&&n(1,c=e.isActive),"columnFabric"in e&&n(14,u=e.columnFabric),"isSelectedInRange"in e&&n(2,d=e.isSelectedInRange),"value"in e&&n(0,p=e.value),"searchValue"in e&&n(15,$=e.searchValue),"recordSummary"in e&&n(3,f=e.recordSummary),"setRecordSummary"in e&&n(16,h=e.setRecordSummary),"disabled"in e&&n(4,g=e.disabled),"tableId"in e&&n(17,y=e.tableId),"isIndependentOfSheet"in e&&n(5,v=e.isIndependentOfSheet)},e.$$.update=()=>{1&e.$$.dirty&&n(8,r=null!=p),32769&e.$$.dirty&&n(7,o=Pp($,p))},[p,c,d,f,g,v,l,o,r,s,w,function(e){switch(e.key){case"Enter":c&&w();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":i("movementKeyDown",{originalEvent:e,key:e.key})}},function(){b=c,i("activate")},function(){b&&w()},u,$,h,y,function(e){l=e,n(6,l)},function(t){ve.call(this,e,t)}]}class QD extends at{constructor(e){super(),it(this,e,JD,ZD,d,{isActive:1,columnFabric:14,isSelectedInRange:2,value:0,searchValue:15,recordSummary:3,setRecordSummary:16,disabled:4,tableId:17,isIndependentOfSheet:5})}}const eM={list:function(e){return Wv(`/api/db/v0/schemas/?connection_id=${e}&limit=500`)},get:function(e){return Wv(`/api/db/v0/schemas/${e}/`)},add:function(e){return Uv("/api/db/v0/schemas/",{name:e.name,description:e.description,connection_id:e.connectionId})},update:function(e){return Yv(`/api/db/v0/schemas/${e.id}/`,{name:e.name,description:e.description})},delete:function(e){return Kv(`/api/db/v0/schemas/${e}/`)}},tM=Wm(),nM=mt(tM.current_schema??void 0),rM=new Map,oM=new Map;function sM(e,t){const n=new Map;t.forEach((e=>{n.set(e.id,e)}));const r={requestStatus:{state:"success"},data:n};let o=rM.get(e);return o?o.set(r):(o=mt(r),rM.set(e,o)),o}function iM(e,t){const n=rM.get(e);n&&n.update((e=>(e.data?.set(t.id,t),{...e,data:new Map(e.data)})))}function aM(e,t,n){const r=rM.get(e.id);r&&r.update((e=>{const r=e.data.get(t.id);return r&&(r.num_tables+=n,e.data.set(t.id,r)),{...e,data:new Map(e.data)}}))}function lM(e,t){const n=function(e){return[...rM.values()].find((t=>$(t).data.has(e)))}(e);n&&n.update((n=>{const r=n.data.get(e);return r&&(r.num_queries+=t,n.data.set(e,r)),{...n,data:new Map(n.data)}}))}async function cM(e){const t=rM.get(e);if(t)try{t.update((e=>({...e,requestStatus:{state:"processing"}}))),oM.get(e)?.cancel();const n=eM.list(e);oM.set(e,n);const r=await n;return $(sM(e,r?.results||[]))}catch(n){return void t.update((e=>({...e,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}})))}else console.error(`DB Schemas store for connection: ${e} not found.`)}let uM=!0;async function dM(e,t){await eM.delete(t),function(e,t){const n=rM.get(e);n&&n.update((e=>(e.data?.delete(t),{...e,data:new Map(e.data)})))}(e,t)}const pM=ft(ES.currentConnectionId,((e,t)=>{let n;if(e){const r=function(e){let t=rM.get(e);return t?"failure"===$(t).requestStatus.state&&cM(e):(t=mt({requestStatus:{state:"processing"},data:new Map}),rM.set(e,t),uM&&tM.current_connection===e?t=sM(e,tM.schemas??[]):cM(e),uM=!1),t}(e);n=r.subscribe((e=>{t(e)}))}else t({requestStatus:{state:"success"},data:new Map});return()=>{n?.()}})),$M=ft([nM,pM],(([e,t])=>e?t.data.get(e):void 0));function mM(e){return"invalid"===e.type}function fM(e){return{type:"invalid",errorMsg:e}}function hM(e,t){return n=>e(n)?{type:"valid"}:fM(t)}function gM(e,t){return n=>e(n)?fM(t):{type:"valid"}}function yM(e){return null!=e&&""!==e&&(!Array.isArray(e)||0!==e.length)}function vM(e,t=$(Mg)("value_already_exists")){return gM((t=>function(e,t){return Array.isArray(e)?e.includes(t):e.has(t)}(e,t)),t)}function bM(e,t){return hM((t=>!!t.match(e)),t)}const wM=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function _M(e=$(Mg)("email_address_invalid")){return hM((e=>!!e.toLowerCase().match(wM)),e)}function xM(e=$(Mg)("port_invalid")){return hM((e=>e<=65535&&e>=0),e)}function SM(e){return e.field.isRequired&&!yM(e.value)}function CM(e,t){return n=>{const r=e.map((e=>n.find((t=>t.field===e))??{field:e,value:$(e)}));if(r.map(SM).some((e=>e)))return{outcome:{type:"valid"},fields:e};const o=r.map((e=>e.value));return{outcome:t(o),fields:e}}}function EM(e){let t=e[0];for(const n of e){if(n!==t)return!1;t=n}return!0}function kM(e,t){return function(e,t,n){return CM(e,hM(t,n))}(e,EM,t)}function IM(e){let t,n,r;const o=[e[0]];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","icon svelte-n8w9ju")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=1&t?et(o,[tt(e[0])]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function TM(e){let t,n,r,o,s=e[0]&&IM(e);const i=e[4].default,a=f(i,e,e[3],null);return{c(){t=H("div"),s&&s.c(),n=j(),r=H("div"),a&&a.c(),U(r,"class","content trim-child-margins"),U(t,"class","message-box svelte-n8w9ju"),U(t,"style",e[1]),te(t,"has-icon",!!e[0]),te(t,"full-width",e[2])},m(e,i){L(e,t,i),s&&s.m(t,null),O(t,n),O(t,r),a&&a.m(r,null),o=!0},p(e,[r]){e[0]?s?(s.p(e,r),1&r&&je(s,1)):(s=IM(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe()),a&&a.p&&(!o||8&r)&&y(a,i,e,e[3],o?g(i,e[3],r,null):v(e[3]),null),(!o||2&r)&&U(t,"style",e[1]),(!o||1&r)&&te(t,"has-icon",!!e[0]),(!o||4&r)&&te(t,"full-width",e[2])},i(e){o||(je(s),je(a,e),o=!0)},o(e){qe(s),qe(a,e),o=!1},d(e){e&&P(t),s&&s.d(),a&&a.d(e)}}}function DM(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t,{style:i}=t,{fullWidth:a=!1}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"style"in e&&n(1,i=e.style),"fullWidth"in e&&n(2,a=e.fullWidth),"$$scope"in e&&n(3,o=e.$$scope)},[s,i,a,o,r]}class MM extends at{constructor(e){super(),it(this,e,DM,TM,d,{icon:0,style:1,fullWidth:2})}}function OM(e){let t;const n=e[1].default,r=f(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&y(r,n,e,e[2],t?g(n,e[2],o,null):v(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function NM(e){let t,n,r;const o=[{icon:Ir},e[0]];let s={$$slots:{default:[OM]},$$scope:{ctx:e}};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new MM({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","error-box svelte-1mnk8w0")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=1&t?et(o,[0&t&&{icon:Ir},1&t&&tt(e[0])]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function AM(e,t,n){const r=[];let o=w(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(0,o=w(t,r)),"$$scope"in e&&n(2,a=e.$$scope)},[o,s,a]}class LM extends at{constructor(e){super(),it(this,e,AM,NM,d,{})}}function PM(e,t,n){const r=e.slice();return r[1]=t[n],r}function RM(e){let t,n;return t=new LM({props:{$$slots:{default:[jM]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HM(e){let t,n=[],r=new Map,o=e[0];const s=e=>e[1];for(let i=0;i<o.length;i+=1){let t=PM(e,o,i),a=s(t);r.set(a,n[i]=FM(a,t))}return{c(){t=H("ul");for(let e=0;e<n.length;e+=1)n[e].c();U(t,"class","list svelte-h6g81w")},m(e,r){L(e,t,r);for(let o=0;o<n.length;o+=1)n[o].m(t,null)},p(e,i){1&i&&(o=e[0],n=Qe(n,i,s,1,e,o,r,t,Xe,FM,null,PM))},d(e){e&&P(t);for(let t=0;t<n.length;t+=1)n[t].d()}}}function zM(e){let t,n=e[0][0]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&G(t,n)},d(e){e&&P(t)}}}function FM(e,t){let n,r,o=t[1]+"";return{key:e,first:null,c(){n=H("li"),r=F(o),this.first=n},m(e,t){L(e,n,t),O(n,r)},p(e,n){t=e,1&n&&o!==(o=t[1]+"")&&G(r,o)},d(e){e&&P(n)}}}function jM(e){let t;function n(e,t){return 1===e[0].length?zM:HM}let r=n(e),o=r(e);return{c(){o.c(),t=q()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function qM(e){let t,n,r=e[0].length&&RM(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0].length?r?(r.p(e,n),1&n&&je(r,1)):(r=RM(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function VM(e,t,n){let{errors:r}=t;return e.$$set=e=>{"errors"in e&&n(0,r=e.errors)},[r]}class BM extends at{constructor(e){super(),it(this,e,VM,qM,d,{errors:0})}}function WM(e){let t,n,r;return n=new BM({props:{errors:e[4]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","field-errors svelte-1upnxsj"),te(t,"has-margin",e[0])},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,o){const s={};16&o&&(s.errors=e[4]),n.$set(s),(!r||1&o)&&te(t,"has-margin",e[0])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function UM(e){let t,n,r=e[3]&&WM(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=WM(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function YM(e,t,n){let r,s,i,a,l=o,c=o;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{field:u}=t,{hasMargin:d=!0}=t;return e.$$set=e=>{"field"in e&&n(5,u=e.field),"hasMargin"in e&&n(0,d=e.hasMargin)},e.$$.update=()=>{32&e.$$.dirty&&(n(2,({errors:r,showsError:s}=u),r,(n(1,s),l(),l=p(s,(e=>n(3,i=e))),s)),c(),c=p(r,(e=>n(4,a=e))))},[d,s,r,i,a,u]}class KM extends at{constructor(e){super(),it(this,e,YM,UM,d,{field:5,hasMargin:0})}}function GM(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("span"),o&&o.c(),U(t,"class","field-help svelte-btm1l")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function XM(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class ZM extends at{constructor(e){super(),it(this,e,XM,GM,d,{})}}function JM(e){let t,n;const r=e[2].default,o=f(r,e,e[1],null);let s=[{class:"field"},e[0]],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("span"),o&&o.c(),Y(t,a),te(t,"svelte-11cqsyc",!0)},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||2&i)&&y(o,r,e,e[1],n?g(r,e[1],i,null):v(e[1]),null),Y(t,a=et(s,[{class:"field"},1&i&&e[0]])),te(t,"svelte-11cqsyc",!0)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function QM(e,t,n){const r=[];let o=w(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(0,o=w(t,r)),"$$scope"in e&&n(1,a=e.$$scope)},[o,a,s]}class eO extends at{constructor(e){super(),it(this,e,QM,JM,d,{})}}const tO=e=>({}),nO=e=>({}),rO=e=>({}),oO=e=>({slot:"label"}),sO=e=>({}),iO=e=>({slot:"help"});function aO(e){let t,n,r,o,s;const a=[{hasError:e[9]},{disabled:e[10]},e[6]];function l(t){e[15](t)}var c=e[7];function u(e){let t={$$slots:{default:[cO]},$$scope:{ctx:e}};for(let n=0;n<a.length;n+=1)t=i(t,a[n]);return void 0!==e[8]&&(t.value=e[8]),{props:t}}c&&(t=new c(u(e)),we.push((()=>nt(t,"value",l))));let d=(e[2]||e[11].help)&&uO(e);return{c(){t&&rt(t.$$.fragment),r=j(),d&&d.c(),o=q()},m(e,n){t&&ot(t,e,n),L(e,r,n),d&&d.m(e,n),L(e,o,n),s=!0},p(e,s){const i=1600&s?et(a,[512&s&&{hasError:e[9]},1024&s&&{disabled:e[10]},64&s&&tt(e[6])]):{};if(65536&s&&(i.$$scope={dirty:s,ctx:e}),!n&&256&s&&(n=!0,i.value=e[8],Te((()=>n=!1))),c!==(c=e[7])){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}c?(t=new c(u(e)),we.push((()=>nt(t,"value",l))),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,r.parentNode,r)):t=null}else c&&t.$set(i);e[2]||e[11].help?d?(d.p(e,s),2052&s&&je(d,1)):(d=uO(e),d.c(),je(d,1),d.m(o.parentNode,o)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe())},i(e){s||(t&&je(t.$$.fragment,e),je(d),s=!0)},o(e){t&&qe(t.$$.fragment,e),qe(d),s=!1},d(e){t&&st(t,e),e&&P(r),d&&d.d(e),e&&P(o)}}}function lO(e){let t,n;return t=new Mo({props:{label:e[1],layout:e[3],help:e[2],$$slots:{help:[mO],label:[$O],default:[pO]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.label=e[1]),8&n&&(r.layout=e[3]),4&n&&(r.help=e[2]),67520&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cO(e){let t;const n=e[13].default,r=f(n,e,e[16],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&y(r,n,e,e[16],t?g(n,e[16],o,null):v(e[16]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function uO(e){let t,n;return t=new ZM({props:{$$slots:{default:[dO]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65540&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dO(e){let t;const n=e[13].help,r=f(n,e,e[16],nO),o=r||function(e){let t;return{c(){t=F(e[2])},m(e,n){L(e,t,n)},p(e,n){4&n&&G(t,e[2])},d(e){e&&P(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||65536&s)&&y(r,n,e,e[16],t?g(n,e[16],s,tO):v(e[16]),nO):o&&o.p&&(!t||4&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){qe(o,e),t=!1},d(e){o&&o.d(e)}}}function pO(e){let t,n,r,o;const s=[{hasError:e[9]},{disabled:e[10]},e[6]];function a(t){e[14](t)}var l=e[7];function c(e){let t={};for(let n=0;n<s.length;n+=1)t=i(t,s[n]);return void 0!==e[8]&&(t.value=e[8]),{props:t}}return l&&(t=new l(c(e)),we.push((()=>nt(t,"value",a)))),{c(){t&&rt(t.$$.fragment),r=q()},m(e,n){t&&ot(t,e,n),L(e,r,n),o=!0},p(e,o){const i=1600&o?et(s,[512&o&&{hasError:e[9]},1024&o&&{disabled:e[10]},64&o&&tt(e[6])]):{};if(!n&&256&o&&(n=!0,i.value=e[8],Te((()=>n=!1))),l!==(l=e[7])){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}l?(t=new l(c(e)),we.push((()=>nt(t,"value",a))),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,r.parentNode,r)):t=null}else l&&t.$set(i)},i(e){o||(t&&je(t.$$.fragment,e),o=!0)},o(e){t&&qe(t.$$.fragment,e),o=!1},d(e){e&&P(r),t&&st(t,e)}}}function $O(e){let t;const n=e[13].label,r=f(n,e,e[16],oO);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&y(r,n,e,e[16],t?g(n,e[16],o,rO):v(e[16]),oO)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function mO(e){let t;const n=e[13].help,r=f(n,e,e[16],iO);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||65536&o)&&y(r,n,e,e[16],t?g(n,e[16],o,sO):v(e[16]),iO)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function fO(e){let t,n,r,o,s;const i=[lO,aO],a=[];function l(e,t){return e[1]||e[11].label?0:1}return t=l(e),n=a[t]=i[t](e),o=new KM({props:{field:e[0]}}),{c(){n.c(),r=j(),rt(o.$$.fragment)},m(e,n){a[t].m(e,n),L(e,r,n),ot(o,e,n),s=!0},p(e,s){let c=t;t=l(e),t===c?a[t].p(e,s):(ze(),qe(a[c],1,1,(()=>{a[c]=null})),Fe(),n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),je(n,1),n.m(r.parentNode,r));const u={};1&s&&(u.field=e[0]),o.$set(u)},i(e){s||(je(n),je(o.$$.fragment,e),s=!0)},o(e){qe(n),qe(o.$$.fragment,e),s=!1},d(e){a[t].d(e),e&&P(r),st(o,e)}}}function hO(e){let t,n;return t=new eO({props:{$$slots:{default:[fO]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};69583&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gO(e,t,n){let r,s,i,a,l,c,u,d=o,$=()=>(d(),d=p(v,(e=>n(8,l=e))),v),m=o,f=o;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));let{$$slots:h={},$$scope:g}=t;const y=_(h);let{field:v}=t;$();let{input:b}=t,{label:w}=t,{help:x}=t,{layout:S}=t;return e.$$set=e=>{"field"in e&&$(n(0,v=e.field)),"input"in e&&n(12,b=e.input),"label"in e&&n(1,w=e.label),"help"in e&&n(2,x=e.help),"layout"in e&&n(3,S=e.layout),"$$scope"in e&&n(16,g=e.$$scope)},e.$$.update=()=>{4096&e.$$.dirty&&n(7,r=b?.component??qi),4096&e.$$.dirty&&n(6,s=b?.props??{}),1&e.$$.dirty&&(n(5,({showsError:i,disabled:a}=v),i,(n(4,a),f(),f=p(a,(e=>n(10,u=e))),a)),m(),m=p(i,(e=>n(9,c=e))))},[v,w,x,S,a,i,s,r,l,c,u,y,b,h,function(e){l=e,v.set(l)},function(e){l=e,v.set(l)},g]}class yO extends at{constructor(e){super(),it(this,e,gO,hO,d,{field:0,input:12,label:1,help:2,layout:3})}}function vO(e){let t,n;const r=[{onProceed:e[9]},{canProceed:e[1]&&e[6]},{onCancel:e[3]},e[10]];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new ao({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=1610&n?et(r,[512&n&&{onProceed:e[9]},66&n&&{canProceed:e[1]&&e[6]},8&n&&{onCancel:e[3]},1024&n&&tt(e[10])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bO(e){let t,n,r;return n=new BM({props:{errors:e[5]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","errors svelte-eylvex")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.errors=e[5]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function wO(e){let t,n,r,o=(!e[2]||e[7])&&vO(e),s=e[4]&&bO(e);return{c(){t=H("div"),o&&o.c(),n=j(),s&&s.c(),U(t,"class","form-submit svelte-eylvex")},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,[r]){!e[2]||e[7]?o?(o.p(e,r),132&r&&je(o,1)):(o=vO(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[4]?s?(s.p(e,r),16&r&&je(s,1)):(s=bO(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}function _O(e,t,n){let r,s,a,l;const c=["form","canProceed","initiallyHidden","onProceed","onCancel","getErrorMessages","catchErrors"];let u,d,$=w(t,c),m=o,f=()=>(m(),m=p(g,(e=>n(13,u=e))),g),h=o;e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>h()));let{form:g}=t;f();let{canProceed:y=!0}=t,{initiallyHidden:v=!1}=t,{onProceed:_=(()=>{})}=t,{onCancel:x=(()=>g.reset())}=t,{getErrorMessages:S=(e=>[rc(e)])}=t,{catchErrors:C=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(10,$=w(t,c)),"form"in e&&f(n(0,g=e.form)),"canProceed"in e&&n(1,y=e.canProceed),"initiallyHidden"in e&&n(2,v=e.initiallyHidden),"onProceed"in e&&n(11,_=e.onProceed),"onCancel"in e&&n(3,x=e.onCancel),"getErrorMessages"in e&&n(12,S=e.getErrorMessages),"catchErrors"in e&&n(4,C=e.catchErrors)},e.$$.update=()=>{1&e.$$.dirty&&(n(8,({requestStatus:r}=g),r),h(),h=p(r,(e=>n(14,d=e)))),8192&e.$$.dirty&&n(7,({hasChanges:s,canSubmit:a}=u),s,(n(6,a),n(13,u))),16384&e.$$.dirty&&n(5,l="failure"===d?.state?d.errors:[])},[g,y,v,x,C,l,a,s,r,async function(){g.clearServerErrors(),g.requestStatus.set({state:"processing"});const e=u.values;if(!C)return await _(e),void g.requestStatus.set(void 0);try{await _(e),g.requestStatus.set({state:"success"})}catch(t){g.requestStatus.set({state:"failure",errors:S(t)})}},$,_,S,u,d]}class xO extends at{constructor(e){super(),it(this,e,_O,wO,d,{form:0,canProceed:1,initiallyHidden:2,onProceed:11,onCancel:3,getErrorMessages:12,catchErrors:4})}}const SO=Symbol("comboErrors"),CO=Symbol("disabled");function EO(e){const t=mt(e.initialValue),n=mt([]),r=ft(t,(t=>t!==e.initialValue)),o=ft(t,(t=>(n.set([]),function({value:e,isRequired:t,validators:n}){if(!yM(e))return t?[$(Mg)("value_cannot_be_empty")]:[];if(!n)return[];const r=e;return n.map((e=>e(r))).filter(mM).map((({errorMsg:e})=>e))}({...e,value:t})))),s=mt([]),i=mt(!1),a=ft(s,(e=>e)),l=ft([o,a,n],(e=>e.flat())),c=ft(l,(e=>0===e.length)),u=ft([o,a],(e=>0===e.flat().length)),d=ft([r,o,a,n],(([e,t,n,r])=>!(!n.length&&!r.length)||!!e&&t.length>0));return{isRequired:e.isRequired,initialValue:e.initialValue,hasChanges:r,fieldErrors:o,[SO]:s,[CO]:i,disabled:i,comboErrors:a,serverErrors:n,errors:l,isValid:c,canSubmit:u,showsError:d,subscribe:(e,n)=>t.subscribe(e,n),set(e){t.set(e)},update(e){t.update(e)},reset(){t.set(e.initialValue)}}}function kO(e,t=[]){return EO({initialValue:e,validators:t,isRequired:!1})}function IO(e,t=[]){return EO({initialValue:e,validators:t,isRequired:!0})}function TO(e,t){const n=new Map;t.forEach((t=>{const{outcome:r,fields:o}=t(e);o.forEach((e=>{const t=n.get(e)??[],o=function(e){return"valid"===e.type}(r)?[]:[r.errorMsg];n.set(e,[...t,...o])}))}));for(const[r,o]of n){const e=$(r[SO]);JSON.stringify(e)!==JSON.stringify(o)&&r[SO].set(o)}}function DO(e,t=[]){const n=Vt(Object.entries(e).map((([e,t])=>ft(t,(n=>({name:e,field:t,value:n})))))),r=ft(n,(e=>(TO(e,t),Object.fromEntries(e.map((({name:e,value:t})=>[e,t])))))),o=mt(void 0),s=ft(o,(e=>"processing"===e?.state)),i=ft(Vt(Object.values(e).map((e=>e.isValid))),(e=>e.every((e=>e)))),a=ft(Vt(Object.values(e).map((e=>e.canSubmit))),(e=>e.every((e=>e)))),l=ft(Vt(Object.values(e).map((e=>e.hasChanges))),(e=>e.some((e=>e))));function c(){o.update((e=>"failure"===e?.state?void 0:e)),Object.values(e).forEach((e=>{e.serverErrors.set([])}))}const u=function(e,t){let n=0,r=[];return{...e,subscribe:function(o){const s=e.subscribe(o);return n+=1,1===n&&(r=t.map((e=>e()))),()=>{s(),n-=1,0===n&&(r.forEach((e=>e())),r=[])}}}}(ft([r,i,a,l],(([e,t,n,r])=>({values:e,isValid:t,canSubmit:n,hasChanges:r}))),[()=>o.subscribe((t=>{Object.values(e).forEach((e=>{e[CO].set("processing"===t?.state)}))}))]);return{...u,fields:e,reset:function(){c(),Object.values(e).forEach((e=>{e.reset()}))},clearServerErrors:c,requestStatus:o,isSubmitting:s}}const MO=Wm(),OO=new Map,NO=new Map;function AO(e){return[...e].sort(((e,t)=>e.name.localeCompare(t.name)))}function LO(e,t){const n=new Map;t&&AO(t).forEach((e=>{n.set(e.id,e)}));const r={data:n,requestStatus:{state:"success"}};let o=OO.get(e);return o?o.set(r):(o=mt(r),OO.set(e,o)),o}async function PO(e){const t=OO.get(e);if(t)try{t.update((e=>({...e,requestStatus:{state:"processing"}}))),NO.get(e)?.cancel();const n=Wv(`/api/db/v0/tables/?schema=${e}&limit=500`);NO.set(e,n);const r=(await n).results||[];return $(LO(e,r))}catch(n){return void t.update((e=>({...e,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}})))}else console.error(`Tables store for schema: ${e} not found.`)}let RO=!0;function HO(e){return[...OO.values()].find((t=>$(t).data.has(e)))}function zO(e,t){HO(e)?.update((n=>{const r={...n.data.get(e)??{},...t};n.data.set(e,r);const o=new Map;return AO([...n.data.values()]).forEach((e=>{o.set(e.id,e)})),{...n,data:o}}))}function FO(e,t,n){const r=Kv(`/api/db/v0/tables/${n}/`);return new lt(((o,s)=>{r.then((r=>(aM(e,t,-1),OO.get(t.id)?.update((e=>(e.data.delete(n),{...e,data:new Map(e.data)}))),o(r))),s)}),(()=>{r.cancel()}))}function jO(e,t,n){const r=Uv("/api/db/v0/tables/",{schema:t.id,name:n.name,data_files:n.dataFiles});return new lt(((n,o)=>{r.then((r=>(aM(e,t,1),OO.get(t.id)?.update((e=>{const t=new Map;return AO([...e.data.values(),r]).forEach((e=>{t.set(e.id,e)})),{...e,data:t}})),n(r))),o)}),(()=>{r.cancel()}))}function qO(e){return Wv(`/api/db/v0/tables/${e}/`)}function VO(e){const t=HO(e);if(t){const n=$(t).data.get(e);if(n)return new lt((e=>{e(n)}))}const n=qO(e);return new lt(((e,t)=>{n.then((t=>{const n=OO.get(t.schema);return n&&n.update((e=>{const n=new Map;return AO([...e.data.values(),t]).forEach((e=>{n.set(e.id,e)})),{...e,data:n}})),e(t)}),t)}),(()=>{n.cancel()}))}function BO(e){return Wv(`/api/db/v0/tables/${e}/type_suggestions/?columns_might_have_defaults=false`)}function WO(e){const{columns:t,table:n}=e;return Uv(`/api/db/v0/tables/${n.id}/previews/`,{columns:t})}const UO=ft(nM,((e,t)=>{let n;if(e){const r=function(e){let t=OO.get(e);return t?"failure"===$(t).requestStatus.state&&PO(e):(t=mt({requestStatus:{state:"processing"},data:new Map}),OO.set(e,t),RO&&MO.current_schema===e?t=LO(e,MO.tables??[]):PO(e),RO=!1),t}(e);n=r.subscribe((e=>{t(e)}))}else t({data:new Map,requestStatus:{state:"success"}});return()=>{n?.()}})),YO=ft(UO,(e=>new Map([...e.data.values()].filter((e=>!Jb(e))).map((e=>[e.id,e]))))),KO=ft(UO,(e=>{const t=new Set([...e.data.values()].map((e=>e.name)));return gM((e=>t.has(e)),"A table with that name already exists.")}));const GO=mt(void 0),XO=ft([GO,UO],(([e,t])=>void 0===e?void 0:t.data.get(e)));function ZO(e,t=1){return Wv(`/api/db/v0/tables/${e}/joinable_tables/?max_depth=${t}`)}async function JO(e,t){const n=`/api/db/v0/tables/${e.id}/settings/${e.settings.id}/`;await Yv(n,t),await PO(e.schema)}const QO=ft([ES.currentConnection,$M,XO],(([e,t,n])=>function({connectionId:r,schemaId:o,tableId:s,recordId:i}){const a=r??e?.id,l=o??t?.id,c=s??n?.id,u=i??void 0;if(void 0!==a&&void 0!==l&&void 0!==c&&void 0!==u)return Vb(a,l,c,u)})),eN=ft([ES.currentConnection,$M,XO],(([e,t,n])=>function({connectionId:r,schemaId:o,tableId:s}){const i=r??e?.id,a=o??t?.id,l=s??n?.id;if(void 0!==i&&void 0!==a&&void 0!==l)return qb(i,a,l)}));function tN(e){let t,n;return t=new WD({props:{recordId:e[1],recordSummary:e[2],hasDeleteButton:!e[4],recordPageHref:e[8],disabled:e[4]}}),t.$on("delete",e[10]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.recordId=e[1]),4&n&&(r.recordSummary=e[2]),16&n&&(r.hasDeleteButton=!e[4]),256&n&&(r.recordPageHref=e[8]),16&n&&(r.disabled=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nN(e){let t,n,r,o,s,a,l;const c=[gr];let u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return n=new Kr({props:u}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","dropdown-button svelte-1lgzhz2"),U(t,"role","button"),U(t,"tabindex","-1"),U(t,"aria-label",r=e[9]("pick_record")),U(t,"title",o=e[9]("pick_record"))},m(r,o){L(r,t,o),ot(n,t,null),s=!0,a||(l=V(t,"click",e[11]),a=!0)},p(e,i){const a=0&i?et(c,[tt(gr)]):{};n.$set(a),(!s||512&i&&r!==(r=e[9]("pick_record")))&&U(t,"aria-label",r),(!s||512&i&&o!==(o=e[9]("pick_record")))&&U(t,"title",o)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),a=!1,l()}}}function rN(e){let t,n,r,o,s,a,l,u,d,p,$,m;const f=[{disabled:e[4]},e[14]];function h(t){e[21](t)}let g={};for(let c=0;c<f.length;c+=1)g=i(g,f[c]);void 0!==e[0]&&(g.id=e[0]),t=new mo({props:g}),we.push((()=>nt(t,"id",h)));let y=e[5]&&tN(e),v=!e[4]&&nN(e);return{c(){rt(t.$$.fragment),r=j(),o=H("span"),s=H("span"),y&&y.c(),a=j(),v&&v.c(),U(s,"class","content svelte-1lgzhz2"),U(o,"id",e[0]),U(o,"class",l="input-element linked-record-input "+e[3]+" svelte-1lgzhz2"),U(o,"tabindex",u=e[6]||e[4]?void 0:0),U(o,"role","listbox"),U(o,"aria-labelledby",d=yo(e[0])),te(o,"has-value",e[5]),te(o,"disabled",e[4]),te(o,"is-acquiring-input",e[6])},m(n,i){ot(t,n,i),L(n,r,i),L(n,o,i),O(o,s),y&&y.m(s,null),O(o,a),v&&v.m(o,null),e[22](o),p=!0,$||(m=[V(o,"click",e[11]),V(o,"focus",e[12]),V(o,"focus",e[19]),V(o,"blur",e[13]),V(o,"blur",e[20])],$=!0)},p(e,[r]){const i=16400&r?et(f,[16&r&&{disabled:e[4]},16384&r&&tt(e[14])]):{};!n&&1&r&&(n=!0,i.id=e[0],Te((()=>n=!1))),t.$set(i),e[5]?y?(y.p(e,r),32&r&&je(y,1)):(y=tN(e),y.c(),je(y,1),y.m(s,null)):y&&(ze(),qe(y,1,1,(()=>{y=null})),Fe()),e[4]?v&&(ze(),qe(v,1,1,(()=>{v=null})),Fe()):v?(v.p(e,r),16&r&&je(v,1)):(v=nN(e),v.c(),je(v,1),v.m(o,null)),(!p||1&r)&&U(o,"id",e[0]),(!p||8&r&&l!==(l="input-element linked-record-input "+e[3]+" svelte-1lgzhz2"))&&U(o,"class",l),(!p||80&r&&u!==(u=e[6]||e[4]?void 0:0))&&U(o,"tabindex",u),(!p||1&r&&d!==(d=yo(e[0])))&&U(o,"aria-labelledby",d),(!p||40&r)&&te(o,"has-value",e[5]),(!p||24&r)&&te(o,"disabled",e[4]),(!p||72&r)&&te(o,"is-acquiring-input",e[6])},i(e){p||(je(t.$$.fragment,e),je(y),je(v),p=!0)},o(e){qe(t.$$.fragment,e),qe(y),qe(v),p=!1},d(n){st(t,n),n&&P(r),n&&P(o),y&&y.d(),v&&v.d(),e[22](null),$=!1,c(m)}}}function oN(e,t,n){let r,o;const s=["id","value","recordSummary","setRecordSummary","tableId","class","allowsHyperlinks","disabled"];let a,l,c=w(t,s);m(e,QO,(e=>n(18,a=e))),m(e,Mg,(e=>n(9,l=e)));const u=po(),d=Mb(),p=ge("dropdownAccompanyingElements"),$=fe();let f,{id:h=kt()}=t,{value:g}=t,{recordSummary:y}=t,{setRecordSummary:v=(()=>{})}=t,{tableId:_}=t,{class:x=""}=t,{allowsHyperlinks:S=!0}=t,{disabled:C=!1}=t,E=!1;function k(){n(1,g=null),$("artificialChange",void 0),$("artificialInput",void 0),f.focus()}async function I(){if(C)return;$("recordSelectorOpen"),n(6,E=!0);const e=d.acquireUserInput({tableId:_});await ke();const t=function(){if(!p)return()=>{};const e=document.querySelector(".modal-record-selector");return e?p.add(e):()=>{}}(),r=await e;t(),n(6,E=!1),void 0===r?$("recordSelectorCancel"):(n(1,g=r.recordId),v(String(r.recordId),r.recordSummary),$("recordSelectorSubmit"),$("artificialChange",g),$("artificialInput",g)),await ke(),f.focus()}function T(e){switch(e.key){case"Enter":I();break;case"Delete":k()}}return pe((()=>{n(7,f.launchRecordSelector=I,f)})),e.$$set=e=>{t=i(i({},t),b(e)),n(14,c=w(t,s)),"id"in e&&n(0,h=e.id),"value"in e&&n(1,g=e.value),"recordSummary"in e&&n(2,y=e.recordSummary),"setRecordSummary"in e&&n(15,v=e.setRecordSummary),"tableId"in e&&n(16,_=e.tableId),"class"in e&&n(3,x=e.class),"allowsHyperlinks"in e&&n(17,S=e.allowsHyperlinks),"disabled"in e&&n(4,C=e.disabled)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=null!=g),1&e.$$.dirty&&u?.inputId.set(h),458786&e.$$.dirty&&n(8,o=r&&S?a({tableId:_,recordId:g}):void 0)},[h,g,y,x,C,r,E,f,o,l,k,I,function(){window.addEventListener("keydown",T)},function(){window.removeEventListener("keydown",T)},c,v,_,S,a,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){h=e,n(0,h)},function(e){we[e?"unshift":"push"]((()=>{f=e,n(7,f)}))}]}class sN extends at{constructor(e){super(),it(this,e,oN,rN,d,{id:0,value:1,recordSummary:2,setRecordSummary:15,tableId:16,class:3,allowsHyperlinks:17,disabled:4})}}function iN(e){let t;return{c(){t=F(e[2])},m(e,n){L(e,t,n)},p(e,n){4&n&&G(t,e[2])},i:o,o:o,d(e){e&&P(t)}}}function aN(e){let t,n;return t=new rI({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lN(e){let t,n,r,o,s,a;const l=[By];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return n=new Kr({props:c}),{c(){t=H("a"),rt(n.$$.fragment),U(t,"href",e[6]),U(t,"class","link svelte-uum908"),U(t,"title",r=e[7]("go_to_record_with_value",{values:{value:e[2]}}))},m(e,r){L(e,t,r),ot(n,t,null),o=!0,s||(a=V(t,"contextmenu",dN),s=!0)},p(e,s){const i=0&s?et(l,[tt(By)]):{};n.$set(i),(!o||64&s)&&U(t,"href",e[6]),(!o||132&s&&r!==(r=e[7]("go_to_record_with_value",{values:{value:e[2]}})))&&U(t,"title",r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n),s=!1,a()}}}function cN(e){let t,n,r,o,s,i,a,l;const c=[aN,iN],u=[];function d(e,t){return void 0===e[2]?0:1}r=d(e),o=u[r]=c[r](e);let p=e[5]&&lN(e);return{c(){t=H("div"),n=H("span"),o.c(),s=j(),p&&p.c(),U(n,"class","value svelte-uum908"),U(t,"class","primary-key-cell svelte-uum908"),te(t,"is-independent-of-sheet",e[4])},m(o,c){L(o,t,c),O(t,n),u[r].m(n,null),O(t,s),p&&p.m(t,null),i=!0,a||(l=V(n,"mousedown",e[8]),a=!0)},p(e,s){let a=r;r=d(e),r===a?u[r].p(e,s):(ze(),qe(u[a],1,1,(()=>{u[a]=null})),Fe(),o=u[r],o?o.p(e,s):(o=u[r]=c[r](e),o.c()),je(o,1),o.m(n,null)),e[5]?p?(p.p(e,s),32&s&&je(p,1)):(p=lN(e),p.c(),je(p,1),p.m(t,null)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe()),(!i||16&s)&&te(t,"is-independent-of-sheet",e[4])},i(e){i||(je(o),je(p),i=!0)},o(e){qe(o),qe(p),i=!1},d(e){e&&P(t),u[r].d(),p&&p.d(),a=!1,l()}}}function uN(e){let t,n;return t=new wI({props:{isActive:e[0],isSelectedInRange:e[1],disabled:e[3],isIndependentOfSheet:e[4],hasPadding:!1,$$slots:{default:[cN]},$$scope:{ctx:e}}}),t.$on("mouseenter",e[12]),t.$on("keydown",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.isActive=e[0]),2&n&&(r.isSelectedInRange=e[1]),8&n&&(r.disabled=e[3]),16&n&&(r.isIndependentOfSheet=e[4]),16628&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dN(e){e.stopPropagation()}function pN(e,t,n){let r,o,s;m(e,QO,(e=>n(11,o=e))),m(e,Mg,(e=>n(7,s=e)));const i=fe();let{isActive:a}=t,{isSelectedInRange:l}=t,{value:c}=t,{disabled:u}=t,{tableId:d}=t,{isIndependentOfSheet:p}=t,{canViewLinkedEntities:$}=t;return e.$$set=e=>{"isActive"in e&&n(0,a=e.isActive),"isSelectedInRange"in e&&n(1,l=e.isSelectedInRange),"value"in e&&n(2,c=e.value),"disabled"in e&&n(3,u=e.disabled),"tableId"in e&&n(10,d=e.tableId),"isIndependentOfSheet"in e&&n(4,p=e.isIndependentOfSheet),"canViewLinkedEntities"in e&&n(5,$=e.canViewLinkedEntities)},e.$$.update=()=>{3076&e.$$.dirty&&n(6,r=o({tableId:d,recordId:c}))},[a,l,c,u,p,$,r,s,function(){i("activate")},function(e){switch(e.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":i("movementKeyDown",{originalEvent:e,key:e.key})}},d,o,function(t){ve.call(this,e,t)}]}class $N extends at{constructor(e){super(),it(this,e,pN,uN,d,{isActive:0,isSelectedInRange:1,value:2,disabled:3,tableId:10,isIndependentOfSheet:4,canViewLinkedEntities:5})}}function mN({cellInfo:e,column:t,fkTargetTableId:n,pkTargetTableId:r}){if(n){return{component:QD,props:{tableId:n}}}if(r)return{component:$N,props:{tableId:r}};const o=DD(t.type,e);return LD[e?.type??"string"].get(t,o)}function fN(e,t,n){if(t){return{component:sN,props:{tableId:t}}}const r=n??TD(e.type),o=DD(e.type,r);return LD[r?.type??"string"].getInput(e,o)}function hN(e,t,n){if(t)return;const r=n??TD(e.type);return LD[r?.type??"string"].initialInputValue}function gN(e,t){const n=TD(e.type),r=DD(e.type,n),o=LD[n?.type??"string"].getDisplayFormatter(e,r);return(e,n)=>{if(!n||void 0===t)return o(e);const r=n.get(String(t))?.get(String(e));return r||o(e)}}const yN="filter-input";function vN(e,t){if("hasParams"in e){if(!e.hasParams)return void 0===t}else if(0===e.parameters.length)return void 0===t;return Ot(t)&&""!==String(t)}function bN(e,t){return void 0!==t?function(e){const t=new Map;return jS.get(e)?.forEach((e=>{t.set(e.id,e)})),t}(e):VS(e)}function wN(e){return"foreignkey"===e.type}function _N({tableId:e,column:t,columnIndex:n,constraints:r,abstractTypeMap:o,hasEnhancedPrimaryKeyCell:s}){const i=B_(t.type,o),a=r.filter((e=>e.columns.includes(t.id))),l=a.filter((e=>1===e.columns.length)),c=a.filter((e=>1!==e.columns.length)),u=function(e,t){return e.filter(wN).filter((e=>1===e.columns.length&&e.columns.includes(t)))}(l,t.id)[0],d=(s??!0)&&t.primary_key,p=u?u.referent_table:void 0;return{id:t.id,column:t,columnIndex:n,exclusiveConstraints:l,sharedConstraints:c,linkFk:u,abstractType:i,initialInputValue:hN(t,void 0,i.cellInfo),cellComponentAndProps:mN({cellInfo:i.cellInfo,column:t,fkTargetTableId:p,pkTargetTableId:d?e:void 0}),inputComponentAndProps:fN(t,p,i.cellInfo),allowedFiltersMap:bN(i.identifier,u),preprocFunctions:US(i.identifier),formatCellValue:gN(t,t.id)}}class xN{constructor(t){e(this,"id",void 0),e(this,"meta",void 0),e(this,"columnsDataStore",void 0),e(this,"processedColumns",void 0),e(this,"constraintsDataStore",void 0),e(this,"recordsData",void 0),e(this,"display",void 0),e(this,"isLoading",void 0),e(this,"selection",void 0),e(this,"table",void 0),e(this,"shareConsumer",void 0);const n=t.contextualFilters??new Map;this.id=t.id,this.meta=t.meta??new aE,this.shareConsumer=t.shareConsumer,this.columnsDataStore=new FC({tableId:this.id,hiddenColumns:n.keys(),shareConsumer:this.shareConsumer}),this.constraintsDataStore=new Kk({tableId:this.id,shareConsumer:this.shareConsumer}),this.recordsData=new zC({tableId:this.id,meta:this.meta,columnsDataStore:this.columnsDataStore,contextualFilters:n,shareConsumer:this.shareConsumer}),this.display=new lE(this.meta,this.columnsDataStore,this.recordsData),this.processedColumns=ft([this.columnsDataStore.columns,this.constraintsDataStore],(([e,n])=>new Map(e.map(((e,r)=>[e.id,_N({tableId:this.id,column:e,columnIndex:r,constraints:n.constraints,abstractTypeMap:t.abstractTypesMap,hasEnhancedPrimaryKeyCell:t.hasEnhancedPrimaryKeyCell})]))))),this.table=t.table,this.selection=new Yk({getColumns:()=>[...$(this.processedColumns).values()],getColumnOrder:()=>Qb([...$(this.processedColumns).values()],this.table),getRows:()=>this.recordsData.getRecordRows(),getMaxSelectionRowIndex:()=>{const e=$(this.recordsData.totalCount)??0,t=$(this.recordsData.savedRecords),n=$(this.recordsData.newRecords),r=$(this.meta.pagination),{offset:o}=r,s=r.size;return Math.min(s,e-o,t.length)+n.length}}),this.isLoading=ft([this.columnsDataStore.fetchStatus,this.constraintsDataStore,this.recordsData.state],(([e,t,n])=>"processing"===e?.state||t.state===Rv.Loading||n===Rv.Loading)),this.columnsDataStore.on("columnRenamed",(async()=>{await this.refresh()})),this.columnsDataStore.on("columnAdded",(async()=>{await this.recordsData.fetch()})),this.columnsDataStore.on("columnDeleted",(async e=>{this.meta.sorting.update((t=>t.without(e))),this.meta.grouping.update((t=>t.withoutColumns([e]))),this.meta.filtering.update((t=>t.withoutColumns([e]))),await this.constraintsDataStore.fetch()})),this.columnsDataStore.on("columnPatched",(async()=>{await this.recordsData.fetch()}))}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.recordsData.fetch(),this.constraintsDataStore.fetch()])}refreshAfterColumnExtraction(e,t){return this.meta.sorting.update((n=>{const r=e.find((e=>n.has(e)));if(r&&t&&!n.has(t)){const o=n.get(r);return n.without(e).with(t,o??"ASCENDING")}return n.without(e)})),this.meta.filtering.update((t=>t.withoutColumns(e))),this.meta.grouping.update((n=>e.some((e=>n.hasColumn(e)))&&t&&!n.hasColumn(t)?n.withoutColumns(e).withEntry({columnId:t}):n.withoutColumns(e))),this.refresh()}destroy(){this.recordsData.destroy(),this.constraintsDataStore.destroy(),this.columnsDataStore.destroy(),this.selection.destroy()}}const SN={};function CN(e){const t=mt(e);return he(SN,t),t}function EN(){return ge(SN)}class kN{constructor(t){e(this,"id",void 0),e(this,"columnsDataStore",void 0),e(this,"constraintsDataStore",void 0),e(this,"processedColumns",void 0),e(this,"isLoading",void 0),this.id=t.id,this.columnsDataStore=new FC({tableId:this.id}),this.constraintsDataStore=new Kk({tableId:this.id}),this.processedColumns=ft([this.columnsDataStore.columns,this.constraintsDataStore],(([e,n])=>new Map(e.map(((e,r)=>[e.id,_N({tableId:this.id,column:e,columnIndex:r,constraints:n.constraints,abstractTypeMap:t.abstractTypesMap})]))))),this.isLoading=ft([this.columnsDataStore.fetchStatus,this.constraintsDataStore],(([e,t])=>"processing"===e?.state||t.state===Rv.Loading))}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.constraintsDataStore.fetch()])}destroy(){this.constraintsDataStore.destroy(),this.columnsDataStore.destroy()}}function IN(e,t=!1){return(e=e.slice(e.startsWith("/#")?2:0,e.endsWith("/*")?-2:void 0)).startsWith("/")||(e="/"+e),"/"===e&&(e=""),t&&!e.endsWith("/")&&(e+="/"),e}function TN(e,t){e=IN(e,!0),t=IN(t,!0);let n=[],r={},o=!0,s=e.split("/").map((e=>e.startsWith(":")?(n.push(e.slice(1)),"([^\\/]+)"):e)).join("\\/"),i=t.match(new RegExp(`^${s}$`));return i||(o=!1,i=t.match(new RegExp(`^${s}`))),i?(n.forEach(((e,t)=>r[e]=i[t+1])),{exact:o,params:r,part:i[0].slice(0,-1)}):null}function DN(e,t,n){if(""===n)return e;if("/"===n[0])return n;let r=e=>e.split("/").filter((e=>""!==e)),o=r(e);return"/"+(t?r(t):[]).map(((e,t)=>o[t])).join("/")+"/"+n}function MN(e,t,n,r){let o=[t,"data-"+t].reduce(((t,r)=>{let o=e.getAttribute(r);return n&&e.removeAttribute(r),null===o?t:o}),!1);return!r&&""===o||(o||r||!1)}function ON(e){let t=e.split("&").map((e=>e.split("="))).reduce(((e,t)=>{let n=t[0];if(!n)return e;let r=!(t.length>1)||t[t.length-1];return"string"==typeof r&&r.includes(",")&&(r=r.split(",")),void 0===e[n]?e[n]=[r]:e[n].push(r),e}),{});return Object.entries(t).reduce(((e,t)=>(e[t[0]]=t[1].length>1?t[1]:t[1][0],e)),{})}function NN(e,t){return e?t+e:""}function AN(e){throw new Error("[Tinro] "+e)}var LN,PN,RN,HN={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(e,t,n,r){return e===this.HISTORY?t&&t():e===this.HASH?n&&n():r&&r()},getDefault(){return window&&"srcdoc"!==window.location.pathname?this.HISTORY:this.MEMORY}},zN="",FN=function(){let e,t=HN.getDefault(),n=n=>e&&e(jN(t)),r=e=>{e&&(t=e),window.onhashchange=window.onpopstate=LN=null,t!==HN.OFF&&HN.run(t,(e=>window.onpopstate=n),(e=>window.onhashchange=n))&&n()},o=e=>{let n=Object.assign(jN(t),e);return n.path+NN(function(e){return Object.entries(e).map((([e,t])=>t?!0===t?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null)).filter((e=>e)).join("&")}(n.query),"?")+NN(n.hash,"#")};return{mode:r,get:e=>jN(t),go(e,r){(function(e,t,n){!n&&(PN=RN);let r=e=>history[(n?"replace":"push")+"State"]({},"",e);HN.run(e,(e=>r(zN+t)),(e=>r(`#${t}`)),(e=>LN=t))})(t,e,r),n()},start(t){e=t,r()},stop(){e=null,r(HN.OFF)},set(e){this.go(o(e),!e.path)},methods(){return function(e){let t=()=>e.get().query,n=t=>e.set({query:t}),r=e=>n(e(t())),o=t=>e.set({hash:t});return{hash:{get:()=>e.get().hash,set:o,clear:()=>o("")},query:{replace:n,clear:()=>n(""),get:e=>e?t()[e]:t(),set(e,t){r((n=>(n[e]=t,n)))},delete(e){r((t=>(t[e]&&delete t[e],t)))}}}}(this)},base:e=>zN=e}}();function jN(e){let t=window.location,n=HN.run(e,(e=>(zN?t.pathname.replace(zN,""):t.pathname)+t.search+t.hash),(e=>String(t.hash.slice(1)||"/")),(e=>LN||"/")),r=n.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return RN=n,{url:n,from:PN,path:r[1]||"",query:ON(r[2]||""),hash:r[3]||""}}var qN=function(){let{subscribe:e}=mt(FN.get(),(e=>{FN.start(e);let t=function(e){let t=t=>{let n=t.target.closest("a[href]"),r=n&&MN(n,"target",!1,"_self"),o=n&&MN(n,"tinro-ignore"),s=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if("_self"==r&&!o&&!s&&n){let r=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(r)||(t.preventDefault(),e(r.startsWith("/")?r:n.href.replace(window.location.origin,"")))}};return addEventListener("click",t),()=>removeEventListener("click",t)}(FN.go);return()=>{FN.stop(),t()}}));return{subscribe:e,goto:FN.go,params:BN,meta:YN,useHashNavigation:e=>FN.mode(e?HN.HASH:HN.HISTORY),mode:{hash:()=>FN.mode(HN.HASH),history:()=>FN.mode(HN.HISTORY),memory:()=>FN.mode(HN.MEMORY)},base:FN.base,location:FN.methods()}}();function VN(e){let t,n,r,o,s=()=>{t=MN(e,"href").replace(/^\/#|[?#].*$|\/$/g,""),n=MN(e,"exact",!0),r=MN(e,"active-class",!0,"active")},i=()=>{let s=TN(t,o);s&&(s.exact&&n||!n)?e.classList.add(r):e.classList.remove(r)};return s(),{destroy:qN.subscribe((e=>{o=e.path,i()})),update:()=>{s(),i()}}}function BN(){return ge("tinro").meta.params}var WN="tinro",UN=KN({pattern:"",matched:!0});function YN(){return ye(WN)?ge(WN).meta:AN("meta() function must be run inside any `<Route>` child component only")}function KN(e){let t={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await ke(),this.childs.size>0&&0==this.activeChilds.size||0==this.childs.size&&this.fallbacks.size>0)){let e=this;for(;0==e.fallbacks.size;)if(e=e.parent,!e)return;e&&e.fallbacks.forEach((e=>{if(e.redirect){let t=DN("/",e.parent.pattern,e.redirect);qN.goto(t,!0)}else e.show()}))}},start(){this.router.un||(this.router.un=qN.subscribe((e=>{this.router.location=e,null!==this.pattern&&this.match()})))},match(){this.showFallbacks()}};return Object.assign(t,e),t.start(),t}const GN=e=>({params:2&e,meta:4&e}),XN=e=>({params:e[1],meta:e[2]});function ZN(e){let t;const n=e[9].default,r=f(n,e,e[8],XN);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||262&o)&&y(r,n,e,e[8],t?g(n,e[8],o,GN):v(e[8]),XN)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function JN(e){let t,n,r=e[0]&&ZN(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=ZN(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function QN(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s="/*"}=t,{fallback:i=!1}=t,{redirect:a=!1}=t,{firstmatch:l=!1}=t,{breadcrumb:c=null}=t,u=!1,d={},p={};const $=function(e){let t=ge(WN)||UN;(t.exact||t.fallback)&&AN(`${e.fallback?"<Route fallback>":`<Route path="${e.path}">`}  can't be inside ${t.fallback?"<Route fallback>":`<Route path="${t.path||"/"}"> with exact path`}`);let n=e.fallback?"fallbacks":"childs",r=mt({}),o=KN({fallback:e.fallback,parent:t,update(e){o.exact=!e.path.endsWith("/*"),o.pattern=IN(`${o.parent.pattern||""}${e.path}`),o.redirect=e.redirect,o.firstmatch=e.firstmatch,o.breadcrumb=e.breadcrumb,o.match()},register:()=>(o.parent[n].add(o),async()=>{o.parent[n].delete(o),o.parent.activeChilds.delete(o),o.router.un&&o.router.un(),o.parent.match()}),show:()=>{e.onShow(),!o.fallback&&o.parent.activeChilds.add(o)},hide:()=>{e.onHide(),o.parent.activeChilds.delete(o)},match:async()=>{o.matched=!1;let{path:t,url:n,from:s,query:i}=o.router.location,a=TN(o.pattern,t);if(!o.fallback&&a&&o.redirect&&(!o.exact||o.exact&&a.exact)){let e=DN(t,o.parent.pattern,o.redirect);return qN.goto(e,!0)}o.meta=a&&{from:s,url:n,query:i,match:a.part,pattern:o.pattern,breadcrumbs:o.parent.meta&&o.parent.meta.breadcrumbs.slice()||[],params:a.params,subscribe:r.subscribe},o.breadcrumb&&o.meta&&o.meta.breadcrumbs.push({name:o.breadcrumb,path:a.part}),r.set(o.meta),!a||o.fallback||!(!o.exact||o.exact&&a.exact)||o.parent.firstmatch&&o.parent.matched?o.hide():(e.onMeta(o.meta),o.parent.matched=!0,o.show()),a&&o.showFallbacks()}});return he(WN,o),pe((()=>o.register())),o}({fallback:i,onShow(){n(0,u=!0)},onHide(){n(0,u=!1)},onMeta(e){n(2,p=e),n(1,d=p.params)}});return e.$$set=e=>{"path"in e&&n(3,s=e.path),"fallback"in e&&n(4,i=e.fallback),"redirect"in e&&n(5,a=e.redirect),"firstmatch"in e&&n(6,l=e.firstmatch),"breadcrumb"in e&&n(7,c=e.breadcrumb),"$$scope"in e&&n(8,o=e.$$scope)},e.$$.update=()=>{232&e.$$.dirty&&$.update({path:s,redirect:a,firstmatch:l,breadcrumb:c})},[u,d,p,s,i,a,l,c,o,r]}class eA extends at{constructor(e){super(),it(this,e,QN,JN,d,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}function tA(e,t){const{hasOverflowTop:n,hasOverflowLeft:r,hasOverflowBottom:o,hasOverflowRight:s}=t;function i(){const{scrollTop:t,scrollLeft:i,scrollHeight:a,scrollWidth:l,clientHeight:c,clientWidth:u}=e;n.set(t>0),r.set(i>0),o.set(Math.abs(a-c-t)>1),s.set(Math.abs(l-u-i)>1)}e.addEventListener("scroll",i);const a=new ResizeObserver(i);return a.observe(e),{destroy:()=>{e.removeEventListener("scroll",i),a.disconnect()}}}function nA(e){let t,n;const r=e[10].default,o=f(r,e,e[9],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","td svelte-1bmz4cl"),te(t,"column-header","columnHeaderRow"===e[0]),te(t,"row-header","rowHeaderColumn"===e[2]),te(t,"row-is-selected",e[1]),te(t,"table-overflow-top",e[6]),te(t,"table-overflow-left",e[7]),te(t,"show-above-overlay",e[3])},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||512&s)&&y(o,r,e,e[9],n?g(r,e[9],s,null):v(e[9]),null),(!n||1&s)&&te(t,"column-header","columnHeaderRow"===e[0]),(!n||4&s)&&te(t,"row-header","rowHeaderColumn"===e[2]),(!n||2&s)&&te(t,"row-is-selected",e[1]),(!n||64&s)&&te(t,"table-overflow-top",e[6]),(!n||128&s)&&te(t,"table-overflow-left",e[7]),(!n||8&s)&&te(t,"show-above-overlay",e[3])},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function rA(e,t,n){let r,s,i,a,l=o,c=o;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t,{rowType:$}=t,{rowIsSelected:m=!1}=t,{columnType:f}=t,{overflowDetails:h}=t,{showAboveOverlay:g=!1}=t;return e.$$set=e=>{"rowType"in e&&n(0,$=e.rowType),"rowIsSelected"in e&&n(1,m=e.rowIsSelected),"columnType"in e&&n(2,f=e.columnType),"overflowDetails"in e&&n(8,h=e.overflowDetails),"showAboveOverlay"in e&&n(3,g=e.showAboveOverlay),"$$scope"in e&&n(9,d=e.$$scope)},e.$$.update=()=>{256&e.$$.dirty&&(n(5,r=qt(h?.hasOverflowTop??!1)),l(),l=p(r,(e=>n(6,i=e)))),256&e.$$.dirty&&(n(4,s=qt(h?.hasOverflowLeft??!1)),c(),c=p(s,(e=>n(7,a=e))))},[$,m,f,g,s,r,i,a,h,d,u]}class oA extends at{constructor(e){super(),it(this,e,rA,nA,d,{rowType:0,rowIsSelected:1,columnType:2,overflowDetails:8,showAboveOverlay:3})}}function sA(e){let t,n,r,o;const s=e[9].default,a=f(s,e,e[8],null);let l=[{class:"passthrough tr svelte-rluf06"},{href:e[0]},{tabindex:"-1"}],u={};for(let c=0;c<l.length;c+=1)u=i(u,l[c]);return{c(){t=H(e[2]),a&&a.c(),Y(t,u),te(t,"selected",e[1])},m(s,i){L(s,t,i),a&&a.m(t,null),n=!0,r||(o=[V(t,"click",e[3]),V(t,"mousemove",e[4])],r=!0)},p(e,r){a&&a.p&&(!n||256&r)&&y(a,s,e,e[8],n?g(s,e[8],r,null):v(e[8]),null),Y(t,u=et(l,[{class:"passthrough tr svelte-rluf06"},(!n||1&r)&&{href:e[0]},{tabindex:"-1"}])),te(t,"selected",e[1])},i(e){n||(je(a,e),n=!0)},o(e){qe(a,e),n=!1},d(e){e&&P(t),a&&a.d(e),r=!1,c(o)}}}function iA(e){let t,n,r=e[2],o=e[2]&&sA(e);return{c(){o&&o.c(),t=q()},m(e,r){o&&o.m(e,r),L(e,t,r),n=!0},p(e,[n]){e[2]?r?d(r,e[2])?(o.d(1),o=sA(e),o.c(),o.m(t.parentNode,t)):o.p(e,n):(o=sA(e),o.c(),o.m(t.parentNode,t)):r&&(o.d(1),o=null),r=e[2]},i(e){n||(je(o),n=!0)},o(e){qe(o),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function aA(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t;const a=fe();let{href:l}=t,{index:c}=t,{selectionIndex:u}=t,{setSelectionIndex:d}=t;return e.$$set=e=>{"href"in e&&n(0,l=e.href),"index"in e&&n(5,c=e.index),"selectionIndex"in e&&n(6,u=e.selectionIndex),"setSelectionIndex"in e&&n(7,d=e.setSelectionIndex),"$$scope"in e&&n(8,i=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=l?"a":"div"),96&e.$$.dirty&&n(1,o=u===c)},[l,o,r,function(e){e.preventDefault(),a("click")},function(){void 0!==u&&d(c)},c,u,d,i,s]}class lA extends at{constructor(e){super(),it(this,e,aA,iA,d,{href:0,index:5,selectionIndex:6,setSelectionIndex:7})}}function cA(e){let t,n,r,o;const s=[e[3],e[2]];function a(t){e[4](t)}var l=e[1].component;function c(e){let t={};for(let n=0;n<s.length;n+=1)t=i(t,s[n]);return void 0!==e[0]&&(t.value=e[0]),{props:t}}return l&&(t=new l(c(e)),we.push((()=>nt(t,"value",a))),t.$on("input",e[5]),t.$on("artificialInput",e[6]),t.$on("change",e[7]),t.$on("artificialChange",e[8]),t.$on("focus",e[9]),t.$on("blur",e[10]),t.$on("recordSelectorOpen",e[11]),t.$on("recordSelectorCancel",e[12]),t.$on("recordSelectorSubmit",e[13])),{c(){t&&rt(t.$$.fragment),r=q()},m(e,n){t&&ot(t,e,n),L(e,r,n),o=!0},p(e,[o]){const i=12&o?et(s,[8&o&&tt(e[3]),4&o&&tt(e[2])]):{};if(!n&&1&o&&(n=!0,i.value=e[0],Te((()=>n=!1))),l!==(l=e[1].component)){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}l?(t=new l(c(e)),we.push((()=>nt(t,"value",a))),t.$on("input",e[5]),t.$on("artificialInput",e[6]),t.$on("change",e[7]),t.$on("artificialChange",e[8]),t.$on("focus",e[9]),t.$on("blur",e[10]),t.$on("recordSelectorOpen",e[11]),t.$on("recordSelectorCancel",e[12]),t.$on("recordSelectorSubmit",e[13]),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,r.parentNode,r)):t=null}else l&&t.$set(i)},i(e){o||(t&&je(t.$$.fragment,e),o=!0)},o(e){t&&qe(t.$$.fragment,e),o=!1},d(e){e&&P(r),t&&st(t,e)}}}function uA(e,t,n){let r;const o=["value","componentAndProps"];let s=w(t,o),{value:a}=t,{componentAndProps:l}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(3,s=w(t,o)),"value"in e&&n(0,a=e.value),"componentAndProps"in e&&n(1,l=e.componentAndProps)},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=l.props)},[a,l,r,s,function(e){a=e,n(0,a)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class dA extends at{constructor(e){super(),it(this,e,uA,cA,d,{value:0,componentAndProps:1})}}function pA(e,t){if(!t.has(e))return e;const[n,r]=function(e,t="_"){let n;const r=`${t}\\d{1,15}$`;return[e.replace(new RegExp(r),(e=>(n=parseInt(e.slice(1),10),""))),n]}(e);let o=(r??0)+1;function s(){return`${n}_${o}`}let i=s();for(;t.has(i);)o+=1,i=s();return i}function $A(e){return e.constraintsType?.includes("primary")?Hy:e.constraintsType?.includes("foreignkey")?Qy:B_(e.type,$(NS)?.data).getIcon({dbType:e.type,typeOptions:e.type_options})}function mA(e,t=[{name:"id"}]){const n=new Set(t.map((e=>e.name)));return e?pA(JS(e.name),n):""}function fA(e){return vM(e.map((e=>e.name)),"A column with that name already exists")}function hA(e,t){const n=t.get(e);return Array.from(new Set([...n?.exclusiveConstraints??[],...n?.sharedConstraints??[]].filter((e=>!!e)).map((e=>e.type))))}function gA(e){let t,n=e[0].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&G(t,n)},d(e){e&&P(t)}}}function yA(e){let t,n;const r=[{icon:e[1]},e[2]];let o={$$slots:{default:[gA]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new uw({props:o}),t.$on("click",e[3]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=6&n?et(r,[2&n&&{icon:e[1]},4&n&&tt(e[2])]):{};17&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vA(e,t,n){let r;const o=["column"];let s=w(t,o),{column:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,o)),"column"in e&&n(0,a=e.column)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r=$A(a))},[a,r,s,function(t){ve.call(this,e,t)}]}class bA extends at{constructor(e){super(),it(this,e,vA,yA,d,{column:0})}}function wA(e){let t,n;const r=[{column:e[0]},e[1]];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new bA({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=3&n?et(r,[1&n&&{column:e[0]},2&n&&tt(e[1])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _A(e,t,n){let r;const o=["processedColumn"];let s=w(t,o),{processedColumn:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(1,s=w(t,o)),"processedColumn"in e&&n(2,a=e.processedColumn)},e.$$.update=()=>{var t;4&e.$$.dirty&&n(0,r={...(t=a).column,constraintsType:t.linkFk?[t.linkFk.type]:void 0})},[r,s,a]}class xA extends at{constructor(e){super(),it(this,e,_A,wA,d,{processedColumn:2})}}function SA(e){let t,n;return t=new xA({props:{processedColumn:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.processedColumn=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CA(e){let t,n;return t=new dA({props:{class:"record-selector-input column-"+e[5].id,componentAndProps:e[0].inputComponentAndProps,value:e[6],recordSummary:e[9],labelController:e[10],allowsHyperlinks:!1,setRecordSummary:e[15]}}),t.$on("input",(function(...t){return e[16](e[27],...t)})),t.$on("artificialInput",(function(...t){return e[17](e[27],...t)})),t.$on("change",(function(...t){return e[18](e[27],...t)})),t.$on("artificialChange",(function(...t){return e[19](e[27],...t)})),t.$on("focus",e[20]),t.$on("blur",e[21]),t.$on("recordSelectorOpen",e[22]),t.$on("recordSelectorSubmit",e[23]),t.$on("recordSelectorCancel",e[24]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};32&r&&(o.class="record-selector-input column-"+e[5].id),1&r&&(o.componentAndProps=e[0].inputComponentAndProps),64&r&&(o.value=e[6]),512&r&&(o.recordSummary=e[9]),36&r&&(o.setRecordSummary=e[15]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EA(e){let t;return{c(){t=H("div"),U(t,"class","overlay svelte-p6cy88")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function kA(e){let t,n,r,o,s,i,a,l,c,u;n=new xo({props:{controller:e[10],$$slots:{default:[SA]},$$scope:{ctx:e}}}),l=new ci({props:{$$slots:{default:[CA,({handleNewValue:e})=>({27:e}),({handleNewValue:e})=>e?134217728:0]},$$scope:{ctx:e}}}),l.$on("artificialChange",e[11]);let d=e[3]&&EA();return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div"),s=H("div"),i=F(e[8]),a=j(),rt(l.$$.fragment),c=j(),d&&d.c(),U(s,"class","search-value svelte-p6cy88"),U(o,"class","input-wrapper"),U(t,"class","column-header-cell svelte-p6cy88"),te(t,"has-nested-selector-open",e[3])},m(p,$){L(p,t,$),ot(n,t,null),O(t,r),O(t,o),O(o,s),O(s,i),O(o,a),ot(l,o,null),e[25](o),O(t,c),d&&d.m(t,null),u=!0},p(e,r){const o={};268435457&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),(!u||256&r)&&G(i,e[8]);const s={};402653797&r&&(s.$$scope={dirty:r,ctx:e}),l.$set(s),e[3]?d||(d=EA(),d.c(),d.m(t,null)):d&&(d.d(1),d=null),(!u||8&r)&&te(t,"has-nested-selector-open",e[3])},i(e){u||(je(n.$$.fragment,e),je(l.$$.fragment,e),u=!0)},o(e){qe(n.$$.fragment,e),qe(l.$$.fragment,e),u=!1},d(r){r&&P(t),st(n),st(l),e[25](null),d&&d.d()}}}function IA(e){let t,n;return t=new oA({props:{rowType:"columnHeaderRow",columnType:"dataColumn",overflowDetails:e[4],showAboveOverlay:e[3],$$slots:{default:[kA]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.overflowDetails=e[4]),8&n&&(r.showAboveOverlay=e[3]),268436461&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TA(e,t,n){let r,s,i,a,l,c=o,u=()=>(c(),c=p(g,(e=>n(13,a=e))),g),d=o,$=()=>(d(),d=p(h,(e=>n(14,l=e))),h);e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>d()));const m=new lo;let{processedColumn:f}=t,{searchFuzzy:h}=t;$();let{recordSummaryStore:g}=t;u();let y,v,{hasNestedSelectorOpen:b}=t,{overflowDetails:w}=t,_="";async function x(){await ke(),n(8,_=v?.value??"")}pe((()=>{v=y.querySelector("input[type=text], textarea")}));return e.$$set=e=>{"processedColumn"in e&&n(0,f=e.processedColumn),"searchFuzzy"in e&&$(n(1,h=e.searchFuzzy)),"recordSummaryStore"in e&&u(n(2,g=e.recordSummaryStore)),"hasNestedSelectorOpen"in e&&n(3,b=e.hasNestedSelectorOpen),"overflowDetails"in e&&n(4,w=e.overflowDetails)},e.$$.update=()=>{1&e.$$.dirty&&n(5,({column:r}=f),r),16416&e.$$.dirty&&n(6,s=l.get(r.id)),8288&e.$$.dirty&&n(9,i=a.get(String(r.id))?.get(String(s)))},[f,h,g,b,w,r,s,y,_,i,m,function(e){const t=e.detail;h.update((e=>e.with(r.id,t)))},x,a,l,(e,t)=>g.addBespokeRecordSummary({columnId:String(r.id),recordId:e,recordSummary:t}),(e,t)=>{x(),e({value:Kt(t),debounce:!0})},(e,t)=>{x(),e({value:Gt(t),debounce:!0})},(e,t)=>e({value:Kt(t),debounce:!1}),(e,t)=>e({value:Gt(t),debounce:!1}),function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(e){we[e?"unshift":"push"]((()=>{y=e,n(7,y)}))}]}class DA extends at{constructor(e){super(),it(this,e,TA,IA,d,{processedColumn:0,searchFuzzy:1,recordSummaryStore:2,hasNestedSelectorOpen:3,overflowDetails:4})}}function MA(e){let t,n,r,o,s,a,l,c,u;const d=[e[3]];let p={};for(let f=0;f<d.length;f+=1)p=i(p,d[f]);r=new Kr({props:p});let $=[{class:"submit passthrough svelte-16wt450"}],m={};for(let f=0;f<$.length;f+=1)m=i(m,$[f]);return{c(){t=H(e[1]),n=H("span"),rt(r.$$.fragment),o=j(),s=H("span"),a=F(e[2]),U(n,"class","icon"),U(s,"class","label"),Y(t,m),te(t,"hover",e[0])},m(i,d){L(i,t,d),O(t,n),ot(r,n,null),O(t,o),O(t,s),O(s,a),l=!0,c||(u=V(t,"click",e[4]),c=!0)},p(e,n){const o=8&n?et(d,[tt(e[3])]):{};r.$set(o),(!l||4&n)&&G(a,e[2]),Y(t,m=et($,[{class:"submit passthrough svelte-16wt450"}])),te(t,"hover",e[0])},i(e){l||(je(r.$$.fragment,e),l=!0)},o(e){qe(r.$$.fragment,e),l=!1},d(e){e&&P(t),st(r),c=!1,u()}}}function OA(e){let t,n=e[1],r=e[1]&&MA(e);return{c(){r&&r.c(),t=q()},m(e,n){r&&r.m(e,n),L(e,t,n)},p(e,[o]){e[1]?n?d(n,e[1])?(r.d(1),r=MA(e),r.c(),r.m(t.parentNode,t)):r.p(e,o):(r=MA(e),r.c(),r.m(t.parentNode,t)):n&&(r.d(1),r=null),n=e[1]},i:o,o(e){qe(r)},d(e){e&&P(t),r&&r.d(e)}}}function NA(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(6,i=e)));const a=fe();let{purpose:l}=t,{isSelected:c}=t;return e.$$set=e=>{"purpose"in e&&n(5,l=e.purpose),"isSelected"in e&&n(0,c=e.isSelected)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r="dataEntry"===l?yy:By),96&e.$$.dirty&&n(2,o=i("dataEntry"===l?"pick":"open")),32&e.$$.dirty&&n(1,s="dataEntry"===l?"button":"div")},[c,s,o,r,function(){"dataEntry"===l&&a("click")},l,i]}class AA extends at{constructor(e){super(),it(this,e,NA,OA,d,{purpose:5,isSelected:0})}}function LA(e){let t,n,r,o,s,a,l,u,d;const p=[e[14],{columnFabric:e[1]},{isActive:e[4]},{isSelectedInRange:e[5]},{disabled:e[6]},{isIndependentOfSheet:e[11]},{horizontalAlignment:e[8]},{recordSummary:e[2]},{setRecordSummary:e[3]},{searchValue:e[9]},{isProcessing:e[10]},{showTruncationPopover:e[12]},{canViewLinkedEntities:e[13]}];function $(t){e[19](t)}var m=e[15];function f(e){let t={};for(let n=0;n<p.length;n+=1)t=i(t,p[n]);return void 0!==e[0]&&(t.value=e[0]),{props:t}}return m&&(n=new m(f(e)),we.push((()=>nt(n,"value",$))),n.$on("movementKeyDown",e[20]),n.$on("activate",e[21]),n.$on("update",e[22]),n.$on("mouseenter",e[23])),{c(){t=H("div"),n&&rt(n.$$.fragment),o=j(),s=H("div"),s.innerHTML='<div class="bg svelte-v6dv5q"></div>',U(s,"class","loader svelte-v6dv5q"),U(t,"class","cell-fabric svelte-v6dv5q"),U(t,"data-column-identifier",a=e[1].id),te(t,"show-as-skeleton",e[7]),te(t,"is-independent",e[11])},m(r,i){L(r,t,i),n&&ot(n,t,null),O(t,o),O(t,s),l=!0,u||(d=[V(t,"mousedown",e[16]),V(t,"mouseenter",e[17])],u=!0)},p(e,[s]){const i=32638&s?et(p,[16384&s&&tt(e[14]),2&s&&{columnFabric:e[1]},16&s&&{isActive:e[4]},32&s&&{isSelectedInRange:e[5]},64&s&&{disabled:e[6]},2048&s&&{isIndependentOfSheet:e[11]},256&s&&{horizontalAlignment:e[8]},4&s&&{recordSummary:e[2]},8&s&&{setRecordSummary:e[3]},512&s&&{searchValue:e[9]},1024&s&&{isProcessing:e[10]},4096&s&&{showTruncationPopover:e[12]},8192&s&&{canViewLinkedEntities:e[13]}]):{};if(!r&&1&s&&(r=!0,i.value=e[0],Te((()=>r=!1))),m!==(m=e[15])){if(n){ze();const e=n;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}m?(n=new m(f(e)),we.push((()=>nt(n,"value",$))),n.$on("movementKeyDown",e[20]),n.$on("activate",e[21]),n.$on("update",e[22]),n.$on("mouseenter",e[23]),rt(n.$$.fragment),je(n.$$.fragment,1),ot(n,t,o)):n=null}else m&&n.$set(i);(!l||2&s&&a!==(a=e[1].id))&&U(t,"data-column-identifier",a),(!l||128&s)&&te(t,"show-as-skeleton",e[7]),(!l||2048&s)&&te(t,"is-independent",e[11])},i(e){l||(n&&je(n.$$.fragment,e),l=!0)},o(e){n&&qe(n.$$.fragment,e),l=!1},d(e){e&&P(t),n&&st(n),u=!1,c(d)}}}function PA(e,t,n){let r,o,s;const i=fe();let{columnFabric:a}=t,{value:l}=t,{recordSummary:c}=t,{setRecordSummary:u}=t,{isActive:d=!1}=t,{isSelectedInRange:p=!1}=t,{disabled:$=!1}=t,{showAsSkeleton:m=!1}=t,{horizontalAlignment:f}=t,{searchValue:h}=t,{isProcessing:g=!1}=t,{isIndependentOfSheet:y=!1}=t,{showTruncationPopover:v=!1}=t,{canViewLinkedEntities:b=!0}=t;return e.$$set=e=>{"columnFabric"in e&&n(1,a=e.columnFabric),"value"in e&&n(0,l=e.value),"recordSummary"in e&&n(2,c=e.recordSummary),"setRecordSummary"in e&&n(3,u=e.setRecordSummary),"isActive"in e&&n(4,d=e.isActive),"isSelectedInRange"in e&&n(5,p=e.isSelectedInRange),"disabled"in e&&n(6,$=e.disabled),"showAsSkeleton"in e&&n(7,m=e.showAsSkeleton),"horizontalAlignment"in e&&n(8,f=e.horizontalAlignment),"searchValue"in e&&n(9,h=e.searchValue),"isProcessing"in e&&n(10,g=e.isProcessing),"isIndependentOfSheet"in e&&n(11,y=e.isIndependentOfSheet),"showTruncationPopover"in e&&n(12,v=e.showTruncationPopover),"canViewLinkedEntities"in e&&n(13,b=e.canViewLinkedEntities)},e.$$.update=()=>{2&e.$$.dirty&&n(18,({cellComponentAndProps:r}=a),r),262144&e.$$.dirty&&n(15,({component:o}=r),o),262144&e.$$.dirty&&n(14,s=r.props)},[l,a,c,u,d,p,$,m,f,h,g,y,v,b,s,o,function(e){i("onSelectionStart",{e:e})},function(e){i("onMouseEnterCellWhileSelection",{e:e})},r,function(e){l=e,n(0,l)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class RA extends at{constructor(e){super(),it(this,e,PA,LA,d,{columnFabric:1,value:0,recordSummary:2,setRecordSummary:3,isActive:4,isSelectedInRange:5,disabled:6,showAsSkeleton:7,horizontalAlignment:8,searchValue:9,isProcessing:10,isIndependentOfSheet:11,showTruncationPopover:12,canViewLinkedEntities:13})}}function HA(e){let t,n;return t=new RA({props:{columnFabric:e[1],value:e[4],recordSummary:e[5],disabled:!0,showAsSkeleton:!AC(e[0]),searchValue:e[6],showTruncationPopover:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.columnFabric=e[1]),16&n&&(r.value=e[4]),32&n&&(r.recordSummary=e[5]),1&n&&(r.showAsSkeleton=!AC(e[0])),64&n&&(r.searchValue=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zA(e){let t,n;return t=new oA({props:{rowType:"dataRow",columnType:"dataColumn",$$slots:{default:[HA]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1139&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FA(e,t,n){let r,s,i,a,l,c,u=o,d=()=>(u(),u=p(g,(e=>n(8,l=e))),g),$=o,m=()=>($(),$=p(y,(e=>n(9,c=e))),y);e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>$()));let{row:f}=t,{processedColumn:h}=t,{recordSummaries:g}=t;d();let{searchFuzzy:y}=t;return m(),e.$$set=e=>{"row"in e&&n(0,f=e.row),"processedColumn"in e&&n(1,h=e.processedColumn),"recordSummaries"in e&&d(n(2,g=e.recordSummaries)),"searchFuzzy"in e&&m(n(3,y=e.searchFuzzy))},e.$$.update=()=>{2&e.$$.dirty&&n(7,({column:r}=h),r),640&e.$$.dirty&&n(6,s=c.get(r.id)),129&e.$$.dirty&&n(4,i=f?.record?.[r.id]),400&e.$$.dirty&&n(5,a=l.get(String(r.id))?.get(String(i)))},[f,h,g,y,i,a,s,r,l,c]}class jA extends at{constructor(e){super(),it(this,e,FA,zA,d,{row:0,processedColumn:1,recordSummaries:2,searchFuzzy:3})}}function qA(e,t,n){const r=e.slice();return r[67]=t[n],r[69]=n,r}function VA(e,t,n){const r=e.slice();return r[70]=t[n][0],r[71]=t[n][1],r}function BA(e,t,n){const r=e.slice();r[70]=t[n][0],r[71]=t[n][1];const o=r[71];return r[74]=o.column,r}function WA(e,t){let n,r,o;return r=new DA({props:{hasNestedSelectorOpen:t[74]===t[19],overflowDetails:t[24],processedColumn:t[71],searchFuzzy:t[4],recordSummaryStore:t[8]}}),r.$on("focus",(function(){return t[46](t[74])})),r.$on("blur",t[47]),r.$on("recordSelectorOpen",(function(){return t[48](t[74])})),r.$on("recordSelectorSubmit",t[49]),r.$on("recordSelectorCancel",t[50]),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};786432&n[0]&&(o.hasNestedSelectorOpen=t[74]===t[19]),262144&n[0]&&(o.processedColumn=t[71]),16&n[0]&&(o.searchFuzzy=t[4]),256&n[0]&&(o.recordSummaryStore=t[8]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function UA(e){let t,n;return t=new AA({props:{purpose:e[13],isSelected:e[2]===e[69]}}),t.$on("click",(function(){return e[51](e[69])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};8192&r[0]&&(o.purpose=e[13]),4&r[0]&&(o.isSelected=e[2]===e[69]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YA(e,t){let n,r,o;return r=new jA({props:{row:t[67],processedColumn:t[71],recordSummaries:t[8],searchFuzzy:t[4]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n[0]&&(o.row=t[67]),262144&n[0]&&(o.processedColumn=t[71]),256&n[0]&&(o.recordSummaries=t[8]),16&n[0]&&(o.searchFuzzy=t[4]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function KA(e){let t,n,r,o,s=[],i=new Map;t=new oA({props:{rowType:"dataRow",columnType:"rowHeaderColumn",rowIsSelected:e[2]===e[69],overflowDetails:e[24],$$slots:{default:[UA]},$$scope:{ctx:e}}});let a=[...e[18]];const l=e=>e[70];for(let c=0;c<a.length;c+=1){let t=VA(e,a,c),n=l(t);i.set(n,s[c]=YA(n,t))}return{c(){rt(t.$$.fragment),n=j();for(let e=0;e<s.length;e+=1)s[e].c();r=j()},m(e,i){ot(t,e,i),L(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);L(e,r,i),o=!0},p(e,n){const o={};4&n[0]&&(o.rowIsSelected=e[2]===e[69]),8196&n[0]|32768&n[2]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),262418&n[0]&&(a=[...e[18]],ze(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Ze,YA,r,VA),Fe())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)je(s[e]);o=!0}},o(e){qe(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)qe(s[t]);o=!1},d(e){st(t,e),e&&P(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&P(r)}}}function GA(e){let t,n;return t=new lA({props:{href:e[22](e[67]),index:e[69],selectionIndex:e[2],setSelectionIndex:e[52],$$slots:{default:[KA]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[53](e[69])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2&r[0]&&(o.href=e[22](e[67])),4&r[0]&&(o.selectionIndex=e[2]),1&r[0]&&(o.setSelectionIndex=e[52]),270614&r[0]|32768&r[2]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XA(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f=[],h=new Map;i=new oA({props:{rowType:"columnHeaderRow",columnType:"rowHeaderColumn",overflowDetails:e[24]}});let g=[...e[18]];const y=e=>e[70];for(let _=0;_<g.length;_+=1){let t=BA(e,g,_),n=y(t);h.set(n,f[_]=WA(n,t))}let v=e[1],b=[];for(let _=0;_<v.length;_+=1)b[_]=GA(qA(e,v,_));const w=e=>qe(b[e],1,1,(()=>{b[e]=null}));return{c(){t=H("div"),n=H("div"),r=H("div"),o=H("div"),s=H("div"),rt(i.$$.fragment),a=j();for(let e=0;e<f.length;e+=1)f[e].c();l=j(),c=H("div");for(let e=0;e<b.length;e+=1)b[e].c();u=j(),d=H("div"),U(s,"class","tr inputs svelte-1ymk5sc"),U(o,"class","thead svelte-1ymk5sc"),U(c,"class","tbody svelte-1ymk5sc"),U(r,"class","table svelte-1ymk5sc"),U(n,"class","scroll-container svelte-1ymk5sc"),U(d,"class","inset-shadow svelte-1ymk5sc"),U(t,"class","inset-shadow-positioner svelte-1ymk5sc"),te(t,"has-overflow-top",e[14]),te(t,"has-overflow-right",e[15]),te(t,"has-overflow-bottom",e[16]),te(t,"has-overflow-left",e[17])},m(h,g){L(h,t,g),O(t,n),O(n,r),O(r,o),O(o,s),ot(i,s,null),O(s,a);for(let e=0;e<f.length;e+=1)f[e].m(s,null);O(r,l),O(r,c);for(let e=0;e<b.length;e+=1)b[e].m(c,null);O(t,u),O(t,d),p=!0,$||(m=C(tA.call(null,n,e[24])),$=!0)},p(e,n){if(20709648&n[0]&&(g=[...e[18]],ze(),f=Qe(f,n,y,1,e,g,h,s,Ze,WA,null,BA),Fe()),29630743&n[0]){let t;for(v=e[1],t=0;t<v.length;t+=1){const r=qA(e,v,t);b[t]?(b[t].p(r,n),je(b[t],1)):(b[t]=GA(r),b[t].c(),je(b[t],1),b[t].m(c,null))}for(ze(),t=v.length;t<b.length;t+=1)w(t);Fe()}(!p||16384&n[0])&&te(t,"has-overflow-top",e[14]),(!p||32768&n[0])&&te(t,"has-overflow-right",e[15]),(!p||65536&n[0])&&te(t,"has-overflow-bottom",e[16]),(!p||131072&n[0])&&te(t,"has-overflow-left",e[17])},i(e){if(!p){je(i.$$.fragment,e);for(let e=0;e<g.length;e+=1)je(f[e]);for(let e=0;e<v.length;e+=1)je(b[e]);p=!0}},o(e){qe(i.$$.fragment,e);for(let t=0;t<f.length;t+=1)qe(f[t]);b=b.filter(Boolean);for(let t=0;t<b.length;t+=1)qe(b[t]);p=!1},d(e){e&&P(t),st(i);for(let t=0;t<f.length;t+=1)f[t].d();R(b,e),$=!1,m()}}}function ZA(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z,F,j,q,V,B=o,W=o,U=o,Y=o,K=o,G=o,X=o,Z=o,J=o;m(e,UO,(e=>n(42,O=e))),m(e,QO,(e=>n(60,N=e))),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>J()));let{controller:Q}=t,{tabularData:ee}=t,{nestedController:te}=t,{submitResult:ne}=t,{isHoveringCreate:re=!1}=t;const oe=CN(ee);let se,ie;function ae(e){te.cancel(),n(34,se=e)}function le(){n(34,se=void 0)}function ce(e){if(void 0===ie)return;const t=ie+e;n(0,ie=Math.min(Math.max(t,0),E-1))}function ue(e){const{record:t}=e;if(t&&0!==Object.keys(t).length)return PC(t,T)}function de(e){const t=C[e];if(!t)return;const{record:n}=t,r=ue(t);if(!n||void 0===r)return;const o=bC({template:O.data.get(c)?.settings?.preview_settings?.template??"",inputData:mC(n),transitiveData:M});ne({recordId:r,recordSummary:o,record:n})}function $e(e){if(D)return;let t=!0;switch(e.key){case"ArrowUp":ce(-1);break;case"ArrowDown":ce(1);break;case"Enter":!k||e.shiftKey?void 0!==I&&de(I):t=!1;break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}pe((()=>(window.addEventListener("keydown",$e,{capture:!0}),()=>{window.removeEventListener("keydown",$e,{capture:!0})}))),pe((async()=>{const e=function({table:e,columns:t}){return function(){if(!e)return;const{template:t}=e.settings.preview_settings,n=t.match(/\{\d+\}/)?.[0]??void 0;if(!n)return;const r=parseInt(n.slice(1,-1),10);return Number.isNaN(r)?void 0:r}()??function(){const e=t.find((e=>!e.primary_key));if(e)return e.id}()}({table:$,columns:T});if(void 0===e)return;await ke();const t=`.record-selector-input.column-${e}`,n=document.querySelector(t);n&&n.focus()}));const me={hasOverflowTop:mt(!1),hasOverflowLeft:mt(!1),hasOverflowBottom:mt(!1),hasOverflowRight:mt(!1)},{hasOverflowTop:fe,hasOverflowRight:he,hasOverflowBottom:ge,hasOverflowLeft:ye}=me;m(e,fe,(e=>n(14,H=e))),m(e,he,(e=>n(15,z=e))),m(e,ge,(e=>n(16,F=e))),m(e,ye,(e=>n(17,j=e)));return e.$$set=e=>{"controller"in e&&n(29,Q=e.controller),"tabularData"in e&&n(30,ee=e.tabularData),"nestedController"in e&&n(31,te=e.nestedController),"submitResult"in e&&n(32,ne=e.submitResult),"isHoveringCreate"in e&&n(33,re=e.isHoveringCreate)},e.$$.update=()=>{1&e.$$.dirty[1]&&Db(te),536870912&e.$$.dirty[0]&&(n(12,({columnWithNestedSelectorOpen:r,purpose:s}=Q),r,(n(11,s),Y(),Y=p(s,(e=>n(13,A=e))),s)),J(),J=p(r,(e=>n(19,V=e)))),1073741824&e.$$.dirty[0]&&oe.set(ee),1073741824&e.$$.dirty[0]&&(n(10,({constraintsDataStore:i,meta:a,columnsDataStore:l,id:c,recordsData:u,processedColumns:d}=ee),i,(n(40,a),n(30,ee)),(n(41,l),n(30,ee)),(n(35,c),n(30,ee)),(n(38,u),n(30,ee)),(n(9,d),Z(),Z=p(d,(e=>n(18,q=e))),d)),G(),G=p(i,(e=>n(44,P=e)))),2064&e.$$.dirty[1]&&($=O.data.get(c)),128&e.$$.dirty[1]&&(n(8,({recordSummaries:f,state:h}=u),f,(n(7,h),X(),X=p(h,(e=>n(45,R=e))),h)),U(),U=p(f,(e=>n(59,M=e)))),16384&e.$$.dirty[1]&&n(36,g=R===Rv.Loading),8192&e.$$.dirty[1]&&n(39,({constraints:y}=P),y),1&e.$$.dirty[1]&&(n(6,v=te.isOpen),W(),W=p(v,(e=>n(58,D=e)))),1024&e.$$.dirty[1]&&(n(5,({columns:b}=l),b),B(),B=p(b,(e=>n(57,T=e)))),512&e.$$.dirty[1]&&n(4,({searchFuzzy:w}=a),w),256&e.$$.dirty[1]&&n(37,_=new ut(y.filter(wN).filter((e=>1===e.columns.length)).map((e=>e.columns[0])))),128&e.$$.dirty[1]&&(n(3,x=u.savedRecords),K(),K=p(x,(e=>n(43,L=e)))),4096&e.$$.dirty[1]&&n(1,C=L),2&e.$$.dirty[0]&&(E=C.length),72&e.$$.dirty[1]&&(k=(()=>{if(void 0!==se)return _.has(se.id)?se:void 0})()),32&e.$$.dirty[1]&&n(0,ie=g?void 0:0),1&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(2,I=re?void 0:ie)},[ie,C,I,x,w,b,v,h,f,d,i,s,r,A,H,z,F,j,q,V,ae,le,function(e){if("dataEntry"===A)return;const t=ue(e);return t?N({tableId:c,recordId:t}):void 0},de,me,fe,he,ge,ye,Q,ee,te,ne,re,se,c,g,_,u,y,a,l,O,L,P,R,e=>ae(e),()=>le(),e=>{S(r,V=e,V)},()=>{S(r,V=void 0,V)},()=>{S(r,V=void 0,V)},e=>de(e),e=>{n(0,ie=e)},e=>de(e)]}class JA extends at{constructor(e){super(),it(this,e,ZA,XA,d,{controller:29,tabularData:30,nestedController:31,submitResult:32,isHoveringCreate:33},null,[-1,-1,-1])}}function QA(e){let t,n,r=(e[4]||!e[10])&&eL();return{c(){t=H("div"),r&&r.c(),U(t,"class","content-loading svelte-nebr56"),te(t,"prevent-user-entry",e[4])},m(e,o){L(e,t,o),r&&r.m(t,null),n=!0},p(e,o){e[4]||!e[10]?r?1040&o[0]&&je(r,1):(r=eL(),r.c(),je(r,1),r.m(t,null)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe()),(!n||16&o[0])&&te(t,"prevent-user-entry",e[4])},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){e&&P(t),r&&r.d()}}}function eL(e){let t,n;return t=new Nr({props:{size:"2em"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tL(e){let t,n;return t=new JA({props:{tabularData:e[2],controller:e[1],nestedController:e[3],submitResult:e[20],isHoveringCreate:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.tabularData=e[2]),2&n[0]&&(r.controller=e[1]),8&n[0]&&(r.nestedController=e[3]),32&n[0]&&(r.isHoveringCreate=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nL(e){let t,n,r,o;const s=[oL,rL],i=[];function a(e,t){return e[17]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function rL(e){let t;function n(e,t){return e[8]?iL:sL}let r=n(e),s=r(e);return{c(){t=H("div"),s.c(),U(t,"class","no-results svelte-nebr56")},m(e,n){L(e,t,n),s.m(t,null)},p(e,o){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null)))},i:o,o:o,d(e){e&&P(t),s.d()}}}function oL(e){let t,n,r;return n=new Nr({props:{size:"2em"}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","results-loading svelte-nebr56")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function sL(e){let t,n=e[18]("no_existing_records")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){262144&r[0]&&n!==(n=e[18]("no_existing_records")+"")&&G(t,n)},d(e){e&&P(t)}}}function iL(e){let t,n=e[18]("no_matching_records")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){262144&r[0]&&n!==(n=e[18]("no_matching_records")+"")&&G(t,n)},d(e){e&&P(t)}}}function aL(e){let t,n,r;return n=new Hn({props:{size:"small",appearance:"secondary",$$slots:{default:[lL]},$$scope:{ctx:e}}}),n.$on("click",e[21]),n.$on("mouseenter",e[35]),n.$on("mouseleave",e[36]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","button svelte-nebr56")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};262144&t[0]|8192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function lL(e){let t,n,r,o,s,a=e[18]("create_record_from_search")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||262144&n[0])&&a!==(a=e[18]("create_record_from_search")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function cL(e){let t;function n(e,t){return e[8]?dL:uL}let r=n(e),o=r(e);return{c(){t=H("div"),o.c(),U(t,"class","message svelte-nebr56")},m(e,n){L(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&P(t),o.d()}}}function uL(e){let t,n=e[18]("first_ten_records_shown")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){262144&r[0]&&n!==(n=e[18]("first_ten_records_shown")+"")&&G(t,n)},d(e){e&&P(t)}}}function dL(e){let t,n=e[18]("ten_best_matches_shown")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){262144&r[0]&&n!==(n=e[18]("ten_best_matches_shown")+"")&&G(t,n)},d(e){e&&P(t)}}}function pL(e){let t,n,r,o,s,i,a,l,c=(e[17]||e[4])&&QA(e),u=e[10]&&tL(e),d=e[10]&&!e[6].length&&nL(e),p=e[8]&&e[16]&&aL(e),$=10===e[6].length&&e[10]&&cL(e);return{c(){t=H("div"),c&&c.c(),n=j(),u&&u.c(),r=j(),d&&d.c(),o=j(),s=H("div"),p&&p.c(),i=j(),$&&$.c(),U(s,"class","footer svelte-nebr56"),U(t,"class","record-selector-content svelte-nebr56"),Ie((()=>e[37].call(t)))},m(m,f){L(m,t,f),c&&c.m(t,null),O(t,n),u&&u.m(t,null),O(t,r),d&&d.m(t,null),O(t,o),O(t,s),p&&p.m(s,null),O(s,i),$&&$.m(s,null),a=ee(t,e[37].bind(t)),l=!0},p(e,a){e[17]||e[4]?c?(c.p(e,a),131088&a[0]&&je(c,1)):(c=QA(e),c.c(),je(c,1),c.m(t,n)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe()),e[10]?u?(u.p(e,a),1024&a[0]&&je(u,1)):(u=tL(e),u.c(),je(u,1),u.m(t,r)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe()),e[10]&&!e[6].length?d?(d.p(e,a),1088&a[0]&&je(d,1)):(d=nL(e),d.c(),je(d,1),d.m(t,o)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe()),e[8]&&e[16]?p?(p.p(e,a),65792&a[0]&&je(p,1)):(p=aL(e),p.c(),je(p,1),p.m(s,i)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe()),10===e[6].length&&e[10]?$?$.p(e,a):($=cL(e),$.c(),$.m(s,null)):$&&($.d(1),$=null)},i(e){l||(je(c),je(u),je(d),je(p),l=!0)},o(e){qe(c),qe(u),qe(d),qe(p),l=!1},d(e){e&&P(t),c&&c.d(),u&&u.d(),d&&d.d(),p&&p.d(),$&&$.d(),a()}}}function $L(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L,P,R=o,H=o,z=o,F=o,j=o,q=o,V=o;m(e,UO,(e=>n(39,S=e))),m(e,QO,(e=>n(41,k=e))),m(e,$M,(e=>n(33,N=e))),m(e,kS,(e=>n(34,A=e))),m(e,Mg,(e=>n(18,P=e))),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V()));const B=cb();m(e,B,(e=>n(32,O=e)));let{controller:W}=t,{tabularData:U}=t,{nestedController:Y}=t,{height:K=0}=t,G=!1,X=!1;function Z(e){if("dataEntry"===I)W.submit(e);else if("navigation"===I){const{recordId:t}=e,n=k({tableId:$,recordId:t});n&&(qN.goto(n),W.cancel())}}return e.$$set=e=>{"controller"in e&&n(1,W=e.controller),"tabularData"in e&&n(2,U=e.tabularData),"nestedController"in e&&n(3,Y=e.nestedController),"height"in e&&n(0,K=e.height)},e.$$.update=()=>{8&e.$$.dirty[1]&&n(27,r=A),4&e.$$.dirty[1]&&n(26,s=N),201326592&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(16,i=O?.hasPermission({database:r,schema:s},"canEditTableRecords")??!1),4&e.$$.dirty[0]&&(n(15,({constraintsDataStore:a,meta:l,isLoading:c,columnsDataStore:u,recordsData:d,id:$}=U),a,(n(23,l),n(2,U)),(n(14,c),V(),V=p(c,(e=>n(17,L=e))),c),(n(25,u),n(2,U)),(n(22,d),n(2,U))),q(),q=p(a,(e=>n(31,M=e)))),2&e.$$.dirty[0]&&(n(13,({purpose:f}=W),f),z(),z=p(f,(e=>n(42,I=e)))),33554432&e.$$.dirty[0]&&(n(12,({columns:h,fetchStatus:g}=u),h,(n(11,g),j(),j=p(g,(e=>n(30,D=e))),g)),R(),R=p(h,(e=>n(40,C=e)))),1&e.$$.dirty[1]&&n(24,({state:y}=M),y),1090519040&e.$$.dirty[0]&&n(10,v="processing"!==D?.state&&y===Rv.Done),8388608&e.$$.dirty[0]&&(n(9,({searchFuzzy:b}=l),b),H(),H=p(b,(e=>n(28,E=e)))),268435456&e.$$.dirty[0]&&n(8,w=E.size>0),4194304&e.$$.dirty[0]&&(n(7,_=d.savedRecords),F(),F=p(_,(e=>n(29,T=e)))),536870912&e.$$.dirty[0]&&n(6,x=T)},[K,W,U,Y,G,X,x,_,w,b,v,g,h,f,c,a,i,L,P,B,Z,async function(){const e=`/api/db/v0/tables/${$}/records/`,t=function(){const e=C.filter((e=>e.primary_key)).map((e=>e.id));return Object.fromEntries(E.without(e))}();try{n(4,G=!0);const r=await Uv(e,t),o=r.results[0],s=PC(o,C),i=r.preview_data??[],a=S.data.get($)?.settings?.preview_settings?.template;if(!a)throw new Error("No record summary template found in API response.");Z({recordId:s,recordSummary:bC({inputData:mC(o),template:a,transitiveData:gC(i)}),record:o})}catch(r){Cv.error(rc(r))}finally{n(4,G=!1)}},d,l,y,u,s,r,E,T,D,M,O,N,A,()=>{n(5,X=!0)},()=>{n(5,X=!1)},function(){K=this.clientHeight,n(0,K)}]}class mL extends at{constructor(e){super(),it(this,e,$L,pL,d,{controller:1,tabularData:2,nestedController:3,height:0},null,[-1,-1])}}const{window:fL}=Ge;function hL(e){let t,n,r;return n=new tp({props:{canScrollBody:!1,$$slots:{title:[wL],default:[yL]},$$scope:{ctx:e}}}),n.$on("close",e[20]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","record-selector-window svelte-n6efra"),Z(t,"margin-bottom",e[5])},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,o){const s={};4200863&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||32&o)&&Z(t,"margin-bottom",e[5])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function gL(e){let t,n,r,o,s,i,a,l;return o=new SL({props:{windowPositionerElement:e[1],controller:e[3]}}),{c(){t=H("div"),n=j(),r=H("div"),rt(o.$$.fragment),U(t,"class","overlay svelte-n6efra"),U(r,"class","nested-record-selector")},m(c,u){L(c,t,u),L(c,n,u),L(c,r,u),ot(o,r,null),i=!0,a||(l=C(s=ln.call(null,r,e[1])),a=!0)},p(e,t){const n={};2&t&&(n.windowPositionerElement=e[1]),8&t&&(n.controller=e[3]),o.$set(n),s&&u(s.update)&&2&t&&s.update.call(null,e[1])},i(e){i||(je(o.$$.fragment,e),i=!0)},o(e){qe(o.$$.fragment,e),i=!1},d(e){e&&P(t),e&&P(n),e&&P(r),st(o),a=!1,l()}}}function yL(e){let t,n,r,o,s;function i(t){e[19](t)}let a={tabularData:e[8],controller:e[0],nestedController:e[3]};void 0!==e[2]&&(a.height=e[2]),t=new mL({props:a}),we.push((()=>nt(t,"height",i)));let l=e[4]&&gL(e);return{c(){rt(t.$$.fragment),r=j(),l&&l.c(),o=q()},m(e,n){ot(t,e,n),L(e,r,n),l&&l.m(e,n),L(e,o,n),s=!0},p(e,r){const s={};256&r&&(s.tabularData=e[8]),1&r&&(s.controller=e[0]),8&r&&(s.nestedController=e[3]),!n&&4&r&&(n=!0,s.height=e[2],Te((()=>n=!1))),t.$set(s),e[4]?l?(l.p(e,r),16&r&&je(l,1)):(l=gL(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){qe(t.$$.fragment,e),qe(l),s=!1},d(e){st(t,e),e&&P(r),l&&l.d(e),e&&P(o)}}}function vL(e){let t,n;return t=new gw({props:{table:{name:e[7]},truncate:!1}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.table={name:e[7]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bL(e){let t,n,r="tableName"===e[21]&&e[7]&&vL(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[21]&&e[7]?r?(r.p(e,n),2097280&n&&je(r,1)):(r=vL(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function wL(e){let t,n,r;return n=new Kg({props:{text:"dataEntry"===e[11]?e[12]("pick_table_record"):e[12]("open_table_record"),$$slots:{default:[bL,({slotName:e})=>({21:e}),({slotName:e})=>e?2097152:0]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","title")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};6144&t&&(r.text="dataEntry"===e[11]?e[12]("pick_table_record"):e[12]("open_table_record")),6291584&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function _L(e){let t,n,r,o,s=e[8]&&hL(e);return{c(){s&&s.c(),t=q()},m(i,a){s&&s.m(i,a),L(i,t,a),n=!0,r||(o=[V(fL,"keydown",e[13]),V(fL,"click",e[14],!0)],r=!0)},p(e,[n]){e[8]?s?(s.p(e,n),256&n&&je(s,1)):(s=hL(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){s&&s.d(e),e&&P(t),r=!1,c(o)}}}function xL(e,t,n){let r,s,i,a,l,c,u,d,f,h,g,y,v,b,w=o,_=o,x=o;m(e,NS,(e=>n(17,g=e))),m(e,UO,(e=>n(18,y=e))),m(e,Mg,(e=>n(12,b=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x()));let{controller:S}=t,{windowPositionerElement:C}=t,E=0;return e.$$set=e=>{"controller"in e&&n(0,S=e.controller),"windowPositionerElement"in e&&n(1,C=e.windowPositionerElement)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=new Ib({nestingLevel:S.nestingLevel+1})),1&e.$$.dirty&&(n(10,({tableId:s,purpose:i}=S),s,(n(9,i),x(),x=p(i,(e=>n(11,v=e))),i)),_(),_=p(s,(e=>n(16,h=e)))),327680&e.$$.dirty&&n(15,a=h&&y.data.get(h)),229376&e.$$.dirty&&n(8,l=h&&a?new xN({id:h,abstractTypesMap:g.data,meta:new aE({pagination:new jC({size:10})}),hasEnhancedPrimaryKeyCell:!1,table:a}):void 0),65536&e.$$.dirty&&n(7,c=h?function(e){return $(UO).data.get(e)?.name}(h):void 0),8&e.$$.dirty&&(n(6,u=r.isOpen),w(),w=p(u,(e=>n(4,f=e)))),20&e.$$.dirty&&n(5,d=f?`calc(2rem - ${E}px)`:"0")},[S,C,E,r,f,d,u,c,l,i,s,v,b,function(e){"Escape"!==e.key||f||S.cancel()},function(e){if(f)return;const t=C.lastChild.firstChild?.firstChild;(function(e,t){let n=e;for(;null!==n;){if(n===t)return!0;n=n.parentNode}return!1})(e.target,t)||S.cancel()},a,h,g,y,function(e){E=e,n(2,E)},()=>S.cancel()]}class SL extends at{constructor(e){super(),it(this,e,xL,_L,d,{controller:0,windowPositionerElement:1})}}function CL(e){let t,n,r,o,s,i,a,l,c=e[2]&&EL(e);return s=new SL({props:{windowPositionerElement:e[3],controller:e[0]}}),{c(){t=H("div"),c&&c.c(),n=j(),r=H("div"),o=H("div"),rt(s.$$.fragment),U(o,"class","root-record-selector svelte-2903t4"),U(r,"class","window-positioner svelte-2903t4"),U(t,"class","modal-record-selector svelte-2903t4")},m(u,d){L(u,t,d),c&&c.m(t,null),O(t,n),O(t,r),O(r,o),ot(s,o,null),e[11](r),i=!0,a||(l=C(ln.call(null,t)),a=!0)},p(e,r){e[2]?c?(c.p(e,r),4&r&&je(c,1)):(c=EL(e),c.c(),je(c,1),c.m(t,n)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe());const o={};8&r&&(o.windowPositionerElement=e[3]),1&r&&(o.controller=e[0]),s.$set(o)},i(e){i||(je(c),je(s.$$.fragment,e),i=!0)},o(e){qe(c),qe(s.$$.fragment,e),i=!1},d(n){n&&P(t),c&&c.d(),st(s),e[11](null),a=!1,l()}}}function EL(e){let t,n,r,s,i,a;return{c(){t=H("div"),U(t,"class","overlay svelte-2903t4")},m(n,r){L(n,t,r),s=!0,i||(a=V(t,"click",e[7]),i=!0)},p:o,i(e){s||(Ie((()=>{r&&r.end(1),n=Be(t,zl,{duration:150}),n.start()})),s=!0)},o(e){n&&n.invalidate(),r=We(t,zl,{duration:150}),s=!1},d(e){e&&P(t),e&&r&&r.end(),i=!1,a()}}}function kL(e){let t,n,r=e[1]&&CL(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=CL(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function IL(e,t,n){let r,s,i,a,l,c,u,d,$=o,m=o,f=o;e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>m())),e.$$.on_destroy.push((()=>f()));const h=fe();let g,{recordSelectorController:y}=t,{modalController:v}=t;return e.$$set=e=>{"recordSelectorController"in e&&n(0,y=e.recordSelectorController),"modalController"in e&&n(8,v=e.modalController)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({columnWithNestedSelectorOpen:r}=y),r),f(),f=p(r,(e=>n(10,d=e)))),1024&e.$$.dirty&&n(9,s=!!d),256&e.$$.dirty&&(n(5,({isOpen:i,isOnTop:a}=v),i,(n(4,a),m(),m=p(a,(e=>n(2,u=e))),a)),$(),$=p(i,(e=>n(1,c=e)))),516&e.$$.dirty&&(l=u&&!s),2&e.$$.dirty&&async function(e){await ke(),h(e?"open":"close")}(c)},[y,c,u,g,a,i,r,function(){l&&(S(i,c=!1,c),y.cancel())},v,s,d,function(e){we[e?"unshift":"push"]((()=>{g=e,n(3,g)}))}]}class TL extends at{constructor(e){super(),it(this,e,IL,kL,d,{recordSelectorController:0,modalController:8})}}const DL=Symbol("breadcrumb items store");function ML(){return ge(DL)}function OL(e,t){let n=Array.from(e);return n=n.map((([e,n])=>[e,Array.from(n).filter((e=>function(e,t){const n=Zt(e.label),r=Zt(t);return n.includes(r)}(e,t)))])).filter((([,e])=>e.length>0)),new Map(n)}function NL(e){let t,n,r,o,s,i,a,l,c,u;n=new q$({props:{entries:Cv.entries}}),o=new Mp({props:{controller:Iv}}),i=new TL({props:{recordSelectorController:e[1],modalController:e[0]}});const d=e[7].default,p=f(d,e,e[6],null);return{c(){t=j(),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),p&&p.c()},m(d,$){L(d,t,$),ot(n,d,$),L(d,r,$),ot(o,d,$),L(d,s,$),ot(i,d,$),L(d,a,$),p&&p.m(d,$),l=!0,c||(u=V(document.body,"copy",e[3]),c=!0)},p(e,[t]){p&&p.p&&(!l||64&t)&&y(p,d,e,e[6],l?g(d,e[6],t,null):v(e[6]),null)},i(e){l||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),je(p,e),l=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(p,e),l=!1},d(e){e&&P(t),st(n,e),e&&P(r),st(o,e),e&&P(s),st(i,e),e&&P(a),p&&p.d(e),c=!1,u()}}}function AL(e,t,n){let r,o,{$$slots:s={},$$scope:i}=t,{commonData:a}=t;function l(){const e=function(e){if(void 0!==cb())throw Error("User profile store context has already been set");const t=mt(e instanceof nb?e:new nb(e));return he(lb,t),t}("anonymous"===a.routing_context?new rb:a.user),t=$(e);a.is_authenticated&&t.isSuperUser&&function(e){if(void 0!==kb())throw Error("ReleaseDataStore context has already been set");he(Eb,Cb(e))}(a.current_release_tag_name)}he(DL,mt([]));const c=Sv.spawnModalController(),u=new Ib({onOpen:()=>c.open(),onClose:()=>c.close(),nestingLevel:0});Db(u);const d=function(){const e=mt(void 0);return he(Dv,e),e}();return m(e,d,(e=>n(5,o=e))),e.$$set=e=>{"commonData"in e&&n(4,a=e.commonData),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{16&e.$$.dirty&&l(),32&e.$$.dirty&&(r=o)},[c,u,d,function(e){r&&(r.handleCopy(e),e.preventDefault())},a,o,i,s]}class LL extends at{constructor(e){super(),it(this,e,AL,NL,d,{commonData:4})}}function PL(e){let t,n=e[0].nickname+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].nickname+"")&&G(t,n)},d(e){e&&P(t)}}}function RL(e){let t,n;return t=new uw({props:{icon:zy,iconHasBox:e[1],$$slots:{default:[PL]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.iconHasBox=e[1]),5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HL(e,t,n){let{database:r}=t,{iconHasBox:o=!1}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database),"iconHasBox"in e&&n(1,o=e.iconHasBox)},[r,o]}class zL extends at{constructor(e){super(),it(this,e,HL,RL,d,{database:0,iconHasBox:1})}}function FL(e){let t,n=e[0].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&G(t,n)},d(e){e&&P(t)}}}function jL(e){let t,n,r;return n=new uw({props:{icon:Yy,iconHasBox:e[1],$$slots:{default:[FL]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","schema-name svelte-1a5ste4"),te(t,"is-locked",e[2])},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[o]){const s={};2&o&&(s.iconHasBox=e[1]),9&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s),(!r||4&o)&&te(t,"is-locked",e[2])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function qL(e,t,n){let r,{schema:o}=t,{iconHasBox:s=!1}=t;return e.$$set=e=>{"schema"in e&&n(0,o=e.schema),"iconHasBox"in e&&n(1,s=e.iconHasBox)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r="public"===o.name)},[o,s,r]}class VL extends at{constructor(e){super(),it(this,e,qL,jL,d,{schema:0,iconHasBox:1})}}function BL(e){let t,n,r;const o=e[2].default,s=f(o,e,e[1],null);return{c(){t=H("span"),n=H("a"),s&&s.c(),U(n,"href",e[0]),U(n,"class","svelte-1az8rx5"),U(t,"class","breadcrumb-link svelte-1az8rx5")},m(e,o){L(e,t,o),O(t,n),s&&s.m(n,null),r=!0},p(e,[t]){s&&s.p&&(!r||2&t)&&y(s,o,e,e[1],r?g(o,e[1],t,null):v(e[1]),null),(!r||1&t)&&U(n,"href",e[0])},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e)}}}function WL(e,t,n){let{$$slots:r={},$$scope:o}=t,{href:s}=t;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class UL extends at{constructor(e){super(),it(this,e,WL,BL,d,{href:0})}}function YL(e){let t,n,r,o,s;const a=[xy];let l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return n=new Kr({props:l}),{c(){t=H("button"),rt(n.$$.fragment),U(t,"class","record-selector-navigation-button passthrough svelte-yoaubg"),U(t,"aria-label",e[0]),U(t,"title",e[0])},m(i,a){L(i,t,a),ot(n,t,null),r=!0,o||(s=V(t,"click",e[1]),o=!0)},p(e,[o]){const s=0&o?et(a,[tt(xy)]):{};n.$set(s),(!r||1&o)&&U(t,"aria-label",e[0]),(!r||1&o)&&U(t,"title",e[0])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n),o=!1,s()}}}function KL(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(4,i=e)));const a=Mb(),l=fe();let{table:c}=t;return e.$$set=e=>{"table"in e&&n(2,c=e.table)},e.$$.update=()=>{4&e.$$.dirty&&n(3,({id:r,name:o}=c),o),24&e.$$.dirty&&n(0,s=o?i("navigate_to_table_record",{values:{tableName:o}}):i("navigate_to_record"))},[s,function(){a.navigateToRecordPage({tableId:r}),l("click")},c,o,i]}class GL extends at{constructor(e){super(),it(this,e,KL,YL,d,{table:2})}}function XL(e){let t,n;return t=new uw({props:{icon:e[4],$$slots:{default:[JL]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.icon=e[4]),138&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ZL(e){let t,n;return t=new gw({props:{table:e[0].table,$$slots:{default:[QL,({tableName:e})=>({6:e}),({tableName:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0].table),194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JL(e){let t,n;return t=new Xp({props:{text:e[3],substring:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function QL(e){let t,n;return t=new Xp({props:{text:e[6],substring:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]),2&n&&(r.substring=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eP(e){let t,n,r;return n=new GL({props:{table:e[0].table}}),n.$on("click",(function(){u(e[2])&&e[2].apply(this,arguments)})),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","record-selector svelte-1jdtdoc")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(t,r){e=t;const o={};1&r&&(o.table=e[0].table),n.$set(o)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function tP(e){let t,n,r,o,s,i,a,l,c,d;const p=[ZL,XL],$=[];function m(e,t){return"table"in e[0]?0:1}r=m(e),o=$[r]=p[r](e);let f="table"===e[0].type&&eP(e);return{c(){t=H("li"),n=H("a"),o.c(),s=j(),f&&f.c(),i=j(),a=H("div"),U(n,"href",e[5]),U(n,"class","svelte-1jdtdoc"),U(a,"class","hover-indicator svelte-1jdtdoc"),U(t,"class","breadcrumb-selector-row svelte-1jdtdoc"),te(t,"active",e[0].isActive())},m(o,p){L(o,t,p),O(t,n),$[r].m(n,null),O(t,s),f&&f.m(t,null),O(t,i),O(t,a),l=!0,c||(d=V(n,"click",(function(){u(e[2])&&e[2].apply(this,arguments)})),c=!0)},p(s,[a]){let c=r;r=m(e=s),r===c?$[r].p(e,a):(ze(),qe($[c],1,1,(()=>{$[c]=null})),Fe(),o=$[r],o?o.p(e,a):(o=$[r]=p[r](e),o.c()),je(o,1),o.m(n,null)),(!l||32&a)&&U(n,"href",e[5]),"table"===e[0].type?f?(f.p(e,a),1&a&&je(f,1)):(f=eP(e),f.c(),je(f,1),f.m(t,i)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),(!l||1&a)&&te(t,"active",e[0].isActive())},i(e){l||(je(o),je(f),l=!0)},o(e){qe(o),qe(f),l=!1},d(e){e&&P(t),$[r].d(),f&&f.d(),c=!1,d()}}}function nP(e,t,n){let r,o,s,{entry:i}=t,{filterString:a=""}=t,{closeSelector:l}=t;return e.$$set=e=>{"entry"in e&&n(0,i=e.entry),"filterString"in e&&n(1,a=e.filterString),"closeSelector"in e&&n(2,l=e.closeSelector)},e.$$.update=()=>{1&e.$$.dirty&&n(5,({href:r,icon:o,label:s}=i),r,(n(4,o),n(0,i)),(n(3,s),n(0,i)))},[i,a,l,s,o,r]}class rP extends at{constructor(e){super(),it(this,e,nP,tP,d,{entry:0,filterString:1,closeSelector:2})}}function oP(e,t,n){const r=e.slice();return r[16]=t[n],r}function sP(e,t,n){const r=e.slice();return r[19]=t[n][0],r[20]=t[n][1],r}function iP(e,t,n){const r=e.slice();return r[16]=t[n],r}function aP(e){let t,n,r;const o=[cy];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","trigger svelte-15f06xx")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt(cy)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function lP(e){let t,n,r=e[3].length>0&&cP(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[3].length>0?r?(r.p(e,n),8&n&&je(r,1)):(r=cP(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function cP(e){let t,n,r,o;return n=new Kg({props:{text:e[7]("no_matches"),$$slots:{default:[dP,({slotName:e})=>({25:e}),({slotName:e})=>e?33554432:0]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),U(t,"class","section-name svelte-15f06xx")},m(e,s){L(e,t,s),ot(n,t,null),O(t,r),o=!0},p(e,t){const r={};128&t&&(r.text=e[7]("no_matches")),100663304&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function uP(e){let t,n;return{c(){t=H("b"),n=F(e[3])},m(e,r){L(e,t,r),O(t,n)},p(e,t){8&t&&G(n,e[3])},d(e){e&&P(t)}}}function dP(e){let t,n="searchValue"===e[25]&&uP(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[25]?n?n.p(e,r):(n=uP(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function pP(e){let t,n,r,o,s,i,a,l=[],c=new Map;const u=[fP,mP,$P],d=[];function p(e,t){return 0===e[3]?.length?0:e[6].size>1?1:2}n=p(e),r=d[n]=u[n](e);let $=e[20];const m=e=>e[16].href;for(let f=0;f<$.length;f+=1){let t=iP(e,$,f),n=m(t);c.set(n,l[f]=wP(n,t))}return{c(){t=H("div"),r.c(),o=j(),s=H("ul");for(let e=0;e<l.length;e+=1)l[e].c();i=j(),U(t,"class","section-name svelte-15f06xx"),U(s,"class","items svelte-15f06xx")},m(e,r){L(e,t,r),d[n].m(t,null),L(e,o,r),L(e,s,r);for(let t=0;t<l.length;t+=1)l[t].m(s,null);O(s,i),a=!0},p(e,o){let a=n;n=p(e),n===a?d[n].p(e,o):(ze(),qe(d[a],1,1,(()=>{d[a]=null})),Fe(),r=d[n],r?r.p(e,o):(r=d[n]=u[n](e),r.c()),je(r,1),r.m(t,null)),76&o&&($=e[20],ze(),l=Qe(l,o,m,1,e,$,c,s,Ze,wP,i,iP),Fe())},i(e){if(!a){je(r);for(let e=0;e<$.length;e+=1)je(l[e]);a=!0}},o(e){qe(r);for(let t=0;t<l.length;t+=1)qe(l[t]);a=!1},d(e){e&&P(t),d[n].d(),e&&P(o),e&&P(s);for(let t=0;t<l.length;t+=1)l[t].d()}}}function $P(e){let t,n;return t=new Kg({props:{text:e[7]("number_of_matches",{values:{count:e[20].length}}),$$slots:{default:[gP,({slotName:e})=>({25:e}),({slotName:e})=>e?33554432:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};192&n&&(r.text=e[7]("number_of_matches",{values:{count:e[20].length}})),100663304&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mP(e){let t,n;return t=new Kg({props:{text:e[7]("number_of_matches_in_category",{values:{count:e[20].length}}),$$slots:{default:[bP,({slotName:e})=>({25:e}),({slotName:e})=>e?33554432:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};192&n&&(r.text=e[7]("number_of_matches_in_category",{values:{count:e[20].length}})),100663368&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fP(e){let t,n=e[19]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[19]+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function hP(e){let t,n;return{c(){t=H("b"),n=F(e[3])},m(e,r){L(e,t,r),O(t,n)},p(e,t){8&t&&G(n,e[3])},d(e){e&&P(t)}}}function gP(e){let t,n="searchValue"===e[25]&&hP(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[25]?n?n.p(e,r):(n=hP(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function yP(e){let t,n=e[19]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[19]+"")&&G(t,n)},d(e){e&&P(t)}}}function vP(e){let t,n;return{c(){t=H("b"),n=F(e[3])},m(e,r){L(e,t,r),O(t,n)},p(e,t){8&t&&G(n,e[3])},d(e){e&&P(t)}}}function bP(e){let t;function n(e,t){return"searchValue"===e[25]?vP:"categoryName"===e[25]?yP:void 0}let r=n(e),o=r&&r(e);return{c(){o&&o.c(),t=q()},m(e,n){o&&o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o&&o.d(1),o=r&&r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o&&o.d(e),e&&P(t)}}}function wP(e,t){let n,r,o;return r=new rP({props:{entry:t[16],filterString:t[3],closeSelector:t[13]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};64&n&&(o.entry=t[16]),8&n&&(o.filterString=t[3]),4&n&&(o.closeSelector=t[13]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function _P(e,t){let n,r,o,s=t[20].length>0&&pP(t);return{key:e,first:null,c(){n=q(),s&&s.c(),r=q(),this.first=n},m(e,t){L(e,n,t),s&&s.m(e,t),L(e,r,t),o=!0},p(e,n){(t=e)[20].length>0?s?(s.p(t,n),64&n&&je(s,1)):(s=pP(t),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(s),o=!0)},o(e){qe(s),o=!1},d(e){e&&P(n),s&&s.d(e),e&&P(r)}}}function xP(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[16].href;for(let a=0;a<s.length;a+=1){let t=oP(e,s,a),n=i(t);o.set(n,r[a]=SP(n,t))}return{c(){t=H("ul");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","actions svelte-15f06xx")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){6&n&&(s=e[1],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,SP,null,oP),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function SP(e,t){let n,r,o;return r=new rP({props:{entry:t[16],closeSelector:t[14]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.entry=t[16]),4&n&&(o.closeSelector=t[14]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function CP(e){let t,n,r,o,s,i,a,l,c,u=[],d=new Map;function p(t){e[11](t)}function $(t){e[12](t)}let m={prefixIcon:br};void 0!==e[3]&&(m.value=e[3]),void 0!==e[4]&&(m.element=e[4]),r=new Xl({props:m}),we.push((()=>nt(r,"value",p))),we.push((()=>nt(r,"element",$)));let f=[...e[6]];const h=e=>e[19];for(let v=0;v<f.length;v+=1){let t=sP(e,f,v),n=h(t);d.set(n,u[v]=_P(n,t))}let g=null;f.length||(g=lP(e));let y=e[1].length&&xP(e);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),i=j(),a=H("div");for(let e=0;e<u.length;e+=1)u[e].c();g&&g.c(),l=j(),y&&y.c(),U(n,"class","search"),U(a,"class","results svelte-15f06xx"),U(t,"class","entity-switcher-content svelte-15f06xx")},m(e,o){L(e,t,o),O(t,n),ot(r,n,null),O(t,i),O(t,a);for(let t=0;t<u.length;t+=1)u[t].m(a,null);g&&g.m(a,null),O(t,l),y&&y.m(t,null),c=!0},p(e,n){const i={};!o&&8&n&&(o=!0,i.value=e[3],Te((()=>o=!1))),!s&&16&n&&(s=!0,i.element=e[4],Te((()=>s=!1))),r.$set(i),33554636&n&&(f=[...e[6]],ze(),u=Qe(u,n,h,1,e,f,d,a,Ze,_P,null,sP),Fe(),!f.length&&g?g.p(e,n):f.length?g&&(ze(),qe(g,1,1,(()=>{g=null})),Fe()):(g=lP(e),g.c(),je(g,1),g.m(a,null))),e[1].length?y?(y.p(e,n),2&n&&je(y,1)):(y=xP(e),y.c(),je(y,1),y.m(t,null)):y&&(ze(),qe(y,1,1,(()=>{y=null})),Fe())},i(e){if(!c){je(r.$$.fragment,e);for(let e=0;e<f.length;e+=1)je(u[e]);je(y),c=!0}},o(e){qe(r.$$.fragment,e);for(let t=0;t<u.length;t+=1)qe(u[t]);qe(y),c=!1},d(e){e&&P(t),st(r);for(let t=0;t<u.length;t+=1)u[t].d();g&&g.d(),y&&y.d()}}}function EP(e){let t,n,r,o,s,i,a;function l(t){e[9](t)}let c={"aria-label":e[0],title:e[0],appearance:"ghost",class:"padding-zero",$$slots:{default:[aP]},$$scope:{ctx:e}};function u(t){e[15](t)}void 0!==e[5]&&(c.element=e[5]),n=new Hn({props:c}),we.push((()=>nt(n,"element",l))),n.$on("click",e[10]);let d={trigger:e[5],class:"breadcrumb-selector-dropdown",$$slots:{default:[CP]},$$scope:{ctx:e}};return void 0!==e[2]&&(d.isOpen=e[2]),s=new yi({props:d}),we.push((()=>nt(s,"isOpen",u))),{c(){t=H("div"),rt(n.$$.fragment),o=j(),rt(s.$$.fragment),U(t,"class","entity-switcher svelte-15f06xx"),te(t,"is-open",e[2])},m(e,r){L(e,t,r),ot(n,t,null),O(t,o),ot(s,t,null),a=!0},p(e,[o]){const l={};1&o&&(l["aria-label"]=e[0]),1&o&&(l.title=e[0]),67108864&o&&(l.$$scope={dirty:o,ctx:e}),!r&&32&o&&(r=!0,l.element=e[5],Te((()=>r=!1))),n.$set(l);const c={};32&o&&(c.trigger=e[5]),67109086&o&&(c.$$scope={dirty:o,ctx:e}),!i&&4&o&&(i=!0,c.isOpen=e[2],Te((()=>i=!1))),s.$set(c),(!a||4&o)&&te(t,"is-open",e[2])},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),a=!1},d(e){e&&P(t),st(n),st(s)}}}function kP(e,t,n){let r,o;m(e,Mg,(e=>n(7,o=e)));let s,i,a,{data:l}=t,{triggerLabel:c}=t,{persistentLinks:u=[]}=t,d=!1;return e.$$set=e=>{"data"in e&&n(8,l=e.data),"triggerLabel"in e&&n(0,c=e.triggerLabel),"persistentLinks"in e&&n(1,u=e.persistentLinks)},e.$$.update=()=>{20&e.$$.dirty&&(d?a?.focus():n(3,i="")),264&e.$$.dirty&&n(6,r=i?OL(l,i):l)},[c,u,d,i,a,s,r,o,l,function(e){s=e,n(5,s)},()=>{n(2,d=!d)},function(e){i=e,n(3,i),n(2,d),n(4,a)},function(e){a=e,n(4,a)},()=>{n(2,d=!1)},()=>{n(2,d=!1)},function(e){d=e,n(2,d)}]}class IP extends at{constructor(e){super(),it(this,e,kP,EP,d,{data:8,triggerLabel:0,persistentLinks:1})}}function TP(e){let t,n;return t=new IP({props:{data:new Map([[e[1]("connections"),e[0]]]),triggerLabel:e[1]("choose_connection"),persistentLinks:[{type:"simple",label:e[1]("manage_connections"),href:Gb,icon:Ry,isActive:DP}]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.data=new Map([[e[1]("connections"),e[0]]])),2&n&&(r.triggerLabel=e[1]("choose_connection")),2&n&&(r.persistentLinks=[{type:"simple",label:e[1]("manage_connections"),href:Gb,icon:Ry,isActive:DP}]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const DP=()=>!1;function MP(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(1,i=e)));const{connections:a,currentConnectionId:l}=ES;function c(e){return{type:"simple",label:e.nickname,href:Ob(e.id),icon:zy,isActive:()=>e.id===s}}return m(e,a,(e=>n(4,o=e))),m(e,l,(e=>n(5,s=e))),e.$$.update=()=>{16&e.$$.dirty&&n(0,r=[...o.values()].map(c))},[r,i,a,l,o]}class OP extends at{constructor(e){super(),it(this,e,MP,TP,d,{})}}class NP{constructor(t,n){e(this,"maxEntries",5),e(this,"cache",void 0),this.maxEntries=t,this.cache=new Map(n??[])}set(e,t){this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.maxEntries&&this.cache.delete([...this.cache.keys()][0])}get(e){return this.cache.get(e)}}class AP{constructor(t){e(this,"slug",void 0),e(this,"queryParams",void 0),this.slug=t.slug,this.queryParams={"shared-link-uuid":t.slug}}getQueryParams(){return this.queryParams}}const LP=Wm(),PP=new NP(3),RP=new Map;function HP(e,t){const n=new Map;t&&function(e){return[...e].sort(((e,t)=>e.name?.localeCompare(t.name)))}(t).forEach((e=>{n.set(e.id,e)}));const r={schemaId:e,requestStatus:{state:"success"},data:n};let o=PP.get(e);return o?o.set(r):(o=mt(r),PP.set(e,o)),o}async function zP(e){const t=PP.get(e);if(t)try{t.update((e=>({...e,requestStatus:{state:"processing"}}))),RP.get(e)?.cancel();const n=Wv(`/api/db/v0/queries/?schema=${e}&limit=500`);RP.set(e,n);const r=(await n).results||[];return $(HP(e,r))}catch(n){return void t.update((e=>({...e,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}})))}else console.error(`Queries store for schema: ${e} not found.`)}let FP=!0;function jP(e){let t=PP.get(e);return t?"failure"===$(t).requestStatus.state&&zP(e):(t=mt({schemaId:e,requestStatus:{state:"processing"},data:new Map}),PP.set(e,t),FP&&LP.current_schema===e?t=HP(e,LP.queries??[]):zP(e),FP=!1),t}const qP=ft(nM,((e,t)=>{let n;if(e){const r=jP(e);n=r.subscribe((e=>{t(e)}))}else t({requestStatus:{state:"success"},data:new Map});return()=>{n?.()}}));function VP(e){const t=Bv("PUT",`/api/db/v0/queries/${e.id}/`,e);return t.then((t=>{const n=$(nM);if(n){const r=jP(n);$(r).data.set(e.id,t),HP(n,[...$(r).data.values()])}})),t}function BP(e){const t=Kv(`/api/db/v0/queries/${e}/`);return t.then((()=>{const t=function(e){return[...PP.cache.values()].find((t=>$(t).data.has(e)))}(e);t&&(t.update((t=>(t.data.delete(e),{...t,data:new Map(t.data)}))),lM($(t).schemaId,-1))})),t}function WP(e){let t,n;return t=new IP({props:{data:e[1],triggerLabel:e[0]("choose_table_or_exploration")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.data=e[1]),1&n&&(r.triggerLabel=e[0]("choose_table_or_exploration")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function UP(e,t,n){let r,o,s,i,a,l,c,u;m(e,Mg,(e=>n(0,i=e))),m(e,qP,(e=>n(7,a=e))),m(e,UO,(e=>n(8,l=e))),m(e,GO,(e=>n(10,u=e)));let{database:d}=t,{schema:p}=t;function $(e){return{type:"table",table:e,label:e.name,href:ew(d.id,p.id,e),icon:Zy,isActive:()=>e.id===u}}const f=YN();function h(e){return{type:"simple",label:e.name,href:Fb(d.id,p.id,e.id),icon:Zy,isActive(){const t=Fb(d.id,p.id,e.id);return c.url.startsWith(t)}}}return m(e,f,(e=>n(9,c=e))),e.$$set=e=>{"database"in e&&n(3,d=e.database),"schema"in e&&n(4,p=e.schema)},e.$$.update=()=>{256&e.$$.dirty&&n(6,r=[...l.data.values()]),128&e.$$.dirty&&n(5,o=[...a.data.values()]),97&e.$$.dirty&&n(1,s=new Map([[i("tables"),r.map($)],[i("explorations"),o.map(h)]]))},[i,s,f,d,p,o,r,a,l]}class YP extends at{constructor(e){super(),it(this,e,UP,WP,d,{database:3,schema:4})}}function KP(e){let t,n;return t=new IP({props:{data:new Map([[e[1]("schemas"),e[0].map(e[2])]]),triggerLabel:e[1]("choose_schema")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.data=new Map([[e[1]("schemas"),e[0].map(e[2])]])),2&n&&(r.triggerLabel=e[1]("choose_schema")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function GP(e,t,n){let r,o,s,i;m(e,pM,(e=>n(4,o=e))),m(e,nM,(e=>n(5,s=e))),m(e,Mg,(e=>n(1,i=e)));let{database:a}=t;return e.$$set=e=>{"database"in e&&n(3,a=e.database)},e.$$.update=()=>{16&e.$$.dirty&&n(0,r=[...o.data.values()])},[r,i,function(e){return{type:"simple",label:e.name,href:Nb(a.id,e.id),icon:Yy,isActive:()=>e.id===s}},a,o]}class XP extends at{constructor(e){super(),it(this,e,GP,KP,d,{database:3})}}function ZP(e){let t,n,r,o,s;const a=[br];let l={};for(let d=0;d<a.length;d+=1)l=i(l,a[d]);n=new Kr({props:l});const c=[cy,{class:"expand-right-icon"}];let u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return o=new Kr({props:u}),{c(){t=H("span"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","trigger svelte-1q8ggx2")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r=0&t?et(a,[tt(br)]):{};n.$set(r);const s=0&t?et(c,[tt(cy),c[1]]):{};o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function JP(e){let t,n;return t=new Hn({props:{appearance:"ghost",class:"padding-zero",$$slots:{default:[ZP]},$$scope:{ctx:e}}}),t.$on("click",e[0]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function QP(e,t,n){const r=Mb();let{table:o}=t;return e.$$set=e=>{"table"in e&&n(1,o=e.table)},[function(){r.navigateToRecordPage({tableId:o.id})},o]}class eR extends at{constructor(e){super(),it(this,e,QP,JP,d,{table:1})}}function tR(e){let t,n,r;const o=[av];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","page-separator svelte-1gvj87j")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=0&t?et(o,[tt(av)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}class nR extends at{constructor(e){super(),it(this,e,null,tR,d,{})}}function rR(e){let t,n,r,o,s;return t=new nR({}),o=new UL({props:{href:e[0].href,$$slots:{default:[$R]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),s=!0},p(e,t){const n={};1&t&&(n.href=e[0].href),5&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o)}}}function oR(e){let t,n,r,o,s;return t=new YP({props:{database:e[0].database,schema:e[0].schema}}),o=new UL({props:{href:Fb(e[0].database.id,e[0].schema.id,e[0].query.id),$$slots:{default:[fR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),s=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),1&n&&(r.schema=e[0].schema),t.$set(r);const s={};1&n&&(s.href=Fb(e[0].database.id,e[0].schema.id,e[0].query.id)),5&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o)}}}function sR(e){let t,n,r;return n=new UL({props:{href:Vb(e[0].database.id,e[0].schema.id,e[0].table.id,e[0].record.pk),$$slots:{default:[gR]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.href=Vb(e[0].database.id,e[0].schema.id,e[0].table.id,e[0].record.pk)),5&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function iR(e){let t,n,r,o,s,i,a;return t=new YP({props:{database:e[0].database,schema:e[0].schema}}),o=new UL({props:{href:ew(e[0].database.id,e[0].schema.id,e[0].table),$$slots:{default:[yR]},$$scope:{ctx:e}}}),i=new eR({props:{table:e[0].table}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),U(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,l){ot(t,e,l),L(e,n,l),L(e,r,l),ot(o,r,null),L(e,s,l),ot(i,e,l),a=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),1&n&&(r.schema=e[0].schema),t.$set(r);const s={};1&n&&(s.href=ew(e[0].database.id,e[0].schema.id,e[0].table)),5&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s);const a={};1&n&&(a.table=e[0].table),i.$set(a)},i(e){a||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o),e&&P(s),st(i,e)}}}function aR(e){let t,n,r,o,s;return t=new XP({props:{database:e[0].database}}),o=new UL({props:{href:Nb(e[0].database.id,e[0].schema.id),$$slots:{default:[vR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),s=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),t.$set(r);const s={};1&n&&(s.href=Nb(e[0].database.id,e[0].schema.id)),5&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o)}}}function lR(e){let t,n,r,o,s;return t=new OP({}),o=new UL({props:{href:Ob(e[0].database.id),$$slots:{default:[bR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),s=!0},p(e,t){const n={};1&t&&(n.href=Ob(e[0].database.id)),5&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o)}}}function cR(e){let t,n,r,o,s;return t=new OP({}),o=new UL({props:{href:Gb,$$slots:{default:[_R]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","breadcrumb-item truncate svelte-56k5nq")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),s=!0},p(e,t){const n={};6&t&&(n.$$scope={dirty:t,ctx:e}),o.$set(n)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o)}}}function uR(e){let t,n;return t=new os({props:{arg:e[0].label}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0].label),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dR(e){let t,n;return t=new uw({props:{icon:e[0].icon,$$slots:{default:[pR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.icon=e[0].icon),5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pR(e){let t,n;return t=new os({props:{arg:e[0].label}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.arg=e[0].label),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $R(e){let t,n,r,o;const s=[dR,uR],i=[];function a(e,t){return e[0].icon?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function mR(e){let t,n=e[0].query.name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].query.name+"")&&G(t,n)},d(e){e&&P(t)}}}function fR(e){let t,n;return t=new uw({props:{icon:Fy,$$slots:{default:[mR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hR(e){let t,n;return t=new HD({props:{recordSummary:e[0].record.summary}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.recordSummary=e[0].record.summary),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gR(e){let t,n;return t=new uw({props:{icon:Uy,$$slots:{default:[hR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yR(e){let t,n;return t=new gw({props:{table:e[0].table}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0].table),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vR(e){let t,n;return t=new VL({props:{schema:e[0].schema}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.schema=e[0].schema),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bR(e){let t,n;return t=new zL({props:{database:e[0].database}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0].database),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wR(e){let t,n=e[1]("connections")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("connections")+"")&&G(t,n)},d(e){e&&P(t)}}}function _R(e){let t,n;return t=new uw({props:{icon:Ry,$$slots:{default:[wR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xR(e){let t,n,r,o;const s=[cR,lR,aR,iR,sR,oR,rR],i=[];function a(e,t){return"connectionList"===e[0].type?0:"database"===e[0].type?1:"schema"===e[0].type?2:"table"===e[0].type?3:"record"===e[0].type?4:"exploration"===e[0].type?5:"simple"===e[0].type?6:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function SR(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{item:o}=t;return e.$$set=e=>{"item"in e&&n(0,o=e.item)},[o,r]}class CR extends at{constructor(e){super(),it(this,e,SR,xR,d,{item:0})}}function ER(e){let t,n,r;return{c(){t=z("svg"),n=z("path"),r=z("path"),U(n,"class","outer svelte-1b88tpd"),U(n,"d","m18.35 0.09207c-1.152 7.807e-4 -2.635 0.3131-3.622 0.9921-0.9901 0.6812-0.5287 2.056 0.2266 2.585-1.007-0.2522-2.018-0.4122-2.988-0.4354-0.9699-0.02324-1.955 0.09245-2.821 0.4453-0.9198 0.3747-1.584 0.9451-1.962 1.716-0.3939 0.8021-0.4815 1.588-0.5129 2.392-0.8075 0.3468-2.145 0.8722-3.33 1.642-1.223 0.7943-2.502 1.987-2.871 3.777-0.2947 1.431-0.2396 3.742-0.03579 5.901 0.2055 2.176 0.6011 4.429 0.8927 5.336 0.298 0.9275 0.7092 1.372 1.443 1.392 1.074 0.02812 3.09-0.0077 3.575-0.01988 0.6369-0.01594 1.171-0.3577 1.431-0.7137 0.1977-0.2703 0.2631-0.5034 0.2883-0.9563 0.03325-0.599 0.2443-1.166 0.4016-1.718 0.4652 0.1986 1.167 0.1588 1.594-0.06362 0.03306 0.2464 0.08158 0.4963 0.1133 0.7436 0.1104 0.8597 0.3894 1.596 0.8112 2.235 0.1707 0.2586 0.6014 0.5661 1.187 0.5626v4e-3c2.139 0 4.277-3.08e-4 5.402 0 1.125 3.08e-4 1.283 9.62e-4 1.439-0.01391 0.9502-0.1075 1.289-0.5873 1.408-1.227 0.04104-0.2213-0.02173-0.6675-0.08748-0.8668-0.6462-1.671-1.305-3.309-1.441-5.09 0.4409-0.6919 0.8857-1.357 1.362-1.952 0.9547-1.193 1.948-2.208 2.505-3.002 0.3073-0.4385 0.1635-0.9533 0.1014-1.143 0.3457-0.2108 0.6778-0.4329 0.9364-0.7296 1.418-1.626 2.166-3.836 1.869-5.813-0.2771-1.846-1.04-3.11-2.326-4.193-1.611-1.357-3.126-1.787-4.988-1.785zm-0.4473 3.223c0.3671-6.552e-4 0.7317 0.04784 1.064 0.1471 0.4283 0.1281 0.7191 0.3172 0.8867 0.5109 0.1472 0.1702 0.2445 0.3894 0.2227 0.7316-1e-3 0.01566-0.0044 0.04149-0.01591 0.07754l-0.02982 0.09344-0.0676 0.09145c-0.02096 0.02825-0.04497 0.05756-0.07357 0.08549l-0.1233 0.1193-0.163 0.05169c-0.07692 0.0237-0.1726 0.03753-0.2883 0.02982h-2e-3c-0.1386-0.00996-0.3246-0.05301-0.5586-0.171h-2e-3c-0.9602-0.4858-2.021-0.9094-3.104-1.229 0.1707-0.00439 0.3584-0.0453 0.5527-0.1491h2e-3c0.4721-0.2529 1.088-0.3886 1.7-0.3897z"),U(r,"class","inner svelte-1b88tpd"),U(r,"d","m18.16 1.303c-0.97 0.03351-1.92 0.2781-2.71 0.7774-0.1753 0.1107 0.08091 0.6012 0.1829 0.5467 2.117-1.134 5.836-0.4821 5.668 2.155-0.0078 0.122-0.03177 0.2472-0.07157 0.3718 0.1697 0.03181 0.3368 0.06151 0.4931 0.05964 0.3673-0.0044 0.3792 0.5654-0.01198 0.5587-0.2708-0.00467-0.5129-0.03452-0.7595-0.07754-0.05986 0.0807-0.1288 0.1582-0.2028 0.2306 0.2214 0.06347 0.4212 0.1466 0.5964 0.2207 0.4015 0.1698 0.1072 0.7515-0.2485 0.6064-0.3522-0.1437-0.7434-0.2657-1.127-0.3618-0.2215 0.06824-0.4682 0.09971-0.7336 0.08151-0.3168-0.02215-0.6613-0.115-1.028-0.3002-1.934-0.9788-4.268-1.67-6.247-1.718-0.8814-0.021-1.687 0.08674-2.348 0.3559-1.355 0.552-1.648 1.574-1.722 2.827 0.1192 2.325 0.7394 3.941 1.596 4.986 0.6159 0.7511 1.356 1.207 2.117 1.422 0.7604 0.214 1.544 0.1881 2.249-0.02386 0.7359-0.2217 1.364-0.6598 1.819-1.211 0.3022-0.3661 0.8429 0.0763 0.5607 0.4354-0.533 0.6782-1.299 1.19-2.173 1.453-0.8265 0.249-1.749 0.2779-2.644 0.02585-0.894-0.2516-1.759-0.7823-2.475-1.656-0.8527-1.04-1.491-2.17-1.702-4.193-1.727 0.7486-5.022 1.93-5.567 4.577-0.51 2.476 0.1425 8.616 0.9702 11.05 0.02791 0.08224 0.1255 0.1104 0.2127 0.1113l3.437-0.01988c0.0566 7e-3 0.5772-0.0935 0.5467-0.3797-0.06438-0.6058 0.774-3.644 1.264-3.525 0.2822 0.06861 0.5672 0.8384 1.36 0.5984 0.8521-0.2582 0.9309-1.268 1.37-1.529 0.2796-0.1663 0.2146 0.1532 0.2604 0.6799 0.07441 0.86 0.3329 4.275 1.084 4.247h3.408c0.1622-4.07e-4 0.3114-0.05755 0.4274-0.1551 0.1151-0.0971 0.197-0.2353 0.2247-0.3956 0.2825-1.624 0.759-4.55 1.435-5.752l0.1272-0.2207c0.89-1.515 2.067-2.865 3.455-4.459 0.126-0.1445 0.3013-0.3629 0.4255-0.5189 0.08432-0.106 0.03431-0.2439-0.08151-0.2843-0.4965-0.1731-0.9139-0.3079-1.159-0.5189-0.02616-0.02219-0.03608-0.05598-0.02783-0.08947 0.0085-0.03318 0.03202-0.05629 0.06561-0.06363 2.26-0.4751 3.081-1.652 3.674-3.298 0.3251-0.9019 0.4278-1.814 0.3082-2.694-0.1189-0.8752-0.457-1.724-1.012-2.505-0.2803-0.3944-0.5855-0.7282-0.9086-1.008-1.088-0.9415-2.763-1.475-4.38-1.42zm-0.07953 6.09c0.2647-0.00889 0.5301 0.1034 0.7098 0.3261 0.3024 0.3746-0.4219 0.2323-0.7952 0.5328-0.373 0.3004-0.2544 0.9296-0.5567 0.5547-0.3025-0.3749-0.2437-0.9222 0.1292-1.223 0.1516-0.122 0.3319-0.1848 0.5129-0.1909zm-0.2843 12.33c-0.3926 0.8752-0.5883 3.463-0.7793 4.561-0.02677 0.1549-0.06552 0.2731-0.1372 0.4036h1.722c0.4474 0.0027 0.7397-0.0078 0.5766-0.503-0.3803-1.154-1.199-3.049-1.382-4.461z"),U(t,"width","1em"),U(t,"height","1em"),U(t,"viewBox","0 0 26 26")},m(e,o){L(e,t,o),O(t,n),O(t,r)},p:o,i:o,o:o,d(e){e&&P(t)}}}class kR extends at{constructor(e){super(),it(this,e,null,ER,d,{})}}function IR(e){let t,n,r,o,s,i,a=e[2]("mathesar")+"";return n=new kR({}),{c(){t=H("a"),rt(n.$$.fragment),r=j(),o=H("div"),s=F(a),U(o,"class","mathesar svelte-1t4pomd"),U(t,"href",e[1]),U(t,"class","home-link svelte-1t4pomd"),te(t,"has-responsive-abridgement",e[0])},m(e,a){L(e,t,a),ot(n,t,null),O(t,r),O(t,o),O(o,s),i=!0},p(e,[n]){(!i||4&n)&&a!==(a=e[2]("mathesar")+"")&&G(s,a),(!i||2&n)&&U(t,"href",e[1]),(!i||1&n)&&te(t,"has-responsive-abridgement",e[0])},i(e){i||(je(n.$$.fragment,e),i=!0)},o(e){qe(n.$$.fragment,e),i=!1},d(e){e&&P(t),st(n)}}}function TR(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{hasResponsiveAbridgement:o=!1}=t,{href:s}=t;return e.$$set=e=>{"hasResponsiveAbridgement"in e&&n(0,o=e.hasResponsiveAbridgement),"href"in e&&n(1,s=e.href)},[o,s,r]}class DR extends at{constructor(e){super(),it(this,e,TR,IR,d,{hasResponsiveAbridgement:0,href:1})}}function MR(e,t,n){const r=e.slice();return r[3]=t[n],r}function OR(e){let t,n;return t=new CR({props:{item:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.item=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function NR(e){let t,n,r,o;n=new DR({props:{href:"/",hasResponsiveAbridgement:e[1]}});let s=e[0],i=[];for(let l=0;l<s.length;l+=1)i[l]=OR(MR(e,s,l));const a=e=>qe(i[e],1,1,(()=>{i[e]=null}));return{c(){t=H("div"),rt(n.$$.fragment),r=j();for(let e=0;e<i.length;e+=1)i[e].c();U(t,"class","breadcrumb svelte-cheun3")},m(e,s){L(e,t,s),ot(n,t,null),O(t,r);for(let n=0;n<i.length;n+=1)i[n].m(t,null);o=!0},p(e,[r]){const o={};if(2&r&&(o.hasResponsiveAbridgement=e[1]),n.$set(o),1&r){let n;for(s=e[0],n=0;n<s.length;n+=1){const o=MR(e,s,n);i[n]?(i[n].p(o,r),je(i[n],1)):(i[n]=OR(o),i[n].c(),je(i[n],1),i[n].m(t,null))}for(ze(),n=s.length;n<i.length;n+=1)a(n);Fe()}},i(e){if(!o){je(n.$$.fragment,e);for(let e=0;e<s.length;e+=1)je(i[e]);o=!0}},o(e){qe(n.$$.fragment,e),i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)qe(i[t]);o=!1},d(e){e&&P(t),st(n),R(i,e)}}}function AR(e,t,n){let r,o;const s=ML();return m(e,s,(e=>n(0,o=e))),e.$$.update=()=>{1&e.$$.dirty&&n(1,r=o.length>2)},[o,r,s]}class LR extends at{constructor(e){super(),it(this,e,AR,NR,d,{})}}function PR(e){let t,n,r,o=e[0]&&e[1]&&RR(e),s=e[2]&&BR(e);return{c(){t=H("div"),o&&o.c(),n=j(),s&&s.c(),U(t,"class","right svelte-3vwngg")},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,r){e[0]&&e[1]?o?(o.p(e,r),3&r&&je(o,1)):(o=RR(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[2]?s?(s.p(e,r),4&r&&je(s,1)):(s=BR(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}function RR(e){let t,n;return t=new Qc({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,icon:e[3]?Tr:void 0,$$slots:{trigger:[VR],default:[qR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.icon=e[3]?Tr:void 0),32963&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HR(e){let t,n,r,o;return t=new y$({props:{icon:ny,$$slots:{default:[zR]},$$scope:{ctx:e}}}),t.$on("click",e[10]),r=new x$({props:{icon:ny,href:Pb(e[1].id,e[0].id),$$slots:{default:[FR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};32896&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};3&n&&(s.href=Pb(e[1].id,e[0].id)),32896&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function zR(e){let t,n=e[7]("new_table_from_scratch")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("new_table_from_scratch")+"")&&G(t,n)},d(e){e&&P(t)}}}function FR(e){let t,n=e[7]("new_table_from_data_import")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("new_table_from_data_import")+"")&&G(t,n)},d(e){e&&P(t)}}}function jR(e){let t,n=e[7]("open_data_explorer")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("open_data_explorer")+"")&&G(t,n)},d(e){e&&P(t)}}}function qR(e){let t,n,r,o=e[6]&&HR(e);return n=new x$({props:{icon:Fy,href:zb(e[1].id,e[0].id),$$slots:{default:[jR]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){e[6]?o?(o.p(e,r),64&r&&je(o,1)):(o=HR(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe());const s={};3&r&&(s.href=zb(e[1].id,e[0].id)),32896&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){qe(o),qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function VR(e){let t,n,r,o,s,a,l,c=e[7]("shortcuts")+"";const u=[Gy];let d={};for(let p=0;p<u.length;p+=1)d=i(d,u[p]);return r=new Kr({props:d}),{c(){t=H("span"),n=H("span"),rt(r.$$.fragment),o=j(),s=H("span"),a=F(c),U(n,"class","icon svelte-3vwngg"),U(s,"class","text svelte-3vwngg"),U(t,"slot","trigger"),U(t,"class","shortcuts svelte-3vwngg")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(t,o),O(t,s),O(s,a),l=!0},p(e,t){const n=0&t?et(u,[tt(Gy)]):{};r.$set(n),(!l||128&t)&&c!==(c=e[7]("shortcuts")+"")&&G(a,c)},i(e){l||(je(r.$$.fragment,e),l=!0)},o(e){qe(r.$$.fragment,e),l=!1},d(e){e&&P(t),st(r)}}}function BR(e){let t,n;return t=new Qc({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,menuStyle:"--spacing-x: 0.3em;",$$slots:{trigger:[tH],default:[eH]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32934&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function WR(e){let t,n,r,o,s,i;return t=new t$({props:{$$slots:{default:[UR]},$$scope:{ctx:e}}}),r=new x$({props:{icon:zy,href:Ob(e[1].id),$$slots:{default:[YR]},$$scope:{ctx:e}}}),s=new Jp({}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};32896&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.href=Ob(e[1].id)),32770&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function UR(e){let t,n=e[7]("database")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("database")+"")&&G(t,n)},d(e){e&&P(t)}}}function YR(e){let t,n=e[1].nickname+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1].nickname+"")&&G(t,n)},d(e){e&&P(t)}}}function KR(e){let t,n=e[7]("signed_in_as")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("signed_in_as")+"")&&G(t,n)},d(e){e&&P(t)}}}function GR(e){let t,n=e[2].getDisplayName()+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2].getDisplayName()+"")&&G(t,n)},d(e){e&&P(t)}}}function XR(e){let t,n=e[7]("database_connections")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("database_connections")+"")&&G(t,n)},d(e){e&&P(t)}}}function ZR(e){let t,n;return t=new x$({props:{icon:Ky,href:Wb,hasNotificationDot:e[5],$$slots:{default:[JR]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.hasNotificationDot=e[5]),32896&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JR(e){let t,n=e[7]("administration")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("administration")+"")&&G(t,n)},d(e){e&&P(t)}}}function QR(e){let t,n=e[7]("log_out")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("log_out")+"")&&G(t,n)},d(e){e&&P(t)}}}function eH(e){let t,n,r,o,s,i,a,l,c,u,d,p,$=e[1]&&WR(e);n=new t$({props:{$$slots:{default:[KR]},$$scope:{ctx:e}}}),o=new x$({props:{icon:nv,href:Bb,$$slots:{default:[GR]},$$scope:{ctx:e}}}),i=new Jp({}),l=new x$({props:{icon:Ry,href:Gb,$$slots:{default:[XR]},$$scope:{ctx:e}}});let m=e[2].isSuperUser&&ZR(e);return d=new x$({props:{icon:Ty,href:"/auth/logout/","tinro-ignore":!0,$$slots:{default:[QR]},$$scope:{ctx:e}}}),{c(){$&&$.c(),t=j(),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),rt(l.$$.fragment),c=j(),m&&m.c(),u=j(),rt(d.$$.fragment)},m(e,f){$&&$.m(e,f),L(e,t,f),ot(n,e,f),L(e,r,f),ot(o,e,f),L(e,s,f),ot(i,e,f),L(e,a,f),ot(l,e,f),L(e,c,f),m&&m.m(e,f),L(e,u,f),ot(d,e,f),p=!0},p(e,r){e[1]?$?($.p(e,r),2&r&&je($,1)):($=WR(e),$.c(),je($,1),$.m(t.parentNode,t)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe());const s={};32896&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};32772&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i);const a={};32896&r&&(a.$$scope={dirty:r,ctx:e}),l.$set(a),e[2].isSuperUser?m?(m.p(e,r),4&r&&je(m,1)):(m=ZR(e),m.c(),je(m,1),m.m(u.parentNode,u)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe());const c={};32896&r&&(c.$$scope={dirty:r,ctx:e}),d.$set(c)},i(e){p||(je($),je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),je(l.$$.fragment,e),je(m),je(d.$$.fragment,e),p=!0)},o(e){qe($),qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(l.$$.fragment,e),qe(m),qe(d.$$.fragment,e),p=!1},d(e){$&&$.d(e),e&&P(t),st(n,e),e&&P(r),st(o,e),e&&P(s),st(i,e),e&&P(a),st(l,e),e&&P(c),m&&m.d(e),e&&P(u),st(d,e)}}}function tH(e){let t,n,r;const o=[Ky,{hasNotificationDot:e[5]}];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","user-switcher svelte-3vwngg"),U(t,"slot","trigger")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=32&t?et(o,[0&t&&tt(Ky),32&t&&{hasNotificationDot:e[5]}]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function nH(e){let t,n,r,o,s;r=new LR({});let i=e[4]&&PR(e);return{c(){t=H("header"),n=H("div"),rt(r.$$.fragment),o=j(),i&&i.c(),U(n,"class","left svelte-3vwngg"),U(t,"class","app-header svelte-3vwngg")},m(e,a){L(e,t,a),O(t,n),ot(r,n,null),O(t,o),i&&i.m(t,null),s=!0},p(e,[n]){e[4]?i?(i.p(e,n),16&n&&je(i,1)):(i=PR(e),i.c(),je(i,1),i.m(t,null)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){s||(je(r.$$.fragment,e),je(i),s=!0)},o(e){qe(r.$$.fragment,e),qe(i),s=!1},d(e){e&&P(t),st(r),i&&i.d()}}}function rH(e,t,n){let r,o,s,i,a,l,c,u,d,p;m(e,$M,(e=>n(12,u=e))),m(e,kS,(e=>n(13,d=e))),m(e,Mg,(e=>n(7,p=e)));const $=Wm(),f=cb();m(e,f,(e=>n(2,c=e)));const h=kb();m(e,h,(e=>n(11,l=e)));let g=!1;return e.$$.update=()=>{8192&e.$$.dirty&&n(1,r=d),4096&e.$$.dirty&&n(0,o=u),7&e.$$.dirty&&n(6,s=c?.hasPermission({database:r,schema:o},"canExecuteDDL")),2048&e.$$.dirty&&n(5,i="upgradable"===l?.value?.upgradeStatus)},n(4,a="normal"===$.routing_context),[o,r,c,g,a,i,s,p,f,h,async function(){if(!o||!r)return;n(3,g=!0);const e=await jO(r,o,{});n(3,g=!1),qN.goto(qb(r.id,o.id,e.id),!1)},l,u,d]}class oH extends at{constructor(e){super(),it(this,e,rH,nH,d,{})}}function sH(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,f,h,g,y,v=e[1]("mathesar_demo_mode")+"",b=e[1]("join_email_list")+"";a=new Ni({props:{$$slots:{default:[iH]},$$scope:{ctx:e}}});const w=[$y];let _={};for(let C=0;C<w.length;C+=1)_=i(_,w[C]);d=new Kr({props:_});const x=[uy];let S={};for(let C=0;C<x.length;C+=1)S=i(S,x[C]);return h=new Kr({props:S}),{c(){t=H("div"),n=H("div"),r=H("i"),o=F(v),s=j(),rt(a.$$.fragment),l=j(),c=H("div"),u=H("a"),rt(d.$$.fragment),p=j(),$=F(b),m=j(),f=H("a"),rt(h.$$.fragment),g=F("\n        Mathesar.org"),U(n,"class","side left svelte-1xbleub"),U(u,"href","https://mathesar.org/mailing-list.html"),U(u,"target","_blank"),U(u,"class","svelte-1xbleub"),U(f,"href","http://mathesar.org"),U(f,"target","_blank"),U(f,"class","svelte-1xbleub"),U(c,"class","side right svelte-1xbleub"),U(t,"class","demo-banner svelte-1xbleub")},m(e,i){L(e,t,i),O(t,n),O(n,r),O(r,o),O(n,s),ot(a,n,null),O(t,l),O(t,c),O(c,u),ot(d,u,null),O(u,p),O(u,$),O(c,m),O(c,f),ot(h,f,null),O(f,g),y=!0},p(e,t){(!y||2&t)&&v!==(v=e[1]("mathesar_demo_mode")+"")&&G(o,v);const n={};10&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n);const r=0&t?et(w,[tt($y)]):{};d.$set(r),(!y||2&t)&&b!==(b=e[1]("join_email_list")+"")&&G($,b);const s=0&t?et(x,[tt(uy)]):{};h.$set(s)},i(e){y||(je(a.$$.fragment,e),je(d.$$.fragment,e),je(h.$$.fragment,e),y=!0)},o(e){qe(a.$$.fragment,e),qe(d.$$.fragment,e),qe(h.$$.fragment,e),y=!1},d(e){e&&P(t),st(a),st(d),st(h)}}}function iH(e){let t,n=e[1]("mathesar_demo_mode_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("mathesar_demo_mode_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function aH(e){let t,n,r=e[0]&&sH(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=sH(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function lH(e,t,n){let r,o;m(e,Mg,(e=>n(1,o=e)));const s=Wm();return n(0,r=!!s.live_demo_mode),[r,o]}class cH extends at{constructor(e){super(),it(this,e,lH,aH,d,{})}}const uH=e=>({}),dH=e=>({});function pH(e){let t,n,r,o,s,i,a,l,c;r=new cH({}),s=new oH({});const u=e[5]["secondary-header"],d=f(u,e,e[4],dH),p=e[5].default,$=f(p,e,e[4],null);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),d&&d.c(),a=j(),l=H("main"),$&&$.c(),U(n,"class","app-layout-header svelte-ld3foe"),U(l,"class","app-layout-content svelte-ld3foe"),te(l,"restrict-width",e[1]),U(t,"class","app-layout svelte-ld3foe"),U(t,"style",e[2]),te(t,"fit-viewport",e[0])},m(e,u){L(e,t,u),O(t,n),ot(r,n,null),O(n,o),ot(s,n,null),O(t,i),d&&d.m(t,null),O(t,a),O(t,l),$&&$.m(l,null),c=!0},p(e,[n]){d&&d.p&&(!c||16&n)&&y(d,u,e,e[4],c?g(u,e[4],n,uH):v(e[4]),dH),$&&$.p&&(!c||16&n)&&y($,p,e,e[4],c?g(p,e[4],n,null):v(e[4]),null),(!c||2&n)&&te(l,"restrict-width",e[1]),(!c||4&n)&&U(t,"style",e[2]),(!c||1&n)&&te(t,"fit-viewport",e[0])},i(e){c||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(d,e),je($,e),c=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(d,e),qe($,e),c=!1},d(e){e&&P(t),st(r),st(s),d&&d.d(e),$&&$.d(e)}}}function $H(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{fitViewport:i=!1}=t,{restrictWidth:a=!1}=t,{cssVariables:l}=t;return e.$$set=e=>{"fitViewport"in e&&n(0,i=e.fitViewport),"restrictWidth"in e&&n(1,a=e.restrictWidth),"cssVariables"in e&&n(3,l=e.cssVariables),"$$scope"in e&&n(4,s=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=l?en(l):void 0)},[i,a,r,l,s,o]}class mH extends at{constructor(e){super(),it(this,e,$H,pH,d,{fitViewport:0,restrictWidth:1,cssVariables:3})}}function fH(e){let t,n;return t=new fn({props:{appearance:"primary",href:"/",$$slots:{default:[hH]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};10&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hH(e){let t,n=e[1]("go_to_homepage")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("go_to_homepage")+"")&&G(t,n)},d(e){e&&P(t)}}}function gH(e){let t,n,r,o,s,i,a,l=e[1]("error")+"";const c=e[2].default,u=f(c,e,e[3],null);let d=e[0]&&fH(e);return{c(){t=H("div"),n=H("h1"),r=F(l),o=j(),s=H("div"),u&&u.c(),i=j(),d&&d.c(),U(t,"class","error-page-container svelte-1tmy8xu")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(t,o),O(t,s),u&&u.m(s,null),O(t,i),d&&d.m(t,null),a=!0},p(e,n){(!a||2&n)&&l!==(l=e[1]("error")+"")&&G(r,l),u&&u.p&&(!a||8&n)&&y(u,c,e,e[3],a?g(c,e[3],n,null):v(e[3]),null),e[0]?d?(d.p(e,n),1&n&&je(d,1)):(d=fH(e),d.c(),je(d,1),d.m(t,null)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe())},i(e){a||(je(u,e),je(d),a=!0)},o(e){qe(u,e),qe(d),a=!1},d(e){e&&P(t),u&&u.d(e),d&&d.d()}}}function yH(e){let t,n;return t=new mH({props:{$$slots:{default:[gH]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};11&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vH(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{$$slots:o={},$$scope:s}=t,{showGoToRoot:i=!0}=t;return e.$$set=e=>{"showGoToRoot"in e&&n(0,i=e.showGoToRoot),"$$scope"in e&&n(3,s=e.$$scope)},[i,r,o,s]}class bH extends at{constructor(e){super(),it(this,e,vH,yH,d,{showGoToRoot:0})}}function wH(e,t,n){const r=fe();let{meta:o}=t;return pe((()=>{if(o?.subscribe){const e=o.subscribe((e=>{e&&r("load",e)}));return()=>{e(),r("unload")}}return r("load"),()=>{r("unload")}})),e.$$set=e=>{"meta"in e&&n(0,o=e.meta)},[o]}class _H extends at{constructor(e){super(),it(this,e,wH,null,d,{meta:0})}}function xH(e,t,n){let r,{item:o}=t;const s=ML();let i;function a(e){S(s,r=r.filter((e=>e!==i)),r),S(s,r=[...r,e],r),i=o}return m(e,s,(e=>n(3,r=e))),me((function(){S(s,r=r.filter((e=>e!==o)),r)})),e.$$set=e=>{"item"in e&&n(1,o=e.item)},e.$$.update=()=>{2&e.$$.dirty&&a(o)},[s,o]}class SH extends at{constructor(e){super(),it(this,e,xH,null,d,{item:1})}}function CH(e){let t,n,r;const o=e[3].default,s=f(o,e,e[2],null);return{c(){t=H("div"),s&&s.c(),U(t,"class","grid-form svelte-zx1fio"),Ie((()=>e[4].call(t))),te(t,"grid",e[1]>e[0])},m(o,i){L(o,t,i),s&&s.m(t,null),n=ee(t,e[4].bind(t)),r=!0},p(e,[n]){s&&s.p&&(!r||4&n)&&y(s,o,e,e[2],r?g(o,e[2],n,null):v(e[2]),null),(!r||3&n)&&te(t,"grid",e[1]>e[0])},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e),n()}}}function EH(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{breakpointPx:i=400}=t;return e.$$set=e=>{"breakpointPx"in e&&n(0,i=e.breakpointPx),"$$scope"in e&&n(2,s=e.$$scope)},[i,r,s,o,function(){r=this.clientWidth,n(1,r)}]}class kH extends at{constructor(e){super(),it(this,e,EH,CH,d,{breakpointPx:0})}}function IH(e){let t,n,r;return{c(){t=H("div"),n=j(),r=H("div"),U(t,"class","divider svelte-eno9hk"),U(r,"class","divider svelte-eno9hk")},m(e,o){L(e,t,o),L(e,n,o),L(e,r,o)},p:o,i:o,o:o,d(e){e&&P(t),e&&P(n),e&&P(r)}}}class TH extends at{constructor(e){super(),it(this,e,null,IH,d,{})}}function DH(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},d(e){e&&P(t)}}}function MH(e){let t,n,r,o,s;n=new xo({props:{controller:e[1],$$slots:{default:[DH]},$$scope:{ctx:e}}});const i=e[2].default,a=f(i,e,e[3],null);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div"),a&&a.c(),U(t,"class","label-cell svelte-h4bao7"),U(o,"class","input-cell")},m(e,i){L(e,t,i),ot(n,t,null),L(e,r,i),L(e,o,i),a&&a.m(o,null),s=!0},p(e,[t]){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),a&&a.p&&(!s||8&t)&&y(a,i,e,e[3],s?g(i,e[3],t,null):v(e[3]),null)},i(e){s||(je(n.$$.fragment,e),je(a,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(a,e),s=!1},d(e){e&&P(t),st(n),e&&P(r),e&&P(o),a&&a.d(e)}}}function OH(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=new lo;uo(s);let{label:i}=t;return e.$$set=e=>{"label"in e&&n(0,i=e.label),"$$scope"in e&&n(3,o=e.$$scope)},[i,s,r,o]}class NH extends at{constructor(e){super(),it(this,e,OH,MH,d,{label:0})}}function AH(e){return"user_database"===e.type}function LH(){const e=Wm();return e?[{type:"internal_database",connection:e.internal_db_connection}]:[]}const PH=ft(ES.connections,(e=>[...LH(),...vS((([,e])=>({type:"user_database",connection:e})),e)]));function RH({connection:e}){return"user"in e?e.user:e.username}function HH(e){return"internal_database"===e.type?{connection_type:"internal_database"}:{connection_type:"user_database",id:e.connection.id}}function zH(e){let t,n,r,o=e[5]("internal_database")+"";return{c(){t=F("("),n=F(o),r=F(")")},m(e,o){L(e,t,o),L(e,n,o),L(e,r,o)},p(e,t){32&t&&o!==(o=e[5]("internal_database")+"")&&G(n,o)},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function FH(e){let t,n=e[0].connection.nickname+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].connection.nickname+"")&&G(t,n)},d(e){e&&P(t)}}}function jH(e){let t,n,r,s,i,a,l,c,u,d,p,$,m;function f(e,t){return"user_database"===e[0].type?FH:zH}let h=f(e),g=h(e);return{c(){t=H("span"),n=H("span"),g.c(),r=j(),s=H("span"),i=F(e[4]),a=F("@"),l=H("wbr"),c=F(e[3]),u=F(":"),d=F(e[2]),p=F("/"),$=H("wbr"),m=F(e[1]),U(n,"class","name svelte-1qwnps"),U(s,"class","uri svelte-1qwnps"),U(t,"class","general-connection svelte-1qwnps"),te(t,"internal","internal_database"===e[0].type)},m(e,o){L(e,t,o),O(t,n),g.m(n,null),O(t,r),O(t,s),O(s,i),O(s,a),O(s,l),O(s,c),O(s,u),O(s,d),O(s,p),O(s,$),O(s,m)},p(e,[r]){h===(h=f(e))&&g?g.p(e,r):(g.d(1),g=h(e),g&&(g.c(),g.m(n,null))),16&r&&G(i,e[4]),8&r&&G(c,e[3]),4&r&&G(d,e[2]),2&r&&G(m,e[1]),1&r&&te(t,"internal","internal_database"===e[0].type)},i:o,o:o,d(e){e&&P(t),g.d()}}}function qH(e,t,n){let r,o,s,i,a,l;m(e,Mg,(e=>n(5,l=e)));let{generalConnection:c}=t;return e.$$set=e=>{"generalConnection"in e&&n(0,c=e.generalConnection)},e.$$.update=()=>{1&e.$$.dirty&&n(6,({connection:r}=c),r),1&e.$$.dirty&&n(4,o=RH(c)),64&e.$$.dirty&&n(3,({host:s,port:i,database:a}=r),s,(n(2,i),n(6,r),n(0,c)),(n(1,a),n(6,r),n(0,c)))},[c,a,i,s,o,l,r]}class VH extends at{constructor(e){super(),it(this,e,qH,jH,d,{generalConnection:0})}}function BH(e){let t,n,r,o,s,i,a,l=e[11]("database_server_credentials")+"";function c(t){e[37](t)}let u={ariaLabel:e[11]("database_server_credentials"),options:[{reuse:!0,modifiable:!0},{reuse:!1,modifiable:!0}],valuesAreEqual:oz,getRadioLabel:e[22]};return void 0!==e[13]&&(u.value=e[13]),s=new Hl({props:u}),we.push((()=>nt(s,"value",c))),{c(){t=H("div"),n=F(l),r=j(),o=H("div"),rt(s.$$.fragment)},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),ot(s,o,null),a=!0},p(e,t){(!a||2048&t[0])&&l!==(l=e[11]("database_server_credentials")+"")&&G(n,l);const r={};2048&t[0]&&(r.ariaLabel=e[11]("database_server_credentials")),!i&&8192&t[0]&&(i=!0,r.value=e[13],Te((()=>i=!1))),s.$set(r)},i(e){a||(je(s.$$.fragment,e),a=!0)},o(e){qe(s.$$.fragment,e),a=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s)}}}function WH(e){let t,n,r,o,s,i;return t=new NH({props:{label:e[11]("host_name"),$$slots:{default:[YH]},$$scope:{ctx:e}}}),r=new NH({props:{label:e[11]("user_name"),$$slots:{default:[KH]},$$scope:{ctx:e}}}),s=new NH({props:{label:e[11]("password"),$$slots:{default:[GH]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};2048&n[0]&&(o.label=e[11]("host_name")),2096&n[0]|1048576&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};2048&n[0]&&(i.label=e[11]("user_name")),2056&n[0]|1048576&n[1]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};2048&n[0]&&(a.label=e[11]("password")),2052&n[0]|1048576&n[1]&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function UH(e){let t,n;return t=new NH({props:{label:e[11]("known_connection"),$$slots:{default:[ZH]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.label=e[11]("known_connection")),530432&n[0]|1048576&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YH(e){let t,n,r,o,s;return n=new yO({props:{field:e[5]}}),o=new yO({props:{field:e[4],input:{component:Oa,props:{style:"width: 8ch;"}},label:e[11]("port")}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","host-and-port svelte-1x9hqqv")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r={};32&t[0]&&(r.field=e[5]),n.$set(r);const s={};16&t[0]&&(s.field=e[4]),2048&t[0]&&(s.label=e[11]("port")),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function KH(e){let t,n;return t=new yO({props:{field:e[3],help:e[11]("existing_pg_user_privileges_help")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.field=e[3]),2048&n[0]&&(r.help=e[11]("existing_pg_user_privileges_help")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function GH(e){let t,n;return t=new yO({props:{field:e[2],input:{component:_l},help:e[11]("password_encryption_help")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.field=e[2]),2048&n[0]&&(r.help=e[11]("password_encryption_help")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XH(e){let t,n=e[11]("the_credentials_will_be_copied_from_this_connection")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2048&r[0]&&n!==(n=e[11]("the_credentials_will_be_copied_from_this_connection")+"")&&G(t,n)},d(e){e&&P(t)}}}function ZH(e){let t,n,r,o,s;function i(t){e[39](t)}let a={options:e[19],getLabel:e[38]};return void 0!==e[12]&&(a.value=e[12]),t=new gu({props:a}),we.push((()=>nt(t,"value",i))),o=new ZM({props:{$$slots:{default:[XH]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,n){ot(t,e,n),L(e,r,n),ot(o,e,n),s=!0},p(e,r){const s={};524288&r[0]&&(s.options=e[19]),!n&&4096&r[0]&&(n=!0,s.value=e[12],Te((()=>n=!1))),t.$set(s);const i={};2048&r[0]|1048576&r[1]&&(i.$$scope={dirty:r,ctx:e}),o.$set(i)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(r),st(o,e)}}}function JH(e){let t,n,r;return n=new Mo({props:{label:e[11]("create_db_if_not_exists"),layout:"inline-input-first",help:e[11]("operation_requires_pg_user_have_createdb",{values:{username:e[14]}}),$$slots:{default:[QH]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","create-db-checkbox-field svelte-1x9hqqv")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2048&t[0]&&(r.label=e[11]("create_db_if_not_exists")),18432&t[0]&&(r.help=e[11]("operation_requires_pg_user_have_createdb",{values:{username:e[14]}})),1048576&t[0]|1048576&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function QH(e){let t,n,r;function o(t){e[40](t)}let s={};return void 0!==e[20]&&(s.checked=e[20]),t=new go({props:s}),we.push((()=>nt(t,"checked",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&1048576&r[0]&&(n=!0,o.checked=e[20],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function ez(e){let t,n,r,o,s;n=new yO({props:{field:e[10],help:e[15]}});let i=e[1]&&JH(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),i&&i.c(),o=q()},m(e,a){L(e,t,a),ot(n,t,null),L(e,r,a),i&&i.m(e,a),L(e,o,a),s=!0},p(e,t){const r={};1024&t[0]&&(r.field=e[10]),32768&t[0]&&(r.help=e[15]),n.$set(r),e[1]?i?(i.p(e,t),2&t[0]&&je(i,1)):(i=JH(e),i.c(),je(i,1),i.m(o.parentNode,o)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){s||(je(n.$$.fragment,e),je(i),s=!0)},o(e){qe(n.$$.fragment,e),qe(i),s=!1},d(e){e&&P(t),st(n),e&&P(r),i&&i.d(e),e&&P(o)}}}function tz(e){let t,n;return t=new yO({props:{field:e[8],help:e[11]("connection_nickname_help")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.field=e[8]),2048&n[0]&&(r.help=e[11]("connection_nickname_help")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nz(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_=e[11]("schemas_to_install")+"",x=e[13].modifiable&&BH(e);const S=[UH,WH],C=[];function E(e,t){return e[13].reuse?0:1}function k(t){e[43](t)}n=E(e),r=C[n]=S[n](e),s=new TH({}),a=new NH({props:{label:e[11]("database_name"),$$slots:{default:[ez]},$$scope:{ctx:e}}}),c=new TH({});let I={ariaLabel:e[11]("schemas_to_install"),options:e[23],getCheckboxLabel:e[41],getCheckboxHelp:e[42],getCheckboxDisabled:sz};return void 0!==e[21]&&(I.values=e[21]),f=new Is({props:I}),we.push((()=>nt(f,"values",k))),y=new TH({}),b=new NH({props:{label:e[11]("connection_nickname"),$$slots:{default:[tz]},$$scope:{ctx:e}}}),{c(){x&&x.c(),t=j(),r.c(),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment),l=j(),rt(c.$$.fragment),u=j(),d=H("div"),p=F(_),$=j(),m=H("div"),rt(f.$$.fragment),g=j(),rt(y.$$.fragment),v=j(),rt(b.$$.fragment)},m(e,r){x&&x.m(e,r),L(e,t,r),C[n].m(e,r),L(e,o,r),ot(s,e,r),L(e,i,r),ot(a,e,r),L(e,l,r),ot(c,e,r),L(e,u,r),L(e,d,r),O(d,p),L(e,$,r),L(e,m,r),ot(f,m,null),L(e,g,r),ot(y,e,r),L(e,v,r),ot(b,e,r),w=!0},p(e,s){e[13].modifiable?x?(x.p(e,s),8192&s[0]&&je(x,1)):(x=BH(e),x.c(),je(x,1),x.m(t.parentNode,t)):x&&(ze(),qe(x,1,1,(()=>{x=null})),Fe());let i=n;n=E(e),n===i?C[n].p(e,s):(ze(),qe(C[i],1,1,(()=>{C[i]=null})),Fe(),r=C[n],r?r.p(e,s):(r=C[n]=S[n](e),r.c()),je(r,1),r.m(o.parentNode,o));const l={};2048&s[0]&&(l.label=e[11]("database_name")),1100802&s[0]|1048576&s[1]&&(l.$$scope={dirty:s,ctx:e}),a.$set(l),(!w||2048&s[0])&&_!==(_=e[11]("schemas_to_install")+"")&&G(p,_);const c={};2048&s[0]&&(c.ariaLabel=e[11]("schemas_to_install")),!h&&2097152&s[0]&&(h=!0,c.values=e[21],Te((()=>h=!1))),f.$set(c);const u={};2048&s[0]&&(u.label=e[11]("connection_nickname")),2304&s[0]|1048576&s[1]&&(u.$$scope={dirty:s,ctx:e}),b.$set(u)},i(e){w||(je(x),je(r),je(s.$$.fragment,e),je(a.$$.fragment,e),je(c.$$.fragment,e),je(f.$$.fragment,e),je(y.$$.fragment,e),je(b.$$.fragment,e),w=!0)},o(e){qe(x),qe(r),qe(s.$$.fragment,e),qe(a.$$.fragment,e),qe(c.$$.fragment,e),qe(f.$$.fragment,e),qe(y.$$.fragment,e),qe(b.$$.fragment,e),w=!1},d(e){x&&x.d(e),e&&P(t),C[n].d(e),e&&P(o),st(s,e),e&&P(i),st(a,e),e&&P(l),st(c,e),e&&P(u),e&&P(d),e&&P($),e&&P(m),st(f),e&&P(g),st(y,e),e&&P(v),st(b,e)}}}function rz(e){let t,n,r,o,s,i,a,l;return n=new kH({props:{$$slots:{default:[nz]},$$scope:{ctx:e}}}),s=new xO({props:{form:e[16],catchErrors:!0,onCancel:e[0],onProceed:e[26],proceedButton:{label:e[11]("add_connection")},cancelButton:{label:e[11]("cancel")}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div"),rt(s.$$.fragment),U(o,"class","footer"),U(t,"class","db-connection-form svelte-1x9hqqv")},m(e,c){L(e,t,c),ot(n,t,null),O(t,r),O(t,o),ot(s,o,null),i=!0,a||(l=C(qm.call(null,o)),a=!0)},p(e,t){const r={};3734846&t[0]|1048576&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};65536&t[0]&&(o.form=e[16]),1&t[0]&&(o.onCancel=e[0]),2048&t[0]&&(o.proceedButton={label:e[11]("add_connection")}),2048&t[0]&&(o.cancelButton={label:e[11]("cancel")}),s.$set(o)},i(e){i||(je(n.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),st(n),st(s),a=!1,l()}}}const oz=(e,t)=>e?.reuse===t?.reuse,sz=e=>"internal"===e;function iz(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z,F,j,q=o,V=o,B=o,W=o,U=o,Y=o,K=o,G=o,X=o,Z=o,J=o;m(e,Mg,(e=>n(11,T=e))),m(e,PH,(e=>n(35,F=e))),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>J()));const Q=["internal",..._S],ee={internal:"mathesar_types, __msar, msar",library_management:"Library Management",movie_collection:"Movie Collection"},te={internal:T("internal_schema_help"),library_management:T("sample_data_library_help"),movie_collection:T("sample_data_movies_help")};let{onCancel:ne}=t,{onSuccess:re}=t;return e.$$set=e=>{"onCancel"in e&&n(0,ne=e.onCancel),"onSuccess"in e&&n(27,re=e.onSuccess)},e.$$.update=()=>{16&e.$$.dirty[1]&&n(19,r=F),16&e.$$.dirty[1]&&n(31,s=function(e){if(0===e.length)return;return e.find((e=>"internal_database"===e.type))||e.filter(AH).reduce(((e,t)=>e.connection.id>t.connection.id?e:t))}(F)),32&e.$$.dirty[1]&&n(28,a=new Set(vS((([,e])=>e.nickname),j))),16&e.$$.dirty[1]&&n(33,l=F.some((e=>"user_database"===e.type))),4&e.$$.dirty[1]&&n(32,c=l?"":"mathesar"),1&e.$$.dirty[1]&&(n(17,u=IO(s?{reuse:!0,modifiable:!0}:{reuse:!1,modifiable:!1})),K(),K=p(u,(e=>n(13,P=e)))),2&e.$$.dirty[1]&&(n(10,d=IO(c)),Z(),Z=p(d,(e=>n(34,z=e)))),268435456&e.$$.dirty[0]&&(n(8,h=IO("",[vM(a)])),G(),G=p(h,(e=>n(48,R=e)))),1&e.$$.dirty[1]&&(n(7,g=IO(s)),Y(),Y=p(g,(e=>n(12,L=e)))),1792&e.$$.dirty[0]&&n(30,_={databaseName:d,installationSchemas:f,connectionNickname:h}),1073750268&e.$$.dirty[0]&&n(29,x=P.reuse?{..._,connectionToReuse:g,createDatabase:$}:{..._,host:y,port:v,user:b,password:w}),536870912&e.$$.dirty[0]&&n(16,C=DO(x)),8192&e.$$.dirty[0]&&n(1,E=P.reuse),2050&e.$$.dirty[0]&&n(15,k=E?void 0:T("this_database_must_exist_already")),12288&e.$$.dirty[0]&&n(14,I=P.reuse?At(L,RH):void 0),8&e.$$.dirty[1]&&S(h,R=pA(z,a),R)},n(18,i=ES.connections),J(),J=p(i,(e=>n(36,j=e))),n(6,$=IO(!0)),U(),U=p($,(e=>n(20,A=e))),n(9,f=IO(["internal"])),X(),X=p(f,(e=>n(21,H=e))),n(5,y=IO("localhost")),W(),W=p(y,(e=>n(47,N=e))),n(4,v=IO(5432)),B(),B=p(v,(e=>n(46,O=e))),n(3,b=IO("")),V(),V=p(b,(e=>n(45,M=e))),n(2,w=IO("")),q(),q=p(w,(e=>n(44,D=e))),[ne,E,w,b,v,y,$,g,h,f,d,T,L,P,I,k,C,u,i,r,A,H,function(e){return e.reuse?T("reuse_credentials_from_known_connection"):T("enter_new_credentials")},Q,ee,te,async function(){try{const e=await function(){const e={database_name:z,sample_data:_S.filter((e=>H.includes(e))),nickname:R};if(P.reuse){const t=L;if(!t)throw new Error("Bug: $connectionToReuse is undefined");return ES.createFromKnownConnection({...e,credentials:{connection:HH(t)},create_database:A})}return ES.createFromScratch({...e,credentials:{host:N,port:String(O),user:M,password:D}})}();re(e),Cv.success(T("connection_added_successfully"))}catch(e){Cv.fromError(e)}},re,a,x,_,s,c,l,z,F,j,function(e){P=e,u.set(P)},e=>({component:VH,props:{generalConnection:e}}),function(e){L=e,g.set(L)},function(e){A=e,$.set(A)},e=>ee[e],e=>te[e],function(e){H=e,f.set(H)}]}class az extends at{constructor(e){super(),it(this,e,iz,rz,d,{onCancel:0,onSuccess:27},null,[-1,-1])}}function lz(e){let t,n;return t=new az({props:{onCancel:e[2],onSuccess:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cz(e){let t,n;return t=new Sp({props:{controller:e[0],size:"large",title:e[1]("new_postgresql_database_connection"),$$slots:{default:[lz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),2&n&&(r.title=e[1]("new_postgresql_database_connection")),16&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uz(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{controller:o}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller)},[o,r,function(){o.close()},function(e){o.close();const t=Ob(e.id);qN.goto(t)}]}class dz extends at{constructor(e){super(),it(this,e,uz,cz,d,{controller:0})}}function pz(e){let t,n,r,o,s,a,l,c,u,d,p=e[0]("no_database_connections_yet")+"",$=e[0]("setup_connections_help")+"";const m=[Ry,{size:"var(--size-super-ultra-large)"}];let f={};for(let h=0;h<m.length;h+=1)f=i(f,m[h]);return r=new Kr({props:f}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("div"),a=F(p),l=j(),c=H("div"),u=F($),U(n,"data-identifier","connection-icon"),U(n,"class","svelte-2szg0y"),U(s,"data-identifier","no-connections-text"),U(s,"class","svelte-2szg0y"),U(c,"data-identifier","no-connections-help"),U(c,"class","svelte-2szg0y"),U(t,"slot","body")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(t,o),O(t,s),O(s,a),O(t,l),O(t,c),O(c,u),d=!0},p(e,t){const n=0&t?et(m,[tt(Ry),m[1]]):{};r.$set(n),(!d||1&t)&&p!==(p=e[0]("no_database_connections_yet")+"")&&G(a,p),(!d||1&t)&&$!==($=e[0]("setup_connections_help")+"")&&G(u,$)},i(e){d||(je(r.$$.fragment,e),d=!0)},o(e){qe(r.$$.fragment,e),d=!1},d(e){e&&P(t),st(r)}}}function $z(e){let t,n,r,o,s,a=e[0]("add_database_connection")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||1&n)&&a!==(a=e[0]("add_database_connection")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function mz(e){let t,n;return t=new Hn({props:{slot:"footer",appearance:"primary",$$slots:{default:[$z]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fz(e){let t,n,r,o,s;return n=new Ln({props:{$$slots:{footer:[mz],body:[pz]},$$scope:{ctx:e}}}),o=new dz({props:{controller:e[1]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","content svelte-2szg0y"),U(t,"data-identifier","connection-empty-text")},m(e,i){L(e,t,i),ot(n,t,null),L(e,r,i),ot(o,e,i),s=!0},p(e,[t]){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),e&&P(r),st(o,e)}}}function hz(e,t,n){let r;m(e,Mg,(e=>n(0,r=e)));const o=Sv.spawnModalController();return[r,o,()=>o.open()]}class gz extends at{constructor(e){super(),it(this,e,hz,fz,d,{})}}function yz(e){let t;const n=e[1].default,r=f(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&y(r,n,e,e[2],t?g(n,e[2],o,null):v(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function vz(e){let t,n,r;const o=[{icon:Er},e[0]];let s={$$slots:{default:[yz]},$$scope:{ctx:e}};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new MM({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","info-box svelte-1imv3fg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=1&t?et(o,[0&t&&{icon:Er},1&t&&tt(e[0])]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function bz(e,t,n){const r=[];let o=w(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(0,o=w(t,r)),"$$scope"in e&&n(2,a=e.$$scope)},[o,s,a]}class wz extends at{constructor(e){super(),it(this,e,bz,vz,d,{})}}function _z(e){let t,n,r,o,s,i,a;return r=new yO({props:{label:e[12]("host"),field:e[9],layout:"stacked",input:{component:qi,props:{disabled:!0}}}}),i=new yO({props:{label:e[12]("port"),field:e[8],layout:"stacked",input:{component:qi,props:{disabled:!0}}}}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("div"),rt(i.$$.fragment),U(n,"data-identifier","host-config"),U(n,"class","svelte-1h4f37b"),U(s,"data-identifier","port-config"),U(s,"class","svelte-1h4f37b"),U(t,"data-identifier","host-port-config"),U(t,"class","svelte-1h4f37b")},m(e,l){L(e,t,l),O(t,n),ot(r,n,null),O(t,o),O(t,s),ot(i,s,null),a=!0},p(e,t){const n={};4096&t&&(n.label=e[12]("host")),512&t&&(n.field=e[9]),r.$set(n);const o={};4096&t&&(o.label=e[12]("port")),256&t&&(o.field=e[8]),i.$set(o)},i(e){a||(je(r.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(r.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(r),st(i)}}}function xz(e){let t,n,r=e[24]+"";return{c(){t=H("a"),n=F(r),U(t,"href","https://github.com/mathesar-foundation/mathesar/issues/3386"),U(t,"target","_blank")},m(e,r){L(e,t,r),O(t,n)},p(e,t){16777216&t&&r!==(r=e[24]+"")&&G(n,r)},d(e){e&&P(t)}}}function Sz(e){let t,n="issueLink"===e[23]&&xz(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"issueLink"===e[23]?n?n.p(e,r):(n=xz(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function Cz(e){let t,n;return t=new Kg({props:{text:e[12]("disabled_connection_edit_fields_help"),$$slots:{default:[Sz,({slotName:e,translatedArg:t})=>({23:e,24:t}),({slotName:e,translatedArg:t})=>(e?8388608:0)|(t?16777216:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n&&(r.text=e[12]("disabled_connection_edit_fields_help")),58720256&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ez(e){let t,n,r;return n=new wz({props:{$$slots:{default:[Cz]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","disabled-help svelte-1h4f37b")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};33558528&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function kz(e){let t,n,r;function o(t){e[18](t)}let s={};return void 0!==e[6]&&(s.checked=e[6]),t=new go({props:s}),we.push((()=>nt(t,"checked",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&64&r&&(n=!0,o.checked=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Iz(e){let t,n;return t=new Mo({props:{label:e[12]("change_password"),layout:"inline-input-first",$$slots:{default:[kz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n&&(r.label=e[12]("change_password")),33554496&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Tz(e){let t,n;return t=new yO({props:{label:e[12]("new_password"),field:e[2],input:{component:_l,props:{autocomplete:"new-password"}},layout:"stacked",help:e[12]("password_encryption_help")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n&&(r.label=e[12]("new_password")),4&n&&(r.field=e[2]),4096&n&&(r.help=e[12]("password_encryption_help")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dz(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h,g,y;n=new yO({props:{label:e[12]("connection_name"),field:e[5],layout:"stacked"}}),i=new yO({props:{label:e[12]("database_name"),field:e[10],layout:"stacked",input:{component:qi,props:{disabled:!0}}}}),l=new eO({props:{$$slots:{default:[_z]},$$scope:{ctx:e}}}),u=new eO({props:{$$slots:{default:[Ez]},$$scope:{ctx:e}}}),m=new yO({props:{label:e[12]("username"),field:e[4],layout:"stacked",help:e[12]("user_needs_create_connect_privileges")}}),h=new eO({props:{$$slots:{default:[Iz]},$$scope:{ctx:e}}});let v=e[6]&&Tz(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("hr"),s=j(),rt(i.$$.fragment),a=j(),rt(l.$$.fragment),c=j(),rt(u.$$.fragment),d=j(),p=H("hr"),$=j(),rt(m.$$.fragment),f=j(),rt(h.$$.fragment),g=j(),v&&v.c(),U(o,"class","svelte-1h4f37b"),U(p,"class","svelte-1h4f37b")},m(e,b){L(e,t,b),ot(n,t,null),O(t,r),O(t,o),O(t,s),ot(i,t,null),O(t,a),ot(l,t,null),O(t,c),ot(u,t,null),O(t,d),O(t,p),O(t,$),ot(m,t,null),O(t,f),ot(h,t,null),O(t,g),v&&v.m(t,null),y=!0},p(e,r){const o={};4096&r&&(o.label=e[12]("connection_name")),32&r&&(o.field=e[5]),n.$set(o);const s={};4096&r&&(s.label=e[12]("database_name")),1024&r&&(s.field=e[10]),i.$set(s);const a={};33559296&r&&(a.$$scope={dirty:r,ctx:e}),l.$set(a);const c={};33558528&r&&(c.$$scope={dirty:r,ctx:e}),u.$set(c);const d={};4096&r&&(d.label=e[12]("username")),16&r&&(d.field=e[4]),4096&r&&(d.help=e[12]("user_needs_create_connect_privileges")),m.$set(d);const p={};33558592&r&&(p.$$scope={dirty:r,ctx:e}),h.$set(p),e[6]?v?(v.p(e,r),64&r&&je(v,1)):(v=Tz(e),v.c(),je(v,1),v.m(t,null)):v&&(ze(),qe(v,1,1,(()=>{v=null})),Fe())},i(e){y||(je(n.$$.fragment,e),je(i.$$.fragment,e),je(l.$$.fragment,e),je(u.$$.fragment,e),je(m.$$.fragment,e),je(h.$$.fragment,e),je(v),y=!0)},o(e){qe(n.$$.fragment,e),qe(i.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),qe(m.$$.fragment,e),qe(h.$$.fragment,e),qe(v),y=!1},d(e){e&&P(t),st(n),st(i),st(l),st(u),st(m),st(h),v&&v.d()}}}function Mz(e){let t,n;return t=new Ag({props:{$$slots:{default:[Oz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};33554434&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Oz(e){let t,n=e[1].nickname+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1].nickname+"")&&G(t,n)},d(e){e&&P(t)}}}function Nz(e){let t,n,r="connectionName"===e[23]&&Mz(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"connectionName"===e[23]?r?(r.p(e,n),8388608&n&&je(r,1)):(r=Mz(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Az(e){let t,n;return t=new Kg({props:{text:e[12]("edit_connection_with_name"),$$slots:{default:[Nz,({slotName:e})=>({23:e}),({slotName:e})=>e?8388608:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n&&(r.text=e[12]("edit_connection_with_name")),41943042&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lz(e){let t,n,r;return n=new xO({props:{form:e[7],canCancel:e[13].hasChanges,canProceed:e[13].hasChanges,cancelButton:{label:e[12]("reset")},proceedButton:{label:e[12]("update_connection")},onCancel:e[17],onProceed:e[14]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","footer")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};128&t&&(r.form=e[7]),8192&t&&(r.canCancel=e[13].hasChanges),8192&t&&(r.canProceed=e[13].hasChanges),4096&t&&(r.cancelButton={label:e[12]("reset")}),4096&t&&(r.proceedButton={label:e[12]("update_connection")}),128&t&&(r.onCancel=e[17]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Pz(e){let t,n;return t=new Sp({props:{controller:e[0],$$slots:{footer:[Lz],title:[Az],default:[Dz]},$$scope:{ctx:e}}}),t.$on("open",e[19]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),33568758&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Rz(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x=o,S=o,C=o,E=o,k=o,I=o;m(e,Mg,(e=>n(12,h=e))),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>I()));let{controller:T}=t,{connection:D}=t;return e.$$set=e=>{"controller"in e&&n(0,T=e.controller),"connection"in e&&n(1,D=e.connection)},e.$$.update=()=>{65538&e.$$.dirty&&n(15,s=new Set(vS((([,e])=>e.nickname),w.without(D.id)))),32770&e.$$.dirty&&(n(5,i=IO(D.nickname,[vM(s)])),E(),E=p(i,(e=>n(22,b=e)))),2&e.$$.dirty&&n(10,a=IO(D.database)),2&e.$$.dirty&&n(9,l=IO(D.host)),2&e.$$.dirty&&n(8,c=IO(D.port??5432,[xM()])),2&e.$$.dirty&&(n(4,u=IO(D.username)),C(),C=p(u,(e=>n(21,v=e)))),124&e.$$.dirty&&(n(7,f=DO({connectionName:i,username:u,changePassword:d,...y?{password:$}:{}})),I(),I=p(f,(e=>n(13,_=e))))},n(11,({connections:r}=ES),r),k(),k=p(r,(e=>n(16,w=e))),n(3,d=IO(!1)),S(),S=p(d,(e=>n(6,y=e))),n(2,$=IO("")),x(),x=p($,(e=>n(20,g=e))),[T,D,$,d,u,i,y,f,c,l,a,r,h,_,async function(){try{await ES.updateConnection(D.id,{nickname:b,username:v,...y?{password:g}:{}}),Cv.success(h("connection_updated_successfully")),T.close()}catch($h){Cv.error(rc($h))}},s,w,()=>f.reset(),function(e){y=e,d.set(y)},()=>f.reset()]}class Hz extends at{constructor(e){super(),it(this,e,Rz,Pz,d,{controller:0,connection:1})}}function zz(e){let t,n;const r=e[3].default,o=f(r,e,e[2],null);return{c(){t=H("a"),o&&o.c(),U(t,"href",e[0]),U(t,"target","_blank")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[s]){o&&o.p&&(!n||4&s)&&y(o,r,e,e[2],n?g(r,e[2],s,null):v(e[2]),null),(!n||1&s)&&U(t,"href",e[0])},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function Fz(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{path:i}=t;return e.$$set=e=>{"path"in e&&n(1,i=e.path),"$$scope"in e&&n(2,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=Zb(i))},[r,i,s,o]}class jz extends at{constructor(e){super(),it(this,e,Fz,zz,d,{path:1})}}function qz(e){let t;const n=e[1].default,r=f(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&y(r,n,e,e[2],t?g(n,e[2],o,null):v(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Vz(e){let t,n,r;const o=[e[0],{icon:kr}];let s={$$slots:{default:[qz]},$$scope:{ctx:e}};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new MM({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","warning-box svelte-1p8cm9u")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r=1&t?et(o,[1&t&&tt(e[0]),0&t&&{icon:kr}]):{};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Bz(e,t,n){const r=[];let o=w(t,r),{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(0,o=w(t,r)),"$$scope"in e&&n(2,a=e.$$scope)},[o,s,a]}class Wz extends at{constructor(e){super(),it(this,e,Bz,Vz,d,{})}}function Uz(e){let t,n,r;return n=new Mo({props:{layout:"inline-input-first",label:e[4]("delete_associated_mathesar_schemas_help"),$$slots:{default:[Yz]},$$scope:{ctx:e}}}),{c(){t=H("p"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.label=e[4]("delete_associated_mathesar_schemas_help")),4100&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Yz(e){let t,n,r;function o(t){e[9](t)}let s={};return void 0!==e[2]&&(s.checked=e[2]),t=new go({props:s}),we.push((()=>nt(t,"checked",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&4&r&&(n=!0,o.checked=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Kz(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[4]("action_cannot_be_undone")+"",$=e[4]("delete_connection_info")+"",m=e[4]("delete_connection_db_delete_info")+"",f=e[3]&&Uz(e);return{c(){t=H("p"),n=F(p),r=j(),o=H("p"),s=F($),i=j(),a=H("p"),l=F(m),c=j(),f&&f.c(),u=q()},m(e,p){L(e,t,p),O(t,n),L(e,r,p),L(e,o,p),O(o,s),L(e,i,p),L(e,a,p),O(a,l),L(e,c,p),f&&f.m(e,p),L(e,u,p),d=!0},p(e,t){(!d||16&t)&&p!==(p=e[4]("action_cannot_be_undone")+"")&&G(n,p),(!d||16&t)&&$!==($=e[4]("delete_connection_info")+"")&&G(s,$),(!d||16&t)&&m!==(m=e[4]("delete_connection_db_delete_info")+"")&&G(l,m),e[3]?f?(f.p(e,t),8&t&&je(f,1)):(f=Uz(e),f.c(),je(f,1),f.m(u.parentNode,u)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe())},i(e){d||(je(f),d=!0)},o(e){qe(f),d=!1},d(e){e&&P(t),e&&P(r),e&&P(o),e&&P(i),e&&P(a),e&&P(c),f&&f.d(e),e&&P(u)}}}function Gz(e){let t,n;return t=new Ag({props:{$$slots:{default:[Xz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4098&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xz(e){let t,n=e[1].nickname+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1].nickname+"")&&G(t,n)},d(e){e&&P(t)}}}function Zz(e){let t,n,r="connectionName"===e[11]&&Gz(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"connectionName"===e[11]?r?(r.p(e,n),2048&n&&je(r,1)):(r=Gz(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Jz(e){let t,n;return t=new Kg({props:{text:e[4]("delete_connection_with_name"),$$slots:{default:[Zz,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("delete_connection_with_name")),6146&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qz(e){let t,n;return t=new ao({props:{proceedButton:{icon:void 0,label:e[4]("delete_connection")},onCancel:e[7],onProceed:e[6],slot:"footer"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.proceedButton={icon:void 0,label:e[4]("delete_connection")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eF(e){let t,n;return t=new Sp({props:{controller:e[0],$$slots:{footer:[Qz],title:[Jz],default:[Kz]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),4126&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tF(e,t,n){let r,o,s;m(e,Mg,(e=>n(4,o=e)));const{connections:i}=ES;m(e,i,(e=>n(8,s=e)));const a=fe();let{controller:l}=t,{connection:c}=t,u=!1;return e.$$set=e=>{"controller"in e&&n(0,l=e.controller),"connection"in e&&n(1,c=e.connection)},e.$$.update=()=>{258&e.$$.dirty&&n(3,r=CS(c,s.values()))},[l,c,u,r,o,i,async function(){try{await ES.deleteConnection(c.id,u),Cv.success(o("connection_deleted_successfully")),l.close(),a("delete")}catch(e){Cv.error(rc(e))}},function(){l.close(),n(2,u=!1)},s,function(e){u=e,n(2,u)}]}class nF extends at{constructor(e){super(),it(this,e,tF,eF,d,{controller:0,connection:1})}}function rF(e){let t,n,r,o,s,a=e[1]("start_working_with_mathesar")+"";const l=[jy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return o=new Kr({props:c}),{c(){t=H("span"),n=F(a),r=j(),rt(o.$$.fragment)},m(e,i){L(e,t,i),O(t,n),L(e,r,i),ot(o,e,i),s=!0},p(e,t){(!s||2&t)&&a!==(a=e[1]("start_working_with_mathesar")+"")&&G(n,a);const r=0&t?et(l,[tt(jy)]):{};o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),e&&P(r),st(o,e)}}}function oF(e){let t,n,r,o,s,a=e[1]("join_community_chat")+"";const l=[jy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return o=new Kr({props:c}),{c(){t=H("span"),n=F(a),r=j(),rt(o.$$.fragment)},m(e,i){L(e,t,i),O(t,n),L(e,r,i),ot(o,e,i),s=!0},p(e,t){(!s||2&t)&&a!==(a=e[1]("join_community_chat")+"")&&G(n,a);const r=0&t?et(l,[tt(jy)]):{};o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),e&&P(r),st(o,e)}}}function sF(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,N,A,R,z,q,V,B,W=e[1]("welcome_to_mathesar_user",{values:{user:e[0]?.getDisplayName()}})+"",Y=e[1]("database_connections")+"",K=e[1]("documentation_and_resources")+"",X=e[1]("getting_started")+"",Z=e[1]("getting_started_help")+"",J=e[1]("feel_stuck_or_feedback")+"",Q=e[1]("connect_with_community_help")+"";var ee;return u=new gz({}),k=new fn({props:{appearance:"secondary",href:Zb("/"),target:"_blank",$$slots:{default:[rF]},$$scope:{ctx:e}}}),V=new fn({props:{appearance:"secondary",href:(ee="/community/",`https://wiki.mathesar.org${ee}`),target:"_blank",$$slots:{default:[oF]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("span"),r=F(W),o=j(),s=H("div"),i=H("section"),a=H("div"),l=F(Y),c=j(),rt(u.$$.fragment),d=j(),p=H("hr"),$=j(),m=H("section"),f=H("div"),h=F(K),g=j(),y=H("div"),v=H("div"),b=H("div"),w=F(X),_=j(),x=H("div"),S=F(Z),C=j(),E=H("div"),rt(k.$$.fragment),I=j(),T=H("div"),D=H("div"),M=F(J),N=j(),A=H("div"),R=F(Q),z=j(),q=H("div"),rt(V.$$.fragment),U(n,"class","svelte-1htadje"),U(t,"data-identifier","welcome-header"),U(t,"class","svelte-1htadje"),U(a,"class","header svelte-1htadje"),U(i,"class","svelte-1htadje"),U(p,"class","svelte-1htadje"),U(f,"class","header svelte-1htadje"),U(b,"class","header svelte-1htadje"),U(x,"class","content svelte-1htadje"),U(E,"class","footer svelte-1htadje"),U(v,"class","document-block svelte-1htadje"),U(D,"class","header svelte-1htadje"),U(A,"class","content svelte-1htadje"),U(q,"class","footer svelte-1htadje"),U(T,"class","document-block svelte-1htadje"),U(y,"class","content svelte-1htadje"),U(y,"data-identifier","documentation-links"),U(m,"class","svelte-1htadje"),U(s,"data-identifier","welcome-container"),U(s,"class","svelte-1htadje")},m(e,P){L(e,t,P),O(t,n),O(n,r),L(e,o,P),L(e,s,P),O(s,i),O(i,a),O(a,l),O(i,c),ot(u,i,null),O(s,d),O(s,p),O(s,$),O(s,m),O(m,f),O(f,h),O(m,g),O(m,y),O(y,v),O(v,b),O(b,w),O(v,_),O(v,x),O(x,S),O(v,C),O(v,E),ot(k,E,null),O(y,I),O(y,T),O(T,D),O(D,M),O(T,N),O(T,A),O(A,R),O(T,z),O(T,q),ot(V,q,null),B=!0},p(e,t){(!B||3&t)&&W!==(W=e[1]("welcome_to_mathesar_user",{values:{user:e[0]?.getDisplayName()}})+"")&&G(r,W),(!B||2&t)&&Y!==(Y=e[1]("database_connections")+"")&&G(l,Y),(!B||2&t)&&K!==(K=e[1]("documentation_and_resources")+"")&&G(h,K),(!B||2&t)&&X!==(X=e[1]("getting_started")+"")&&G(w,X),(!B||2&t)&&Z!==(Z=e[1]("getting_started_help")+"")&&G(S,Z);const n={};18&t&&(n.$$scope={dirty:t,ctx:e}),k.$set(n),(!B||2&t)&&J!==(J=e[1]("feel_stuck_or_feedback")+"")&&G(M,J),(!B||2&t)&&Q!==(Q=e[1]("connect_with_community_help")+"")&&G(R,Q);const o={};18&t&&(o.$$scope={dirty:t,ctx:e}),V.$set(o)},i(e){B||(je(u.$$.fragment,e),je(k.$$.fragment,e),je(V.$$.fragment,e),B=!0)},o(e){qe(u.$$.fragment,e),qe(k.$$.fragment,e),qe(V.$$.fragment,e),B=!1},d(e){e&&P(t),e&&P(o),e&&P(s),st(u),st(k),st(V)}}}function iF(e){let t,n;return t=new mH({props:{cssVariables:{"--page-padding":"0"},$$slots:{default:[sF]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};19&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aF(e,t,n){let r,o,s;m(e,Mg,(e=>n(1,s=e)));const i=cb();return m(e,i,(e=>n(3,o=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,r=o)},[r,s,i,o]}class lF extends at{constructor(e){super(),it(this,e,aF,iF,d,{})}}const cF=e=>({}),uF=e=>({}),dF=e=>({}),pF=e=>({});function $F(e){let t,n,r,o;const s=e[4].resultInfo,i=f(s,e,e[6],uF);return r=new Hn({props:{appearance:"secondary",$$slots:{default:[mF]},$$scope:{ctx:e}}}),r.$on("click",e[3]),{c(){t=H("div"),i&&i.c(),n=j(),rt(r.$$.fragment),U(t,"class","search-results-info svelte-13vmmh3")},m(e,s){L(e,t,s),i&&i.m(t,null),O(t,n),ot(r,t,null),o=!0},p(e,t){i&&i.p&&(!o||64&t)&&y(i,s,e,e[6],o?g(s,e[6],t,cF):v(e[6]),uF);const n={};68&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(i,e),je(r.$$.fragment,e),o=!0)},o(e){qe(i,e),qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),i&&i.d(e),st(r)}}}function mF(e){let t,n=e[2]("clear")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("clear")+"")&&G(t,n)},d(e){e&&P(t)}}}function fF(e){let t,n,r,o,s,i,a,l;function c(t){e[5](t)}let u={placeholder:e[1],prefixIcon:br};void 0!==e[0]&&(u.value=e[0]),o=new Xl({props:u}),we.push((()=>nt(o,"value",c)));const d=e[4].action,p=f(d,e,e[6],pF);let $=e[0]&&$F(e);return{c(){t=H("div"),n=H("div"),r=H("div"),rt(o.$$.fragment),i=j(),p&&p.c(),a=j(),$&&$.c(),U(r,"class","search-container svelte-13vmmh3"),U(n,"class","actions-container svelte-13vmmh3"),U(t,"class","container svelte-13vmmh3")},m(e,s){L(e,t,s),O(t,n),O(n,r),ot(o,r,null),O(n,i),p&&p.m(n,null),O(t,a),$&&$.m(t,null),l=!0},p(e,[n]){const r={};2&n&&(r.placeholder=e[1]),!s&&1&n&&(s=!0,r.value=e[0],Te((()=>s=!1))),o.$set(r),p&&p.p&&(!l||64&n)&&y(p,d,e,e[6],l?g(d,e[6],n,dF):v(e[6]),pF),e[0]?$?($.p(e,n),1&n&&je($,1)):($=$F(e),$.c(),je($,1),$.m(t,null)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe())},i(e){l||(je(o.$$.fragment,e),je(p,e),je($),l=!0)},o(e){qe(o.$$.fragment,e),qe(p,e),qe($),l=!1},d(e){e&&P(t),st(o),p&&p.d(e),$&&$.d()}}}function hF(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t;const i=fe();let{searchQuery:a}=t,{placeholder:l}=t;return e.$$set=e=>{"searchQuery"in e&&n(0,a=e.searchQuery),"placeholder"in e&&n(1,l=e.placeholder),"$$scope"in e&&n(6,s=e.$$scope)},[a,l,r,function(){i("clear")},o,function(e){a=e,n(0,a)},s]}class gF extends at{constructor(e){super(),it(this,e,hF,fF,d,{searchQuery:0,placeholder:1})}}const yF=e=>({}),vF=e=>({}),bF=e=>({}),wF=e=>({slot:"action"}),_F=e=>({}),xF=e=>({slot:"resultInfo"});function SF(e){let t;const n=e[2].action,r=f(n,e,e[5],wF);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&y(r,n,e,e[5],t?g(n,e[5],o,bF):v(e[5]),wF)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function CF(e){let t;const n=e[2].resultInfo,r=f(n,e,e[5],xF);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&y(r,n,e,e[5],t?g(n,e[5],o,_F):v(e[5]),xF)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function EF(e){let t,n,r,o,s;function i(t){e[3](t)}let a={placeholder:e[1],$$slots:{resultInfo:[CF],action:[SF]},$$scope:{ctx:e}};void 0!==e[0]&&(a.searchQuery=e[0]),n=new gF({props:a}),we.push((()=>nt(n,"searchQuery",i))),n.$on("clear",e[4]);const l=e[2].content,c=f(l,e,e[5],vF);return{c(){t=H("div"),rt(n.$$.fragment),o=j(),c&&c.c(),U(t,"class","container svelte-1sw9gq")},m(e,r){L(e,t,r),ot(n,t,null),O(t,o),c&&c.m(t,null),s=!0},p(e,[t]){const o={};2&t&&(o.placeholder=e[1]),32&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.searchQuery=e[0],Te((()=>r=!1))),n.$set(o),c&&c.p&&(!s||32&t)&&y(c,l,e,e[5],s?g(l,e[5],t,yF):v(e[5]),vF)},i(e){s||(je(n.$$.fragment,e),je(c,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(c,e),s=!1},d(e){e&&P(t),st(n),c&&c.d(e)}}}function kF(e,t,n){let{$$slots:r={},$$scope:o}=t,{searchPlaceholder:s}=t,{searchQuery:i}=t;return e.$$set=e=>{"searchPlaceholder"in e&&n(1,s=e.searchPlaceholder),"searchQuery"in e&&n(0,i=e.searchQuery),"$$scope"in e&&n(5,o=e.$$scope)},[i,s,r,function(e){i=e,n(0,i)},function(t){ve.call(this,e,t)},o]}class IF extends at{constructor(e){super(),it(this,e,kF,EF,d,{searchPlaceholder:1,searchQuery:0})}}function TF(e){return function(e){const t=$($M),n=[...e];return t&&n.push(t.name),n.push($(Mg)("mathesar")),n.join(" | ")}([e])}function DF(e){let t,n,r,o,s,i;return r=new Hn({props:{appearance:"secondary",$$slots:{default:[MF]},$$scope:{ctx:e}}}),r.$on("click",e[8]),s=new Hn({props:{appearance:"outline-primary",$$slots:{default:[OF]},$$scope:{ctx:e}}}),s.$on("click",e[9]),{c(){t=H("td"),n=H("div"),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),U(n,"class","actions svelte-1dbjtxe"),U(t,"class","svelte-1dbjtxe")},m(e,a){L(e,t,a),O(t,n),ot(r,n,null),O(n,o),ot(s,n,null),i=!0},p(e,t){const n={};1028&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};1028&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){i||(je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),st(r),st(s)}}}function MF(e){let t,n,r,o,s,a=e[2]("edit")+"";const l=[ay];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ay)]):{};t.$set(r),(!s||4&n)&&a!==(a=e[2]("edit")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function OF(e){let t,n,r,o,s,a=e[2]("delete")+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||4&n)&&a!==(a=e[2]("delete")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function NF(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_,x,S,C,E,k=e[0].nickname+"",I=e[0].database+"",T=e[0].username+"",D=e[0].host+"",M=e[0].port+"";const N=[Ry];let A={};for(let O=0;O<N.length;O+=1)A=i(A,N[O]);o=new Kr({props:A});let R=e[1]&&DF(e);return x=new Hz({props:{controller:e[4],connection:e[0]}}),C=new nF({props:{controller:e[5],connection:e[0]}}),{c(){t=H("tr"),n=H("td"),r=H("a"),rt(o.$$.fragment),s=j(),a=F(k),c=j(),u=H("td"),d=F(I),p=j(),$=H("td"),m=F(T),f=j(),h=H("td"),g=F(D),y=j(),v=H("td"),b=F(M),w=j(),R&&R.c(),_=j(),rt(x.$$.fragment),S=j(),rt(C.$$.fragment),U(r,"href",l=Ob(e[0].id)),U(n,"class","svelte-1dbjtxe"),U(u,"class","svelte-1dbjtxe"),U($,"class","svelte-1dbjtxe"),U(h,"class","svelte-1dbjtxe"),U(v,"class","svelte-1dbjtxe"),U(t,"data-identifier","connection-row"),U(t,"class","grid-row svelte-1dbjtxe")},m(e,i){L(e,t,i),O(t,n),O(n,r),ot(o,r,null),O(r,s),O(r,a),O(t,c),O(t,u),O(u,d),O(t,p),O(t,$),O($,m),O(t,f),O(t,h),O(h,g),O(t,y),O(t,v),O(v,b),O(t,w),R&&R.m(t,null),L(e,_,i),ot(x,e,i),L(e,S,i),ot(C,e,i),E=!0},p(e,[n]){const s=0&n?et(N,[tt(Ry)]):{};o.$set(s),(!E||1&n)&&k!==(k=e[0].nickname+"")&&G(a,k),(!E||1&n&&l!==(l=Ob(e[0].id)))&&U(r,"href",l),(!E||1&n)&&I!==(I=e[0].database+"")&&G(d,I),(!E||1&n)&&T!==(T=e[0].username+"")&&G(m,T),(!E||1&n)&&D!==(D=e[0].host+"")&&G(g,D),(!E||1&n)&&M!==(M=e[0].port+"")&&G(b,M),e[1]?R?(R.p(e,n),2&n&&je(R,1)):(R=DF(e),R.c(),je(R,1),R.m(t,null)):R&&(ze(),qe(R,1,1,(()=>{R=null})),Fe());const i={};1&n&&(i.connection=e[0]),x.$set(i);const c={};1&n&&(c.connection=e[0]),C.$set(c)},i(e){E||(je(o.$$.fragment,e),je(R),je(x.$$.fragment,e),je(C.$$.fragment,e),E=!0)},o(e){qe(o.$$.fragment,e),qe(R),qe(x.$$.fragment,e),qe(C.$$.fragment,e),E=!1},d(e){e&&P(t),st(o),R&&R.d(),e&&P(_),st(x,e),e&&P(S),st(C,e)}}}function AF(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(2,i=e)));const a=cb();m(e,a,(e=>n(7,s=e)));const l=Sv.spawnModalController(),c=Sv.spawnModalController();let{connection:u}=t;return e.$$set=e=>{"connection"in e&&n(0,u=e.connection)},e.$$.update=()=>{128&e.$$.dirty&&n(6,r=s),64&e.$$.dirty&&n(1,o=r?.isSuperUser)},[u,o,i,a,l,c,r,s,()=>l.open(),()=>c.open()]}class LF extends at{constructor(e){super(),it(this,e,AF,NF,d,{connection:0})}}function PF(e,t,n){const r=e.slice();return r[13]=t[n],r}function RF(e){let t,n,r,o=e[1].size+"";return{c(){t=F("("),n=F(o),r=F(")")},m(e,o){L(e,t,o),L(e,n,o),L(e,r,o)},p(e,t){2&t&&o!==(o=e[1].size+"")&&G(n,o)},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function HF(e){let t,n,r;function o(t){e[12](t)}let s={searchPlaceholder:e[5]("search_database_connections"),$$slots:{content:[GF],resultInfo:[WF],action:[qF]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.searchQuery=e[0]),t=new IF({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[8]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};32&r&&(o.searchPlaceholder=e[5]("search_database_connections")),131125&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.searchQuery=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function zF(e){let t,n;return t=new gz({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FF(e){let t,n;return t=new Hn({props:{appearance:"primary",$$slots:{default:[jF]},$$scope:{ctx:e}}}),t.$on("click",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131104&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jF(e){let t,n,r,o,s,a=e[5]("add_database_connection")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("add_database_connection")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function qF(e){let t,n,r=e[4]&&FF(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=FF(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function VF(e){let t,n;return{c(){t=H("strong"),n=F(e[0])},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&G(n,e[0])},d(e){e&&P(t)}}}function BF(e){let t,n="searchValue"===e[16]&&VF(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[16]?n?n.p(e,r):(n=VF(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function WF(e){let t,n,r;return n=new Kg({props:{text:e[5]("connections_matching_search",{values:{count:e[2].length}}),$$slots:{default:[BF,({slotName:e})=>({16:e}),({slotName:e})=>e?65536:0]},$$scope:{ctx:e}}}),{c(){t=H("p"),rt(n.$$.fragment),U(t,"slot","resultInfo")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};36&t&&(r.text=e[5]("connections_matching_search",{values:{count:e[2].length}})),196609&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function UF(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_,x=e[5]("connection_name")+"",S=e[5]("database_name")+"",C=e[5]("username")+"",E=e[5]("host")+"",k=e[5]("port")+"",I=[],T=new Map,D=e[4]&&YF(e),M=e[2];const N=e=>e[13].id;for(let O=0;O<M.length;O+=1){let t=PF(e,M,O),n=N(t);T.set(n,I[O]=KF(n,t))}return{c(){t=H("div"),n=H("table"),r=H("thead"),o=H("tr"),s=H("th"),i=F(x),a=j(),l=H("th"),c=F(S),u=j(),d=H("th"),p=F(C),$=j(),m=H("th"),f=F(E),h=j(),g=H("th"),y=F(k),v=j(),D&&D.c(),b=j(),w=H("tbody");for(let e=0;e<I.length;e+=1)I[e].c();U(s,"class","svelte-56otxr"),U(l,"class","svelte-56otxr"),U(d,"class","svelte-56otxr"),U(m,"class","svelte-56otxr"),U(g,"class","svelte-56otxr"),U(r,"class","svelte-56otxr"),U(w,"class","svelte-56otxr"),U(n,"class","svelte-56otxr"),U(t,"data-identifier","connections-list-grid"),U(t,"class","svelte-56otxr")},m(e,x){L(e,t,x),O(t,n),O(n,r),O(r,o),O(o,s),O(s,i),O(o,a),O(o,l),O(l,c),O(o,u),O(o,d),O(d,p),O(o,$),O(o,m),O(m,f),O(o,h),O(o,g),O(g,y),O(o,v),D&&D.m(o,null),O(n,b),O(n,w);for(let t=0;t<I.length;t+=1)I[t].m(w,null);_=!0},p(e,t){(!_||32&t)&&x!==(x=e[5]("connection_name")+"")&&G(i,x),(!_||32&t)&&S!==(S=e[5]("database_name")+"")&&G(c,S),(!_||32&t)&&C!==(C=e[5]("username")+"")&&G(p,C),(!_||32&t)&&E!==(E=e[5]("host")+"")&&G(f,E),(!_||32&t)&&k!==(k=e[5]("port")+"")&&G(y,k),e[4]?D?D.p(e,t):(D=YF(e),D.c(),D.m(o,null)):D&&(D.d(1),D=null),4&t&&(M=e[2],ze(),I=Qe(I,t,N,1,e,M,T,w,Ze,KF,null,PF),Fe())},i(e){if(!_){for(let e=0;e<M.length;e+=1)je(I[e]);_=!0}},o(e){for(let t=0;t<I.length;t+=1)qe(I[t]);_=!1},d(e){e&&P(t),D&&D.d();for(let t=0;t<I.length;t+=1)I[t].d()}}}function YF(e){let t,n,r=e[5]("actions")+"";return{c(){t=H("th"),n=F(r),U(t,"class","svelte-56otxr")},m(e,r){L(e,t,r),O(t,n)},p(e,t){32&t&&r!==(r=e[5]("actions")+"")&&G(n,r)},d(e){e&&P(t)}}}function KF(e,t){let n,r,o;return r=new LF({props:{connection:t[13]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.connection=t[13]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function GF(e){let t,n,r=e[2].length&&UF(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[2].length?r?(r.p(e,n),4&n&&je(r,1)):(r=UF(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function XF(e){let t,n,r,o,s,i,a,l,c,u=e[5]("database_connections")+"",d=e[1].size&&RF(e);const p=[zF,HF],$=[];function m(e,t){return 0===e[1].size?0:1}return a=m(e),l=$[a]=p[a](e),{c(){t=H("div"),n=H("span"),r=F(u),o=j(),d&&d.c(),s=j(),i=H("section"),l.c(),U(n,"class","svelte-56otxr"),U(t,"data-identifier","connections-header"),U(t,"class","svelte-56otxr"),U(i,"data-identifier","connections-container"),U(i,"class","svelte-56otxr")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(n,o),d&&d.m(n,null),L(e,s,l),L(e,i,l),$[a].m(i,null),c=!0},p(e,t){(!c||32&t)&&u!==(u=e[5]("database_connections")+"")&&G(r,u),e[1].size?d?d.p(e,t):(d=RF(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null);let o=a;a=m(e),a===o?$[a].p(e,t):(ze(),qe($[o],1,1,(()=>{$[o]=null})),Fe(),l=$[a],l?l.p(e,t):(l=$[a]=p[a](e),l.c()),je(l,1),l.m(i,null))},i(e){c||(je(l),c=!0)},o(e){qe(l),c=!1},d(e){e&&P(t),d&&d.d(),e&&P(s),e&&P(i),$[a].d()}}}function ZF(e){let t,n,r,o,s,i;return document.title=t=TF(e[5]("connections")),r=new mH({props:{restrictWidth:!0,cssVariables:{"--page-padding":"0","--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{default:[XF]},$$scope:{ctx:e}}}),s=new dz({props:{controller:e[6]}}),{c(){n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),L(e,o,t),ot(s,e,t),i=!0},p(e,[n]){(!i||32&n)&&t!==(t=TF(e[5]("connections")))&&(document.title=t);const o={};131127&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o)},i(e){i||(je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function JF(e,t,n){let r,s,i,a,l,c,u,d=o;m(e,Mg,(e=>n(5,u=e))),e.$$.on_destroy.push((()=>d()));const $=Sv.spawnModalController(),f=cb();m(e,f,(e=>n(10,c=e)));let h="";return e.$$.update=()=>{1024&e.$$.dirty&&n(9,r=c),512&e.$$.dirty&&n(4,s=r?.isSuperUser),3&e.$$.dirty&&n(2,a=function(e,t){if(!t)return e;const n=t.trim().toLowerCase(),r=e=>e.toLowerCase().includes(n);return e.filter((e=>r(e.nickname)||r(e.database)))}([...l.values()],h))},n(3,({connections:i}=ES),i),d(),d=p(i,(e=>n(1,l=e))),[h,l,a,i,s,u,$,f,function(){n(0,h="")},r,c,()=>$.open(),function(e){h=e,n(0,h)}]}class QF extends at{constructor(e){super(),it(this,e,JF,ZF,d,{})}}const ej=e=>({}),tj=e=>({}),nj=e=>({}),rj=e=>({});function oj(e){let t,n;return{c(){t=H("span"),n=F(e[1]),U(t,"class","entity-type svelte-172pybh")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&G(n,e[1])},d(e){e&&P(t)}}}function sj(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,h;const b=[e[0],{size:"2em"}];let w={};for(let f=0;f<b.length;f+=1)w=i(w,b[f]);a=new Kr({props:w});let _=e[1]&&oj(e);const x=e[4].action,S=f(x,e,e[3],rj),C=e[4].bottom,E=f(C,e,e[3],tj);return{c(){t=H("div"),n=H("div"),r=H("div"),o=H("div"),s=H("div"),rt(a.$$.fragment),l=j(),c=H("div"),_&&_.c(),u=j(),d=H("span"),p=F(e[2]),$=j(),S&&S.c(),m=j(),E&&E.c(),U(s,"class","entity-icon svelte-172pybh"),U(d,"class","entity-name svelte-172pybh"),U(c,"class","left-meta-container svelte-172pybh"),U(o,"class","entity-container svelte-172pybh"),U(r,"class","left"),U(n,"class","top svelte-172pybh"),U(t,"class","container svelte-172pybh")},m(e,i){L(e,t,i),O(t,n),O(n,r),O(r,o),O(o,s),ot(a,s,null),O(o,l),O(o,c),_&&_.m(c,null),O(c,u),O(c,d),O(d,p),O(n,$),S&&S.m(n,null),O(t,m),E&&E.m(t,null),h=!0},p(e,[t]){const n=1&t?et(b,[tt(e[0]),b[1]]):{};a.$set(n),e[1]?_?_.p(e,t):(_=oj(e),_.c(),_.m(c,u)):_&&(_.d(1),_=null),(!h||4&t)&&G(p,e[2]),S&&S.p&&(!h||8&t)&&y(S,x,e,e[3],h?g(x,e[3],t,nj):v(e[3]),rj),E&&E.p&&(!h||8&t)&&y(E,C,e,e[3],h?g(C,e[3],t,ej):v(e[3]),tj)},i(e){h||(je(a.$$.fragment,e),je(S,e),je(E,e),h=!0)},o(e){qe(a.$$.fragment,e),qe(S,e),qe(E,e),h=!1},d(e){e&&P(t),st(a),_&&_.d(),S&&S.d(e),E&&E.d(e)}}}function ij(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t,{type:i}=t,{name:a}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"type"in e&&n(1,i=e.type),"name"in e&&n(2,a=e.name),"$$scope"in e&&n(3,o=e.$$scope)},[s,i,a,o,r]}class aj extends at{constructor(e){super(),it(this,e,ij,sj,d,{icon:0,type:1,name:2})}}const lj=e=>({}),cj=e=>({slot:"action"}),uj=e=>({}),dj=e=>({slot:"bottom"});function pj(e){let t;const n=e[3].action,r=f(n,e,e[4],cj);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16&o)&&y(r,n,e,e[4],t?g(n,e[4],o,lj):v(e[4]),cj)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function $j(e){let t;const n=e[3].bottom,r=f(n,e,e[4],dj);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16&o)&&y(r,n,e,e[4],t?g(n,e[4],o,uj):v(e[4]),dj)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function mj(e){let t,n,r,o,s;const a=[e[0]];let l={$$slots:{bottom:[$j],action:[pj]},$$scope:{ctx:e}};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return o=new aj({props:l}),{c(){t=H("div"),n=H("div"),r=H("div"),rt(o.$$.fragment),U(r,"class","page-title-and-meta-container"),U(n,"class","content svelte-1ah9c17"),te(n,"restrict-width",e[1]),U(t,"class","container svelte-1ah9c17"),te(t,"theme-dark","dark"===e[2]),te(t,"theme-light","light"===e[2])},m(e,i){L(e,t,i),O(t,n),O(n,r),ot(o,r,null),s=!0},p(e,[r]){const i=1&r?et(a,[tt(e[0])]):{};16&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),(!s||2&r)&&te(n,"restrict-width",e[1]),(!s||4&r)&&te(t,"theme-dark","dark"===e[2]),(!s||4&r)&&te(t,"theme-light","light"===e[2])},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(o)}}}function fj(e,t,n){let{$$slots:r={},$$scope:o}=t,{pageTitleAndMetaProps:s}=t,{restrictWidth:i=!0}=t,{theme:a}=t;return e.$$set=e=>{"pageTitleAndMetaProps"in e&&n(0,s=e.pageTitleAndMetaProps),"restrictWidth"in e&&n(1,i=e.restrictWidth),"theme"in e&&n(2,a=e.theme),"$$scope"in e&&n(4,o=e.$$scope)},[s,i,a,r,o]}class hj extends at{constructor(e){super(),it(this,e,fj,mj,d,{pageTitleAndMetaProps:0,restrictWidth:1,theme:2})}}function gj(e){let t,n=sc(e[0])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=sc(e[0])+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function yj(e){let t,n=e[4]("latest_availabe_version_not_installed")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("latest_availabe_version_not_installed")+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function vj(e){let t,n,r,o,s=e[4]("currently_installed")+"";const a=[tv];let l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return t=new Kr({props:l}),{c(){rt(t.$$.fragment),n=j(),r=F(s)},m(e,s){ot(t,e,s),L(e,n,s),L(e,r,s),o=!0},p(e,n){const i=0&n?et(a,[tt(tv)]):{};t.$set(i),(!o||16&n)&&s!==(s=e[4]("currently_installed")+"")&&G(r,s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function bj(e){let t,n,r,o,s=e[4]("running_latest_version")+"";const a=[tv];let l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return t=new Kr({props:l}),{c(){rt(t.$$.fragment),n=j(),r=F(s)},m(e,s){ot(t,e,s),L(e,n,s),L(e,r,s),o=!0},p(e,n){const i=0&n?et(a,[tt(tv)]):{};t.$set(i),(!o||16&n)&&s!==(s=e[4]("running_latest_version")+"")&&G(r,s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function wj(e){let t,n,r,o,s=e[4]("new_version_available")+"";const a=[ev];let l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return t=new Kr({props:l}),{c(){rt(t.$$.fragment),n=j(),r=F(s)},m(e,s){ot(t,e,s),L(e,n,s),L(e,r,s),o=!0},p(e,n){const i=0&n?et(a,[tt(ev)]):{};t.$set(i),(!o||16&n)&&s!==(s=e[4]("new_version_available")+"")&&G(r,s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function _j(e){let t,n=e[4]("release_notes")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("release_notes")+"")&&G(t,n)},d(e){e&&P(t)}}}function xj(e){let t,n=e[4]("release_notes_and_upgrade_instructions")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("release_notes_and_upgrade_instructions")+"")&&G(t,n)},d(e){e&&P(t)}}}function Sj(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_,x,S,C,E=e[4]("mathesar")+"",k=e[1].tagName+"",I=e[4]("released_date",{values:{date:e[3]}})+"";const T=[wj,bj,vj,yj,gj],D=[];function M(e,t){return"available-upgrade"===e[0]?0:"currently-installed-and-latest"===e[0]?1:"current"===e[0]?2:"latest"===e[0]?3:4}function N(e,t){return"available-upgrade"===e[0]?xj:_j}r=M(e),o=D[r]=T[r](e),u=new kR({});let A=N(e),R=A(e);const z=[jy];let q={};for(let O=0;O<z.length;O+=1)q=i(q,z[O]);return S=new Kr({props:q}),{c(){t=H("div"),n=H("div"),o.c(),s=j(),a=H("div"),l=H("div"),c=H("div"),rt(u.$$.fragment),d=j(),p=H("div"),$=F(E),m=j(),f=H("div"),h=F(k),g=j(),y=H("div"),v=H("div"),b=F(I),w=j(),_=H("a"),R.c(),x=j(),rt(S.$$.fragment),U(n,"class","type svelte-rlmklc"),U(c,"class","logo svelte-rlmklc"),U(p,"class","name svelte-rlmklc"),U(f,"class","version svelte-rlmklc"),U(l,"class","left svelte-rlmklc"),U(v,"class","date"),U(_,"href",e[2]),U(_,"class","notes svelte-rlmklc"),U(_,"target","_blank"),U(y,"class","right svelte-rlmklc"),U(a,"class","details svelte-rlmklc"),U(t,"class","release svelte-rlmklc"),te(t,"available-upgrade","available-upgrade"===e[0]),te(t,"currently-installed-and-latest","currently-installed-and-latest"===e[0])},m(e,o){L(e,t,o),O(t,n),D[r].m(n,null),O(t,s),O(t,a),O(a,l),O(l,c),ot(u,c,null),O(l,d),O(l,p),O(p,$),O(l,m),O(l,f),O(f,h),O(a,g),O(a,y),O(y,v),O(v,b),O(y,w),O(y,_),R.m(_,null),O(_,x),ot(S,_,null),C=!0},p(e,[s]){let i=r;r=M(e),r===i?D[r].p(e,s):(ze(),qe(D[i],1,1,(()=>{D[i]=null})),Fe(),o=D[r],o?o.p(e,s):(o=D[r]=T[r](e),o.c()),je(o,1),o.m(n,null)),(!C||16&s)&&E!==(E=e[4]("mathesar")+"")&&G($,E),(!C||2&s)&&k!==(k=e[1].tagName+"")&&G(h,k),(!C||24&s)&&I!==(I=e[4]("released_date",{values:{date:e[3]}})+"")&&G(b,I),A===(A=N(e))&&R?R.p(e,s):(R.d(1),R=A(e),R&&(R.c(),R.m(_,x)));const a=0&s?et(z,[tt(jy)]):{};S.$set(a),(!C||4&s)&&U(_,"href",e[2]),(!C||1&s)&&te(t,"available-upgrade","available-upgrade"===e[0]),(!C||1&s)&&te(t,"currently-installed-and-latest","currently-installed-and-latest"===e[0])},i(e){C||(je(o),je(u.$$.fragment,e),je(S.$$.fragment,e),C=!0)},o(e){qe(o),qe(u.$$.fragment,e),qe(S.$$.fragment,e),C=!1},d(e){e&&P(t),D[r].d(),st(u),R.d(),st(S)}}}function Cj(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(4,i=e)));let{type:a}=t,{release:l}=t;return e.$$set=e=>{"type"in e&&n(0,a=e.type),"release"in e&&n(1,l=e.release)},e.$$.update=()=>{2&e.$$.dirty&&n(5,r=new Date(l.date)),32&e.$$.dirty&&n(3,o=r.toLocaleDateString()),2&e.$$.dirty&&n(2,s=`https://docs.mathesar.org/releases/${l.tagName}/`)},[a,l,s,o,i,r]}class Ej extends at{constructor(e){super(),it(this,e,Cj,Sj,d,{type:0,release:1})}}function kj(e){let t,n,r,o,s,i,a=e[6]("loading_release_data")+"";return s=new Nr({}),{c(){t=H("div"),n=F(a),r=j(),o=H("div"),rt(s.$$.fragment)},m(e,a){L(e,t,a),O(t,n),L(e,r,a),L(e,o,a),ot(s,o,null),i=!0},p(e,t){(!i||64&t)&&a!==(a=e[6]("loading_release_data")+"")&&G(n,a)},i(e){i||(je(s.$$.fragment,e),i=!0)},o(e){qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s)}}}function Ij(e){let t,n,r,o;const s=[Lj,Aj,Nj,Oj,Mj,Dj,Tj],i=[];function a(e,t){return e[5]?0:e[11]?"up-to-date"===e[3]?2:e[12]?"upgradable"===e[3]?4:void 0===e[3]?5:6:3:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","releases svelte-jzxcls")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function Tj(e){let t,n=sc(e[3])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=sc(e[3])+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function Dj(e){let t,n,r,o;return t=new Ej({props:{release:e[11],type:"current"}}),r=new Ej({props:{release:e[12],type:"latest"}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[11]),t.$set(o);const s={};2&n&&(s.release=e[12]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Mj(e){let t,n,r,o;return t=new Ej({props:{release:e[12],type:"available-upgrade"}}),r=new Ej({props:{release:e[11],type:"current"}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[12]),t.$set(o);const s={};2&n&&(s.release=e[11]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Oj(e){let t,n,r,o;return t=new Ej({props:{release:e[11],type:"current"}}),r=new LM({props:{$$slots:{default:[Pj]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2&n&&(o.release=e[11]),t.$set(o);const s={};16448&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Nj(e){let t,n;return t=new Ej({props:{release:e[11],type:"currently-installed-and-latest"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[11]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Aj(e){let t,n,r,o;t=new LM({props:{$$slots:{default:[zj]},$$scope:{ctx:e}}});let s=e[12]&&Fj(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};16450&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[12]?s?(s.p(e,n),2&n&&je(s,1)):(s=Fj(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function Lj(e){let t,n,r,o,s,i,a=e[6]("loading_release_data")+"";return s=new Nr({}),{c(){t=H("div"),n=F(a),r=j(),o=H("div"),rt(s.$$.fragment)},m(e,a){L(e,t,a),O(t,n),L(e,r,a),L(e,o,a),ot(s,o,null),i=!0},p(e,t){(!i||64&t)&&a!==(a=e[6]("loading_release_data")+"")&&G(n,a)},i(e){i||(je(s.$$.fragment,e),i=!0)},o(e){qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s)}}}function Pj(e){let t,n=e[6]("unable_to_load_data_latest_release")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("unable_to_load_data_latest_release")+"")&&G(t,n)},d(e){e&&P(t)}}}function Rj(e){let t,n,r=e[1].inputHash+"";return{c(){t=H("strong"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1].inputHash+"")&&G(n,r)},d(e){e&&P(t)}}}function Hj(e){let t,n="version"===e[13]&&Rj(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"version"===e[13]?n?n.p(e,r):(n=Rj(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function zj(e){let t,n;return t=new Kg({props:{text:e[6]("unable_to_load_release_data"),$$slots:{default:[Hj,({slotName:e})=>({13:e}),({slotName:e})=>e?8192:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.text=e[6]("unable_to_load_release_data")),24578&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fj(e){let t,n;return t=new Ej({props:{release:e[12],type:"latest"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.release=e[12]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jj(e){let t,n,r,o=e[6]("last_checked")+"";return{c(){t=F(o),n=F(": "),r=F(e[2])},m(e,o){L(e,t,o),L(e,n,o),L(e,r,o)},p(e,n){64&n&&o!==(o=e[6]("last_checked")+"")&&G(t,o),4&n&&G(r,e[2])},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function qj(e){let t,n,r,o,s,i,a,l;const c=[Ij,kj],u=[];function d(e,t){return e[1]?0:1}function p(e,t){return 0===t?function(e){const t=e.slice(),n=t[1];t[10]=n.value;const r=t[10];return t[11]=r.current,t[12]=r.latest,t}(e):e}t=d(e),n=u[t]=c[t](p(e,t)),i=new to({props:{label:e[6]("check_for_updates"),appearance:"default",icon:by,onClick:e[7]}});let $=e[2]&&jj(e);return{c(){n.c(),r=j(),o=H("div"),s=H("div"),rt(i.$$.fragment),a=j(),$&&$.c(),U(s,"class","check-button svelte-jzxcls"),U(o,"class","store-status svelte-jzxcls")},m(e,n){u[t].m(e,n),L(e,r,n),L(e,o,n),O(o,s),ot(i,s,null),O(o,a),$&&$.m(o,null),l=!0},p(e,[s]){let a=t;t=d(e),t===a?u[t].p(p(e,t),s):(ze(),qe(u[a],1,1,(()=>{u[a]=null})),Fe(),n=u[t],n?n.p(p(e,t),s):(n=u[t]=c[t](p(e,t)),n.c()),je(n,1),n.m(r.parentNode,r));const l={};64&s&&(l.label=e[6]("check_for_updates")),i.$set(l),e[2]?$?$.p(e,s):($=jj(e),$.c(),$.m(o,null)):$&&($.d(1),$=null)},i(e){l||(je(n),je(i.$$.fragment,e),l=!0)},o(e){qe(n),qe(i.$$.fragment,e),l=!1},d(e){u[t].d(e),e&&P(r),e&&P(o),st(i),$&&$.d()}}}function Vj(e,t,n){let r,s,i,a,l,c,u,d,$=o,f=()=>($(),$=p(g,(e=>n(9,c=e))),g),h=o;m(e,Mg,(e=>n(6,d=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>h()));let{releaseDataStore:g}=t;return f(),e.$$set=e=>{"releaseDataStore"in e&&f(n(0,g=e.releaseDataStore))},e.$$.update=()=>{512&e.$$.dirty&&n(1,r=c),1&e.$$.dirty&&(n(4,({loading:s}=g),s),h(),h=p(s,(e=>n(5,u=e)))),512&e.$$.dirty&&n(8,i=c?.value),256&e.$$.dirty&&n(3,a=i?.upgradeStatus),2&e.$$.dirty&&n(2,l=(()=>{if(r)return new Date(r.timestamp).toLocaleString()})())},[g,r,l,a,s,u,d,async function(){try{await g.forceFetch()}catch(e){Cv.fromError(e)}},i,c]}class Bj extends at{constructor(e){super(),it(this,e,Vj,qj,d,{releaseDataStore:0})}}function Wj(e){let t,n;return t=new LM({props:{$$slots:{default:[Yj]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Uj(e){let t,n;return t=new Bj({props:{releaseDataStore:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yj(e){let t,n=e[0]("release_data_store_not_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("release_data_store_not_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function Kj(e){let t,n,r,o,s,i,a,l,c,u=e[0]("software_update")+"";document.title=t=TF(e[0]("software_update"));const d=[Uj,Wj],p=[];return i=function(e,t){return e[1]?0:1}(e),a=p[i]=d[i](e),{c(){n=j(),r=H("h1"),o=F(u),s=j(),a.c(),l=q()},m(e,t){L(e,n,t),L(e,r,t),O(r,o),L(e,s,t),p[i].m(e,t),L(e,l,t),c=!0},p(e,[n]){(!c||1&n)&&t!==(t=TF(e[0]("software_update")))&&(document.title=t),(!c||1&n)&&u!==(u=e[0]("software_update")+"")&&G(o,u),a.p(e,n)},i(e){c||(je(a),c=!0)},o(e){qe(a),c=!1},d(e){e&&P(n),e&&P(r),e&&P(s),p[i].d(e),e&&P(l)}}}function Gj(e,t,n){let r;m(e,Mg,(e=>n(0,r=e)));const o=kb();return[r,o]}class Xj extends at{constructor(e){super(),it(this,e,Gj,Kj,d,{})}}function Zj(e){let t,n=e[1]("update")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("update")+"")&&G(t,n)},d(e){e&&P(t)}}}function Jj(e){let t,n=e[1]("users")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("users")+"")&&G(t,n)},d(e){e&&P(t)}}}function Qj(e){let t,n,r,o,s,i,a,l;return n=new a$({props:{icon:Ky,hasNotificationDot:e[0],$$slots:{default:[Zj]},$$scope:{ctx:e}}}),s=new a$({props:{icon:rv,$$slots:{default:[Jj]},$$scope:{ctx:e}}}),{c(){t=H("a"),rt(n.$$.fragment),r=j(),o=H("a"),rt(s.$$.fragment),U(t,"role","menuitem"),U(t,"href",Ub),U(t,"class","menu-item menu-item-link"),U(o,"role","menuitem"),U(o,"href",Yb),U(o,"class","menu-item menu-item-link")},m(e,c){L(e,t,c),ot(n,t,null),L(e,r,c),L(e,o,c),ot(s,o,null),i=!0,a||(l=[C(VN.call(null,t)),C(VN.call(null,o))],a=!0)},p(e,t){const r={};1&t&&(r.hasNotificationDot=e[0]),18&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};18&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){i||(je(n.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),st(n),e&&P(r),e&&P(o),st(s),a=!1,c(l)}}}function eq(e){let t,n,r;return n=new Js({props:{$$slots:{default:[Qj]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","admin-navigation svelte-gfwa81")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};19&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function tq(e,t,n){let r,o,s;m(e,Mg,(e=>n(1,s=e)));const i=kb();return m(e,i,(e=>n(3,o=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,r="upgradable"===o?.value?.upgradeStatus)},[r,s,i,o]}class nq extends at{constructor(e){super(),it(this,e,tq,eq,d,{})}}const rq=e=>({}),oq=e=>({});function sq(e){let t,n,r,o,s;const i=e[3].sidebar,a=f(i,e,e[2],oq),l=e[3].default,c=f(l,e,e[2],null);return{c(){t=H("div"),n=H("aside"),a&&a.c(),r=j(),o=H("main"),c&&c.c(),U(n,"class","svelte-18prej4"),U(o,"class","svelte-18prej4"),U(t,"class","page-sidebar-layout svelte-18prej4"),U(t,"style",e[0])},m(e,i){L(e,t,i),O(t,n),a&&a.m(n,null),O(t,r),O(t,o),c&&c.m(o,null),s=!0},p(e,[n]){a&&a.p&&(!s||4&n)&&y(a,i,e,e[2],s?g(i,e[2],n,rq):v(e[2]),oq),c&&c.p&&(!s||4&n)&&y(c,l,e,e[2],s?g(l,e[2],n,null):v(e[2]),null),(!s||1&n)&&U(t,"style",e[0])},i(e){s||(je(a,e),je(c,e),s=!0)},o(e){qe(a,e),qe(c,e),s=!1},d(e){e&&P(t),a&&a.d(e),c&&c.d(e)}}}function iq(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{cssVariables:i}=t;return e.$$set=e=>{"cssVariables"in e&&n(1,i=e.cssVariables),"$$scope"in e&&n(2,s=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=i?en(i):void 0)},[r,i,s,o]}class aq extends at{constructor(e){super(),it(this,e,iq,sq,d,{cssVariables:1})}}function lq(e){let t,n;const r=e[2].default,o=f(r,e,e[1],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","input-row svelte-13nb3a2"),Z(t,"display","contents")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2&t)&&y(o,r,e,e[1],n?g(r,e[1],t,null):v(e[1]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function cq(e){let t;const n=e[2].default,r=f(n,e,e[1],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||2&o)&&y(r,n,e,e[1],t?g(n,e[1],o,null):v(e[1]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function uq(e){let t,n,r,o;const s=[cq,lq],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function dq(e,t,n){let{$$slots:r={},$$scope:o}=t,{bypass:s=!1}=t;return e.$$set=e=>{"bypass"in e&&n(0,s=e.bypass),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class pq extends at{constructor(e){super(),it(this,e,dq,uq,d,{bypass:0})}}const $q=e=>({}),mq=e=>({});function fq(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},d(e){e&&P(t)}}}function hq(e){let t,n,r,o=e[6].help&&gq(e),s=e[1]&&yq(e);return{c(){t=H("div"),o&&o.c(),n=j(),s&&s.c(),U(t,"class","help svelte-ahkni0")},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,r){e[6].help?o?(o.p(e,r),64&r&&je(o,1)):(o=gq(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[1]?s?s.p(e,r):(s=yq(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},i(e){r||(je(o),r=!0)},o(e){qe(o),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}function gq(e){let t;const n=e[7].help,r=f(n,e,e[8],mq);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||256&o)&&y(r,n,e,e[8],t?g(n,e[8],o,$q):v(e[8]),mq)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function yq(e){let t;return{c(){t=F(e[1])},m(e,n){L(e,t,n)},p(e,n){2&n&&G(t,e[1])},d(e){e&&P(t)}}}function vq(e){let t,n,r,o,s,i,a,l;n=new xo({props:{controller:e[5],$$slots:{default:[fq]},$$scope:{ctx:e}}}),i=new yO({props:{field:e[2],input:e[3]}});let c=(e[6].help||e[1])&&hq(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div"),s=H("div"),rt(i.$$.fragment),a=j(),c&&c.c(),U(t,"class","left cell svelte-ahkni0"),U(s,"class","input"),U(o,"class","right cell")},m(e,u){L(e,t,u),ot(n,t,null),L(e,r,u),L(e,o,u),O(o,s),ot(i,s,null),O(o,a),c&&c.m(o,null),l=!0},p(e,t){const r={};257&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4&t&&(s.field=e[2]),8&t&&(s.input=e[3]),i.$set(s),e[6].help||e[1]?c?(c.p(e,t),66&t&&je(c,1)):(c=hq(e),c.c(),je(c,1),c.m(o,null)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){l||(je(n.$$.fragment,e),je(i.$$.fragment,e),je(c),l=!0)},o(e){qe(n.$$.fragment,e),qe(i.$$.fragment,e),qe(c),l=!1},d(e){e&&P(t),st(n),e&&P(r),e&&P(o),st(i),c&&c.d()}}}function bq(e){let t,n;return t=new pq({props:{bypass:e[4],$$slots:{default:[vq]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.bypass=e[4]),335&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wq(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r),i=new lo;let{label:a}=t,{help:l}=t,{field:c}=t,{input:u}=t,{bypassRow:d=!1}=t;return e.$$set=e=>{"label"in e&&n(0,a=e.label),"help"in e&&n(1,l=e.help),"field"in e&&n(2,c=e.field),"input"in e&&n(3,u=e.input),"bypassRow"in e&&n(4,d=e.bypassRow),"$$scope"in e&&n(8,o=e.$$scope)},uo(i),[a,l,c,u,d,i,s,r,o]}class _q extends at{constructor(e){super(),it(this,e,wq,bq,d,{label:0,help:1,field:2,input:3,bypassRow:4})}}const xq=function(e,t,n){return e()},Sq={en:()=>xq((()=>n.import("./en-legacy.88443ecf.js"))),ja:()=>xq((()=>n.import("./ja-legacy.b4bd9153.js")))};async function Cq(e){return{default:(await Sq[e]()).default.dictionary}}function Eq(e){Ov.set("display_language",e)}function kq(e){let t,n,r;const o=[e[3],{options:e[1]},{getLabel:e[2]}];function s(t){e[4](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new gu({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=14&r?et(o,[8&r&&tt(e[3]),2&r&&{options:e[1]},4&r&&{getLabel:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Iq(e,t,n){const r=["value"];let o,s=w(t,r);m(e,Mg,(e=>n(5,o=e)));let{value:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(3,s=w(t,r)),"value"in e&&n(0,a=e.value)},[a,["standard","admin"],function(e){return void 0===e?"":o("standard"===e?"standard":"admin")},s,function(e){a=e,n(0,a)}]}class Tq extends at{constructor(e){super(),it(this,e,Iq,kq,d,{value:0})}}function Dq(e){let t,n,r;const o=[e[3],{options:e[1]},{getLabel:e[2]}];function s(t){e[4](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new gu({props:a}),we.push((()=>nt(t,"value",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=14&r?et(o,[8&r&&tt(e[3]),2&r&&{options:e[1]},4&r&&{getLabel:e[2]}]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Mq(e,t,n){const r=["value"];let o=w(t,r);const s=Wm().supported_languages??{},a=Object.keys(s);let{value:l}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(3,o=w(t,r)),"value"in e&&n(0,l=e.value)},[l,a,function(e){return void 0===e?"":`${s[e]} (${e})`},o,function(e){l=e,n(0,l)}]}class Oq extends at{constructor(e){super(),it(this,e,Mq,Dq,d,{value:0})}}function Nq(e){let t,n;return t=new _q({props:{label:`${e[7]("password")} *`,field:e[11],input:{component:_l,props:{autocomplete:e[1]?"new-password":"on"}}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.label=`${e[7]("password")} *`),2&n&&(r.input={component:_l,props:{autocomplete:e[1]?"new-password":"on"}}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Aq(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f;n=new _q({props:{label:e[7]("display_name"),field:e[6],input:{component:qi}}}),o=new _q({props:{label:e[7]("email"),field:e[4],input:{component:qi}}}),i=new _q({props:{label:`${e[7]("username")} *`,field:e[5],input:{component:qi,props:{autocomplete:e[1]?"new-username":"on"}}}});let h=e[1]&&Nq(e);return c=new _q({props:{label:`${e[7]("display_language")} *`,field:e[2],input:{component:Oq}}}),d=new _q({props:{label:`${e[7]("role")} *`,field:e[3],input:{component:Tq,props:{disabled:e[9]}}}}),m=new xO({props:{form:e[8],catchErrors:!0,onProceed:e[12],proceedButton:{label:e[7]("save"),icon:_y},cancelButton:{label:e[7]("discard_changes"),icon:ky},getErrorMessages:e[13],initiallyHidden:!!e[0],hasCancelButton:!!e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),h&&h.c(),l=j(),rt(c.$$.fragment),u=j(),rt(d.$$.fragment),p=j(),$=H("div"),rt(m.$$.fragment),U(t,"class","user-details-form svelte-u50wk0"),U($,"class","submit-section svelte-u50wk0")},m(e,g){L(e,t,g),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),ot(i,t,null),O(t,a),h&&h.m(t,null),O(t,l),ot(c,t,null),O(t,u),ot(d,t,null),L(e,p,g),L(e,$,g),ot(m,$,null),f=!0},p(e,[r]){const s={};128&r&&(s.label=e[7]("display_name")),64&r&&(s.field=e[6]),n.$set(s);const a={};128&r&&(a.label=e[7]("email")),16&r&&(a.field=e[4]),o.$set(a);const u={};128&r&&(u.label=`${e[7]("username")} *`),32&r&&(u.field=e[5]),2&r&&(u.input={component:qi,props:{autocomplete:e[1]?"new-username":"on"}}),i.$set(u),e[1]?h?(h.p(e,r),2&r&&je(h,1)):(h=Nq(e),h.c(),je(h,1),h.m(t,l)):h&&(ze(),qe(h,1,1,(()=>{h=null})),Fe());const p={};128&r&&(p.label=`${e[7]("display_language")} *`),4&r&&(p.field=e[2]),c.$set(p);const $={};128&r&&($.label=`${e[7]("role")} *`),8&r&&($.field=e[3]),512&r&&($.input={component:Tq,props:{disabled:e[9]}}),d.$set($);const f={};256&r&&(f.form=e[8]),128&r&&(f.proceedButton={label:e[7]("save"),icon:_y}),128&r&&(f.cancelButton={label:e[7]("discard_changes"),icon:ky}),1&r&&(f.initiallyHidden=!!e[0]),1&r&&(f.hasCancelButton=!!e[0]),m.$set(f)},i(e){f||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),je(h),je(c.$$.fragment,e),je(d.$$.fragment,e),je(m.$$.fragment,e),f=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(h),qe(c.$$.fragment,e),qe(d.$$.fragment,e),qe(m.$$.fragment,e),f=!1},d(e){e&&P(t),st(n),st(o),st(i),h&&h.d(),st(c),st(d),e&&P(p),e&&P($),st(m)}}}function Lq(e,t,n){let r,s,i,a,l,c,u,d,f,h,g,y,v,b=o;m(e,Mg,(e=>n(7,g=e))),e.$$.on_destroy.push((()=>b()));const w=fe(),_=cb();m(e,_,(e=>n(16,v=e)));let{user:x}=t;const S=IO("");return e.$$set=e=>{"user"in e&&n(0,x=e.user)},e.$$.update=()=>{var t,o;65536&e.$$.dirty&&n(15,r=v),32769&e.$$.dirty&&n(9,s=r&&r.id===x?.id),1&e.$$.dirty&&n(1,i=void 0===x),1&e.$$.dirty&&n(6,a=kO(x?.full_name??"")),129&e.$$.dirty&&n(5,l=IO(x?.username??"",[(t=150,o=g("username_max_length_error",{values:{maxLength:150}}),hM((e=>e.length<=t),o??$(Mg)("value_maxlength_error",{values:{limit:t}}))),bM(/^[A-Za-z0-9_@.+-]*$/,g("username_restrict_chars_error"))])),1&e.$$.dirty&&n(4,c=kO(x?.email??"",[_M()])),1&e.$$.dirty&&n(2,u=IO(x?.display_language??"en")),1&e.$$.dirty&&n(3,d=IO(x?.is_superuser?"admin":"user")),1&e.$$.dirty&&S.reset(),126&e.$$.dirty&&n(14,f=(()=>{const e={fullName:a,username:l,email:c,userType:d,displayLanguage:u};return i?{...e,password:S}:e})()),16384&e.$$.dirty&&(n(8,h=DO(f)),b(),b=p(h,(e=>n(17,y=e))))},[x,i,u,d,c,l,a,g,h,s,_,S,async function(){const e=y.values,t={full_name:e.fullName,username:e.username,email:e.email,is_superuser:"admin"===e.userType,display_language:e.displayLanguage};if(i&&Dt(e,"password")){const n=await Gv.add({...t,password:e.password});w("create",n)}else{if(!x)throw new Error(g("unable_to_update_user"));if(await Gv.update(x.id,t),s&&_){_.update((e=>e.with(t)));const e=t.display_language;await async function(e){await pg.set(e),Eq(e)}(e)}w("update")}},function(e){const{commonErrors:t,fieldSpecificErrors:n}=function(e,t){if(e instanceof Lv||e instanceof Av){const{commonErrors:n,fieldSpecificErrors:r}=e.getSegregatedErrors();return t?{commonErrors:n,fieldSpecificErrors:new dt([...r.entries()].map((([e,n])=>[t[e]??e,n])))}:{commonErrors:n,fieldSpecificErrors:r}}return{commonErrors:[rc(e)],fieldSpecificErrors:new dt}}(e,{user_name:"username",is_superuser:"userType"});for(const[r,o]of n){const e=h.fields[r];e?e.serverErrors.set(o):t.push(...o)}return t},f,r,v]}class Pq extends at{constructor(e){super(),it(this,e,Lq,Aq,d,{user:0})}}function Rq(e){let t,n,r;return n=new Wz({props:{fullWidth:!0,$$slots:{default:[Fq]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","password-change-warning svelte-153pjf4")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};131077&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Hq(e){let t,n=e[2]("prompt_new_password_next_login")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("prompt_new_password_next_login")+"")&&G(t,n)},d(e){e&&P(t)}}}function zq(e){let t,n=e[2]("redirected_login_page_password_change")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("redirected_login_page_password_change")+"")&&G(t,n)},d(e){e&&P(t)}}}function Fq(e){let t;function n(e,t){return e[0]?zq:Hq}let r=n(e),o=r(e);return{c(){o.c(),t=q()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function jq(e){let t,n;return t=new pq({props:{$$slots:{default:[Bq]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131084&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qq(e){let t,n,r,o=e[0]&&Wq(e);return n=new pq({props:{$$slots:{default:[Yq]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){e[0]?o?(o.p(e,r),1&r&&je(o,1)):(o=Wq(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe());const s={};131076&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){qe(o),qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function Vq(e){let t,n=e[2]("change_password")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("change_password")+"")&&G(t,n)},d(e){e&&P(t)}}}function Bq(e){let t,n,r,o,s;return t=new _q({props:{label:e[2]("password"),field:e[8],input:{component:_l,props:{disabled:!0}},bypassRow:!0}}),o=new Hn({props:{appearance:"secondary",$$slots:{default:[Vq]},$$scope:{ctx:e}}}),o.$on("click",e[14]),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","change-password-button cell svelte-153pjf4")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),s=!0},p(e,n){const r={};4&n&&(r.label=e[2]("password")),t.$set(r);const s={};131076&n&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){s||(je(t.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o)}}}function Wq(e){let t,n;return t=new pq({props:{$$slots:{default:[Uq]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131076&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Uq(e){let t,n,r,o,s,i;return t=new _q({props:{label:`${e[2]("old_password")} *`,field:e[5],input:{component:_l},bypassRow:!0}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),o=j(),s=H("div")},m(e,a){ot(t,e,a),L(e,n,a),L(e,r,a),L(e,o,a),L(e,s,a),i=!0},p(e,n){const r={};4&n&&(r.label=`${e[2]("old_password")} *`),t.$set(r)},i(e){i||(je(t.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),e&&P(r),e&&P(o),e&&P(s)}}}function Yq(e){let t,n,r,o;return t=new _q({props:{label:`${e[2]("new_password")} *`,field:e[6],input:{component:_l,props:{autocomplete:"new-password"}},bypassRow:!0}}),r=new _q({props:{label:`${e[2]("confirm_password")} *`,field:e[7],input:{component:_l,props:{autocomplete:"new-password"}},bypassRow:!0}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.label=`${e[2]("new_password")} *`),t.$set(o);const s={};4&n&&(s.label=`${e[2]("confirm_password")} *`),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Kq(e){let t,n,r;return n=new xO({props:{form:e[1],catchErrors:!0,onProceed:e[9],onCancel:e[15],proceedButton:{label:e[2]("save"),icon:_y},cancelButton:{label:e[2]("cancel")}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","submit-section svelte-153pjf4")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.form=e[1]),8&t&&(r.onCancel=e[15]),4&t&&(r.proceedButton={label:e[2]("save"),icon:_y}),4&t&&(r.cancelButton={label:e[2]("cancel")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Gq(e){let t,n,r,o,s,i,a,l=e[3]&&Rq(e);const c=[qq,jq],u=[];function d(e,t){return e[3]?0:1}o=d(e),s=u[o]=c[o](e);let p=e[3]&&Kq(e);return{c(){t=H("div"),l&&l.c(),n=j(),r=H("div"),s.c(),i=j(),p&&p.c(),U(r,"class","password-inputs svelte-153pjf4"),U(t,"class","password-change-form svelte-153pjf4")},m(e,s){L(e,t,s),l&&l.m(t,null),O(t,n),O(t,r),u[o].m(r,null),O(t,i),p&&p.m(t,null),a=!0},p(e,[i]){e[3]?l?(l.p(e,i),8&i&&je(l,1)):(l=Rq(e),l.c(),je(l,1),l.m(t,n)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe());let a=o;o=d(e),o===a?u[o].p(e,i):(ze(),qe(u[a],1,1,(()=>{u[a]=null})),Fe(),s=u[o],s?s.p(e,i):(s=u[o]=c[o](e),s.c()),je(s,1),s.m(r,null)),e[3]?p?(p.p(e,i),8&i&&je(p,1)):(p=Kq(e),p.c(),je(p,1),p.m(t,null)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe())},i(e){a||(je(l),je(s),je(p),a=!0)},o(e){qe(l),qe(s),qe(p),a=!1},d(e){e&&P(t),l&&l.d(),u[o].d(),p&&p.d()}}}function Xq(e,t,n){let r,s,i,a,l,c,u,d=o;m(e,Mg,(e=>n(2,c=e))),e.$$.on_destroy.push((()=>d()));const $=cb();m(e,$,(e=>n(13,u=e)));let{userId:f}=t;const h=IO(""),g=IO(""),y=IO(""),v=kO("***************");let b=!1;return e.$$set=e=>{"userId"in e&&n(10,f=e.userId)},e.$$.update=()=>{8192&e.$$.dirty&&n(12,r=u),5120&e.$$.dirty&&n(0,s=r?.id===f),1&e.$$.dirty&&n(11,i=(()=>{const e={password:g,confirmPassword:y};return s?{...e,oldPassword:h}:e})()),2052&e.$$.dirty&&(n(1,a=DO(i,[kM([g,y],c("passwords_do_not_match"))])),d(),d=p(a,(e=>n(16,l=e)))),1026&e.$$.dirty&&(n(3,b=!1),a.reset())},[s,a,c,b,$,h,g,y,v,async function(){const e=l.values;s&&Dt(e,"oldPassword")?(await Gv.changePassword(e.oldPassword,e.password),window.location.reload()):(await Gv.resetPassword(f,e.password),n(3,b=!1))},f,i,r,u,()=>{n(3,b=!0)},()=>{n(3,b=!1)}]}class Zq extends at{constructor(e){super(),it(this,e,Xq,Gq,d,{userId:10})}}function Jq(e,t,n){const r=e.slice();r[17]=t[n][0],r[18]=t[n][1],r[22]=n;const o=r[4]&&r[3]!==r[17];r[19]=o;const s=r[4]&&0===r[22]||!r[4];return r[20]=s,r}function Qq(e){let t,n,r=e[0].fullName+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0].fullName+"")&&G(n,r)},d(e){e&&P(t)}}}function eV(e){let t;return{c(){t=H("span"),U(t,"class","divider svelte-q2wxdp")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function tV(e){let t,n,r=e[0].email+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0].email+"")&&G(n,r)},d(e){e&&P(t)}}}function nV(e){let t,n=eb(e[18])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=eb(e[18])+"")&&G(t,n)},d(e){e&&P(t)}}}function rV(e){let t,n=e[5]("admin_access")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("admin_access")+"")&&G(t,n)},d(e){e&&P(t)}}}function oV(e){let t,n,r,o,s=e[8](e[17],e[19])+"";return r=new Ni({props:{$$slots:{default:[sV]},$$scope:{ctx:e}}}),{c(){t=F(s),n=j(),rt(r.$$.fragment)},m(e,s){L(e,t,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||26&n)&&s!==(s=e[8](e[17],e[19])+"")&&G(t,s);const i={};8388634&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function sV(e){let t,n=e[9](e[17],e[19])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){26&r&&n!==(n=e[9](e[17],e[19])+"")&&G(t,n)},d(e){e&&P(t)}}}function iV(e){let t,n,r,o,s,i,a=Qv(e[18])+"";const l=[cV,lV],c=[];function u(e,t){return"database"===e[17]?0:"schema"===e[17]?1:-1}return~(t=u(e))&&(n=c[t]=l[t](e)),{c(){n&&n.c(),r=j(),o=H("span"),s=F(a)},m(e,n){~t&&c[t].m(e,n),L(e,r,n),L(e,o,n),O(o,s),i=!0},p(e,o){let d=t;t=u(e),t===d?~t&&c[t].p(e,o):(n&&(ze(),qe(c[d],1,1,(()=>{c[d]=null})),Fe()),~t?(n=c[t],n?n.p(e,o):(n=c[t]=l[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null),(!i||2&o)&&a!==(a=Qv(e[18])+"")&&G(s,a)},i(e){i||(je(n),i=!0)},o(e){qe(n),i=!1},d(e){~t&&c[t].d(e),e&&P(r),e&&P(o)}}}function aV(e){let t,n,r,o,s,a=e[5]("admin")+"";const l=[nv,{size:"0.8em"}];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(nv),l[1]]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("admin")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function lV(e){let t,n;const r=[Yy,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Yy),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cV(e){let t,n;const r=[zy,{size:"0.8em"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(zy),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uV(e){let t,n,r,o;const s=[aV,iV],i=[];function a(e,t){return"admin"===e[17]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function dV(e){let t,n;return t=new to({props:{onClick:e[6],label:"",icon:{...sy,size:"0.75em"},appearance:"outline-primary"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pV(e){let t,n;return t=new Ei({props:{$$slots:{content:[fV],trigger:[mV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388610&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $V(e){let t,n;const r=[sy,{size:"0.75em"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(sy),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mV(e){let t,n;return t=new Hn({props:{slot:"trigger",disabled:!0,$$slots:{default:[$V]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388608&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fV(e){let t,n,r=e[10](e[17])+"";return{c(){t=H("span"),n=F(r),U(t,"slot","content")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[10](e[17])+"")&&G(n,r)},d(e){e&&P(t)}}}function hV(e,t){let n,r,o,s,i,a,l,c,u,d,p,$,m,f;function h(e,t){return"admin"===e[17]?rV:nV}let g=h(t),y=g(t),v=t[4]&&"admin"!==t[17]&&oV(t);l=new Ms({props:{background:"var(--slate-200)",display:"inline-flex",$$slots:{default:[uV]},$$scope:{ctx:t}}});const b=[pV,dV],w=[];function _(e,t){return 6&t&&(d=null),null==d&&(d=!("admin"!==e[17]&&!e[7](e[17])&&!e[2])),d?0:1}return p=_(t,-1),$=w[p]=b[p](t),{key:e,first:null,c(){n=H("div"),r=H("div"),o=H("div"),y.c(),s=j(),v&&v.c(),i=j(),a=H("div"),rt(l.$$.fragment),c=j(),u=H("div"),$.c(),m=j(),U(r,"class","cell access-level svelte-q2wxdp"),te(r,"disabled",t[19]),te(r,"has-border",t[20]),U(a,"class","cell access-level-chip svelte-q2wxdp"),te(a,"disabled",t[19]),te(a,"has-border",t[20]),U(u,"class","cell svelte-q2wxdp"),te(u,"has-border",t[20]),U(n,"class","access-wrapper svelte-q2wxdp"),this.first=n},m(e,t){L(e,n,t),O(n,r),O(r,o),y.m(o,null),O(o,s),v&&v.m(o,null),O(n,i),O(n,a),ot(l,a,null),O(n,c),O(n,u),w[p].m(u,null),O(n,m),f=!0},p(e,n){g===(g=h(t=e))&&y?y.p(t,n):(y.d(1),y=g(t),y&&(y.c(),y.m(o,s))),t[4]&&"admin"!==t[17]?v?(v.p(t,n),18&n&&je(v,1)):(v=oV(t),v.c(),je(v,1),v.m(o,null)):v&&(ze(),qe(v,1,1,(()=>{v=null})),Fe()),(!f||26&n)&&te(r,"disabled",t[19]),(!f||18&n)&&te(r,"has-border",t[20]);const i={};8388642&n&&(i.$$scope={dirty:n,ctx:t}),l.$set(i),(!f||26&n)&&te(a,"disabled",t[19]),(!f||18&n)&&te(a,"has-border",t[20]);let c=p;p=_(t,n),p===c?w[p].p(t,n):(ze(),qe(w[c],1,1,(()=>{w[c]=null})),Fe(),$=w[p],$?$.p(t,n):($=w[p]=b[p](t),$.c()),je($,1),$.m(u,null)),(!f||18&n)&&te(u,"has-border",t[20])},i(e){f||(je(v),je(l.$$.fragment,e),je($),f=!0)},o(e){qe(v),qe(l.$$.fragment,e),qe($),f=!1},d(e){e&&P(n),y.d(),v&&v.d(),st(l),w[p].d()}}}function gV(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[0].username+"",$=`span ${e[1].length}`,m=[],f=new Map,h=e[0].fullName&&Qq(e),g=e[0].fullName&&e[0].email&&eV(),y=e[0].email&&tV(e),v=e[1];const b=e=>`${e[17]}-${e[18]}`;for(let w=0;w<v.length;w+=1){let t=Jq(e,v,w),n=b(t);f.set(n,m[w]=hV(n,t))}return{c(){t=H("div"),n=H("div"),r=H("div"),o=H("div"),s=F(p),i=j(),a=H("div"),h&&h.c(),l=j(),g&&g.c(),c=j(),y&&y.c(),u=j();for(let e=0;e<m.length;e+=1)m[e].c();U(o,"class","name svelte-q2wxdp"),U(a,"class","info svelte-q2wxdp"),U(r,"class","name-and-info svelte-q2wxdp"),U(n,"class","cell has-border svelte-q2wxdp"),Z(n,"grid-row",$,!1),U(t,"class","wrapper svelte-q2wxdp")},m(e,p){L(e,t,p),O(t,n),O(n,r),O(r,o),O(o,s),O(r,i),O(r,a),h&&h.m(a,null),O(a,l),g&&g.m(a,null),O(a,c),y&&y.m(a,null),O(t,u);for(let n=0;n<m.length;n+=1)m[n].m(t,null);d=!0},p(e,[r]){(!d||1&r)&&p!==(p=e[0].username+"")&&G(s,p),e[0].fullName?h?h.p(e,r):(h=Qq(e),h.c(),h.m(a,l)):h&&(h.d(1),h=null),e[0].fullName&&e[0].email?g||(g=eV(),g.c(),g.m(a,c)):g&&(g.d(1),g=null),e[0].email?y?y.p(e,r):(y=tV(e),y.c(),y.m(a,null)):y&&(y.d(1),y=null),2&r&&$!==($=`span ${e[1].length}`)&&Z(n,"grid-row",$,!1),2046&r&&(v=e[1],ze(),m=Qe(m,r,b,1,e,v,f,t,Ze,hV,null,Jq),Fe())},i(e){if(!d){for(let e=0;e<v.length;e+=1)je(m[e]);d=!0}},o(e){for(let t=0;t<m.length;t+=1)qe(m[t]);d=!1},d(e){e&&P(t),h&&h.d(),g&&g.d(),y&&y.d();for(let t=0;t<m.length;t+=1)m[t].d()}}}function yV(e,t,n){let r,o,s,i,a,l,c;m(e,Mg,(e=>n(5,c=e)));let{userProfile:u}=t,{userModel:d}=t,{accessControlObject:p}=t,{getUserRoles:$}=t,{removeAccessForUser:f}=t;function h(e){return p!==e}return e.$$set=e=>{"userProfile"in e&&n(11,u=e.userProfile),"userModel"in e&&n(0,d=e.userModel),"accessControlObject"in e&&n(12,p=e.accessControlObject),"getUserRoles"in e&&n(13,$=e.getUserRoles),"removeAccessForUser"in e&&n(14,f=e.removeAccessForUser)},e.$$.update=()=>{8193&e.$$.dirty&&n(15,r=$(d)),32768&e.$$.dirty&&n(16,o=r&&r.size>0?[...r.entries()]:[]),65537&e.$$.dirty&&n(1,s=d.isSuperUser?[["admin","manager"]]:o),2&e.$$.dirty&&n(4,i=s.length>1),32768&e.$$.dirty&&n(3,a=r?function(e){const t=e.get("schema"),n=e.get("database");return t&&n?tb[t]>tb[n]?"schema":"database":t?"schema":"database"}(r):void 0),2049&e.$$.dirty&&n(2,l=u?.id===d.id)},[d,s,l,a,i,c,async function(){await f(d)},h,function(e,t){const n=[];return h(e)&&n.push(c("inherited")),t&&n.push(c("overridden")),n.length>0?`(${n.join(", ")})`:""},function(e,t){const n=c("database"===e?"database":"schema"),r=c("database"===e?"schema":"database"),o=h(e);return o&&t?c("access_level_inheritance_is_overridden_help",{values:{aclObject:n,comparedAclObject:r}}):o?c("access_level_inheritance_help",{values:{aclObject:n}}):c(t?"access_level_is_overridden_help":"access_level_overrides_help",{values:{comparedAclObject:r}})},function(e){return"admin"===e?c("individual_permissions_admin_modify_warning"):l?c("cannot_modify_own_access_warning"):h(e)?c("inherited_access_level_cannot_remove_warning"):c("access_level_cannot_remove_warning")},u,p,$,f,r,o]}class vV extends at{constructor(e){super(),it(this,e,yV,gV,d,{userProfile:11,userModel:0,accessControlObject:12,getUserRoles:13,removeAccessForUser:14})}}function bV(e,t,n){const r=e.slice();return r[22]=t[n],r}function wV(e){let t,n;return t=new Hn({props:{appearance:"secondary",$$slots:{default:[_V]},$$scope:{ctx:e}}}),t.$on("click",e[18]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67110912&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _V(e){let t,n,r,o,s,a=e[11]("add")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||2048&n)&&a!==(a=e[11]("add")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function xV(e){let t,n,r,o,s,i,a,l,c,u;r=new Mo({props:{label:e[11]("user"),layout:"stacked",$$slots:{default:[IV]},$$scope:{ctx:e}}}),s=new Mo({props:{label:e[11]("permission"),layout:"stacked",$$slots:{default:[TV]},$$scope:{ctx:e}}}),l=new to({props:{disabled:!e[4]||e[6],onClick:e[14],icon:ny,label:e[11]("add"),appearance:"secondary"}});let d=e[8]&&DV(e);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),a=H("div"),rt(l.$$.fragment),c=j(),d&&d.c(),U(a,"class","add-button svelte-v15h0w"),U(n,"class","add-user-form svelte-v15h0w"),U(t,"class","add-user svelte-v15h0w")},m(e,p){L(e,t,p),O(t,n),ot(r,n,null),O(n,o),ot(s,n,null),O(n,i),O(n,a),ot(l,a,null),O(t,c),d&&d.m(t,null),u=!0},p(e,n){const o={};2048&n&&(o.label=e[11]("user")),67112016&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const i={};2048&n&&(i.label=e[11]("permission")),67111488&n&&(i.$$scope={dirty:n,ctx:e}),s.$set(i);const a={};80&n&&(a.disabled=!e[4]||e[6]),2048&n&&(a.label=e[11]("add")),l.$set(a),e[8]?d?(d.p(e,n),256&n&&je(d,1)):(d=DV(e),d.c(),je(d,1),d.m(t,null)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe())},i(e){u||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),je(d),u=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),qe(d),u=!1},d(e){e&&P(t),st(r),st(s),st(l),d&&d.d()}}}function SV(e){let t,n,r=e[11]("select_user")+"";return{c(){t=H("span"),n=F(r),U(t,"class","placeholder svelte-v15h0w")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2048&t&&r!==(r=e[11]("select_user")+"")&&G(n,r)},d(e){e&&P(t)}}}function CV(e){let t,n=e[25].username+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){33554432&r&&n!==(n=e[25].username+"")&&G(t,n)},d(e){e&&P(t)}}}function EV(e){let t;function n(e,t){return e[25]?CV:SV}let r=n(e),o=r(e);return{c(){o.c(),t=q()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function kV(e){let t,n,r=e[11]("no_users_found")+"";return{c(){t=H("div"),n=F(r),U(t,"class","no-users svelte-v15h0w"),U(t,"slot","empty")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2048&t&&r!==(r=e[11]("no_users_found")+"")&&G(n,r)},d(e){e&&P(t)}}}function IV(e){let t,n,r;function o(t){e[19](t)}let s={autoSelect:"none",options:e[10],disabled:e[6],$$slots:{empty:[kV,({option:e})=>({25:e}),({option:e})=>e?33554432:0],default:[EV,({option:e})=>({25:e}),({option:e})=>e?33554432:0]},$$scope:{ctx:e}};return void 0!==e[4]&&(s.value=e[4]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1024&r&&(o.options=e[10]),64&r&&(o.disabled=e[6]),100665344&r&&(o.$$scope={dirty:r,ctx:e}),!n&&16&r&&(n=!0,o.value=e[4],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function TV(e){let t,n,r;function o(t){e[21](t)}let s={options:e[12],getLabel:e[20],disabled:e[6]};return void 0!==e[9]&&(s.value=e[9]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};2048&r&&(o.getLabel=e[20]),64&r&&(o.disabled=e[6]),!n&&512&r&&(n=!0,o.value=e[9],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function DV(e){let t,n;return t=new LM({props:{$$slots:{default:[MV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67109120&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function MV(e){let t;return{c(){t=F(e[8])},m(e,n){L(e,t,n)},p(e,n){256&n&&G(t,e[8])},d(e){e&&P(t)}}}function OV(e){let t,n;return t=new Ni({props:{$$slots:{default:[NV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67110912&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function NV(e){let t,n=e[11]("access_level_precedence_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2048&r&&n!==(n=e[11]("access_level_precedence_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function AV(e,t){let n,r,o;return r=new vV({props:{userProfile:t[5],getUserRoles:t[3],userModel:t[22],accessControlObject:t[2],removeAccessForUser:t[1]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n&&(o.userProfile=t[5]),8&n&&(o.getUserRoles=t[3]),1&n&&(o.userModel=t[22]),4&n&&(o.accessControlObject=t[2]),2&n&&(o.removeAccessForUser=t[1]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function LV(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[11]("users_with_access")+"",$=[],m=new Map,f=!e[7]&&wV(e),h=e[7]&&xV(e),g="schema"===e[2]&&OV(e),y=e[0];const v=e=>e[22].id;for(let b=0;b<y.length;b+=1){let t=bV(e,y,b),n=v(t);m.set(n,$[b]=AV(n,t))}return{c(){t=H("div"),f&&f.c(),n=j(),h&&h.c(),r=j(),o=H("div"),s=H("div"),i=H("span"),a=F(p),l=j(),g&&g.c(),c=j(),u=H("div");for(let e=0;e<$.length;e+=1)$[e].c();U(s,"class","header svelte-v15h0w"),U(u,"class","list svelte-v15h0w"),U(o,"class","users-with-access svelte-v15h0w")},m(e,p){L(e,t,p),f&&f.m(t,null),O(t,n),h&&h.m(t,null),L(e,r,p),L(e,o,p),O(o,s),O(s,i),O(i,a),O(s,l),g&&g.m(s,null),O(o,c),O(o,u);for(let t=0;t<$.length;t+=1)$[t].m(u,null);d=!0},p(e,[r]){e[7]?f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()):f?(f.p(e,r),128&r&&je(f,1)):(f=wV(e),f.c(),je(f,1),f.m(t,n)),e[7]?h?(h.p(e,r),128&r&&je(h,1)):(h=xV(e),h.c(),je(h,1),h.m(t,null)):h&&(ze(),qe(h,1,1,(()=>{h=null})),Fe()),(!d||2048&r)&&p!==(p=e[11]("users_with_access")+"")&&G(a,p),"schema"===e[2]?g?(g.p(e,r),4&r&&je(g,1)):(g=OV(e),g.c(),je(g,1),g.m(s,null)):g&&(ze(),qe(g,1,1,(()=>{g=null})),Fe()),47&r&&(y=e[0],ze(),$=Qe($,r,v,1,e,y,m,u,Ze,AV,null,bV),Fe())},i(e){if(!d){je(f),je(h),je(g);for(let e=0;e<y.length;e+=1)je($[e]);d=!0}},o(e){qe(f),qe(h),qe(g);for(let t=0;t<$.length;t+=1)qe($[t]);d=!1},d(e){e&&P(t),f&&f.d(),h&&h.d(),e&&P(r),e&&P(o),g&&g.d();for(let t=0;t<$.length;t+=1)$[t].d()}}}function PV(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(11,i=e)));const a=cb();m(e,a,(e=>n(17,s=e)));let l,c,{usersWithAccess:u}=t,{usersWithoutAccess:d}=t,{addAccessForUser:p}=t,{removeAccessForUser:$}=t,{accessControlObject:f}=t,{getUserRoles:h}=t,g=!1,y=!1,v="viewer";return e.$$set=e=>{"usersWithAccess"in e&&n(0,u=e.usersWithAccess),"usersWithoutAccess"in e&&n(15,d=e.usersWithoutAccess),"addAccessForUser"in e&&n(16,p=e.addAccessForUser),"removeAccessForUser"in e&&n(1,$=e.removeAccessForUser),"accessControlObject"in e&&n(2,f=e.accessControlObject),"getUserRoles"in e&&n(3,h=e.getUserRoles)},e.$$.update=()=>{131072&e.$$.dirty&&n(5,r=s),32800&e.$$.dirty&&n(10,o=d.filter((e=>e.id!==r?.id)))},[u,$,f,h,c,r,g,y,l,v,o,i,["viewer","editor","manager"],a,async function(){if(n(8,l=void 0),c)try{n(6,g=!0),await p(c,v),n(4,c=void 0)}catch(e){n(8,l=rc(e))}finally{n(6,g=!1)}},d,p,s,()=>{n(7,y=!0),n(8,l=void 0)},function(e){c=e,n(4,c)},e=>e?Qv(e):i("select_permission"),function(e){v=e,n(9,v)}]}class RV extends at{constructor(e){super(),it(this,e,PV,LV,d,{usersWithAccess:0,usersWithoutAccess:15,addAccessForUser:16,removeAccessForUser:1,accessControlObject:2,getUserRoles:3})}}function HV(e){const t=e.isSuperUser?"admin":"standard",n=function(e){switch(e){case"admin":return"Admin";case"standard":return"Standard";default:throw new oc(e)}}(t);return{icon:e.isSuperUser?ov:nv,type:t,displayName:n}}function zV(e){let t,n,r,o=e[0].fullName&&FV(e),s=e[0].fullName&&e[0].email&&jV(),i=e[0].email&&qV(e);return{c(){t=H("div"),o&&o.c(),n=j(),s&&s.c(),r=j(),i&&i.c(),U(t,"class","user-detailed-info svelte-1a49wjf")},m(e,a){L(e,t,a),o&&o.m(t,null),O(t,n),s&&s.m(t,null),O(t,r),i&&i.m(t,null)},p(e,a){e[0].fullName?o?o.p(e,a):(o=FV(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),e[0].fullName&&e[0].email?s||(s=jV(),s.c(),s.m(t,r)):s&&(s.d(1),s=null),e[0].email?i?i.p(e,a):(i=qV(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(e){e&&P(t),o&&o.d(),s&&s.d(),i&&i.d()}}}function FV(e){let t,n,r=e[0].fullName+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0].fullName+"")&&G(n,r)},d(e){e&&P(t)}}}function jV(e){let t;return{c(){t=H("span"),U(t,"class","divider svelte-1a49wjf")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function qV(e){let t,n,r=e[0].email+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0].email+"")&&G(n,r)},d(e){e&&P(t)}}}function VV(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,f=e[0].username+"",h=e[2].displayName+"",g=e[1]&&zV(e);const y=[e[2].icon,{size:"0.9rem"}];let v={};for(let b=0;b<y.length;b+=1)v=i(v,y[b]);return c=new Kr({props:v}),{c(){t=H("a"),n=H("div"),r=H("span"),o=F(f),s=j(),g&&g.c(),a=j(),l=H("div"),rt(c.$$.fragment),u=j(),d=H("span"),p=F(h),U(n,"class","user-info svelte-1a49wjf"),U(l,"class","user-type svelte-1a49wjf"),U(t,"class","user-row passthrough svelte-1a49wjf"),U(t,"href",$=Xb(e[0].id))},m(e,i){L(e,t,i),O(t,n),O(n,r),O(r,o),O(n,s),g&&g.m(n,null),O(t,a),O(t,l),ot(c,l,null),O(l,u),O(l,d),O(d,p),m=!0},p(e,[r]){(!m||1&r)&&f!==(f=e[0].username+"")&&G(o,f),e[1]?g?g.p(e,r):(g=zV(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null);const s=4&r?et(y,[tt(e[2].icon),y[1]]):{};c.$set(s),(!m||4&r)&&h!==(h=e[2].displayName+"")&&G(p,h),(!m||1&r&&$!==($=Xb(e[0].id)))&&U(t,"href",$)},i(e){m||(je(c.$$.fragment,e),m=!0)},o(e){qe(c.$$.fragment,e),m=!1},d(e){e&&P(t),g&&g.d(),st(c)}}}function BV(e,t,n){let r,o,{user:s}=t;return e.$$set=e=>{"user"in e&&n(0,s=e.user)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=HV(s)),1&e.$$.dirty&&n(1,o=s.email||s.fullName)},[s,o,r]}class WV extends at{constructor(e){super(),it(this,e,BV,VV,d,{user:0})}}function UV(e){let t,n,r;return n=new Bl({props:{loading:!0}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","user-skeleton-container svelte-1ko2nwt")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}class YV extends at{constructor(e){super(),it(this,e,null,UV,d,{})}}function KV(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function GV(e){let t,n;return t=new BM({props:{errors:e[6].errors}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.errors=e[6].errors),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XV(e){let t,n,r;function o(t){e[9](t)}let s={searchPlaceholder:e[5]("search_users"),$$slots:{content:[aB],resultInfo:[nB],action:[QV]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.searchQuery=e[0]),t=new IF({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[7]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};32&r&&(o.searchPlaceholder=e[5]("search_users")),32803&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.searchQuery=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function ZV(e){let t,n;return t=new YV({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JV(e){let t,n,r,o,s,a=e[5]("add_user")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("add_user")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function QV(e){let t,n;return t=new fn({props:{appearance:"primary",href:Kb,$$slots:{default:[JV]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32800&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eB(e){let t,n;return{c(){t=H("strong"),n=F(e[0])},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&G(n,e[0])},d(e){e&&P(t)}}}function tB(e){let t,n="searchValue"===e[14]&&eB(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[14]?n?n.p(e,r):(n=eB(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function nB(e){let t,n,r;return n=new Kg({props:{text:e[5]("users_matching_search",{values:{count:e[1].length}}),$$slots:{default:[tB,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),{c(){t=H("p"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};34&t&&(r.text=e[5]("users_matching_search",{values:{count:e[1].length}})),49153&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function rB(e){let t,n,r=e[5]("no_users_found")+"";return{c(){t=H("p"),n=F(r),U(t,"class","no-users-found-text")},m(e,r){L(e,t,r),O(t,n)},p(e,t){32&t&&r!==(r=e[5]("no_users_found")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function oB(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[11].id;for(let a=0;a<s.length;a+=1){let t=KV(e,s,a),n=i(t);o.set(n,r[a]=iB(n,t))}return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","users-list svelte-pn1rjj")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,n){2&n&&(s=e[1],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,iB,null,KV),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function sB(e){let t;return{c(){t=H("hr"),U(t,"class","svelte-pn1rjj")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function iB(e,t){let n,r,o,s,i=0!==t[13]&&sB();return o=new WV({props:{user:t[11]}}),{key:e,first:null,c(){n=q(),i&&i.c(),r=j(),rt(o.$$.fragment),this.first=n},m(e,t){L(e,n,t),i&&i.m(e,t),L(e,r,t),ot(o,e,t),s=!0},p(e,n){0!==(t=e)[13]?i||(i=sB(),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null);const s={};2&n&&(s.user=t[11]),o.$set(s)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(n),i&&i.d(e),e&&P(r),st(o,e)}}}function aB(e){let t,n,r,o;const s=[oB,rB],i=[];function a(e,t){return e[1].length?0:0===e[1].length?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function lB(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[5]("users")+"";document.title=t=TF(e[5]("users"));const $=[ZV,XV,GV],m=[];function f(e,t){return"processing"===e[6]?.state?0:"success"===e[6]?.state?1:"failure"===e[6]?.state?2:-1}return~(c=f(e))&&(u=m[c]=$[c](e)),{c(){n=j(),r=H("h1"),o=F(p),s=j(),i=F(e[2]),a=j(),l=H("section"),u&&u.c(),U(l,"class","users-list-container svelte-pn1rjj")},m(e,t){L(e,n,t),L(e,r,t),O(r,o),O(r,s),O(r,i),L(e,a,t),L(e,l,t),~c&&m[c].m(l,null),d=!0},p(e,[n]){(!d||32&n)&&t!==(t=TF(e[5]("users")))&&(document.title=t),(!d||32&n)&&p!==(p=e[5]("users")+"")&&G(o,p),(!d||4&n)&&G(i,e[2]);let r=c;c=f(e),c===r?~c&&m[c].p(e,n):(u&&(ze(),qe(m[r],1,1,(()=>{m[r]=null})),Fe()),~c?(u=m[c],u?u.p(e,n):(u=m[c]=$[c](e),u.c()),je(u,1),u.m(l,null)):u=null)},i(e){d||(je(u),d=!0)},o(e){qe(u),d=!1},d(e){e&&P(n),e&&P(r),e&&P(a),e&&P(l),~c&&m[c].d()}}}function cB(e,t,n){let r,s,i,a,l,c,u,d=o,$=o;m(e,Mg,(e=>n(5,c=e))),e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$()));let f="";const h=ib();return e.$$.update=()=>{var t;257&e.$$.dirty&&n(1,(t=f,i=(l??[])?.filter((e=>!t||((e,t)=>e.username.toLowerCase().includes(t)||e.fullName?.toLowerCase().includes(t)||e.email?.toLowerCase().includes(t))(e,t.trim().toLowerCase()))))),2&e.$$.dirty&&n(2,a=i.length?`(${i.length})`:"")},n(4,r=h?.requestStatus),$(),$=p(r,(e=>n(6,u=e))),n(3,s=h?.users),d(),d=p(s,(e=>n(8,l=e))),[f,i,a,s,r,c,u,function(){n(0,f="")},l,function(e){f=e,n(0,f)}]}class uB extends at{constructor(e){super(),it(this,e,cB,lB,d,{})}}function dB(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","form-box svelte-cgjg4v")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function pB(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class $B extends at{constructor(e){super(),it(this,e,pB,dB,d,{})}}function mB(e){let t,n;return t=new Pq({}),t.$on("create",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fB(e){let t,n,r,o,s,a,l,c,u,d=e[0]("new_user")+"";t=new SH({props:{item:{type:"simple",href:Kb,label:e[0]("new_user"),icon:ry}}});const p=[ry];let $={};for(let m=0;m<p.length;m+=1)$=i($,p[m]);return o=new Kr({props:$}),c=new $B({props:{$$slots:{default:[mB]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),r=H("h1"),rt(o.$$.fragment),s=j(),a=F(d),l=j(),rt(c.$$.fragment)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),O(r,s),O(r,a),L(e,l,i),ot(c,e,i),u=!0},p(e,[n]){const r={};1&n&&(r.item={type:"simple",href:Kb,label:e[0]("new_user"),icon:ry}),t.$set(r);const s=0&n?et(p,[tt(ry)]):{};o.$set(s),(!u||1&n)&&d!==(d=e[0]("new_user")+"")&&G(a,d);const i={};16&n&&(i.$$scope={dirty:n,ctx:e}),c.$set(i)},i(e){u||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o),e&&P(l),st(c,e)}}}function hB(e,t,n){let r;m(e,Mg,(e=>n(0,r=e)));const o=ib();function s(e){o?.fetchUsers(),qN.goto(Xb(e.id),!0)}return[r,s,e=>s(e.detail)]}class gB extends at{constructor(e){super(),it(this,e,hB,fB,d,{})}}function yB(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function vB(e){let t,n,r,o;const s=[wB,bB],i=[];function a(e,t){return void 0===e[13]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function bB(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,f,h,g,y=e[4]("edit_user")+"",v=e[13].username+"";t=new SH({props:{item:{type:"simple",href:Xb(e[0]),label:e[13].username,icon:ly}}});const b=[ly];let w={};for(let x=0;x<b.length;x+=1)w=i(w,b[x]);o=new Kr({props:w}),p=new $B({props:{$$slots:{default:[_B]},$$scope:{ctx:e}}}),m=new $B({props:{$$slots:{default:[xB]},$$scope:{ctx:e}}});let _=!e[2]&&SB(e);return{c(){rt(t.$$.fragment),n=j(),r=H("h1"),rt(o.$$.fragment),s=j(),a=F(y),l=F(": "),c=H("strong"),u=F(v),d=j(),rt(p.$$.fragment),$=j(),rt(m.$$.fragment),f=j(),_&&_.c(),h=q()},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),ot(o,r,null),O(r,s),O(r,a),O(r,l),O(r,c),O(c,u),L(e,d,i),ot(p,e,i),L(e,$,i),ot(m,e,i),L(e,f,i),_&&_.m(e,i),L(e,h,i),g=!0},p(e,n){const r={};3&n&&(r.item={type:"simple",href:Xb(e[0]),label:e[13].username,icon:ly}),t.$set(r);const s=0&n?et(b,[tt(ly)]):{};o.$set(s),(!g||16&n)&&y!==(y=e[4]("edit_user")+"")&&G(a,y),(!g||2&n)&&v!==(v=e[13].username+"")&&G(u,v);const i={};16386&n&&(i.$$scope={dirty:n,ctx:e}),p.$set(i);const l={};16385&n&&(l.$$scope={dirty:n,ctx:e}),m.$set(l),e[2]?_&&(ze(),qe(_,1,1,(()=>{_=null})),Fe()):_?(_.p(e,n),4&n&&je(_,1)):(_=SB(e),_.c(),je(_,1),_.m(h.parentNode,h))},i(e){g||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(p.$$.fragment,e),je(m.$$.fragment,e),je(_),g=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(p.$$.fragment,e),qe(m.$$.fragment,e),qe(_),g=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o),e&&P(d),st(p,e),e&&P($),st(m,e),e&&P(f),_&&_.d(e),e&&P(h)}}}function wB(e){let t,n,r,o;const s=[kB,EB],i=[];function a(e,t){return"failure"===e[5]?.state?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function _B(e){let t,n;return t=new Pq({props:{user:e[13].getUser()}}),t.$on("update",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.user=e[13].getUser()),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xB(e){let t,n;return t=new Zq({props:{userId:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SB(e){let t,n;return t=new $B({props:{$$slots:{default:[CB]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16402&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function CB(e){let t,n;function r(){return e[10](e[13])}function o(){return e[11](e[13])}return t=new to({props:{confirm:r,onClick:o,icon:sy,danger:!0,label:e[4]("delete_user"),appearance:"default"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,s){e=n;const i={};18&s&&(i.confirm=r),2&s&&(i.onClick=o),16&s&&(i.label=e[4]("delete_user")),t.$set(i)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EB(e){let t,n;return t=new LM({props:{$$slots:{default:[IB]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16400&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kB(e){let t,n=e[5].errors+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5].errors+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function IB(e){let t,n=e[4]("user_not_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("user_not_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function TB(e){let t,n=e[4]("fetching_user_details")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("fetching_user_details")+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function DB(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:TB,then:vB,catch:yB,value:13,blocks:[,,,]};return Ye(n=e[1],o),{c(){t=q(),o.block.c()},m(e,n){L(e,t,n),o.block.m(e,o.anchor=n),o.mount=()=>t.parentNode,o.anchor=t,r=!0},p(t,[r]){e=t,o.ctx=e,2&r&&n!==(n=e[1])&&Ye(n,o)||Ke(o,e,r)},i(e){r||(je(o.block),r=!0)},o(e){for(let t=0;t<3;t+=1){qe(o.blocks[t])}r=!1},d(e){e&&P(t),o.block.d(e),o.token=null,o=null}}}function MB(e,t,n){let r,s,i,a,l,c,u=o;m(e,Mg,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>u()));const d=cb();m(e,d,(e=>n(9,a=e)));const $=ib();let{userId:f}=t;async function h(e){if($)try{await $.delete(e.id),qN.goto(Yb)}catch(t){Cv.fromError(t)}}return e.$$set=e=>{"userId"in e&&n(0,f=e.userId)},e.$$.update=()=>{1&e.$$.dirty&&n(1,s=$?.getUserDetails(f)),513&e.$$.dirty&&n(2,i=a?.id===f)},n(3,r=$?.requestStatus),u(),u=p(r,(e=>n(5,c=e))),[f,s,i,r,l,c,d,async function(){await($?.fetchUsers()),n(1,s=$?.getUserDetails(f))},h,a,e=>Tv({identifierName:e.username,identifierType:l("user")}),e=>h(e)]}class OB extends at{constructor(e){super(),it(this,e,MB,DB,d,{userId:0})}}function NB(e){let t,n;return t=new uB({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function AB(e){let t,n;return t=new gB({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LB(e){let t,n;return t=new OB({props:{userId:parseInt(e[1].params.userId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.userId=parseInt(e[1].params.userId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function PB(e){let t,n,r,o,s,i,a,l;return t=new SH({props:{item:{type:"simple",href:Yb,label:e[0]("users"),icon:rv}}}),r=new eA({props:{path:"/",$$slots:{default:[NB]},$$scope:{ctx:e}}}),s=new eA({props:{path:"/new",$$slots:{default:[AB]},$$scope:{ctx:e}}}),a=new eA({props:{path:"/:userId",$$slots:{default:[LB,({meta:e})=>({1:e}),({meta:e})=>e?2:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),L(e,n,c),ot(r,e,c),L(e,o,c),ot(s,e,c),L(e,i,c),ot(a,e,c),l=!0},p(e,[n]){const o={};1&n&&(o.item={type:"simple",href:Yb,label:e[0]("users"),icon:rv}),t.$set(o);const i={};4&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const l={};4&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};6&n&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e),e&&P(i),st(a,e)}}}function RB(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),ab(),[r]}class HB extends at{constructor(e){super(),it(this,e,RB,PB,d,{})}}function zB(e){let t,n,r,o;return t=new SH({props:{item:{type:"simple",href:Ub,label:e[0]("software_update")}}}),r=new Xj({}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const r={};1&n&&(r.item={type:"simple",href:Ub,label:e[0]("software_update")}),t.$set(r)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function FB(e){let t,n;return t=new HB({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jB(e){let t,n,r,o;return t=new eA({props:{path:"/update",$$slots:{default:[zB]},$$scope:{ctx:e}}}),r=new eA({props:{path:"/users/*",firstmatch:!0,$$slots:{default:[FB]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function qB(e){let t,n;return t=new nq({props:{slot:"sidebar"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function VB(e){let t,n;return t=new aq({props:{$$slots:{sidebar:[qB],default:[jB]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BB(e){let t,n;return t=new hj({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:e[0]("administration"),icon:Ky}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.pageTitleAndMetaProps={name:e[0]("administration"),icon:Ky}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function WB(e){let t,n,r,o,s,i;return t=new SH({props:{item:{type:"simple",href:Wb,label:e[0]("administration"),icon:Ky}}}),r=new eA({props:{path:"/",redirect:Ub}}),s=new mH({props:{cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)","--PageLayoutWithSidebar__sidebar-width":"15rem"},restrictWidth:!0,$$slots:{"secondary-header":[BB],default:[VB]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,[n]){const r={};1&n&&(r.item={type:"simple",href:Wb,label:e[0]("administration"),icon:Ky}),t.$set(r);const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function UB(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class YB extends at{constructor(e){super(),it(this,e,UB,WB,d,{})}}const KB={reflect:()=>Uv("/api/ui/v0/reflect/",{})},GB=e=>({}),XB=e=>({}),ZB=e=>({initialName:128&e}),JB=e=>({slot:"title",initialName:e[7]});function QB(e){let t,n,r=e[4].join(" ")+"";return{c(){t=H("p"),n=F(r),U(t,"class","error svelte-1komobi")},m(e,r){L(e,t,r),O(t,n)},p(e,t){16&t&&r!==(r=e[4].join(" ")+"")&&G(n,r)},d(e){e&&P(t)}}}function eW(e){let t,n,r,o,s,i;function a(t){e[20](t)}function l(t){e[21](t)}let c={"aria-label":e[11]("name"),disabled:e[5],placeholder:e[11]("name"),id:"name"};void 0!==e[3]&&(c.value=e[3]),void 0!==e[6]&&(c.element=e[6]),t=new qi({props:c}),we.push((()=>nt(t,"value",a))),we.push((()=>nt(t,"element",l))),t.$on("input",e[22]);let u=e[9]&&e[4].length&&QB(e);return{c(){rt(t.$$.fragment),o=j(),u&&u.c(),s=q()},m(e,n){ot(t,e,n),L(e,o,n),u&&u.m(e,n),L(e,s,n),i=!0},p(e,o){const i={};2048&o&&(i["aria-label"]=e[11]("name")),32&o&&(i.disabled=e[5]),2048&o&&(i.placeholder=e[11]("name")),!n&&8&o&&(n=!0,i.value=e[3],Te((()=>n=!1))),!r&&64&o&&(r=!0,i.element=e[6],Te((()=>r=!1))),t.$set(i),e[9]&&e[4].length?u?u.p(e,o):(u=QB(e),u.c(),u.m(s.parentNode,s)):u&&(u.d(1),u=null)},i(e){i||(je(t.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(o),u&&u.d(e),e&&P(s)}}}function tW(e){let t,n,r;return n=new Mo({props:{label:e[11]("description"),layout:"stacked",$$slots:{default:[nW]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","input-container svelte-1komobi")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2048&t&&(r.label=e[11]("description")),16779552&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function nW(e){let t,n,r;function o(t){e[23](t)}let s={"aria-label":e[11]("description"),disabled:e[5],placeholder:e[11]("description")};return void 0!==e[8]&&(s.value=e[8]),t=new Yl({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};2048&r&&(o["aria-label"]=e[11]("description")),32&r&&(o.disabled=e[5]),2048&r&&(o.placeholder=e[11]("description")),!n&&256&r&&(n=!0,o.value=e[8],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function rW(e){let t,n,r,o,s,i;const a=e[18].helpText,l=f(a,e,e[24],XB);o=new Mo({props:{label:e[11]("name"),layout:"stacked",$$slots:{default:[eW]},$$scope:{ctx:e}}});let c=!e[2]&&tW(e);return{c(){t=H("div"),l&&l.c(),n=j(),r=H("div"),rt(o.$$.fragment),s=j(),c&&c.c(),U(r,"class","input-container svelte-1komobi"),U(t,"class","form-container svelte-1komobi")},m(e,a){L(e,t,a),l&&l.m(t,null),O(t,n),O(t,r),ot(o,r,null),O(t,s),c&&c.m(t,null),i=!0},p(e,n){l&&l.p&&(!i||16777216&n)&&y(l,a,e,e[24],i?g(a,e[24],n,GB):v(e[24]),XB);const r={};2048&n&&(r.label=e[11]("name")),16779896&n&&(r.$$scope={dirty:n,ctx:e}),o.$set(r),e[2]?c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe()):c?(c.p(e,n),4&n&&je(c,1)):(c=tW(e),c.c(),je(c,1),c.m(t,null))},i(e){i||(je(l,e),je(o.$$.fragment,e),je(c),i=!0)},o(e){qe(l,e),qe(o.$$.fragment,e),qe(c),i=!1},d(e){e&&P(t),l&&l.d(e),st(o),c&&c.d()}}}function oW(e){let t;const n=e[18].title,r=f(n,e,e[24],JB);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||16777344&o)&&y(r,n,e,e[24],t?g(n,e[24],o,ZB):v(e[24]),JB)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function sW(e){let t,n;return t=new ao({props:{proceedButton:{label:e[0]},onCancel:e[19],onProceed:e[13],canProceed:e[10],slot:"footer"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.proceedButton={label:e[0]}),2&n&&(r.onCancel=e[19]),1024&n&&(r.canProceed=e[10]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iW(e){let t,n;return t=new Sp({props:{controller:e[1],allowClose:!e[5],closeOn:["button","esc","overlay"],$$slots:{footer:[sW],title:[oW],default:[rW]},$$scope:{ctx:e}}}),t.$on("open",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.controller=e[1]),32&n&&(r.allowClose=!e[5]),16781311&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aW(e,t,n){let r,o,s;m(e,Mg,(e=>n(11,s=e)));let i,{$$slots:a={},$$scope:l}=t,{saveButtonLabel:c=s("save")}=t,{controller:u}=t,{getNameValidationErrors:d}=t,{getInitialName:p=(()=>"")}=t,{getInitialDescription:$=(()=>"")}=t,{save:f}=t,{hideDescription:h=!1}=t,g=!1,y="",v="",b="",w=!1;return e.$$set=e=>{"saveButtonLabel"in e&&n(0,c=e.saveButtonLabel),"controller"in e&&n(1,u=e.controller),"getNameValidationErrors"in e&&n(14,d=e.getNameValidationErrors),"getInitialName"in e&&n(15,p=e.getInitialName),"getInitialDescription"in e&&n(16,$=e.getInitialDescription),"save"in e&&n(17,f=e.save),"hideDescription"in e&&n(2,h=e.hideDescription),"$$scope"in e&&n(24,l=e.$$scope)},e.$$.update=()=>{16392&e.$$.dirty&&n(4,r=d(v)),16&e.$$.dirty&&n(10,o=!r.length)},[c,u,h,v,r,g,i,y,b,w,o,s,async function(){n(7,y=p()),n(3,v=y),n(8,b=$()),n(9,w=!1),i&&(await ke(),i.focus(),i.setSelectionRange(0,i.value.length))},async function(){try{n(5,g=!0),await f(v,b),u.close()}catch($h){Cv.fromError($h)}finally{n(5,g=!1)}},d,p,$,f,a,()=>{u.close()},function(e){v=e,n(3,v)},function(e){i=e,n(6,i)},()=>{n(9,w=!0)},function(e){b=e,n(8,b)},l]}class lW extends at{constructor(e){super(),it(this,e,aW,iW,d,{saveButtonLabel:0,controller:1,getNameValidationErrors:14,getInitialName:15,getInitialDescription:16,save:17,hideDescription:2})}}function cW(e){let t,n;return t=new wz({props:{$$slots:{default:[uW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4100&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uW(e){let t,n=e[2]("name_your_schema_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("name_your_schema_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function dW(e){let t,n,r=!e[1]&&cW(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[1]?r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe()):r?(r.p(e,n),2&n&&je(r,1)):(r=cW(e),r.c(),je(r,1),r.m(t.parentNode,t))},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function pW(e){let t,n=e[2]("create_schema")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("create_schema")+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function $W(e){let t,n;return t=new Kg({props:{text:e[2]("rename_schema"),$$slots:{default:[hW,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.text=e[2]("rename_schema")),7168&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mW(e){let t,n;return t=new Ag({props:{$$slots:{default:[fW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5120&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fW(e){let t,n=e[10]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r&&n!==(n=e[10]+"")&&G(t,n)},d(e){e&&P(t)}}}function hW(e){let t,n,r="schemaName"===e[11]&&mW(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"schemaName"===e[11]?r?(r.p(e,n),2048&n&&je(r,1)):(r=mW(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function gW(e){let t,n,r,o;const s=[$W,pW],i=[];function a(e,t){return e[1]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("span"),r.c(),U(t,"slot","title")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function yW(e){let t,n;return t=new lW({props:{controller:e[0],save:e[4],getNameValidationErrors:e[3],getInitialName:e[6],getInitialDescription:e[7],saveButtonLabel:e[1]?e[2]("save"):e[2]("create_new_schema"),$$slots:{title:[gW,({initialName:e})=>({10:e}),({initialName:e})=>e?1024:0],helpText:[dW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),2&n&&(r.getInitialName=e[6]),2&n&&(r.getInitialDescription=e[7]),6&n&&(r.saveButtonLabel=e[1]?e[2]("save"):e[2]("create_new_schema")),5126&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vW(e,t,n){let r,o;m(e,Mg,(e=>n(2,r=e))),m(e,pM,(e=>n(8,o=e)));let{database:s}=t,{controller:i}=t,{schema:a}=t;return e.$$set=e=>{"database"in e&&n(5,s=e.database),"controller"in e&&n(0,i=e.controller),"schema"in e&&n(1,a=e.schema)},[i,a,r,function(e){return e.trim()?function(e){return(!a||e.trim()!==a.name)&&Array.from(o?.data||[]).some((([,t])=>t.name.toLowerCase().trim()===e.trim()))}(e)?[r("schema_name_already_exists")]:[]:[r("schema_name_cannot_be_empty")]},async function(e,t){try{a?await async function(e,t){const n=await eM.update(t);return iM(e,n),n}(s.id,{...a,name:e,description:t}):await async function(e,t,n){const r=await eM.add({name:t,description:n,connectionId:e});return iM(e,r),r}(s.id,e,t)}catch(n){Cv.fromError(n)}},s,()=>a?.name??"",()=>a?.description??""]}class bW extends at{constructor(e){super(),it(this,e,vW,yW,d,{database:5,controller:0,schema:1})}}function wW(e){let t,n;return t=new LM({props:{$$slots:{default:[SW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16416&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _W(e){let t,n,r=e[4]("loading")+"";return{c(){t=H("div"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){16&t&&r!==(r=e[4]("loading")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function xW(e){let t,n;return t=new RV({props:{accessControlObject:"database",usersWithAccess:e[6],usersWithoutAccess:e[7],addAccessForUser:e[9],removeAccessForUser:e[10],getUserRoles:e[11]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.usersWithAccess=e[6]),128&n&&(r.usersWithoutAccess=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SW(e){let t,n=e[5].errors.join(", ")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5].errors.join(", ")+"")&&G(t,n)},d(e){e&&P(t)}}}function CW(e){let t,n,r,o;const s=[xW,_W,wW],i=[];function a(e,t){return"success"===e[5]?.state?0:"processing"===e[5]?.state?1:"failure"===e[5]?.state?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function EW(e){let t,n;return t=new Ag({props:{$$slots:{default:[kW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16386&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kW(e){let t,n=e[1].nickname+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1].nickname+"")&&G(t,n)},d(e){e&&P(t)}}}function IW(e){let t,n,r="databaseName"===e[13]&&EW(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"databaseName"===e[13]?r?(r.p(e,n),8192&n&&je(r,1)):(r=EW(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function TW(e){let t,n;return t=new Kg({props:{text:e[4]("manage_database_access"),$$slots:{default:[IW,({slotName:e})=>({13:e}),({slotName:e})=>e?8192:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("manage_database_access")),24578&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function DW(e){let t,n;return t=new Sp({props:{controller:e[0],closeOn:["button","esc","overlay"],$$slots:{title:[TW],default:[CW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),16626&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function MW(e,t,n){let r,s,i,a,l,c,u=o,d=o;m(e,Mg,(e=>n(4,i=e))),e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));let{controller:$}=t,{database:f}=t;const h=ab(),{requestStatus:g}=h;return m(e,g,(e=>n(5,a=e))),e.$$set=e=>{"controller"in e&&n(0,$=e.controller),"database"in e&&n(1,f=e.database)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,r=h.getUsersWithoutAccessToDb(f)),d(),d=p(r,(e=>n(7,c=e)))),2&e.$$.dirty&&(n(2,s=h.getUsersWithAccessToDb(f)),u(),u=p(s,(e=>n(6,l=e))))},[$,f,s,r,i,a,l,c,g,async function(e,t){await h.addDatabaseRoleForUser(e.id,f,t)},async function(e){await h.removeDatabaseAccessForUser(e.id,f)},function(e){const t=e.getRoleForDb(f);return t?new Map([["database",t.role]]):void 0}]}class OW extends at{constructor(e){super(),it(this,e,MW,DW,d,{controller:0,database:1})}}function NW(e){let t,n,r,s,i,a,l,c,u=e[1]("count_tables",{values:{count:e[0].num_tables}})+"",d=e[1]("count_explorations",{values:{count:e[0].num_queries}})+"";return{c(){t=H("div"),n=H("p"),r=F(u),s=j(),i=H("span"),a=j(),l=H("p"),c=F(d),U(n,"class","constituent svelte-1ybc0rc"),U(i,"class","divider svelte-1ybc0rc"),U(l,"class","constituent svelte-1ybc0rc"),U(t,"class","container svelte-1ybc0rc")},m(e,o){L(e,t,o),O(t,n),O(n,r),O(t,s),O(t,i),O(t,a),O(t,l),O(l,c)},p(e,[t]){3&t&&u!==(u=e[1]("count_tables",{values:{count:e[0].num_tables}})+"")&&G(r,u),3&t&&d!==(d=e[1]("count_explorations",{values:{count:e[0].num_queries}})+"")&&G(c,d)},i:o,o:o,d(e){e&&P(t)}}}function AW(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{schema:o}=t;return e.$$set=e=>{"schema"in e&&n(0,o=e.schema)},[o,r]}class LW extends at{constructor(e){super(),it(this,e,AW,NW,d,{schema:0})}}function PW(e){let t,n,r;return n=new Qc({props:{showArrow:!1,triggerAppearance:"plain",preferredPlacement:"bottom-end",icon:my,menuStyle:"--spacing-y:0.8em;",$$slots:{default:[FW]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","menu-trigger svelte-e4tbvr")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};65664&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function RW(e){let t,n,r;const o=[cv];let s={};for(let a=0;a<o.length;a+=1)s=i(s,o[a]);return n=new Kr({props:s}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","lock svelte-e4tbvr")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r=0&t?et(o,[tt(cv)]):{};n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function HW(e){let t,n=e[7]("edit_schema")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("edit_schema")+"")&&G(t,n)},d(e){e&&P(t)}}}function zW(e){let t,n=e[7]("delete_schema")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("delete_schema")+"")&&G(t,n)},d(e){e&&P(t)}}}function FW(e){let t,n,r,o,s,i;return t=new y$({props:{icon:ay,$$slots:{default:[HW]},$$scope:{ctx:e}}}),t.$on("click",e[10]),r=new Jp({}),s=new y$({props:{danger:!0,icon:sy,$$slots:{default:[zW]},$$scope:{ctx:e}}}),s.$on("click",e[11]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,n){const r={};65664&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};65664&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function jW(e){let t,n,r,o=e[0].description+"";return{c(){t=H("p"),n=F(o),U(t,"class","description svelte-e4tbvr"),U(t,"title",r=e[0].description)},m(e,r){L(e,t,r),O(t,n)},p(e,s){1&s&&o!==(o=e[0].description+"")&&G(n,o),1&s&&r!==(r=e[0].description)&&U(t,"title",r)},d(e){e&&P(t)}}}function qW(e){let t,n;return t=new wz({props:{$$slots:{default:[VW]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65664&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function VW(e){let t,n=e[7]("public_schema_info")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("public_schema_info")+"")&&G(t,n)},d(e){e&&P(t)}}}function BW(e){let t,n,r,o,s,i,a,l,u,d,p,$,m,f,h,g,y;o=new VL({props:{schema:e[0],iconHasBox:!0}});const v=[RW,PW],b=[];function w(e,t){return e[4]?0:e[1]?1:-1}~(i=w(e))&&(a=b[i]=v[i](e));let _=e[0].description&&jW(e);d=new LW({props:{schema:e[0]}});let x=e[5]&&qW(e);return{c(){t=H("div"),n=H("div"),r=H("div"),rt(o.$$.fragment),s=j(),a&&a.c(),l=j(),_&&_.c(),u=j(),rt(d.$$.fragment),p=j(),x&&x.c(),$=j(),m=H("a"),U(r,"class","name svelte-e4tbvr"),U(n,"class","title-and-meta svelte-e4tbvr"),U(m,"href",e[6]),U(m,"class","hyperlink-overlay svelte-e4tbvr"),U(m,"aria-label",f=e[0].name),U(t,"class","schema-row svelte-e4tbvr"),te(t,"hover",e[2]),te(t,"focus",e[3]),te(t,"is-locked",e[4])},m(a,c){L(a,t,c),O(t,n),O(n,r),ot(o,r,null),O(n,s),~i&&b[i].m(n,null),O(t,l),_&&_.m(t,null),O(t,u),ot(d,t,null),O(t,p),x&&x.m(t,null),O(t,$),O(t,m),h=!0,g||(y=[V(m,"mouseenter",e[12]),V(m,"mouseleave",e[13]),V(m,"focusin",e[14]),V(m,"focusout",e[15])],g=!0)},p(e,[r]){const s={};1&r&&(s.schema=e[0]),o.$set(s);let l=i;i=w(e),i===l?~i&&b[i].p(e,r):(a&&(ze(),qe(b[l],1,1,(()=>{b[l]=null})),Fe()),~i?(a=b[i],a?a.p(e,r):(a=b[i]=v[i](e),a.c()),je(a,1),a.m(n,null)):a=null),e[0].description?_?_.p(e,r):(_=jW(e),_.c(),_.m(t,u)):_&&(_.d(1),_=null);const c={};1&r&&(c.schema=e[0]),d.$set(c),e[5]?x?(x.p(e,r),32&r&&je(x,1)):(x=qW(e),x.c(),je(x,1),x.m(t,$)):x&&(ze(),qe(x,1,1,(()=>{x=null})),Fe()),(!h||64&r)&&U(m,"href",e[6]),(!h||1&r&&f!==(f=e[0].name))&&U(m,"aria-label",f),(!h||4&r)&&te(t,"hover",e[2]),(!h||8&r)&&te(t,"focus",e[3]),(!h||16&r)&&te(t,"is-locked",e[4])},i(e){h||(je(o.$$.fragment,e),je(a),je(d.$$.fragment,e),je(x),h=!0)},o(e){qe(o.$$.fragment,e),qe(a),qe(d.$$.fragment,e),qe(x),h=!1},d(e){e&&P(t),st(o),~i&&b[i].d(),_&&_.d(),st(d),x&&x.d(),g=!1,c(y)}}}function WW(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(7,i=e)));const a=fe();let{database:l}=t,{schema:c}=t,{canExecuteDDL:u=!0}=t,d=!1,p=!1;return e.$$set=e=>{"database"in e&&n(9,l=e.database),"schema"in e&&n(0,c=e.schema),"canExecuteDDL"in e&&n(1,u=e.canExecuteDDL)},e.$$.update=()=>{513&e.$$.dirty&&n(6,r=Nb(l.id,c.id)),1&e.$$.dirty&&n(5,o="public"===c.name),1&e.$$.dirty&&n(4,s="public"===c.name)},[c,u,d,p,s,o,r,i,a,l,()=>a("edit"),()=>a("delete"),()=>{n(2,d=!0)},()=>{n(2,d=!1)},()=>{n(3,p=!0)},()=>{n(3,p=!1)}]}class UW extends at{constructor(e){super(),it(this,e,WW,BW,d,{database:9,schema:0,canExecuteDDL:1})}}function YW(e,t,n){const r=e.slice();return r[2]=t[n],r}function KW(e,t){let n,r,o,s;return r=new Bl({props:{loading:!0}}),{key:e,first:null,c(){n=H("div"),rt(r.$$.fragment),o=j(),U(n,"class","schema-skeleton svelte-188e21j"),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,t){},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function GW(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[2];for(let a=0;a<s.length;a+=1){let t=YW(e,s,a),n=i(t);o.set(n,r[a]=KW(n))}return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","schema-skeleton-container svelte-188e21j")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){1&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,KW,null,YW),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function XW(e,t,n){let r,{numTables:o=4}=t;return e.$$set=e=>{"numTables"in e&&n(1,o=e.numTables)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=Array.from({length:o},((e,t)=>t)))},[r,o]}class ZW extends at{constructor(e){super(),it(this,e,XW,GW,d,{numTables:1})}}function JW(e,t,n){const r=e.slice();return r[33]=t[n],r}function QW(e,t,n){const r=e.slice();return r[30]=t[n],r}function eU(e){let t,n,r,o,s=e[7]&&tU(e);return r=new Qc({props:{showArrow:!1,triggerAppearance:"plain",label:"",closeOnInnerClick:!1,icon:my,preferredPlacement:"bottom-end",menuStyle:"--spacing-y:0.8em;",$$slots:{default:[lU]},$$scope:{ctx:e}}}),{c(){t=H("div"),s&&s.c(),n=j(),rt(r.$$.fragment)},m(e,i){L(e,t,i),s&&s.m(t,null),O(t,n),ot(r,t,null),o=!0},p(e,o){e[7]?s?(s.p(e,o),128&o[0]&&je(s,1)):(s=tU(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe());const i={};1064&o[0]|64&o[1]&&(i.$$scope={dirty:o,ctx:e}),r.$set(i)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){qe(s),qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),s&&s.d(),st(r)}}}function tU(e){let t,n;return t=new Hn({props:{appearance:"secondary",$$slots:{default:[nU]},$$scope:{ctx:e}}}),t.$on("click",e[19]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nU(e){let t,n,r,o,s,a=e[10]("manage_access")+"";const l=[gy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(gy)]):{};t.$set(r),(!s||1024&n[0])&&a!==(a=e[10]("manage_access")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function rU(e){let t,n,r,o,s,i=e[10]("sync_external_changes_structure_help")+"",a=e[10]("sync_external_changes_data_help")+"";return{c(){t=H("p"),n=F(i),r=j(),o=H("p"),s=F(a)},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),O(o,s)},p(e,t){1024&t[0]&&i!==(i=e[10]("sync_external_changes_structure_help")+"")&&G(n,i),1024&t[0]&&a!==(a=e[10]("sync_external_changes_data_help")+"")&&G(s,a)},d(e){e&&P(t),e&&P(r),e&&P(o)}}}function oU(e){let t,n,r,o,s,i=e[10]("sync_external_changes")+"";return o=new Ni({props:{$$slots:{default:[rU]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=F(i),r=j(),rt(o.$$.fragment),U(t,"class","reflect")},m(e,i){L(e,t,i),O(t,n),O(t,r),ot(o,t,null),s=!0},p(e,t){(!s||1024&t[0])&&i!==(i=e[10]("sync_external_changes")+"")&&G(n,i);const r={};1024&t[0]|64&t[1]&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(o)}}}function sU(e){let t,n,r,o;return t=new y$({props:{icon:ay,$$slots:{default:[iU]},$$scope:{ctx:e}}}),t.$on("click",e[24]),r=new y$({props:{icon:sy,danger:!0,$$slots:{default:[aU]},$$scope:{ctx:e}}}),r.$on("click",e[25]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};1024&n[0]|64&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};1024&n[0]|64&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function iU(e){let t,n=e[10]("edit_connection")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r[0]&&n!==(n=e[10]("edit_connection")+"")&&G(t,n)},d(e){e&&P(t)}}}function aU(e){let t,n=e[10]("delete_connection")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r[0]&&n!==(n=e[10]("delete_connection")+"")&&G(t,n)},d(e){e&&P(t)}}}function lU(e){let t,n,r,o;t=new y$({props:{icon:{...by,spin:e[5]},disabled:e[5],$$slots:{default:[oU]},$$scope:{ctx:e}}}),t.$on("click",e[21]);let s=e[3]?.isSuperUser&&sU(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};32&n[0]&&(o.icon={...by,spin:e[5]}),32&n[0]&&(o.disabled=e[5]),1024&n[0]|64&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[3]?.isSuperUser?s?(s.p(e,n),8&n[0]&&je(s,1)):(s=sU(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function cU(e){let t,n,r=(e[8]||e[7])&&eU(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[8]||e[7]?r?(r.p(e,n),384&n[0]&&je(r,1)):(r=eU(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function uU(e){let t,n;return t=new Hn({props:{appearance:"primary",$$slots:{default:[dU]},$$scope:{ctx:e}}}),t.$on("click",e[16]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dU(e){let t,n,r,o,s,a=e[10]("create_schema")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||1024&n[0])&&a!==(a=e[10]("create_schema")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function pU(e){let t,n,r=e[8]&&uU(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[8]?r?(r.p(e,n),256&n[0]&&je(r,1)):(r=uU(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function $U(e){let t,n;return{c(){t=H("strong"),n=F(e[1])},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t[0]&&G(n,e[1])},d(e){e&&P(t)}}}function mU(e){let t,n="searchValue"===e[36]&&$U(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[36]?n?n.p(e,r):(n=$U(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function fU(e){let t,n,r;return n=new Kg({props:{text:e[10]("schemas_matching_search",{values:{count:e[6].length}}),$$slots:{default:[mU,({slotName:e})=>({36:e}),({slotName:e})=>[0,e?32:0]]},$$scope:{ctx:e}}}),{c(){t=H("p"),rt(n.$$.fragment),U(t,"slot","resultInfo")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1088&t[0]&&(r.text=e[10]("schemas_matching_search",{values:{count:e[6].length}})),2&t[0]|96&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function hU(e){let t,n;return t=new LM({props:{fullWidth:!0,$$slots:{default:[bU]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gU(e){let t,n;return t=new ZW({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yU(e){let t,n,r=[],o=new Map,s=e[6];const i=e=>e[30].id;for(let a=0;a<s.length;a+=1){let t=QW(e,s,a),n=i(t);o.set(n,r[a]=wU(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){393289&n[0]&&(s=e[6],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,wU,t,QW),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function vU(e,t){let n,r,o=t[33]+"";return{key:e,first:null,c(){n=H("p"),r=F(o),this.first=n},m(e,t){L(e,n,t),O(n,r)},p(e,n){t=e,512&n[0]&&o!==(o=t[33]+"")&&G(r,o)},d(e){e&&P(n)}}}function bU(e){let t,n=[],r=new Map,o=e[9].errors;const s=e=>e[33];for(let i=0;i<o.length;i+=1){let t=JW(e,o,i),a=s(t);r.set(a,n[i]=vU(a,t))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=q()},m(e,r){for(let t=0;t<n.length;t+=1)n[t].m(e,r);L(e,t,r)},p(e,i){512&i[0]&&(o=e[9].errors,n=Qe(n,i,s,1,e,o,r,t.parentNode,Xe,vU,t,JW))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&P(t)}}}function wU(e,t){let n,r,o,s;return r=new UW({props:{database:t[0],schema:t[30],canExecuteDDL:t[3]?.hasPermission({database:t[0],schema:t[30]},"canExecuteDDL")}}),r.$on("edit",(function(){return t[26](t[30])})),r.$on("delete",(function(){return t[27](t[30])})),{key:e,first:null,c(){n=H("li"),rt(r.$$.fragment),o=j(),U(n,"class","schema-list-item svelte-ujdzkl"),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,n){t=e;const o={};1&n[0]&&(o.database=t[0]),64&n[0]&&(o.schema=t[30]),73&n[0]&&(o.canExecuteDDL=t[3]?.hasPermission({database:t[0],schema:t[30]},"canExecuteDDL")),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function _U(e){let t,n,r,o;const s=[yU,gU,hU],i=[];function a(e,t){return"success"===e[9].state?0:"processing"===e[9].state?1:"failure"===e[9].state?2:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=H("ul"),r&&r.c(),U(t,"class","schema-list svelte-ujdzkl"),U(t,"slot","content")},m(e,r){L(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),~n&&i[n].d()}}}function xU(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w,_=e[10]("schemas")+"",x=e[2].size+"";function S(t){e[28](t)}t=new hj({props:{pageTitleAndMetaProps:{name:e[0].nickname,type:"database",icon:zy},$$slots:{action:[cU]},$$scope:{ctx:e}}});let C={searchPlaceholder:e[10]("search_schemas"),$$slots:{content:[_U],resultInfo:[fU],action:[pU]},$$scope:{ctx:e}};return void 0!==e[1]&&(C.searchQuery=e[1]),d=new IF({props:C}),we.push((()=>nt(d,"searchQuery",S))),d.$on("clear",e[20]),m=new bW({props:{controller:e[11],database:e[0],schema:e[4]}}),h=new OW({props:{controller:e[12],database:e[0]}}),y=new Hz({props:{controller:e[13],connection:e[0]}}),b=new nF({props:{controller:e[14],connection:e[0]}}),b.$on("delete",e[29]),{c(){rt(t.$$.fragment),n=j(),r=H("div"),o=H("div"),s=H("h2"),i=F(_),a=F(" ("),l=F(x),c=F(")"),u=j(),rt(d.$$.fragment),$=j(),rt(m.$$.fragment),f=j(),rt(h.$$.fragment),g=j(),rt(y.$$.fragment),v=j(),rt(b.$$.fragment),U(s,"class","schema-list-title svelte-ujdzkl"),U(o,"class","schema-list-title-container svelte-ujdzkl"),U(r,"class","schema-list-wrapper svelte-ujdzkl")},m(e,p){ot(t,e,p),L(e,n,p),L(e,r,p),O(r,o),O(o,s),O(s,i),O(s,a),O(s,l),O(s,c),O(r,u),ot(d,r,null),L(e,$,p),ot(m,e,p),L(e,f,p),ot(h,e,p),L(e,g,p),ot(y,e,p),L(e,v,p),ot(b,e,p),w=!0},p(e,n){const r={};1&n[0]&&(r.pageTitleAndMetaProps={name:e[0].nickname,type:"database",icon:zy}),1448&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r),(!w||1024&n[0])&&_!==(_=e[10]("schemas")+"")&&G(i,_),(!w||4&n[0])&&x!==(x=e[2].size+"")&&G(l,x);const o={};1024&n[0]&&(o.searchPlaceholder=e[10]("search_schemas")),1867&n[0]|64&n[1]&&(o.$$scope={dirty:n,ctx:e}),!p&&2&n[0]&&(p=!0,o.searchQuery=e[1],Te((()=>p=!1))),d.$set(o);const s={};1&n[0]&&(s.database=e[0]),16&n[0]&&(s.schema=e[4]),m.$set(s);const a={};1&n[0]&&(a.database=e[0]),h.$set(a);const c={};1&n[0]&&(c.connection=e[0]),y.$set(c);const u={};1&n[0]&&(u.connection=e[0]),b.$set(u)},i(e){w||(je(t.$$.fragment,e),je(d.$$.fragment,e),je(m.$$.fragment,e),je(h.$$.fragment,e),je(y.$$.fragment,e),je(b.$$.fragment,e),w=!0)},o(e){qe(t.$$.fragment,e),qe(d.$$.fragment,e),qe(m.$$.fragment,e),qe(h.$$.fragment,e),qe(y.$$.fragment,e),qe(b.$$.fragment,e),w=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(d),e&&P($),st(m,e),e&&P(f),st(h,e),e&&P(g),st(y,e),e&&P(v),st(b,e)}}}function SU(e,t,n){let r,o,s,i,a,l,c,u,d;m(e,Mg,(e=>n(10,c=e))),m(e,pM,(e=>n(22,u=e)));const p=Sv.spawnModalController(),$=Sv.spawnModalController(),f=Sv.spawnModalController(),h=Sv.spawnModalController(),g=cb();m(e,g,(e=>n(23,d=e)));let y,{database:v}=t,b="",w=!1;function _(e){n(4,y=e),p.open()}function x(e){Tv({identifierType:c("schema"),identifierName:e.name,body:[c("schema_delete_warning"),c("are_you_sure_to_proceed")],onProceed:async()=>{var t;await dM(v.id,e.id),t=e.id,OO.delete(t)}})}return e.$$set=e=>{"database"in e&&n(0,v=e.database)},e.$$.update=()=>{8388608&e.$$.dirty[0]&&n(3,r=d),4194304&e.$$.dirty[0]&&n(2,o=u.data),4194304&e.$$.dirty[0]&&n(9,s=u.requestStatus),9&e.$$.dirty[0]&&n(8,i=r?.hasPermission({database:v},"canExecuteDDL")),9&e.$$.dirty[0]&&n(7,a=r?.hasPermission({database:v},"canEditPermissions")),6&e.$$.dirty[0]&&n(6,l=function(e,t){const n=[];return e.forEach((e=>{e.name?.toLowerCase().includes(t.toLowerCase())&&n.push(e)})),n}(o,b))},[v,b,o,r,y,w,l,a,i,s,c,p,$,f,h,g,function(){n(4,y=void 0),p.open()},_,x,function(){$.open()},function(){n(1,b="")},async function(){try{n(5,w=!0),await KB.reflect(),window.location.reload()}catch(e){Cv.fromError(e)}finally{n(5,w=!1)}},u,d,()=>f.open(),()=>h.open(),e=>_(e),e=>x(e),function(e){b=e,n(1,b)},()=>qN.goto(Gb)]}class CU extends at{constructor(e){super(),it(this,e,SU,xU,d,{database:0},null,[-1,-1])}}function EU(e){let t,n;return t=new CU({props:{database:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kU(e){let t,n,r=e[0].id,s=EU(e);return{c(){s.c(),t=q()},m(e,r){s.m(e,r),L(e,t,r),n=!0},p(e,n){1&n&&d(r,r=e[0].id)?(ze(),qe(s,1,1,o),Fe(),s=EU(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function IU(e){let t,n,r,o;return document.title=t=TF(e[0].nickname),r=new mH({props:{restrictWidth:!0,cssVariables:{"--layout-background-color":"var(--sand-100)","--max-layout-width":"var(--max-layout-width-console-pages)","--AppSecondaryHeader__padding":"var(--size-x-large) 0"},$$slots:{default:[kU]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=TF(e[0].nickname))&&(document.title=t);const s={};3&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function TU(e,t,n){let{database:r}=t;return e.$$set=e=>{"database"in e&&n(0,r=e.database)},[r]}class DU extends at{constructor(e){super(),it(this,e,TU,IU,d,{database:0})}}const MU=e=>({}),OU=e=>({});function NU(e){let t,n;const r=e[3].action,o=f(r,e,e[2],OU);return{c(){t=H("div"),o&&o.c(),U(t,"class","action-container svelte-1fewhnt")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&y(o,r,e,e[2],n?g(r,e[2],t,MU):v(e[2]),OU)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function AU(e){let t,n,r,o,s,i=e[1].action&&NU(e);return{c(){t=H("div"),n=H("span"),r=F(e[0]),o=j(),i&&i.c(),U(n,"class","title svelte-1fewhnt"),U(t,"class","container svelte-1fewhnt")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),i&&i.m(t,null),s=!0},p(e,[n]){(!s||1&n)&&G(r,e[0]),e[1].action?i?(i.p(e,n),2&n&&je(i,1)):(i=NU(e),i.c(),je(i,1),i.m(t,null)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){s||(je(i),s=!0)},o(e){qe(i),s=!1},d(e){e&&P(t),i&&i.d()}}}function LU(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r);let{title:i}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"$$scope"in e&&n(2,o=e.$$scope)},[i,s,o,r]}class PU extends at{constructor(e){super(),it(this,e,LU,AU,d,{title:0})}}function RU(e){let t,n,r,o,s;const a=[e[0]];let l={};for(let d=0;d<a.length;d+=1)l=i(l,a[d]);r=new Kr({props:l});const c=e[2].default,u=f(c,e,e[1],null);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),u&&u.c(),U(n,"class","empty-entity svelte-99ol3q"),U(t,"class","container svelte-99ol3q")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),u&&u.m(n,null),s=!0},p(e,[t]){const n=1&t?et(a,[tt(e[0])]):{};r.$set(n),u&&u.p&&(!s||2&t)&&y(u,c,e,e[1],s?g(c,e[1],t,null):v(e[1]),null)},i(e){s||(je(r.$$.fragment,e),je(u,e),s=!0)},o(e){qe(r.$$.fragment,e),qe(u,e),s=!1},d(e){e&&P(t),st(r),u&&u.d(e)}}}function HU(e,t,n){let{$$slots:r={},$$scope:o}=t,{icon:s}=t;return e.$$set=e=>{"icon"in e&&n(0,s=e.icon),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class zU extends at{constructor(e){super(),it(this,e,HU,RU,d,{icon:0})}}function FU(e){let t,n,r;return n=new gw({props:{table:{name:e[4]("select_table")}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","placeholder svelte-jwojwi")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.table={name:e[4]("select_table")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function jU(e){let t,n;return t=new gw({props:{table:e[8]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.table=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qU(e){let t,n,r,o;const s=[jU,FU],i=[];function a(e,t){return e[8]?0:e[1]?-1:1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function VU(e){let t,n,r;function o(t){e[6](t)}let s={options:e[3],valuesAreEqual:BU,autoSelect:e[2],$$slots:{default:[qU,({option:e})=>({8:e}),({option:e})=>e?256:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[7]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};8&r&&(o.options=e[3]),4&r&&(o.autoSelect=e[2]),786&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}const BU=(e,t)=>e?.id===t?.id;function WU(e,t,n){let r,o;m(e,Mg,(e=>n(4,o=e)));let{tables:s}=t,{value:i}=t,{prependBlank:a=!1}=t,{autoSelect:l="first"}=t;return e.$$set=e=>{"tables"in e&&n(5,s=e.tables),"value"in e&&n(0,i=e.value),"prependBlank"in e&&n(1,a=e.prependBlank),"autoSelect"in e&&n(2,l=e.autoSelect)},e.$$.update=()=>{34&e.$$.dirty&&n(3,r=a?[void 0,...s]:s)},[i,a,l,r,o,s,function(e){i=e,n(0,i)},function(t){ve.call(this,e,t)}]}class UU extends at{constructor(e){super(),it(this,e,WU,VU,d,{tables:5,value:0,prependBlank:1,autoSelect:2})}}function YU(e){let t,n,r;function o(t){e[5](t)}let s={tables:e[3],prependBlank:e[1],autoSelect:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new UU({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};8&r&&(o.tables=e[3]),2&r&&(o.prependBlank=e[1]),4&r&&(o.autoSelect=e[2]),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function KU(e,t,n){let r,o;m(e,YO,(e=>n(4,o=e)));let{value:s}=t,{prependBlank:i=!1}=t,{autoSelect:a="first"}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"prependBlank"in e&&n(1,i=e.prependBlank),"autoSelect"in e&&n(2,a=e.autoSelect)},e.$$.update=()=>{16&e.$$.dirty&&n(3,r=[...o.values()])},[s,i,a,r,o,function(e){s=e,n(0,s)},function(t){ve.call(this,e,t)}]}class GU extends at{constructor(e){super(),it(this,e,KU,YU,d,{value:0,prependBlank:1,autoSelect:2})}}function XU(e){let t,n;const r=[kr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(kr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ZU(e){let t,n;const r=[Ir];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Ir)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JU(e){let t,n;const r=[Dr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Dr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function QU(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eY(e){let t,n,r,o,s,i,a,l,c,u=(e[1][e[0]]??"")+"";const d=[QU,JU,ZU,XU],p=[];function $(e,t){return"processing"===e[0]?0:"success"===e[0]?1:"failure"===e[0]?2:3}return r=$(e),o=p[r]=d[r](e),{c(){t=H("span"),n=H("span"),o.c(),s=j(),i=H("span"),a=F(u),U(n,"class","icon svelte-yh5co2"),U(t,"class",l="status-indicator "+e[0]+" "+e[2]+" svelte-yh5co2")},m(e,o){L(e,t,o),O(t,n),p[r].m(n,null),O(t,s),O(t,i),O(i,a),c=!0},p(e,[s]){let i=r;r=$(e),r===i?p[r].p(e,s):(ze(),qe(p[i],1,1,(()=>{p[i]=null})),Fe(),o=p[r],o?o.p(e,s):(o=p[r]=d[r](e),o.c()),je(o,1),o.m(n,null)),(!c||3&s)&&u!==(u=(e[1][e[0]]??"")+"")&&G(a,u),(!c||5&s&&l!==(l="status-indicator "+e[0]+" "+e[2]+" svelte-yh5co2"))&&U(t,"class",l)},i(e){c||(je(o),c=!0)},o(e){qe(o),c=!1},d(e){e&&P(t),p[r].d()}}}function tY(e,t,n){let{state:r}=t,{messages:o}=t,{class:s=""}=t;return e.$$set=e=>{"state"in e&&n(0,r=e.state),"messages"in e&&n(1,o=e.messages),"class"in e&&n(2,s=e.class)},[r,o,s]}class nY extends at{constructor(e){super(),it(this,e,tY,eY,d,{state:0,messages:1,class:2})}}function rY(e){let t,n,r,o;return n=new nY({props:{state:e[1],messages:{processing:e[2]("saving_changes"),failure:e[2]("unable_to_save_changes"),warning:e[2]("unsaved_changes"),success:e[2]("all_changes_saved")}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","modification-status-indicator svelte-jrwjrw")},m(e,r){L(e,t,r),ot(n,t,null),o=!0},p(t,r){e=t;const o={};2&r&&(o.state=e[1]),4&r&&(o.messages={processing:e[2]("saving_changes"),failure:e[2]("unable_to_save_changes"),warning:e[2]("unsaved_changes"),success:e[2]("all_changes_saved")}),n.$set(o)},i(e){o||(je(n.$$.fragment,e),r&&r.end(1),o=!0)},o(s){qe(n.$$.fragment,s),s&&(r=We(t,zl,{duration:e[0]})),o=!1},d(e){e&&P(t),st(n),e&&r&&r.end()}}}function oY(e){let t,n,r=e[1]&&rY(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=rY(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function sY(e,t,n){let r,o;m(e,Mg,(e=>n(2,o=e)));let s,i,{requestState:a}=t,{hasChanges:l=!1}=t,c=0;function u(){n(0,c=1e3),n(5,s=void 0)}return me((()=>{window.clearTimeout(i)})),e.$$set=e=>{"requestState"in e&&n(3,a=e.requestState),"hasChanges"in e&&n(4,l=e.hasChanges)},e.$$.update=()=>{var t;8&e.$$.dirty&&(t=a,window.clearTimeout(i),i=void 0,n(0,c=0),n(5,s=t),"success"===s&&(i=window.setTimeout(u,5e3))),16&e.$$.dirty&&(l||"failure"!==s||n(5,s=void 0)),48&e.$$.dirty&&n(1,r="processing"===s?"processing":l&&"failure"===s?"failure":l?"warning":"success"===s?"success":void 0)},[c,r,o,a,l,s]}class iY extends at{constructor(e){super(),it(this,e,sY,oY,d,{requestState:3,hasChanges:4})}}const aY=e=>({}),lY=e=>({});function cY(e){let t,n,r,o,s,a,l,c,u;const d=[e[0].icon,{class:"block"}];let p={};for(let m=0;m<d.length;m+=1)p=i(p,d[m]);r=new Kr({props:p}),l=new nc({props:{$$slots:{default:[uY]},$$scope:{ctx:e}}});let $=e[0].description&&dY(e);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("div"),a=H("h1"),rt(l.$$.fragment),c=j(),$&&$.c(),U(n,"class","icon svelte-1txyryq"),U(a,"class","name svelte-1txyryq"),U(s,"class","text svelte-1txyryq"),U(t,"class","heading svelte-1txyryq")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(t,o),O(t,s),O(s,a),ot(l,a,null),O(s,c),$&&$.m(s,null),u=!0},p(e,t){const n=1&t?et(d,[tt(e[0].icon),d[1]]):{};r.$set(n);const o={};9&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o),e[0].description?$?($.p(e,t),1&t&&je($,1)):($=dY(e),$.c(),je($,1),$.m(s,null)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe())},i(e){u||(je(r.$$.fragment,e),je(l.$$.fragment,e),je($),u=!0)},o(e){qe(r.$$.fragment,e),qe(l.$$.fragment,e),qe($),u=!1},d(e){e&&P(t),st(r),st(l),$&&$.d()}}}function uY(e){let t,n=e[0].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].name+"")&&G(t,n)},d(e){e&&P(t)}}}function dY(e){let t,n,r;return n=new nc({props:{$$slots:{default:[pY]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","description svelte-1txyryq")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function pY(e){let t,n=e[0].description+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0].description+"")&&G(t,n)},d(e){e&&P(t)}}}function $Y(e){let t,n;const r=e[2].default,o=f(r,e,e[3],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","actions-left svelte-1txyryq")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||8&t)&&y(o,r,e,e[3],n?g(r,e[3],t,null):v(e[3]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function mY(e){let t,n;const r=e[2]["actions-right"],o=f(r,e,e[3],lY);return{c(){t=H("div"),o&&o.c(),U(t,"class","actions-right svelte-1txyryq")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||8&t)&&y(o,r,e,e[3],n?g(r,e[3],t,aY):v(e[3]),lY)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function fY(e){let t,n,r,o,s,i=e[0]&&cY(e),a=e[1].default&&$Y(e),l=e[1]["actions-right"]&&mY(e);return{c(){t=H("div"),i&&i.c(),n=j(),r=H("div"),a&&a.c(),o=j(),l&&l.c(),U(r,"class","actions svelte-1txyryq"),te(r,"has-right-actions",e[1]["actions-right"]),U(t,"class","entity-page-header svelte-1txyryq")},m(e,c){L(e,t,c),i&&i.m(t,null),O(t,n),O(t,r),a&&a.m(r,null),O(r,o),l&&l.m(r,null),s=!0},p(e,[c]){e[0]?i?(i.p(e,c),1&c&&je(i,1)):(i=cY(e),i.c(),je(i,1),i.m(t,n)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[1].default?a?(a.p(e,c),2&c&&je(a,1)):(a=$Y(e),a.c(),je(a,1),a.m(r,o)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),e[1]["actions-right"]?l?(l.p(e,c),2&c&&je(l,1)):(l=mY(e),l.c(),je(l,1),l.m(r,null)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()),(!s||2&c)&&te(r,"has-right-actions",e[1]["actions-right"])},i(e){s||(je(i),je(a),je(l),s=!0)},o(e){qe(i),qe(a),qe(l),s=!1},d(e){e&&P(t),i&&i.d(),a&&a.d(),l&&l.d()}}}function hY(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r);let{title:i}=t;return e.$$set=e=>{"title"in e&&n(0,i=e.title),"$$scope"in e&&n(3,o=e.$$scope)},[i,s,r,o]}class gY extends at{constructor(e){super(),it(this,e,hY,fY,d,{title:0})}}function yY(e){let t,n;return t=new GU({props:{autoSelect:"none",value:e[8]}}),t.$on("change",e[26]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.value=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vY(e){let t,n;return t=new gw({props:{table:e[8]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n[0]&&(r.table=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bY(e){let t,n=e[12]("base_table_exploration_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4096&r[0]&&n!==(n=e[12]("base_table_exploration_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function wY(e){let t,n;return t=new Hn({props:{appearance:"secondary",$$slots:{default:[_Y]},$$scope:{ctx:e}}}),t.$on("click",e[27]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _Y(e){let t,n=e[12]("start_over")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4096&r[0]&&n!==(n=e[12]("start_over")+"")&&G(t,n)},d(e){e&&P(t)}}}function xY(e){let t,n;return t=new iY({props:{requestState:e[4].saveState?.state,hasChanges:e[13]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.requestState=e[4].saveState?.state),8192&n[0]&&(r.hasChanges=e[13]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SY(e){let t,n,r,o,s,i,a,l,c,u,d,p,$=(e[7]?e[12]("based_on"):e[12]("exploring_from"))+"";const m=[vY,yY],f=[];function h(e,t){return e[8]?0:1}i=h(e),a=f[i]=m[i](e),c=new Ni({props:{$$slots:{default:[bY]},$$scope:{ctx:e}}});let g=!e[7]&&e[8]&&wY(e),y=e[7]&&xY(e);return{c(){t=H("div"),n=H("div"),r=F($),o=j(),s=H("div"),a.c(),l=j(),rt(c.$$.fragment),u=j(),g&&g.c(),d=j(),y&&y.c(),U(n,"class","detail svelte-15jmytk"),U(s,"class","base-table-holder svelte-15jmytk"),te(s,"table-selected",e[8]),U(t,"class","detail-wrapper svelte-15jmytk")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),O(t,s),f[i].m(s,null),O(s,l),ot(c,s,null),O(t,u),g&&g.m(t,null),O(t,d),y&&y.m(t,null),p=!0},p(e,n){(!p||4224&n[0])&&$!==($=(e[7]?e[12]("based_on"):e[12]("exploring_from"))+"")&&G(r,$);let o=i;i=h(e),i===o?f[i].p(e,n):(ze(),qe(f[o],1,1,(()=>{f[o]=null})),Fe(),a=f[i],a?a.p(e,n):(a=f[i]=m[i](e),a.c()),je(a,1),a.m(s,l));const u={};4096&n[0]|2&n[1]&&(u.$$scope={dirty:n,ctx:e}),c.$set(u),(!p||256&n[0])&&te(s,"table-selected",e[8]),!e[7]&&e[8]?g?(g.p(e,n),384&n[0]&&je(g,1)):(g=wY(e),g.c(),je(g,1),g.m(t,d)):g&&(ze(),qe(g,1,1,(()=>{g=null})),Fe()),e[7]?y?(y.p(e,n),128&n[0]&&je(y,1)):(y=xY(e),y.c(),je(y,1),y.m(t,null)):y&&(ze(),qe(y,1,1,(()=>{y=null})),Fe())},i(e){p||(je(a),je(c.$$.fragment,e),je(g),je(y),p=!0)},o(e){qe(a),qe(c.$$.fragment,e),qe(g),qe(y),p=!1},d(e){e&&P(t),f[i].d(),st(c),g&&g.d(),y&&y.d()}}}function CY(e){let t,n,r,o,s,i=e[2]&&EY(e);return n=new Pi({props:{$$slots:{default:[AY]},$$scope:{ctx:e}}}),o=new Hn({props:{appearance:"secondary",disabled:e[6],$$slots:{default:[LY]},$$scope:{ctx:e}}}),o.$on("click",e[25]),{c(){i&&i.c(),t=j(),rt(n.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,a){i&&i.m(e,a),L(e,t,a),ot(n,e,a),L(e,r,a),ot(o,e,a),s=!0},p(e,r){e[2]?i?(i.p(e,r),4&r[0]&&je(i,1)):(i=EY(e),i.c(),je(i,1),i.m(t.parentNode,t)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe());const s={};4114&r[0]|2&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};64&r[0]&&(a.disabled=e[6]),4096&r[0]|2&r[1]&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(e){s||(je(i),je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(i),qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){i&&i.d(e),e&&P(t),st(n,e),e&&P(r),st(o,e)}}}function EY(e){let t,n;return t=new Pi({props:{$$slots:{default:[MY]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4328&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kY(e){let t,n;return t=new Qc({props:{triggerAppearance:"primary",placements:["bottom-end"],closeOnInnerClick:!0,icon:{...gr,size:"0.8em"},showArrow:!1,$$slots:{default:[DY]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IY(e){let t,n=e[12]("save")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4096&r[0]&&n!==(n=e[12]("save")+"")&&G(t,n)},d(e){e&&P(t)}}}function TY(e){let t,n=e[12]("save_and_close")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4096&r[0]&&n!==(n=e[12]("save_and_close")+"")&&G(t,n)},d(e){e&&P(t)}}}function DY(e){let t,n,r,o;return t=new y$({props:{$$slots:{default:[IY]},$$scope:{ctx:e}}}),t.$on("click",e[17]),r=new y$({props:{$$slots:{default:[TY]},$$scope:{ctx:e}}}),r.$on("click",e[18]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};4096&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};4096&n[0]|2&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function MY(e){let t,n,r,o;t=new to({props:{label:"processing"===e[5]?e[12]("saving"):e[12]("save"),disabled:!e[3].base_table||e[6]||"processing"===e[5],onClick:e[20]}});let s=e[7]&&kY(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};4128&n[0]&&(o.label="processing"===e[5]?e[12]("saving"):e[12]("save")),104&n[0]&&(o.disabled=!e[3].base_table||e[6]||"processing"===e[5]),t.$set(o),e[7]?s?(s.p(e,n),128&n[0]&&je(s,1)):(s=kY(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function OY(e){let t,n,r,o,s,a=e[12]("undo")+"";const l=[ky,{size:"0.8rem"}];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ky),l[1]]):{};t.$set(r),(!s||4096&n[0])&&a!==(a=e[12]("undo")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function NY(e){let t,n,r,o,s,a=e[12]("redo")+"";const l=[vy,{size:"0.8rem"}];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(vy),l[1]]):{};t.$set(r),(!s||4096&n[0])&&a!==(a=e[12]("redo")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function AY(e){let t,n,r,o;return t=new Hn({props:{appearance:"secondary",disabled:!e[4].isUndoPossible,$$slots:{default:[OY]},$$scope:{ctx:e}}}),t.$on("click",e[23]),r=new Hn({props:{appearance:"secondary",disabled:!e[4].isRedoPossible,$$slots:{default:[NY]},$$scope:{ctx:e}}}),r.$on("click",e[24]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};16&n[0]&&(o.disabled=!e[4].isUndoPossible),4096&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};16&n[0]&&(s.disabled=!e[4].isRedoPossible),4096&n[0]|2&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function LY(e){let t,n,r,o,s,a=e[12]("inspector")+"";const l=[Jy,{size:"0.8rem"}];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(Jy),l[1]]):{};t.$set(r),(!s||4096&n[0])&&a!==(a=e[12]("inspector")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function PY(e){let t,n,r=e[8]&&CY(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[8]?r?(r.p(e,n),256&n[0]&&je(r,1)):(r=CY(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function RY(e){let t,n,r=e[12]("save_exploration")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","title")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4096&t[0]&&r!==(r=e[12]("save_exploration")+"")&&G(n,r)},d(e){e&&P(t)}}}function HY(e){let t,n,r,o,s;return n=new gY({props:{title:e[7]?{name:e[3].name??"",description:e[3].description,icon:Fy}:void 0,$$slots:{"actions-right":[PY],default:[SY]},$$scope:{ctx:e}}}),o=new lW({props:{controller:e[14],save:e[19],getNameValidationErrors:e[16],getInitialName:e[28],getInitialDescription:e[29],$$slots:{title:[RY]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","actions-pane")},m(e,i){L(e,t,i),ot(n,t,null),L(e,r,i),ot(o,e,i),s=!0},p(e,t){const r={};136&t[0]&&(r.title=e[7]?{name:e[3].name??"",description:e[3].description,icon:Fy}:void 0),12799&t[0]|2&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};8&t[0]&&(s.getInitialName=e[28]),8&t[0]&&(s.getInitialDescription=e[29]),4096&t[0]|2&t[1]&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),e&&P(r),st(o,e)}}}function zY(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v=o,b=o,w=o;m(e,Mg,(e=>n(12,$=e))),m(e,qP,(e=>n(30,f=e))),m(e,UO,(e=>n(22,g=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));const _=fe(),x=Sv.spawnModalController();let{queryManager:S}=t,{linkCollapsibleOpenState:C={}}=t,{isInspectorOpen:E}=t,{canEditMetadata:k}=t;function I(e){S.update((t=>t.withBaseTable(e?e.id:void 0))),S.clearSelection(),n(21,C={})}async function T(){try{return await S.save(),{success:!0}}catch(e){return Cv.fromError(e),{success:!1}}}return e.$$set=e=>{"queryManager"in e&&n(1,S=e.queryManager),"linkCollapsibleOpenState"in e&&n(21,C=e.linkCollapsibleOpenState),"isInspectorOpen"in e&&n(0,E=e.isInspectorOpen),"canEditMetadata"in e&&n(2,k=e.canEditMetadata)},e.$$.update=()=>{2&e.$$.dirty[0]&&(n(11,({query:r,state:s,queryHasUnsavedChanges:i}=S),r,(n(10,s),b(),b=p(s,(e=>n(4,h=e))),s),(n(9,i),w(),w=p(i,(e=>n(13,y=e))),i)),v(),v=p(r,(e=>n(3,d=e)))),4194312&e.$$.dirty[0]&&n(8,a=d.base_table?g.data.get(d.base_table):void 0),8&e.$$.dirty[0]&&n(7,l=d.isSaved()),8&e.$$.dirty[0]&&n(6,c=0===d.initial_columns.length),16&e.$$.dirty[0]&&n(5,u=h.saveState?.state)},[E,S,k,d,h,u,c,l,a,i,s,r,$,y,x,I,function(e){const t=e.trim();return t?Array.from(f.data??[]).some((([,e])=>e.name.toLowerCase().trim()===t))?[$("exploration_with_name_already_exists")]:[]:[$("exploration_name_cannot_be_empty")]},T,async function(){const{success:e}=await T();e&&_("close")},async function(e,t){try{await S.update((n=>n.withName(e).model.withDescription(t))),await T()}catch(n){Cv.fromError(n)}},async function(){d.isSaved()?await T():x.open()},C,g,()=>S.undo(),()=>S.redo(),()=>{n(0,E=!E)},e=>I(e.detail),()=>I(void 0),()=>d.name??"",()=>d.description??""]}class FY extends at{constructor(e){super(),it(this,e,zY,HY,d,{queryManager:1,linkCollapsibleOpenState:21,isInspectorOpen:0,canEditMetadata:2},null,[-1,-1])}}function jY(e){let t,n;const r=e[1].default,o=f(r,e,e[0],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","form svelte-1enxz59")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&y(o,r,e,e[0],n?g(r,e[0],t,null):v(e[0]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function qY(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class VY extends at{constructor(e){super(),it(this,e,qY,jY,d,{})}}function BY(e,t,n){const r=e.slice();return r[3]=t[n],r}function WY(e){let t;function n(e,t){return 1===e[0].length?YY:UY}let r=n(e),o=r(e);return{c(){t=H("div"),o.c(),U(t,"class","errors svelte-1e85mvz")},m(e,n){L(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&P(t),o.d()}}}function UY(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=KY(BY(e,n,o));return{c(){t=H("ul");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","svelte-1e85mvz")},m(e,n){L(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=BY(e,n,s);r[s]?r[s].p(i,o):(r[s]=KY(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&P(t),R(r,e)}}}function YY(e){let t,n=e[0][0]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0][0]+"")&&G(t,n)},d(e){e&&P(t)}}}function KY(e){let t,n,r=e[3]+"";return{c(){t=H("li"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[3]+"")&&G(n,r)},d(e){e&&P(t)}}}function GY(e){let t,n,r;const o=e[2].default,s=f(o,e,e[1],null);let i=e[0].length&&WY(e);return{c(){t=H("div"),s&&s.c(),n=j(),i&&i.c(),U(t,"class","form-field")},m(e,o){L(e,t,o),s&&s.m(t,null),O(t,n),i&&i.m(t,null),r=!0},p(e,[n]){s&&s.p&&(!r||2&n)&&y(s,o,e,e[1],r?g(o,e[1],n,null):v(e[1]),null),e[0].length?i?i.p(e,n):(i=WY(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(e){r||(je(s,e),r=!0)},o(e){qe(s,e),r=!1},d(e){e&&P(t),s&&s.d(e),i&&i.d()}}}function XY(e,t,n){let{$$slots:r={},$$scope:o}=t,{errors:s=[]}=t;return e.$$set=e=>{"errors"in e&&n(0,s=e.errors),"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class ZY extends at{constructor(e){super(),it(this,e,XY,GY,d,{errors:0})}}function JY(e){const t=e[3].get(e[47]);e[48]=t}function QY(e){let t,n;const r=e[31].default,o=f(r,e,e[39],null);return{c(){t=H("div"),o&&o.c(),U(t,"class","prefix svelte-1gbbni6")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||256&t[1])&&y(o,r,e,e[39],n?g(r,e[39],t,null):v(e[39]),null)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function eK(e){let t,n;return JY(e),t=new bA({props:{column:{name:e[15](e[47]),type:e[48]?.column.type??"unknown",type_options:e[48]?.column.type_options??null,display_options:e[48]?.column.display_options??null,constraintsType:e[16](e[47])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){JY(e);const r={};8&n[0]|65536&n[1]&&(r.column={name:e[15](e[47]),type:e[48]?.column.type??"unknown",type_options:e[48]?.column.type_options??null,display_options:e[48]?.column.display_options??null,constraintsType:e[16](e[47])}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function tK(e){let t,n,r;function o(t){e[33](t)}let s={options:e[12],getLabel:e[17],triggerClass:"filter-condition"};return void 0!==e[1]&&(s.value=e[1]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[34]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};4096&r[0]&&(o.options=e[12]),!n&&2&r[0]&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function nK(e){let t,n,r;function o(t){e[35](t)}let s={componentAndProps:e[10],class:yN,hasError:e[7]&&!e[11],recordSummary:e[8].get(String(e[0]))?.get(String(e[2])),setRecordSummary:e[21]};return void 0!==e[2]&&(s.value=e[2]),t=new dA({props:s}),we.push((()=>nt(t,"value",o))),t.$on("input",e[36]),t.$on("blur",e[37]),t.$on("change",e[18]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1024&r[0]&&(o.componentAndProps=e[10]),2176&r[0]&&(o.hasError=e[7]&&!e[11]),261&r[0]&&(o.recordSummary=e[8].get(String(e[0]))?.get(String(e[2]))),!n&&4&r[0]&&(n=!0,o.value=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function rK(e){let t,n,r=e[10]&&nK(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[10]?r?(r.p(e,n),1024&n[0]&&je(r,1)):(r=nK(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function oK(e){let t,n;return t=new Hn({props:{size:"small",class:"filter-remove",appearance:"secondary",$$slots:{default:[sK]},$$scope:{ctx:e}}}),t.$on("click",e[38]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sK(e){let t,n;const r=[sy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(sy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iK(e){let t,n,r,s,i,a,l,c=e[0],u=`${e[0]}${e[1]}`;function p(t){e[32](t)}let $={options:e[13],getLabel:e[15],triggerClass:"filter-column-id",disabled:e[5],$$slots:{default:[eK,({option:e})=>({47:e}),({option:e})=>[0,e?65536:0]]},$$scope:{ctx:e}};void 0!==e[0]&&($.value=e[0]),t=new gu({props:$}),we.push((()=>nt(t,"value",p))),t.$on("change",e[19]);let m=tK(e),f=rK(e),h=e[6]&&oK(e);return{c(){rt(t.$$.fragment),r=j(),m.c(),s=j(),f.c(),i=j(),h&&h.c(),a=q()},m(e,n){ot(t,e,n),L(e,r,n),m.m(e,n),L(e,s,n),f.m(e,n),L(e,i,n),h&&h.m(e,n),L(e,a,n),l=!0},p(e,r){const l={};8192&r[0]&&(l.options=e[13]),32&r[0]&&(l.disabled=e[5]),8&r[0]|65792&r[1]&&(l.$$scope={dirty:r,ctx:e}),!n&&1&r[0]&&(n=!0,l.value=e[0],Te((()=>n=!1))),t.$set(l),1&r[0]&&d(c,c=e[0])?(ze(),qe(m,1,1,o),Fe(),m=tK(e),m.c(),je(m,1),m.m(s.parentNode,s)):m.p(e,r),3&r[0]&&d(u,u=`${e[0]}${e[1]}`)?(ze(),qe(f,1,1,o),Fe(),f=rK(e),f.c(),je(f,1),f.m(i.parentNode,i)):f.p(e,r),e[6]?h?(h.p(e,r),64&r[0]&&je(h,1)):(h=oK(e),h.c(),je(h,1),h.m(a.parentNode,a)):h&&(ze(),qe(h,1,1,(()=>{h=null})),Fe())},i(e){l||(je(t.$$.fragment,e),je(m),je(f),je(h),l=!0)},o(e){qe(t.$$.fragment,e),qe(m),qe(f),qe(h),l=!1},d(e){st(t,e),e&&P(r),m.d(e),e&&P(s),f.d(e),e&&P(i),h&&h.d(e),e&&P(a)}}}function aK(e){let t,n,r,o,s,i=e[22].default&&QY(e);return r=new Pi({props:{class:e[4],$$slots:{default:[iK]},$$scope:{ctx:e}}}),{c(){t=H("div"),i&&i.c(),n=j(),rt(r.$$.fragment),U(t,"class",o="filter-entry "+e[4]+" svelte-1gbbni6")},m(e,o){L(e,t,o),i&&i.m(t,null),O(t,n),ot(r,t,null),s=!0},p(e,a){e[22].default?i?(i.p(e,a),4194304&a[0]&&je(i,1)):(i=QY(e),i.c(),je(i,1),i.m(t,n)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe());const l={};16&a[0]&&(l.class=e[4]),15855&a[0]|256&a[1]&&(l.$$scope={dirty:a,ctx:e}),r.$set(l),(!s||16&a[0]&&o!==(o="filter-entry "+e[4]+" svelte-1gbbni6"))&&U(t,"class",o)},i(e){s||(je(i),je(r.$$.fragment,e),s=!0)},o(e){qe(i),qe(r.$$.fragment,e),s=!1},d(e){e&&P(t),i&&i.d(),st(r)}}}function lK(e,t,n){let r,s,i,a,l,c,u,d,$,m,f,h=o;e.$$.on_destroy.push((()=>h()));let{$$slots:g={},$$scope:y}=t;const v=_(g),b=fe();let{columns:w}=t,{getColumnLabel:x}=t,{getColumnConstraintType:S=(()=>{})}=t,{columnIdentifier:C}=t,{conditionIdentifier:E}=t,{value:k}=t,{layout:I="horizontal"}=t,{disableColumnChange:T=!1}=t,{allowDelete:D=!0}=t,{numberOfFilters:M=0}=t,{recordSummaryStore:O}=t;const N=M;let A,L=!1,P=k;function R(e){P!==e&&(P=e,b("update"))}function H(e){if(!e)return;const t=i.get(e);t&&(void 0===t?.parameters[0]&&(P=void 0,n(2,k=void 0)),b("update"))}me((()=>{window.clearTimeout(A)}));return e.$$set=e=>{"columns"in e&&n(3,w=e.columns),"getColumnLabel"in e&&n(23,x=e.getColumnLabel),"getColumnConstraintType"in e&&n(24,S=e.getColumnConstraintType),"columnIdentifier"in e&&n(0,C=e.columnIdentifier),"conditionIdentifier"in e&&n(1,E=e.conditionIdentifier),"value"in e&&n(2,k=e.value),"layout"in e&&n(4,I=e.layout),"disableColumnChange"in e&&n(5,T=e.disableColumnChange),"allowDelete"in e&&n(6,D=e.allowDelete),"numberOfFilters"in e&&n(25,M=e.numberOfFilters),"recordSummaryStore"in e&&n(26,O=e.recordSummaryStore),"$$scope"in e&&n(39,y=e.$$scope)},e.$$.update=()=>{var t;8&e.$$.dirty[0]&&n(13,r=[...w.values()].map((e=>e.id))),9&e.$$.dirty[0]&&n(28,s=C?w.get(C):void 0),268435456&e.$$.dirty[0]&&n(27,i=s?.allowedFiltersMap??new Map),134217728&e.$$.dirty[0]&&n(12,a=[...i].map((([e])=>e))),134217730&e.$$.dirty[0]&&n(29,l=E?i.get(E):void 0),268435456&e.$$.dirty[0]&&(c=s?.inputComponentAndProps),536870916&e.$$.dirty[0]&&n(11,u=!!l&&vN(l,k)),33554432&e.$$.dirty[0]&&M!==N&&n(7,L=!0),4&e.$$.dirty[0]&&(t=k,clearTimeout(A),A=window.setTimeout((()=>{R(t)}),500)),805306368&e.$$.dirty[0]&&n(10,d=function(e,t){const n=e?.parameters[0];if(void 0===n)return;const r=t?.abstractType.identifier;return r===n&&c?c:fN({type:n,type_options:{},display_options:{}})}(l,s)),67108864&e.$$.dirty[0]&&(n(9,$=O??$t(new dt)),h(),h=p($,(e=>n(30,f=e)))),1073741824&e.$$.dirty[0]&&n(8,m=f)},[C,E,k,w,I,T,D,L,m,$,d,u,a,r,b,function(e){if(e){const t=w.get(e);if(t)return x(t)}return""},function(e){if(e){const t=w.get(e);if(t)return S(t)}},function(e){return e?i.get(e)?.name??"":""},function(){clearTimeout(A),R(k)},function(){P=void 0,n(2,k=void 0),b("update")},H,function(e,t){O&&O.addBespokeRecordSummary({columnId:String(C),recordId:e,recordSummary:t})},v,x,S,M,O,i,s,l,f,g,function(e){C=e,n(0,C)},function(e){E=e,n(1,E)},e=>H(e.detail),function(e){k=e,n(2,k)},()=>{n(7,L=!0)},()=>{n(7,L=!0)},()=>b("removeFilter"),y]}class cK extends at{constructor(e){super(),it(this,e,lK,aK,d,{columns:3,getColumnLabel:23,getColumnConstraintType:24,columnIdentifier:0,conditionIdentifier:1,value:2,layout:4,disableColumnChange:5,allowDelete:6,numberOfFilters:25,recordSummaryStore:26},null,[-1,-1])}}class uK{constructor(t){e(this,"type","filter"),e(this,"name",$(Mg)("filter")),e(this,"columnIdentifier",void 0),e(this,"conditionIdentifier",void 0),e(this,"value",void 0),"columnIdentifier"in t?(this.columnIdentifier=t.columnIdentifier,this.conditionIdentifier=t.conditionIdentifier,this.value=t.value):([this.conditionIdentifier]=Object.keys(t.spec),[this.columnIdentifier]=t.spec[this.conditionIdentifier][0].column_name,this.value=t.spec[this.conditionIdentifier][1]?.literal[0])}isValid(){const e=function(e){const t=zS.find((t=>t.id===e));if(t)return{id:t.id,name:t.name,hasAliases:!!t.aliases,hasParams:t.hasParams}}(this.conditionIdentifier);return!!e&&vN(e,this.value)}toJson(){const e={[this.conditionIdentifier]:[{column_name:[this.columnIdentifier]}]};return void 0!==this.value&&e[this.conditionIdentifier].push({literal:[this.value]}),{type:"filter",spec:e}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class dK{constructor(t){if(e(this,"type","summarize"),e(this,"name",$(Mg)("summarization")),e(this,"columnIdentifier",void 0),e(this,"preprocFunctionIdentifier",void 0),e(this,"groups",void 0),e(this,"aggregations",void 0),e(this,"isValid",(()=>!0)),"columnIdentifier"in t)this.columnIdentifier=t.columnIdentifier,this.preprocFunctionIdentifier=t.preprocFunctionIdentifier,this.aggregations=t.aggregations,this.groups=t.groups;else{const e=t.spec.base_grouping_column,n=t.spec.aggregation_expressions??[],r=t.spec.grouping_expressions??[];this.columnIdentifier=e,this.aggregations=new dt(n.map((e=>[e.input_alias,{inputAlias:e.input_alias,outputAlias:e.output_alias,function:e.function}])));let o=new dt(r.map((e=>[e.input_alias,{inputAlias:e.input_alias,outputAlias:e.output_alias,preprocFunction:e.preproc}])));const s=o.get(e);s&&(this.preprocFunctionIdentifier=s.preprocFunction,o=o.without(e)),this.groups=o}}getBaseColumnOutputAlias(){return`${this.columnIdentifier}_grouped`}getOutputColumnAliases(){return[this.getBaseColumnOutputAlias(),...[...this.groups.values()].map((e=>e.outputAlias)),...[...this.aggregations.values()].map((e=>e.outputAlias))]}toJson(){const e=[...this.aggregations.entries()],t=[...this.groups.entries()];return{type:"summarize",spec:{base_grouping_column:this.columnIdentifier,grouping_expressions:[{input_alias:this.columnIdentifier,output_alias:this.getBaseColumnOutputAlias(),preproc:this.preprocFunctionIdentifier},...t.map((([e,t])=>({input_alias:e,output_alias:t.outputAlias,preproc:t.preprocFunction})))],aggregation_expressions:e.map((([e,t])=>({input_alias:e,output_alias:t.outputAlias,function:t.function})))}}}isColumnUsedInTransformation(e){return this.getOutputColumnAliases().includes(e)}}class pK{constructor(t){e(this,"type","hide"),e(this,"name",$(Mg)("hide_columns")),e(this,"columnAliases",void 0),this.columnAliases="columnAliases"in t?t.columnAliases:t.spec}isValid(){return this.columnAliases.length>0}toJson(){return{type:this.type,spec:this.columnAliases}}isColumnUsedInTransformation(e){return this.columnAliases.includes(e)}}class $K{constructor(t){e(this,"type","order"),e(this,"name",$(Mg)("sort")),e(this,"columnIdentifier",void 0),e(this,"sortDirection",void 0),e(this,"isValid",(()=>!0)),"columnIdentifier"in t?(this.columnIdentifier=t.columnIdentifier,this.sortDirection=t.sortDirection):(this.columnIdentifier=t.spec[0].field,this.sortDirection="desc"===t.spec[0].direction?"DESCENDING":"ASCENDING")}toJson(){return{type:this.type,spec:[{field:this.columnIdentifier,direction:"DESCENDING"===this.sortDirection?"desc":"asc"}]}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}function mK(e){switch(e.type){case"filter":return new uK(e);case"summarize":return new dK(e);case"hide":return new pK(e);case"order":return new $K(e);default:throw new oc(e)}}class fK{constructor(t){let n;e(this,"base_table",void 0),e(this,"id",void 0),e(this,"name",void 0),e(this,"description",void 0),e(this,"initial_columns",void 0),e(this,"transformationModels",void 0),e(this,"display_names",void 0),e(this,"isValid",void 0),e(this,"isRunnable",void 0),this.base_table=t?.base_table,this.id=t?.id,this.name=t?.name,this.description=t?.description,this.initial_columns=t?.initial_columns??[],n=t&&"transformationModels"in t?[...t.transformationModels]:t?.transformations?.map(mK)??[],this.transformationModels=n,this.display_names=t?.display_names??{};const r=void 0===(o={base_table:t?.base_table,transformationModels:n}).base_table?{isValid:!1,isRunnable:!1}:{isValid:o.transformationModels.every((e=>e.isValid())),isRunnable:!0};var o;this.isValid=r.isValid,this.isRunnable=r.isRunnable}withBaseTable(e){return{model:new fK({base_table:e,id:this.id,name:this.name}),type:"baseTable",diff:{base_table:e}}}withId(e){return{model:new fK({...this,id:e}),type:"id",diff:{id:e}}}withName(e){return{model:new fK({...this,name:e}),type:"name",diff:{name:e}}}withDescription(e){return{model:new fK({...this,description:e}),type:"name",diff:{description:e}}}withInitialColumn(e){const t=[...this.initial_columns,e];return{model:new fK({...this,initial_columns:t,display_names:{...this.display_names,[e.alias]:e.alias}}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumns(e){const t=this.initial_columns.filter((t=>!e.includes(t.alias)));return{model:new fK({...this,initial_columns:t}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumn(e){return this.withoutInitialColumns([e])}withDisplayNameForColumn(e,t){const n={...this.display_names,[e]:t};return{model:new fK({...this,display_names:n}),type:"initialColumnName",diff:{display_names:n}}}addTransform(e){const t=new fK({...this,transformationModels:[...this.transformationModels,e]});return{model:t,type:"transformations",diff:{transformations:t.toJson().transformations}}}addFilterTransform(e){return this.addTransform(e)}addSummarizationTransform(e){if(this.hasSummarizationTransform())throw new Error("QueryModel currently allows only a single summarization transformation");return this.addTransform(e)}addHideTransform(e){return this.addTransform(e)}addSortTransform(e){return this.addTransform(e)}removeLastTransform(){const e=new fK({...this,transformationModels:this.transformationModels.slice(0,-1)});return{model:e,type:"transformations",diff:{transformations:e.toJson().transformations}}}updateTransform(e,t){const n=[...this.transformationModels];n[e]=t;const r=new fK({...this,transformationModels:n});return{model:r,type:"transformations",diff:{transformations:r.toJson().transformations}}}getInitialColumnsAndTransformsUtilizingThemByColumnIds(e){const t=this.initial_columns.filter((t=>e.includes(t.id))),n=t.map((e=>e.alias)),r=[];let o=!1;return this.transformationModels.forEach(((e,t)=>{if(!o)return"summarize"===e.type?(o=!0,void r.push({index:t,transform:e})):void(n.some((t=>e.isColumnUsedInTransformation(t)))&&r.push({index:t,transform:e}));r.push({index:t,transform:e})})),{initialColumnsUsingColumnIds:t,transformsUsingColumnIds:r}}withoutColumnsById(e){const t=this.initial_columns.filter((t=>!e.includes(t.id)));let n=this.transformationModels;const r=this.transformationModels.findIndex((e=>"summarize"===e.type));r>-1&&(n=n.slice(0,r));const o=this.initial_columns.filter((t=>e.includes(t.id))).map((e=>e.alias)),s=n.filter((e=>!o.some((t=>e.isColumnUsedInTransformation(t))))),i=new fK({...this,initial_columns:t,transformationModels:s});return{model:i,type:"initialColumnsAndTransformations",diff:{initial_columns:t,transformations:i.toJson().transformations}}}getColumn(e){return this.initial_columns.find((t=>t.alias===e))}getSummarizationTransforms(){return this.transformationModels.filter((e=>"summarize"===e.type))}isColumnUsedInTransformations(e){return this.transformationModels.some((t=>t.isColumnUsedInTransformation(e)))}areColumnsUsedInTransformations(e){return e.some((e=>this.isColumnUsedInTransformations(e)))}getOutputColumnAliases(){const e=this.getSummarizationTransforms();return e.length>0?e[e.length-1].getOutputColumnAliases():this.initial_columns.map((e=>e.alias))}getAllSortedColumns(){return this.transformationModels.filter((e=>"order"===e.type)).map((e=>e.columnIdentifier))}getAllSortableColumns(){const e=new Set(this.getAllSortedColumns());return this.getOutputColumnAliases().filter((t=>!e.has(t)))}toRunRequestJson(){if(void 0===this.base_table)throw new Error("Cannot formulate run request since base_table is undefined");const e=this.isValid?this.transformationModels:this.transformationModels.filter((e=>e.isValid()));return{base_table:this.base_table,initial_columns:this.initial_columns,transformations:e.map((e=>e.toJson())),display_names:this.display_names}}getColumnCount(e){return this.initial_columns.filter((t=>t.id===e)).length}toJson(){return{id:this.id,name:this.name,description:this.description,base_table:this.base_table,initial_columns:this.initial_columns,transformations:this.transformationModels.map((e=>e.toJson())),display_names:this.display_names}}isSaved(){return!!this.id}hasSummarizationTransform(){return this.transformationModels.some((e=>"summarize"===e.type))}}class hK{constructor(t,n){e(this,"queryJSON",void 0),e(this,"isValid",void 0),e(this,"next",void 0),e(this,"prev",void 0),this.queryJSON=t,this.isValid=n}}class gK{constructor(t){if(e(this,"current",void 0),t){const{query:e,isValid:n}=t,r=JSON.parse(JSON.stringify(e.toJson()));this.current=new hK(r,n)}}pushState(e,t){this.current&&this.current.next&&(this.current.next.prev=void 0);const n=JSON.parse(JSON.stringify(e.toJson())),r=new hK(n,t);return this.current&&!this.current.isValid?r.prev=this.current.prev:(r.prev=this.current,this.current&&(this.current.next=r)),this.current=r,r}isUndoPossible(){return!!this.current?.prev}isRedoPossible(){return!!this.current?.next}undo(){if(this.current&&this.current.prev)return this.current=this.current.prev,new fK(this.current.queryJSON)}redo(){if(this.current&&this.current.next)return this.current=this.current.next,new fK(this.current.queryJSON)}clear(){this.current=void 0}}const yK=(e,t)=>e[1].linksTo&&!t[1].linksTo?1:!e[1].linksTo&&t[1].linksTo?-1:0;function vK(e,t,n,r=""){const o=e.joinable_tables.filter((e=>e.depth===n&&!1===e.fk_path[n-1][1]&&e.jp_path[n-1][0]===t&&0===e.jp_path.join(",").indexOf(r)));if(0===o.length)return;if(o.length>1)throw new Error(`Multiple links present for the same column: ${t}`);const s=o[0],i=e.tables[s.target],a={id:s.target,name:i.name},l=s.jp_path[n-1][1],c={id:l,name:e.columns[l].name},u=i.columns.map((t=>{const r=e.columns[t];return[t,{id:t,name:r.name,tableName:i.name,type:r.type,linksTo:vK(e,t,n+1,s.jp_path.join(",")),jpPath:s.jp_path,producesMultipleResults:s.multiple_results}]}));return{...a,linkedToColumn:c,columns:new Map(u.sort(yK))}}function bK(e,t){const n={alias:e.alias,display_name:e.display_name??e.alias,type:e.type??"unknown",type_options:e.type_options??null,display_options:e.display_options??null},r=B_(n.type,t),o=e.is_initial_column?{is_initial_column:!0,input_column_name:e.input_column_name,input_table_name:e.input_table_name,input_table_id:e.input_table_id}:{is_initial_column:!1,input_alias:e.input_alias};return{id:n.alias,column:n,abstractType:r,cellComponentAndProps:mN({cellInfo:r.cellInfo,column:n}),inputComponentAndProps:fN(n,void 0,r.cellInfo),initialInputValue:hN(n,void 0,r.cellInfo),allowedFiltersMap:VS(r.identifier),preprocFunctions:US(r.identifier),summarizationFunctions:ZS(r.identifier),source:o,formatCellValue:gN(n)}}function wK(e,t){return new dt(e.map(((e,n)=>[e,{...t.get(e)??bK({alias:e,is_initial_column:!0},new Map),columnIndex:n}])))}class _K{constructor(t){e(this,"tabs",void 0),e(this,"activeTab",void 0);const n=[{id:"inspect-column",label:$(Mg)("column")},{id:"inspect-cell",label:$(Mg)("cell")}],r=[{id:"inspect-exploration",label:$(Mg)("exploration")},...n];this.tabs=ft(t,(e=>e.isSaved()?r:n)),this.activeTab=mt($(this.tabs)[0])}selectColumnTab(){this.activeTab.set($(this.tabs).find((e=>"inspect-column"===e.id)))}selectCellTab(){this.activeTab.set($(this.tabs).find((e=>"inspect-cell"===e.id)))}}class xK{constructor({query:t,abstractTypeMap:n,runMode:r,onRunWithObject:o,onRunWithId:s,shareConsumer:i}){e(this,"query",void 0),e(this,"abstractTypeMap",void 0),e(this,"runState",mt()),e(this,"pagination",mt(new jC({size:100}))),e(this,"rowsData",mt({totalCount:0,rows:[]})),e(this,"columnsMetaData",mt(new dt)),e(this,"processedColumns",mt(new dt)),e(this,"selection",void 0),e(this,"inspector",void 0),e(this,"runPromise",void 0),e(this,"runMode",void 0),e(this,"onRunWithObjectCallback",void 0),e(this,"onRunWithIdCallback",void 0),e(this,"shareConsumer",void 0),this.abstractTypeMap=n,this.runMode=r??"queryObject",this.query=mt(t),this.onRunWithObjectCallback=o,this.onRunWithIdCallback=s,this.shareConsumer=i,this.speculateProcessedColumns(),this.run(),this.selection=new Yk({getColumns:()=>[...$(this.processedColumns).values()],getColumnOrder:()=>[...$(this.processedColumns).values()].map((e=>e.id)),getRows:()=>$(this.rowsData).rows,getMaxSelectionRowIndex:()=>{const e=$(this.rowsData).rows.length,t=$(this.rowsData).totalCount??0,n=$(this.pagination),{offset:r}=n,o=n.size;return Math.min(o,t-r,e)-1}}),this.inspector=new _K(this.query)}speculateProcessedColumns(e){const t=function({currentProcessedColumnsMetaData:e,inputColumnInformationMap:t,queryModel:n,abstractTypeMap:r}){const o=n.initial_columns,s=n.getSummarizationTransforms(),i=o.filter((t=>!e.has(t.alias))),a=s.filter((t=>t.getOutputColumnAliases().some((t=>!e.has(t))))),l=Object.entries(n.display_names).filter((([t,n])=>e.has(t)&&e.get(t)?.column.display_name!==n));let c=e,u=i.length>0||a.length>0;return i.length>0&&i.forEach((e=>{const n=t.get(e.id);c=c.with(e.alias,bK({alias:e.alias,type:n?.type,is_initial_column:!0,input_column_name:n?.name,input_table_name:n?.tableName,input_table_id:n?.tableId},r))})),a.length>0&&a.forEach((e=>{[...e.groups.values()].forEach((e=>{if(!c.has(e.outputAlias)){const t=c.get(e.inputAlias)?.column;c=c.with(e.outputAlias,bK({alias:e.outputAlias,display_name:null,type:t?.type??"unknown",type_options:t?.type_options??null,display_options:t?.display_options??null,is_initial_column:!1,input_alias:e.inputAlias},r))}})),[...e.aggregations.values()].forEach((e=>{c.has(e.outputAlias)||(c=c.with(e.outputAlias,bK({alias:e.outputAlias,type:"distinct_aggregate_to_array"===e.function?"_array":"integer",type_options:"distinct_aggregate_to_array"===e.function?{type:c.get(e.inputAlias)?.column.type??"unknown"}:null,display_options:null,is_initial_column:!1,input_alias:e.inputAlias},r)))}))})),l.length>0&&l.forEach((([e,t])=>{const n=c.get(e);n&&(c=c.with(e,{...n,column:{...n.column,display_name:t}}),u=!0)})),u?new dt(c):e}({currentProcessedColumnsMetaData:$(this.columnsMetaData),inputColumnInformationMap:e??new Map,queryModel:this.getQueryModel(),abstractTypeMap:this.abstractTypeMap});this.columnsMetaData.set(t),this.processedColumns.set(wK(this.getQueryModel().getOutputColumnAliases(),t))}async run(){this.runPromise?.cancel();const e=this.getQueryModel();if(void 0===e.base_table){const e={totalCount:0,rows:[]};return this.columnsMetaData.set(new dt),this.processedColumns.set(new dt),this.rowsData.set(e),void this.runState.set({state:"success"})}let t,n;try{const s=$(this.pagination).recordsRequestParams();if(this.runState.set({state:"processing"}),"queryObject"===this.runMode){const r=Uv("/api/db/v0/queries/run/",{...e.toRunRequestJson(),parameters:{...s}});this.runPromise=r;const o=await r;t=o,n=()=>this.onRunWithObjectCallback?.(o)}else{if(!e.id)return void this.runState.set({state:"failure",errors:["Query does not contain an id"]});this.runPromise=function(e,t){return Wv(qv(`/api/db/v0/queries/${e}/results/`,t))}(e.id,{...s,...this.shareConsumer?.getQueryParams()}),t=await this.runPromise,n=()=>this.onRunWithIdCallback?.(t)}const i=(r=t.column_metadata,o=this.abstractTypeMap,new dt(Object.entries(r).map((([e,t])=>[e,bK(t,o)]))));return this.columnsMetaData.set(i),this.processedColumns.set(new dt(wK(t.output_columns,i))),this.rowsData.set({totalCount:t.records.count,rows:(t.records.results??[]).map(((e,t)=>({record:e,rowIndex:t})))}),await n(),this.runState.set({state:"success"}),t}catch(s){if(s instanceof Lv)this.runState.set({state:"failure",errors:s});else{const e=s instanceof Error?s.message:"Unable to run query due to an unknown reason";this.runState.set({state:"failure",errors:[e]})}}var r,o}async setPagination(e){this.pagination.set(e),await this.run(),this.selection.activateFirstCellInSelectedColumn()}resetPagination(){this.pagination.update((e=>new jC({...e,page:1})))}resetResults(){this.clearSelection(),this.runPromise?.cancel(),this.resetPagination(),this.rowsData.set({totalCount:0,rows:[]}),this.processedColumns.set(new dt),this.runState.set(void 0)}async resetPaginationAndRun(){this.resetPagination(),await this.run(),this.selection.activateFirstCellInSelectedColumn()}selectColumn(e){const t=$(this.processedColumns).get(e);if(!t)return this.selection.resetSelection(),this.selection.selectAndActivateFirstCellIfExists(),void this.inspector.selectCellTab();this.selection.toggleColumnSelection(t)?this.inspector.selectColumnTab():(this.selection.activateFirstCellInSelectedColumn(),this.inspector.selectCellTab())}clearSelection(){this.selection.resetSelection()}getRows(){return $(this.rowsData).rows}getQueryModel(){return $(this.query)}destroy(){this.selection.destroy(),this.runPromise?.cancel()}}class SK extends xK{constructor({query:t,abstractTypeMap:n,onSave:r}){super({query:t,abstractTypeMap:n,onRunWithObject:e=>{this.checkAndUpdateSummarizationAfterRun(new fK(e.query))}}),e(this,"undoRedoManager",void 0),e(this,"cacheManagers",{inputColumns:new NP(5)}),e(this,"state",mt({isUndoPossible:!1,isRedoPossible:!1})),e(this,"inputColumns",mt({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map})),e(this,"confirmationNeededForMultipleResults",mt(!0)),e(this,"queryHasUnsavedChanges",mt(!1)),e(this,"baseTableFetchPromise",void 0),e(this,"joinableColumnsfetchPromise",void 0),e(this,"querySavePromise",void 0),e(this,"onSaveCallback",void 0),this.onSaveCallback=r??(()=>{});const o=new gK;o.pushState(t,t.isValid),this.undoRedoManager=o,this.calculateInputColumnTree()}async calculateInputColumnTree(){const e=$(this.query).base_table;if(!e)return this.inputColumns.set({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}),void this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}})));const t=this.cacheManagers.inputColumns.get(e);if(t)return this.inputColumns.set({...t}),this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}}))),void this.speculateColumns();try{this.baseTableFetchPromise?.cancel(),this.joinableColumnsfetchPromise?.cancel(),this.state.update((e=>({...e,inputColumnsFetchState:{state:"processing"}}))),this.baseTableFetchPromise=qO(e),this.joinableColumnsfetchPromise=Wv(`/api/db/v0/tables/${e}/joinable_tables/`);const[t,n]=await Promise.all([this.baseTableFetchPromise,this.joinableColumnsfetchPromise]),r=function(e,t){const n=t.columns.map((n=>[n.id,{id:n.id,name:n.name,type:n.type,tableName:t.name,linksTo:vK(e,n.id,1),producesMultipleResults:!1}]));return new Map(n.sort(yK))}(n,t),o=function(e,t){const n=e.joinable_tables.filter((e=>1===e.depth&&!0===e.fk_path[0][1])),r=[];return n.forEach((n=>{const o=n.target,s=e.tables[o],i=n.jp_path[0][0],a=t.columns.find((e=>e.id===i)),l=n.jp_path[0][1];if(!a)return;const c=e.tables[n.target].columns.filter((e=>e!==l)).map((t=>{const r=e.columns[t];return[t,{id:t,name:r.name,type:r.type,tableName:s.name,linksTo:vK(e,t,2,n.jp_path.join(",")),jpPath:n.jp_path,producesMultipleResults:n.multiple_results}]}));r.push({id:o,name:s.name,referencedViaColumn:{id:l,...e.columns[l]},linkedToColumn:a,columns:new Map(c.sort(yK))})})),r}(n,t),s=function(e,t){const n=new Map;return t.columns.forEach((e=>{n.set(e.id,{id:e.id,name:e.name,type:e.type,tableId:t.id,tableName:t.name})})),Object.keys(e.tables).forEach((t=>{const r=parseInt(t,10),o=e.tables[r];o.columns.forEach((t=>{const s=e.columns[t];n.set(t,{id:t,name:s.name,type:s.type,tableId:r,tableName:o.name})}))})),n}(n,t),i={baseTableColumns:r,tablesThatReferenceBaseTable:o,inputColumnInformationMap:s};this.cacheManagers.inputColumns.set(e,i),this.inputColumns.set(i),this.speculateColumns(),this.state.update((e=>({...e,inputColumnsFetchState:{state:"success"}})))}catch(n){const e=n instanceof Error?n.message:$(Mg)("error_fetching_joinable_links");this.state.update((t=>({...t,inputColumnsFetchState:{state:"failure",errors:[e]}})))}}speculateColumns(){super.speculateProcessedColumns($(this.inputColumns).inputColumnInformationMap)}async updateQuery(e){return this.query.set(e),this.queryHasUnsavedChanges.set(!0),"success"!==$(this.state).inputColumnsFetchState?.state&&await this.calculateInputColumnTree(),{isValid:e.isValid,isRunnable:e.isRunnable}}setUndoRedoStates(){this.state.update((e=>({...e,isUndoPossible:this.undoRedoManager.isUndoPossible(),isRedoPossible:this.undoRedoManager.isRedoPossible()})))}checkAndUpdateSummarizationAfterRun(e){const t=this.getQueryModel();let n=t,r=!1;t.transformationModels.forEach(((t,o)=>{const s=e.transformationModels[o];if("summarize"===t.type&&s&&"summarize"===s.type){const e=s.groups.get(s.columnIdentifier);e&&(s.groups=s.groups.without(s.columnIdentifier),s.preprocFunctionIdentifier=e.preprocFunction),s.aggregations.size===t.aggregations.size&&s.groups.size===t.groups.size||(r=!0,n=n.updateTransform(o,s).model)}})),r&&this.query.set(n)}async update(e){this.state.update((e=>({...e,saveState:void 0})));const t=e(this.getQueryModel()),{isValid:n,isRunnable:r}=await this.updateQuery(t.model);if(this.undoRedoManager.pushState(t.model,n),this.setUndoRedoStates(),r)switch(t.type){case"baseTable":this.resetResults(),this.undoRedoManager.clear(),this.setUndoRedoStates(),this.confirmationNeededForMultipleResults.set(!0),this.queryHasUnsavedChanges.set(!1),await this.calculateInputColumnTree();break;case"initialColumnName":this.speculateColumns();break;case"initialColumnsArray":t.diff.initial_columns?.length?(this.speculateColumns(),await this.run()):this.resetResults();break;case"transformations":case"initialColumnsAndTransformations":await this.resetPaginationAndRun()}}async performUndoRedoSync(e){if(e){const t=this.getQueryModel();let n=e;t?.id&&(n=e.withId(t.id).model),this.query.set(n),this.speculateColumns(),await this.updateQuery(n),this.setUndoRedoStates(),await this.run()}else this.setUndoRedoStates()}async undo(){const e=this.undoRedoManager.undo();await this.performUndoRedoSync(e)}async redo(){const e=this.undoRedoManager.redo();await this.performUndoRedoSync(e)}async save(){const e=this.getQueryModel().toJson();this.state.update((e=>({...e,saveState:{state:"processing"}})));try{this.querySavePromise?.cancel(),void 0!==e.id?this.querySavePromise=VP(e):this.querySavePromise=function(e){const t=Uv("/api/db/v0/queries/",e);return t.then((e=>(lM(e.schema,1),zP(e.schema),e))),t}(e);const t=await this.querySavePromise;return this.query.update((e=>e.withId(t.id).model)),await this.onSaveCallback(t),this.state.update((e=>({...e,saveState:{state:"success"}}))),this.queryHasUnsavedChanges.set(!1),this.getQueryModel()}catch(t){const e=t instanceof Error?[t.message]:[$(Mg)("error_saving_query")];throw this.state.update((t=>({...t,saveState:{state:"failure",errors:e}}))),t}}getAutoSummarizationTransformModel(){const{baseTableColumns:e}=$(this.inputColumns),t=this.getQueryModel().initial_columns.find((t=>e.has(t.id)));if(t)return new dK({type:"summarize",spec:{base_grouping_column:t.alias}})}destroy(){super.destroy(),this.baseTableFetchPromise?.cancel(),this.joinableColumnsfetchPromise?.cancel(),this.querySavePromise?.cancel()}}function CK(e){let t,n,r=e[6]("properties")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){64&t&&r!==(r=e[6]("properties")+"")&&G(n,r)},d(e){e&&P(t)}}}function EK(e){let t,n;return t=new qi({props:{value:e[0],"aria-label":e[6]("name"),disabled:!e[2]}}),t.$on("change",e[8]),t.$on("input",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),64&n&&(r["aria-label"]=e[6]("name")),4&n&&(r.disabled=!e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kK(e){let t,n;return t=new Mo({props:{label:e[6]("name"),layout:"stacked",$$slots:{default:[EK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.label=e[6]("name")),131141&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IK(e){let t,n;return t=new Yl({props:{value:e[1],"aria-label":e[6]("description"),disabled:!e[2]}}),t.$on("change",e[9]),t.$on("input",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1]),64&n&&(r["aria-label"]=e[6]("description")),4&n&&(r.disabled=!e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TK(e){let t,n;return t=new Mo({props:{label:e[6]("description"),layout:"stacked",$$slots:{default:[IK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.label=e[6]("description")),131142&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function DK(e){let t,n;return t=new ZY({props:{$$slots:{default:[MK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131136&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function MK(e){let t,n;return t=new ao({props:{cancelButton:{icon:void 0},proceedButton:{icon:void 0,label:e[6]("save")},onCancel:e[10],onProceed:e[11]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.proceedButton={icon:void 0,label:e[6]("save")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OK(e){let t,n,r,o,s,i;t=new ZY({props:{$$slots:{default:[kK]},$$scope:{ctx:e}}}),r=new ZY({props:{$$slots:{default:[TK]},$$scope:{ctx:e}}});let a=!e[5]&&e[3]&&e[2]&&DK(e);return{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),a&&a.c(),s=q()},m(e,l){ot(t,e,l),L(e,n,l),ot(r,e,l),L(e,o,l),a&&a.m(e,l),L(e,s,l),i=!0},p(e,n){const o={};131141&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};131142&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),!e[5]&&e[3]&&e[2]?a?(a.p(e,n),44&n&&je(a,1)):(a=DK(e),a.c(),je(a,1),a.m(s.parentNode,s)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe())},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(a),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(a),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),a&&a.d(e),e&&P(s)}}}function NK(e){let t,n,r;return n=new VY({props:{$$slots:{default:[OK]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","section-content")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};131183&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function AK(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[RK],header:[LK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131136&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function LK(e){let t,n,r=e[6]("actions")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){64&t&&r!==(r=e[6]("actions")+"")&&G(n,r)},d(e){e&&P(t)}}}function PK(e){let t,n,r,o,s,a=e[6]("delete_exploration")+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("delete_exploration")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function RK(e){let t,n,r;return n=new Hn({props:{class:"delete-button",appearance:"outline-primary",$$slots:{default:[PK]},$$scope:{ctx:e}}}),n.$on("click",e[12]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","section-content actions")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};131136&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function HK(e){let t,n,r,o;t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[NK],header:[CK]},$$scope:{ctx:e}}});let s=e[2]&&AK(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,[n]){const o={};131183&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[2]?s?(s.p(e,n),4&n&&je(s,1)):(s=AK(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function zK(e,t,n){let r,s,i,a,l,c=o;m(e,Mg,(e=>n(6,a=e))),m(e,qP,(e=>n(15,l=e))),e.$$.on_destroy.push((()=>c()));const u=fe();let{queryHandler:d}=t,{name:$}=t,{description:f}=t,{canEditMetadata:h}=t,g=!1;return e.$$set=e=>{"queryHandler"in e&&n(13,d=e.queryHandler),"name"in e&&n(0,$=e.name),"description"in e&&n(1,f=e.description),"canEditMetadata"in e&&n(2,h=e.canEditMetadata)},e.$$.update=()=>{8192&e.$$.dirty&&(n(4,({query:r}=d),r),c(),c=p(r,(e=>n(14,i=e)))),8192&e.$$.dirty&&n(5,s=d instanceof SK)},[$,f,h,g,r,s,a,function(){n(3,g=!0)},function(e){const t=e.target;""===t.value.trim()&&(t.value=i.name??pA("New_Exploration",new Set([...l.data.values()].map((e=>e.name))))),n(0,$=t.value),"update"in d&&d.update((e=>e.withName(t.value)))},function(e){const t=e.target;n(1,f=t.value.trim()),"update"in d&&d.update((e=>e.withDescription(f??"")))},function(){n(0,$=i.name),n(1,f=i.description),n(3,g=!1)},async function(){try{const e=i.withName($).model.withDescription(f).model;await VP(e.toJson()),r.set(e)}catch(e){const t=e instanceof Error?e.message:a("unable_to_save_exploration");Cv.error(t)}},function(){if(void 0!==i.id){const e=i.id;Tv({identifierType:"Exploration",onProceed:async()=>{await BP(e),u("delete")}})}},d]}class FK extends at{constructor(e){super(),it(this,e,zK,HK,d,{queryHandler:13,name:0,description:1,canEditMetadata:2})}}function jK(e){let t,n,r,o,s,i,a,l,c=e[2]("aggregated_from")+"";return a=new bA({props:{isLoading:!e[0].name,column:{...e[0],name:e[0].name??""}}}),{c(){t=H("div"),n=H("h1"),r=F(c),o=j(),s=H("div"),i=H("span"),rt(a.$$.fragment),U(i,"class","tag svelte-fnyv54"),U(s,"class","column-info svelte-fnyv54"),U(t,"data-identifier","aggregation-source"),U(t,"class","svelte-fnyv54")},m(e,c){L(e,t,c),O(t,n),O(n,r),O(t,o),O(t,s),O(s,i),ot(a,i,null),l=!0},p(e,t){(!l||4&t)&&c!==(c=e[2]("aggregated_from")+"")&&G(r,c);const n={};1&t&&(n.isLoading=!e[0].name),1&t&&(n.column={...e[0],name:e[0].name??""}),a.$set(n)},i(e){l||(je(a.$$.fragment,e),l=!0)},o(e){qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),st(a)}}}function qK(e){let t,n,r,o,s,i,a,l=e[2]("source_column")+"";return i=new Kg({props:{text:e[2]("column_from_table"),$$slots:{default:[UK,({slotName:e,translatedArg:t})=>({5:e,6:t}),({slotName:e,translatedArg:t})=>(e?32:0)|(t?64:0)]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("h1"),r=F(l),o=j(),s=H("div"),rt(i.$$.fragment),U(s,"class","column-info svelte-fnyv54"),U(t,"data-identifier","column-source"),U(t,"class","svelte-fnyv54")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(t,o),O(t,s),ot(i,s,null),a=!0},p(e,t){(!a||4&t)&&l!==(l=e[2]("source_column")+"")&&G(r,l);const n={};4&t&&(n.text=e[2]("column_from_table")),226&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n)},i(e){a||(je(i.$$.fragment,e),a=!0)},o(e){qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(i)}}}function VK(e){let t,n,r;return n=new gw({props:{isLoading:!e[1].table.name,table:{name:e[1].table.name??""}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","tag svelte-fnyv54")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isLoading=!e[1].table.name),2&t&&(r.table={name:e[1].table.name??""}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function BK(e){let t,n,r=e[6]+"";return{c(){t=H("span"),n=F(r),U(t,"class","from svelte-fnyv54")},m(e,r){L(e,t,r),O(t,n)},p(e,t){64&t&&r!==(r=e[6]+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function WK(e){let t,n,r;return n=new bA({props:{isLoading:!e[1].column.name,column:{...e[1].column,name:e[1].column.name??""}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","tag svelte-fnyv54")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isLoading=!e[1].column.name),2&t&&(r.column={...e[1].column,name:e[1].column.name??""}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function UK(e){let t,n,r,o;const s=[WK,BK,VK],i=[];function a(e,t){return"columnName"===e[5]?0:"fromSlot"===e[5]&&e[6]?1:"tableName"===e[5]?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function YK(e){let t,n,r,o=e[0]&&jK(e),s=e[1]&&qK(e);return{c(){o&&o.c(),t=j(),s&&s.c(),n=q()},m(e,i){o&&o.m(e,i),L(e,t,i),s&&s.m(e,i),L(e,n,i),r=!0},p(e,[r]){e[0]?o?(o.p(e,r),1&r&&je(o,1)):(o=jK(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[1]?s?(s.p(e,r),2&r&&je(s,1)):(s=qK(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){o&&o.d(e),e&&P(t),s&&s.d(e),e&&P(n)}}}function KK(e,t){if(e.source.is_initial_column)return{column:{...e.column,name:e.source.input_column_name},table:{name:e.source.input_table_name}};const n=e.source.input_alias,r=t.get(n);return r?KK(r,t):void 0}function GK(e,t,n){let r,o,s;m(e,Mg,(e=>n(2,s=e)));let{columnInformation:i}=t,{columnsMetaData:a}=t;return e.$$set=e=>{"columnInformation"in e&&n(3,i=e.columnInformation),"columnsMetaData"in e&&n(4,a=e.columnsMetaData)},e.$$.update=()=>{24&e.$$.dirty&&n(1,r=KK(i,a)),24&e.$$.dirty&&n(0,o=(()=>{if(!i.source.is_initial_column){const e=i.source.input_alias,t=a.get(e);if(t)return{...t.column,name:t.column.display_name}}})())},[o,r,s,i,a]}class XK extends at{constructor(e){super(),it(this,e,GK,YK,d,{columnInformation:3,columnsMetaData:4})}}function ZK(e){let t,n,r=e[5]("actions")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){32&t&&r!==(r=e[5]("actions")+"")&&G(n,r)},d(e){e&&P(t)}}}function JK(e){let t,n,r;return n=new Wz({props:{$$slots:{default:[oG]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","warning svelte-1w7tyb3")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4131&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function QK(e){let t,n=e[5]("multiple_column_delete_error_used_in_transformations")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("multiple_column_delete_error_used_in_transformations")+"")&&G(t,n)},d(e){e&&P(t)}}}function eG(e){let t,n=e[5]("multiple_column_delete_error_last_base_column")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("multiple_column_delete_error_last_base_column")+"")&&G(t,n)},d(e){e&&P(t)}}}function tG(e){let t;function n(e,t){return e[1]?rG:nG}let r=n(e),o=r(e);return{c(){o.c(),t=q()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function nG(e){let t,n=e[5]("single_column_delete_error_used_in_transformations")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("single_column_delete_error_used_in_transformations")+"")&&G(t,n)},d(e){e&&P(t)}}}function rG(e){let t,n=e[5]("single_column_delete_error_last_base_column")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("single_column_delete_error_last_base_column")+"")&&G(t,n)},d(e){e&&P(t)}}}function oG(e){let t;function n(e,t){return 1===e[0].length?tG:e[1]?eG:QK}let r=n(e),o=r(e);return{c(){o.c(),t=q()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function sG(e){let t,n,r,o,s,a=e[5]("delete_columns_count",{values:{count:e[0].length}})+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||33&n)&&a!==(a=e[5]("delete_columns_count",{values:{count:e[0].length}})+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function iG(e){let t,n,r,o,s=e[2]&&JK(e);return r=new Hn({props:{class:"delete-button",appearance:"outline-primary",disabled:e[2],$$slots:{default:[sG]},$$scope:{ctx:e}}}),r.$on("click",e[6]),{c(){t=H("div"),s&&s.c(),n=j(),rt(r.$$.fragment),U(t,"slot","content"),U(t,"class","section-content actions")},m(e,i){L(e,t,i),s&&s.m(t,null),O(t,n),ot(r,t,null),o=!0},p(e,o){e[2]?s?(s.p(e,o),4&o&&je(s,1)):(s=JK(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe());const i={};4&o&&(i.disabled=e[2]),4129&o&&(i.$$scope={dirty:o,ctx:e}),r.$set(i)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){qe(s),qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),s&&s.d(),st(r)}}}function aG(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[iG],header:[ZK]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};4135&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lG(e,t,n){let r,s,i,a,l,c,u,d,$,f=o,h=o;m(e,Mg,(e=>n(5,$=e))),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let{selectedColumns:g}=t,{queryManager:y}=t;return e.$$set=e=>{"selectedColumns"in e&&n(7,g=e.selectedColumns),"queryManager"in e&&n(8,y=e.queryManager)},e.$$.update=()=>{256&e.$$.dirty&&(n(4,({query:r,columnsMetaData:s}=y),r,(n(3,s),h(),h=p(s,(e=>n(11,d=e))),s)),f(),f=p(r,(e=>n(10,u=e)))),128&e.$$.dirty&&n(0,i=g.map((e=>e.column.alias))),3073&e.$$.dirty&&n(1,a=(()=>{if(u.hasSummarizationTransform())return!1;const e=u.initial_columns.filter((e=>!i.includes(e.alias)));if(0===e.length)return!1;return!e.some((e=>{const t=d.get(e.alias)?.source;return t?.is_initial_column&&t.input_table_id===u.base_table}))})()),1025&e.$$.dirty&&n(9,l=u.areColumnsUsedInTransformations(i)),514&e.$$.dirty&&n(2,c=a||l)},[i,a,c,s,r,$,function(){y.update((e=>e.withoutInitialColumns(i))),y.clearSelection()},g,y,l,u,d]}class cG extends at{constructor(e){super(),it(this,e,lG,aG,d,{selectedColumns:7,queryManager:8})}}function uG(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[fG],header:[pG]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1049629&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dG(e){let t,n,r=e[10]("multiple_columns_selected",{values:{count:e[1].length}})+"";return{c(){t=H("div"),n=F(r),U(t,"class","section-content")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1026&t&&r!==(r=e[10]("multiple_columns_selected",{values:{count:e[1].length}})+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function pG(e){let t,n,r=e[10]("properties")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1024&t&&r!==(r=e[10]("properties")+"")&&G(n,r)},d(e){e&&P(t)}}}function $G(e){let t,n;return t=new qi({props:{value:e[0].column.display_name,disabled:!e[3]}}),t.$on("input",e[12]),t.$on("change",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0].column.display_name),8&n&&(r.disabled=!e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mG(e){let t,n;return t=new XK({props:{columnInformation:e[4],columnsMetaData:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.columnInformation=e[4]),4&n&&(r.columnsMetaData=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fG(e){let t,n,r,o;n=new Mo({props:{label:e[10]("name"),layout:"stacked",$$slots:{default:[$G]},$$scope:{ctx:e}}});let s=e[4]&&mG(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),s&&s.c(),U(t,"slot","content"),U(t,"class","section-content")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1024&r&&(o.label=e[10]("name")),1048585&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o),e[4]?s?(s.p(e,r),16&r&&je(s,1)):(s=mG(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){qe(n.$$.fragment,e),qe(s),o=!1},d(e){e&&P(t),st(n),s&&s.d()}}}function hG(e){let t,n;return t=new cG({props:{selectedColumns:e[1],queryManager:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.selectedColumns=e[1]),8&n&&(r.queryManager=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gG(e){let t,n,r=e[10]("select_columns_view_properties")+"";return{c(){t=H("div"),n=F(r),U(t,"class","section-content")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1024&t&&r!==(r=e[10]("select_columns_view_properties")+"")&&G(n,r)},d(e){e&&P(t)}}}function yG(e){let t,n,r,o,s,i;const a=[dG,uG],l=[];function c(e,t){return e[5]?0:e[0]?1:-1}~(t=c(e))&&(n=l[t]=a[t](e));let u=e[1].length>0&&e[3]&&hG(e),d=!e[0]&&gG(e);return{c(){n&&n.c(),r=j(),u&&u.c(),o=j(),d&&d.c(),s=q()},m(e,n){~t&&l[t].m(e,n),L(e,r,n),u&&u.m(e,n),L(e,o,n),d&&d.m(e,n),L(e,s,n),i=!0},p(e,[i]){let p=t;t=c(e),t===p?~t&&l[t].p(e,i):(n&&(ze(),qe(l[p],1,1,(()=>{l[p]=null})),Fe()),~t?(n=l[t],n?n.p(e,i):(n=l[t]=a[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null),e[1].length>0&&e[3]?u?(u.p(e,i),10&i&&je(u,1)):(u=hG(e),u.c(),je(u,1),u.m(o.parentNode,o)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe()),e[0]?d&&(d.d(1),d=null):d?d.p(e,i):(d=gG(e),d.c(),d.m(s.parentNode,s))},i(e){i||(je(n),je(u),i=!0)},o(e){qe(n),qe(u),i=!1},d(e){~t&&l[t].d(e),e&&P(r),u&&u.d(e),e&&P(o),d&&d.d(e),e&&P(s)}}}function vG(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w=o,_=o,x=o,S=o;m(e,Mg,(e=>n(10,b=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x())),e.$$.on_destroy.push((()=>S()));let C,{queryHandler:E}=t;function k(e){if(window.clearTimeout(C),r&&$&&e!==$.column.display_name){const{alias:t}=$.column;r.update((n=>n.withDisplayNameForColumn(t,e)))}}return me((()=>{window.clearTimeout(C)})),e.$$set=e=>{"queryHandler"in e&&n(13,E=e.queryHandler)},e.$$.update=()=>{8192&e.$$.dirty&&n(3,r=E instanceof SK?E:void 0),8192&e.$$.dirty&&n(14,({selection:s,columnsMetaData:i,processedColumns:a}=E),s,(n(9,i),w(),w=p(i,(e=>n(2,h=e))),i),(n(8,a),_(),_=p(a,(e=>n(15,g=e))),a)),16384&e.$$.dirty&&(n(7,({selectedCells:l,columnsSelectedWhenTheTableIsEmpty:c}=s),l,(n(6,c),x(),x=p(c,(e=>n(16,y=e))),c)),S(),S=p(l,(e=>n(17,v=e)))),245760&e.$$.dirty&&n(1,u=(()=>{const e=s.getSelectedUniqueColumnsId(v,y),t=[];for(const n of e){const e=g.get(n);void 0!==e&&t.push(e)}return t})()),2&e.$$.dirty&&n(5,d=u.length>1),2&e.$$.dirty&&n(0,$=u.length>0?u[0]:void 0),5&e.$$.dirty&&n(4,f=$?h.get($.column.alias):void 0)},[$,u,h,r,f,d,c,l,a,i,b,function(e){k(e.target.value)},function(e){window.clearTimeout(C);const t=e.target;C=window.setTimeout((()=>{k(t.value)}),500)},E,s,g,y,v]}class bG extends at{constructor(e){super(),it(this,e,vG,yG,d,{queryHandler:13})}}function wG(e){let t,n=e[4]("select_cell_view_properties")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("select_cell_view_properties")+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function _G(e){let t,n,r,o,s,i,a=e[4]("content")+"",l=e[0]&&xG(e);return{c(){t=H("section"),n=H("header"),r=F(a),o=j(),s=H("div"),l&&l.c(),U(n,"class","svelte-19xlmcz"),U(s,"class","content svelte-19xlmcz"),U(t,"class","cell-content")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),O(t,s),l&&l.m(s,null),i=!0},p(e,t){(!i||16&t)&&a!==(a=e[4]("content")+"")&&G(r,a),e[0]?l?(l.p(e,t),1&t&&je(l,1)):(l=xG(e),l.c(),je(l,1),l.m(s,null)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){i||(je(l),i=!0)},o(e){qe(l),i=!1},d(e){e&&P(t),l&&l.d()}}}function xG(e){let t,n;return t=new RA({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:e[0],value:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.columnFabric=e[0]),2&n&&(r.value=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SG(e){let t,n,r,o;const s=[_G,wG],i=[];function a(e,t){return void 0!==e[1]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","section-content svelte-19xlmcz"),te(t,"has-content",void 0!==e[1])},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,[l]){let c=n;n=a(e),n===c?i[n].p(e,l):(ze(),qe(i[c],1,1,(()=>{i[c]=null})),Fe(),r=i[n],r?r.p(e,l):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null)),(!o||2&l)&&te(t,"has-content",void 0!==e[1])},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function CG(e,t,n){let r,s,i,a,l,c,u,d,$=o,f=o;m(e,Mg,(e=>n(4,d=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>f()));let{queryHandler:h}=t;return e.$$set=e=>{"queryHandler"in e&&n(5,h=e.queryHandler)},e.$$.update=()=>{32&e.$$.dirty&&n(6,({selection:r,processedColumns:s}=h),r,(n(3,s),$(),$=p(s,(e=>n(7,c=e))),s)),64&e.$$.dirty&&(n(2,({activeCell:i}=r),i),f(),f=p(i,(e=>n(8,u=e)))),288&e.$$.dirty&&n(1,a=(()=>{const e=u;if(e){const t=h.getRows();if(t[e.rowIndex])return t[e.rowIndex].record[e.columnId]}})()),384&e.$$.dirty&&n(0,l=(()=>{const e=u;if(e){const t=c.get(String(e.columnId));if(t)return t}})())},[l,a,i,s,d,h,r,c,u]}class EG extends at{constructor(e){super(),it(this,e,CG,SG,d,{queryHandler:5})}}function kG(e){let t,n;return t=new EG({props:{queryHandler:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IG(e){let t,n;return t=new bG({props:{queryHandler:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TG(e){let t,n;return t=new FK({props:{queryHandler:e[0],name:e[7].name,description:e[7].description,canEditMetadata:e[1]}}),t.$on("delete",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryHandler=e[0]),128&n&&(r.name=e[7].name),128&n&&(r.description=e[7].description),2&n&&(r.canEditMetadata=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function DG(e){let t,n,r,o;const s=[TG,IG,kG],i=[];function a(e,t){return"inspect-exploration"===e[6]?.id?0:"inspect-column"===e[6]?.id?1:"inspect-cell"===e[6]?.id?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function MG(e){let t,n,r,o;function s(t){e[10](t)}let i={tabStyle:"compact",tabs:e[5],fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[DG]},$$scope:{ctx:e}};return void 0!==e[6]&&(i.activeTab=e[6]),n=new jd({props:i}),we.push((()=>nt(n,"activeTab",s))),{c(){t=H("aside"),rt(n.$$.fragment),U(t,"class","exploration-inspector svelte-1kgdc5w")},m(e,r){L(e,t,r),ot(n,t,null),o=!0},p(e,[t]){const o={};32&t&&(o.tabs=e[5]),2243&t&&(o.$$scope={dirty:t,ctx:e}),!r&&64&t&&(r=!0,o.activeTab=e[6],Te((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function OG(e,t,n){let r,s,i,a,l,c,u,d=o,$=o,m=o;e.$$.on_destroy.push((()=>d())),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>m()));let{queryHandler:f}=t,{canEditMetadata:h}=t;return e.$$set=e=>{"queryHandler"in e&&n(0,f=e.queryHandler),"canEditMetadata"in e&&n(1,h=e.canEditMetadata)},e.$$.update=()=>{1&e.$$.dirty&&n(8,({inspector:r,query:s}=f),r,(n(4,s),m(),m=p(s,(e=>n(7,u=e))),s)),256&e.$$.dirty&&(n(3,({tabs:i,activeTab:a}=r),i,(n(2,a),$(),$=p(a,(e=>n(6,c=e))),a)),d(),d=p(i,(e=>n(5,l=e))))},[f,h,a,i,s,l,c,u,r,function(t){ve.call(this,e,t)},function(e){c=e,a.set(c)}]}class NG extends at{constructor(e){super(),it(this,e,OG,MG,d,{queryHandler:0,canEditMetadata:1})}}function AG(e){let t;const n=e[4].default,r=f(n,e,e[7],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||128&o)&&y(r,n,e,e[7],t?g(n,e[7],o,null):v(e[7]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function LG(e){let t,n;return t=new NG({props:{slot:"panel",queryHandler:e[1],canEditMetadata:e[2]}}),t.$on("delete",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),4&n&&(r.canEditMetadata=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function PG(e){let t,n,r;function o(t){e[6](t)}let s={showPanel:e[0],minSizePx:250,maxSizePx:600,$$slots:{panel:[LG],default:[AG]},$$scope:{ctx:e}};return void 0!==e[3]&&(s.sizePx=e[3]),t=new dc({props:s}),we.push((()=>nt(t,"sizePx",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};1&r&&(o.showPanel=e[0]),134&r&&(o.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,o.sizePx=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function RG(e,t,n){let r;m(e,wb,(e=>n(3,r=e)));let{$$slots:o={},$$scope:s}=t,{isInspectorOpen:i}=t,{queryHandler:a}=t,{canEditMetadata:l}=t;return e.$$set=e=>{"isInspectorOpen"in e&&n(0,i=e.isInspectorOpen),"queryHandler"in e&&n(1,a=e.queryHandler),"canEditMetadata"in e&&n(2,l=e.canEditMetadata),"$$scope"in e&&n(7,s=e.$$scope)},[i,a,l,r,o,function(t){ve.call(this,e,t)},function(e){r=e,wb.set(r)},s]}class HG extends at{constructor(e){super(),it(this,e,RG,PG,d,{isInspectorOpen:0,queryHandler:1,canEditMetadata:2})}}function zG(e){let t,n;return t=new Ei({props:{$$slots:{content:[qG],trigger:[jG]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};38&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FG(e){let t;return{c(){t=F(e[1])},m(e,n){L(e,t,n)},p(e,n){2&n&&G(t,e[1])},d(e){e&&P(t)}}}function jG(e){let t,n;return t=new yn({props:{slot:"trigger",$$slots:{default:[FG]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qG(e){let t,n=e[2]("column_added_number_of_times",{values:{count:e[1]}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){6&r&&n!==(n=e[2]("column_added_number_of_times",{values:{count:e[1]}})+"")&&G(t,n)},d(e){e&&P(t)}}}function VG(e){let t,n,r,o,s,i,a,l,c,u,d=e[2]("add")+"";n=new bA({props:{column:{...e[0],type:e[0].producesMultipleResults?"_array":e[0].type,type_options:e[0].producesMultipleResults?{item_type:e[0].type}:null,display_options:null}}});let p=e[1]>0&&zG(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("span"),s=H("span"),i=F(d),a=j(),p&&p.c(),l=j(),c=H("span"),c.textContent="+",U(t,"class","name svelte-13k4j7k"),U(s,"class","text svelte-13k4j7k"),U(o,"class","add svelte-13k4j7k")},m(e,d){L(e,t,d),ot(n,t,null),L(e,r,d),L(e,o,d),O(o,s),O(s,i),O(o,a),p&&p.m(o,null),O(o,l),O(o,c),u=!0},p(e,t){const r={};1&t&&(r.column={...e[0],type:e[0].producesMultipleResults?"_array":e[0].type,type_options:e[0].producesMultipleResults?{item_type:e[0].type}:null,display_options:null}),n.$set(r),(!u||4&t)&&d!==(d=e[2]("add")+"")&&G(i,d),e[1]>0?p?(p.p(e,t),2&t&&je(p,1)):(p=zG(e),p.c(),je(p,1),p.m(o,l)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe())},i(e){u||(je(n.$$.fragment,e),je(p),u=!0)},o(e){qe(n.$$.fragment,e),qe(p),u=!1},d(e){e&&P(t),st(n),e&&P(r),e&&P(o),p&&p.d()}}}function BG(e){let t,n,r;return n=new Hn({props:{$$slots:{default:[VG]},$$scope:{ctx:e}}}),n.$on("click",e[4]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","selectable-column svelte-13k4j7k")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};39&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function WG(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));const o=fe();let{column:s}=t,{usageCount:i=0}=t;return e.$$set=e=>{"column"in e&&n(0,s=e.column),"usageCount"in e&&n(1,i=e.usageCount)},[s,i,r,o,()=>o("add",s)]}class UG extends at{constructor(e){super(),it(this,e,WG,BG,d,{column:0,usageCount:1})}}function YG(e){let t,n=e[3]("via_column",{values:{columnName:e[1].name}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){10&r&&n!==(n=e[3]("via_column",{values:{columnName:e[1].name}})+"")&&G(t,n)},d(e){e&&P(t)}}}function KG(e){let t,n,r,o,s,a,l,c,u;const d=[gr,{size:"0.7rem"},{rotate:e[8]?void 0:270}];let p={};for(let $=0;$<d.length;$+=1)p=i(p,d[$]);return n=new Kr({props:p}),s=new gw({props:{table:{name:e[2]}}}),c=new nc({props:{$$slots:{default:[YG]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),r=j(),o=H("span"),rt(s.$$.fragment),a=j(),l=H("span"),rt(c.$$.fragment),U(o,"class","svelte-18wa4a1"),U(t,"class","table-name svelte-18wa4a1"),U(l,"class","fk-column svelte-18wa4a1")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),O(t,o),ot(s,o,null),L(e,a,i),L(e,l,i),ot(c,l,null),u=!0},p(e,t){const r=256&t?et(d,[0&t&&tt(gr),d[1],256&t&&{rotate:e[8]?void 0:270}]):{};n.$set(r);const o={};4&t&&(o.table={name:e[2]}),s.$set(o);const i={};74&t&&(i.$$scope={dirty:t,ctx:e}),c.$set(i)},i(e){u||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(n),st(s),e&&P(a),e&&P(l),st(c)}}}function GG(e){let t,n;return t=new Hn({props:{appearance:"plain",class:"column-name",$$slots:{default:[KG]},$$scope:{ctx:e}}}),t.$on("click",(function(){u(e[7])&&e[7].apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};334&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function XG(e){let t,n,r,o;const s=e[4].default,i=f(s,e,e[6],null);return{c(){t=H("div"),i&&i.c(),n=j(),r=H("div"),U(r,"class","line-down svelte-18wa4a1"),U(t,"class","column-list svelte-18wa4a1"),U(t,"slot","content")},m(e,s){L(e,t,s),i&&i.m(t,null),O(t,n),O(t,r),o=!0},p(e,t){i&&i.p&&(!o||64&t)&&y(i,s,e,e[6],o?g(s,e[6],t,null):v(e[6]),null)},i(e){o||(je(i,e),o=!0)},o(e){qe(i,e),o=!1},d(e){e&&P(t),i&&i.d(e)}}}function ZG(e){let t,n,r,o;function s(t){e[5](t)}let i={$$slots:{content:[XG],trigger:[GG,({toggle:e,isOpen:t})=>({7:e,8:t}),({toggle:e,isOpen:t})=>(e?128:0)|(t?256:0)]},$$scope:{ctx:e}};return void 0!==e[0][e[1].id]&&(i.isOpen=e[0][e[1].id]),n=new Bs({props:i}),we.push((()=>nt(n,"isOpen",s))),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","table-group svelte-18wa4a1")},m(e,r){L(e,t,r),ot(n,t,null),o=!0},p(e,[t]){const o={};462&t&&(o.$$scope={dirty:t,ctx:e}),!r&&3&t&&(r=!0,o.isOpen=e[0][e[1].id],Te((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function JG(e,t,n){let r;m(e,Mg,(e=>n(3,r=e)));let{$$slots:o={},$$scope:s}=t,{linkCollapsibleOpenState:i={}}=t,{column:a}=t,{tableName:l}=t;return e.$$set=e=>{"linkCollapsibleOpenState"in e&&n(0,i=e.linkCollapsibleOpenState),"column"in e&&n(1,a=e.column),"tableName"in e&&n(2,l=e.tableName),"$$scope"in e&&n(6,s=e.$$scope)},[i,a,l,r,o,function(t){e.$$.not_equal(i[a.id],t)&&(i[a.id]=t,n(0,i))},s]}class QG extends at{constructor(e){super(),it(this,e,JG,ZG,d,{linkCollapsibleOpenState:0,column:1,tableName:2})}}function eX(e,t,n){const r=e.slice();return r[6]=t[n][0],r[7]=t[n][1],r}function tX(e){let t,n;return t=new UG({props:{column:e[7],usageCount:e[3].getColumnCount(e[6])}}),t.$on("add",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.column=e[7]),12&n&&(r.usageCount=e[3].getColumnCount(e[6])),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nX(e){let t,n;return t=new QG({props:{tableName:e[7].linksTo.name,column:e[7],linkCollapsibleOpenState:e[1],$$slots:{default:[rX]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.tableName=e[7].linksTo.name),4&n&&(r.column=e[7]),2&n&&(r.linkCollapsibleOpenState=e[1]),1031&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rX(e){let t,n,r;return t=new aX({props:{linkCollapsibleOpenState:e[1],columnsWithLinks:e[7].linksTo.columns,query:e[0]}}),t.$on("add",e[4]),{c(){rt(t.$$.fragment),n=j()},m(e,o){ot(t,e,o),L(e,n,o),r=!0},p(e,n){const r={};2&n&&(r.linkCollapsibleOpenState=e[1]),4&n&&(r.columnsWithLinks=e[7].linksTo.columns),1&n&&(r.query=e[0]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&P(n)}}}function oX(e,t){let n,r,o,s,i;const a=[nX,tX],l=[];function c(e,t){return e[7].linksTo?0:1}return r=c(t),o=l[r]=a[r](t),{key:e,first:null,c(){n=q(),o.c(),s=q(),this.first=n},m(e,t){L(e,n,t),l[r].m(e,t),L(e,s,t),i=!0},p(e,n){let i=r;r=c(t=e),r===i?l[r].p(t,n):(ze(),qe(l[i],1,1,(()=>{l[i]=null})),Fe(),o=l[r],o?o.p(t,n):(o=l[r]=a[r](t),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){i||(je(o),i=!0)},o(e){qe(o),i=!1},d(e){e&&P(n),l[r].d(e),e&&P(s)}}}function sX(e){let t,n,r=[],o=new Map,s=[...e[2]];const i=e=>e[6];for(let a=0;a<s.length;a+=1){let t=eX(e,s,a),n=i(t);o.set(n,r[a]=oX(n,t))}return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","selectable-column-tree")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){15&n&&(s=[...e[2]],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,oX,null,eX),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function iX(e,t,n){let r,s=o,i=()=>(s(),s=p(a,(e=>n(3,r=e))),a);e.$$.on_destroy.push((()=>s()));let{query:a}=t;i();let{linkCollapsibleOpenState:l={}}=t,{columnsWithLinks:c}=t;return e.$$set=e=>{"query"in e&&i(n(0,a=e.query)),"linkCollapsibleOpenState"in e&&n(1,l=e.linkCollapsibleOpenState),"columnsWithLinks"in e&&n(2,c=e.columnsWithLinks)},[a,l,c,r,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class aX extends at{constructor(e){super(),it(this,e,iX,sX,d,{query:0,linkCollapsibleOpenState:1,columnsWithLinks:2})}}const{Map:lX}=Ge;function cX(e,t,n){const r=e.slice();return r[16]=t[n],r}function uX(e,t,n){const r=e.slice();return r[19]=t[n][0],r[20]=t[n][1],r}function dX(e,t){let n,r,o;return r=new UG({props:{column:t[20],usageCount:t[4].getColumnCount(t[19])}}),r.$on("add",t[13]),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.column=t[20]),24&n&&(o.usageCount=t[4].getColumnCount(t[19])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function pX(e){let t,n,r,o=e[6]&&mX(e),s=e[5]&&fX(e);return{c(){o&&o.c(),t=j(),s&&s.c(),n=q()},m(e,i){o&&o.m(e,i),L(e,t,i),s&&s.m(e,i),L(e,n,i),r=!0},p(e,r){e[6]?o?(o.p(e,r),64&r&&je(o,1)):(o=mX(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[5]?s?(s.p(e,r),32&r&&je(s,1)):(s=fX(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){o&&o.d(e),e&&P(t),s&&s.d(e),e&&P(n)}}}function $X(e){let t,n,r,s,i,a,l,c=e[10]("from_linked_tables")+"",u=e[10]("one_column_from_base_is_required")+"";return{c(){t=H("section"),n=H("header"),r=F(c),s=j(),i=H("div"),a=H("div"),l=F(u),U(n,"class","svelte-1fgd2mb"),U(a,"class","help-text svelte-1fgd2mb"),U(i,"class","content svelte-1fgd2mb")},m(e,o){L(e,t,o),O(t,n),O(n,r),O(t,s),O(t,i),O(i,a),O(a,l)},p(e,t){1024&t&&c!==(c=e[10]("from_linked_tables")+"")&&G(r,c),1024&t&&u!==(u=e[10]("one_column_from_base_is_required")+"")&&G(l,u)},i:o,o:o,d(e){e&&P(t)}}}function mX(e){let t,n,r,o,s,i,a,l=e[10]("linked_from_base_table")+"";return i=new aX({props:{columnsWithLinks:e[2],linkCollapsibleOpenState:e[0],query:e[8]}}),i.$on("add",e[14]),{c(){t=H("section"),n=H("header"),r=F(l),o=j(),s=H("div"),rt(i.$$.fragment),U(n,"class","svelte-1fgd2mb"),U(s,"class","content svelte-1fgd2mb")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(t,o),O(t,s),ot(i,s,null),a=!0},p(e,t){(!a||1024&t)&&l!==(l=e[10]("linked_from_base_table")+"")&&G(r,l);const n={};4&t&&(n.columnsWithLinks=e[2]),1&t&&(n.linkCollapsibleOpenState=e[0]),256&t&&(n.query=e[8]),i.$set(n)},i(e){a||(je(i.$$.fragment,e),a=!0)},o(e){qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(i)}}}function fX(e){let t,n,r,o,s,i,a=e[10]("linked_to_base_table")+"",l=e[7]&&hX(e);return{c(){t=H("section"),n=H("header"),r=F(a),o=j(),s=H("div"),l&&l.c(),U(n,"class","svelte-1fgd2mb"),U(s,"class","content svelte-1fgd2mb"),U(s,"data-identifier","referenced-by-tables")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),O(t,s),l&&l.m(s,null),i=!0},p(e,t){(!i||1024&t)&&a!==(a=e[10]("linked_to_base_table")+"")&&G(r,a),e[7]?l?(l.p(e,t),128&t&&je(l,1)):(l=hX(e),l.c(),je(l,1),l.m(s,null)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){i||(je(l),i=!0)},o(e){qe(l),i=!1},d(e){e&&P(t),l&&l.d()}}}function hX(e){let t,n,r=[],o=new lX,s=e[1];const i=e=>e[16];for(let a=0;a<s.length;a+=1){let t=cX(e,s,a),n=i(t);o.set(n,r[a]=yX(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){259&n&&(s=e[1],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,yX,t,cX),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function gX(e){let t,n,r;return t=new aX({props:{linkCollapsibleOpenState:e[0],columnsWithLinks:e[16].columns,query:e[8]}}),t.$on("add",e[15]),{c(){rt(t.$$.fragment),n=j()},m(e,o){ot(t,e,o),L(e,n,o),r=!0},p(e,n){const r={};1&n&&(r.linkCollapsibleOpenState=e[0]),2&n&&(r.columnsWithLinks=e[16].columns),256&n&&(r.query=e[8]),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&P(n)}}}function yX(e,t){let n,r,o;return r=new QG({props:{tableName:t[16].name,column:t[16].referencedViaColumn,linkCollapsibleOpenState:t[0],$$slots:{default:[gX]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.tableName=t[16].name),2&n&&(o.column=t[16].referencedViaColumn),1&n&&(o.linkCollapsibleOpenState=t[0]),8388867&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function vX(e){let t,n,r,o,s,i,a,l,c,u,d=e[10]("from_base_table")+"",p=[],$=new lX,m=[...e[3]];const f=e=>e[19];for(let v=0;v<m.length;v+=1){let t=uX(e,m,v),n=f(t);$.set(n,p[v]=dX(n,t))}const h=[$X,pX],g=[];function y(e,t){return e[7]||!e[6]&&!e[5]?1:0}return l=y(e),c=g[l]=h[l](e),{c(){t=H("div"),n=H("section"),r=H("header"),o=F(d),s=j(),i=H("div");for(let e=0;e<p.length;e+=1)p[e].c();a=j(),c.c(),U(r,"class","svelte-1fgd2mb"),U(i,"class","content svelte-1fgd2mb"),U(t,"data-identifier","column-selection-list"),U(t,"class","svelte-1fgd2mb")},m(e,c){L(e,t,c),O(t,n),O(n,r),O(r,o),O(n,s),O(n,i);for(let t=0;t<p.length;t+=1)p[t].m(i,null);O(t,a),g[l].m(t,null),u=!0},p(e,[n]){(!u||1024&n)&&d!==(d=e[10]("from_base_table")+"")&&G(o,d),24&n&&(m=[...e[3]],ze(),p=Qe(p,n,f,1,e,m,$,i,Ze,dX,null,uX),Fe());let r=l;l=y(e),l===r?g[l].p(e,n):(ze(),qe(g[r],1,1,(()=>{g[r]=null})),Fe(),c=g[l],c?c.p(e,n):(c=g[l]=h[l](e),c.c()),je(c,1),c.m(t,null))},i(e){if(!u){for(let e=0;e<m.length;e+=1)je(p[e]);je(c),u=!0}},o(e){for(let t=0;t<p.length;t+=1)qe(p[t]);qe(c),u=!1},d(e){e&&P(t);for(let t=0;t<p.length;t+=1)p[t].d();g[l].d()}}}function bX(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g=o,y=o;m(e,Mg,(e=>n(10,h=e))),e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>y()));let{queryManager:v}=t,{linkCollapsibleOpenState:b={}}=t;return e.$$set=e=>{"queryManager"in e&&n(11,v=e.queryManager),"linkCollapsibleOpenState"in e&&n(0,b=e.linkCollapsibleOpenState)},e.$$.update=()=>{2048&e.$$.dirty&&(n(9,({inputColumns:r,query:s}=v),r,(n(8,s),g(),g=p(s,(e=>n(4,$=e))),s)),y(),y=p(r,(e=>n(12,f=e)))),4096&e.$$.dirty&&n(3,({baseTableColumns:i,tablesThatReferenceBaseTable:a}=f),i,(n(1,a),n(12,f))),16&e.$$.dirty&&n(7,l=$.initial_columns.length>0),8&e.$$.dirty&&n(2,c=new Map([...i].filter((([,e])=>void 0!==e.linksTo)))),4&e.$$.dirty&&n(6,u=c.size>0),2&e.$$.dirty&&n(5,d=a.length>0)},[b,a,c,i,$,d,u,l,s,r,h,v,f,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class wX extends at{constructor(e){super(),it(this,e,bX,vX,d,{queryManager:11,linkCollapsibleOpenState:0})}}function _X(e){let t,n,r,o,s;function i(t){e[6](t)}function a(t){e[7](t)}function l(t){e[8](t)}let c={allowDelete:!1,columns:e[1],getColumnLabel:e[5],disableColumnChange:e[3],layout:"vertical",numberOfFilters:e[2]};return void 0!==e[0].columnIdentifier&&(c.columnIdentifier=e[0].columnIdentifier),void 0!==e[0].conditionIdentifier&&(c.conditionIdentifier=e[0].conditionIdentifier),void 0!==e[0].value&&(c.value=e[0].value),t=new cK({props:c}),we.push((()=>nt(t,"columnIdentifier",i))),we.push((()=>nt(t,"conditionIdentifier",a))),we.push((()=>nt(t,"value",l))),t.$on("update",e[4]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),s=!0},p(e,[s]){const i={};2&s&&(i.columns=e[1]),2&s&&(i.getColumnLabel=e[5]),8&s&&(i.disableColumnChange=e[3]),4&s&&(i.numberOfFilters=e[2]),!n&&1&s&&(n=!0,i.columnIdentifier=e[0].columnIdentifier,Te((()=>n=!1))),!r&&1&s&&(r=!0,i.conditionIdentifier=e[0].conditionIdentifier,Te((()=>r=!1))),!o&&1&s&&(o=!0,i.value=e[0].value,Te((()=>o=!1))),t.$set(i)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e)}}}function xX(e,t,n){const r=fe();let{columns:o}=t,{model:s}=t,{totalTransformations:i}=t,{limitEditing:a=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,o=e.columns),"model"in e&&n(0,s=e.model),"totalTransformations"in e&&n(2,i=e.totalTransformations),"limitEditing"in e&&n(3,a=e.limitEditing)},[s,o,i,a,function(){r("update")},e=>o.get(e.id)?.column.display_name??"",function(t){e.$$.not_equal(s.columnIdentifier,t)&&(s.columnIdentifier=t,n(0,s))},function(t){e.$$.not_equal(s.conditionIdentifier,t)&&(s.conditionIdentifier=t,n(0,s))},function(t){e.$$.not_equal(s.value,t)&&(s.value=t,n(0,s))}]}class SX extends at{constructor(e){super(),it(this,e,xX,_X,d,{columns:1,model:0,totalTransformations:2,limitEditing:3})}}function CX(e){const t=e[2].get(e[23]);e[24]=t}function EX(e){let t,n;return CX(e),t=new bA({props:{column:{name:e[3](e[24]),type:e[24]?.column.type??"unknown",type_options:e[24]?.column.type_options??null,display_options:e[24]?.column.display_options??null,constraintsType:e[11](e[23])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){CX(e);const r={};8388620&n&&(r.column={name:e[3](e[24]),type:e[24]?.column.type??"unknown",type_options:e[24]?.column.type_options??null,display_options:e[24]?.column.display_options??null,constraintsType:e[11](e[23])}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kX(e){let t,n,r;function o(t){e[20](t)}let s={options:e[7],autoSelect:"none",getLabel:e[19]};return void 0!==e[1]&&(s.value=e[1]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[12]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};128&r&&(o.options=e[7]),576&r&&(o.getLabel=e[19]),!n&&2&r&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function IX(e){let t,n;return t=new Hn({props:{appearance:"secondary",$$slots:{default:[TX]},$$scope:{ctx:e}}}),t.$on("click",e[21]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};33554432&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TX(e){let t,n;const r=[{size:"0.8rem"},sy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(sy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function DX(e){let t,n,r,o,s,i;function a(t){e[18](t)}let l={options:e[8],autoSelect:"none",disabled:e[4],getLabel:e[17],$$slots:{default:[EX,({option:e})=>({23:e}),({option:e})=>e?8388608:0]},$$scope:{ctx:e}};void 0!==e[0]&&(l.value=e[0]),t=new gu({props:l}),we.push((()=>nt(t,"value",a))),t.$on("change",e[13]);let c=e[7].length>1&&kX(e),u=e[5]&&IX(e);return{c(){rt(t.$$.fragment),r=j(),c&&c.c(),o=j(),u&&u.c(),s=q()},m(e,n){ot(t,e,n),L(e,r,n),c&&c.m(e,n),L(e,o,n),u&&u.m(e,n),L(e,s,n),i=!0},p(e,r){const i={};256&r&&(i.options=e[8]),16&r&&(i.disabled=e[4]),12&r&&(i.getLabel=e[17]),41943052&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i),e[7].length>1?c?(c.p(e,r),128&r&&je(c,1)):(c=kX(e),c.c(),je(c,1),c.m(o.parentNode,o)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe()),e[5]?u?(u.p(e,r),32&r&&je(u,1)):(u=IX(e),u.c(),je(u,1),u.m(s.parentNode,s)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe())},i(e){i||(je(t.$$.fragment,e),je(c),je(u),i=!0)},o(e){qe(t.$$.fragment,e),qe(c),qe(u),i=!1},d(e){st(t,e),e&&P(r),c&&c.d(e),e&&P(o),u&&u.d(e),e&&P(s)}}}function MX(e){let t,n;return t=new Pi({props:{$$slots:{default:[DX]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};33555455&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function OX(e,t,n){let r,o,s,i,a;m(e,Mg,(e=>n(9,a=e)));const l=fe();let{columns:c}=t,{getColumnLabel:u}=t,{getColumnConstraintType:d=(()=>{})}=t,{columnsAllowedForSelection:p}=t,{columnIdentifier:$}=t,{preprocFunctionIdentifier:f}=t,{disableColumnChange:h=!1}=t,{allowDelete:g=!0}=t;async function y(){await ke(),l("update",{columnIdentifier:$,preprocFunctionIdentifier:f})}return e.$$set=e=>{"columns"in e&&n(2,c=e.columns),"getColumnLabel"in e&&n(3,u=e.getColumnLabel),"getColumnConstraintType"in e&&n(14,d=e.getColumnConstraintType),"columnsAllowedForSelection"in e&&n(15,p=e.columnsAllowedForSelection),"columnIdentifier"in e&&n(0,$=e.columnIdentifier),"preprocFunctionIdentifier"in e&&n(1,f=e.preprocFunctionIdentifier),"disableColumnChange"in e&&n(4,h=e.disableColumnChange),"allowDelete"in e&&n(5,g=e.allowDelete)},e.$$.update=()=>{var t,l;4&e.$$.dirty&&n(16,r=[...c.values()].map((e=>e.id))),98305&e.$$.dirty&&n(8,o=function(e,t,n){let r=n??e;return r?.some((e=>e===t))||(r=[t,...r]),r}(r,$,p)),5&e.$$.dirty&&n(7,s=[void 0,...c.get($)?.preprocFunctions.map((e=>e.id))??[]]??[void 0]),5&e.$$.dirty&&n(6,(t=c,l=$,i=e=>void 0===e?a("value"):t.get(l)?.preprocFunctions.find((t=>t.id===e))?.name??e))},[$,f,c,u,h,g,i,s,o,a,l,function(e){if(e){const t=c.get(e);if(t)return d(t)}},y,async function(){n(1,f=void 0),await y()},d,p,r,e=>e?u(c.get(e)):"",function(e){$=e,n(0,$)},e=>void 0===e?a("value"):i(e),function(e){f=e,n(1,f)},()=>l("removeGroup")]}class NX extends at{constructor(e){super(),it(this,e,OX,MX,d,{columns:2,getColumnLabel:3,getColumnConstraintType:14,columnsAllowedForSelection:15,columnIdentifier:0,preprocFunctionIdentifier:1,disableColumnChange:4,allowDelete:5})}}function AX(e){let t,n,r;function o(t){e[8](t)}let s={options:e[4],disabled:e[2],getLabel:e[7]};return void 0!==e[0].function&&(s.value=e[0].function),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[9]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};16&r&&(o.options=e[4]),4&r&&(o.disabled=e[2]),8&r&&(o.getLabel=e[7]),!n&&1&r&&(n=!0,o.value=e[0].function,Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function LX(e){let t,n,r,o;const s=[RX,PX],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function PX(e){let t,n,r=e[0].inputAlias+"";return{c(){t=H("div"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0].inputAlias+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function RX(e){let t,n;return t=new bA({props:{column:{...e[1].column,name:e[1].column.display_name??e[1].column.alias}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.column={...e[1].column,name:e[1].column.display_name??e[1].column.alias}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function HX(e){let t,n,r,o;const s=[LX,AX],i=[];function a(e,t){return"column"===e[11]?0:"function"===e[11]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function zX(e){let t,n;const r=[hr,{size:"0.8rem"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(hr),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function FX(e){let t,n,r,o,s;return n=new Kg({props:{text:e[5]("aggregate_column_as_function"),$$slots:{default:[HX,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),o=new Hn({props:{disabled:e[2],appearance:"plain",$$slots:{default:[zX]},$$scope:{ctx:e}}}),o.$on("click",e[10]),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","aggregation svelte-56xg2q")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,[t]){const r={};32&t&&(r.text=e[5]("aggregate_column_as_function")),6175&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4&t&&(s.disabled=e[2]),4096&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function jX(e,t,n){let r,o,s;m(e,Mg,(e=>n(5,s=e)));const i=fe();let{processedColumn:a}=t,{aggregation:l}=t,{limitEditing:c=!1}=t;return e.$$set=e=>{"processedColumn"in e&&n(1,a=e.processedColumn),"aggregation"in e&&n(0,l=e.aggregation),"limitEditing"in e&&n(2,c=e.limitEditing)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=a?.summarizationFunctions??[]),8&e.$$.dirty&&n(4,o=r.map((e=>e.id)))},[l,a,c,r,o,s,i,e=>r.find((t=>t.id===e))?.label??"",function(t){e.$$.not_equal(l.function,t)&&(l.function=t,n(0,l))},()=>i("update"),()=>i("remove")]}class qX extends at{constructor(e){super(),it(this,e,jX,FX,d,{processedColumn:1,aggregation:0,limitEditing:2})}}function VX(e,t,n){const r=e.slice();return r[15]=t[n],r}function BX(e){const t=e[1].get(e[18])?.column;e[19]=t}function WX(e){let t,n,r;return n=new Mo({props:{label:e[5]("not_aggregated"),layout:"stacked",$$slots:{default:[YX]},$$scope:{ctx:e}}}),{c(){t=H("section"),rt(n.$$.fragment),U(t,"class","svelte-1a5pfoa")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.label=e[5]("not_aggregated")),1048599&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function UX(e){let t,n;return BX(e),t=new bA({props:{column:{name:e[19]?.display_name??"",type:e[19]?.type??"unknown",type_options:e[19]?.type_options??null,display_options:null}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){BX(e);const r={};262146&n&&(r.column={name:e[19]?.display_name??"",type:e[19]?.type??"unknown",type_options:e[19]?.type_options??null,display_options:null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YX(e){let t,n;return t=new vl({props:{values:[...e[4].values()].map(ZX),options:[...e[1].without(e[0].columnIdentifier).values()].map(JX),autoClearInvalidValues:!1,disabled:e[2],$$slots:{default:[UX,({option:e})=>({18:e}),({option:e})=>e?262144:0]},$$scope:{ctx:e}}}),t.$on("change",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.values=[...e[4].values()].map(ZX)),3&n&&(r.options=[...e[1].without(e[0].columnIdentifier).values()].map(JX)),4&n&&(r.disabled=e[2]),1310722&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function KX(e){let t,n,r,o,s,i=e[5]("aggregate")+"",a=[],l=new Map,c=[...e[3].values()];const u=e=>e[15].inputAlias;for(let d=0;d<c.length;d+=1){let t=VX(e,c,d),n=u(t);l.set(n,a[d]=GX(n,t))}return{c(){t=H("section"),n=H("header"),r=F(i),o=j();for(let e=0;e<a.length;e+=1)a[e].c();U(t,"class","svelte-1a5pfoa")},m(e,i){L(e,t,i),O(t,n),O(n,r),O(t,o);for(let n=0;n<a.length;n+=1)a[n].m(t,null);s=!0},p(e,n){(!s||32&n)&&i!==(i=e[5]("aggregate")+"")&&G(r,i),270&n&&(c=[...e[3].values()],ze(),a=Qe(a,n,u,1,e,c,l,t,Ze,GX,null,VX),Fe())},i(e){if(!s){for(let e=0;e<c.length;e+=1)je(a[e]);s=!0}},o(e){for(let t=0;t<a.length;t+=1)qe(a[t]);s=!1},d(e){e&&P(t);for(let t=0;t<a.length;t+=1)a[t].d()}}}function GX(e,t){let n,r,o;return r=new qX({props:{processedColumn:t[1].get(t[15].inputAlias),aggregation:t[15],limitEditing:t[2]}}),r.$on("update",t[12]),r.$on("remove",(function(){return t[13](t[15])})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};10&n&&(o.processedColumn=t[1].get(t[15].inputAlias)),8&n&&(o.aggregation=t[15]),4&n&&(o.limitEditing=t[2]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function XX(e){let t,n,r,o,s;n=new NX({props:{allowDelete:!1,columns:e[1],getColumnLabel:e[9],disableColumnChange:e[2],columnIdentifier:e[0].columnIdentifier,preprocFunctionIdentifier:e[0].preprocFunctionIdentifier}}),n.$on("update",e[10]);let i=e[4].size>0&&WX(e),a=e[3].size>0&&KX(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),i&&i.c(),o=j(),a&&a.c(),U(t,"class","summarization svelte-1a5pfoa")},m(e,l){L(e,t,l),ot(n,t,null),O(t,r),i&&i.m(t,null),O(t,o),a&&a.m(t,null),s=!0},p(e,[r]){const s={};2&r&&(s.columns=e[1]),2&r&&(s.getColumnLabel=e[9]),4&r&&(s.disableColumnChange=e[2]),1&r&&(s.columnIdentifier=e[0].columnIdentifier),1&r&&(s.preprocFunctionIdentifier=e[0].preprocFunctionIdentifier),n.$set(s),e[4].size>0?i?(i.p(e,r),16&r&&je(i,1)):(i=WX(e),i.c(),je(i,1),i.m(t,o)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[3].size>0?a?(a.p(e,r),8&r&&je(a,1)):(a=KX(e),a.c(),je(a,1),a.m(t,null)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe())},i(e){s||(je(n.$$.fragment,e),je(i),je(a),s=!0)},o(e){qe(n.$$.fragment,e),qe(i),qe(a),s=!1},d(e){e&&P(t),st(n),i&&i.d(),a&&a.d()}}}const ZX=e=>e.inputAlias,JX=e=>e.column.alias;function QX(e,t,n){let r,o,s;m(e,Mg,(e=>n(5,s=e)));const i=fe();let{columns:a}=t,{model:l}=t,{limitEditing:c=!1}=t;function u(e){const{columnIdentifier:t,preprocFunctionIdentifier:s}=e;t!==l.columnIdentifier&&(n(4,o=new dt),n(3,r=new dt),n(0,l.aggregations=r,l),n(0,l.groups=o,l)),n(0,l.columnIdentifier=t,l),n(0,l.preprocFunctionIdentifier=s,l),i("update",l)}function d(e){let t=r;const s=new Set(e);[...a.values()].forEach((e=>{const n=e.column.alias;s.has(n)||l.columnIdentifier===n||(t=t.with(n,{inputAlias:n,outputAlias:`${n}_agged`,function:"distinct_aggregate_to_array"}))})),n(3,r=t),n(4,o=new dt(e.map((e=>[e,{inputAlias:e,outputAlias:`${e}_group`}])))),n(0,l.aggregations=r,l),n(0,l.groups=o,l),i("update",l)}function p(e){n(4,o=o.with(e.inputAlias,{inputAlias:e.inputAlias,outputAlias:`${e.inputAlias}_group`})),n(3,r=r.without(e.inputAlias)),n(0,l.groups=o,l),n(0,l.aggregations=r,l),i("update",l)}return e.$$set=e=>{"columns"in e&&n(1,a=e.columns),"model"in e&&n(0,l=e.model),"limitEditing"in e&&n(2,c=e.limitEditing)},e.$$.update=()=>{1&e.$$.dirty&&n(3,({aggregations:r,groups:o}=l),r,(n(4,o),n(0,l)))},[l,a,c,r,o,s,u,d,p,e=>(e&&a.get(e.id)?.column.display_name)??"",e=>u(e.detail),e=>d(e.detail),function(t){ve.call(this,e,t)},e=>p(e)]}class eZ extends at{constructor(e){super(),it(this,e,QX,XX,d,{columns:1,model:0,limitEditing:2})}}function tZ(e){const t=e[1].get(e[7])?.column;e[8]=t}function nZ(e){let t,n;return tZ(e),t=new bA({props:{column:{name:e[8]?.display_name??"",type:e[8]?.type??"unknown",type_options:e[8]?.type_options??null,display_options:null}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){tZ(e);const r={};130&n&&(r.column={name:e[8]?.display_name??"",type:e[8]?.type??"unknown",type_options:e[8]?.type_options??null,display_options:null}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rZ(e){let t,n;return t=new vl({props:{values:e[0].columnAliases,options:[...e[1].values()].map(sZ),autoClearInvalidValues:!1,disabled:e[2],$$slots:{default:[nZ,({option:e})=>({7:e}),({option:e})=>e?128:0]},$$scope:{ctx:e}}}),t.$on("change",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.values=e[0].columnAliases),2&n&&(r.options=[...e[1].values()].map(sZ)),4&n&&(r.disabled=e[2]),642&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function oZ(e){let t,n;return t=new Mo({props:{label:e[3]("select_columns_to_hide"),layout:"stacked",$$slots:{default:[rZ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("select_columns_to_hide")),519&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const sZ=e=>e.column.alias;function iZ(e,t,n){let r;m(e,Mg,(e=>n(3,r=e)));const o=fe();let{columns:s}=t,{model:i}=t,{limitEditing:a=!1}=t;function l(e){n(0,i.columnAliases=e,i),o("update",i)}return e.$$set=e=>{"columns"in e&&n(1,s=e.columns),"model"in e&&n(0,i=e.model),"limitEditing"in e&&n(2,a=e.limitEditing)},[i,s,a,r,l,e=>l(e.detail)]}class aZ extends at{constructor(e){super(),it(this,e,iZ,oZ,d,{columns:1,model:0,limitEditing:2})}}function lZ(e){const t=e[2].get(e[19]);e[20]=t}function cZ(e){let t,n;return lZ(e),t=new bA({props:{column:{name:e[3](e[20]),type:e[20]?.column.type??"unknown",type_options:e[20]?.column.type_options??null,display_options:e[20]?.column.display_options??null,constraintsType:e[8](e[19])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){lZ(e);const r={};524300&n&&(r.column={name:e[3](e[20]),type:e[20]?.column.type??"unknown",type_options:e[20]?.column.type_options??null,display_options:e[20]?.column.display_options??null,constraintsType:e[8](e[19])}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uZ(e){let t,n;return t=new Hn({props:{size:"small",appearance:"secondary",$$slots:{default:[dZ]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097152&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dZ(e){let t,n;const r=[sy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(sy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pZ(e){let t,n,r,o,s,i,a,l;function c(t){e[15](t)}let u={options:e[7],autoSelect:"none",disabled:e[4],getLabel:e[14],$$slots:{default:[cZ,({option:e})=>({19:e}),({option:e})=>e?524288:0]},$$scope:{ctx:e}};function d(t){e[16](t)}void 0!==e[0]&&(u.value=e[0]),t=new gu({props:u}),we.push((()=>nt(t,"value",c))),t.$on("change",e[10]);let p={options:XC,getLabel:e[6]};void 0!==e[1]&&(p.value=e[1]),o=new gu({props:p}),we.push((()=>nt(o,"value",d))),o.$on("change",e[10]);let $=e[5]&&uZ(e);return{c(){rt(t.$$.fragment),r=j(),rt(o.$$.fragment),i=j(),$&&$.c(),a=q()},m(e,n){ot(t,e,n),L(e,r,n),ot(o,e,n),L(e,i,n),$&&$.m(e,n),L(e,a,n),l=!0},p(e,r){const i={};128&r&&(i.options=e[7]),16&r&&(i.disabled=e[4]),12&r&&(i.getLabel=e[14]),2621452&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.value=e[0],Te((()=>n=!1))),t.$set(i);const l={};64&r&&(l.getLabel=e[6]),!s&&2&r&&(s=!0,l.value=e[1],Te((()=>s=!1))),o.$set(l),e[5]?$?($.p(e,r),32&r&&je($,1)):($=uZ(e),$.c(),je($,1),$.m(a.parentNode,a)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe())},i(e){l||(je(t.$$.fragment,e),je(o.$$.fragment,e),je($),l=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe($),l=!1},d(e){st(t,e),e&&P(r),st(o,e),e&&P(i),$&&$.d(e),e&&P(a)}}}function $Z(e){let t,n;return t=new Pi({props:{$$slots:{default:[pZ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2097407&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mZ(e,t,n){let r,o,s;m(e,Mg,(e=>n(17,s=e)));const i=fe();let{columns:a}=t,{getColumnLabel:l}=t,{getColumnConstraintType:c=(()=>{})}=t,{columnsAllowedForSelection:u}=t,{columnIdentifier:d}=t,{sortDirection:p="ASCENDING"}=t,{disableColumnChange:$=!1}=t,{allowDelete:f=!0}=t,{getSortDirectionLabel:h=(e=>{const t=a.get(d);if(t&&e){return ZC(t.abstractType.cellInfo.type)[e]}return s("DESCENDING"===p?"descending":"ascending")})}=t;return e.$$set=e=>{"columns"in e&&n(2,a=e.columns),"getColumnLabel"in e&&n(3,l=e.getColumnLabel),"getColumnConstraintType"in e&&n(11,c=e.getColumnConstraintType),"columnsAllowedForSelection"in e&&n(12,u=e.columnsAllowedForSelection),"columnIdentifier"in e&&n(0,d=e.columnIdentifier),"sortDirection"in e&&n(1,p=e.sortDirection),"disableColumnChange"in e&&n(4,$=e.disableColumnChange),"allowDelete"in e&&n(5,f=e.allowDelete),"getSortDirectionLabel"in e&&n(6,h=e.getSortDirectionLabel)},e.$$.update=()=>{4&e.$$.dirty&&n(13,r=[...a.values()].map((e=>e.id))),12289&e.$$.dirty&&n(7,o=(()=>{if(u){const e=[d,...u];return r.filter((t=>e.includes(t)))}return r})())},[d,p,a,l,$,f,h,o,function(e){if(e){const t=a.get(e);if(t)return c(t)}},function(){i("remove")},function(){i("update",{columnIdentifier:d,sortDirection:p})},c,u,r,e=>e?l(a.get(e)):"",function(e){d=e,n(0,d)},function(e){p=e,n(1,p)}]}class fZ extends at{constructor(e){super(),it(this,e,mZ,$Z,d,{columns:2,getColumnLabel:3,getColumnConstraintType:11,columnsAllowedForSelection:12,columnIdentifier:0,sortDirection:1,disableColumnChange:4,allowDelete:5,getSortDirectionLabel:6})}}function hZ(e){let t,n,r,o;function s(t){e[5](t)}function i(t){e[6](t)}let a={allowDelete:!1,columns:e[1],columnsAllowedForSelection:e[2],getColumnLabel:e[4],disableColumnChange:e[3]};return void 0!==e[0].columnIdentifier&&(a.columnIdentifier=e[0].columnIdentifier),void 0!==e[0].sortDirection&&(a.sortDirection=e[0].sortDirection),t=new fZ({props:a}),we.push((()=>nt(t,"columnIdentifier",s))),we.push((()=>nt(t,"sortDirection",i))),t.$on("update",e[7]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,[o]){const s={};2&o&&(s.columns=e[1]),4&o&&(s.columnsAllowedForSelection=e[2]),2&o&&(s.getColumnLabel=e[4]),8&o&&(s.disableColumnChange=e[3]),!n&&1&o&&(n=!0,s.columnIdentifier=e[0].columnIdentifier,Te((()=>n=!1))),!r&&1&o&&(r=!0,s.sortDirection=e[0].sortDirection,Te((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function gZ(e,t,n){let{columns:r}=t,{model:o}=t,{columnsAllowedForSelection:s}=t,{limitEditing:i=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"model"in e&&n(0,o=e.model),"columnsAllowedForSelection"in e&&n(2,s=e.columnsAllowedForSelection),"limitEditing"in e&&n(3,i=e.limitEditing)},[o,r,s,i,e=>(e&&r.get(e.id)?.column.display_name)??"",function(t){e.$$.not_equal(o.columnIdentifier,t)&&(o.columnIdentifier=t,n(0,o))},function(t){e.$$.not_equal(o.sortDirection,t)&&(o.sortDirection=t,n(0,o))},function(t){ve.call(this,e,t)}]}class yZ extends at{constructor(e){super(),it(this,e,gZ,hZ,d,{columns:1,model:0,columnsAllowedForSelection:2,limitEditing:3})}}function vZ(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function bZ(e){const t=0===e[3][e[26]].size;e[27]=t}function wZ(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[24];for(let a=0;a<s.length;a+=1){let t=vZ(e,s,a),n=i(t);o.set(n,r[a]=DZ(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){24587&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,DZ,t,vZ),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function _Z(e){let t,n;return t=new Hn({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[xZ]},$$scope:{ctx:e}}}),t.$on("click",e[23]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};268435456&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xZ(e){let t,n;const r=[sy,{size:"0.8rem"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(sy),r[1]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function SZ(e){let t,n,r,o,s,i,a,l,c,u=e[26]+1+"",d=e[24].name+"",p=e[26]===e[0].length-1&&_Z(e);return{c(){t=H("span"),n=H("span"),r=F(u),o=j(),s=H("span"),i=F(d),a=j(),p&&p.c(),l=j(),U(n,"class","number svelte-rh6p5m"),U(s,"class","title svelte-rh6p5m"),U(t,"slot","header"),U(t,"class","header svelte-rh6p5m")},m(e,u){L(e,t,u),O(t,n),O(n,r),O(t,o),O(t,s),O(s,i),O(t,a),p&&p.m(t,null),O(t,l),c=!0},p(e,n){(!c||1&n)&&u!==(u=e[26]+1+"")&&G(r,u),(!c||1&n)&&d!==(d=e[24].name+"")&&G(i,d),e[26]===e[0].length-1?p?(p.p(e,n),1&n&&je(p,1)):(p=_Z(e),p.c(),je(p,1),p.m(t,l)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe())},i(e){c||(je(p),c=!0)},o(e){qe(p),c=!1},d(e){e&&P(t),p&&p.d()}}}function CZ(e){let t,n;return t=new yZ({props:{columns:e[3][e[26]],columnsAllowedForSelection:[...e[3][e[26]].without(e[1].getAllSortedColumns()).values()].map(RZ),model:e[24],limitEditing:e[27]}}),t.$on("update",(function(){return e[22](e[26],e[24])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),11&r&&(o.columnsAllowedForSelection=[...e[3][e[26]].without(e[1].getAllSortedColumns()).values()].map(RZ)),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function EZ(e){let t,n;return t=new aZ({props:{columns:e[3][e[26]],model:e[24],limitEditing:e[27]}}),t.$on("update",(function(){return e[21](e[26],e[24])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kZ(e){let t,n;return t=new eZ({props:{columns:e[3][e[26]],model:e[24],limitEditing:e[27]||e[26]<e[0].length-1}}),t.$on("update",(function(){return e[20](e[26],e[24])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]||e[26]<e[0].length-1),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function IZ(e){let t,n;return t=new SX({props:{columns:e[3][e[26]],model:e[24],limitEditing:e[27],totalTransformations:e[0].length}}),t.$on("update",(function(){return e[19](e[26],e[24])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};9&r&&(o.columns=e[3][e[26]]),1&r&&(o.model=e[24]),9&r&&(o.limitEditing=e[27]),1&r&&(o.totalTransformations=e[0].length),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TZ(e){let t,n,r,o,s;bZ(e);const i=[IZ,kZ,EZ,CZ],a=[];function l(e,t){return"filter"===e[24].type?0:"summarize"===e[24].type?1:"hide"===e[24].type?2:"order"===e[24].type?3:-1}return~(n=l(e))&&(r=a[n]=i[n](e)),{c(){t=H("div"),r&&r.c(),o=j(),U(t,"slot","content"),U(t,"class","content svelte-rh6p5m")},m(e,r){L(e,t,r),~n&&a[n].m(t,null),O(t,o),s=!0},p(e,s){bZ(e);let c=n;n=l(e),n===c?~n&&a[n].p(e,s):(r&&(ze(),qe(a[c],1,1,(()=>{a[c]=null})),Fe()),~n?(r=a[n],r?r.p(e,s):(r=a[n]=i[n](e),r.c()),je(r,1),r.m(t,o)):r=null)},i(e){s||(je(r),s=!0)},o(e){qe(r),s=!1},d(e){e&&P(t),~n&&a[n].d()}}}function DZ(e,t){let n,r,o;return r=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[TZ],header:[SZ]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};268435467&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function MZ(e){let t,n=e[8]("filter")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("filter")+"")&&G(t,n)},d(e){e&&P(t)}}}function OZ(e){let t,n=e[8]("sort")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("sort")+"")&&G(t,n)},d(e){e&&P(t)}}}function NZ(e){let t,n=e[8]("summarize")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("summarize")+"")&&G(t,n)},d(e){e&&P(t)}}}function AZ(e){let t,n=e[8]("hide_columns")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){256&r&&n!==(n=e[8]("hide_columns")+"")&&G(t,n)},d(e){e&&P(t)}}}function LZ(e){let t,n,r,o,s,i,a,l;return t=new y$({props:{$$slots:{default:[MZ]},$$scope:{ctx:e}}}),t.$on("click",e[9]),r=new y$({props:{disabled:!e[2],$$slots:{default:[OZ]},$$scope:{ctx:e}}}),r.$on("click",e[12]),s=new y$({props:{disabled:e[1].hasSummarizationTransform(),$$slots:{default:[NZ]},$$scope:{ctx:e}}}),s.$on("click",e[10]),a=new y$({props:{$$slots:{default:[AZ]},$$scope:{ctx:e}}}),a.$on("click",e[11]),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),L(e,n,c),ot(r,e,c),L(e,o,c),ot(s,e,c),L(e,i,c),ot(a,e,c),l=!0},p(e,n){const o={};268435712&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};4&n&&(i.disabled=!e[2]),268435712&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const l={};2&n&&(l.disabled=e[1].hasSummarizationTransform()),268435712&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};268435712&n&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e),e&&P(i),st(a,e)}}}function PZ(e){let t,n,r,o,s,i=e[0]&&e[3].length===e[0].length&&wZ(e);return o=new Qc({props:{label:e[8]("add_transformation_step"),icon:ny,disabled:0===e[7].size,triggerAppearance:"secondary",$$slots:{default:[LZ]},$$scope:{ctx:e}}}),{c(){t=H("div"),i&&i.c(),n=j(),r=H("div"),rt(o.$$.fragment),U(r,"class","add-transform-control svelte-rh6p5m"),U(t,"class","transformations svelte-rh6p5m")},m(e,a){L(e,t,a),i&&i.m(t,null),O(t,n),O(t,r),ot(o,r,null),s=!0},p(e,[r]){e[0]&&e[3].length===e[0].length?i?(i.p(e,r),9&r&&je(i,1)):(i=wZ(e),i.c(),je(i,1),i.m(t,n)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe());const s={};256&r&&(s.label=e[8]("add_transformation_step")),128&r&&(s.disabled=0===e[7].size),268435718&r&&(s.$$scope={dirty:r,ctx:e}),o.$set(s)},i(e){s||(je(i),je(o.$$.fragment,e),s=!0)},o(e){qe(i),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),i&&i.d(),st(o)}}}const RZ=e=>e.column.alias;function HZ(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y=o,v=o,b=o;m(e,Mg,(e=>n(8,g=e))),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b()));let{queryManager:w}=t;async function _(){await w.update((e=>e.removeLastTransform()))}async function x(e,t){await w.update((n=>n.updateTransform(e,t)))}return e.$$set=e=>{"queryManager"in e&&n(15,w=e.queryManager)},e.$$.update=()=>{32768&e.$$.dirty&&(n(6,({query:r,processedColumns:s,columnsMetaData:i}=w),r,(n(5,s),y(),y=p(s,(e=>n(7,$=e))),s),(n(4,i),b(),b=p(i,(e=>n(18,h=e))),i)),v(),v=p(r,(e=>n(1,f=e)))),2&e.$$.dirty&&n(17,({initial_columns:a,transformationModels:l}=f),a,(n(0,l),n(1,f))),393217&e.$$.dirty&&n(3,c=function(e,t,n){const r=[];let o=wK(e.map((e=>e.alias)),n);r.push(o);for(let s=1;s<t.length;s+=1){const e=t[s-1];"summarize"===e.type&&(o=wK(e.getOutputColumnAliases(),n)),r.push(o)}return r}(a,l,h)),2&e.$$.dirty&&n(16,u=f.getAllSortableColumns()),65536&e.$$.dirty&&n(2,d=u.length>0)},[l,f,d,c,i,s,r,$,g,async function(){const e=[...$.values()][0];if(!e)return;const t=[...e.allowedFiltersMap.values()][0];if(!t)return;const n=new uK({columnIdentifier:e.column.alias,conditionIdentifier:t.id,value:e.initialInputValue});await w.update((e=>e.addFilterTransform(n)))},async function(){const e=[...$.values()][0];if(!e)return;const t=new dK({columnIdentifier:e.column.alias,groups:new dt,aggregations:new dt});await w.update((e=>e.addSummarizationTransform(t)))},async function(){const e=new pK({columnAliases:[]});await w.update((t=>t.addHideTransform(e)))},async function(){const e=u[0];if(!e)return;const t=new $K({columnIdentifier:e,sortDirection:"ASCENDING"});await w.update((e=>e.addSortTransform(t)))},_,x,w,u,a,h,(e,t)=>x(e,t),(e,t)=>x(e,t),(e,t)=>x(e,t),(e,t)=>x(e,t),()=>_()]}class zZ extends at{constructor(e){super(),it(this,e,HZ,PZ,d,{queryManager:15})}}function FZ(e){let t,n;return t=new LM({props:{$$slots:{default:[VZ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32904&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jZ(e){let t,n,r,o;const s=[WZ,BZ],i=[];function a(e,t){return"column-selection"===e[2]?.id?0:"transform-results"===e[2]?.id?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function qZ(e){let t,n,r;return n=new Nr({}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","loading-state svelte-17rvnvg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function VZ(e){let t,n,r,o=e[7]("failed_to_fetch_column_information")+"",s=e[3]?.errors.join(";")+"";return{c(){t=F(o),n=j(),r=F(s)},m(e,o){L(e,t,o),L(e,n,o),L(e,r,o)},p(e,n){128&n&&o!==(o=e[7]("failed_to_fetch_column_information")+"")&&G(t,o),8&n&&s!==(s=e[3]?.errors.join(";")+"")&&G(r,s)},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function BZ(e){let t,n,r,o,s,i=e[7]("transform_results_help")+"";return o=new zZ({props:{queryManager:e[0]}}),{c(){t=H("div"),n=F(i),r=j(),rt(o.$$.fragment),U(t,"class","help-text svelte-17rvnvg")},m(e,i){L(e,t,i),O(t,n),L(e,r,i),ot(o,e,i),s=!0},p(e,t){(!s||128&t)&&i!==(i=e[7]("transform_results_help")+"")&&G(n,i);const r={};1&t&&(r.queryManager=e[0]),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),e&&P(r),st(o,e)}}}function WZ(e){let t,n,r,o,s,i=e[7]("select_columns_for_exploration_help")+"";return o=new wX({props:{queryManager:e[0],linkCollapsibleOpenState:e[1]}}),o.$on("add",e[11]),{c(){t=H("div"),n=F(i),r=j(),rt(o.$$.fragment),U(t,"class","help-text svelte-17rvnvg")},m(e,i){L(e,t,i),O(t,n),L(e,r,i),ot(o,e,i),s=!0},p(e,t){(!s||128&t)&&i!==(i=e[7]("select_columns_for_exploration_help")+"")&&G(n,i);const r={};1&t&&(r.queryManager=e[0]),2&t&&(r.linkCollapsibleOpenState=e[1]),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),e&&P(r),st(o,e)}}}function UZ(e){let t,n,r,o;const s=[qZ,jZ,FZ],i=[];function a(e,t){return"processing"===e[3]?.state?0:"success"===e[3]?.state?1:"failure"===e[3]?.state?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function YZ(e){let t,n,r,o,s,i,a,l,c=e[7]("build_your_exploration")+"";function u(t){e[12](t)}let d={tabs:e[8],tabStyle:"compact",fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[UZ]},$$scope:{ctx:e}};return void 0!==e[2]&&(d.activeTab=e[2]),i=new jd({props:d}),we.push((()=>nt(i,"activeTab",u))),{c(){t=H("aside"),n=H("header"),r=F(c),o=j(),s=H("section"),rt(i.$$.fragment),U(n,"class","svelte-17rvnvg"),U(s,"class","input-pane svelte-17rvnvg"),U(t,"class","input-sidebar svelte-17rvnvg")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),O(t,s),ot(i,s,null),l=!0},p(e,[t]){(!l||128&t)&&c!==(c=e[7]("build_your_exploration")+"")&&G(r,c);const n={};32911&t&&(n.$$scope={dirty:t,ctx:e}),!a&&4&t&&(a=!0,n.activeTab=e[2],Te((()=>a=!1))),i.$set(n)},i(e){l||(je(i.$$.fragment,e),l=!0)},o(e){qe(i.$$.fragment,e),l=!1},d(e){e&&P(t),st(i)}}}function KZ(e,t,n){let r,s,i,a,l,c,u,d,$=o,f=o,h=o;m(e,Mg,(e=>n(7,l=e))),e.$$.on_destroy.push((()=>$())),e.$$.on_destroy.push((()=>f())),e.$$.on_destroy.push((()=>h()));let{queryManager:g}=t,{linkCollapsibleOpenState:y={}}=t;const v=[{id:"column-selection",label:l("select_columns")},{id:"transform-results",label:l("transform_results")}];let b=v[0];async function w(e){const t=pA(`${e.tableName}_${e.name}`,new Set(u.initial_columns.map((e=>e.alias)))),r=!u.hasSummarizationTransform();let o=!1;e.producesMultipleResults&&c&&r&&(o=await kv({title:{component:ey,props:{identifier:e.name,wrappingString:l("summarize_column_with_identifier")}},body:[l("summarize_column_recommendation"),l("summarize_column_configure")],proceedButton:{label:l("yes_summarize_as_list"),icon:void 0},cancelButton:{label:l("no_continue_without_summarization"),icon:void 0}})),await g.update((n=>{const r=n.withInitialColumn({alias:t,id:e.id,jp_path:e.jpPath});if(o){const e=g.getAutoSummarizationTransformModel();if(e)return r.model.addSummarizationTransform(e)}return r})),r&&g.selectColumn(t),o&&n(2,[,b]=v,b)}return e.$$set=e=>{"queryManager"in e&&n(0,g=e.queryManager),"linkCollapsibleOpenState"in e&&n(1,y=e.linkCollapsibleOpenState)},e.$$.update=()=>{1&e.$$.dirty&&(n(6,({query:r,state:s,confirmationNeededForMultipleResults:i}=g),r,(n(5,s),h(),h=p(s,(e=>n(10,d=e))),s),(n(4,i),$(),$=p(i,(e=>n(13,c=e))),i)),f(),f=p(r,(e=>n(14,u=e)))),1024&e.$$.dirty&&n(3,({inputColumnsFetchState:a}=d),a)},[g,y,b,a,i,s,r,l,v,w,d,e=>w(e.detail),function(e){b=e,n(2,b)}]}class GZ extends at{constructor(e){super(),it(this,e,KZ,YZ,d,{queryManager:0,linkCollapsibleOpenState:1})}}function XZ(e){let t;const n=e[3].default,r=f(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&y(r,n,e,e[5],t?g(n,e[5],o,null):v(e[5]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function ZZ(e){let t,n;return t=new GZ({props:{slot:"panel",queryManager:e[0],linkCollapsibleOpenState:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryManager=e[0]),2&n&&(r.linkCollapsibleOpenState=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function JZ(e){let t,n,r;function o(t){e[4](t)}let s={placement:"left",minSizePx:250,maxSizePx:700,$$slots:{panel:[ZZ],default:[XZ]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.sizePx=e[2]),t=new dc({props:s}),we.push((()=>nt(t,"sizePx",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};35&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.sizePx=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function QZ(e,t,n){let r;m(e,bb,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t,{queryManager:i}=t,{linkCollapsibleOpenState:a={}}=t;return e.$$set=e=>{"queryManager"in e&&n(0,i=e.queryManager),"linkCollapsibleOpenState"in e&&n(1,a=e.linkCollapsibleOpenState),"$$scope"in e&&n(5,s=e.$$scope)},[i,a,r,o,function(e){r=e,bb.set(r)},s]}class eJ extends at{constructor(e){super(),it(this,e,QZ,JZ,d,{queryManager:0,linkCollapsibleOpenState:1})}}function tJ(e){let t,n,r,o;n=new fd({props:{total:e[0],pageSize:e[2],currentPage:e[4]}}),n.$on("change",e[5]);let s=e[1].length&&nJ(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),s&&s.c(),U(t,"class","pagination-group svelte-1e0lu03")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1&r&&(o.total=e[0]),4&r&&(o.pageSize=e[2]),16&r&&(o.currentPage=e[4]),n.$set(o),e[1].length?s?(s.p(e,r),2&r&&je(s,1)):(s=nJ(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){qe(n.$$.fragment,e),qe(s),o=!1},d(e){e&&P(t),st(n),s&&s.d()}}}function nJ(e){let t,n;return t=new gu({props:{triggerAppearance:"secondary",options:e[1],value:e[2]}}),t.$on("change",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.options=e[1]),4&n&&(r.value=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rJ(e){let t,n,r=e[0]&&!e[3]&&tJ(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[0]&&!e[3]?r?(r.p(e,n),9&n&&je(r,1)):(r=tJ(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function oJ(e,t,n){let r,o,s,i;const a=fe();let{pagination:l}=t,{totalCount:c}=t,{pageSizeOptions:u=[100,200,500]}=t,{hiddenWhenPossible:d=!1}=t;return e.$$set=e=>{"pagination"in e&&n(7,l=e.pagination),"totalCount"in e&&n(0,c=e.totalCount),"pageSizeOptions"in e&&n(1,u=e.pageSizeOptions),"hiddenWhenPossible"in e&&n(8,d=e.hiddenWhenPossible)},e.$$.update=()=>{128&e.$$.dirty&&n(2,({size:r,page:o}=l),r,(n(4,o),n(7,l))),5&e.$$.dirty&&n(9,s=r>=c),768&e.$$.dirty&&n(3,i=s&&d)},[c,u,r,i,o,function(e){n(7,l=new jC({...l,page:e.detail.currentPage})),a("change",l)},function(e){const t=e.detail;void 0!==t&&r!==t&&(n(7,l=new jC({page:1,size:t})),a("change",l))},l,d,s]}class sJ extends at{constructor(e){super(),it(this,e,oJ,rJ,d,{pagination:7,totalCount:0,pageSizeOptions:1,hiddenWhenPossible:8})}}var iJ={exports:{}};
/* @license
            Papa Parse
            v5.4.1
            https://github.com/mholt/PapaParse
            License: MIT
            */!function(e,t){e.exports=function e(){var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,r=t.IS_PAPA_WORKER||!1,o={},s=0,i={parse:function(n,r){var a=(r=r||{}).dynamicTyping||!1;if(w(a)&&(r.dynamicTypingFunction=a,a={}),r.dynamicTyping=a,r.transform=!!w(r.transform)&&r.transform,r.worker&&i.WORKERS_SUPPORTED){var l=function(){if(!i.WORKERS_SUPPORTED)return!1;var n,r,a=(n=t.URL||t.webkitURL||null,r=e.toString(),i.BLOB_URL||(i.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",r,")();"],{type:"text/javascript"})))),l=new t.Worker(a);return l.onmessage=h,l.id=s++,o[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=w(r.step),r.chunk=w(r.chunk),r.complete=w(r.complete),r.error=w(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var $=null;return i.NODE_STREAM_INPUT,"string"==typeof n?(n=function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}(n),$=r.download?new c(r):new d(r)):!0===n.readable&&w(n.read)&&w(n.on)?$=new p(r):(t.File&&n instanceof File||n instanceof Object)&&($=new u(r)),$.stream(n)},unparse:function(e,t){var n=!1,r=!0,o=",",s="\r\n",a='"',l=a+a,c=!1,u=null,d=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||i.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(d=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var p=new RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return $(null,e,c);if("object"==typeof e[0])return $(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),$(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function $(e,t,n){var i="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(a&&r){for(var c=0;c<e.length;c++)0<c&&(i+=o),i+=f(e[c],c);0<t.length&&(i+=s)}for(var u=0;u<t.length;u++){var d=a?e.length:t[u].length,p=!1,$=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(p="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var m=[],h=0;h<d;h++){var g=l?e[h]:h;m.push(t[u][g])}p=""===m.join("").trim()}if(!p){for(var y=0;y<d;y++){0<y&&!$&&(i+=o);var v=a&&l?e[y]:y;i+=f(t[u][v],y)}u<t.length-1&&(!n||0<d&&!$)&&(i+=s)}}return i}function f(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var r=!1;d&&"string"==typeof e&&d.test(e)&&(e="'"+e,r=!0);var s=e.toString().replace(p,l);return(r=r||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(s,i.BAD_DELIMITERS)||-1<s.indexOf(o)||" "===s.charAt(0)||" "===s.charAt(s.length-1))?a+s+a:s}}};if(i.RECORD_SEP=String.fromCharCode(30),i.UNIT_SEP=String.fromCharCode(31),i.BYTE_ORDER_MARK="\ufeff",i.BAD_DELIMITERS=["\r","\n",'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=f,i.ParserHandle=$,i.NetworkStreamer=c,i.FileStreamer=u,i.StringStreamer=d,i.ReadableStreamStreamer=p,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},r=[];return this.each((function(e){if("INPUT"!==a(this).prop("tagName").toUpperCase()||"file"!==a(this).attr("type").toLowerCase()||!t.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:a.extend({},n)})})),o(),this;function o(){if(0!==r.length){var t,n,o,l,c=r[0];if(w(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=c.file,o=c.inputElem,l=u.reason,void(w(e.error)&&e.error({name:t},n,o,l));if("skip"===u.action)return void s();"object"==typeof u.config&&(c.instanceConfig=a.extend(c.instanceConfig,u.config))}else if("skip"===u)return void s()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){w(d)&&d(e,c.file,c.inputElem),s()},i.parse(c.file,c.instanceConfig)}else w(e.complete)&&e.complete()}function s(){r.splice(0,1),o()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new $(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&w(this._config.beforeFirstChunk)){var o=this._config.beforeFirstChunk(e);void 0!==o&&(e=o)}this.isFirstChunk=!1,this._halted=!1;var s=this._partialLine+e;this._partialLine="";var a=this._handle.parse(s,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=a.meta.cursor;this._finished||(this._partialLine=s.substring(l-this._baseIndex),this._baseIndex=l),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)t.postMessage({results:a,workerId:i.WORKER_ID,finished:c});else if(w(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!w(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){w(this._config.error)?this._config.error(e):r&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=i.RemoteChunkSize),l.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var r in e)t.setRequestHeader(r,e[r])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substring(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function u(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=i.LocalChunkSize),l.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=b(this._chunkLoaded,this),t.onerror=b(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,o)}var s=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function p(e){l.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=b((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=b((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=b((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function $(e){var t,n,r,o=Math.pow(2,53),s=-o,a=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,l=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,c=this,u=0,d=0,p=!1,$=!1,h=[],g={data:[],errors:[],meta:{}};if(w(e.step)){var y=e.step;e.step=function(t){if(g=t,x())_();else{if(_(),0===g.data.length)return;u+=t.data.length,e.preview&&u>e.preview?n.abort():(g.data=g.data[0],y(g,c))}}}function b(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function _(){return g&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(g.data=g.data.filter((function(e){return!b(e)}))),x()&&function(){if(g)if(Array.isArray(g.data[0])){for(var t=0;x()&&t<g.data.length;t++)g.data[t].forEach(n);g.data.splice(0,1)}else g.data.forEach(n);function n(t,n){w(e.transformHeader)&&(t=e.transformHeader(t,n)),h.push(t)}}(),function(){if(!g||!e.header&&!e.dynamicTyping&&!e.transform)return g;function t(t,n){var r,o=e.header?{}:[];for(r=0;r<t.length;r++){var s=r,i=t[r];e.header&&(s=r>=h.length?"__parsed_extra":h[r]),e.transform&&(i=e.transform(i,s)),i=S(s,i),"__parsed_extra"===s?(o[s]=o[s]||[],o[s].push(i)):o[s]=i}return e.header&&(r>h.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+r,d+n):r<h.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+r,d+n)),o}var n=1;return!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(t),n=g.data.length):g.data=t(g.data,0),e.header&&g.meta&&(g.meta.fields=h),d+=n,g}()}function x(){return e.header&&0===h.length}function S(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(e){if(a.test(e)){var t=parseFloat(e);if(s<t&&t<o)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function C(e,t,n,r){var o={type:e,code:t,message:n};void 0!==r&&(o.row=r),g.errors.push(o)}this.parse=function(o,s,a){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=new RegExp(m(t)+"([^]*?)"+m(t),"gm"),r=(e=e.replace(n,"")).split("\r"),o=e.split("\n"),s=1<o.length&&o[0].length<r[0].length;if(1===r.length||s)return"\n";for(var i=0,a=0;a<r.length;a++)"\n"===r[a][0]&&i++;return i>=r.length/2?"\r\n":"\r"}(o,l)),r=!1,e.delimiter)w(e.delimiter)&&(e.delimiter=e.delimiter(o),g.meta.delimiter=e.delimiter);else{var c=function(t,n,r,o,s){var a,l,c,u;s=s||[",","\t","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var d=0;d<s.length;d++){var p=s[d],$=0,m=0,h=0;c=void 0;for(var g=new f({comments:o,delimiter:p,newline:n,preview:10}).parse(t),y=0;y<g.data.length;y++)if(r&&b(g.data[y]))h++;else{var v=g.data[y].length;m+=v,void 0!==c?0<v&&($+=Math.abs(v-c),c=v):c=v}0<g.data.length&&(m/=g.data.length-h),(void 0===l||$<=l)&&(void 0===u||u<m)&&1.99<m&&(l=$,a=p,u=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(o,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=i.DefaultDelimiter),g.meta.delimiter=e.delimiter}var u=v(e);return e.preview&&e.header&&u.preview++,t=o,n=new f(u),g=n.parse(t,s,a),_(),p?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=w(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(p=!1,c.streamer.parseChunk(t,!0)):setTimeout(c.resume,3)},this.aborted=function(){return $},this.abort=function(){$=!0,n.abort(),g.meta.aborted=!0,w(e.complete)&&e.complete(g),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t,n=(e=e||{}).delimiter,r=e.newline,o=e.comments,s=e.step,a=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<i.BAD_DELIMITERS.indexOf(n))&&(n=","),o===n)throw new Error("Comment character same as delimiter");!0===o?o="#":("string"!=typeof o||-1<i.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(i,p,$){if("string"!=typeof i)throw new Error("Input must be a string");var f=i.length,h=n.length,g=r.length,y=o.length,v=w(s),b=[],_=[],x=[],S=u=0;if(!i)return U();if(e.header&&!p){var C=i.split(r)[0].split(n),E=[],k={},I=!1;for(var T in C){var D=C[T];w(e.transformHeader)&&(D=e.transformHeader(D,T));var M=D,O=k[D]||0;for(0<O&&(I=!0,M=D+"_"+O),k[D]=O+1;E.includes(M);)M=M+"_"+O;E.push(M)}if(I){var N=i.split(r);N[0]=E.join(n),i=N.join(r)}}if(l||!1!==l&&-1===i.indexOf(t)){for(var A=i.split(r),L=0;L<A.length;L++){if(x=A[L],u+=x.length,L!==A.length-1)u+=r.length;else if($)return U();if(!o||x.substring(0,y)!==o){if(v){if(b=[],q(x.split(n)),Y(),d)return U()}else q(x.split(n));if(a&&a<=L)return b=b.slice(0,a),U(!0)}}return U()}for(var P=i.indexOf(n,u),R=i.indexOf(r,u),H=new RegExp(m(c)+m(t),"g"),z=i.indexOf(t,u);;)if(i[u]!==t)if(o&&0===x.length&&i.substring(u,u+y)===o){if(-1===R)return U();u=R+g,R=i.indexOf(r,u),P=i.indexOf(n,u)}else if(-1!==P&&(P<R||-1===R))x.push(i.substring(u,P)),u=P+h,P=i.indexOf(n,u);else{if(-1===R)break;if(x.push(i.substring(u,R)),W(R+g),v&&(Y(),d))return U();if(a&&b.length>=a)return U(!0)}else for(z=u,u++;;){if(-1===(z=i.indexOf(t,z+1)))return $||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),B();if(z===f-1)return B(i.substring(u,z).replace(H,t));if(t!==c||i[z+1]!==c){if(t===c||0===z||i[z-1]!==c){-1!==P&&P<z+1&&(P=i.indexOf(n,z+1)),-1!==R&&R<z+1&&(R=i.indexOf(r,z+1));var F=V(-1===R?P:Math.min(P,R));if(i.substr(z+1+F,h)===n){x.push(i.substring(u,z).replace(H,t)),i[u=z+1+F+h]!==t&&(z=i.indexOf(t,u)),P=i.indexOf(n,u),R=i.indexOf(r,u);break}var j=V(R);if(i.substring(z+1+j,z+1+j+g)===r){if(x.push(i.substring(u,z).replace(H,t)),W(z+1+j+g),P=i.indexOf(n,u),z=i.indexOf(t,u),v&&(Y(),d))return U();if(a&&b.length>=a)return U(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),z++}}else z++}return B();function q(e){b.push(e),S=u}function V(e){var t=0;if(-1!==e){var n=i.substring(z+1,e);n&&""===n.trim()&&(t=n.length)}return t}function B(e){return $||(void 0===e&&(e=i.substring(u)),x.push(e),u=f,q(x),v&&Y()),U()}function W(e){u=e,q(x),x=[],R=i.indexOf(r,u)}function U(e){return{data:b,errors:_,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:S+(p||0)}}}function Y(){s(U()),b=[],_=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function h(e){var t=e.data,n=o[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(w(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},s),!r);i++);delete t.results}else w(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&g(t.workerId,t.results)}function g(e,t){var n=o[e];w(n.userComplete)&&n.userComplete(t),n.terminate(),delete o[e]}function y(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=v(e[n]);return t}function b(e,t){return function(){e.apply(t,arguments)}}function w(e){return"function"==typeof e}return r&&(t.onmessage=function(e){var n=e.data;if(void 0===i.WORKER_ID&&n&&(i.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:i.WORKER_ID,results:i.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=i.parse(n.input,n.config);r&&t.postMessage({workerId:i.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(u.prototype=Object.create(l.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(l.prototype)).constructor=p,i}()}(iJ);function aJ(e,t,n){return e.get(t)?.[String(n)]}function lJ(e,t,n,r){if(null==e)return"";const o=t.get(n);if(!o)return String(e);const s=o.formatCellValue(e,r);return null==s?"":s}class cJ{constructor(t){e(this,"deps",void 0),this.deps=t}getColumnIds(e){return this.deps.selection.getSelectedUniqueColumnsId(e,new ut)}getRowIds(e){return this.deps.selection.getSelectedUniqueRowsId(e)}getCopyContent(){const e=$(this.deps.selection.selectedCells),t=new Map(this.deps.getRows().map((e=>[e.rowIndex,e.record]))),n=this.deps.getColumnsMap(),r=this.deps.getRecordSummaries(),o=[],s=[];for(const a of this.getRowIds(e)){const i=[],l=[];for(const o of this.getColumnIds(e)){const s=n.get(o);if(!Bk(e,{rowIndex:a},{id:o}))continue;if(!s)continue;const c=aJ(t,a,o),u=lJ(c,n,o,r),d=s.abstractType.identifier;l.push({type:d,raw:c,formatted:u}),i.push(u)}o.push(i),s.push(l)}return this.deps.toast.info(`Copied ${iC(e.size,"cells")}.`),{structured:JSON.stringify(s),tsv:(i=o,iJ.exports.unparse(i,{delimiter:"\t",escapeFormulae:!0}))};var i}handleCopy(e){if(null==e.clipboardData)return;const t=this.getCopyContent();e.clipboardData.setData("text/plain",t.tsv),e.clipboardData.setData("application/x-vnd.mathesar-sheet-clipboard",t.structured)}}function uJ(e){let t,n=e[2]("refresh")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("refresh")+"")&&G(t,n)},d(e){e&&P(t)}}}function dJ(e){let t,n=e[2]("retry")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("retry")+"")&&G(t,n)},d(e){e&&P(t)}}}function pJ(e){let t,n=e[2]("loading")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("loading")+"")&&G(t,n)},d(e){e&&P(t)}}}function $J(e){let t,n,r,o;const s=[e[0]&&!e[1]?Ir:by,{spin:e[1]}];let a={};for(let d=0;d<s.length;d+=1)a=i(a,s[d]);function l(e,t){return e[1]?pJ:e[0]?dJ:uJ}t=new Kr({props:a});let c=l(e),u=c(e);return{c(){rt(t.$$.fragment),n=j(),r=H("span"),u.c()},m(e,s){ot(t,e,s),L(e,n,s),L(e,r,s),u.m(r,null),o=!0},p(e,n){const o=3&n?et(s,[tt(e[0]&&!e[1]?Ir:by),2&n&&{spin:e[1]}]):{};t.$set(o),c===(c=l(e))&&u?u.p(e,n):(u.d(1),u=c(e),u&&(u.c(),u.m(r,null)))},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),e&&P(r),u.d()}}}function mJ(e){let t,n;return t=new Hn({props:{class:"refresh-button",appearance:"secondary",size:"medium",disabled:e[1],$$slots:{default:[$J]},$$scope:{ctx:e}}}),t.$on("click",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.disabled=e[1]),39&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fJ(e,t,n){let r,o,s;m(e,Mg,(e=>n(2,s=e)));let{state:i}=t;return e.$$set=e=>{"state"in e&&n(3,i=e.state)},e.$$.update=()=>{8&e.$$.dirty&&n(1,r="loading"===i),8&e.$$.dirty&&n(0,o="error"===i)},[o,r,s,i,function(t){ve.call(this,e,t)}]}class hJ extends at{constructor(e){super(),it(this,e,fJ,mJ,d,{state:3})}}function gJ(e){let t,n;return t=new hJ({props:{state:e[1]}}),t.$on("click",e[4]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.state=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yJ(e,t,n){let r,s,i,a=o;e.$$.on_destroy.push((()=>a()));let{queryRunner:l}=t;return e.$$set=e=>{"queryRunner"in e&&n(0,l=e.queryRunner)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({runState:r}=l),r),a(),a=p(r,(e=>n(3,i=e)))),8&e.$$.dirty&&n(1,s=(()=>{let e;const t=i?.state;return"processing"===t&&(e="loading"),"failure"===t&&(e="error"),e})())},[l,s,r,i,()=>l.run()]}class vJ extends at{constructor(e){super(),it(this,e,yJ,gJ,d,{queryRunner:0})}}function bJ(e,t,n){const r=e.slice();return r[23]=t[n],r}function wJ(e,t,n){const r=e.slice();return r[10]=t[n],r}function _J(e,t,n){const r=e.slice();return r[17]=t[n],r}function xJ(e,t,n){const r=e.slice();return r[20]=t[n],r}function SJ(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=EJ(bJ(e,n,o));return{c(){t=H("ul");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","svelte-s7yd6j")},m(e,n){L(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(1&o){let s;for(n=e[0],s=0;s<n.length;s+=1){const i=bJ(e,n,s);r[s]?r[s].p(i,o):(r[s]=EJ(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},i:o,o:o,d(e){e&&P(t),R(r,e)}}}function CJ(e){let t,n,r=e[0].errors,o=[];for(let i=0;i<r.length;i+=1)o[i]=PJ(wJ(e,r,i));const s=e=>qe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=q()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);L(e,t,r),n=!0},p(e,n){if(251&n){let i;for(r=e[0].errors,i=0;i<r.length;i+=1){const s=wJ(e,r,i);o[i]?(o[i].p(s,n),je(o[i],1)):(o[i]=PJ(s),o[i].c(),je(o[i],1),o[i].m(t.parentNode,t))}for(ze(),i=r.length;i<o.length;i+=1)s(i);Fe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)qe(o[t]);n=!1},d(e){R(o,e),e&&P(t)}}}function EJ(e){let t,n,r=e[23]+"";return{c(){t=H("li"),n=F(r),U(t,"class","error")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[23]+"")&&G(n,r)},d(e){e&&P(t)}}}function kJ(e){let t,n,r=e[10].message+"";return{c(){t=H("li"),n=F(r),U(t,"class","error")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[10].message+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function IJ(e){let t,n,r,o,s,i,a,l=e[3]("some_columns_in_query_missing")+"";const c=[DJ,TJ],u=[];function d(e,t){return e[1]?0:e[5]&&e[6]&&e[4].id?1:-1}function p(e,t){return 0===t?function(e){const t=e.slice(),n=t[4].getInitialColumnsAndTransformsUtilizingThemByColumnIds([t[13]]);t[14]=n;const r=t[14].initialColumnsUsingColumnIds;t[15]=r;const o=t[14].transformsUsingColumnIds;return t[16]=o,t}(e):e}return~(s=d(e))&&(i=u[s]=c[s](p(e,s))),{c(){t=H("li"),n=H("p"),r=F(l),o=j(),i&&i.c(),U(n,"class","strong svelte-s7yd6j"),U(t,"class","error")},m(e,i){L(e,t,i),O(t,n),O(n,r),O(t,o),~s&&u[s].m(t,null),a=!0},p(e,n){(!a||8&n)&&l!==(l=e[3]("some_columns_in_query_missing")+"")&&G(r,l);let o=s;s=d(e),s===o?~s&&u[s].p(p(e,s),n):(i&&(ze(),qe(u[o],1,1,(()=>{u[o]=null})),Fe()),~s?(i=u[s],i?i.p(p(e,s),n):(i=u[s]=c[s](p(e,s)),i.c()),je(i,1),i.m(t,null)):i=null)},i(e){a||(je(i),a=!0)},o(e){qe(i),a=!1},d(e){e&&P(t),~s&&u[s].d()}}}function TJ(e){let t,n,r,s,i,a,l,c=e[3]("edit_exploration_attempt_recovery")+"",u=e[3]("edit_in_data_explorer")+"";return{c(){t=H("p"),n=F(c),r=j(),s=H("p"),i=H("a"),a=F(u),U(t,"class","svelte-s7yd6j"),U(i,"class","btn btn-secondary"),U(i,"href",l=jb(e[5].id,e[6].id,e[4].id)),U(s,"class","svelte-s7yd6j")},m(e,o){L(e,t,o),O(t,n),L(e,r,o),L(e,s,o),O(s,i),O(i,a)},p(e,t){8&t&&c!==(c=e[3]("edit_exploration_attempt_recovery")+"")&&G(n,c),8&t&&u!==(u=e[3]("edit_in_data_explorer")+"")&&G(a,u),112&t&&l!==(l=jb(e[5].id,e[6].id,e[4].id))&&U(i,"href",l)},i:o,o:o,d(e){e&&P(t),e&&P(r),e&&P(s)}}}function DJ(e){let t,n,r,o,s,i,a,l,c=e[3]("recover_query_click_button")+"",u=e[15].length>0&&MJ(e),d=e[16].length>0&&NJ(e);return a=new Hn({props:{appearance:"secondary",$$slots:{default:[LJ]},$$scope:{ctx:e}}}),a.$on("click",(function(){return e[9](e[13])})),{c(){t=H("p"),n=F(c),r=j(),u&&u.c(),o=j(),d&&d.c(),s=j(),i=H("p"),rt(a.$$.fragment),U(t,"class","svelte-s7yd6j"),U(i,"class","svelte-s7yd6j")},m(e,c){L(e,t,c),O(t,n),L(e,r,c),u&&u.m(e,c),L(e,o,c),d&&d.m(e,c),L(e,s,c),L(e,i,c),ot(a,i,null),l=!0},p(t,r){e=t,(!l||8&r)&&c!==(c=e[3]("recover_query_click_button")+"")&&G(n,c),e[15].length>0?u?u.p(e,r):(u=MJ(e),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),e[16].length>0?d?d.p(e,r):(d=NJ(e),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null);const i={};67108872&r&&(i.$$scope={dirty:r,ctx:e}),a.$set(i)},i(e){l||(je(a.$$.fragment,e),l=!0)},o(e){qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),e&&P(r),u&&u.d(e),e&&P(o),d&&d.d(e),e&&P(s),e&&P(i),st(a)}}}function MJ(e){let t,n,r,o,s=e[3]("this_will_remove_following_columns")+"",i=[],a=new Map,l=e[15];const c=e=>e[20].alias;for(let u=0;u<l.length;u+=1){let t=xJ(e,l,u),n=c(t);a.set(n,i[u]=OJ(n,t))}return{c(){t=H("p"),n=F(s),r=j(),o=H("ul");for(let e=0;e<i.length;e+=1)i[e].c();U(t,"class","svelte-s7yd6j"),U(o,"class","removal-list svelte-s7yd6j")},m(e,s){L(e,t,s),O(t,n),L(e,r,s),L(e,o,s);for(let t=0;t<i.length;t+=1)i[t].m(o,null)},p(e,t){8&t&&s!==(s=e[3]("this_will_remove_following_columns")+"")&&G(n,s),17&t&&(l=e[15],i=Qe(i,t,c,1,e,l,a,o,Xe,OJ,null,xJ))},d(e){e&&P(t),e&&P(r),e&&P(o);for(let t=0;t<i.length;t+=1)i[t].d()}}}function OJ(e,t){let n,r,o,s=(t[4].display_names[t[20].alias]??t[20].alias)+"";return{key:e,first:null,c(){n=H("li"),r=F(s),o=j(),this.first=n},m(e,t){L(e,n,t),O(n,r),O(n,o)},p(e,n){t=e,17&n&&s!==(s=(t[4].display_names[t[20].alias]??t[20].alias)+"")&&G(r,s)},d(e){e&&P(n)}}}function NJ(e){let t,n,r,o,s=e[3]("this_will_remove_following_transformations")+"",i=[],a=new Map,l=e[16];const c=e=>e[17];for(let u=0;u<l.length;u+=1){let t=_J(e,l,u),n=c(t);a.set(n,i[u]=AJ(n,t))}return{c(){t=H("p"),n=F(s),r=j(),o=H("ul");for(let e=0;e<i.length;e+=1)i[e].c();U(t,"class","svelte-s7yd6j"),U(o,"class","removal-list svelte-s7yd6j")},m(e,s){L(e,t,s),O(t,n),L(e,r,s),L(e,o,s);for(let t=0;t<i.length;t+=1)i[t].m(o,null)},p(e,t){8&t&&s!==(s=e[3]("this_will_remove_following_transformations")+"")&&G(n,s),17&t&&(l=e[16],i=Qe(i,t,c,1,e,l,a,o,Xe,AJ,null,_J))},d(e){e&&P(t),e&&P(r),e&&P(o);for(let t=0;t<i.length;t+=1)i[t].d()}}}function AJ(e,t){let n,r,o,s,i,a=t[17].index+1+"",l=t[17].transform.name+"";return{key:e,first:null,c(){n=H("li"),r=F(a),o=F(": "),s=F(l),i=j(),this.first=n},m(e,t){L(e,n,t),O(n,r),O(n,o),O(n,s),O(n,i)},p(e,n){t=e,17&n&&a!==(a=t[17].index+1+"")&&G(r,a),17&n&&l!==(l=t[17].transform.name+"")&&G(s,l)},d(e){e&&P(n)}}}function LJ(e){let t,n=e[3]("attempt_exploration_recovery")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("attempt_exploration_recovery")+"")&&G(t,n)},d(e){e&&P(t)}}}function PJ(e){let t,n,r,o,s,i;const a=[IJ,kJ],l=[];function c(e,t){return 1&t&&(n=null),null==n&&(n=!(4418!==e[10].code||!Dt(e[10].detail,"column_id"))),n?0:1}function u(e,t){return 0===t?function(e){const t=e.slice(),n=Number(t[10].detail.column_id);return t[13]=n,t}(e):e}return r=c(e,-1),o=l[r]=a[r](u(e,r)),{c(){t=H("ul"),o.c(),s=j(),U(t,"class","svelte-s7yd6j")},m(e,n){L(e,t,n),l[r].m(t,null),O(t,s),i=!0},p(e,n){let i=r;r=c(e,n),r===i?l[r].p(u(e,r),n):(ze(),qe(l[i],1,1,(()=>{l[i]=null})),Fe(),o=l[r],o?o.p(u(e,r),n):(o=l[r]=a[r](u(e,r)),o.c()),je(o,1),o.m(t,s))},i(e){i||(je(o),i=!0)},o(e){qe(o),i=!1},d(e){e&&P(t),l[r].d()}}}function RJ(e){let t,n,r,o,s,i,a,l=e[3]("result_could_not_be_displayed")+"";const c=[CJ,SJ],u=[];function d(e,t){return e[0]instanceof Lv?0:1}return o=d(e),s=u[o]=c[o](e),{c(){t=H("p"),n=F(l),r=j(),s.c(),i=q(),U(t,"class","error-header svelte-s7yd6j")},m(e,s){L(e,t,s),O(t,n),L(e,r,s),u[o].m(e,s),L(e,i,s),a=!0},p(e,t){(!a||8&t)&&l!==(l=e[3]("result_could_not_be_displayed")+"")&&G(n,l);let r=o;o=d(e),o===r?u[o].p(e,t):(ze(),qe(u[r],1,1,(()=>{u[r]=null})),Fe(),s=u[o],s?s.p(e,t):(s=u[o]=c[o](e),s.c()),je(s,1),s.m(i.parentNode,i))},i(e){a||(je(s),a=!0)},o(e){qe(s),a=!1},d(e){e&&P(t),e&&P(r),u[o].d(e),e&&P(i)}}}function HJ(e){let t,n,r;return n=new LM({props:{fullWidth:!0,$$slots:{default:[RJ]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","query-run-errors svelte-s7yd6j")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};67108987&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function zJ(e,t,n){let r,s,i,a,l,c,u=o;m(e,Mg,(e=>n(3,i=e))),m(e,kS,(e=>n(5,l=e))),m(e,$M,(e=>n(6,c=e))),e.$$.on_destroy.push((()=>u()));let{queryHandler:d}=t,{errors:$}=t;function f(e){r&&r.update((t=>t.withoutColumnsById([e])))}return e.$$set=e=>{"queryHandler"in e&&n(8,d=e.queryHandler),"errors"in e&&n(0,$=e.errors)},e.$$.update=()=>{256&e.$$.dirty&&n(1,r=d instanceof SK?d:void 0),256&e.$$.dirty&&(n(2,({query:s}=d),s),u(),u=p(s,(e=>n(4,a=e))))},[$,r,s,i,a,l,c,f,d,e=>f(e)]}class FJ extends at{constructor(e){super(),it(this,e,zJ,HJ,d,{queryHandler:8,errors:0})}}function jJ(e){let t,n;return t=new bA({props:{isLoading:"processing"===e[3]&&"unknown"===e[1].column.type,column:{...e[1].column,name:e[1].column.display_name??e[1].column.alias}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};10&n&&(r.isLoading="processing"===e[3]&&"unknown"===e[1].column.type),2&n&&(r.column={...e[1].column,name:e[1].column.display_name??e[1].column.alias}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qJ(e){let t,n,r,o,s,a;n=new Hn({props:{appearance:"plain",class:"column-name-wrapper "+(e[2]?"selected":""),$$slots:{default:[jJ]},$$scope:{ctx:e}}}),n.$on("click",e[6]),o=new DE({props:{columnIdentifierKey:e[1].id}});let l=[e[7],{style:s=e[8]}],c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),Y(t,c)},m(e,s){L(e,t,s),ot(n,t,null),O(t,r),ot(o,t,null),a=!0},p(e,r){const i={};4&r&&(i.class="column-name-wrapper "+(e[2]?"selected":"")),522&r&&(i.$$scope={dirty:r,ctx:e}),n.$set(i);const u={};2&r&&(u.columnIdentifierKey=e[1].id),o.$set(u),Y(t,c=et(l,[128&r&&e[7],(!a||256&r&&s!==(s=e[8]))&&{style:s}]))},i(e){a||(je(n.$$.fragment,e),je(o.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),a=!1},d(e){e&&P(t),st(n),st(o)}}}function VJ(e){let t,n;return t=new _E({props:{columnIdentifierKey:e[1].id,$$slots:{default:[qJ,({htmlAttributes:e,style:t})=>({7:e,8:t}),({htmlAttributes:e,style:t})=>(e?128:0)|(t?256:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.columnIdentifierKey=e[1].id),911&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function BJ(e,t,n){let r,s,i,a=o;e.$$.on_destroy.push((()=>a()));let{queryRunner:l}=t,{processedQueryColumn:c}=t,{isSelected:u}=t;return e.$$set=e=>{"queryRunner"in e&&n(0,l=e.queryRunner),"processedQueryColumn"in e&&n(1,c=e.processedQueryColumn),"isSelected"in e&&n(2,u=e.isSelected)},e.$$.update=()=>{1&e.$$.dirty&&(n(4,({runState:r}=l),r),a(),a=p(r,(e=>n(5,i=e)))),32&e.$$.dirty&&n(3,s=i?.state)},[l,c,u,s,r,i,()=>{l.selectColumn(c.column.alias)}]}class WJ extends at{constructor(e){super(),it(this,e,BJ,VJ,d,{queryRunner:0,processedQueryColumn:1,isSelected:2})}}function UJ(e){let t,n;return t=new RA({props:{isActive:e[6],isSelectedInRange:e[5],columnFabric:e[0],value:e[1]?.record[e[0].id],showAsSkeleton:"processing"===e[2],disabled:!0}}),t.$on("movementKeyDown",e[9]),t.$on("activate",e[12]),t.$on("onSelectionStart",e[13]),t.$on("onMouseEnterCellWhileSelection",e[14]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.isActive=e[6]),32&n&&(r.isSelectedInRange=e[5]),1&n&&(r.columnFabric=e[0]),3&n&&(r.value=e[1]?.record[e[0].id]),4&n&&(r.showAsSkeleton="processing"===e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function YJ(e){let t,n,r,o=(e[1]||"processing"===e[2])&&UJ(e),s=[e[16],{style:n=e[17]},{class:"cell"}],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("div"),o&&o.c(),Y(t,a),te(t,"is-active",e[6]),te(t,"svelte-1aeptbx",!0)},m(e,n){L(e,t,n),o&&o.m(t,null),r=!0},p(e,i){e[1]||"processing"===e[2]?o?(o.p(e,i),6&i&&je(o,1)):(o=UJ(e),o.c(),je(o,1),o.m(t,null)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),Y(t,a=et(s,[65536&i&&e[16],(!r||131072&i&&n!==(n=e[17]))&&{style:n},{class:"cell"}])),te(t,"is-active",e[6]),te(t,"svelte-1aeptbx",!0)},i(e){r||(je(o),r=!0)},o(e){qe(o),r=!1},d(e){e&&P(t),o&&o.d()}}}function KJ(e){let t,n;return t=new _E({props:{columnIdentifierKey:e[0].id,$$slots:{default:[YJ,({htmlAttributes:e,style:t})=>({16:e,17:t}),({htmlAttributes:e,style:t})=>(e?65536:0)|(t?131072:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnIdentifierKey=e[0].id),458879&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function GJ(e,t,n){let r,s,i,a,l,c,u=o,d=o;e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));let{processedQueryColumn:$}=t,{row:m}=t,{recordRunState:f}=t,{selection:h}=t,{inspector:g}=t;return e.$$set=e=>{"processedQueryColumn"in e&&n(0,$=e.processedQueryColumn),"row"in e&&n(1,m=e.row),"recordRunState"in e&&n(2,f=e.recordRunState),"selection"in e&&n(3,h=e.selection),"inspector"in e&&n(4,g=e.inspector)},e.$$.update=()=>{8&e.$$.dirty&&(n(8,({activeCell:r,selectedCells:s}=h),r,(n(7,s),u(),u=p(s,(e=>n(10,l=e))),s)),d(),d=p(r,(e=>n(11,c=e)))),2051&e.$$.dirty&&n(6,i=c&&m&&Hk(c,m,$)),1027&e.$$.dirty&&n(5,a=m&&Bk(l,m,$)&&l.size>1)},[$,m,f,h,g,a,i,s,r,async function(e){const{originalEvent:t}=e.detail,n=h.handleKeyEventsOnActiveCell(t);n&&(t.stopPropagation(),t.preventDefault(),await async function(e){"moved"===e&&(await ke(),Fk())}(n))},l,c,()=>{m&&(h.activateCell(m,$),g.selectCellTab())},()=>{m&&h.onStartSelection(m,$)},()=>{m&&h.onMouseEnterCellWhileSelection(m,$)}]}class XJ extends at{constructor(e){super(),it(this,e,GJ,KJ,d,{processedQueryColumn:0,row:1,recordRunState:2,selection:3,inspector:4})}}function ZJ(e,t,n){const r=e.slice();return r[33]=t[n],r}function JJ(e,t,n){const r=e.slice();return r[38]=t[n],r}function QJ(e,t,n){const r=e.slice();return r[38]=t[n],r}function eQ(e){let t,n,r,o,s,i,a,l;function c(e,t){return e[10]?mQ:"success"===e[4]?$Q:void 0}t=new mE({props:{columns:e[11],getColumnIdentifier:yQ,columnWidths:e[25],clipboardHandler:e[15],usesVirtualList:!0,$$slots:{default:[pQ]},$$scope:{ctx:e}}});let u=c(e),d=u&&u(e);i=new sJ({props:{pagination:e[24],totalCount:e[10]}}),i.$on("change",e[31]);let p=e[1]&&fQ(e);return{c(){rt(t.$$.fragment),n=j(),r=H("div"),d&&d.c(),o=j(),s=H("div"),rt(i.$$.fragment),a=j(),p&&p.c(),U(s,"class","pagination-controls svelte-1rwxxuc"),U(r,"data-identifier","status-bar"),U(r,"class","svelte-1rwxxuc")},m(e,c){ot(t,e,c),L(e,n,c),L(e,r,c),d&&d.m(r,null),O(r,o),O(r,s),ot(i,s,null),O(s,a),p&&p.m(s,null),l=!0},p(e,n){const a={};2048&n[0]&&(a.columns=e[11]),32768&n[0]&&(a.clipboardHandler=e[15]),29491837&n[0]|16384&n[1]&&(a.$$scope={dirty:n,ctx:e}),t.$set(a),u===(u=c(e))&&d?d.p(e,n):(d&&d.d(1),d=u&&u(e),d&&(d.c(),d.m(r,o)));const l={};16777216&n[0]&&(l.pagination=e[24]),1024&n[0]&&(l.totalCount=e[10]),i.$set(l),e[1]?p?(p.p(e,n),2&n[0]&&je(p,1)):(p=fQ(e),p.c(),je(p,1),p.m(s,null)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe())},i(e){l||(je(t.$$.fragment,e),je(i.$$.fragment,e),je(p),l=!0)},o(e){qe(t.$$.fragment,e),qe(i.$$.fragment,e),qe(p),l=!1},d(e){st(t,e),e&&P(n),e&&P(r),d&&d.d(),st(i),p&&p.d()}}}function tQ(e){let t,n,r;return n=new FJ({props:{errors:e[12],queryHandler:e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","empty-state svelte-1rwxxuc")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4096&t[0]&&(r.errors=e[12]),1&t[0]&&(r.queryHandler=e[0]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function nQ(e){let t,n,r=e[21]("add_columns_to_exploration_empty_message")+"";return{c(){t=H("div"),n=F(r),U(t,"class","empty-state svelte-1rwxxuc")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2097152&t[0]&&r!==(r=e[21]("add_columns_to_exploration_empty_message")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function rQ(e){let t,n,r=[e[36],{style:n=e[42]}],o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return{c(){t=H("div"),Y(t,o),te(t,"svelte-1rwxxuc",!0)},m(e,n){L(e,t,n)},p(e,s){Y(t,o=et(r,[32&s[1]&&e[36],2048&s[1]&&n!==(n=e[42])&&{style:n}])),te(t,"svelte-1rwxxuc",!0)},d(e){e&&P(t)}}}function oQ(e,t){let n,r,o;return r=new WJ({props:{processedQueryColumn:t[38],queryRunner:t[0],isSelected:Vk(t[22],t[23],t[38])}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n[0]&&(o.processedQueryColumn=t[38]),1&n[0]&&(o.queryRunner=t[0]),12582944&n[0]&&(o.isSelected=Vk(t[22],t[23],t[38])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function sQ(e){let t,n,r,o,s=[],i=new Map;t=new _E({props:{columnIdentifierKey:gQ,isStatic:!0,isControlCell:!0,$$slots:{default:[rQ,({htmlAttributes:e,style:t})=>({36:e,42:t}),({htmlAttributes:e,style:t})=>[0,(e?32:0)|(t?2048:0)]]},$$scope:{ctx:e}}});let a=e[5];const l=e=>e[38].id;for(let c=0;c<a.length;c+=1){let t=QJ(e,a,c),n=l(t);i.set(n,s[c]=oQ(n,t))}return{c(){rt(t.$$.fragment),n=j();for(let e=0;e<s.length;e+=1)s[e].c();r=q()},m(e,i){ot(t,e,i),L(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);L(e,r,i),o=!0},p(e,n){const o={};18464&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),12582945&n[0]&&(a=e[5],ze(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Ze,oQ,r,QJ),Fe())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)je(s[e]);o=!0}},o(e){qe(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)qe(s[t]);o=!1},d(e){st(t,e),e&&P(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&P(r)}}}function iQ(e){let t,n;return t=new Rk({props:{style:e[33].style,$$slots:{default:[cQ,({htmlAttributes:e,styleString:t})=>({36:e,37:t}),({htmlAttributes:e,styleString:t})=>[0,(e?32:0)|(t?64:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[1]&&(r.style=e[33].style),16908404&n[0]|16482&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aQ(e){let t,n,r,o,s,a,l=e[24].offset+e[33].index+1+"";n=new gI({props:{color:"var(--cell-bg-color-header)"}});let c=[e[41],{style:s=e[42]}],u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=F(l),Y(t,u),te(t,"svelte-1rwxxuc",!0)},m(e,s){L(e,t,s),ot(n,t,null),O(t,r),O(t,o),a=!0},p(e,n){(!a||16777216&n[0]|2&n[1])&&l!==(l=e[24].offset+e[33].index+1+"")&&G(o,l),Y(t,u=et(c,[1024&n[1]&&e[41],(!a||2048&n[1]&&s!==(s=e[42]))&&{style:s}])),te(t,"svelte-1rwxxuc",!0)},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&P(t),st(n)}}}function lQ(e,t){let n,r,o;return r=new XJ({props:{processedQueryColumn:t[38],row:t[2][t[33].index],recordRunState:t[4],selection:t[6],inspector:t[17]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n[0]&&(o.processedQueryColumn=t[38]),4&n[0]|2&n[1]&&(o.row=t[2][t[33].index]),16&n[0]&&(o.recordRunState=t[4]),64&n[0]&&(o.selection=t[6]),131072&n[0]&&(o.inspector=t[17]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function cQ(e){let t,n,r,o,s,a,l=[],c=new Map;n=new _E({props:{columnIdentifierKey:gQ,isStatic:!0,isControlCell:!0,$$slots:{default:[aQ,({htmlAttributes:e,style:t})=>({41:e,42:t}),({htmlAttributes:e,style:t})=>[0,(e?1024:0)|(t?2048:0)]]},$$scope:{ctx:e}}});let u=e[5];const d=e=>e[38].id;for(let i=0;i<u.length;i+=1){let t=JJ(e,u,i),n=d(t);c.set(n,l[i]=lQ(n,t))}let p=[e[36],{style:o="--cell-height:31px;"+e[37]}],$={};for(let m=0;m<p.length;m+=1)$=i($,p[m]);return{c(){t=H("div"),rt(n.$$.fragment),r=j();for(let e=0;e<l.length;e+=1)l[e].c();s=j(),Y(t,$),te(t,"svelte-1rwxxuc",!0)},m(e,o){L(e,t,o),ot(n,t,null),O(t,r);for(let n=0;n<l.length;n+=1)l[n].m(t,null);L(e,s,o),a=!0},p(e,r){const s={};16777216&r[0]|19458&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),131188&r[0]|2&r[1]&&(u=e[5],ze(),l=Qe(l,r,d,1,e,u,c,t,Ze,lQ,null,JJ),Fe()),Y(t,$=et(p,[32&r[1]&&e[36],(!a||64&r[1]&&o!==(o="--cell-height:31px;"+e[37]))&&{style:o}])),te(t,"svelte-1rwxxuc",!0)},i(e){if(!a){je(n.$$.fragment,e);for(let e=0;e<u.length;e+=1)je(l[e]);a=!0}},o(e){qe(n.$$.fragment,e);for(let t=0;t<l.length;t+=1)qe(l[t]);a=!1},d(e){e&&P(t),st(n);for(let t=0;t<l.length;t+=1)l[t].d();e&&P(s)}}}function uQ(e,t){let n,r,o,s=(t[2][t[33].index]||t[3])&&iQ(t);return{key:e,first:null,c(){n=q(),s&&s.c(),r=q(),this.first=n},m(e,t){L(e,n,t),s&&s.m(e,t),L(e,r,t),o=!0},p(e,n){(t=e)[2][t[33].index]||t[3]?s?(s.p(t,n),12&n[0]|2&n[1]&&je(s,1)):(s=iQ(t),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(s),o=!0)},o(e){qe(s),o=!1},d(e){e&&P(n),s&&s.d(e),e&&P(r)}}}function dQ(e){let t,n,r=[],o=new Map,s=e[32];const i=e=>e[33].key;for(let a=0;a<s.length;a+=1){let t=ZJ(e,s,a),n=i(t);o.set(n,r[a]=uQ(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){16908412&n[0]|3170&n[1]&&(s=e[32],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,uQ,t,ZJ),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function pQ(e){let t,n,r,o;return t=new gE({props:{$$slots:{default:[sQ]},$$scope:{ctx:e}}}),r=new Ok({props:{itemCount:e[9],paddingBottom:30,itemSize:e[30],$$slots:{default:[dQ,({items:e})=>({32:e}),({items:e})=>[0,e?2:0]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};12582945&n[0]|16384&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};512&n[0]&&(s.itemCount=e[9]),16908412&n[0]|16386&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function $Q(e){let t,n=e[21]("no_results_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2097152&r[0]&&n!==(n=e[21]("no_results_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function mQ(e){let t,n,r=e[21]("showing_n_to_m_of_total",{values:{leftBound:e[24].leftBound,rightBound:Math.min(e[10],e[24].rightBound),totalCount:e[10]}})+"";return{c(){t=H("div"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){18875392&t[0]&&r!==(r=e[21]("showing_n_to_m_of_total",{values:{leftBound:e[24].leftBound,rightBound:Math.min(e[10],e[24].rightBound),totalCount:e[10]}})+"")&&G(n,r)},d(e){e&&P(t)}}}function fQ(e){let t,n;return t=new vJ({props:{queryRunner:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.queryRunner=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hQ(e){let t,n,r,o;const s=[nQ,tQ,eQ],i=[];function a(e,t){return e[16].length?e[12]?1:2:0}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"data-identifier","query-run-result"),U(t,"class","svelte-1rwxxuc")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}const gQ="row-control",yQ=e=>e.id;function vQ(e,t,n){let r,s,i,a,l,c,u,d,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A=o,L=o,P=o,R=o,H=o,z=o,F=o;m(e,Mg,(e=>n(21,D=e))),e.$$.on_destroy.push((()=>A())),e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F()));let{queryHandler:j}=t,{isExplorationPage:q=!1}=t;const V=new dt([[gQ,50]]);return e.$$set=e=>{"queryHandler"in e&&n(0,j=e.queryHandler),"isExplorationPage"in e&&n(1,q=e.isExplorationPage)},e.$$.update=()=>{1&e.$$.dirty[0]&&(n(20,({query:r,processedColumns:s,rowsData:i,pagination:a,runState:l,selection:c,inspector:u}=j),r,(n(7,s),L(),L=p(s,(e=>n(27,k=e))),s),(n(8,i),A(),A=p(i,(e=>n(26,E=e))),i),(n(19,a),F(),F=p(a,(e=>n(24,N=e))),a),(n(18,l),P(),P=p(l,(e=>n(28,I=e))),l),(n(6,c),n(0,j)),(n(17,u),n(0,j))),R(),R=p(r,(e=>n(29,T=e)))),536870912&e.$$.dirty[0]&&n(16,({initial_columns:d}=T),d),448&e.$$.dirty[0]&&n(15,f=new cJ({selection:c,toast:Cv,getRows:()=>$(i).rows,getColumnsMap:()=>$(s),getRecordSummaries:()=>new dt})),64&e.$$.dirty[0]&&(n(14,({selectedCells:h,columnsSelectedWhenTheTableIsEmpty:g}=c),h,(n(13,g),z(),z=p(g,(e=>n(23,O=e))),g)),H(),H=p(h,(e=>n(22,M=e)))),268435456&e.$$.dirty[0]&&n(4,y=I?.state),268435456&e.$$.dirty[0]&&n(12,v="failure"===I?.state?I.errors:void 0),134217728&e.$$.dirty[0]&&n(5,b=[...k.values()]),32&e.$$.dirty[0]&&n(11,w=b.length?[{id:gQ},...b]:[]),67108864&e.$$.dirty[0]&&n(2,_=E.rows),67108864&e.$$.dirty[0]&&n(10,x=E.totalCount),20&e.$$.dirty[0]&&n(3,S=("success"===y||"processing"===y)&&!_.length),12&e.$$.dirty[0]&&n(9,C=S?1:_.length)},[j,q,_,S,y,b,c,s,i,C,x,w,v,g,h,f,d,u,l,a,r,D,M,O,N,V,E,k,I,T,()=>ME,e=>{j.setPagination(e.detail)}]}class bQ extends at{constructor(e){super(),it(this,e,vQ,hQ,d,{queryHandler:0,isExplorationPage:1},null,[-1,-1])}}function wQ(e){let t,n,r,o,s,i,a,l,c,u,d=e[1]("result")+"";return a=new vJ({props:{queryRunner:e[0]}}),c=new bQ({props:{queryHandler:e[0]}}),{c(){t=H("section"),n=H("header"),r=H("span"),o=F(d),s=j(),i=H("div"),rt(a.$$.fragment),l=j(),rt(c.$$.fragment),U(r,"class","title svelte-1gzxbr"),U(i,"class","actions svelte-1gzxbr"),U(n,"class","svelte-1gzxbr"),U(t,"data-identifier","result"),U(t,"class","svelte-1gzxbr")},m(e,d){L(e,t,d),O(t,n),O(n,r),O(r,o),O(n,s),O(n,i),ot(a,i,null),O(t,l),ot(c,t,null),u=!0},p(e,[t]){(!u||2&t)&&d!==(d=e[1]("result")+"")&&G(o,d);const n={};1&t&&(n.queryRunner=e[0]),a.$set(n);const r={};1&t&&(r.queryHandler=e[0]),c.$set(r)},i(e){u||(je(a.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(a.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(a),st(c)}}}function _Q(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{queryHandler:o}=t;return e.$$set=e=>{"queryHandler"in e&&n(0,o=e.queryHandler)},[o,r]}class xQ extends at{constructor(e){super(),it(this,e,_Q,wQ,d,{queryHandler:0})}}function SQ(e){let t,n,r;return n=new eJ({props:{queryManager:e[1],linkCollapsibleOpenState:e[0],$$slots:{default:[TQ]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","content-pane svelte-182edct")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.queryManager=e[1]),1&t&&(r.linkCollapsibleOpenState=e[0]),8502&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function CQ(e){let t,n,r,o,s,i=e[8]("get_started_by_adding_table_and_columns")+"",a="success"===e[7].requestStatus.state&&0===e[7].data.size&&DQ(e);return{c(){t=H("div"),a&&a.c(),n=j(),r=H("div"),o=F(i),U(r,"class","help-text svelte-182edct"),U(t,"class","initial-content svelte-182edct")},m(e,i){L(e,t,i),a&&a.m(t,null),O(t,n),O(t,r),O(r,o),s=!0},p(e,r){"success"===e[7].requestStatus.state&&0===e[7].data.size?a?(a.p(e,r),128&r&&je(a,1)):(a=DQ(e),a.c(),je(a,1),a.m(t,n)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),(!s||256&r)&&i!==(i=e[8]("get_started_by_adding_table_and_columns")+"")&&G(o,i)},i(e){s||(je(a),s=!0)},o(e){qe(a),s=!1},d(e){e&&P(t),a&&a.d()}}}function EQ(e){let t,n;return t=new HG({props:{isInspectorOpen:e[4],queryHandler:e[1],canEditMetadata:e[2],$$slots:{default:[IQ]},$$scope:{ctx:e}}}),t.$on("delete",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.isInspectorOpen=e[4]),2&n&&(r.queryHandler=e[1]),4&n&&(r.canEditMetadata=e[2]),8194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kQ(e){let t,n,r=e[8]("get_started_by_adding_columns_from_left")+"";return{c(){t=H("div"),n=F(r),U(t,"class","help-text svelte-182edct")},m(e,r){L(e,t,r),O(t,n)},p(e,t){256&t&&r!==(r=e[8]("get_started_by_adding_columns_from_left")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function IQ(e){let t,n;return t=new xQ({props:{queryHandler:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.queryHandler=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function TQ(e){let t,n,r,o;const s=[kQ,EQ],i=[];function a(e,t){return e[5]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function DQ(e){let t,n,r;return n=new Ln({props:{$$slots:{body:[OQ],title:[MQ]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","tutorial-holder svelte-182edct")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};8448&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function MQ(e){let t,n,r=e[8]("create_share_explorations_of_your_data")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","title")},m(e,r){L(e,t,r),O(t,n)},p(e,t){256&t&&r!==(r=e[8]("create_share_explorations_of_your_data")+"")&&G(n,r)},d(e){e&&P(t)}}}function OQ(e){let t,n,r=e[8]("create_exploration_empty_state_help")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","body")},m(e,r){L(e,t,r),O(t,n)},p(e,t){256&t&&r!==(r=e[8]("create_exploration_empty_state_help")+"")&&G(n,r)},d(e){e&&P(t)}}}function NQ(e){let t,n,r,o,s,i,a,l;function c(t){e[9](t)}function u(t){e[10](t)}let d={queryManager:e[1],canEditMetadata:e[2]};void 0!==e[0]&&(d.linkCollapsibleOpenState=e[0]),void 0!==e[4]&&(d.isInspectorOpen=e[4]),n=new FY({props:d}),we.push((()=>nt(n,"linkCollapsibleOpenState",c))),we.push((()=>nt(n,"isInspectorOpen",u))),n.$on("close",e[11]);const p=[CQ,SQ],$=[];function m(e,t){return e[3].base_table?1:0}return i=m(e),a=$[i]=p[i](e),{c(){t=H("div"),rt(n.$$.fragment),s=j(),a.c(),U(t,"class","data-explorer svelte-182edct")},m(e,r){L(e,t,r),ot(n,t,null),O(t,s),$[i].m(t,null),l=!0},p(e,[s]){const l={};2&s&&(l.queryManager=e[1]),4&s&&(l.canEditMetadata=e[2]),!r&&1&s&&(r=!0,l.linkCollapsibleOpenState=e[0],Te((()=>r=!1))),!o&&16&s&&(o=!0,l.isInspectorOpen=e[4],Te((()=>o=!1))),n.$set(l);let c=i;i=m(e),i===c?$[i].p(e,s):(ze(),qe($[c],1,1,(()=>{$[c]=null})),Fe(),a=$[i],a?a.p(e,s):(a=$[i]=p[i](e),a.c()),je(a,1),a.m(t,null))},i(e){l||(je(n.$$.fragment,e),je(a),l=!0)},o(e){qe(n.$$.fragment,e),qe(a),l=!1},d(e){e&&P(t),st(n),$[i].d()}}}function AQ(e,t,n){let r,s,i,a,l,c=o;m(e,qP,(e=>n(7,a=e))),m(e,Mg,(e=>n(8,l=e))),e.$$.on_destroy.push((()=>c()));let{queryManager:u}=t,{linkCollapsibleOpenState:d={}}=t,{canEditMetadata:$}=t,f=!0;return e.$$set=e=>{"queryManager"in e&&n(1,u=e.queryManager),"linkCollapsibleOpenState"in e&&n(0,d=e.linkCollapsibleOpenState),"canEditMetadata"in e&&n(2,$=e.canEditMetadata)},e.$$.update=()=>{2&e.$$.dirty&&(n(6,({query:r}=u),r),c(),c=p(r,(e=>n(3,i=e)))),8&e.$$.dirty&&n(5,s=0===i.initial_columns.length)},[d,u,$,i,f,s,r,a,l,function(e){d=e,n(0,d)},function(e){f=e,n(4,f)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class LQ extends at{constructor(e){super(),it(this,e,AQ,NQ,d,{queryManager:1,linkCollapsibleOpenState:0,canEditMetadata:2})}}class PQ{static baseTable(e){return{id:e.id,name:e.name}}static terseSummarizedColumn(e){return{id:e.id,name:e.name}}static terseSummarization(e){return{baseTable:PQ.baseTable(e.baseTable),columns:e.columns.map((e=>PQ.terseSummarizedColumn(e))),terseGrouping:e.terseGrouping}}}function RQ(e){return qC.encode(JSON.stringify(PQ.terseSummarization(e)))}function HQ(e,t,n){return`${zb(e,t)}#${RQ({baseTable:n,columns:[],terseGrouping:[]})}`}function zQ(e){let t,n;return{c(){t=H("strong"),n=F(e[0])},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&G(n,e[0])},d(e){e&&P(t)}}}function FQ(e){let t,n="tableName"===e[6]&&zQ(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"tableName"===e[6]?n?n.p(e,r):(n=zQ(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function jQ(e){let t,n=e[2]("table_delete_permanent_warning")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("table_delete_permanent_warning")+"")&&G(t,n)},d(e){e&&P(t)}}}function qQ(e){let t,n,r,o,s,i,a,l,c;function u(t){e[4](t)}r=new Kg({props:{text:e[2]("confirm_delete_table"),$$slots:{default:[FQ,({slotName:e})=>({6:e}),({slotName:e})=>e?64:0]},$$scope:{ctx:e}}});let d={autofocus:!0};return void 0!==e[1]&&(d.value=e[1]),s=new qi({props:d}),we.push((()=>nt(s,"value",u))),l=new Wz({props:{$$slots:{default:[jQ]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("p"),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),a=j(),rt(l.$$.fragment),U(n,"class","svelte-lbyl48"),U(t,"class","table-delete-confirmation-body svelte-lbyl48")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(t,o),ot(s,t,null),O(t,a),ot(l,t,null),c=!0},p(e,[t]){const n={};4&t&&(n.text=e[2]("confirm_delete_table")),193&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};!i&&2&t&&(i=!0,o.value=e[1],Te((()=>i=!1))),s.$set(o);const a={};132&t&&(a.$$scope={dirty:t,ctx:e}),l.$set(a)},i(e){c||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),st(r),st(s),st(l)}}}function VQ(e,t,n){let r,o;m(e,Mg,(e=>n(2,o=e)));let{tableName:s}=t,i="";const{canProceed:a}=Iv;return m(e,a,(e=>n(5,r=e))),e.$$set=e=>{"tableName"in e&&n(0,s=e.tableName)},e.$$.update=()=>{3&e.$$.dirty&&S(a,r=i.trim().toLowerCase()===s.toLowerCase(),r)},[s,i,o,a,function(e){i=e,n(1,i)}]}class BQ extends at{constructor(e){super(),it(this,e,VQ,qQ,d,{tableName:0})}}const WQ=e=>({}),UQ=e=>({getNameValidationErrors:e[0],onUpdate:e[1]});function YQ(e){let t;const n=e[4].default,r=f(n,e,e[3],UQ);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[o]){r&&r.p&&(!t||8&o)&&y(r,n,e,e[3],t?g(n,e[3],o,WQ):v(e[3]),UQ)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function KQ(e,t,n){let r,o,s;m(e,nM,(e=>n(5,r=e))),m(e,Mg,(e=>n(6,o=e))),m(e,UO,(e=>n(7,s=e)));let{$$slots:i={},$$scope:a}=t,{tableId:l}=t;return e.$$set=e=>{"tableId"in e&&n(2,l=e.tableId),"$$scope"in e&&n(3,a=e.$$scope)},[function(e){return e.trim()?function(e){const t=[...s.data.values()].filter((t=>t.name===e));return t.length>0&&t[0].id!==l}(e)?[o("table_with_name_already_exists")]:[]:[o("table_name_cannot_be_empty")]},async function(e){await function(e,t){const n=Yv(`/api/db/v0/tables/${e}/`,t);return new lt(((t,r)=>{n.then((n=>(zO(e,n),t(n))),r)}),(()=>{n.cancel()}))}(l,e),r&&await PO(r)},l,a,i]}class GQ extends at{constructor(e){super(),it(this,e,KQ,YQ,d,{tableId:2})}}function XQ(e){let t,n;return t=new Ag({props:{$$slots:{default:[ZQ]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1280&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ZQ(e){let t,n=e[8]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){256&r&&n!==(n=e[8]+"")&&G(t,n)},d(e){e&&P(t)}}}function JQ(e){let t,n,r="tableName"===e[9]&&XQ(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[9]?r?(r.p(e,n),512&n&&je(r,1)):(r=XQ(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function QQ(e){let t,n,r;return n=new Kg({props:{text:e[2]("edit_table_with_name"),$$slots:{default:[JQ,({slotName:e})=>({9:e}),({slotName:e})=>e?512:0]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","title")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.text=e[2]("edit_table_with_name")),1792&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function e1(e){let t,n;function r(...t){return e[3](e[7],...t)}return t=new lW({props:{controller:e[1],save:r,getNameValidationErrors:e[6],getInitialName:e[4],getInitialDescription:e[5],$$slots:{title:[QQ,({initialName:e})=>({8:e}),({initialName:e})=>e?256:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,o){e=n;const s={};2&o&&(s.controller=e[1]),128&o&&(s.save=r),64&o&&(s.getNameValidationErrors=e[6]),1&o&&(s.getInitialName=e[4]),1&o&&(s.getInitialDescription=e[5]),1284&o&&(s.$$scope={dirty:o,ctx:e}),t.$set(s)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t1(e){let t,n;return t=new GQ({props:{tableId:e[0].id,$$slots:{default:[e1,({getNameValidationErrors:e,onUpdate:t})=>({6:e,7:t}),({getNameValidationErrors:e,onUpdate:t})=>(e?64:0)|(t?128:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.tableId=e[0].id),1223&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n1(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{table:o}=t,{modalController:s}=t;return e.$$set=e=>{"table"in e&&n(0,o=e.table),"modalController"in e&&n(1,s=e.modalController)},[o,s,r,(e,t,n)=>e({name:t,description:n}),()=>o.name??"",()=>o.description??""]}class r1 extends at{constructor(e){super(),it(this,e,n1,t1,d,{table:0,modalController:1})}}function o1(e){let t,n;return t=new nc({props:{lines:2,popoverPlacements:["bottom","left","top","right"],$$slots:{default:[s1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388672&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s1(e){let t;return{c(){t=F(e[6])},m(e,n){L(e,t,n)},p(e,n){64&n&&G(t,e[6])},d(e){e&&P(t)}}}function i1(e){let t,n=e[9]("needs_import_confirmation")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){512&r&&n!==(n=e[9]("needs_import_confirmation")+"")&&G(t,n)},d(e){e&&P(t)}}}function a1(e){let t,n,r,o;t=new x$({props:{href:e[7],icon:Fy,$$slots:{default:[l1]},$$scope:{ctx:e}}});let s=e[1]&&c1(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};128&n&&(o.href=e[7]),8389120&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[1]?s?(s.p(e,n),2&n&&je(s,1)):(s=c1(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function l1(e){let t,n=e[9]("explore_table")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){512&r&&n!==(n=e[9]("explore_table")+"")&&G(t,n)},d(e){e&&P(t)}}}function c1(e){let t,n;return t=new y$({props:{icon:ay,$$slots:{default:[u1]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8389120&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function u1(e){let t,n=e[9]("edit_table")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){512&r&&n!==(n=e[9]("edit_table")+"")&&G(t,n)},d(e){e&&P(t)}}}function d1(e){let t,n;return t=new y$({props:{danger:!0,icon:sy,$$slots:{default:[p1]},$$scope:{ctx:e}}}),t.$on("click",e[11]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8389120&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function p1(e){let t,n=e[9]("delete_table")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){512&r&&n!==(n=e[9]("delete_table")+"")&&G(t,n)},d(e){e&&P(t)}}}function $1(e){let t,n,r,o=!e[2]&&a1(e),s=e[1]&&d1(e);return{c(){o&&o.c(),t=j(),s&&s.c(),n=q()},m(e,i){o&&o.m(e,i),L(e,t,i),s&&s.m(e,i),L(e,n,i),r=!0},p(e,r){e[2]?o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()):o?(o.p(e,r),4&r&&je(o,1)):(o=a1(e),o.c(),je(o,1),o.m(t.parentNode,t)),e[1]?s?(s.p(e,r),2&r&&je(s,1)):(s=d1(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){o&&o.d(e),e&&P(t),s&&s.d(e),e&&P(n)}}}function m1(e){let t,n,r,o,s,a,l,u,d=e[9]("find_record")+"";const p=[xy];let $={};for(let c=0;c<p.length;c+=1)$=i($,p[c]);return n=new Kr({props:$}),{c(){t=H("button"),rt(n.$$.fragment),r=j(),o=H("span"),s=F(d),U(o,"class","label svelte-6kr5rd"),U(t,"class","bottom-button passthrough svelte-6kr5rd")},m(i,c){L(i,t,c),ot(n,t,null),O(t,r),O(t,o),O(o,s),a=!0,l||(u=[V(t,"mouseenter",e[20]),V(t,"mouseleave",e[21]),V(t,"click",e[13])],l=!0)},p(e,t){const r=0&t?et(p,[tt(xy)]):{};n.$set(r),(!a||512&t)&&d!==(d=e[9]("find_record")+"")&&G(s,d)},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&P(t),st(n),l=!1,c(u)}}}function f1(e){let t,n,r,o,s,i,a,l,u,d,p,$,m,f,h,g,y,v,b;s=new gw({props:{table:e[0]}});let w=e[6]&&o1(e),_=e[2]&&i1(e);m=new Qc({props:{showArrow:!1,triggerAppearance:"ghost",triggerClass:"dropdown-menu-button",closeOnInnerClick:!0,placements:["bottom-end","right-start","left-start"],label:"",icon:my,size:"small",$$slots:{default:[$1]},$$scope:{ctx:e}}});let x=!e[2]&&m1(e);return g=new r1({props:{modalController:e[10],table:e[0]}}),{c(){t=H("div"),n=H("a"),r=H("div"),o=H("div"),rt(s.$$.fragment),i=j(),a=H("div"),w&&w.c(),l=j(),u=H("div"),_&&_.c(),p=j(),$=H("div"),rt(m.$$.fragment),f=j(),x&&x.c(),h=j(),rt(g.$$.fragment),U(o,"class","top-content svelte-6kr5rd"),U(r,"class","top svelte-6kr5rd"),U(a,"class","description svelte-6kr5rd"),U(u,"class","bottom svelte-6kr5rd"),U(n,"class","link passthrough svelte-6kr5rd"),U(n,"href",e[8]),U(n,"aria-label",d=e[0].name),U($,"class","menu-container svelte-6kr5rd"),U(t,"class","table-card svelte-6kr5rd"),te(t,"focus",e[5]),te(t,"hovering-menu-trigger",e[3]),te(t,"hovering-bottom-button",e[4]),te(t,"unconfirmed-import",e[2])},m(c,d){L(c,t,d),O(t,n),O(n,r),O(r,o),ot(s,o,null),O(n,i),O(n,a),w&&w.m(a,null),O(n,l),O(n,u),_&&_.m(u,null),O(t,p),O(t,$),ot(m,$,null),O(t,f),x&&x.m(t,null),L(c,h,d),ot(g,c,d),y=!0,v||(b=[V(n,"focusin",e[16]),V(n,"focusout",e[17]),V($,"mouseenter",e[18]),V($,"mouseleave",e[19])],v=!0)},p(e,[r]){const o={};1&r&&(o.table=e[0]),s.$set(o),e[6]?w?(w.p(e,r),64&r&&je(w,1)):(w=o1(e),w.c(),je(w,1),w.m(a,null)):w&&(ze(),qe(w,1,1,(()=>{w=null})),Fe()),e[2]?_?_.p(e,r):(_=i1(e),_.c(),_.m(u,null)):_&&(_.d(1),_=null),(!y||256&r)&&U(n,"href",e[8]),(!y||1&r&&d!==(d=e[0].name))&&U(n,"aria-label",d);const i={};8389254&r&&(i.$$scope={dirty:r,ctx:e}),m.$set(i),e[2]?x&&(ze(),qe(x,1,1,(()=>{x=null})),Fe()):x?(x.p(e,r),4&r&&je(x,1)):(x=m1(e),x.c(),je(x,1),x.m(t,null)),(!y||32&r)&&te(t,"focus",e[5]),(!y||8&r)&&te(t,"hovering-menu-trigger",e[3]),(!y||16&r)&&te(t,"hovering-bottom-button",e[4]),(!y||4&r)&&te(t,"unconfirmed-import",e[2]);const l={};1&r&&(l.table=e[0]),g.$set(l)},i(e){y||(je(s.$$.fragment,e),je(w),je(m.$$.fragment,e),je(x),je(g.$$.fragment,e),y=!0)},o(e){qe(s.$$.fragment,e),qe(w),qe(m.$$.fragment,e),qe(x),qe(g.$$.fragment,e),y=!1},d(e){e&&P(t),st(s),w&&w.d(),_&&_.d(),st(m),x&&x.d(),e&&P(h),st(g,e),v=!1,c(b)}}}function h1(e,t,n){let r,o,s,i,a;m(e,Mg,(e=>n(9,a=e)));const l=Mb(),c=Sv.spawnModalController();let{table:u}=t,{database:d}=t,{schema:p}=t,{canExecuteDDL:$}=t,f=!1,h=!1,g=!1;return e.$$set=e=>{"table"in e&&n(0,u=e.table),"database"in e&&n(14,d=e.database),"schema"in e&&n(15,p=e.schema),"canExecuteDDL"in e&&n(1,$=e.canExecuteDDL)},e.$$.update=()=>{1&e.$$.dirty&&n(2,r=Jb(u)),49157&e.$$.dirty&&n(8,o=r?Hb(d.id,p.id,u.id,{useColumnTypeInference:!0}):qb(d.id,p.id,u.id)),49153&e.$$.dirty&&n(7,s=HQ(d.id,p.id,u)),1&e.$$.dirty&&n(6,i=u.description??"")},[u,$,r,f,h,g,i,s,o,a,c,function(){Tv({identifierType:a("table"),body:{component:BQ,props:{tableName:u.name}},onProceed:async()=>{await FO(d,p,u.id)}})},function(){c.open()},function(){l.navigateToRecordPage({tableId:u.id})},d,p,()=>{n(5,g=!0)},()=>{n(5,g=!1)},()=>{n(3,f=!0)},()=>{n(3,f=!1)},()=>{n(4,h=!0)},()=>{n(4,h=!1)}]}class g1 extends at{constructor(e){super(),it(this,e,h1,f1,d,{table:0,database:14,schema:15,canExecuteDDL:1})}}function y1(e,t,n){const r=e.slice();return r[5]=t[n],r}function v1(e){let t,n;return t=new zU({props:{icon:Zy,$$slots:{default:[b1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};272&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function b1(e){let t,n,r,o=e[4]("no_tables")+"";return{c(){t=H("p"),n=F(o),r=j()},m(e,o){L(e,t,o),O(t,n),L(e,r,o)},p(e,t){16&t&&o!==(o=e[4]("no_tables")+"")&&G(n,o)},d(e){e&&P(t),e&&P(r)}}}function w1(e,t){let n,r,o;return r=new g1({props:{canExecuteDDL:t[3],table:t[5],database:t[1],schema:t[2]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};8&n&&(o.canExecuteDDL=t[3]),1&n&&(o.table=t[5]),2&n&&(o.database=t[1]),4&n&&(o.schema=t[2]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function _1(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[5].id;for(let l=0;l<s.length;l+=1){let t=y1(e,s,l),n=i(t);o.set(n,r[l]=w1(n,t))}let a=null;return s.length||(a=v1(e)),{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();a&&a.c(),U(t,"class","container svelte-12ub9ef")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);a&&a.m(t,null),n=!0},p(e,[n]){31&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,w1,null,y1),Fe(),!s.length&&a?a.p(e,n):s.length?a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()):(a=v1(e),a.c(),je(a,1),a.m(t,null)))},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d();a&&a.d()}}}function x1(e,t,n){let r;m(e,Mg,(e=>n(4,r=e)));let{tables:o}=t,{database:s}=t,{schema:i}=t,{canExecuteDDL:a}=t;return e.$$set=e=>{"tables"in e&&n(0,o=e.tables),"database"in e&&n(1,s=e.database),"schema"in e&&n(2,i=e.schema),"canExecuteDDL"in e&&n(3,a=e.canExecuteDDL)},[o,s,i,a,r]}class S1 extends at{constructor(e){super(),it(this,e,x1,_1,d,{tables:0,database:1,schema:2,canExecuteDDL:3})}}function C1(e){let t,n,r,o,s,i,a,l=e[4]("based_on")+"";return i=new gw({props:{table:e[3]}}),{c(){t=H("div"),n=H("span"),r=F(l),o=j(),s=H("div"),rt(i.$$.fragment),U(n,"class","meta svelte-1h6i4hz"),U(s,"class","horizontal-container svelte-1h6i4hz"),U(t,"class","horizontal-container svelte-1h6i4hz")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(t,o),O(t,s),ot(i,s,null),a=!0},p(e,t){(!a||16&t)&&l!==(l=e[4]("based_on")+"")&&G(r,l);const n={};8&t&&(n.table=e[3]),i.$set(n)},i(e){a||(je(i.$$.fragment,e),a=!0)},o(e){qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(i)}}}function E1(e){let t,n,r,o,s,a,l,c,u,d,p=e[0].name+"";const $=[Fy];let m={};for(let h=0;h<$.length;h+=1)m=i(m,$[h]);o=new Kr({props:m});let f=e[3]&&C1(e);return{c(){t=H("a"),n=H("div"),r=H("div"),rt(o.$$.fragment),s=j(),a=H("span"),l=F(p),c=j(),f&&f.c(),U(r,"class","horizontal-container name-and-icon svelte-1h6i4hz"),U(n,"class","container svelte-1h6i4hz"),U(t,"class","link-container svelte-1h6i4hz"),U(t,"href",u=Fb(e[1].id,e[2].id,e[0].id))},m(e,i){L(e,t,i),O(t,n),O(n,r),ot(o,r,null),O(r,s),O(r,a),O(a,l),O(n,c),f&&f.m(n,null),d=!0},p(e,[r]){const s=0&r?et($,[tt(Fy)]):{};o.$set(s),(!d||1&r)&&p!==(p=e[0].name+"")&&G(l,p),e[3]?f?(f.p(e,r),8&r&&je(f,1)):(f=C1(e),f.c(),je(f,1),f.m(n,null)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),(!d||7&r&&u!==(u=Fb(e[1].id,e[2].id,e[0].id)))&&U(t,"href",u)},i(e){d||(je(o.$$.fragment,e),je(f),d=!0)},o(e){qe(o.$$.fragment,e),qe(f),d=!1},d(e){e&&P(t),st(o),f&&f.d()}}}function k1(e,t,n){let r,o,s;m(e,UO,(e=>n(5,o=e))),m(e,Mg,(e=>n(4,s=e)));let{exploration:i}=t,{database:a}=t,{schema:l}=t;return e.$$set=e=>{"exploration"in e&&n(0,i=e.exploration),"database"in e&&n(1,a=e.database),"schema"in e&&n(2,l=e.schema)},e.$$.update=()=>{33&e.$$.dirty&&n(3,r=o.data.get(i.base_table))},[i,a,l,r,s,o]}class I1 extends at{constructor(e){super(),it(this,e,k1,E1,d,{exploration:0,database:1,schema:2})}}function T1(e,t,n){const r=e.slice();return r[5]=t[n],r[7]=n,r}function D1(e){let t,n;return t=new zU({props:{icon:Fy,$$slots:{default:[M1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};272&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M1(e){let t,n,r,o=e[4]("no_explorations")+"";return{c(){t=H("p"),n=F(o),r=j()},m(e,o){L(e,t,o),O(t,n),L(e,r,o)},p(e,t){16&t&&o!==(o=e[4]("no_explorations")+"")&&G(n,o)},d(e){e&&P(t),e&&P(r)}}}function O1(e){let t;return{c(){t=H("div"),U(t,"class","divider svelte-15dd43z")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function N1(e,t){let n,r,o,s,i;r=new I1({props:{exploration:t[5],database:t[1],schema:t[2]}});let a=t[7]!==t[0].length-1&&O1();return{key:e,first:null,c(){n=q(),rt(r.$$.fragment),o=j(),a&&a.c(),s=q(),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),L(e,o,t),a&&a.m(e,t),L(e,s,t),i=!0},p(e,n){t=e;const o={};1&n&&(o.exploration=t[5]),2&n&&(o.database=t[1]),4&n&&(o.schema=t[2]),r.$set(o),t[7]!==t[0].length-1?a||(a=O1(),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(e){i||(je(r.$$.fragment,e),i=!0)},o(e){qe(r.$$.fragment,e),i=!1},d(e){e&&P(n),st(r,e),e&&P(o),a&&a.d(e),e&&P(s)}}}function A1(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[5].id;for(let l=0;l<s.length;l+=1){let t=T1(e,s,l),n=i(t);o.set(n,r[l]=N1(n,t))}let a=null;return s.length||(a=D1(e)),{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();a&&a.c(),U(t,"class","container svelte-15dd43z"),te(t,"bordered",e[0].length>0&&e[3])},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);a&&a.m(t,null),n=!0},p(e,[l]){23&l&&(s=e[0],ze(),r=Qe(r,l,i,1,e,s,o,t,Ze,N1,null,T1),Fe(),!s.length&&a?a.p(e,l):s.length?a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()):(a=D1(e),a.c(),je(a,1),a.m(t,null))),(!n||9&l)&&te(t,"bordered",e[0].length>0&&e[3])},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d();a&&a.d()}}}function L1(e,t,n){let r;m(e,Mg,(e=>n(4,r=e)));let{explorations:o}=t,{database:s}=t,{schema:i}=t,{bordered:a=!0}=t;return e.$$set=e=>{"explorations"in e&&n(0,o=e.explorations),"database"in e&&n(1,s=e.database),"schema"in e&&n(2,i=e.schema),"bordered"in e&&n(3,a=e.bordered)},[o,s,i,a,r]}class P1 extends at{constructor(e){super(),it(this,e,L1,A1,d,{explorations:0,database:1,schema:2,bordered:3})}}function R1(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function H1(e){let t,n,r=e[1]&&R1();const o=e[5].default,s=f(o,e,e[6],null);return{c(){r&&r.c(),t=j(),s&&s.c()},m(e,o){r&&r.m(e,o),L(e,t,o),s&&s.m(e,o),n=!0},p(e,i){e[1]?r?2&i&&je(r,1):(r=R1(),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe()),s&&s.p&&(!n||64&i)&&y(s,o,e,e[6],n?g(o,e[6],i,null):v(e[6]),null)},i(e){n||(je(r),je(s,e),n=!0)},o(e){qe(r),qe(s,e),n=!1},d(e){r&&r.d(e),e&&P(t),s&&s.d(e)}}}function z1(e){let t,n;return t=new Hn({props:{disabled:e[1],appearance:"plain-primary",class:e[0],$$slots:{default:[H1]},$$scope:{ctx:e}}}),t.$on("click",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.disabled=e[1]),1&n&&(r.class=e[0]),66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F1(e,t,n){let{$$slots:r={},$$scope:o}=t,{database:s}=t,{schema:i}=t,{class:a=""}=t,l=!1;return e.$$set=e=>{"database"in e&&n(3,s=e.database),"schema"in e&&n(4,i=e.schema),"class"in e&&n(0,a=e.class),"$$scope"in e&&n(6,o=e.$$scope)},[a,l,async function(){n(1,l=!0);const e=await jO(s,i,{});n(1,l=!1),qN.goto(qb(s.id,i.id,e.id),!1)},s,i,r,o]}class j1 extends at{constructor(e){super(),it(this,e,F1,z1,d,{database:3,schema:4,class:0})}}function q1(e){let t,n,r=e[2]("add_tables_to_new_schema")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","title")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=e[2]("add_tables_to_new_schema")+"")&&G(n,r)},d(e){e&&P(t)}}}function V1(e){let t,n,r=e[2]("what_is_a_table")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","body")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=e[2]("what_is_a_table")+"")&&G(n,r)},d(e){e&&P(t)}}}function B1(e){let t,n,r=e[2]("from_scratch")+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=e[2]("from_scratch")+"")&&G(n,r)},d(e){e&&P(t)}}}function W1(e){let t,n=e[2]("import_from_file")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("import_from_file")+"")&&G(t,n)},d(e){e&&P(t)}}}function U1(e){let t,n,r,o,s,i,a,l,c,u=e[2]("how_do_you_want_to_create_table")+"";return i=new j1({props:{class:"padding-zero",database:e[0],schema:e[1],$$slots:{default:[B1]},$$scope:{ctx:e}}}),l=new fn({props:{href:Pb(e[0].id,e[1].id),$$slots:{default:[W1]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("span"),r=F(u),o=j(),s=H("div"),rt(i.$$.fragment),a=j(),rt(l.$$.fragment),U(n,"class","svelte-doup50"),U(s,"class","new-table-tutorial-actions svelte-doup50"),U(t,"class","new-table-tutorial-footer svelte-doup50"),U(t,"slot","footer")},m(e,u){L(e,t,u),O(t,n),O(n,r),O(t,o),O(t,s),ot(i,s,null),O(s,a),ot(l,s,null),c=!0},p(e,t){(!c||4&t)&&u!==(u=e[2]("how_do_you_want_to_create_table")+"")&&G(r,u);const n={};1&t&&(n.database=e[0]),2&t&&(n.schema=e[1]),12&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const o={};3&t&&(o.href=Pb(e[0].id,e[1].id)),12&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(je(i.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(i.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),st(i),st(l)}}}function Y1(e){let t,n;return t=new Ln({props:{$$slots:{footer:[U1],body:[V1],title:[q1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};15&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function K1(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{database:o}=t,{schema:s}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"schema"in e&&n(1,s=e.schema)},[o,s,r]}class G1 extends at{constructor(e){super(),it(this,e,K1,Y1,d,{database:0,schema:1})}}function X1(e){let t,n,r=e[2]("time_to_create_exploration")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","title")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=e[2]("time_to_create_exploration")+"")&&G(n,r)},d(e){e&&P(t)}}}function Z1(e){let t,n,r=e[2]("what_is_an_exploration")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","body")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&r!==(r=e[2]("what_is_an_exploration")+"")&&G(n,r)},d(e){e&&P(t)}}}function J1(e){let t,n=e[2]("open_data_explorer")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("open_data_explorer")+"")&&G(t,n)},d(e){e&&P(t)}}}function Q1(e){let t,n;return t=new fn({props:{slot:"footer",href:zb(e[0].id,e[1].id),$$slots:{default:[J1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.href=zb(e[0].id,e[1].id)),12&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function e0(e){let t,n;return t=new Ln({props:{$$slots:{footer:[Q1],body:[Z1],title:[X1]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};15&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t0(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{database:o}=t,{schema:s}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"schema"in e&&n(1,s=e.schema)},[o,s,r]}class n0 extends at{constructor(e){super(),it(this,e,t0,e0,d,{database:0,schema:1})}}function r0(e){let t,n=e[3]("from_scratch")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("from_scratch")+"")&&G(t,n)},d(e){e&&P(t)}}}function o0(e){let t,n=e[3]("from_data_import")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("from_data_import")+"")&&G(t,n)},d(e){e&&P(t)}}}function s0(e){let t,n,r,o;return t=new y$({props:{$$slots:{default:[r0]},$$scope:{ctx:e}}}),t.$on("click",e[4]),r=new x$({props:{href:Pb(e[0].id,e[1].id),$$slots:{default:[o0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};40&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};3&n&&(s.href=Pb(e[0].id,e[1].id)),40&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function i0(e){let t,n;const r=[ny];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(ny)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function a0(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function l0(e){let t,n,r,o,s,i,a,l=e[3]("new_table")+"";const c=[a0,i0],u=[];function d(e,t){return e[2]?0:1}return n=d(e),r=u[n]=c[n](e),{c(){t=H("div"),r.c(),o=j(),s=H("span"),i=F(l),U(t,"slot","trigger")},m(e,r){L(e,t,r),u[n].m(t,null),O(t,o),O(t,s),O(s,i),a=!0},p(e,s){let p=n;n=d(e),n===p?u[n].p(e,s):(ze(),qe(u[p],1,1,(()=>{u[p]=null})),Fe(),r=u[n],r?r.p(e,s):(r=u[n]=c[n](e),r.c()),je(r,1),r.m(t,o)),(!a||8&s)&&l!==(l=e[3]("new_table")+"")&&G(i,l)},i(e){a||(je(r),a=!0)},o(e){qe(r),a=!1},d(e){e&&P(t),u[n].d()}}}function c0(e){let t,n;return t=new Qc({props:{showArrow:!0,triggerAppearance:"primary",closeOnInnerClick:!0,label:e[3]("new_table"),$$slots:{trigger:[l0],default:[s0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("new_table")),47&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function u0(e,t,n){let r;m(e,Mg,(e=>n(3,r=e)));let{database:o}=t,{schema:s}=t,i=!1;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"schema"in e&&n(1,s=e.schema)},[o,s,i,r,async function(){n(2,i=!0);const e=await jO(o,s,{});n(2,i=!1),qN.goto(qb(o.id,s.id,e.id),!1)}]}class d0 extends at{constructor(e){super(),it(this,e,u0,c0,d,{database:0,schema:1})}}function p0(e,t,n){const r=e.slice();return r[2]=t[n],r}function $0(e,t){let n,r,o,s;return r=new Bl({props:{loading:!0}}),{key:e,first:null,c(){n=H("div"),rt(r.$$.fragment),o=j(),U(n,"class","table-skeleton svelte-urq83"),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,t){},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function m0(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[2];for(let a=0;a<s.length;a+=1){let t=p0(e,s,a),n=i(t);o.set(n,r[a]=$0(n))}return{c(){t=H("div");for(let e=0;e<r.length;e+=1)r[e].c();U(t,"class","table-skeleton-container svelte-urq83")},m(e,o){L(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);n=!0},p(e,[n]){1&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t,Ze,$0,null,p0),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){e&&P(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function f0(e,t,n){let r,{numTables:o=9}=t;return e.$$set=e=>{"numTables"in e&&n(1,o=e.numTables)},e.$$.update=()=>{2&e.$$.dirty&&n(0,r=Array.from({length:o},((e,t)=>t)))},[r,o]}class h0 extends at{constructor(e){super(),it(this,e,f0,m0,d,{numTables:1})}}function g0(e){let t,n,r;return n=new Bl({props:{loading:!0}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","exploration-skeleton-container svelte-1rmp9hx")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}class y0 extends at{constructor(e){super(),it(this,e,null,g0,d,{})}}function v0(e){let t,n;return t=new d0({props:{database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function b0(e){let t,n,r=e[4]&&v0(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=v0(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function w0(e){let t,n;return t=new S1({props:{canExecuteDDL:e[4],tables:[...e[0].values()],database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.canExecuteDDL=e[4]),1&n&&(r.tables=[...e[0].values()]),32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _0(e){let t,n;return t=new G1({props:{database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x0(e){let t,n;return t=new LM({props:{$$slots:{default:[E0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};133188&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function S0(e){let t,n;return t=new h0({props:{numTables:e[6].num_tables}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.numTables=e[6].num_tables),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function C0(e){let t,n,r=e[11]("go_to_database")+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){2048&t&&r!==(r=e[11]("go_to_database")+"")&&G(n,r)},d(e){e&&P(t)}}}function E0(e){let t,n,r,o,s,i,a,l,c,u=e[2].errors[0]+"";return s=new to({props:{onClick:e[15],label:e[11]("retry"),icon:by}}),l=new Hn({props:{$$slots:{default:[C0]},$$scope:{ctx:e}}}),{c(){t=H("p"),n=F(u),r=j(),o=H("div"),rt(s.$$.fragment),i=j(),a=H("a"),rt(l.$$.fragment),U(a,"href","../")},m(e,u){L(e,t,u),O(t,n),L(e,r,u),L(e,o,u),ot(s,o,null),O(o,i),O(o,a),ot(l,a,null),c=!0},p(e,t){(!c||4&t)&&u!==(u=e[2].errors[0]+"")&&G(n,u);const r={};64&t&&(r.onClick=e[15]),2048&t&&(r.label=e[11]("retry")),s.$set(r);const o={};133120&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(s.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s),st(l)}}}function k0(e){let t,n;return t=new P1({props:{bordered:!1,explorations:[...e[1].values()],database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.explorations=[...e[1].values()]),32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function I0(e){let t,n;return t=new n0({props:{database:e[5],schema:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.database=e[5]),64&n&&(r.schema=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function T0(e){let t,n;return t=new LM({props:{$$slots:{default:[O0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};133192&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function D0(e){let t,n;return t=new y0({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M0(e){let t,n,r=e[11]("go_to_database")+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){2048&t&&r!==(r=e[11]("go_to_database")+"")&&G(n,r)},d(e){e&&P(t)}}}function O0(e){let t,n,r,o,s,i,a,l,c,u=e[3].errors[0]+"";return s=new to({props:{onClick:e[16],label:e[11]("retry"),icon:by}}),l=new Hn({props:{$$slots:{default:[M0]},$$scope:{ctx:e}}}),{c(){t=H("p"),n=F(u),r=j(),o=H("div"),rt(s.$$.fragment),i=j(),a=H("a"),rt(l.$$.fragment),U(a,"href","../")},m(e,u){L(e,t,u),O(t,n),L(e,r,u),L(e,o,u),ot(s,o,null),O(o,i),O(o,a),ot(l,a,null),c=!0},p(e,t){(!c||8&t)&&u!==(u=e[3].errors[0]+"")&&G(n,u);const r={};64&t&&(r.onClick=e[16]),2048&t&&(r.label=e[11]("retry")),s.$set(r);const o={};133120&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(s.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s),st(l)}}}function N0(e){let t,n,r,o,s,i,a,l,c,u=e[11]("what_is_an_exploration_mini")+"";return n=new PU({props:{title:e[11]("explore_your_data")}}),l=new fn({props:{href:zb(e[5].id,e[6].id),$$slots:{default:[A0]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("span"),s=F(u),i=j(),a=H("div"),rt(l.$$.fragment),U(t,"class","vertical-container svelte-36ix5v")},m(e,u){L(e,t,u),ot(n,t,null),O(t,r),O(t,o),O(o,s),O(t,i),O(t,a),ot(l,a,null),c=!0},p(e,t){const r={};2048&t&&(r.title=e[11]("explore_your_data")),n.$set(r),(!c||2048&t)&&u!==(u=e[11]("what_is_an_exploration_mini")+"")&&G(s,u);const o={};96&t&&(o.href=zb(e[5].id,e[6].id)),133120&t&&(o.$$scope={dirty:t,ctx:e}),l.$set(o)},i(e){c||(je(n.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(n.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),st(n),st(l)}}}function A0(e){let t,n=e[11]("open_data_explorer")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2048&r&&n!==(n=e[11]("open_data_explorer")+"")&&G(t,n)},d(e){e&&P(t)}}}function L0(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f;r=new PU({props:{title:e[11]("tables"),$$slots:{action:[b0]},$$scope:{ctx:e}}});const h=[S0,x0,_0,w0],g=[];function y(e,t){return"processing"===e[2].state?0:"failure"===e[2].state?1:e[10]?2:3}s=y(e),i=g[s]=h[s](e),u=new PU({props:{title:e[11]("saved_explorations")}});const v=[D0,T0,I0,k0],b=[];function w(e,t){return e[7]?0:"failure"===e[3].state?1:e[9]?2:3}p=w(e),$=b[p]=v[p](e);let _=e[8]&&N0(e);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),i.c(),a=j(),l=H("div"),c=H("div"),rt(u.$$.fragment),d=j(),$.c(),m=j(),_&&_.c(),U(n,"class","vertical-container tables svelte-36ix5v"),U(c,"class","vertical-container svelte-36ix5v"),U(l,"class","vertical-container explorations svelte-36ix5v"),U(t,"class","container svelte-36ix5v")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),g[s].m(n,null),O(t,a),O(t,l),O(l,c),ot(u,c,null),O(c,d),b[p].m(c,null),O(l,m),_&&_.m(l,null),f=!0},p(e,[t]){const o={};2048&t&&(o.title=e[11]("tables")),131184&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o);let a=s;s=y(e),s===a?g[s].p(e,t):(ze(),qe(g[a],1,1,(()=>{g[a]=null})),Fe(),i=g[s],i?i.p(e,t):(i=g[s]=h[s](e),i.c()),je(i,1),i.m(n,null));const d={};2048&t&&(d.title=e[11]("saved_explorations")),u.$set(d);let m=p;p=w(e),p===m?b[p].p(e,t):(ze(),qe(b[m],1,1,(()=>{b[m]=null})),Fe(),$=b[p],$?$.p(e,t):($=b[p]=v[p](e),$.c()),je($,1),$.m(c,null)),e[8]?_?(_.p(e,t),256&t&&je(_,1)):(_=N0(e),_.c(),je(_,1),_.m(l,null)):_&&(ze(),qe(_,1,1,(()=>{_=null})),Fe())},i(e){f||(je(r.$$.fragment,e),je(i),je(u.$$.fragment,e),je($),je(_),f=!0)},o(e){qe(r.$$.fragment,e),qe(i),qe(u.$$.fragment,e),qe($),qe(_),f=!1},d(e){e&&P(t),st(r),g[s].d(),st(u),b[p].d(),_&&_.d()}}}function P0(e,t,n){let r,o,s,i,a,l,c;m(e,Mg,(e=>n(11,c=e)));let{tablesMap:u}=t,{explorationsMap:d}=t,{tablesRequestStatus:p}=t,{explorationsRequestStatus:$}=t,{canExecuteDDL:f}=t,{canEditMetadata:h}=t,{database:g}=t,{schema:y}=t;return e.$$set=e=>{"tablesMap"in e&&n(0,u=e.tablesMap),"explorationsMap"in e&&n(1,d=e.explorationsMap),"tablesRequestStatus"in e&&n(2,p=e.tablesRequestStatus),"explorationsRequestStatus"in e&&n(3,$=e.explorationsRequestStatus),"canExecuteDDL"in e&&n(4,f=e.canExecuteDDL),"canEditMetadata"in e&&n(12,h=e.canEditMetadata),"database"in e&&n(5,g=e.database),"schema"in e&&n(6,y=e.schema)},e.$$.update=()=>{1&e.$$.dirty&&n(14,r=u.size>0),2&e.$$.dirty&&n(13,o=d.size>0),16400&e.$$.dirty&&n(10,s=!r&&f),28672&e.$$.dirty&&n(9,i=r&&!o&&h),8&e.$$.dirty&&n(7,a="processing"===$.state),24704&e.$$.dirty&&n(8,l=r&&o&&!a)},[u,d,p,$,f,g,y,a,l,i,s,c,h,o,r,async()=>{await PO(y.id)},async()=>{await zP(y.id)}]}class R0 extends at{constructor(e){super(),it(this,e,P0,L0,d,{tablesMap:0,explorationsMap:1,tablesRequestStatus:2,explorationsRequestStatus:3,canExecuteDDL:4,canEditMetadata:12,database:5,schema:6})}}function H0(e){let t,n;return t=new d0({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function z0(e){let t,n,r=e[2]&&H0(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[2]?r?(r.p(e,n),4&n&&je(r,1)):(r=H0(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function F0(e){let t,n;return{c(){t=H("strong"),n=F(e[3])},m(e,r){L(e,t,r),O(t,n)},p(e,t){8&t&&G(n,e[3])},d(e){e&&P(t)}}}function j0(e){let t,n="searchValue"===e[10]&&F0(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[10]?n?n.p(e,r):(n=F0(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function q0(e){let t,n,r;return n=new Kg({props:{text:e[6]("tables_matching_search",{values:{count:e[4].length}}),$$slots:{default:[j0,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){t=H("p"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};80&t&&(r.text=e[6]("tables_matching_search",{values:{count:e[4].length}})),3080&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function V0(e){let t,n;return t=new S1({props:{canExecuteDDL:e[2],tables:e[4],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.canExecuteDDL=e[2]),16&n&&(r.tables=e[4]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B0(e){let t,n;return t=new G1({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function W0(e){let t,n,r,o;const s=[B0,V0],i=[];function a(e,t){return e[5]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function U0(e){let t,n,r;function o(t){e[9](t)}let s={searchPlaceholder:e[6]("search_tables"),$$slots:{content:[W0],resultInfo:[q0],action:[z0]},$$scope:{ctx:e}};return void 0!==e[3]&&(s.searchQuery=e[3]),t=new IF({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[7]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};64&r&&(o.searchPlaceholder=e[6]("search_tables")),2175&r&&(o.$$scope={dirty:r,ctx:e}),!n&&8&r&&(n=!0,o.searchQuery=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Y0(e,t,n){let r,o,s;m(e,Mg,(e=>n(6,s=e)));let{tablesMap:i}=t,{database:a}=t,{schema:l}=t,{canExecuteDDL:c}=t,u="";return e.$$set=e=>{"tablesMap"in e&&n(8,i=e.tablesMap),"database"in e&&n(0,a=e.database),"schema"in e&&n(1,l=e.schema),"canExecuteDDL"in e&&n(2,c=e.canExecuteDDL)},e.$$.update=()=>{var t;260&e.$$.dirty&&n(5,r=0===i.size&&c),264&e.$$.dirty&&n(4,(t=u,o=[...i.values()].filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase())))))},[a,l,c,u,o,r,s,function(){n(3,u="")},i,function(e){u=e,n(3,u)}]}class K0 extends at{constructor(e){super(),it(this,e,Y0,U0,d,{tablesMap:8,database:0,schema:1,canExecuteDDL:2})}}function G0(e){let t,n=e[5]("open_data_explorer")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("open_data_explorer")+"")&&G(t,n)},d(e){e&&P(t)}}}function X0(e){let t,n;return t=new fn({props:{href:zb(e[0].id,e[1].id),$$slots:{default:[G0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.href=zb(e[0].id,e[1].id)),4128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Z0(e){let t,n;return{c(){t=H("strong"),n=F(e[2])},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&G(n,e[2])},d(e){e&&P(t)}}}function J0(e){let t,n="searchValue"===e[11]&&Z0(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"searchValue"===e[11]?n?n.p(e,r):(n=Z0(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function Q0(e){let t,n,r;return n=new Kg({props:{text:e[5]("explorations_matching_search",{values:{count:e[3].length}}),$$slots:{default:[J0,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){t=H("p"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};40&t&&(r.text=e[5]("explorations_matching_search",{values:{count:e[3].length}})),6148&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function e2(e){let t,n;return t=new P1({props:{explorations:e[3],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.explorations=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t2(e){let t,n;return t=new n0({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n2(e){let t,n,r,o;const s=[t2,e2],i=[];function a(e,t){return e[4]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function r2(e){let t,n,r;function o(t){e[10](t)}let s={searchPlaceholder:e[5]("search_explorations"),$$slots:{content:[n2],resultInfo:[Q0],action:[X0]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.searchQuery=e[2]),t=new IF({props:s}),we.push((()=>nt(t,"searchQuery",o))),t.$on("clear",e[6]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};32&r&&(o.searchPlaceholder=e[5]("search_explorations")),4159&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.searchQuery=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function o2(e,t,n){let r,o,s;m(e,Mg,(e=>n(5,s=e)));let{database:i}=t,{schema:a}=t,{explorationsMap:l}=t,{hasTablesToExplore:c}=t,{canEditMetadata:u}=t,d="";return e.$$set=e=>{"database"in e&&n(0,i=e.database),"schema"in e&&n(1,a=e.schema),"explorationsMap"in e&&n(7,l=e.explorationsMap),"hasTablesToExplore"in e&&n(8,c=e.hasTablesToExplore),"canEditMetadata"in e&&n(9,u=e.canEditMetadata)},e.$$.update=()=>{var t;896&e.$$.dirty&&n(4,r=0===l.size&&c&&u),132&e.$$.dirty&&n(3,(t=d,o=[...l.values()].filter((e=>e.name.toLowerCase().includes(t.trim().toLowerCase())))))},[i,a,d,o,r,s,function(){n(2,d="")},l,c,u,function(e){d=e,n(2,d)}]}class s2 extends at{constructor(e){super(),it(this,e,o2,r2,d,{database:0,schema:1,explorationsMap:7,hasTablesToExplore:8,canEditMetadata:9})}}function i2(e){let t,n;return t=new LM({props:{$$slots:{default:[c2]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32800&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function a2(e){let t,n,r=e[4]("loading")+"";return{c(){t=H("div"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){16&t&&r!==(r=e[4]("loading")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function l2(e){let t,n;return t=new RV({props:{accessControlObject:"schema",usersWithAccess:e[6],usersWithoutAccess:e[7],addAccessForUser:e[9],removeAccessForUser:e[10],getUserRoles:e[11]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.usersWithAccess=e[6]),128&n&&(r.usersWithoutAccess=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c2(e){let t,n=e[5].errors.join(", ")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5].errors.join(", ")+"")&&G(t,n)},d(e){e&&P(t)}}}function u2(e){let t,n,r,o;const s=[l2,a2,i2],i=[];function a(e,t){return"success"===e[5]?.state?0:"processing"===e[5]?.state?1:"failure"===e[5]?.state?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function d2(e){let t,n;return t=new Ag({props:{$$slots:{default:[p2]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32770&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function p2(e){let t,n=e[1].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1].name+"")&&G(t,n)},d(e){e&&P(t)}}}function $2(e){let t,n,r="databaseName"===e[14]&&d2(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"databaseName"===e[14]?r?(r.p(e,n),16384&n&&je(r,1)):(r=d2(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function m2(e){let t,n;return t=new Kg({props:{text:e[4]("manage_schema_access"),$$slots:{default:[$2,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.text=e[4]("manage_schema_access")),49154&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f2(e){let t,n;return t=new Sp({props:{controller:e[0],size:"medium",closeOn:["button","esc","overlay"],$$slots:{title:[m2],default:[u2]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),33010&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function h2(e,t,n){let r,s,i,a,l,c,u=o,d=o;m(e,Mg,(e=>n(4,i=e))),e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>d()));let{controller:$}=t,{database:f}=t,{schema:h}=t;const g=ab(),{requestStatus:y}=g;return m(e,y,(e=>n(5,a=e))),e.$$set=e=>{"controller"in e&&n(0,$=e.controller),"database"in e&&n(12,f=e.database),"schema"in e&&n(1,h=e.schema)},e.$$.update=()=>{2&e.$$.dirty&&(n(3,r=g.getNormalUsersWithoutDirectSchemaRole(h)),d(),d=p(r,(e=>n(7,c=e)))),4098&e.$$.dirty&&(n(2,s=g.getUsersWithAccessToSchema(f,h)),u(),u=p(s,(e=>n(6,l=e))))},[$,h,s,r,i,a,l,c,y,async function(e,t){await g.addSchemaRoleForUser(e.id,h,t)},async function(e){await g.removeSchemaAccessForUser(e.id,h)},function(e){const t=new Map,n=e.getRoleForDb(f);n&&t.set("database",n.role);const r=e.getRoleForSchema(h);return r&&t.set("schema",r.role),t.size?t:void 0},f]}class g2 extends at{constructor(e){super(),it(this,e,h2,f2,d,{controller:0,database:12,schema:1})}}function y2(e){let t,n,r,o;const s=[_2,w2],i=[];function a(e,t){return"processing"===e[9].state?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","tab-container svelte-jadtkf")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function v2(e){let t,n,r,o;const s=[S2,x2],i=[];function a(e,t){return"processing"===e[10].state?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","tab-container svelte-jadtkf")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function b2(e){let t,n,r;return n=new R0({props:{canExecuteDDL:e[5],canEditMetadata:e[12],tablesRequestStatus:e[10],tablesMap:e[4],explorationsMap:e[3],database:e[0],schema:e[1],explorationsRequestStatus:e[9]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","tab-container svelte-jadtkf")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};32&t&&(r.canExecuteDDL=e[5]),4096&t&&(r.canEditMetadata=e[12]),1024&t&&(r.tablesRequestStatus=e[10]),16&t&&(r.tablesMap=e[4]),8&t&&(r.explorationsMap=e[3]),1&t&&(r.database=e[0]),2&t&&(r.schema=e[1]),512&t&&(r.explorationsRequestStatus=e[9]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function w2(e){let t,n;return t=new s2({props:{canEditMetadata:e[12],hasTablesToExplore:!!e[4].size,explorationsMap:e[3],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n&&(r.canEditMetadata=e[12]),16&n&&(r.hasTablesToExplore=!!e[4].size),8&n&&(r.explorationsMap=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _2(e){let t,n;return t=new y0({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x2(e){let t,n;return t=new K0({props:{canExecuteDDL:e[5],tablesMap:e[4],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.canExecuteDDL=e[5]),16&n&&(r.tablesMap=e[4]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function S2(e){let t,n;return t=new h0({props:{numTables:e[1].num_tables}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.numTables=e[1].num_tables),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function C2(e){let t,n,r,o;const s=[b2,v2,y2],i=[];function a(e,t){return"overview"===e[8]?.id?0:"tables"===e[8]?.id?1:"explorations"===e[8]?.id?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function E2(e){let t,n,r=e[24].count+"";return{c(){t=H("span"),n=F(r),U(t,"class","count svelte-jadtkf")},m(e,r){L(e,t,r),O(t,n)},p(e,t){16777216&t&&r!==(r=e[24].count+"")&&G(n,r)},d(e){e&&P(t)}}}function k2(e){let t,n,r,o,s=e[24].label+"",i=void 0!==e[24].count&&E2(e);return{c(){t=H("div"),n=H("span"),r=F(s),o=j(),i&&i.c(),U(t,"slot","tab"),U(t,"class","tab-header-container svelte-jadtkf")},m(e,s){L(e,t,s),O(t,n),O(n,r),O(t,o),i&&i.m(t,null)},p(e,n){16777216&n&&s!==(s=e[24].label+"")&&G(r,s),void 0!==e[24].count?i?i.p(e,n):(i=E2(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},d(e){e&&P(t),i&&i.d()}}}function I2(e){let t,n;return t=new jd({props:{activeTab:e[8],tabs:e[2],uniformTabWidth:!1,$$slots:{tab:[k2,({tab:e})=>({24:e}),({tab:e})=>e?16777216:0],default:[C2]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.activeTab=e[8]),4&n&&(r.tabs=e[2]),50337595&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function T2(e){let t,n;return t=new Hn({props:{appearance:"secondary",$$slots:{default:[D2]},$$scope:{ctx:e}}}),t.$on("click",e[16]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};33554496&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function D2(e){let t,n,r,o,s,a=e[6]("edit_schema")+"";const l=[ay];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ay)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("edit_schema")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function M2(e){let t,n;return t=new Hn({props:{appearance:"secondary",$$slots:{default:[O2]},$$scope:{ctx:e}}}),t.$on("click",e[17]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};33554496&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function O2(e){let t,n,r,o,s,a=e[6]("manage_access")+"";const l=[gy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(gy)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("manage_access")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function N2(e){let t,n,r,o=!e[7]&&e[5]&&T2(e),s=e[11]&&M2(e);return{c(){t=H("div"),o&&o.c(),n=j(),s&&s.c(),U(t,"slot","action")},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,r){!e[7]&&e[5]?o?(o.p(e,r),160&r&&je(o,1)):(o=T2(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[11]?s?(s.p(e,r),2048&r&&je(s,1)):(s=M2(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}function A2(e){let t,n,r=e[1].description+"";return{c(){t=H("span"),n=F(r),U(t,"class","description")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1].description+"")&&G(n,r)},d(e){e&&P(t)}}}function L2(e){let t,n=e[1].description&&A2(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){e[1].description?n?n.p(e,r):(n=A2(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function P2(e){let t,n;return t=new hj({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:e[1].name,type:"schema",icon:Yy},$$slots:{bottom:[L2],action:[N2]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.pageTitleAndMetaProps={name:e[1].name,type:"schema",icon:Yy}),33556706&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function R2(e){let t,n,r,o,s,i,a,l;return document.title=t=TF(e[1].name),r=new mH({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[P2],default:[I2]},$$scope:{ctx:e}}}),s=new bW({props:{controller:e[14],database:e[0],schema:e[1]}}),a=new g2({props:{controller:e[15],database:e[0],schema:e[1]}}),{c(){n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),L(e,o,t),ot(s,e,t),L(e,i,t),ot(a,e,t),l=!0},p(e,[n]){(!l||2&n)&&t!==(t=TF(e[1].name))&&(document.title=t);const o={};33562623&n&&(o.$$scope={dirty:n,ctx:e}),r.$set(o);const i={};1&n&&(i.database=e[0]),2&n&&(i.schema=e[1]),s.$set(i);const c={};1&n&&(c.database=e[0]),2&n&&(c.schema=e[1]),a.$set(c)},i(e){l||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){e&&P(n),st(r,e),e&&P(o),st(s,e),e&&P(i),st(a,e)}}}function H2(e,t,n){let r,o,s,i,a,l,c,u,d,p,$,f,h,g,y,v;m(e,Mg,(e=>n(6,f=e))),m(e,qP,(e=>n(20,h=e))),m(e,UO,(e=>n(21,g=e))),m(e,YO,(e=>n(22,y=e)));let{database:b}=t,{schema:w}=t,{section:_}=t;const x=cb();m(e,x,(e=>n(23,v=e)));const S=Sv.spawnModalController(),C=Sv.spawnModalController();var E,k;return E="opened_schema",k={database_name:b.nickname,schema_name:w.name,source:"schema_page"},window.dispatchEvent(new CustomEvent("userAction",{detail:{eventName:E,metadata:k}})),e.$$set=e=>{"database"in e&&n(0,b=e.database),"schema"in e&&n(1,w=e.schema),"section"in e&&n(18,_=e.section)},e.$$.update=()=>{8388608&e.$$.dirty&&n(19,r=v),524291&e.$$.dirty&&n(5,o=r?.hasPermission({database:b,schema:w},"canExecuteDDL")??!1),524291&e.$$.dirty&&n(12,s=r?.hasPermission({database:b,schema:w},"canEditMetadata")??!1),524291&e.$$.dirty&&n(11,i=r?.hasPermission({database:b,schema:w},"canEditPermissions")),6291488&e.$$.dirty&&n(4,a=o?g.data:y),1048576&e.$$.dirty&&n(3,l=h.data),2097152&e.$$.dirty&&n(10,c=g.requestStatus),1048576&e.$$.dirty&&n(9,u=h.requestStatus),91&e.$$.dirty&&n(2,d=[{label:f("overview"),id:"overview",href:Nb(b.id,w.id)},{label:f("tables"),id:"tables",count:a.size,href:Ab(b.id,w.id)},{label:f("explorations"),id:"explorations",count:l.size,href:Lb(b.id,w.id)}]),262148&e.$$.dirty&&n(8,p=d.find((e=>e.id===_))||d[0]),2&e.$$.dirty&&n(7,$="public"===w.name)},[b,w,d,l,a,o,f,$,p,u,c,i,s,x,S,C,function(){S.open()},function(){C.open()},_,r,h,g,y,v]}class z2 extends at{constructor(e){super(),it(this,e,H2,R2,d,{database:0,schema:1,section:18})}}const F2=e=>({meta:64&e}),j2=e=>({meta:e[6]});function q2(e){let t,n,r;t=new _H({props:{meta:e[6]}}),t.$on("load",e[3]),t.$on("unload",e[4]);const o=e[2].default,s=f(o,e,e[5],j2);return{c(){rt(t.$$.fragment),n=j(),s&&s.c()},m(e,o){ot(t,e,o),L(e,n,o),s&&s.m(e,o),r=!0},p(e,n){const i={};64&n&&(i.meta=e[6]),t.$set(i),s&&s.p&&(!r||96&n)&&y(s,o,e,e[5],r?g(o,e[5],n,F2):v(e[5]),j2)},i(e){r||(je(t.$$.fragment,e),je(s,e),r=!0)},o(e){qe(t.$$.fragment,e),qe(s,e),r=!1},d(e){st(t,e),e&&P(n),s&&s.d(e)}}}function V2(e){let t,n;return t=new eA({props:{path:e[0],firstmatch:e[1],$$slots:{default:[q2,({meta:e})=>({6:e}),({meta:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.path=e[0]),2&n&&(r.firstmatch=e[1]),96&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B2(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s}=t,{firstmatch:i=!1}=t;return e.$$set=e=>{"path"in e&&n(0,s=e.path),"firstmatch"in e&&n(1,i=e.firstmatch),"$$scope"in e&&n(5,o=e.$$scope)},[s,i,r,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},o]}class W2 extends at{constructor(e){super(),it(this,e,B2,V2,d,{path:0,firstmatch:1})}}const U2=e=>({meta:2&e,path:2&e}),Y2=e=>({meta:e[1].meta,path:e[1].routePath.name});function K2(e,t,n){const r=e.slice();return r[8]=t[n],r}function G2(e,t){let n,r,o;return r=new W2({props:{path:t[8].path,firstmatch:!0}}),r.$on("load",(function(...e){return t[6](t[8],...e)})),r.$on("unload",(function(){return t[7](t[8])})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.path=t[8].path),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function X2(e){let t;const n=e[5].default,r=f(n,e,e[4],Y2);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||18&o)&&y(r,n,e,e[4],t?g(n,e[4],o,U2):v(e[4]),Y2)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Z2(e){let t,n,r,o=[],s=new Map,i=e[0];const a=e=>e[8].name;for(let c=0;c<i.length;c+=1){let t=K2(e,i,c),n=a(t);s.set(n,o[c]=G2(n,t))}let l=e[1]&&X2(e);return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=j(),l&&l.c(),n=q()},m(e,s){for(let t=0;t<o.length;t+=1)o[t].m(e,s);L(e,t,s),l&&l.m(e,s),L(e,n,s),r=!0},p(e,[r]){13&r&&(i=e[0],ze(),o=Qe(o,r,a,1,e,i,s,t.parentNode,Ze,G2,t,K2),Fe()),e[1]?l?(l.p(e,r),2&r&&je(l,1)):(l=X2(e),l.c(),je(l,1),l.m(n.parentNode,n)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){if(!r){for(let e=0;e<i.length;e+=1)je(o[e]);je(l),r=!0}},o(e){for(let t=0;t<o.length;t+=1)qe(o[t]);qe(l),r=!1},d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&P(t),l&&l.d(e),e&&P(n)}}}function J2(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{paths:i}=t;function a(e,t){n(1,r={routePath:e,meta:t})}async function l(e){await ke(),r?.routePath===e&&n(1,r=void 0)}return e.$$set=e=>{"paths"in e&&n(0,i=e.paths),"$$scope"in e&&n(4,s=e.$$scope)},[i,r,a,l,s,o,(e,t)=>a(e,t.detail),e=>l(e)]}class Q2 extends at{constructor(e){super(),it(this,e,J2,Z2,d,{paths:0})}}function e4(e){let t,n;return t=new LQ({props:{queryManager:e[0],canEditMetadata:e[1]}}),t.$on("close",e[7]),t.$on("delete",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.queryManager=e[0]),2&n&&(r.canEditMetadata=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t4(e){let t,n,r,o;return document.title=t=TF(e[3].name??e[4]("data_explorer")),r=new mH({props:{fitViewport:!0,$$slots:{default:[e4]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||24&n)&&t!==(t=TF(e[3].name??e[4]("data_explorer")))&&(document.title=t);const s={};2051&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function n4(e,t,n){let r,s,i,a,l,c=o;m(e,Mg,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>c()));const u=cb();m(e,u,(e=>n(10,a=e)));let{database:d}=t,{schema:$}=t,{queryManager:f}=t;return e.$$set=e=>{"database"in e&&n(8,d=e.database),"schema"in e&&n(9,$=e.schema),"queryManager"in e&&n(0,f=e.queryManager)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({query:r}=f),r),c(),c=p(r,(e=>n(3,i=e)))),1792&e.$$.dirty&&n(1,s=a?.hasPermission({database:d,schema:$},"canEditMetadata")??!1)},[f,s,r,i,l,u,function(){qN.goto(Nb(d.id,$.id))},function(){i.id&&qN.goto(Fb(d.id,$.id,i.id))},d,$,a]}class r4 extends at{constructor(e){super(),it(this,e,n4,t4,d,{database:8,schema:9,queryManager:0})}}function o4(e){let t,n;return t=new SH({props:{item:{type:"simple",href:zb(e[0].id,e[1].id),label:e[6]("data_explorer"),icon:Fy}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};67&n&&(r.item={type:"simple",href:zb(e[0].id,e[1].id),label:e[6]("data_explorer"),icon:Fy}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s4(e){let t,n,r,o;const s=[a4,i4],i=[];function a(e,t){return e[5].name?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function i4(e){let t,n;return t=new SH({props:{item:{type:"simple",href:jb(e[0].id,e[1].id,e[5].id),label:e[6]("data_explorer"),icon:Fy}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};99&n&&(r.item={type:"simple",href:jb(e[0].id,e[1].id,e[5].id),label:e[6]("data_explorer"),icon:Fy}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function a4(e){let t,n,r,o;return t=new SH({props:{item:{type:"exploration",database:e[0],schema:e[1],query:{id:e[5].id,name:e[5].name}}}}),r=new SH({props:{item:{type:"simple",href:jb(e[0].id,e[1].id,e[5].id),label:e[6]("edit"),icon:ay}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};35&n&&(o.item={type:"exploration",database:e[0],schema:e[1],query:{id:e[5].id,name:e[5].name}}),t.$set(o);const s={};99&n&&(s.item={type:"simple",href:jb(e[0].id,e[1].id,e[5].id),label:e[6]("edit"),icon:ay}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function l4(e){let t,n;return t=new bH({props:{$$slots:{default:[u4]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};65600&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c4(e){let t,n;return t=new r4({props:{queryManager:e[3],database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.queryManager=e[3]),1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function u4(e){let t,n=e[6]("exploration_not_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("exploration_not_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function d4(e){let t,n,r,o,s,i,a;const l=[s4,o4],c=[];function u(e,t){return e[5]?.id?0:1}t=u(e),n=c[t]=l[t](e);const d=[c4,l4],p=[];function $(e,t){return e[3]?0:e[2]?1:-1}return~(o=$(e))&&(s=p[o]=d[o](e)),{c(){n.c(),r=j(),s&&s.c(),i=q()},m(e,n){c[t].m(e,n),L(e,r,n),~o&&p[o].m(e,n),L(e,i,n),a=!0},p(e,[a]){let m=t;t=u(e),t===m?c[t].p(e,a):(ze(),qe(c[m],1,1,(()=>{c[m]=null})),Fe(),n=c[t],n?n.p(e,a):(n=c[t]=l[t](e),n.c()),je(n,1),n.m(r.parentNode,r));let f=o;o=$(e),o===f?~o&&p[o].p(e,a):(s&&(ze(),qe(p[f],1,1,(()=>{p[f]=null})),Fe()),~o?(s=p[o],s?s.p(e,a):(s=p[o]=d[o](e),s.c()),je(s,1),s.m(i.parentNode,i)):s=null)},i(e){a||(je(n),je(s),a=!0)},o(e){qe(n),qe(s),a=!1},d(e){c[t].d(e),e&&P(r),~o&&p[o].d(e),e&&P(i)}}}function p4(e,t,n){let r,s,i,a,l=o,c=()=>(l(),l=p(v,(e=>n(5,i=e))),v);m(e,qN,(e=>n(9,r=e))),m(e,NS,(e=>n(10,s=e))),m(e,Mg,(e=>n(6,a=e))),e.$$.on_destroy.push((()=>l()));let u,d,{database:f}=t,{schema:h}=t,{queryId:g}=t,y=!1,v=$t(void 0);function b(e){u?.destroy(),n(3,u=new SK({query:new fK(e),abstractTypeMap:s.data,onSave:async e=>{try{const t=jb(f.id,h.id,e.id);qN.goto(t,!0)}catch(t){console.error("There was an error when updating the URL",t)}}})),c(n(4,v=u.query)),n(2,y=!1)}function w(){u?.destroy(),n(2,y=!0),c(n(4,v=$t(void 0))),n(3,u=void 0)}function _(){if(u&&void 0===u.getQueryModel().id)return;const{hash:e}=r;if(e)try{const t=function(e){const t=JSON.parse(qC.decode(e));if(!t.baseTable)return;const{baseTable:n}=t;let r=[],o=[];if(!t.terseGrouping?.length||!t.columns)return{base_table:n.id};const s=new Map(t.columns.map((e=>[e.id,e]))),i=t.terseGrouping.filter((e=>s.has(e[0]))),a=i.map((e=>s.get(e[0]))).filter((e=>void 0!==e));if(0===a.length)return{base_table:n.id};const l=a[0],c=i[0][1],u=t.columns.find((e=>!a.includes(e))),d=u?[u]:[];r=[...a,...d].map((e=>({alias:e.name,id:e.id})));const p=a.map(((e,t)=>({input_alias:e.name,output_alias:`${e.name}_grouped`,preproc:0===t?c:void 0}))),$=d.map((e=>({input_alias:e.name,output_alias:`${n.name}_agged`,function:"count"})));o=[{type:"summarize",spec:{base_grouping_column:l.name,grouping_expressions:p,aggregation_expressions:$}}];const m=p.reduce(((e,t)=>({...e,[t.output_alias]:`${t.input_alias} group`})),{}),f=$.reduce(((e,t)=>({...e,[t.output_alias]:`${n.name} count`})),m);return{base_table:n.id,initial_columns:r,transformations:o,display_names:f}}(e);return qN.location.hash.clear(),void b(t??{})}catch{console.error("Unable to create query model from hash",e)}b({})}async function x(e){if(Number.isNaN(e))w();else if(!u||u.getQueryModel().id!==e){d?.cancel(),d=function(e){const t=$(nM);let n;return t?new lt(((r,o)=>{const s=$(jP(t)),i=s.data.get(e);i?r(i):"success"!==s.requestStatus.state?(n=Wv(`/api/db/v0/queries/${e}/`),n.then((e=>r(e)),(e=>o(e)))):o(new Error("Query not found"))}),(()=>{n?.cancel()})):new lt((e=>e()))}(e);try{b(await d)}catch{w()}}}return c(),e.$$set=e=>{"database"in e&&n(0,f=e.database),"schema"in e&&n(1,h=e.schema),"queryId"in e&&n(7,g=e.queryId)},e.$$.update=()=>{var t;128&e.$$.dirty&&((t=g)?x(t):_())},[f,h,y,u,v,i,a,g]}class $4 extends at{constructor(e){super(),it(this,e,p4,d4,d,{database:0,schema:1,queryId:7})}}function m4(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S=o,C=o,E=o,k=o,I=o,T=o,D=o;e.$$.on_destroy.push((()=>S())),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>k())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T())),e.$$.on_destroy.push((()=>D()));const M=EN();m(e,M,(e=>n(22,x=e)));let O,N,A,L,{api:P}=t;var R;R=()=>{n(9,O=_),n(10,N=w),n(11,A=v),n(12,L=b)},de().$$.before_update.push(R);let H,z,F=0,j=0;return e.$$set=e=>{"api"in e&&n(8,P=e.api)},e.$$.update=()=>{4194304&e.$$.dirty&&n(15,({recordsData:r,display:s,meta:i}=x),r,(n(13,s),n(22,x)),(n(14,i),n(22,x))),32768&e.$$.dirty&&(n(6,({newRecords:a,state:l}=r),a,(n(5,l),C(),C=p(l,(e=>n(17,g=e))),l)),E(),E=p(a,(e=>n(27,y=e)))),16384&e.$$.dirty&&(n(4,({sorting:c,filtering:u,grouping:d,pagination:$}=i),c,(n(3,u),T(),T=p(u,(e=>n(20,w=e))),u),(n(2,d),k(),k=p(d,(e=>n(18,v=e))),d),(n(1,$),I(),I=p($,(e=>n(19,b=e))),$)),D(),D=p(c,(e=>n(21,_=e)))),8192&e.$$.dirty&&(n(0,({displayableRecords:f}=s),f),S(),S=p(f,(e=>n(16,h=e)))),3940096&e.$$.dirty&&(O===_&&N===w&&A===v&&L===b||P.scrollToTop()),196608&e.$$.dirty&&async function(e,t){if(H!==v||v.entries.length>0&&z!==e)return await ke(),P.recalculateHeightsAfterIndex(0),H=v,void(z=e);const n=t.length??0,r=y.length??0;if(F!==r){const e=Math.max(j-F-3,0);await ke(),F<r&&P.scrollToBottom(),F=r,j=n,P.recalculateHeightsAfterIndex(e)}}(g,h)},[f,$,d,u,c,l,a,M,P,O,N,A,L,s,i,r,h,g,v,b,w,_,x]}class f4 extends at{constructor(e){super(),it(this,e,m4,null,d,{api:8})}}function h4(e){let t,n,r,o=e[1]("new_records_reposition_refresh")+"",s=[{class:"new-record-message"},e[2],{style:r=e[3]+";min-width:400px;"}],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("div"),n=F(o),Y(t,a),te(t,"svelte-l483ej",!0)},m(e,r){L(e,t,r),O(t,n)},p(e,i){2&i&&o!==(o=e[1]("new_records_reposition_refresh")+"")&&G(n,o),Y(t,a=et(s,[{class:"new-record-message"},4&i&&e[2],8&i&&r!==(r=e[3]+";min-width:400px;")&&{style:r}])),te(t,"svelte-l483ej",!0)},d(e){e&&P(t)}}}function g4(e){let t,n;return t=new kE({props:{index:0,columnSpan:e[0]+1,$$slots:{default:[h4,({htmlAttributes:e,style:t})=>({2:e,3:t}),({htmlAttributes:e,style:t})=>(e?4:0)|(t?8:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnSpan=e[0]+1),30&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function y4(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{columnCount:o}=t;return e.$$set=e=>{"columnCount"in e&&n(0,o=e.columnCount)},[o,r]}class v4 extends at{constructor(e){super(),it(this,e,y4,g4,d,{columnCount:0})}}function b4(e){let t,n;return{c(){t=H("span"),n=F(e[2]),U(t,"class","preproc svelte-11781fh")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&G(n,e[2])},d(e){e&&P(t)}}}function w4(e){let t,n;return t=new $I({props:{value:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.value=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _4(e){let t,n;return t=new WD({props:{recordSummary:e[6],recordId:e[4],recordPageHref:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.recordSummary=e[6]),16&n&&(r.recordId=e[4]),32&n&&(r.recordPageHref=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x4(e){let t,n,r,o,s,i,a,l,c,u=(e[0].get(e[1])?.column.name??"")+"",d=e[2]&&b4(e);const p=[_4,w4],$=[];function m(e,t){return e[6]?0:1}return a=m(e),l=$[a]=p[a](e),{c(){t=H("span"),n=H("span"),r=F(u),o=j(),d&&d.c(),s=j(),i=H("span"),l.c(),U(n,"class","name svelte-11781fh"),U(i,"class","value svelte-11781fh"),U(t,"class","tag svelte-11781fh")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(n,o),d&&d.m(n,null),O(t,s),O(t,i),$[a].m(i,null),c=!0},p(e,[t]){(!c||3&t)&&u!==(u=(e[0].get(e[1])?.column.name??"")+"")&&G(r,u),e[2]?d?d.p(e,t):(d=b4(e),d.c(),d.m(n,null)):d&&(d.d(1),d=null);let o=a;a=m(e),a===o?$[a].p(e,t):(ze(),qe($[o],1,1,(()=>{$[o]=null})),Fe(),l=$[a],l?l.p(e,t):(l=$[a]=p[a](e),l.c()),je(l,1),l.m(i,null))},i(e){c||(je(l),c=!0)},o(e){qe(l),c=!1},d(e){e&&P(t),d&&d.d(),$[a].d()}}}function S4(e,t,n){let r,o,s,i;m(e,QO,(e=>n(8,i=e)));let{processedColumnsMap:a}=t,{recordSummariesForSheet:l}=t,{columnId:c}=t,{preprocName:u}=t,{cellValue:d}=t;return e.$$set=e=>{"processedColumnsMap"in e&&n(0,a=e.processedColumnsMap),"recordSummariesForSheet"in e&&n(7,l=e.recordSummariesForSheet),"columnId"in e&&n(1,c=e.columnId),"preprocName"in e&&n(2,u=e.preprocName),"cellValue"in e&&n(3,d=e.cellValue)},e.$$.update=()=>{8&e.$$.dirty&&n(4,r=String(d)),146&e.$$.dirty&&n(6,o=l.get(String(c))?.get(r)),275&e.$$.dirty&&n(5,s=i({tableId:a?.get(c)?.linkFk?.referent_table,recordId:r}))},[a,c,u,d,r,s,o,l,i]}class C4 extends at{constructor(e){super(),it(this,e,S4,x4,d,{processedColumnsMap:0,recordSummariesForSheet:7,columnId:1,preprocName:2,cellValue:3})}}function E4(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function k4(e,t){let n,r,o;return r=new C4({props:{processedColumnsMap:t[0],cellValue:t[1].groupValues?t[1].groupValues[t[11]]:void 0,recordSummariesForSheet:t[3],columnId:t[11],preprocName:t[5][t[13]]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.processedColumnsMap=t[0]),18&n&&(o.cellValue=t[1].groupValues?t[1].groupValues[t[11]]:void 0),8&n&&(o.recordSummariesForSheet=t[3]),16&n&&(o.columnId=t[11]),48&n&&(o.preprocName=t[5][t[13]]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function I4(e){let t,n=e[2].count+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2].count+"")&&G(t,n)},d(e){e&&P(t)}}}function T4(e){let t,n,r,o,s,a,l,c,u,d=[],p=new Map;n=new gI({props:{color:"var(--sand-200)"}});let $=e[4];const m=e=>e[11];for(let i=0;i<$.length;i+=1){let t=E4(e,$,i),n=m(t);p.set(n,d[i]=k4(n,t))}l=new yn({props:{$$slots:{default:[I4]},$$scope:{ctx:e}}});let f=[e[9],{style:c=e[10]},{class:"group-header"}],h={};for(let g=0;g<f.length;g+=1)h=i(h,f[g]);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div");for(let e=0;e<d.length;e+=1)d[e].c();s=j(),a=H("div"),rt(l.$$.fragment),U(a,"class","count-container svelte-1755rd0"),U(o,"class","groups-data svelte-1755rd0"),Y(t,h),te(t,"svelte-1755rd0",!0)},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),O(t,o);for(let t=0;t<d.length;t+=1)d[t].m(o,null);O(o,s),O(o,a),ot(l,a,null),u=!0},p(e,n){59&n&&($=e[4],ze(),d=Qe(d,n,m,1,e,$,p,o,Ze,k4,s,E4),Fe());const r={};16388&n&&(r.$$scope={dirty:n,ctx:e}),l.$set(r),Y(t,h=et(f,[512&n&&e[9],(!u||1024&n&&c!==(c=e[10]))&&{style:c},{class:"group-header"}])),te(t,"svelte-1755rd0",!0)},i(e){if(!u){je(n.$$.fragment,e);for(let e=0;e<$.length;e+=1)je(d[e]);je(l.$$.fragment,e),u=!0}},o(e){qe(n.$$.fragment,e);for(let t=0;t<d.length;t+=1)qe(d[t]);qe(l.$$.fragment,e),u=!1},d(e){e&&P(t),st(n);for(let t=0;t<d.length;t+=1)d[t].d();st(l)}}}function D4(e){let t,n;return t=new kE({props:{index:0,columnSpan:e[0].size+1,$$slots:{default:[T4,({htmlAttributes:e,style:t})=>({9:e,10:t}),({htmlAttributes:e,style:t})=>(e?512:0)|(t?1024:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.columnSpan=e[0].size+1),17983&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function M4(e,t,n){let r,o,s,i,{processedColumnsMap:a}=t,{row:l}=t,{grouping:c}=t,{group:u}=t,{recordSummariesForSheet:d}=t;return e.$$set=e=>{"processedColumnsMap"in e&&n(0,a=e.processedColumnsMap),"row"in e&&n(1,l=e.row),"grouping"in e&&n(6,c=e.grouping),"group"in e&&n(2,u=e.group),"recordSummariesForSheet"in e&&n(3,d=e.recordSummariesForSheet)},e.$$.update=()=>{64&e.$$.dirty&&n(4,({columnIds:r,preprocIds:o}=c),r,(n(8,o),n(6,c))),17&e.$$.dirty&&n(7,s=r.map((e=>a.get(e)?.preprocFunctions??[]))),384&e.$$.dirty&&n(5,i=o.map(((e,t)=>e?s[t].find((t=>t.id===e))?.name:void 0)))},[a,l,u,d,r,i,c,s,o]}class O4 extends at{constructor(e){super(),it(this,e,M4,D4,d,{processedColumnsMap:0,row:1,grouping:6,group:2,recordSummariesForSheet:3})}}function N4(e){let t,n,r,o,s,i,a,l;return t=new gI({props:{when:e[0],color:"var(--cell-bg-color-row-selected)"}}),r=new gI({props:{when:e[1],color:"var(--cell-bg-color-processing)"}}),s=new gI({props:{when:e[2],color:"var(--cell-bg-color-error)"}}),a=new gI({props:{class:"cell-bg-row-hover",color:"var(--cell-bg-color-row-hover, var(--cell-bg-color-base, white))"}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),L(e,n,c),ot(r,e,c),L(e,o,c),ot(s,e,c),L(e,i,c),ot(a,e,c),l=!0},p(e,[n]){const o={};1&n&&(o.when=e[0]),t.$set(o);const i={};2&n&&(i.when=e[1]),r.$set(i);const a={};4&n&&(a.when=e[2]),s.$set(a)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e),e&&P(i),st(a,e)}}}function A4(e,t,n){let{isSelected:r=!1}=t,{isProcessing:o=!1}=t,{hasErrors:s=!1}=t;return e.$$set=e=>{"isSelected"in e&&n(0,r=e.isSelected),"isProcessing"in e&&n(1,o=e.isProcessing),"hasErrors"in e&&n(2,s=e.hasErrors)},[r,o,s]}class L4 extends at{constructor(e){super(),it(this,e,A4,N4,d,{isSelected:0,isProcessing:1,hasErrors:2})}}class P4 extends ct{async beginAddingNewFilteringEntry(e){await this.dispatch("openDropdown"),await ke(),await this.dispatch("addFilter",e),await ke(),await this.dispatch("activateLastFilterInput")}onOpenDropdown(e){return this.on("openDropdown",e)}onAddFilter(e){return this.on("addFilter",e)}onActivateLastFilterInput(e){return this.on("activateLastFilterInput",e)}}const R4=Symbol("ImperativeFilterController");function H4(){return ge(R4)}function z4(e){let t,n;return t=new x$({props:{icon:Zy,href:e[4],$$slots:{default:[V4]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.href=e[4]),1025&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F4(e){let t,n;return t=new Ag({props:{$$slots:{default:[j4]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function j4(e){let t,n=e[0].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r[0]&&n!==(n=e[0].name+"")&&G(t,n)},d(e){e&&P(t)}}}function q4(e){let t,n,r="tableName"===e[36]&&F4(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[36]?r?(r.p(e,n),32&n[1]&&je(r,1)):(r=F4(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function V4(e){let t,n;return t=new Kg({props:{text:e[10]("open_named_table"),$$slots:{default:[q4,({slotName:e})=>({36:e}),({slotName:e})=>[0,e?32:0]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.text=e[10]("open_named_table")),1&n[0]|96&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B4(e){let t,n;return t=new y$({props:{icon:ty,$$slots:{default:[Y4]},$$scope:{ctx:e}}}),t.$on("click",e[13]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1280&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function W4(e){let t,n=e[10]("filter_column")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r[0]&&n!==(n=e[10]("filter_column")+"")&&G(t,n)},d(e){e&&P(t)}}}function U4(e){let t,n=e[10]("add_filter")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r[0]&&n!==(n=e[10]("add_filter")+"")&&G(t,n)},d(e){e&&P(t)}}}function Y4(e){let t;function n(e,t){return e[8]>0?U4:W4}let r=n(e),o=r(e);return{c(){o.c(),t=q()},m(e,n){o.m(e,n),L(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&P(t)}}}function K4(e){let t,n;return t=new y$({props:{icon:wy,$$slots:{default:[G4]},$$scope:{ctx:e}}}),t.$on("click",e[14]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1280&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function G4(e){let t,n=e[10]("remove_filters",{values:{count:e[8]}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1280&r[0]&&n!==(n=e[10]("remove_filters",{values:{count:e[8]}})+"")&&G(t,n)},d(e){e&&P(t)}}}function X4(e){let t,n;return t=new y$({props:{icon:Cy,$$slots:{default:[J4]},$$scope:{ctx:e}}}),t.$on("click",e[33]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1088&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Z4(e){let t,n;return t=new y$({props:{icon:Cy,$$slots:{default:[Q4]},$$scope:{ctx:e}}}),t.$on("click",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1088&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function J4(e){let t,n=e[10]("sort_type",{values:{sortingType:e[6].ASCENDING}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1088&r[0]&&n!==(n=e[10]("sort_type",{values:{sortingType:e[6].ASCENDING}})+"")&&G(t,n)},d(e){e&&P(t)}}}function Q4(e){let t,n=e[10]("remove_sorting_type",{values:{sortingType:e[6].ASCENDING}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1088&r[0]&&n!==(n=e[10]("remove_sorting_type",{values:{sortingType:e[6].ASCENDING}})+"")&&G(t,n)},d(e){e&&P(t)}}}function e3(e){let t,n;return t=new y$({props:{icon:Ey,$$slots:{default:[n3]},$$scope:{ctx:e}}}),t.$on("click",e[34]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1088&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t3(e){let t,n;return t=new y$({props:{icon:Ey,$$slots:{default:[r3]},$$scope:{ctx:e}}}),t.$on("click",e[15]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1088&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n3(e){let t,n=e[10]("sort_type",{values:{sortingType:e[6].DESCENDING}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1088&r[0]&&n!==(n=e[10]("sort_type",{values:{sortingType:e[6].DESCENDING}})+"")&&G(t,n)},d(e){e&&P(t)}}}function r3(e){let t,n=e[10]("remove_sorting_type",{values:{sortingType:e[6].DESCENDING}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1088&r[0]&&n!==(n=e[10]("remove_sorting_type",{values:{sortingType:e[6].DESCENDING}})+"")&&G(t,n)},d(e){e&&P(t)}}}function o3(e){let t,n;return t=new y$({props:{icon:Vy,$$slots:{default:[i3]},$$scope:{ctx:e}}}),t.$on("click",e[17]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s3(e){let t,n;return t=new y$({props:{icon:Vy,$$slots:{default:[a3]},$$scope:{ctx:e}}}),t.$on("click",e[18]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]|64&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function i3(e){let t,n=e[10]("group_by_column")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r[0]&&n!==(n=e[10]("group_by_column")+"")&&G(t,n)},d(e){e&&P(t)}}}function a3(e){let t,n=e[10]("remove_grouping")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r[0]&&n!==(n=e[10]("remove_grouping")+"")&&G(t,n)},d(e){e&&P(t)}}}function l3(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m=e[0]&&e[4]&&z4(e),f=e[9]&&B4(e),h=e[8]>0&&K4(e);const g=[Z4,X4],y=[];function v(e,t){return"ASCENDING"===e[7]?0:1}o=v(e),s=y[o]=g[o](e);const b=[t3,e3],w=[];function _(e,t){return"DESCENDING"===e[7]?0:1}a=_(e),l=w[a]=b[a](e);const x=[s3,o3],S=[];function C(e,t){return e[5]?0:1}return u=C(e),d=S[u]=x[u](e),{c(){m&&m.c(),t=j(),f&&f.c(),n=j(),h&&h.c(),r=j(),s.c(),i=j(),l.c(),c=j(),d.c(),p=q()},m(e,s){m&&m.m(e,s),L(e,t,s),f&&f.m(e,s),L(e,n,s),h&&h.m(e,s),L(e,r,s),y[o].m(e,s),L(e,i,s),w[a].m(e,s),L(e,c,s),S[u].m(e,s),L(e,p,s),$=!0},p(e,$){e[0]&&e[4]?m?(m.p(e,$),17&$[0]&&je(m,1)):(m=z4(e),m.c(),je(m,1),m.m(t.parentNode,t)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()),e[9]?f?(f.p(e,$),512&$[0]&&je(f,1)):(f=B4(e),f.c(),je(f,1),f.m(n.parentNode,n)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),e[8]>0?h?(h.p(e,$),256&$[0]&&je(h,1)):(h=K4(e),h.c(),je(h,1),h.m(r.parentNode,r)):h&&(ze(),qe(h,1,1,(()=>{h=null})),Fe());let E=o;o=v(e),o===E?y[o].p(e,$):(ze(),qe(y[E],1,1,(()=>{y[E]=null})),Fe(),s=y[o],s?s.p(e,$):(s=y[o]=g[o](e),s.c()),je(s,1),s.m(i.parentNode,i));let k=a;a=_(e),a===k?w[a].p(e,$):(ze(),qe(w[k],1,1,(()=>{w[k]=null})),Fe(),l=w[a],l?l.p(e,$):(l=w[a]=b[a](e),l.c()),je(l,1),l.m(c.parentNode,c));let I=u;u=C(e),u===I?S[u].p(e,$):(ze(),qe(S[I],1,1,(()=>{S[I]=null})),Fe(),d=S[u],d?d.p(e,$):(d=S[u]=x[u](e),d.c()),je(d,1),d.m(p.parentNode,p))},i(e){$||(je(m),je(f),je(h),je(s),je(l),je(d),$=!0)},o(e){qe(m),qe(f),qe(h),qe(s),qe(l),qe(d),$=!1},d(e){m&&m.d(e),e&&P(t),f&&f.d(e),e&&P(n),h&&h.d(e),e&&P(r),y[o].d(e),e&&P(i),w[a].d(e),e&&P(c),S[u].d(e),e&&P(p)}}}function c3(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D=o,M=o,O=o;m(e,eN,(e=>n(24,b=e))),m(e,UO,(e=>n(25,w=e))),m(e,$M,(e=>n(30,E=e))),m(e,kS,(e=>n(31,k=e))),m(e,Mg,(e=>n(10,T=e))),e.$$.on_destroy.push((()=>D())),e.$$.on_destroy.push((()=>M())),e.$$.on_destroy.push((()=>O()));const N=cb();m(e,N,(e=>n(32,I=e)));let{processedColumn:A}=t;const L=H4(),P=EN();function R(e){i.update((t=>t.with(c,e)))}m(e,P,(e=>n(29,C=e)));return e.$$set=e=>{"processedColumn"in e&&n(19,A=e.processedColumn)},e.$$.update=()=>{1073741824&e.$$.dirty[0]|3&e.$$.dirty[1]&&n(23,r=!!I?.hasPermission({database:k,schema:E},"canViewLinkedEntities")),8912896&e.$$.dirty[0]&&n(9,s=!A.linkFk||r),536870912&e.$$.dirty[0]&&(n(2,({meta:{sorting:i,grouping:a,filtering:l}}=C),i,(n(1,a),D(),D=p(a,(e=>n(26,_=e))),a),(n(3,l),O(),O=p(l,(e=>n(28,S=e))),l)),M(),M=p(i,(e=>n(27,x=e)))),524288&e.$$.dirty[0]&&n(20,c=A.id),269484032&e.$$.dirty[0]&&n(22,u=S.entries.filter((e=>e.columnId===c))),4194304&e.$$.dirty[0]&&n(8,d=u.length),134742016&e.$$.dirty[0]&&n(7,$=x.get(A.id)),524288&e.$$.dirty[0]&&n(6,f=ZC(A.abstractType.cellInfo.type,!!A.linkFk)),68157440&e.$$.dirty[0]&&n(5,h=_.hasColumn(c)),524288&e.$$.dirty[0]&&n(21,({linkFk:g}=A),g),35651584&e.$$.dirty[0]&&n(0,y=g?w.data.get(g.referent_table):void 0),16777217&e.$$.dirty[0]&&n(4,v=y?b({tableId:y.id}):void 0)},[y,a,i,l,v,h,f,$,d,s,T,N,P,function(){L?.beginAddingNewFilteringEntry(c)},function(){l.update((e=>e.withoutColumns([c])))},function(){i.update((e=>e.without(c)))},R,function(){a.update((e=>e.withEntry({columnId:c,preprocFnId:void 0})))},function(){a.update((e=>e.withoutColumns([c])))},A,c,g,u,r,b,w,_,x,S,C,E,k,I,()=>R("ASCENDING"),()=>R("DESCENDING")]}class u3 extends at{constructor(e){super(),it(this,e,c3,l3,d,{processedColumn:19},null,[-1,-1])}}function d3(e){let t,n,r,o,s,i=e[0].join(" ")+"";return{c(){t=H("div"),n=F(i),U(t,"class","errors svelte-ahiogm")},m(i,a){L(i,t,a),O(t,n),o||(s=[C(ln.call(null,t)),C(r=an.call(null,t,{reference:e[3],options:{placement:"top-start"}}))],o=!0)},p(e,t){1&t&&i!==(i=e[0].join(" ")+"")&&G(n,i),r&&u(r.update)&&8&t&&r.update.call(null,{reference:e[3],options:{placement:"top-start"}})},d(e){e&&P(t),o=!1,c(s)}}}function p3(e){let t,n,r,s,i=e[3]&&e[2]&&d3(e);return{c(){t=z("svg"),n=z("path"),r=j(),i&&i.c(),s=q(),U(n,"d","M 0 0 L 10 0 L 10 10 Z"),U(n,"class","svelte-ahiogm"),U(t,"class","error-indicator svelte-ahiogm"),U(t,"viewBox","0 0 10 10")},m(o,a){L(o,t,a),O(t,n),e[6](t),L(o,r,a),i&&i.m(o,a),L(o,s,a)},p(e,[t]){e[3]&&e[2]?i?i.p(e,t):(i=d3(e),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null)},i:o,o:o,d(n){n&&P(t),e[6](null),n&&P(r),i&&i.d(n),n&&P(s)}}}function $3(e,t,n){let r,o,s,{errors:i}=t,{forceShowErrors:a=!1}=t,l=!1;function c(){n(5,l=!0)}function u(){n(5,l=!1)}return pe((()=>{const e=s?.parentElement;return e?(e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",u),()=>{e.removeEventListener("mouseenter",c),e.removeEventListener("mouseleave",u)}):()=>{}})),e.$$set=e=>{"errors"in e&&n(0,i=e.errors),"forceShowErrors"in e&&n(4,a=e.forceShowErrors)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=s?.parentElement),48&e.$$.dirty&&n(2,o=l||a)},[i,s,o,r,a,l,function(e){we[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class m3 extends at{constructor(e){super(),it(this,e,$3,p3,d,{errors:0,forceShowErrors:4})}}function f3(e){let t,n;return t=new x$({props:{href:e[4]({recordId:e[0]})||"",icon:Cr,$$slots:{default:[h3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};17&n&&(r.href=e[4]({recordId:e[0]})||""),16392&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function h3(e){let t,n=e[3]("go_to_record_page")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("go_to_record_page")+"")&&G(t,n)},d(e){e&&P(t)}}}function g3(e){let t,n;return t=new y$({props:{icon:sy,$$slots:{default:[y3]},$$scope:{ctx:e}}}),t.$on("click",e[6]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16392&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function y3(e){let t,n=e[3]("delete_records",{values:{count:1}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("delete_records",{values:{count:1}})+"")&&G(t,n)},d(e){e&&P(t)}}}function v3(e){let t,n,r,o=e[1]&&f3(e),s=e[2]&&g3(e);return{c(){o&&o.c(),t=j(),s&&s.c(),n=q()},m(e,i){o&&o.m(e,i),L(e,t,i),s&&s.m(e,i),L(e,n,i),r=!0},p(e,[r]){e[1]?o?(o.p(e,r),2&r&&je(o,1)):(o=f3(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[2]?s?(s.p(e,r),4&r&&je(s,1)):(s=g3(e),s.c(),je(s,1),s.m(n.parentNode,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){o&&o.d(e),e&&P(t),s&&s.d(e),e&&P(n)}}}function b3(e,t,n){let r,o,s,i,a,l,c,u,d;m(e,Mg,(e=>n(3,a=e))),m(e,$M,(e=>n(12,c=e))),m(e,kS,(e=>n(13,u=e))),m(e,QO,(e=>n(4,d=e)));let{row:p}=t,{recordPk:$}=t,{recordsData:f}=t;const h=cb();return m(e,h,(e=>n(11,l=e))),e.$$set=e=>{"row"in e&&n(7,p=e.row),"recordPk"in e&&n(0,$=e.recordPk),"recordsData"in e&&n(8,f=e.recordsData)},e.$$.update=()=>{8192&e.$$.dirty&&n(10,r=u),4096&e.$$.dirty&&n(9,o=c),3584&e.$$.dirty&&n(2,s=!!l?.hasPermission({database:r,schema:o},"canEditTableRecords")),3584&e.$$.dirty&&n(1,i=!!l?.hasPermission({database:r,schema:o},"canViewLinkedEntities"))},[$,i,s,a,d,h,async function(){if(IC(p)){const e=[Number(p.rowIndex)];Tv({identifierType:a("record"),body:[a("deleted_records_cannot_be_recovered",{values:{count:1}}),a("are_you_sure_to_proceed")],onProceed:()=>f.deleteSelected(e),onError:e=>Cv.fromError(e),onSuccess:()=>Cv.success({title:a("record_deleted_successfully")})})}},p,f,o,r,l,c,u]}class w3 extends at{constructor(e){super(),it(this,e,b3,v3,d,{row:7,recordPk:0,recordsData:8})}}function _3(e){let t,n;return t=new L4({props:{hasErrors:e[4]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.hasErrors=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x3(e){let t,n,r,o,s,i;t=new t$({props:{$$slots:{default:[S3]},$$scope:{ctx:e}}});let a=e[12]&&C3(e),l=e[16]&&e[11]&&k3(e);return s=new Jp({}),{c(){rt(t.$$.fragment),n=j(),a&&a.c(),r=j(),l&&l.c(),o=j(),rt(s.$$.fragment)},m(e,c){ot(t,e,c),L(e,n,c),a&&a.m(e,c),L(e,r,c),l&&l.m(e,c),L(e,o,c),ot(s,e,c),i=!0},p(e,n){const s={};536870912&n[0]|268435456&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[12]?a?(a.p(e,n),4096&n[0]&&je(a,1)):(a=C3(e),a.c(),je(a,1),a.m(r.parentNode,r)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),e[16]&&e[11]?l?(l.p(e,n),67584&n[0]&&je(l,1)):(l=k3(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){i||(je(t.$$.fragment,e),je(a),je(l),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(a),qe(l),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),a&&a.d(e),e&&P(r),l&&l.d(e),e&&P(o),st(s,e)}}}function S3(e){let t,n=e[29]("cell")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){536870912&r[0]&&n!==(n=e[29]("cell")+"")&&G(t,n)},d(e){e&&P(t)}}}function C3(e){let t,n;return t=new y$({props:{icon:Sy,disabled:!e[20],$$slots:{default:[E3]},$$scope:{ctx:e}}}),t.$on("click",e[54]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1048576&n[0]&&(r.disabled=!e[20]),536870912&n[0]|268435456&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function E3(e){let t,n,r,o,s=e[29]("set_to")+"";return r=new iI({}),{c(){t=F(s),n=j(),rt(r.$$.fragment)},m(e,s){L(e,t,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||536870912&n[0])&&s!==(s=e[29]("set_to")+"")&&G(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function k3(e){let t,n;return t=new x$({props:{icon:Uy,href:e[11],$$slots:{default:[M3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n[0]&&(r.href=e[11]),536903680&n[0]|268435456&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function I3(e){let t,n;return t=new Ag({props:{$$slots:{default:[T3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32768&n[0]|268435456&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function T3(e){let t;return{c(){t=F(e[15])},m(e,n){L(e,t,n)},p(e,n){32768&n[0]&&G(t,e[15])},d(e){e&&P(t)}}}function D3(e){let t,n,r="recordName"===e[58]&&I3(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"recordName"===e[58]?r?(r.p(e,n),134217728&n[1]&&je(r,1)):(r=I3(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function M3(e){let t,n;return t=new Kg({props:{text:e[29]("open_named_record"),$$slots:{default:[D3,({slotName:e})=>({58:e}),({slotName:e})=>[0,e?134217728:0]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};536870912&n[0]&&(r.text=e[29]("open_named_record")),32768&n[0]|402653184&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function O3(e){let t,n=e[29]("column")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){536870912&r[0]&&n!==(n=e[29]("column")+"")&&G(t,n)},d(e){e&&P(t)}}}function N3(e){let t,n,r,o,s,i;return t=new Jp({}),r=new t$({props:{$$slots:{default:[A3]},$$scope:{ctx:e}}}),s=new w3({props:{recordPk:e[8],recordsData:e[1],row:e[3]}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,t){const n={};536870912&t[0]|268435456&t[1]&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};256&t[0]&&(o.recordPk=e[8]),2&t[0]&&(o.recordsData=e[1]),8&t[0]&&(o.row=e[3]),s.$set(o)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function A3(e){let t,n=e[29]("row")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){536870912&r[0]&&n!==(n=e[29]("row")+"")&&G(t,n)},d(e){e&&P(t)}}}function L3(e){let t,n,r,o,s,i,a,l=(e[12]||e[16])&&x3(e);n=new t$({props:{$$slots:{default:[O3]},$$scope:{ctx:e}}}),o=new u3({props:{processedColumn:e[6]}});let c=(e[12]||e[16])&&N3(e);return{c(){l&&l.c(),t=j(),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),c&&c.c(),i=q()},m(e,u){l&&l.m(e,u),L(e,t,u),ot(n,e,u),L(e,r,u),ot(o,e,u),L(e,s,u),c&&c.m(e,u),L(e,i,u),a=!0},p(e,r){e[12]||e[16]?l?(l.p(e,r),69632&r[0]&&je(l,1)):(l=x3(e),l.c(),je(l,1),l.m(t.parentNode,t)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe());const s={};536870912&r[0]|268435456&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};64&r[0]&&(a.processedColumn=e[6]),o.$set(a),e[12]||e[16]?c?(c.p(e,r),69632&r[0]&&je(c,1)):(c=N3(e),c.c(),je(c,1),c.m(i.parentNode,i)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){a||(je(l),je(n.$$.fragment,e),je(o.$$.fragment,e),je(c),a=!0)},o(e){qe(l),qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(c),a=!1},d(e){l&&l.d(e),e&&P(t),st(n,e),e&&P(r),st(o,e),e&&P(s),c&&c.d(e),e&&P(i)}}}function P3(e){let t,n;return t=new m3({props:{errors:e[14],forceShowErrors:e[22]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16384&n[0]&&(r.errors=e[14]),4194304&n[0]&&(r.forceShowErrors=e[22]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function R3(e){let t,n,r,o,s,a,l,c,u,d,p,$;n=new gI({props:{when:e[19],color:"var(--cell-bg-color-error)"}}),o=new gI({props:{when:!e[17],color:"var(--cell-bg-color-disabled)"}});let m=!(e[17]&&e[22])&&_3(e);l=new RA({props:{columnFabric:e[6],isActive:e[22],isSelectedInRange:e[21],value:e[0],isProcessing:e[18],canViewLinkedEntities:e[10],recordSummary:e[15],setRecordSummary:e[50],showAsSkeleton:e[28]===Rv.Loading,disabled:!e[17],horizontalAlignment:e[9].primary_key?"left":void 0}}),l.$on("movementKeyDown",e[31]),l.$on("activate",e[51]),l.$on("update",e[33]),l.$on("onSelectionStart",e[52]),l.$on("onMouseEnterCellWhileSelection",e[53]),u=new oi({props:{$$slots:{default:[L3]},$$scope:{ctx:e}}});let f=e[14].length&&P3(e),h=[{class:"cell editable-cell"},e[56],{style:p=e[57]}],g={};for(let y=0;y<h.length;y+=1)g=i(g,h[y]);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),m&&m.c(),a=j(),rt(l.$$.fragment),c=j(),rt(u.$$.fragment),d=j(),f&&f.c(),Y(t,g),te(t,"error",e[19]),te(t,"modified","success"===e[13]?.state),te(t,"is-active",e[22]),te(t,"is-processing",e[18]),te(t,"is-pk",e[9].primary_key),te(t,"is-selected",e[21]),te(t,"svelte-6927nu",!0)},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),m&&m.m(t,null),O(t,a),ot(l,t,null),O(t,c),ot(u,t,null),O(t,d),f&&f.m(t,null),$=!0},p(e,r){const s={};524288&r[0]&&(s.when=e[19]),n.$set(s);const i={};131072&r[0]&&(i.when=!e[17]),o.$set(i),e[17]&&e[22]?m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()):m?(m.p(e,r),4325376&r[0]&&je(m,1)):(m=_3(e),m.c(),je(m,1),m.m(t,a));const c={};64&r[0]&&(c.columnFabric=e[6]),4194304&r[0]&&(c.isActive=e[22]),2097152&r[0]&&(c.isSelectedInRange=e[21]),1&r[0]&&(c.value=e[0]),262144&r[0]&&(c.isProcessing=e[18]),1024&r[0]&&(c.canViewLinkedEntities=e[10]),32768&r[0]&&(c.recordSummary=e[15]),100663296&r[0]&&(c.setRecordSummary=e[50]),268435456&r[0]&&(c.showAsSkeleton=e[28]===Rv.Loading),131072&r[0]&&(c.disabled=!e[17]),512&r[0]&&(c.horizontalAlignment=e[9].primary_key?"left":void 0),l.$set(c);const d={};538024266&r[0]|268435456&r[1]&&(d.$$scope={dirty:r,ctx:e}),u.$set(d),e[14].length?f?(f.p(e,r),16384&r[0]&&je(f,1)):(f=P3(e),f.c(),je(f,1),f.m(t,null)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),Y(t,g=et(h,[{class:"cell editable-cell"},33554432&r[1]&&e[56],(!$||67108864&r[1]&&p!==(p=e[57]))&&{style:p}])),te(t,"error",e[19]),te(t,"modified","success"===e[13]?.state),te(t,"is-active",e[22]),te(t,"is-processing",e[18]),te(t,"is-pk",e[9].primary_key),te(t,"is-selected",e[21]),te(t,"svelte-6927nu",!0)},i(e){$||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(m),je(l.$$.fragment,e),je(u.$$.fragment,e),je(f),$=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(m),qe(l.$$.fragment,e),qe(u.$$.fragment,e),qe(f),$=!1},d(e){e&&P(t),st(n),st(o),m&&m.d(),st(l),st(u),f&&f.d()}}}function H3(e){let t,n;return t=new _E({props:{columnIdentifierKey:e[9].id,$$slots:{default:[R3,({htmlAttributes:e,style:t})=>({56:e,57:t}),({htmlAttributes:e,style:t})=>[0,(e?33554432:0)|(t?67108864:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n[0]&&(r.columnIdentifierKey=e[9].id),914358111&n[0]|369098752&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function z3(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z,F,j,q=o,V=o,B=()=>(V(),V=p(re,(e=>n(43,N=e))),re),W=o,U=()=>(W(),W=p(te,(e=>n(44,A=e))),te),Y=o,K=o,G=o;m(e,QO,(e=>n(42,O=e))),m(e,$M,(e=>n(48,H=e))),m(e,kS,(e=>n(49,z=e))),m(e,Mg,(e=>n(29,j=e))),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G()));let{recordsData:X}=t,{selection:Z}=t,{row:J}=t,{rowHasErrors:Q=!1}=t,{key:ee}=t,{modificationStatusMap:te}=t;U();let{processedColumn:ne}=t,{clientSideErrorMap:re}=t;B();let{value:oe}=t,{rowKey:se}=t;const ie=cb();async function ae(e){if(e===oe)return;n(0,oe=e);const t=TC(J)?await X.createOrUpdateRecord(J,u):await X.updateCell(J,u);n(0,oe=t.record?.[u.id]??oe)}m(e,ie,(e=>n(47,R=e)));return e.$$set=e=>{"recordsData"in e&&n(1,X=e.recordsData),"selection"in e&&n(2,Z=e.selection),"row"in e&&n(3,J=e.row),"rowHasErrors"in e&&n(4,Q=e.rowHasErrors),"key"in e&&n(34,ee=e.key),"modificationStatusMap"in e&&U(n(5,te=e.modificationStatusMap)),"processedColumn"in e&&n(6,ne=e.processedColumn),"clientSideErrorMap"in e&&B(n(7,re=e.clientSideErrorMap)),"value"in e&&n(0,oe=e.value),"rowKey"in e&&n(8,se=e.rowKey)},e.$$.update=()=>{262144&e.$$.dirty[1]&&n(40,r=z),131072&e.$$.dirty[1]&&n(39,s=H),66304&e.$$.dirty[1]&&n(12,i=!!R?.hasPermission({database:r,schema:s},"canEditTableRecords")),66304&e.$$.dirty[1]&&n(10,a=!!R?.hasPermission({database:r,schema:s},"canViewLinkedEntities")),2&e.$$.dirty[0]&&(n(27,l=X.state),G(),G=p(l,(e=>n(28,F=e)))),2&e.$$.dirty[0]&&(n(26,({recordSummaries:c}=X),c),q(),q=p(c,(e=>n(41,M=e)))),64&e.$$.dirty[0]&&n(9,({column:u,linkFk:d}=ne),u,(n(35,d),n(6,ne))),512&e.$$.dirty[0]&&n(25,$=u.id),4&e.$$.dirty[0]&&(n(24,({activeCell:f,selectedCells:h}=Z),f,(n(23,h),Y(),Y=p(h,(e=>n(45,L=e))),h)),K(),K=p(f,(e=>n(46,P=e)))),72&e.$$.dirty[0]|32768&e.$$.dirty[1]&&n(22,g=P&&Hk(P,J,ne)),72&e.$$.dirty[0]|16384&e.$$.dirty[1]&&n(21,y=Bk(L,J,ne)&&L.size>1),8200&e.$$.dirty[1]&&n(13,v=A.get(ee)),8192&e.$$.dirty[0]&&n(38,b="failure"===v?.state?v?.errors:[]),4104&e.$$.dirty[1]&&n(37,w=N.get(ee)??[]),192&e.$$.dirty[1]&&n(14,_=[...b,...w]),513&e.$$.dirty[0]&&n(20,x=u.nullable&&null!==oe),16384&e.$$.dirty[0]&&n(19,S=!!_.length),8192&e.$$.dirty[0]&&n(18,C="processing"===v?.state),4608&e.$$.dirty[0]&&n(17,E=!u.primary_key&&i),2048&e.$$.dirty[1]&&n(36,k=O),1&e.$$.dirty[0]|48&e.$$.dirty[1]&&n(11,I=d?k({tableId:d.referent_table,recordId:oe}):void 0),3072&e.$$.dirty[0]&&n(16,T=I&&a),513&e.$$.dirty[0]|1024&e.$$.dirty[1]&&n(15,D=M.get(String(u.id))?.get(String(oe)))},[oe,X,Z,J,Q,te,ne,re,se,u,a,I,i,v,_,D,T,E,C,S,x,y,g,h,f,$,c,l,F,j,ie,async function(e){const{originalEvent:t}=e.detail,n=Z.handleKeyEventsOnActiveCell(t);n&&(t.stopPropagation(),t.preventDefault(),await async function(e){"moved"===e&&(await ke(),Fk())}(n))},ae,async function(e){await ae(e.detail.value)},ee,d,k,w,b,s,r,M,O,N,A,L,P,R,H,z,(e,t)=>c.addBespokeRecordSummary({columnId:String($),recordId:e,recordSummary:t}),()=>{Z.activateCell(J,ne)},()=>{Z.onStartSelection(J,ne)},()=>{Z.onMouseEnterCellWhileSelection(J,ne)},()=>ae(null)]}class F3 extends at{constructor(e){super(),it(this,e,z3,H3,d,{recordsData:1,selection:2,row:3,rowHasErrors:4,key:34,modificationStatusMap:5,processedColumn:6,clientSideErrorMap:7,value:0,rowKey:8},null,[-1,-1])}}function j3(e){let t,n,r,s=e[0].rowIndex+(NC(e[0])?(e[10]??0)-e[11].length-e[12].length:e[13].offset)+1+"",i=NC(e[0]),a=i&&V3();return{c(){t=H("span"),n=F(s),r=j(),a&&a.c(),U(t,"class","number")},m(e,o){L(e,t,o),O(t,n),O(t,r),a&&a.m(t,null)},p(e,r){15361&r&&s!==(s=e[0].rowIndex+(NC(e[0])?(e[10]??0)-e[11].length-e[12].length:e[13].offset)+1+"")&&G(n,s),1&r&&(i=NC(e[0])),i?a||(a=V3(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i:o,o:o,d(e){e&&P(t),a&&a.d()}}}function q3(e){let t,n;const r=[ny];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(ny)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function V3(e){let t;return{c(){t=F("*")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function B3(e){let t,n;const r=[{class:"mod-indicator"},{size:"0.9em"},Tr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],r[1],tt(Tr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function W3(e){let t,n;return t=new m3({props:{errors:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.errors=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function U3(e){let t,n,r,o,s,i,a,l,c,u,d,p,$;t=new gI({props:{color:"var(--cell-bg-color-header)"}}),r=new L4({props:{isSelected:e[1],hasErrors:e[2]}});const m=[q3,j3],f=[];function h(e,t){return 1&t&&(i=null),1&t&&(a=null),null==i&&(i=!!OC(e[0])),i?0:(null==a&&(a=!!IC(e[0])),a?1:-1)}~(l=h(e,-1))&&(c=f[l]=m[l](e));let g="processing"===e[4]&&B3(),y=e[3].length&&W3(e);return{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),s=H("div"),c&&c.c(),u=j(),g&&g.c(),d=j(),y&&y.c(),p=q(),U(s,"class","control svelte-7te4v7")},m(e,i){ot(t,e,i),L(e,n,i),ot(r,e,i),L(e,o,i),L(e,s,i),~l&&f[l].m(s,null),L(e,u,i),g&&g.m(e,i),L(e,d,i),y&&y.m(e,i),L(e,p,i),$=!0},p(e,[t]){const n={};2&t&&(n.isSelected=e[1]),4&t&&(n.hasErrors=e[2]),r.$set(n);let o=l;l=h(e,t),l===o?~l&&f[l].p(e,t):(c&&(ze(),qe(f[o],1,1,(()=>{f[o]=null})),Fe()),~l?(c=f[l],c?c.p(e,t):(c=f[l]=m[l](e),c.c()),je(c,1),c.m(s,null)):c=null),"processing"===e[4]?g?(g.p(e,t),16&t&&je(g,1)):(g=B3(),g.c(),je(g,1),g.m(d.parentNode,d)):g&&(ze(),qe(g,1,1,(()=>{g=null})),Fe()),e[3].length?y?(y.p(e,t),8&t&&je(y,1)):(y=W3(e),y.c(),je(y,1),y.m(p.parentNode,p)):y&&(ze(),qe(y,1,1,(()=>{y=null})),Fe())},i(e){$||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(c),je(g),je(y),$=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(c),qe(g),qe(y),$=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),e&&P(s),~l&&f[l].d(),e&&P(u),g&&g.d(e),e&&P(d),y&&y.d(e),e&&P(p)}}}function Y3(e,t,n){let r,s,i,a,l,c,u,d,$,m,f,h,g,y,v=o,b=o,w=o,_=o,x=o;e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x()));let{primaryKeyColumnId:S}=t,{row:C}=t,{meta:E}=t,{recordsData:k}=t,{isSelected:I=!1}=t,{hasErrors:T=!1}=t;return e.$$set=e=>{"primaryKeyColumnId"in e&&n(14,S=e.primaryKeyColumnId),"row"in e&&n(0,C=e.row),"meta"in e&&n(15,E=e.meta),"recordsData"in e&&n(16,k=e.recordsData),"isSelected"in e&&n(1,I=e.isSelected),"hasErrors"in e&&n(2,T=e.hasErrors)},e.$$.update=()=>{32768&e.$$.dirty&&(n(9,({pagination:r,rowStatus:s}=E),r,(n(8,s),v(),v=p(s,(e=>n(19,m=e))),s)),x(),x=p(r,(e=>n(13,y=e)))),65536&e.$$.dirty&&(n(7,({savedRecords:i,newRecords:a,totalCount:l}=k),i,(n(6,a),_(),_=p(a,(e=>n(12,g=e))),a),(n(5,l),b(),b=p(l,(e=>n(10,f=e))),l)),w(),w=p(i,(e=>n(11,h=e)))),16385&e.$$.dirty&&n(18,c=LC(C,S)),786432&e.$$.dirty&&n(17,u=m.get(c)),131072&e.$$.dirty&&n(4,d=u?.wholeRowState),131072&e.$$.dirty&&n(3,$=u?.errorsFromWholeRowAndCells??[])},[C,I,T,$,d,l,a,i,s,r,f,h,g,y,S,E,k,u,c,m]}class K3 extends at{constructor(e){super(),it(this,e,Y3,U3,d,{primaryKeyColumnId:14,row:0,meta:15,recordsData:16,isSelected:1,hasErrors:2})}}function G3(e,t,n){const r=e.slice();return r[38]=t[n][0],r[39]=t[n][1],r[40]=t,r[41]=n,r}function X3(e){let t,n,r,o;return t=new K3({props:{primaryKeyColumnId:e[6],row:e[0],meta:e[7],recordsData:e[3],isSelected:e[10],hasErrors:e[8]}}),r=new oi({props:{$$slots:{default:[Z3]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};64&n[0]&&(o.primaryKeyColumnId=e[6]),1&n[0]&&(o.row=e[0]),128&n[0]&&(o.meta=e[7]),8&n[0]&&(o.recordsData=e[3]),1024&n[0]&&(o.isSelected=e[10]),256&n[0]&&(o.hasErrors=e[8]),t.$set(o);const s={};41&n[0]|8192&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Z3(e){let t,n;return t=new w3({props:{recordPk:e[5],recordsData:e[3],row:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.recordPk=e[5]),8&n[0]&&(r.recordsData=e[3]),1&n[0]&&(r.row=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function J3(e){let t,n,r,o,s,a=IC(e[0]),l=a&&X3(e),u=[e[42],{style:n=e[43]}],d={};for(let c=0;c<u.length;c+=1)d=i(d,u[c]);return{c(){t=H("div"),l&&l.c(),Y(t,d),te(t,"svelte-1mjtdsh",!0)},m(n,i){L(n,t,i),l&&l.m(t,null),r=!0,o||(s=[V(t,"mousedown",e[26]),V(t,"mouseenter",e[27])],o=!0)},p(e,o){1&o[0]&&(a=IC(e[0])),a?l?(l.p(e,o),1&o[0]&&je(l,1)):(l=X3(e),l.c(),je(l,1),l.m(t,null)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()),Y(t,d=et(u,[2048&o[1]&&e[42],(!r||4096&o[1]&&n!==(n=e[43]))&&{style:n}])),te(t,"svelte-1mjtdsh",!0)},i(e){r||(je(l),r=!0)},o(e){qe(l),r=!1},d(e){e&&P(t),l&&l.d(),o=!1,c(s)}}}function Q3(e){let t,n,r=[],o=new Map,s=[...e[21]];const i=e=>e[38];for(let a=0;a<s.length;a+=1){let t=G3(e,s,a),n=i(t);o.set(n,r[a]=n6(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){2294317&n[0]&&(s=[...e[21]],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,n6,t,G3),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function e6(e){let t,n;return t=new O4({props:{row:e[0],grouping:e[22],group:e[0].group,processedColumnsMap:e[21],recordSummariesForSheet:e[23]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.row=e[0]),4194304&n[0]&&(r.grouping=e[22]),1&n[0]&&(r.group=e[0].group),2097152&n[0]&&(r.processedColumnsMap=e[21]),8388608&n[0]&&(r.recordSummariesForSheet=e[23]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t6(e){let t,n;return t=new v4({props:{columnCount:e[21].size}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097152&n[0]&&(r.columnCount=e[21].size),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n6(e,t){let n,r,o,s;function i(e){t[35](e,t[38])}let a={selection:t[2],row:t[0],rowHasErrors:t[9],key:SC(t[5],t[38]),modificationStatusMap:t[17],clientSideErrorMap:t[16],processedColumn:t[39],recordsData:t[3],rowKey:t[5]};return void 0!==t[0].record[t[38]]&&(a.value=t[0].record[t[38]]),r=new F3({props:a}),we.push((()=>nt(r,"value",i))),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),s=!0},p(e,n){t=e;const s={};4&n[0]&&(s.selection=t[2]),1&n[0]&&(s.row=t[0]),512&n[0]&&(s.rowHasErrors=t[9]),2097184&n[0]&&(s.key=SC(t[5],t[38])),131072&n[0]&&(s.modificationStatusMap=t[17]),65536&n[0]&&(s.clientSideErrorMap=t[16]),2097152&n[0]&&(s.processedColumn=t[39]),8&n[0]&&(s.recordsData=t[3]),32&n[0]&&(s.rowKey=t[5]),!o&&2097153&n[0]&&(o=!0,s.value=t[0].record[t[38]],Te((()=>o=!1))),r.$set(s)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r,e)}}}function r6(e){let t,n,r,o,s,a,l,c,u,d,p,$;n=new _E({props:{columnIdentifierKey:-1,isStatic:!0,isControlCell:!0,$$slots:{default:[J3,({htmlAttributes:e,style:t})=>({42:e,43:t}),({htmlAttributes:e,style:t})=>[0,(e?2048:0)|(t?4096:0)]]},$$scope:{ctx:e}}});const m=[t6,e6,Q3],f=[];function h(e,t){return 1&t[0]&&(o=null),4194305&t[0]&&(s=null),1&t[0]&&(a=null),null==o&&(o=!!DC(e[0])),o?0:(null==s&&(s=!!(MC(e[0])&&e[22]&&e[0].group)),s?1:(null==a&&(a=!!IC(e[0])),a?2:-1))}~(l=h(e,[-1,-1]))&&(c=f[l]=m[l](e));let g=[{class:"row"},e[36],{style:u="--cell-height:31px;"+e[37]}],y={};for(let v=0;v<g.length;v+=1)y=i(y,g[v]);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),c&&c.c(),Y(t,y),te(t,"selected",e[10]),te(t,"processing","processing"===e[4]),te(t,"failed",e[9]),te(t,"created","success"===e[12]),te(t,"is-new",NC(e[0])),te(t,"is-group-header",MC(e[0])),te(t,"is-add-placeholder",OC(e[0])),te(t,"svelte-1mjtdsh",!0)},m(o,s){L(o,t,s),ot(n,t,null),O(t,r),~l&&f[l].m(t,null),d=!0,p||($=V(t,"mousedown",e[25]),p=!0)},p(e,r){const o={};1513&r[0]|14336&r[1]&&(o.$$scope={dirty:r,ctx:e}),n.$set(o);let s=l;l=h(e,r),l===s?~l&&f[l].p(e,r):(c&&(ze(),qe(f[s],1,1,(()=>{f[s]=null})),Fe()),~l?(c=f[l],c?c.p(e,r):(c=f[l]=m[l](e),c.c()),je(c,1),c.m(t,null)):c=null),Y(t,y=et(g,[{class:"row"},32&r[1]&&e[36],(!d||64&r[1]&&u!==(u="--cell-height:31px;"+e[37]))&&{style:u}])),te(t,"selected",e[10]),te(t,"processing","processing"===e[4]),te(t,"failed",e[9]),te(t,"created","success"===e[12]),te(t,"is-new",NC(e[0])),te(t,"is-group-header",MC(e[0])),te(t,"is-add-placeholder",OC(e[0])),te(t,"svelte-1mjtdsh",!0)},i(e){d||(je(n.$$.fragment,e),je(c),d=!0)},o(e){qe(n.$$.fragment,e),qe(c),d=!1},d(e){e&&P(t),st(n),~l&&f[l].d(),p=!1,$()}}}function o6(e){let t,n;return t=new Rk({props:{style:e[1],$$slots:{default:[r6,({htmlAttributes:e,styleString:t})=>({36:e,37:t}),({htmlAttributes:e,styleString:t})=>[0,(e?32:0)|(t?64:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.style=e[1]),14882813&n[0]|8288&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function s6(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L=o,P=o,R=o,H=o,z=o,F=o,j=o;e.$$.on_destroy.push((()=>L())),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>j()));let{row:q}=t,{style:V}=t;const B=EN();m(e,B,(e=>n(34,M=e)));return e.$$set=e=>{"row"in e&&n(0,q=e.row),"style"in e&&n(1,V=e.style)},e.$$.update=()=>{8&e.$$.dirty[1]&&n(3,({recordsData:r,columnsDataStore:s,meta:i,processedColumns:a,selection:l}=M),r,(n(29,s),n(34,M)),(n(7,i),n(34,M)),(n(20,a),z(),z=p(a,(e=>n(21,O=e))),a),(n(2,l),n(34,M))),128&e.$$.dirty[0]&&(n(19,({rowStatus:c,rowCreationStatus:u,cellModificationStatus:d,cellClientSideErrors:$}=i),c,(n(18,u),R(),R=p(u,(e=>n(32,T=e))),u),(n(17,d),n(7,i),n(34,M)),(n(16,$),n(7,i),n(34,M))),P(),P=p(c,(e=>n(31,I=e)))),8&e.$$.dirty[0]&&(n(15,({grouping:f,recordSummaries:h}=r),f,(n(14,h),j(),j=p(h,(e=>n(23,A=e))),h)),F(),F=p(f,(e=>n(22,N=e)))),536870912&e.$$.dirty[0]&&(n(13,({pkColumn:g}=s),g),H(),H=p(g,(e=>n(33,D=e)))),4&e.$$.dirty[1]&&n(6,y=D?.id),65&e.$$.dirty[0]&&n(5,v=LC(q,y)),32&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(12,b=T.get(v)?.state),32&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(28,w=I.get(v)),268435456&e.$$.dirty[0]&&n(4,_=w?.wholeRowState),4&e.$$.dirty[0]&&(n(11,({selectedCells:x}=l),x),L(),L=p(x,(e=>n(30,k=e)))),1073741825&e.$$.dirty[0]&&n(10,S=IC(q)&&((e,t)=>e.valuesArray().some((e=>e.startsWith(`${t.rowIndex}-`))))(k,q)),16&e.$$.dirty[0]&&n(9,C="failure"===_),268435456&e.$$.dirty[0]&&n(8,E=!!w?.errorsFromWholeRowAndCells?.length)},[q,V,l,r,_,v,y,i,E,C,S,x,b,g,h,f,$,d,u,c,a,O,N,A,B,function(){OC(q)&&(r.addEmptyRecord(),l.selectAndActivateFirstDataEntryCellInLastRow())},()=>{IC(q)&&!OC(q)&&l.onRowSelectionStart(q)},()=>{IC(q)&&!OC(q)&&l.onMouseEnterRowHeaderWhileSelection(q)},w,s,k,I,T,D,M,function(t,r){e.$$.not_equal(q.record[r],t)&&(q.record[r]=t,n(0,q))}]}class i6 extends at{constructor(e){super(),it(this,e,s6,o6,d,{row:0,style:1},null,[-1,-1])}}function a6(e,t,n){const r=e.slice();return r[27]=t[n],r}function l6(e,t,n){const r=e.slice();return r[24]=t[n],r[25]=t,r[26]=n,r}function c6(e){let t,n,r=[],o=new Map,s=e[5];const i=e=>e[27];for(let a=0;a<s.length;a+=1){let t=a6(e,s,a),n=i(t);o.set(n,r[a]=d6(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){288&n&&(s=e[5],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,d6,t,a6),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function u6(e){let t,n;return t=new Ok({props:{itemCount:e[5].length,paddingBottom:30,itemSize:e[10],itemKey:e[20],$$slots:{default:[m6,({items:e,api:t})=>({22:e,23:t}),({items:e,api:t})=>(e?4194304:0)|(t?8388608:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.itemCount=e[5].length),32&n&&(r.itemKey=e[20]),1086324784&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function d6(e,t){let n,r,o;return r=new i6({props:{style:{position:"relative",height:t[8](t[27])},row:t[27]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};32&n&&(o.style={position:"relative",height:t[8](t[27])}),32&n&&(o.row=t[27]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function p6(e){let t,n,r;function o(t){e[19](t,e[24])}let s={style:e[24].style};return void 0!==e[5][e[24].index]&&(s.row=e[5][e[24].index]),t=new i6({props:s}),we.push((()=>nt(t,"row",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(r,o){e=r;const s={};4194304&o&&(s.style=e[24].style),!n&&4194336&o&&(n=!0,s.row=e[5][e[24].index],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function $6(e,t){let n,r,o,s=t[5][t[24].index]&&!(OC(t[5][t[24].index])&&!t[4]),i=s&&p6(t);return{key:e,first:null,c(){n=q(),i&&i.c(),r=q(),this.first=n},m(e,t){L(e,n,t),i&&i.m(e,t),L(e,r,t),o=!0},p(e,n){t=e,4194352&n&&(s=t[5][t[24].index]&&!(OC(t[5][t[24].index])&&!t[4])),s?i?(i.p(t,n),4194352&n&&je(i,1)):(i=p6(t),i.c(),je(i,1),i.m(r.parentNode,r)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){o||(je(i),o=!0)},o(e){qe(i),o=!1},d(e){e&&P(n),i&&i.d(e),e&&P(r)}}}function m6(e){let t,n,r,o,s=[],i=new Map;t=new f4({props:{api:e[23]}});let a=e[22];const l=e=>e[24].key;for(let c=0;c<a.length;c+=1){let t=l6(e,a,c),n=l(t);i.set(n,s[c]=$6(n,t))}return{c(){rt(t.$$.fragment),n=j();for(let e=0;e<s.length;e+=1)s[e].c();r=q()},m(e,i){ot(t,e,i),L(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);L(e,r,i),o=!0},p(e,n){const o={};8388608&n&&(o.api=e[23]),t.$set(o),4194352&n&&(a=e[22],ze(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Ze,$6,r,l6),Fe())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)je(s[e]);o=!0}},o(e){qe(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)qe(s[t]);o=!1},d(e){st(t,e),e&&P(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&P(r)}}}function f6(e){let t,n,r,o;const s=[u6,c6],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function h6(e){let t,n,r=e[3],s=f6(e);return{c(){s.c(),t=q()},m(e,r){s.m(e,r),L(e,t,r),n=!0},p(e,[n]){8&n&&d(r,r=e[3])?(ze(),qe(s,1,1,o),Fe(),s=f6(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function g6(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b=o,w=o;m(e,$M,(e=>n(17,y=e))),m(e,kS,(e=>n(18,v=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));const _=EN();m(e,_,(e=>n(15,h=e)));const x=cb();m(e,x,(e=>n(16,g=e)));let{usesVirtualList:S=!1}=t;function C(e){return DC(e)?24:MC(e)?64:ME}function E(e,t){return t?LC(t,f?.id):`__index_${e}`}return e.$$set=e=>{"usesVirtualList"in e&&n(0,S=e.usesVirtualList)},e.$$.update=()=>{262144&e.$$.dirty&&n(14,r=v),131072&e.$$.dirty&&n(13,s=y),90112&e.$$.dirty&&n(4,i=!!g?.hasPermission({database:r,schema:s},"canEditTableRecords")),32768&e.$$.dirty&&n(3,({id:a,display:l,columnsDataStore:c}=h),a,(n(12,l),n(15,h)),(n(11,c),n(15,h))),4096&e.$$.dirty&&(n(2,({displayableRecords:u}=l),u),b(),b=p(u,(e=>n(5,$=e)))),2048&e.$$.dirty&&(n(1,({pkColumn:d}=c),d),w(),w=p(d,(e=>n(21,f=e))))},[S,d,u,a,i,$,_,x,C,E,function(e){const t=$?.[e];return t?C(t):ME},c,l,s,r,h,g,y,v,function(t,n){e.$$.not_equal($[n.index],t)&&($[n.index]=t,u.set($))},e=>E(e,$[e])]}class y6 extends at{constructor(e){super(),it(this,e,g6,h6,d,{usesVirtualList:0})}}function v6(e){let t,n,r,o,s=e[3]&&b6(e),i=e[4]&&w6(),a=e[2]&&_6();return{c(){t=H("div"),s&&s.c(),n=j(),i&&i.c(),r=j(),a&&a.c(),U(t,"class","indicator-icons svelte-16ujqv6")},m(e,l){L(e,t,l),s&&s.m(t,null),O(t,n),i&&i.m(t,null),O(t,r),a&&a.m(t,null),o=!0},p(e,o){e[3]?s?(s.p(e,o),8&o&&je(s,1)):(s=b6(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe()),e[4]?i?(i.p(e,o),16&o&&je(i,1)):(i=w6(),i.c(),je(i,1),i.m(t,r)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[2]?a?(a.p(e,o),4&o&&je(a,1)):(a=_6(),a.c(),je(a,1),a.m(t,null)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe())},i(e){o||(je(s),je(i),je(a),o=!0)},o(e){qe(s),qe(i),qe(a),o=!1},d(e){e&&P(t),s&&s.d(),i&&i.d(),a&&a.d()}}}function b6(e){let t,n;const r=["ASCENDING"===e[3]?Cy:Ey];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=8&n?et(r,[tt("ASCENDING"===e[3]?Cy:Ey)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function w6(e){let t,n;const r=[qy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(qy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _6(e){let t,n;const r=[Vy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Vy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function x6(e){let t,n,r,o,s,i,a,l,u;n=new gI({props:{when:e[1],color:"var(--cell-bg-color-row-selected)"}}),s=new xA({props:{processedColumn:e[0]}});let d=(e[3]||e[4]||e[2])&&v6(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div"),rt(s.$$.fragment),i=j(),d&&d.c(),U(o,"class","header-cell-btn btn btn-ghost size-medium svelte-16ujqv6"),Z(o,"cursor","inherit"),U(t,"class","header-cell-root svelte-16ujqv6")},m(c,p){L(c,t,p),ot(n,t,null),O(t,r),O(t,o),ot(s,o,null),O(o,i),d&&d.m(o,null),a=!0,l||(u=[V(o,"click",e[14]),V(o,"mousedown",e[15]),V(o,"mouseenter",e[16])],l=!0)},p(e,[t]){const r={};2&t&&(r.when=e[1]),n.$set(r);const i={};1&t&&(i.processedColumn=e[0]),s.$set(i),e[3]||e[4]||e[2]?d?(d.p(e,t),28&t&&je(d,1)):(d=v6(e),d.c(),je(d,1),d.m(o,null)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe())},i(e){a||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(d),a=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),qe(d),a=!1},d(e){e&&P(t),st(n),st(s),d&&d.d(),l=!1,c(u)}}}function S6(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g=o,y=o,v=o;e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v()));let{processedColumn:b}=t,{isSelected:w=!1}=t;const _=EN();return m(e,_,(e=>n(13,h=e))),e.$$set=e=>{"processedColumn"in e&&n(0,b=e.processedColumn),"isSelected"in e&&n(1,w=e.isSelected)},e.$$.update=()=>{8192&e.$$.dirty&&n(9,({meta:r}=h),r),512&e.$$.dirty&&(n(7,({filtering:s,sorting:i,grouping:a}=r),s,(n(6,i),y(),y=p(i,(e=>n(11,$=e))),i),(n(5,a),g(),g=p(a,(e=>n(10,d=e))),a)),v(),v=p(s,(e=>n(12,f=e)))),4097&e.$$.dirty&&n(4,l=f.entries.some((e=>e.columnId===b.id))),2049&e.$$.dirty&&n(3,c=$.get(b.id)),1025&e.$$.dirty&&n(2,u=d.entries.some((e=>e.columnId===b.id)))},[b,w,u,c,l,a,i,s,_,r,d,$,f,h,function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)},function(t){ve.call(this,e,t)}]}class C6 extends at{constructor(e){super(),it(this,e,S6,x6,d,{processedColumn:0,isSelected:1})}}function E6(e){let t,n=e[7]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]+"")&&G(t,n)},d(e){e&&P(t)}}}function k6(e){let t,n;return t=new uw({props:{icon:e[6].getIcon(),$$slots:{default:[E6]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.icon=e[6].getIcon()),384&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function I6(e){let t,n;return t=new _d({props:{options:e[2],getLabel:T6,value:e[3],valuesAreEqual:D6,offsetOnFocus:2,disabled:e[1],$$slots:{default:[k6,({option:e,label:t})=>({6:e,7:t}),({option:e,label:t})=>(e?64:0)|(t?128:0)]},$$scope:{ctx:e}}}),t.$on("change",e[5]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};4&n&&(r.options=e[2]),8&n&&(r.value=e[3]),2&n&&(r.disabled=e[1]),448&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const T6=e=>e?.name??"",D6=(e,t)=>e?.identifier===t?.identifier;function M6(e,t,n){let r,o,s;m(e,NS,(e=>n(4,s=e)));let{value:i=Y_}=t,{disabled:a=!1}=t;return e.$$set=e=>{"value"in e&&n(0,i=e.value),"disabled"in e&&n(1,a=e.disabled)},e.$$.update=()=>{var t;17&e.$$.dirty&&n(3,r=B_(i,s.data)),16&e.$$.dirty&&n(2,(t=s.data,o=[...t.values()].filter((e=>!U_[e.identifier])).sort(((e,t)=>e.name.localeCompare(t.name)))))},[i,a,o,r,s,e=>{n(0,i=e.detail?function(e){return e.defaultDbType?e.defaultDbType:e.dbTypes.size>0?[...e.dbTypes][0]:Y_}(e.detail):Y_)}]}class O6 extends at{constructor(e){super(),it(this,e,M6,I6,d,{value:0,disabled:1})}}function N6(e){let t,n;const r=[{class:"opt"},ny,{size:"0.9em"}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(ny),r[2]]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function A6(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function L6(e){let t,n,r,o;const s=[A6,N6],i=[];function a(e,t){return e[5]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function P6(e){let t,n,r,o,s,i,a,l;function c(){return e[12](e[15])}return n=new yO({props:{field:e[1],label:e[4]("column_name"),layout:"stacked"}}),o=new yO({props:{field:e[7],input:{component:O6},label:e[4]("select_type"),layout:"stacked"}}),a=new xO({props:{form:e[0],proceedButton:{label:e[4]("add")},onProceed:c,onCancel:e[15],catchErrors:!0}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),i=H("div"),rt(a.$$.fragment),U(i,"class","submit svelte-1ci5n5s"),U(t,"slot","content"),U(t,"class","new-column-dropdown svelte-1ci5n5s")},m(e,c){L(e,t,c),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),O(t,i),ot(a,i,null),l=!0},p(t,r){e=t;const s={};2&r&&(s.field=e[1]),16&r&&(s.label=e[4]("column_name")),n.$set(s);const i={};16&r&&(i.label=e[4]("select_type")),o.$set(i);const l={};1&r&&(l.form=e[0]),16&r&&(l.proceedButton={label:e[4]("add")}),32768&r&&(l.onProceed=c),32768&r&&(l.onCancel=e[15]),a.$set(l)},i(e){l||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),st(n),st(o),st(a)}}}function R6(e){let t,n;return t=new Wa({props:{closeOnInnerClick:!1,triggerAppearance:"secondary",showArrow:!1,ariaLabel:e[4]("new_column"),disabled:e[5],$$slots:{content:[P6,({close:e})=>({15:e}),({close:e})=>e?32768:0],trigger:[L6]},$$scope:{ctx:e}}}),t.$on("close",(function(){u(e[0].reset)&&e[0].reset.apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,[r]){e=n;const o={};16&r&&(o.ariaLabel=e[4]("new_column")),32&r&&(o.disabled=e[5]),98355&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function H6(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g=o,y=o,v=o;m(e,Mg,(e=>n(4,f=e))),e.$$.on_destroy.push((()=>g())),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v()));const b=EN();m(e,b,(e=>n(11,$=e)));const w=IO(void 0);async function _(e){const t={name:u,type:c,nullable:!0,primary_key:!1};await r.add(t),e()}m(e,w,(e=>n(13,c=e)));return e.$$.update=()=>{2048&e.$$.dirty&&n(9,({columnsDataStore:r}=$),r),512&e.$$.dirty&&(n(3,({columns:s}=r),s),y(),y=p(s,(e=>n(10,d=e)))),1024&e.$$.dirty&&(n(1,i=IO("",[fA(d)])),g(),g=p(i,(e=>n(14,u=e)))),2&e.$$.dirty&&n(0,a=DO({columnName:i,columnType:w})),1&e.$$.dirty&&(n(2,({isSubmitting:l}=a),l),v(),v=p(l,(e=>n(5,h=e))))},[a,i,l,s,f,h,b,w,_,r,d,$,e=>_(e)]}class z6 extends at{constructor(e){super(),it(this,e,H6,R6,d,{})}}function F6(e){let t,n,r,o;const s=e[5].default,i=f(s,e,e[4],null);return{c(){t=H("div"),i&&i.c(),U(t,"class","draggable svelte-3gs1al"),U(t,"draggable",e[0]),te(t,"draggable_active",e[0])},m(s,a){L(s,t,a),i&&i.m(t,null),n=!0,r||(o=V(t,"dragstart",e[6]),r=!0)},p(e,[r]){i&&i.p&&(!n||16&r)&&y(i,s,e,e[4],n?g(s,e[4],r,null):v(e[4]),null),(!n||1&r)&&U(t,"draggable",e[0]),(!n||1&r)&&te(t,"draggable_active",e[0])},i(e){n||(je(i,e),n=!0)},o(e){qe(i,e),n=!1},d(e){e&&P(t),i&&i.d(e),r=!1,o()}}}function j6(e,t,n){let r,{$$slots:o={},$$scope:s}=t,{selection:i}=t,{selectionInProgress:a=!0}=t,{column:l}=t;return e.$$set=e=>{"selection"in e&&n(1,i=e.selection),"selectionInProgress"in e&&n(2,a=e.selectionInProgress),"column"in e&&n(3,l=e.column),"$$scope"in e&&n(4,s=e.$$scope)},e.$$.update=()=>{14&e.$$.dirty&&n(0,r=!a&&i&&i.isCompleteColumnSelected(l))},[r,i,a,l,s,o,function(t){ve.call(this,e,t)}]}class q6 extends at{constructor(e){super(),it(this,e,j6,F6,d,{selection:1,selectionInProgress:2,column:3})}}const V6=e=>({}),B6=e=>({class:"drag-over"});function W6(e){let t,n,r,o;const s=e[10].default,i=f(s,e,e[9],B6);return{c(){t=H("div"),i&&i.c(),U(t,"class","droppable svelte-15893zs"),te(t,"is_selected",e[0]),te(t,"dragged_over",e[1]),te(t,"dragged_over_right",e[3]),te(t,"dragged_over_left",e[2])},m(s,a){L(s,t,a),i&&i.m(t,null),n=!0,r||(o=[V(t,"drop",e[11]),V(t,"dragover",U6),V(t,"dragenter",e[12]),V(t,"dragleave",e[13])],r=!0)},p(e,[r]){i&&i.p&&(!n||512&r)&&y(i,s,e,e[9],n?g(s,e[9],r,V6):v(e[9]),B6),(!n||1&r)&&te(t,"is_selected",e[0]),(!n||2&r)&&te(t,"dragged_over",e[1]),(!n||8&r)&&te(t,"dragged_over_right",e[3]),(!n||4&r)&&te(t,"dragged_over_left",e[2])},i(e){n||(je(i,e),n=!0)},o(e){qe(i,e),n=!1},d(e){e&&P(t),i&&i.d(e),r=!1,c(o)}}}const U6=e=>e.preventDefault();function Y6(e,t,n){let r,o,s,{$$slots:i={},$$scope:a}=t,{locationOfFirstDraggedColumn:l}=t,{columnLocation:c}=t,{isSelected:u=!1}=t,d=0;function p(e){e.preventDefault(),n(1,d+=1)}function $(){n(1,d-=1)}return e.$$set=e=>{"locationOfFirstDraggedColumn"in e&&n(6,l=e.locationOfFirstDraggedColumn),"columnLocation"in e&&n(7,c=e.columnLocation),"isSelected"in e&&n(0,u=e.isSelected),"$$scope"in e&&n(9,a=e.$$scope)},e.$$.update=()=>{192&e.$$.dirty&&n(8,r=void 0!==l?l-c:0),256&e.$$.dirty&&n(3,o=r<0),256&e.$$.dirty&&n(2,s=r>0),64&e.$$.dirty&&void 0===l&&n(1,d=0)},[u,d,s,o,p,$,l,c,r,a,i,function(t){ve.call(this,e,t)},e=>p(e),()=>$()]}class K6 extends at{constructor(e){super(),it(this,e,Y6,W6,d,{locationOfFirstDraggedColumn:6,columnLocation:7,isSelected:0})}}function G6(e,t,n){const r=e.slice();return r[28]=t[n][0],r[29]=t[n][1],r}function X6(e){let t,n,r=[e[26],{style:n=e[27]}],o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return{c(){t=H("div"),Y(t,o),te(t,"svelte-1vwp6b3",!0)},m(e,n){L(e,t,n)},p(e,s){Y(t,o=et(r,[67108864&s[0]&&e[26],134217728&s[0]&&n!==(n=e[27])&&{style:n}])),te(t,"svelte-1vwp6b3",!0)},d(e){e&&P(t)}}}function Z6(e){let t,n;return t=new K6({props:{locationOfFirstDraggedColumn:0,columnLocation:-1,$$slots:{default:[X6]},$$scope:{ctx:e}}}),t.$on("drop",e[18]),t.$on("dragover",a8),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};201326592&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function J6(e){let t,n;return t=new C6({props:{processedColumn:e[29],isSelected:Vk(e[3],e[2],e[29])}}),t.$on("mousedown",(function(){return e[19](e[29])})),t.$on("mouseenter",(function(){return e[20](e[29])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};1024&r[0]&&(o.processedColumn=e[29]),1036&r[0]&&(o.isSelected=Vk(e[3],e[2],e[29])),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Q6(e){let t,n;return t=new K6({props:{locationOfFirstDraggedColumn:e[4],columnLocation:e[5].indexOf(e[28].toString()),isSelected:Vk(e[3],e[2],e[29]),$$slots:{default:[J6]},$$scope:{ctx:e}}}),t.$on("drop",(function(){return e[21](e[29])})),t.$on("dragover",l8),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};16&r[0]&&(o.locationOfFirstDraggedColumn=e[4]),1056&r[0]&&(o.columnLocation=e[5].indexOf(e[28].toString())),1036&r[0]&&(o.isSelected=Vk(e[3],e[2],e[29])),1038&r[0]|2&r[1]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function e8(e){let t,n;return t=new u3({props:{processedColumn:e[29]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n[0]&&(r.processedColumn=e[29]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t8(e){let t,n,r,o,s,a,l,c,u;r=new q6({props:{column:e[29],selection:e[1],selectionInProgress:e[11],$$slots:{default:[Q6]},$$scope:{ctx:e}}}),r.$on("dragstart",e[22]),s=new DE({props:{columnIdentifierKey:e[28]}}),l=new oi({props:{$$slots:{default:[e8]},$$scope:{ctx:e}}});let d=[e[26],{style:c=e[27]}],p={};for(let $=0;$<d.length;$+=1)p=i(p,d[$]);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),a=j(),rt(l.$$.fragment),Y(n,p),te(n,"svelte-1vwp6b3",!0)},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),ot(s,n,null),O(n,a),ot(l,n,null),u=!0},p(e,t){const o={};1024&t[0]&&(o.column=e[29]),2&t[0]&&(o.selection=e[1]),2048&t[0]&&(o.selectionInProgress=e[11]),1086&t[0]|2&t[1]&&(o.$$scope={dirty:t,ctx:e}),r.$set(o);const i={};1024&t[0]&&(i.columnIdentifierKey=e[28]),s.$set(i);const a={};1024&t[0]|2&t[1]&&(a.$$scope={dirty:t,ctx:e}),l.$set(a),Y(n,p=et(d,[67108864&t[0]&&e[26],(!u||134217728&t[0]&&c!==(c=e[27]))&&{style:c}])),te(n,"svelte-1vwp6b3",!0)},i(e){u||(je(r.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),u=!0)},o(e){qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),u=!1},d(e){e&&P(t),st(r),st(s),st(l)}}}function n8(e,t){let n,r,o;return r=new _E({props:{columnIdentifierKey:t[28],$$slots:{default:[t8,({htmlAttributes:e,style:t})=>({26:e,27:t}),({htmlAttributes:e,style:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1024&n[0]&&(o.columnIdentifierKey=t[28]),201329726&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function r8(e){let t,n;return t=new _E({props:{columnIdentifierKey:-2,$$slots:{default:[o8,({htmlAttributes:e,style:t})=>({26:e,27:t}),({htmlAttributes:e,style:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};201326592&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function o8(e){let t,n,r,o;n=new z6({});let s=[e[26],{class:"new-column-cell"},{style:r=e[27]}],a={};for(let l=0;l<s.length;l+=1)a=i(a,s[l]);return{c(){t=H("div"),rt(n.$$.fragment),Y(t,a),te(t,"svelte-1vwp6b3",!0)},m(e,r){L(e,t,r),ot(n,t,null),o=!0},p(e,n){Y(t,a=et(s,[67108864&n[0]&&e[26],{class:"new-column-cell"},(!o||134217728&n[0]&&r!==(r=e[27]))&&{style:r}])),te(t,"svelte-1vwp6b3",!0)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function s8(e){let t,n,r,o,s,i=[],a=new Map;t=new _E({props:{columnIdentifierKey:-1,isStatic:!0,isControlCell:!0,$$slots:{default:[Z6,({htmlAttributes:e,style:t})=>({26:e,27:t}),({htmlAttributes:e,style:t})=>[(e?67108864:0)|(t?134217728:0)]]},$$scope:{ctx:e}}});let l=[...e[10]];const c=e=>e[28];for(let d=0;d<l.length;d+=1){let t=G6(e,l,d),n=c(t);a.set(n,i[d]=n8(n,t))}let u=e[0]&&r8(e);return{c(){rt(t.$$.fragment),n=j();for(let e=0;e<i.length;e+=1)i[e].c();r=j(),u&&u.c(),o=q()},m(e,a){ot(t,e,a),L(e,n,a);for(let t=0;t<i.length;t+=1)i[t].m(e,a);L(e,r,a),u&&u.m(e,a),L(e,o,a),s=!0},p(e,n){const s={};201326592&n[0]|2&n[1]&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),201354302&n[0]&&(l=[...e[10]],ze(),i=Qe(i,n,c,1,e,l,a,r.parentNode,Ze,n8,r,G6),Fe()),e[0]?u?(u.p(e,n),1&n[0]&&je(u,1)):(u=r8(e),u.c(),je(u,1),u.m(o.parentNode,o)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe())},i(e){if(!s){je(t.$$.fragment,e);for(let e=0;e<l.length;e+=1)je(i[e]);je(u),s=!0}},o(e){qe(t.$$.fragment,e);for(let t=0;t<i.length;t+=1)qe(i[t]);qe(u),s=!1},d(e){st(t,e),e&&P(n);for(let t=0;t<i.length;t+=1)i[t].d(e);e&&P(r),u&&u.d(e),e&&P(o)}}}function i8(e){let t,n;return t=new gE({props:{$$slots:{default:[s8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3135&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const a8=e=>e.preventDefault(),l8=e=>e.preventDefault();function c8(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y=o,v=o,b=o,w=o;e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));const _=EN();m(e,_,(e=>n(17,h=e)));let x,{hasNewColumnButton:S=!1}=t,{columnOrder:C}=t,{table:E}=t,k=[],I=[];function T(){for(const e of d.keys()){const t=e.toString();n(5,r=[...new Set(r)]),r.includes(t)||n(5,r=[...r,t])}n(5,r),n(15,C);for(const e of r)u.map(String).includes(e)?(k.push(e),x||n(4,x=r.indexOf(e))):I.push(e)}function D(e){if(u.length>0&&e&&u[0]===e.id)return n(4,x=void 0),k=[],void(I=[]);e?I.splice(r.indexOf(e.id.toString()),0,...k):I.splice(0,0,...k),function(e,t){JO(e,{column_order:[...new Set(t)]})}(E,I.map(Number)),n(4,x=void 0),k=[],I=[]}return e.$$set=e=>{"hasNewColumnButton"in e&&n(0,S=e.hasNewColumnButton),"columnOrder"in e&&n(15,C=e.columnOrder),"table"in e&&n(16,E=e.table)},e.$$.update=()=>{32768&e.$$.dirty[0]&&n(15,C=C??[]),32768&e.$$.dirty[0]&&n(5,r=C.map(String)),131072&e.$$.dirty[0]&&n(1,({selection:s,processedColumns:i}=h),s,(n(9,i),y(),y=p(i,(e=>n(10,d=e))),i)),2&e.$$.dirty[0]&&(n(8,({selectedCells:a,columnsSelectedWhenTheTableIsEmpty:l,selectionInProgress:c}=s),a,(n(7,l),v(),v=p(l,(e=>n(2,$=e))),l),(n(6,c),w(),w=p(c,(e=>n(11,g=e))),c)),b(),b=p(a,(e=>n(3,f=e)))),14&e.$$.dirty[0]&&(u=s.getSelectedUniqueColumnsId(f,$))},[S,s,$,f,x,r,c,l,a,i,d,g,_,T,D,C,E,h,()=>D(),e=>s.onColumnSelectionStart(e),e=>s.onMouseEnterColumnHeaderWhileSelection(e),e=>D(e),()=>T()]}class u8 extends at{constructor(e){super(),it(this,e,c8,i8,d,{hasNewColumnButton:0,columnOrder:15,table:16},null,[-1,-1])}}function d8(e){let t,n;return t=new Hn({props:{disabled:e[3],size:"medium",appearance:"primary",$$slots:{default:[p8]},$$scope:{ctx:e}}}),t.$on("click",e[39]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.disabled=e[3]),524288&n[0]|1024&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function p8(e){let t,n,r,o,s,a=e[19]("new_record")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||524288&n[0])&&a!==(a=e[19]("new_record")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function $8(e){let t,n=e[19]("no_records_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){524288&r[0]&&n!==(n=e[19]("no_records_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function m8(e){let t,n,r,o=e[19]("showing_n_to_m_of_total_records",{values:{leftBound:e[14],rightBound:e[8],totalCount:e[4]}})+"",s=e[20].length>0&&f8(e);return{c(){t=F(o),n=j(),s&&s.c(),r=q()},m(e,o){L(e,t,o),L(e,n,o),s&&s.m(e,o),L(e,r,o)},p(e,n){540944&n[0]&&o!==(o=e[19]("showing_n_to_m_of_total_records",{values:{leftBound:e[14],rightBound:e[8],totalCount:e[4]}})+"")&&G(t,o),e[20].length>0?s?s.p(e,n):(s=f8(e),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(e){e&&P(t),e&&P(n),s&&s.d(e),e&&P(r)}}}function f8(e){let t,n,r,o=e[19]("count_new_records",{values:{count:e[20].length}})+"";return{c(){t=F("("),n=F(o),r=F(")")},m(e,o){L(e,t,o),L(e,n,o),L(e,r,o)},p(e,t){1572864&t[0]&&o!==(o=e[19]("count_new_records",{values:{count:e[20].length}})+"")&&G(n,o)},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function h8(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[7]&&d8(e);function $(e,t){return e[9]>0&&e[4]?m8:e[1]!==Rv.Loading?$8:void 0}let m=$(e),f=m&&m(e);function h(t){e[40](t)}let g={totalCount:e[4]??0,pageSizeOptions:"widget"===e[0]?[]:void 0,hiddenWhenPossible:"widget"===e[0]};return void 0!==e[5]&&(g.pagination=e[5]),a=new sJ({props:g}),we.push((()=>nt(a,"pagination",h))),u=new hJ({props:{state:e[6]}}),u.$on("click",e[23]),{c(){t=H("div"),n=H("div"),p&&p.c(),r=j(),o=H("div"),f&&f.c(),s=j(),i=H("div"),rt(a.$$.fragment),c=j(),rt(u.$$.fragment),U(o,"class","record-count"),U(n,"class","status-pane-items-section svelte-14gcgi5"),U(i,"class","status-pane-items-section svelte-14gcgi5"),U(t,"class","status-pane svelte-14gcgi5"),te(t,"context-widget","widget"===e[0]),te(t,"context-page","page"===e[0]),te(t,"context-shared-consumer-page","shared-consumer-page"===e[0])},m(e,l){L(e,t,l),O(t,n),p&&p.m(n,null),O(n,r),O(n,o),f&&f.m(o,null),O(t,s),O(t,i),ot(a,i,null),O(i,c),ot(u,i,null),d=!0},p(e,s){e[7]?p?(p.p(e,s),128&s[0]&&je(p,1)):(p=d8(e),p.c(),je(p,1),p.m(n,r)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe()),m===(m=$(e))&&f?f.p(e,s):(f&&f.d(1),f=m&&m(e),f&&(f.c(),f.m(o,null)));const i={};16&s[0]&&(i.totalCount=e[4]??0),1&s[0]&&(i.pageSizeOptions="widget"===e[0]?[]:void 0),1&s[0]&&(i.hiddenWhenPossible="widget"===e[0]),!l&&32&s[0]&&(l=!0,i.pagination=e[5],Te((()=>l=!1))),a.$set(i);const c={};64&s[0]&&(c.state=e[6]),u.$set(c),(!d||1&s[0])&&te(t,"context-widget","widget"===e[0]),(!d||1&s[0])&&te(t,"context-page","page"===e[0]),(!d||1&s[0])&&te(t,"context-shared-consumer-page","shared-consumer-page"===e[0])},i(e){d||(je(p),je(a.$$.fragment,e),je(u.$$.fragment,e),d=!0)},o(e){qe(p),qe(a.$$.fragment,e),qe(u.$$.fragment,e),d=!1},d(e){e&&P(t),p&&p.d(),f&&f.d(),st(a),st(u)}}}function g8(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z,F,j=o,q=o,V=o,B=o,W=o,U=o,Y=o;m(e,$M,(e=>n(37,R=e))),m(e,kS,(e=>n(38,H=e))),m(e,Mg,(e=>n(19,z=e))),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y()));const K=EN();m(e,K,(e=>n(32,T=e)));const G=cb();m(e,G,(e=>n(36,P=e)));let{context:X="page"}=t;return e.$$set=e=>{"context"in e&&n(0,X=e.context)},e.$$.update=()=>{128&e.$$.dirty[1]&&n(31,r=H),64&e.$$.dirty[1]&&n(30,s=R),1073741824&e.$$.dirty[0]|33&e.$$.dirty[1]&&n(25,i=!!P?.hasPermission({database:r,schema:s},"canEditTableRecords")),2&e.$$.dirty[1]&&n(2,({recordsData:a,meta:l,isLoading:c,columnsDataStore:u,constraintsDataStore:d,selection:$}=T),a,(n(29,l),n(32,T)),(n(18,c),j(),j=p(c,(e=>n(3,D=e))),c),(n(28,u),n(32,T)),(n(17,d),q(),q=p(d,(e=>n(33,M=e))),d),(n(16,$),n(32,T))),536870912&e.$$.dirty[0]&&(n(15,({pagination:f}=l),f),U(),U=p(f,(e=>n(5,L=e)))),32&e.$$.dirty[0]&&n(27,({size:h,leftBound:g,rightBound:y}=L),h,(n(14,g),n(5,L)),(n(26,y),n(5,L))),4&e.$$.dirty[0]&&(n(13,({totalCount:v,state:b,newRecords:w}=a),v,(n(12,b),W(),W=p(b,(e=>n(35,A=e))),b),(n(11,w),Y(),Y=p(w,(e=>n(20,F=e))),w)),B(),B=p(v,(e=>n(4,N=e)))),16&e.$$.dirty[1]&&n(1,_=A),268435456&e.$$.dirty[0]&&(n(10,x=u.fetchStatus),V(),V=p(x,(e=>n(34,O=e)))),134217744&e.$$.dirty[0]&&n(9,S=nn(N??0,h)),67108880&e.$$.dirty[0]&&n(8,C=Math.min(N??0,y)),2&e.$$.dirty[0]|12&e.$$.dirty[1]&&n(24,E="failure"===O?.state||_===Rv.Error||M.state===Rv.Error),33554433&e.$$.dirty[0]&&n(7,k="widget"!==X&&i),16777224&e.$$.dirty[0]&&n(6,I=(()=>{let e;return D&&(e="loading"),E&&(e="error"),e})())},[X,_,a,D,N,L,I,k,C,S,x,w,b,v,g,f,$,d,c,z,F,K,G,function(){T.refresh()},E,i,y,h,u,l,s,r,T,M,O,A,P,R,H,()=>{a.addEmptyRecord(),$.selectAndActivateFirstDataEntryCellInLastRow()},function(e){L=e,f.set(L)}]}class y8 extends at{constructor(e){super(),it(this,e,g8,h8,d,{context:0},null,[-1,-1])}}function v8(e){return!e.name.match(/[{}]/)}function b8(e,t){const n=(t.match(/\{\d+\}/g)??[]).map((e=>parseInt(e.slice(1,-1),10)));return e.filter((e=>n.includes(e.id)))}function w8(e){return hM((t=>b8(e,t).length>0),$(Mg)("template_refer_atleast_one_column_error"))}class _8{constructor(t){e(this,"columns",void 0),this.columns=t.filter(v8)}getColumnName(e){return this.columns.find((t=>t.id===e))?.name}getColumnId(e){return this.columns.find((t=>t.name===e))?.id}format(e){return e.replace(/\{\d+\}/g,(e=>{const t=parseInt(e.slice(1,-1),10),n=this.getColumnName(t);return void 0===n?e:`{${n}}`}))}parse(e){const t=e;return{value:e.replace(/\{[^{}]+\}/g,(e=>{const t=e.slice(1,-1),n=this.getColumnId(t);return void 0===n?e:`{${n}}`})),intermediateDisplay:t}}}function x8(e,t,n){const r=e.slice();return r[10]=t[n],r}function S8(e,t){let n,r,o;return r=new y$({props:{label:t[10].name,icon:t[6](t[10])}}),r.$on("click",(function(){return t[8](t[10])})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.label=t[10].name),1&n&&(o.icon=t[6](t[10])),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function C8(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[10].id;for(let a=0;a<s.length;a+=1){let t=x8(e,s,a),n=i(t);o.set(n,r[a]=S8(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){67&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,S8,t,x8),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function E8(e){let t,n;return t=new Qc({props:{label:e[4]("append_column"),icon:ny,disabled:e[2],$$slots:{default:[C8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};16&n&&(r.label=e[4]("append_column")),4&n&&(r.disabled=e[2]),8195&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function k8(e,t,n){let r,s,i,a,l=o;m(e,Mg,(e=>n(4,a=e))),e.$$.on_destroy.push((()=>l()));const c=EN();m(e,c,(e=>n(7,i=e)));let{columns:u}=t,{onSelect:d}=t,{disabled:$=!1}=t;return e.$$set=e=>{"columns"in e&&n(0,u=e.columns),"onSelect"in e&&n(1,d=e.onSelect),"disabled"in e&&n(2,$=e.disabled)},e.$$.update=()=>{128&e.$$.dirty&&(n(3,({processedColumns:r}=i),r),l(),l=p(r,(e=>n(9,s=e))))},[u,d,$,r,a,c,function(e){const t=hA(e.id,s);if(t?.includes("primary"))return Hy;if(t?.includes("foreignkey"))return Qy;const n=$A(e);return Array.isArray(n)?n[0]:n},i,e=>d(e)]}class I8 extends at{constructor(e){super(),it(this,e,k8,E8,d,{columns:0,onSelect:1,disabled:2})}}function T8(e){let t,n,r,o,s,a;const l=[{formatter:e[3]},{disabled:e[2]},e[5]];function c(t){e[6](t)}let u={};for(let d=0;d<l.length;d+=1)u=i(u,l[d]);return void 0!==e[0]&&(u.value=e[0]),t=new ia({props:u}),we.push((()=>nt(t,"value",c))),s=new I8({props:{columns:e[1],onSelect:e[4],disabled:e[2]}}),{c(){rt(t.$$.fragment),r=j(),o=H("span"),rt(s.$$.fragment),U(o,"class","column-insert svelte-86c15b")},m(e,n){ot(t,e,n),L(e,r,n),L(e,o,n),ot(s,o,null),a=!0},p(e,[r]){const o=44&r?et(l,[8&r&&{formatter:e[3]},4&r&&{disabled:e[2]},32&r&&tt(e[5])]):{};!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o);const i={};2&r&&(i.columns=e[1]),4&r&&(i.disabled=e[2]),s.$set(i)},i(e){a||(je(t.$$.fragment,e),je(s.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),qe(s.$$.fragment,e),a=!1},d(e){st(t,e),e&&P(r),e&&P(o),st(s)}}}function D8(e,t,n){let r;const o=["value","columns","disabled"];let s=w(t,o),{value:a}=t,{columns:l}=t,{disabled:c=!1}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(5,s=w(t,o)),"value"in e&&n(0,a=e.value),"columns"in e&&n(1,l=e.columns),"disabled"in e&&n(2,c=e.disabled)},e.$$.update=()=>{2&e.$$.dirty&&n(3,r=new _8(l))},[a,l,c,r,function(e){n(0,a=`${a}{${e.id}}`)},s,function(e){a=e,n(0,a)}]}class M8 extends at{constructor(e){super(),it(this,e,D8,T8,d,{value:0,columns:1,disabled:2})}}function O8(e,t,n){const r=e.slice();return r[38]=t[n],r}function N8(e){let t,n,r,o,s=e[1]&&L8(e),i=e[2]&&z8(e),a=e[6]&&G8(e);return{c(){s&&s.c(),t=j(),i&&i.c(),n=j(),a&&a.c(),r=q()},m(e,l){s&&s.m(e,l),L(e,t,l),i&&i.m(e,l),L(e,n,l),a&&a.m(e,l),L(e,r,l),o=!0},p(e,o){e[1]?s?(s.p(e,o),2&o[0]&&je(s,1)):(s=L8(e),s.c(),je(s,1),s.m(t.parentNode,t)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe()),e[2]?i?(i.p(e,o),4&o[0]&&je(i,1)):(i=z8(e),i.c(),je(i,1),i.m(n.parentNode,n)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[6]?a?a.p(e,o):(a=G8(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(e){o||(je(s),je(i),o=!0)},o(e){qe(s),qe(i),o=!1},d(e){s&&s.d(e),e&&P(t),i&&i.d(e),e&&P(n),a&&a.d(e),e&&P(r)}}}function A8(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function L8(e){let t,n,r,o,s,i,a,l,c,u=e[14]("preview")+"";return i=new Kg({props:{text:e[14]("record_summary_help"),$$slots:{default:[H8,({slotName:e})=>({41:e}),({slotName:e})=>[0,e?1024:0]]},$$scope:{ctx:e}}}),l=new WD({props:{recordSummary:e[1]}}),{c(){t=H("div"),n=F(u),r=j(),o=H("div"),s=H("div"),rt(i.$$.fragment),a=j(),rt(l.$$.fragment),U(t,"class","heading svelte-1hlltog"),U(s,"class","help svelte-1hlltog"),U(o,"class","content svelte-1hlltog")},m(e,u){L(e,t,u),O(t,n),L(e,r,u),L(e,o,u),O(o,s),ot(i,s,null),O(o,a),ot(l,o,null),c=!0},p(e,t){(!c||16384&t[0])&&u!==(u=e[14]("preview")+"")&&G(n,u);const r={};16384&t[0]&&(r.text=e[14]("record_summary_help")),1&t[0]|3072&t[1]&&(r.$$scope={dirty:t,ctx:e}),i.$set(r);const o={};2&t[0]&&(o.recordSummary=e[1]),l.$set(o)},i(e){c||(je(i.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(i.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(i),st(l)}}}function P8(e){let t,n;return t=new Ag({props:{$$slots:{default:[R8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]|2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function R8(e){let t,n=e[0].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r[0]&&n!==(n=e[0].name+"")&&G(t,n)},d(e){e&&P(t)}}}function H8(e){let t,n,r="tableName"===e[41]&&P8(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[41]?r?(r.p(e,n),1024&n[1]&&je(r,1)):(r=P8(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function z8(e){let t,n,r,o,s,i,a,l,c,u,d=e[14]("template")+"";function p(t){e[36](t)}let $={options:[!1,!0],getRadioLabel:e[35],ariaLabel:e[14]("template_type"),isInline:!0,disabled:e[17]};void 0!==e[16]&&($.value=e[16]),s=new Hl({props:$}),we.push((()=>nt(s,"value",p)));let m=e[16]&&F8(e);return c=new xO({props:{form:e[8],onProceed:e[19],onCancel:e[8].reset,proceedButton:{label:e[14]("save")},initiallyHidden:!0,size:"small"}}),{c(){t=H("div"),n=F(d),r=j(),o=H("div"),rt(s.$$.fragment),a=j(),m&&m.c(),l=j(),rt(c.$$.fragment),U(t,"class","heading svelte-1hlltog"),U(o,"class","content svelte-1hlltog")},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),ot(s,o,null),O(o,a),m&&m.m(o,null),O(o,l),ot(c,o,null),u=!0},p(e,t){(!u||16384&t[0])&&d!==(d=e[14]("template")+"")&&G(n,d);const r={};16384&t[0]&&(r.getRadioLabel=e[35]),16384&t[0]&&(r.ariaLabel=e[14]("template_type")),131072&t[0]&&(r.disabled=e[17]),!i&&65536&t[0]&&(i=!0,r.value=e[16],Te((()=>i=!1))),s.$set(r),e[16]?m?(m.p(e,t),65536&t[0]&&je(m,1)):(m=F8(e),m.c(),je(m,1),m.m(o,l)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe());const a={};256&t[0]&&(a.form=e[8]),256&t[0]&&(a.onCancel=e[8].reset),16384&t[0]&&(a.proceedButton={label:e[14]("save")}),c.$set(a)},i(e){u||(je(s.$$.fragment,e),je(m),je(c.$$.fragment,e),u=!0)},o(e){qe(s.$$.fragment,e),qe(m),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s),m&&m.d(),st(c)}}}function F8(e){let t,n,r,o;t=new yO({props:{field:e[3],input:{component:M8,props:{columns:e[5]}}}});let s=e[7].length&&j8(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};8&n[0]&&(o.field=e[3]),32&n[0]&&(o.input={component:M8,props:{columns:e[5]}}),t.$set(o),e[7].length?s?(s.p(e,n),128&n[0]&&je(s,1)):(s=j8(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function j8(e){let t,n;return t=new wz({props:{$$slots:{default:[K8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16512&n[0]|2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function q8(e){let t,n;return t=new Ag({props:{$$slots:{default:[B8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n[0]|2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function V8(e){let t,n;return t=new Ag({props:{$$slots:{default:[W8]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n[0]|2048&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B8(e){let t,n=e[38].name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r[0]&&n!==(n=e[38].name+"")&&G(t,n)},d(e){e&&P(t)}}}function W8(e){let t,n=e[38].id+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r[0]&&n!==(n=e[38].id+"")&&G(t,n)},d(e){e&&P(t)}}}function U8(e){let t,n,r,o;const s=[V8,q8],i=[];function a(e,t){return"columnId"===e[41]?0:"columnName"===e[41]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function Y8(e){let t,n,r,o;return n=new Kg({props:{text:e[14]("column_id_references_column_name"),$$slots:{default:[U8,({slotName:e})=>({41:e}),({slotName:e})=>[0,e?1024:0]]},$$scope:{ctx:e}}}),{c(){t=H("li"),rt(n.$$.fragment),r=j()},m(e,s){L(e,t,s),ot(n,t,null),O(t,r),o=!0},p(e,t){const r={};16384&t[0]&&(r.text=e[14]("column_id_references_column_name")),128&t[0]|3072&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function K8(e){let t,n,r,o,s,i,a,l=e[14]("record_summary_non_conformant_columns_help")+"",c=e[7],u=[];for(let p=0;p<c.length;p+=1)u[p]=Y8(O8(e,c,p));const d=e=>qe(u[e],1,1,(()=>{u[e]=null}));return{c(){t=H("div"),n=H("p"),r=F(l),o=F(":"),s=j(),i=H("ul");for(let e=0;e<u.length;e+=1)u[e].c();U(i,"class","svelte-1hlltog"),U(t,"class","nonconformant-columns svelte-1hlltog")},m(e,l){L(e,t,l),O(t,n),O(n,r),O(n,o),O(t,s),O(t,i);for(let t=0;t<u.length;t+=1)u[t].m(i,null);a=!0},p(e,t){if((!a||16384&t[0])&&l!==(l=e[14]("record_summary_non_conformant_columns_help")+"")&&G(r,l),16512&t[0]|1024&t[1]){let n;for(c=e[7],n=0;n<c.length;n+=1){const r=O8(e,c,n);u[n]?(u[n].p(r,t),je(u[n],1)):(u[n]=Y8(r),u[n].c(),je(u[n],1),u[n].m(i,null))}for(ze(),n=c.length;n<u.length;n+=1)d(n);Fe()}},i(e){if(!a){for(let e=0;e<c.length;e+=1)je(u[e]);a=!0}},o(e){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)qe(u[t]);a=!1},d(e){e&&P(t),R(u,e)}}}function G8(e){let t,n,r=e[14]("no_record_summary_available")+"";return{c(){t=H("span"),n=F(r),U(t,"class","null-text svelte-1hlltog")},m(e,r){L(e,t,r),O(t,n)},p(e,t){16384&t[0]&&r!==(r=e[14]("no_record_summary_available")+"")&&G(n,r)},d(e){e&&P(t)}}}function X8(e){let t,n,r,o;const s=[A8,N8],i=[];function a(e,t){return e[15]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","record-summary-config")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function Z8(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L,P,R,H=o,z=o,F=o,j=o,q=o,V=o,B=o,W=o;m(e,Mg,(e=>n(14,E=e))),m(e,$M,(e=>n(33,N=e))),m(e,kS,(e=>n(34,A=e))),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>W()));let{table:U}=t,{tabularData:Y}=t;const K=cb();m(e,K,(e=>n(29,I=e)));return e.$$set=e=>{"table"in e&&n(0,U=e.table),"tabularData"in e&&n(20,Y=e.tabularData)},e.$$.update=()=>{8&e.$$.dirty[1]&&n(22,r=A),4&e.$$.dirty[1]&&n(21,s=N),1048576&e.$$.dirty[0]&&n(27,({recordsData:i,columnsDataStore:a,isLoading:l}=Y),i,(n(28,a),n(20,Y)),(n(13,l),V(),V=p(l,(e=>n(15,L=e))),l)),268435456&e.$$.dirty[0]&&(n(12,({columns:c}=a),c),j(),j=p(c,(e=>n(5,M=e)))),134217728&e.$$.dirty[0]&&(n(11,({savedRecords:u,recordSummaries:d}=i),u,(n(10,d),z(),z=p(d,(e=>n(30,T=e))),d)),q(),q=p(u,(e=>n(32,O=e)))),2&e.$$.dirty[1]&&n(23,$=O[0]),1&e.$$.dirty[0]&&n(26,f=U.settings.preview_settings.customized??!1),1&e.$$.dirty[0]&&n(25,h=U.settings.preview_settings.template??""),67108864&e.$$.dirty[0]&&(n(4,g=IO(f)),B(),B=p(g,(e=>n(16,P=e)))),16&e.$$.dirty[0]&&(n(9,y=g.disabled),W(),W=p(y,(e=>n(17,R=e)))),33554464&e.$$.dirty[0]&&(n(3,v=kO(h,[w8(M)])),F(),F=p(v,(e=>n(31,D=e)))),24&e.$$.dirty[0]&&(n(8,b=DO({customized:g,template:v})),H(),H=p(b,(e=>n(37,k=e)))),32&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(24,w=b8(M,D)),16777216&e.$$.dirty[0]&&n(7,_=w.filter((e=>!v8(e)))),1082130432&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(1,x=(()=>{if(!$)return;const{record:e}=$;return function({template:e,record:t,transitiveData:n}){const r=Object.entries(t).map((([e,t])=>[Number(e),t]));return bC({template:e,inputData:vC(r),transitiveData:n})}({template:D,record:e,transitiveData:T})})()),543162368&e.$$.dirty[0]&&n(2,S=I?.hasPermission({database:r,schema:s},"canEditMetadata")),6&e.$$.dirty[0]&&n(6,C=!S&&!x)},[U,x,S,v,g,M,C,_,b,y,d,u,c,l,E,L,P,R,K,async function(){try{await function(e,t){const{customized:n}=t;return JO(e,{preview_settings:n?t:{customized:n}})}(U,k.values)}catch(e){Cv.error(`${E("unable_to_save_changes")} ${rc(e)}`)}},Y,s,r,$,w,h,f,i,a,I,T,D,O,N,A,e=>E(e?"custom":"default"),function(e){P=e,g.set(P)}]}class J8 extends at{constructor(e){super(),it(this,e,Z8,X8,d,{table:0,tabularData:20},null,[-1,-1])}}function Q8(e){let t,n;return t=new J8({props:{table:e[0],tabularData:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.table=e[0]),2&n&&(r.tabularData=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function e5(e,t,n){let r,o,s;m(e,NS,(e=>n(3,s=e)));let{table:i}=t;return e.$$set=e=>{"table"in e&&n(0,i=e.table)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=s.data),5&e.$$.dirty&&n(1,o=new xN({id:i.id,abstractTypesMap:r,meta:new aE({pagination:new jC({size:1})}),table:i}))},[i,o,r,s]}class t5 extends at{constructor(e){super(),it(this,e,e5,Q8,d,{table:0})}}function n5(e,t,n){const r=e.slice();return r[16]=t[n],r}function r5(e){let t,n,r,o,s,i,a;function l(t){e[15](t)}var c=e[6];function u(e){let t={disabled:e[5],autofocus:!0};return void 0!==e[2]&&(t.value=e[2]),{props:t}}c&&(n=new c(u(e)),we.push((()=>nt(n,"value",l))));let d=e[3].length&&s5(e);return i=new ao({props:{onProceed:e[11],onCancel:e[10],isProcessing:e[5],canProceed:e[7],proceedButton:{label:e[8]("save")},size:"small"}}),{c(){t=H("div"),n&&rt(n.$$.fragment),o=j(),d&&d.c(),s=j(),rt(i.$$.fragment),U(t,"class","input-container svelte-1f8sel4")},m(e,r){L(e,t,r),n&&ot(n,t,null),O(t,o),d&&d.m(t,null),O(t,s),ot(i,t,null),a=!0},p(e,a){const p={};if(32&a&&(p.disabled=e[5]),!r&&4&a&&(r=!0,p.value=e[2],Te((()=>r=!1))),c!==(c=e[6])){if(n){ze();const e=n;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}c?(n=new c(u(e)),we.push((()=>nt(n,"value",l))),rt(n.$$.fragment),je(n.$$.fragment,1),ot(n,t,o)):n=null}else c&&n.$set(p);e[3].length?d?d.p(e,a):(d=s5(e),d.c(),d.m(t,s)):d&&(d.d(1),d=null);const $={};32&a&&($.isProcessing=e[5]),128&a&&($.canProceed=e[7]),256&a&&($.proceedButton={label:e[8]("save")}),i.$set($)},i(e){a||(n&&je(n.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){n&&qe(n.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),n&&st(n),d&&d.d(),st(i)}}}function o5(e){let t,n,r;var o=e[6];function s(e){return{props:{value:e[0],disabled:e[1]}}}return o&&(t=new o(s(e)),t.$on("focus",e[9])),{c(){t&&rt(t.$$.fragment),n=q()},m(e,o){t&&ot(t,e,o),L(e,n,o),r=!0},p(e,r){const i={};if(1&r&&(i.value=e[0]),2&r&&(i.disabled=e[1]),o!==(o=e[6])){if(t){ze();const e=t;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}o?(t=new o(s(e)),t.$on("focus",e[9]),rt(t.$$.fragment),je(t.$$.fragment,1),ot(t,n.parentNode,n)):t=null}else o&&t.$set(i)},i(e){r||(t&&je(t.$$.fragment,e),r=!0)},o(e){t&&qe(t.$$.fragment,e),r=!1},d(e){e&&P(n),t&&st(t,e)}}}function s5(e){let t,n=e[3],r=[];for(let o=0;o<n.length;o+=1)r[o]=i5(n5(e,n,o));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);L(e,t,n)},p(e,o){if(8&o){let s;for(n=e[3],s=0;s<n.length;s+=1){const i=n5(e,n,s);r[s]?r[s].p(i,o):(r[s]=i5(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){R(r,e),e&&P(t)}}}function i5(e){let t,n,r=e[16]+"";return{c(){t=H("span"),n=F(r),U(t,"class","error svelte-1f8sel4")},m(e,r){L(e,t,r),O(t,n)},p(e,t){8&t&&r!==(r=e[16]+"")&&G(n,r)},d(e){e&&P(t)}}}function a5(e){let t,n,r,o;const s=[o5,r5],i=[];function a(e,t){return!e[4]||e[1]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","editable-text svelte-1f8sel4")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function l5(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(8,i=e)));let{initialValue:a=""}=t,{onSubmit:l}=t,{getValidationErrors:c=(()=>[])}=t,{isLongText:u=!1}=t,{disabled:d=!1}=t,p=!1,$="",f=!1;return e.$$set=e=>{"initialValue"in e&&n(0,a=e.initialValue),"onSubmit"in e&&n(12,l=e.onSubmit),"getValidationErrors"in e&&n(13,c=e.getValidationErrors),"isLongText"in e&&n(14,u=e.isLongText),"disabled"in e&&n(1,d=e.disabled)},e.$$.update=()=>{8197&e.$$.dirty&&n(3,r=$===a?[]:c($)),13&e.$$.dirty&&n(7,o=0===r.length&&$!==a),16384&e.$$.dirty&&n(6,s=u?Yl:qi)},[a,d,$,r,p,f,s,o,i,function(){n(2,$=a),n(4,p=!0)},function(){n(2,$=""),n(4,p=!1)},async function(){n(5,f=!0);try{await l($),n(2,$=""),n(4,p=!1)}catch(e){Cv.error(rc(e))}finally{n(5,f=!1)}},l,c,u,function(e){$=e,n(2,$)}]}class c5 extends at{constructor(e){super(),it(this,e,l5,a5,d,{initialValue:0,onSubmit:12,getValidationErrors:13,isLongText:14,disabled:1})}}function u5(e){let t,n,r,o,s,i,a,l,c,u,d,p,$=e[3]("name")+"",m=e[3]("description")+"";return s=new c5({props:{initialValue:e[0].column.name,onSubmit:e[5],getValidationErrors:e[4],disabled:!e[1]}}),d=new c5({props:{initialValue:e[0].column.description??"",onSubmit:e[6],isLongText:!0,disabled:!e[1]}}),{c(){t=H("div"),n=H("span"),r=F($),o=j(),rt(s.$$.fragment),i=j(),a=H("div"),l=H("span"),c=F(m),u=j(),rt(d.$$.fragment),U(t,"class","column-property column-name svelte-1si0cj8"),U(a,"class","column-property column-description svelte-1si0cj8")},m(e,$){L(e,t,$),O(t,n),O(n,r),O(t,o),ot(s,t,null),L(e,i,$),L(e,a,$),O(a,l),O(l,c),O(a,u),ot(d,a,null),p=!0},p(e,[t]){(!p||8&t)&&$!==($=e[3]("name")+"")&&G(r,$);const n={};1&t&&(n.initialValue=e[0].column.name),2&t&&(n.disabled=!e[1]),s.$set(n),(!p||8&t)&&m!==(m=e[3]("description")+"")&&G(c,m);const o={};1&t&&(o.initialValue=e[0].column.description??""),2&t&&(o.disabled=!e[1]),d.$set(o)},i(e){p||(je(s.$$.fragment,e),je(d.$$.fragment,e),p=!0)},o(e){qe(s.$$.fragment,e),qe(d.$$.fragment,e),p=!1},d(e){e&&P(t),st(s),e&&P(i),e&&P(a),st(d)}}}function d5(e,t,n){let r,s,i,a=o;m(e,Mg,(e=>n(3,s=e))),e.$$.on_destroy.push((()=>a()));let{column:l}=t,{columnsDataStore:c}=t,{canExecuteDDL:u}=t;return e.$$set=e=>{"column"in e&&n(0,l=e.column),"columnsDataStore"in e&&n(7,c=e.columnsDataStore),"canExecuteDDL"in e&&n(1,u=e.canExecuteDDL)},e.$$.update=()=>{128&e.$$.dirty&&(n(2,({columns:r}=c),r),a(),a=p(r,(e=>n(8,i=e))))},[l,u,r,s,function(e){return e===l.column.name?[]:e?i.map((e=>e.name)).includes(e)?[s("column_name_already_exists")]:[]:[s("column_name_cannot_be_empty")]},async function(e){try{await c.rename(l.id,e)}catch($h){Cv.error(`${s("unable_to_rename_column")} ${rc($h)}`)}},async function(e){try{await c.updateDescription(l.id,e??null)}catch($h){Cv.error(`${s("unable_to_update_column_desc")} ${rc($h)}`)}},c]}class p5 extends at{constructor(e){super(),it(this,e,d5,u5,d,{column:0,columnsDataStore:7,canExecuteDDL:1})}}function $5(e){let t;const n=e[1].default,r=f(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&y(r,n,e,e[2],t?g(n,e[2],o,null):v(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function m5(e){let t,n,r;return n=new MM({props:{icon:Wy,fullWidth:e[0],$$slots:{default:[$5]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","outcome-box svelte-siey9s")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};1&t&&(r.fullWidth=e[0]),4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function f5(e,t,n){let{$$slots:r={},$$scope:o}=t,{fullWidth:s=!0}=t;return e.$$set=e=>{"fullWidth"in e&&n(0,s=e.fullWidth),"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class h5 extends at{constructor(e){super(),it(this,e,f5,m5,d,{fullWidth:0})}}function g5(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.values=e[0]),t=new vl({props:s}),we.push((()=>nt(t,"values",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),!n&&1&r&&(n=!0,o.values=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function y5(e,t,n){let{options:r}=t,{value:o=[]}=t;return e.$$set=e=>{"options"in e&&n(1,r=e.options),"value"in e&&n(0,o=e.value)},[o,r,function(e){return{component:xA,props:{processedColumn:e}}},function(e){o=e,n(0,o)}]}class v5 extends at{constructor(e){super(),it(this,e,y5,g5,d,{options:1,value:0})}}function b5({constraints:e,columns:t,tables:n}){return e.map((e=>wN(e)?function({fkConstraint:e,columns:t,tables:n}){const r=n.get(e.referent_table);if(r)return{constraint:e,table:r,columns:e.columns.map((e=>t.get(e))).filter(Ot)}}({fkConstraint:e,columns:t,tables:n}):void 0)).filter(Ot)}function w5(e,t,n){const r=e.slice();return r[5]=t[n],r}function _5(e){let t,n,r=e[1],o=[];for(let i=0;i<r.length;i+=1)o[i]=x5(w5(e,r,i));const s=e=>qe(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=q()},m(e,r){for(let t=0;t<o.length;t+=1)o[t].m(e,r);L(e,t,r),n=!0},p(e,n){if(2&n){let i;for(r=e[1],i=0;i<r.length;i+=1){const s=w5(e,r,i);o[i]?(o[i].p(s,n),je(o[i],1)):(o[i]=x5(s),o[i].c(),je(o[i],1),o[i].m(t.parentNode,t))}for(ze(),i=r.length;i<o.length;i+=1)s(i);Fe()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)je(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)qe(o[t]);n=!1},d(e){R(o,e),e&&P(t)}}}function x5(e){let t,n;return t=new xA({props:{processedColumn:e[5],truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.processedColumn=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function S5(e){let t,n,r="columnComponent"===e[4]&&_5(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"columnComponent"===e[4]?r?(r.p(e,n),16&n&&je(r,1)):(r=_5(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function C5(e){let t,n,r,o,s,i,a;return r=new gw({props:{table:e[0],bold:!0,truncate:!1}}),i=new Kg({props:{text:e[2]("via_column_component"),$$slots:{default:[S5,({slotName:e})=>({4:e}),({slotName:e})=>e?16:0]},$$scope:{ctx:e}}}),{c(){t=H("span"),n=H("span"),rt(r.$$.fragment),o=j(),s=H("span"),rt(i.$$.fragment),U(n,"class","table"),U(s,"class","columns"),U(t,"class","linked-table-name")},m(e,l){L(e,t,l),O(t,n),ot(r,n,null),O(t,o),O(t,s),ot(i,s,null),a=!0},p(e,[t]){const n={};1&t&&(n.table=e[0]),r.$set(n);const o={};4&t&&(o.text=e[2]("via_column_component")),274&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){a||(je(r.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(r.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(r),st(i)}}}function E5(e,t,n){let r,o,s;m(e,Mg,(e=>n(2,s=e)));let{linkedTable:i}=t;return e.$$set=e=>{"linkedTable"in e&&n(3,i=e.linkedTable)},e.$$.update=()=>{8&e.$$.dirty&&n(1,({columns:r,table:o}=i),r,(n(0,o),n(3,i)))},[o,r,s,i]}class k5 extends at{constructor(e){super(),it(this,e,E5,C5,d,{linkedTable:3})}}function I5(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],getLabel:e[2]};return void 0!==e[0]&&(s.value=e[0]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function T5(e,t,n){let{linkedTables:r}=t,{value:o}=t;return e.$$set=e=>{"linkedTables"in e&&n(1,r=e.linkedTables),"value"in e&&n(0,o=e.value)},[o,r,function(e){return void 0===e?"":{component:k5,props:{linkedTable:e}}},function(e){o=e,n(0,o)}]}class D5 extends at{constructor(e){super(),it(this,e,T5,I5,d,{linkedTables:1,value:0})}}function M5(e){let t,n,r,o,s,i,a=e[1]("linked_via_foreign_key_column")+"";return s=new uw({props:{icon:Qy,name:e[0],truncate:!1,bold:!0}}),{c(){t=H("span"),n=F(a),r=F(":"),o=j(),rt(s.$$.fragment)},m(e,a){L(e,t,a),O(t,n),O(t,r),L(e,o,a),ot(s,e,a),i=!0},p(e,[t]){(!i||2&t)&&a!==(a=e[1]("linked_via_foreign_key_column")+"")&&G(n,a);const r={};1&t&&(r.name=e[0]),s.$set(r)},i(e){i||(je(s.$$.fragment,e),i=!0)},o(e){qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),e&&P(o),st(s,e)}}}function O5(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{newFkColumnName:o}=t;return e.$$set=e=>{"newFkColumnName"in e&&n(0,o=e.newFkColumnName)},[o,r]}class N5 extends at{constructor(e){super(),it(this,e,O5,M5,d,{newFkColumnName:0})}}function A5(e){let t,n;return t=new yO({props:{field:e[3],input:{component:D5,props:{linkedTables:e[12]}},label:e[8]("linked_table"),layout:"stacked"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.field=e[3]),4096&n[0]&&(r.input={component:D5,props:{linkedTables:e[12]}}),256&n[0]&&(r.label=e[8]("linked_table")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function L5(e){let t,n;return t=new yO({props:{field:e[5],label:e[8]("name_of_new_table"),layout:"stacked",$$slots:{help:[H5]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.field=e[5]),256&n[0]&&(r.label=e[8]("name_of_new_table")),131328&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function P5(e){let t,n;return t=new gw({props:{table:e[17],truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.table=e[17]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function R5(e){let t,n,r="tableName"===e[37]&&P5(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=P5(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function H5(e){let t,n,r;return n=new Kg({props:{text:e[8]("new_table_that_will_be_linked_to_table"),$$slots:{default:[R5,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","help")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};256&t[0]&&(r.text=e[8]("new_table_that_will_be_linked_to_table")),131072&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function z5(e){let t,n;return t=new gw({props:{table:{name:e[1]},truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.table={name:e[1]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F5(e){let t,n,r="targetTableName"===e[37]&&z5(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"targetTableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=z5(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function j5(e){let t,n,r;return n=new Kg({props:{text:e[11],$$slots:{default:[F5,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","help")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};2048&t[0]&&(r.text=e[11]),2&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function q5(e){let t,n;return t=new gw({props:{table:{name:e[1]},truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.table={name:e[1]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function V5(e){let t,n;return t=new gw({props:{table:e[17],truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.table=e[17]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function B5(e){let t,n,r,o;const s=[V5,q5],i=[];function a(e,t){return"tableName"===e[37]?0:"targetTableName"===e[37]&&e[1]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function W5(e){let t,n,r,o,s;return n=new Kg({props:{text:e[8]("new_column_added_to_table"),$$slots:{default:[Y5,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}}),o=new yO({props:{field:e[4],label:e[8]("column_name")}}),{c(){t=H("p"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,i){L(e,t,i),ot(n,t,null),L(e,r,i),ot(o,e,i),s=!0},p(e,t){const r={};256&t[0]&&(r.text=e[8]("new_column_added_to_table")),131072&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};16&t[0]&&(s.field=e[4]),256&t[0]&&(s.label=e[8]("column_name")),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),e&&P(r),st(o,e)}}}function U5(e){let t,n;return t=new gw({props:{table:e[17],truncate:!1,bold:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131072&n[0]&&(r.table=e[17]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Y5(e){let t,n,r="tableName"===e[37]&&U5(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[37]?r?(r.p(e,n),64&n[1]&&je(r,1)):(r=U5(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function K5(e){let t,n,r,o,s;n=new Kg({props:{text:e[1]?e[8]("columns_removed_from_table_added_to_target",{values:{count:e[9].length}}):e[8]("columns_removed_from_table_added_to_new_table",{values:{count:e[9].length}}),$$slots:{default:[B5,({slotName:e})=>({37:e}),({slotName:e})=>[0,e?64:0]]},$$scope:{ctx:e}}});let i="newTable"===e[7]&&W5(e);return{c(){t=H("p"),rt(n.$$.fragment),r=j(),i&&i.c(),o=q()},m(e,a){L(e,t,a),ot(n,t,null),L(e,r,a),i&&i.m(e,a),L(e,o,a),s=!0},p(e,t){const r={};770&t[0]&&(r.text=e[1]?e[8]("columns_removed_from_table_added_to_target",{values:{count:e[9].length}}):e[8]("columns_removed_from_table_added_to_new_table",{values:{count:e[9].length}})),131074&t[0]|192&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r),"newTable"===e[7]?i?(i.p(e,t),128&t[0]&&je(i,1)):(i=W5(e),i.c(),je(i,1),i.m(o.parentNode,o)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){s||(je(n.$$.fragment,e),je(i),s=!0)},o(e){qe(n.$$.fragment,e),qe(i),s=!1},d(e){e&&P(t),st(n),e&&P(r),i&&i.d(e),e&&P(o)}}}function G5(e){let t,n;return t=new h5({props:{$$slots:{default:[K5]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};131986&n[0]|128&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function X5(e){let t,n,r,o,s,i,a;const l=[L5,A5],c=[];function u(e,t){return"newTable"===e[7]?0:1}return t=u(e),n=c[t]=l[t](e),o=new yO({props:{field:e[2],input:{component:v5,props:{options:e[6]}},label:"newTable"===e[7]?e[8]("columns_to_extract"):e[8]("columns_to_move"),layout:"stacked",$$slots:{help:[j5]},$$scope:{ctx:e}}}),i=new eO({props:{$$slots:{default:[G5]},$$scope:{ctx:e}}}),{c(){n.c(),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment)},m(e,n){c[t].m(e,n),L(e,r,n),ot(o,e,n),L(e,s,n),ot(i,e,n),a=!0},p(e,s){let a=t;t=u(e),t===a?c[t].p(e,s):(ze(),qe(c[a],1,1,(()=>{c[a]=null})),Fe(),n=c[t],n?n.p(e,s):(n=c[t]=l[t](e),n.c()),je(n,1),n.m(r.parentNode,r));const d={};4&s[0]&&(d.field=e[2]),64&s[0]&&(d.input={component:v5,props:{options:e[6]}}),384&s[0]&&(d.label="newTable"===e[7]?e[8]("columns_to_extract"):e[8]("columns_to_move")),2050&s[0]|128&s[1]&&(d.$$scope={dirty:s,ctx:e}),o.$set(d);const p={};131986&s[0]|128&s[1]&&(p.$$scope={dirty:s,ctx:e}),i.$set(p)},i(e){a||(je(n),je(o.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(n),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){c[t].d(e),e&&P(r),st(o,e),e&&P(s),st(i,e)}}}function Z5(e){let t,n=e[8]("extract_columns_to_new_table",{values:{count:e[9].length}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){768&r[0]&&n!==(n=e[8]("extract_columns_to_new_table",{values:{count:e[9].length}})+"")&&G(t,n)},d(e){e&&P(t)}}}function J5(e){let t,n=e[8]("move_columns_to_linked_table",{values:{count:e[9].length}})+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){768&r[0]&&n!==(n=e[8]("move_columns_to_linked_table",{values:{count:e[9].length}})+"")&&G(t,n)},d(e){e&&P(t)}}}function Q5(e){let t;function n(e,t){return"existingTable"===e[7]?J5:Z5}let r=n(e),o=r(e);return{c(){t=H("span"),o.c(),U(t,"slot","title")},m(e,n){L(e,t,n),o.m(t,null)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),o=r(e),o&&(o.c(),o.m(t,null)))},d(e){e&&P(t),o.d()}}}function e7(e){let t,n;return t=new xO({props:{form:e[14],slot:"footer",proceedButton:{label:e[13]},onProceed:e[20],onCancel:e[31]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16384&n[0]&&(r.form=e[14]),8192&n[0]&&(r.proceedButton={label:e[13]}),1&n[0]&&(r.onCancel=e[31]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function t7(e){let t,n;return t=new Sp({props:{controller:e[0],$$slots:{footer:[e7],title:[Q5],default:[X5]},$$scope:{ctx:e}}}),t.$on("close",(function(){u(e[14].reset)&&e[14].reset.apply(this,arguments)})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};1&r[0]&&(o.controller=e[0]),162815&r[0]|128&r[1]&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n7(e,t,n){let r,s,i,a,l,c,u,d,f,h,g,y,v,b,w,_,x,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z=o,F=o,j=o,q=o,V=o,B=o,W=o,U=o;m(e,Mg,(e=>n(8,I=e))),m(e,UO,(e=>n(27,L=e))),m(e,KO,(e=>n(29,R=e))),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U()));const Y=EN();m(e,Y,(e=>n(25,D=e)));let{controller:K}=t;return e.$$set=e=>{"controller"in e&&n(0,K=e.controller)},e.$$.update=()=>{var t;33554432&e.$$.dirty[0]&&(n(10,({processedColumns:r,constraintsDataStore:s,selection:i,table:a}=D),r,(n(18,s),U(),U=p(s,(e=>n(30,H=e))),s),(n(17,a),n(25,D))),W(),W=p(r,(e=>n(28,P=e)))),1073741824&e.$$.dirty[0]&&n(22,({constraints:l}=H),l),268435456&e.$$.dirty[0]&&n(6,c=[...P.values()]),1&e.$$.dirty[0]&&(n(16,({targetType:u,columns:d,isOpen:f}=K),u,(n(2,d),q(),q=p(d,(e=>n(9,O=e))),d),(n(15,f),B(),B=p(f,(e=>n(34,A=e))),f)),z(),z=p(u,(e=>n(7,k=e)))),512&e.$$.dirty[0]&&n(23,h=new Set(O.map((e=>e.column.name)))),8388672&e.$$.dirty[0]&&n(21,g=c.map((e=>e.column)).filter((e=>!h.has(e.name)))),536870912&e.$$.dirty[0]&&(n(5,v=IO("",[R])),V(),V=p(v,(e=>n(26,N=e)))),2097152&e.$$.dirty[0]&&(n(4,b=IO("",[fA(g)])),j(),j=p(b,(e=>n(33,M=e)))),83886208&e.$$.dirty[0]&&n(1,w="newTable"===k?N:T?.table.name??""),188&e.$$.dirty[0]&&n(14,_="newTable"===k?DO({columns:d,tableName:v,newFkColumnName:b}):DO({columns:d,linkedTable:y},[CM([y,d],(e=>function(e,t){const n=t.find((t=>e.columns.some((e=>e.id===t.id))));return n?fM((r=n.column.name,o=e.table.name,$(Mg)("cannot_move_linked_column_to_linked_table",{values:{columnName:r,tableName:o}}))):{type:"valid"};var r,o}(...e)))])),384&e.$$.dirty[0]&&n(13,x=I("existingTable"===k?"move_columns":"create_table_move_columns")),406847488&e.$$.dirty[0]&&n(12,C=b5({constraints:l,columns:P,tables:L.data})),386&e.$$.dirty[0]&&n(11,E=I("existingTable"===k?w?"select_columns_move_into_table":"select_columns_move":w?"select_columns_extract_into_table":"select_columns_extract")),69206016&e.$$.dirty[0]&&S(b,M=mA({name:N},g),M),512&e.$$.dirty[0]&&(t=O,A&&0!==t.length&&i.intersectSelectedRowsWithGivenColumns(t))},n(3,y=IO(void 0)),F(),F=p(y,(e=>n(24,T=e))),[K,w,d,y,b,v,c,k,I,O,r,E,C,x,_,f,u,a,s,Y,async function(){const e=M,t=N,n=[],o=O,s=o.map((e=>e.id));try{if("existingTable"===k){const e=T?.table.id;if(!e)throw new Error(I("no_target_table_selected"));await function(e,t,n){return Uv(`/api/db/v0/tables/${e}/move_columns/`,{move_columns:t,target_table:n})}(D.id,s,e);const t=T?.columns??[];let r;1===t.length&&(r=t[0].column.id),n.push(D.refreshAfterColumnExtraction(s,r))}else{const e=await function({id:e,idsOfColumnsToExtract:t,extractedTableName:n,newFkColumnName:r}){return Uv(`/api/db/v0/tables/${e}/split_table/`,{extract_columns:t,extracted_table_name:n,relationship_fk_column_name:r})}({id:D.id,idsOfColumnsToExtract:s,extractedTableName:t,newFkColumnName:M});n.push(VO(e.extracted_table)),n.push(D.refreshAfterColumnExtraction(s,e.fk_column))}if("newTable"===k)Cv.success({title:I("new_table_created_with_extracted_column",{values:{count:o.length,newTableName:t}}),contentComponent:N5,contentComponentProps:{newFkColumnName:e}});else{const e=o.map((e=>e.column.name)),t=T?.table.name??"";let n;n=1===e.length?I("column_moved_to_table",{values:{columnName:e[0],tableName:t}}):I("columns_moved_to_table",{values:{columnNames:e.join(","),tableName:t}}),Cv.success(n)}if(K.close(),await Promise.all(n),"newTable"===k){const e=[...$(r).values()].slice(-1)[0];i.toggleColumnSelection(e),await ke(),zk(document.querySelector('[data-sheet-element="cell"].is-selected'))}}catch(a){Cv.error(rc(a))}},g,l,h,T,D,N,L,P,R,H,()=>K.close()]}class r7 extends at{constructor(e){super(),it(this,e,n7,t7,d,{controller:0},null,[-1,-1])}}class o7 extends Wd{constructor(...t){super(...t),e(this,"targetType",mt("newTable")),e(this,"columns",IO([],[gM((e=>e.some((e=>e.column.primary_key))),$(Mg)("primary_key_column_cannot_be_moved"))]))}}function s7(e){let t,n,r,o,s,a,l,c,u,d=e[4]("extract_columns_to_new_table",{values:{count:e[0].length}})+"";const p=[fy];let $={};for(let h=0;h<p.length;h+=1)$=i($,p[h]);r=new Kr({props:$});const m=[Sr];let f={};for(let h=0;h<m.length;h+=1)f=i(f,m[h]);return c=new Kr({props:f}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("span"),a=F(d),l=j(),rt(c.$$.fragment),U(t,"class","action-item svelte-lo2o6r")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),O(n,s),O(s,a),O(t,l),ot(c,t,null),u=!0},p(e,t){const n=0&t?et(p,[tt(fy)]):{};r.$set(n),(!u||17&t)&&d!==(d=e[4]("extract_columns_to_new_table",{values:{count:e[0].length}})+"")&&G(a,d);const o=0&t?et(m,[tt(Sr)]):{};c.$set(o)},i(e){u||(je(r.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(r.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(r),st(c)}}}function i7(e){let t,n;return t=new Hn({props:{$$slots:{default:[a7]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16401&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function a7(e){let t,n,r,o,s,a,l,c,u,d=e[4]("move_columns_to_linked_table",{values:{count:e[0].length}})+"";const p=[hy];let $={};for(let h=0;h<p.length;h+=1)$=i($,p[h]);r=new Kr({props:$});const m=[Sr];let f={};for(let h=0;h<m.length;h+=1)f=i(f,m[h]);return c=new Kr({props:f}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("span"),a=F(d),l=j(),rt(c.$$.fragment),U(t,"class","action-item svelte-lo2o6r")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),O(n,s),O(s,a),O(t,l),ot(c,t,null),u=!0},p(e,t){const n=0&t?et(p,[tt(hy)]):{};r.$set(n),(!u||17&t)&&d!==(d=e[4]("move_columns_to_linked_table",{values:{count:e[0].length}})+"")&&G(a,d);const o=0&t?et(m,[tt(Sr)]):{};c.$set(o)},i(e){u||(je(r.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(r.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(r),st(c)}}}function l7(e){let t,n;return t=new Hn({props:{appearance:"outline-primary",$$slots:{default:[c7]},$$scope:{ctx:e}}}),t.$on("click",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16400&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c7(e){let t,n,r,o,s,a=e[4]("delete_column")+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("delete_column")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function u7(e){let t,n,r,o,s,i,a;n=new Hn({props:{$$slots:{default:[s7]},$$scope:{ctx:e}}}),n.$on("click",e[8]);let l=e[1]&&i7(e),c=e[2]&&l7(e);return i=new r7({props:{controller:e[6]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),l&&l.c(),o=j(),c&&c.c(),s=j(),rt(i.$$.fragment),U(t,"class","actions-container svelte-lo2o6r")},m(e,u){L(e,t,u),ot(n,t,null),O(t,r),l&&l.m(t,null),O(t,o),c&&c.m(t,null),L(e,s,u),ot(i,e,u),a=!0},p(e,[r]){const s={};16401&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),e[1]?l?(l.p(e,r),2&r&&je(l,1)):(l=i7(e),l.c(),je(l,1),l.m(t,o)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()),e[2]?c?(c.p(e,r),4&r&&je(c,1)):(c=l7(e),c.c(),je(c,1),c.m(t,null)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){a||(je(n.$$.fragment,e),je(l),je(c),je(i.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),qe(l),qe(c),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(n),l&&l.d(),c&&c.d(),e&&P(s),st(i,e)}}}function d7(e,t,n){let r,s,i,a,l,c,u,d=o;m(e,Mg,(e=>n(4,l=e))),e.$$.on_destroy.push((()=>d()));const $=EN();m(e,$,(e=>n(11,u=e)));const f=new o7(Sv.getPropsForNewModal());let{columns:h}=t;function g(e){Tv({identifierType:l("column"),identifierName:e.column.name,body:[l("all_objects_related_to_column_affected"),l("could_break_tables_views"),l("are_you_sure_to_proceed")],onProceed:()=>s.deleteColumn(e.id)})}return e.$$set=e=>{"columns"in e&&n(0,h=e.columns)},e.$$.update=()=>{2048&e.$$.dirty&&(n(3,({processedColumns:r,columnsDataStore:s}=u),r),d(),d=p(r,(e=>n(10,c=e)))),1&e.$$.dirty&&n(2,i=1===h.length?h[0]:void 0),1024&e.$$.dirty&&n(1,a=[...c].some((([,e])=>e.linkFk)))},[h,a,i,r,l,$,f,g,function(){f.targetType.set("newTable"),f.columns.set(h),f.open()},function(){f.targetType.set("existingTable"),f.columns.set(h),f.open()},c,u,()=>i&&g(i)]}class p7 extends at{constructor(e){super(),it(this,e,d7,u7,d,{columns:0})}}function $7(e){let t,n;return t=new go({props:{disabled:e[2]||!e[0],checked:!e[3]}}),t.$on("change",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};5&n&&(r.disabled=e[2]||!e[0]),8&n&&(r.checked=!e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function m7(e){let t,n;const r=[{class:"opt"},Tr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(Tr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f7(e){let t,n,r,o;const s=[m7,$7],i=[];function a(e,t){return e[2]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function h7(e){let t,n=e[6]("restrict_to_unique_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("restrict_to_unique_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function g7(e){let t,n,r,o,s,i=e[6]("restrict_to_unique")+"";return o=new Ni({props:{$$slots:{default:[h7]},$$scope:{ctx:e}}}),{c(){t=H("span"),n=F(i),r=j(),rt(o.$$.fragment),U(t,"slot","label")},m(e,i){L(e,t,i),O(t,n),O(t,r),ot(o,t,null),s=!0},p(e,t){(!s||64&t)&&i!==(i=e[6]("restrict_to_unique")+"")&&G(n,i);const r={};32832&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(o)}}}function y7(e){let t,n;return t=new go({props:{disabled:e[1]||!e[0],checked:!e[4]}}),t.$on("change",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.disabled=e[1]||!e[0]),16&n&&(r.checked=!e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function v7(e){let t,n;const r=[{class:"opt"},Tr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[r[0],tt(Tr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function b7(e){let t,n,r,o;const s=[v7,y7],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function w7(e){let t;return{c(){t=H("span"),t.textContent="NULL",U(t,"class","null svelte-v295ge")},m(e,n){L(e,t,n)},d(e){e&&P(t)}}}function _7(e){let t,n="null"===e[14]&&w7();return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"null"===e[14]?n||(n=w7(),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function x7(e){let t,n=e[6]("disallow_null_values_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("disallow_null_values_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function S7(e){let t,n,r,o,s;return n=new Kg({props:{text:e[6]("disallow_null_values"),$$slots:{default:[_7,({slotName:e})=>({14:e}),({slotName:e})=>e?16384:0]},$$scope:{ctx:e}}}),o=new Ni({props:{$$slots:{default:[x7]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"slot","label")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r={};64&t&&(r.text=e[6]("disallow_null_values")),49152&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};32832&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function C7(e){let t,n,r,o,s;return n=new Mo({props:{layout:"inline-input-first",$$slots:{label:[g7],default:[f7]},$$scope:{ctx:e}}}),o=new Mo({props:{layout:"inline-input-first",$$slots:{label:[S7],default:[b7]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","column-options svelte-v295ge")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,[t]){const r={};32845&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};32851&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function E7(e,t,n){let r,s,i,a,l,c=o;m(e,Mg,(e=>n(6,a=e))),e.$$.on_destroy.push((()=>c()));let{column:u}=t,{columnsDataStore:d}=t,{constraintsDataStore:$}=t,{canExecuteDDL:f}=t,h=!1,g=!1;const y=fe();return e.$$set=e=>{"column"in e&&n(9,u=e.column),"columnsDataStore"in e&&n(10,d=e.columnsDataStore),"constraintsDataStore"in e&&n(11,$=e.constraintsDataStore),"canExecuteDDL"in e&&n(0,f=e.canExecuteDDL)},e.$$.update=()=>{512&e.$$.dirty&&n(4,r=u.column.nullable),2048&e.$$.dirty&&(n(5,({uniqueColumns:s}=$),s),c(),c=p(s,(e=>n(12,l=e)))),4608&e.$$.dirty&&n(3,i=!(u.column.primary_key||l.has(u.id)))},[f,h,g,i,r,s,a,async function(){n(1,h=!0);try{const e=!r;await d.setNullabilityOfColumn(u.column,e);const t=a(e?"column_will_allow_null":"column_will_not_allow_null",{values:{columnName:u.column.name}});Cv.success(t),y("close")}catch($h){const t=a("unable_to_update_allow_null_column",{values:{columnName:u.column.name}});Cv.error(`${t} ${rc($h)}.`)}finally{n(1,h=!1)}},async function(){n(2,g=!0);try{const e=!i;await $.setUniquenessOfColumn(u.column,!e);const t=a(e?"column_will_allow_duplicates":"column_will_not_allow_duplicates",{values:{columnName:u.column.name}});Cv.success(t),y("close")}catch($h){const t=a("unable_to_update_allow_duplicates_column",{values:{columnName:u.column.name}});Cv.error(`${t} ${rc($h)}.`)}finally{n(2,g=!1)}},u,d,$,l]}class k7 extends at{constructor(e){super(),it(this,e,E7,C7,d,{column:9,columnsDataStore:10,constraintsDataStore:11,canExecuteDDL:0})}}function I7(e){let t,n;return t=new gu({props:{options:e[4],value:e[1].max,getLabel:e[5]}}),t.$on("change",e[8]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1].max),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function T7(e){let t,n;return t=new gu({props:{options:e[4],value:e[1].min,getLabel:e[5]}}),t.$on("change",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.value=e[1].min),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function D7(e){let t,n;return{c(){t=H("span"),n=F(e[2]),U(t,"class","svelte-pv7mr1")},m(e,r){L(e,t,r),O(t,n)},p(e,t){4&t&&G(n,e[2])},d(e){e&&P(t)}}}function M7(e){let t,n="format"===e[11]&&D7(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"format"===e[11]?n?n.p(e,r):(n=D7(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function O7(e){let t,n,r,o,s,i,a,l,c;return n=new Mo({props:{label:e[3]("max_time_unit"),layout:"stacked",$$slots:{default:[I7]},$$scope:{ctx:e}}}),s=new Mo({props:{label:e[3]("min_time_unit"),layout:"stacked",$$slots:{default:[T7]},$$scope:{ctx:e}}}),l=new Kg({props:{text:e[3]("format_displayer"),$$slots:{default:[M7,({slotName:e})=>({11:e}),({slotName:e})=>e?2048:0]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("div"),rt(s.$$.fragment),i=j(),a=H("div"),rt(l.$$.fragment),U(t,"class","form-element form-input"),U(o,"class","form-element form-input"),U(a,"class","form-element format svelte-pv7mr1")},m(e,u){L(e,t,u),ot(n,t,null),L(e,r,u),L(e,o,u),ot(s,o,null),L(e,i,u),L(e,a,u),ot(l,a,null),c=!0},p(e,[t]){const r={};8&t&&(r.label=e[3]("max_time_unit")),4098&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};8&t&&(o.label=e[3]("min_time_unit")),4098&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const i={};8&t&&(i.text=e[3]("format_displayer")),6148&t&&(i.$$scope={dirty:t,ctx:e}),l.$set(i)},i(e){c||(je(n.$$.fragment,e),je(s.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),st(n),e&&P(r),e&&P(o),st(s),e&&P(i),e&&P(a),st(l)}}}function N7(e,t,n){let r,s,i,a=o,l=()=>(a(),a=p(c,(e=>n(1,s=e))),c);m(e,Mg,(e=>n(3,i=e))),e.$$.on_destroy.push((()=>a()));let{store:c}=t;l();const u=e_.getAllUnits(),d={d:i("days"),h:i("hours"),m:i("minutes"),s:i("seconds"),ms:i("milliseconds")};function $(e){if(!e)return;let{min:t}=s;u.indexOf(e)>u.indexOf(s.min)&&(t=e),S(c,s={...s,max:e,min:t},s)}function f(e){if(!e)return;let{max:t}=s;u.indexOf(e)<u.indexOf(s.max)&&(t=e),S(c,s={...s,max:t,min:e},s)}return e.$$set=e=>{"store"in e&&l(n(0,c=e.store))},e.$$.update=()=>{2&e.$$.dirty&&n(2,r=new e_(s).getFormattingString())},[c,s,r,i,u,e=>(e&&d[e])??"",$,f,e=>$(e.detail),e=>f(e.detail)]}class A7 extends at{constructor(e){super(),it(this,e,N7,O7,d,{store:0})}}function L7(e){return e?e.values:$t({})}function P7(e){let t,n,r,s,i,a=e[1]("database_type")+"",l=(e[0]??"UNKNOWN")+"";return{c(){t=H("div"),n=F(a),r=F(": "),s=H("span"),i=F(l),U(s,"class","svelte-og216j"),U(t,"class","svelte-og216j")},m(e,o){L(e,t,o),O(t,n),O(t,r),O(t,s),O(s,i)},p(e,[t]){2&t&&a!==(a=e[1]("database_type")+"")&&G(n,a),1&t&&l!==(l=(e[0]??"UNKNOWN")+"")&&G(i,l)},i:o,o:o,d(e){e&&P(t)}}}function R7(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{type:o}=t;return e.$$set=e=>{"type"in e&&n(0,o=e.type)},[o,r]}class H7 extends at{constructor(e){super(),it(this,e,R7,P7,d,{type:0})}}function z7(e){let t,n;return t=new H7({props:{type:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.type=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function F7(e){let t,n,r,o;n=new H7({props:{type:e[0]}});let s=e[1]&&j7(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),s&&s.c(),U(t,"class","type-options svelte-18383vq")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),s&&s.m(t,null),o=!0},p(e,r){const o={};1&r&&(o.type=e[0]),n.$set(o),e[1]?s?(s.p(e,r),2&r&&je(s,1)):(s=j7(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(n.$$.fragment,e),je(s),o=!0)},o(e){qe(n.$$.fragment,e),qe(s),o=!1},d(e){e&&P(t),st(n),s&&s.d()}}}function j7(e){let t,n,r,o;return r=new jm({props:{form:e[1]}}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),U(n,"class","content svelte-18383vq"),U(t,"class","option-form db-opts svelte-18383vq")},m(e,s){L(e,t,s),O(t,n),ot(r,n,null),o=!0},p(e,t){const n={};2&t&&(n.form=e[1]),r.$set(n)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),st(r)}}}function q7(e){let t,n,r,o;const s=[F7,z7],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function V7(e,t,n){let r,s,i,a,l=o;e.$$.on_destroy.push((()=>l()));let{selectedAbstractType:c}=t,{selectedDbType:u}=t,{typeOptions:d}=t,{column:$}=t;const m=Yt();return m.addValidator("AbstractTypeConfigValidator",(()=>{let e=!0;if(s){const t=s.getValidationResult().isValid;e=e&&t}return e})),e.$$set=e=>{"selectedAbstractType"in e&&n(4,c=e.selectedAbstractType),"selectedDbType"in e&&n(0,u=e.selectedDbType),"typeOptions"in e&&n(3,d=e.typeOptions),"column"in e&&n(5,$=e.column)},e.$$.update=()=>{49&e.$$.dirty&&n(6,({dbOptionsConfig:r,dbForm:s,dbFormValues:i}=function(e,t,n){const r=e.getDbConfig?.()??void 0;let o;if(r){const e=n.type===t?r.constructDbFormValuesFromTypeOptions(n.type,n.type_options):{};o=Y$(r.form,e)}return{dbOptionsConfig:r,dbForm:o,dbFormValues:L7(o)}}(c,u,$)),r,(n(1,s),n(4,c),n(0,u),n(5,$)),(n(2,i),l(),l=p(i,(e=>n(7,a=e))),i)),192&e.$$.dirty&&function(e,t){if(t){const r=t.determineDbTypeAndOptions(e,$.type);n(3,d=r.typeOptions??{}),n(0,u=r.dbType),m.validate()}}(a,r)},[u,s,i,d,c,$,r,a]}class B7 extends at{constructor(e){super(),it(this,e,V7,q7,d,{selectedAbstractType:4,selectedDbType:0,typeOptions:3,column:5})}}function W7(e){let t,n=e[10]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1024&r&&n!==(n=e[10]+"")&&G(t,n)},d(e){e&&P(t)}}}function U7(e){let t,n;return t=new uw({props:{icon:e[9].getIcon(),$$slots:{default:[W7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.icon=e[9].getIcon()),3072&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Y7(e){let t,n;return t=new gu({props:{options:e[2],value:e[0],getLabel:G7,autoSelect:"none",disabled:e[1],$$slots:{default:[U7,({option:e,label:t})=>({9:e,10:t}),({option:e,label:t})=>(e?512:0)|(t?1024:0)]},$$scope:{ctx:e}}}),t.$on("change",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.options=e[2]),1&n&&(r.value=e[0]),2&n&&(r.disabled=e[1]),3584&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function K7(e){let t,n;return t=new Mo({props:{label:e[3]("data_type"),layout:"stacked",$$slots:{default:[Y7]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.label=e[3]("data_type")),2055&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const G7=e=>e?.name??"";function X7(e,t,n){let r,o,s;m(e,NS,(e=>n(6,o=e))),m(e,Mg,(e=>n(3,s=e)));const i=fe();let{column:a}=t,{selectedAbstractType:l}=t,{disabled:c=!1}=t;function u(e){if(e){if(l!==e){if(e.identifier===a.abstractType.identifier)i("reset");else if(e.defaultDbType)i("change",{type:e.defaultDbType,abstractType:e});else if(e.dbTypes.size>0){const[t]=e.dbTypes;i("change",{type:t,abstractType:e})}n(0,l=e)}}else console.error("This should never occur. AbstractType is undefined")}return e.$$set=e=>{"column"in e&&n(5,a=e.column),"selectedAbstractType"in e&&n(0,l=e.selectedAbstractType),"disabled"in e&&n(1,c=e.disabled)},e.$$.update=()=>{96&e.$$.dirty&&n(2,r=function(e,t,n){const r=new Set,o=V_(e,n);o&&r.add(o),t.forEach((e=>{const t=V_(e,n);t&&r.add(t)}));const s=[...r].sort(((e,t)=>e.name.localeCompare(t.name)));return o||s.push(q_),s}(a.type,a.valid_target_types??[],o.data).filter((e=>!["jsonlist","map"].includes(e.identifier))))},[l,c,r,s,u,a,o,e=>u(e.detail)]}class Z7 extends at{constructor(e){super(),it(this,e,X7,K7,d,{column:5,selectedAbstractType:0,disabled:1})}}function J7(e){let t,n,r=e[2],s=Q7(e);return{c(){s.c(),t=q()},m(e,r){s.m(e,r),L(e,t,r),n=!0},p(e,n){4&n&&d(r,r=e[2])?(ze(),qe(s,1,1,o),Fe(),s=Q7(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function Q7(e){let t,n,r,o;function s(t){e[18](t)}function i(t){e[19](t)}let a={selectedAbstractType:e[2],column:e[0]};return void 0!==e[3]&&(a.selectedDbType=e[3]),void 0!==e[4]&&(a.typeOptions=e[4]),t=new B7({props:a}),we.push((()=>nt(t,"selectedDbType",s))),we.push((()=>nt(t,"typeOptions",i))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,o){const s={};4&o&&(s.selectedAbstractType=e[2]),1&o&&(s.column=e[0]),!n&&8&o&&(n=!0,s.selectedDbType=e[3],Te((()=>n=!1))),!r&&16&o&&(r=!0,s.typeOptions=e[4],Te((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function e9(e){let t,n,r,o,s=e[1]&&t9(e);return r=new ao({props:{onProceed:e[13],onCancel:e[12],isProcessing:"processing"===e[5]?.state,canProceed:!e[6],proceedButton:{label:e[9]("save")},size:"small"}}),{c(){t=H("div"),s&&s.c(),n=j(),rt(r.$$.fragment),U(t,"class","footer svelte-2rnxnh")},m(e,i){L(e,t,i),s&&s.m(t,null),O(t,n),ot(r,t,null),o=!0},p(e,o){e[1]?s?(s.p(e,o),2&o&&je(s,1)):(s=t9(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe());const i={};32&o&&(i.isProcessing="processing"===e[5]?.state),64&o&&(i.canProceed=!e[6]),512&o&&(i.proceedButton={label:e[9]("save")}),r.$set(i)},i(e){o||(je(s),je(r.$$.fragment,e),o=!0)},o(e){qe(s),qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),s&&s.d(),st(r)}}}function t9(e){let t,n;return t=new Wz({props:{$$slots:{default:[n9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4194816&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function n9(e){let t,n,r=e[9]("data_loss_warning_alert")+"";return{c(){t=H("span"),n=F(r),U(t,"class","warning-alert svelte-2rnxnh")},m(e,r){L(e,t,r),O(t,n)},p(e,t){512&t&&r!==(r=e[9]("data_loss_warning_alert")+"")&&G(n,r)},d(e){e&&P(t)}}}function r9(e){let t,n,r,o,s;t=new Z7({props:{selectedAbstractType:e[2],column:e[0],disabled:"processing"===e[5]?.state}}),t.$on("change",e[16]),t.$on("reset",e[17]);let i=e[2]&&e[3]&&J7(e),a=e[8]&&e9(e);return{c(){rt(t.$$.fragment),n=j(),i&&i.c(),r=j(),a&&a.c(),o=q()},m(e,l){ot(t,e,l),L(e,n,l),i&&i.m(e,l),L(e,r,l),a&&a.m(e,l),L(e,o,l),s=!0},p(e,[n]){const s={};4&n&&(s.selectedAbstractType=e[2]),1&n&&(s.column=e[0]),32&n&&(s.disabled="processing"===e[5]?.state),t.$set(s),e[2]&&e[3]?i?(i.p(e,n),12&n&&je(i,1)):(i=J7(e),i.c(),je(i,1),i.m(r.parentNode,r)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[8]?a?(a.p(e,n),256&n&&je(a,1)):(a=e9(e),a.c(),je(a,1),a.m(o.parentNode,o)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe())},i(e){s||(je(t.$$.fragment,e),je(i),je(a),s=!0)},o(e){qe(t.$$.fragment,e),qe(i),qe(a),s=!1},d(e){st(t,e),e&&P(n),i&&i.d(e),e&&P(r),a&&a.d(e),e&&P(o)}}}function o9(e,t,n){let r,s,i,a,l,c=o;m(e,Mg,(e=>n(9,l=e))),e.$$.on_destroy.push((()=>c()));const u=fe();let d,{column:$}=t,{save:f}=t,{showWarnings:h=!0}=t,g=$.abstractType,y=$.type,v={...$.type_options??{}};const b=Ut();function w(e){n(2,g=e.abstractType),n(3,y=e.type),n(4,v={...e.type_options??{}})}function _(e){const{type:t,abstractType:r}=e;n(3,y=t),n(2,g=r),n(4,v={})}pe((()=>{b.validate()}));return e.$$set=e=>{"column"in e&&n(0,$=e.column),"save"in e&&n(14,f=e.save),"showWarnings"in e&&n(1,h=e.showWarnings)},e.$$.update=()=>{29&e.$$.dirty&&n(8,r=g!==$.abstractType||y!==$.type||function(e,t){for(const n in t)if(Object.hasOwn(t,n)&&t[n]!==e[n])return!0;return!1}($.type_options??{},v??{})),1&e.$$.dirty&&w($),32804&e.$$.dirty&&n(6,i=!g||"processing"===d?.state||!a)},n(7,({validationResult:s}=b),s),c(),c=p(s,(e=>n(15,a=e))),[$,h,g,y,v,d,i,s,r,l,w,_,function(){w($),n(5,d={state:"success"}),u("cancel")},async function(){n(5,d={state:"processing"});try{await f({type:y,type_options:{...v}}),n(5,d={state:"success"})}catch(e){const t=e instanceof Error?e.message:l("unable_to_change_column_type");Cv.error(t),n(5,d={state:"failure",errors:[t]})}},f,a,e=>_(e.detail),()=>w($),function(e){y=e,n(3,y)},function(e){v=e,n(4,v)}]}class s9 extends at{constructor(e){super(),it(this,e,o9,r9,d,{column:0,save:14,showWarnings:1})}}function i9(e){let t,n,r=e[2],s=l9(e);return{c(){s.c(),t=q()},m(e,r){s.m(e,r),L(e,t,r),n=!0},p(e,n){4&n&&d(r,r=e[2])?(ze(),qe(s,1,1,o),Fe(),s=l9(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function a9(e){let t,n,r,o;t=new Z7({props:{selectedAbstractType:e[0].abstractType,column:e[2],disabled:!0}});let s=e[1]&&c9(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};1&n&&(o.selectedAbstractType=e[0].abstractType),4&n&&(o.column=e[2]),t.$set(o),e[1]?s?(s.p(e,n),2&n&&je(s,1)):(s=c9(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function l9(e){let t,n;return t=new s9({props:{column:e[2],save:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.column=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function c9(e){let t,n;return t=new wz({props:{$$slots:{default:[u9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1026&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function u9(e){let t,n;return{c(){t=H("span"),n=F(e[1]),U(t,"class","info-alert svelte-yz3a69")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&G(n,e[1])},d(e){e&&P(t)}}}function d9(e){let t,n,r,o;const s=[a9,i9],i=[];function a(e,t){return e[3]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function p9(e,t,n){let r,o,s,i,a,l;m(e,Mg,(e=>n(7,a=e)));const c=EN();m(e,c,(e=>n(8,l=e)));let{column:u}=t,{canExecuteDDL:d}=t;return e.$$set=e=>{"column"in e&&n(0,u=e.column),"canExecuteDDL"in e&&n(6,d=e.canExecuteDDL)},e.$$.update=()=>{256&e.$$.dirty&&({columnsDataStore:r}=l),65&e.$$.dirty&&n(3,o=u.column.primary_key||!!u.linkFk||!d),1&e.$$.dirty&&n(2,s={...u.column,abstractType:u.abstractType}),129&e.$$.dirty&&n(1,i=u.column.primary_key?a("data_type_pk_column_restricted"):u.linkFk?a("data_type_linked_column_restricted"):"")},[u,i,s,o,c,async function(e){await r.patch(u.id,{type:e.type,type_options:e.type_options,display_options:null,default:null})},d,a,l]}class $9 extends at{constructor(e){super(),it(this,e,p9,d9,d,{column:0,canExecuteDDL:6})}}function m9(e){let t,n;const r=[zy,{title:e[2]("section_affects_database_config")}];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=4&n?et(r,[0&n&&tt(zy),4&n&&{title:e[2]("section_affects_database_config")}]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function f9(e){let t,n,r,o,s,i=e[1]&&m9(e);return{c(){t=H("div"),n=H("span"),r=F(e[0]),o=j(),i&&i.c(),U(t,"class","collapsible-header-container svelte-ytz1il")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),i&&i.m(t,null),s=!0},p(e,[n]){(!s||1&n)&&G(r,e[0]),e[1]?i?(i.p(e,n),2&n&&je(i,1)):(i=m9(e),i.c(),je(i,1),i.m(t,null)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe())},i(e){s||(je(i),s=!0)},o(e){qe(i),s=!1},d(e){e&&P(t),i&&i.d()}}}function h9(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{title:o}=t,{isDbLevelConfiguration:s=!1}=t;return e.$$set=e=>{"title"in e&&n(0,o=e.title),"isDbLevelConfiguration"in e&&n(1,s=e.isDbLevelConfiguration)},[o,s,r]}class g9 extends at{constructor(e){super(),it(this,e,h9,f9,d,{title:0,isDbLevelConfiguration:1})}}function y9(e){let t,n,r,o,s,a,l=e[3]("primary_key")+"";const c=[Hy];let u={};for(let d=0;d<c.length;d+=1)u=i(u,c[d]);return n=new Kr({props:u}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),o=H("span"),s=F(l),U(t,"class","specifier-tag svelte-sr6jyu")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),O(t,o),O(o,s),a=!0},p(e,t){const r=0&t?et(c,[tt(Hy)]):{};n.$set(r),(!a||8&t)&&l!==(l=e[3]("primary_key")+"")&&G(s,l)},i(e){a||(je(n.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),a=!1},d(e){e&&P(t),st(n)}}}function v9(e){let t,n,r,o,s,a,l,c,u,d,p=e[3]("linked_to")+"";a=new gw({props:{table:e[2]}});const $=[Cr];let m={};for(let f=0;f<$.length;f+=1)m=i(m,$[f]);return c=new Kr({props:m}),{c(){t=H("div"),n=H("span"),r=F(p),o=j(),s=H("a"),rt(a.$$.fragment),l=j(),rt(c.$$.fragment),U(s,"class","specifier-tag svelte-sr6jyu"),U(s,"href",u=e[4]({tableId:e[1]})),U(t,"class","fk-container svelte-sr6jyu")},m(e,i){L(e,t,i),O(t,n),O(n,r),O(t,o),O(t,s),ot(a,s,null),O(s,l),ot(c,s,null),d=!0},p(e,t){(!d||8&t)&&p!==(p=e[3]("linked_to")+"")&&G(r,p);const n={};4&t&&(n.table=e[2]),a.$set(n);const o=0&t?et($,[tt(Cr)]):{};c.$set(o),(!d||18&t&&u!==(u=e[4]({tableId:e[1]})))&&U(s,"href",u)},i(e){d||(je(a.$$.fragment,e),je(c.$$.fragment,e),d=!0)},o(e){qe(a.$$.fragment,e),qe(c.$$.fragment,e),d=!1},d(e){e&&P(t),st(a),st(c)}}}function b9(e){let t,n,r,o;const s=[v9,y9],i=[];function a(e,t){return"foreignKey"===e[0]&&e[2]?0:"primaryKey"===e[0]?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=H("div"),r&&r.c(),U(t,"class","specifier-tag-container svelte-sr6jyu")},m(e,r){L(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),~n&&i[n].d()}}}function w9(e,t,n){let r,o,s,i,a;m(e,UO,(e=>n(6,s=e))),m(e,Mg,(e=>n(3,i=e))),m(e,eN,(e=>n(4,a=e)));let{type:l}=t,{column:c}=t;return e.$$set=e=>{"type"in e&&n(0,l=e.type),"column"in e&&n(5,c=e.column)},e.$$.update=()=>{32&e.$$.dirty&&n(1,r=c.linkFk?.referent_table),66&e.$$.dirty&&n(2,o=r?s.data.get(r):void 0)},[l,r,o,i,a,c,s]}class _9 extends at{constructor(e){super(),it(this,e,w9,b9,d,{type:0,column:5})}}function x9(e){let t,n,r,o,s;return o=new jm({props:{form:e[0],disabled:e[2]}}),{c(){t=H("div"),n=H("div"),r=H("div"),rt(o.$$.fragment),U(r,"class","content"),U(n,"class","option-form display-opts"),U(t,"class","type-options")},m(e,i){L(e,t,i),O(t,n),O(n,r),ot(o,r,null),s=!0},p(e,[t]){const n={};1&t&&(n.form=e[0]),4&t&&(n.disabled=e[2]),o.$set(n)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(o)}}}function S9(e,t,n){let r,s=o,i=()=>(s(),s=p(u,(e=>n(5,r=e))),u);e.$$.on_destroy.push((()=>s()));let{displayOptions:a}=t,{displayOptionsConfig:l}=t,{displayForm:c}=t,{displayFormValues:u}=t;i();let{disabled:d=!1}=t;const $=Yt();return $.addValidator("AbstractTypeConfigValidator",(()=>{let e=!0;if(c){const t=c.getValidationResult().isValid;e=e&&t}return e})),e.$$set=e=>{"displayOptions"in e&&n(3,a=e.displayOptions),"displayOptionsConfig"in e&&n(4,l=e.displayOptionsConfig),"displayForm"in e&&n(0,c=e.displayForm),"displayFormValues"in e&&i(n(1,u=e.displayFormValues)),"disabled"in e&&n(2,d=e.disabled)},e.$$.update=()=>{var t,o;48&e.$$.dirty&&(t=r,(o=l)&&(n(3,a=o?.determineDisplayOptions(t)??{}),$.validate()))},[c,u,d,a,l,r]}class C9 extends at{constructor(e){super(),it(this,e,S9,x9,d,{displayOptions:3,displayOptionsConfig:4,displayForm:0,displayFormValues:1,disabled:2})}}function E9(e){let t,n,r=e[10]("no_formatting_option_data_type")+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1024&t&&r!==(r=e[10]("no_formatting_option_data_type")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function k9(e){let t,n,r,o,s,i,a;function l(t){e[19](t)}let u={displayOptionsConfig:e[8],displayForm:e[7],displayFormValues:e[6],disabled:e[3]};void 0!==e[2]&&(u.displayOptions=e[2]),n=new C9({props:u}),we.push((()=>nt(n,"displayOptions",l)));let d=e[1]&&I9(e);return{c(){t=H("div"),rt(n.$$.fragment),o=j(),d&&d.c()},m(r,l){L(r,t,l),ot(n,t,null),O(t,o),d&&d.m(t,null),s=!0,i||(a=[V(t,"focus",e[14]),V(t,"mousedown",e[14])],i=!0)},p(e,o){const s={};256&o&&(s.displayOptionsConfig=e[8]),128&o&&(s.displayForm=e[7]),64&o&&(s.displayFormValues=e[6]),8&o&&(s.disabled=e[3]),!r&&4&o&&(r=!0,s.displayOptions=e[2],Te((()=>r=!1))),n.$set(s),e[1]?d?(d.p(e,o),2&o&&je(d,1)):(d=I9(e),d.c(),je(d,1),d.m(t,null)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe())},i(e){s||(je(n.$$.fragment,e),je(d),s=!0)},o(e){qe(n.$$.fragment,e),qe(d),s=!1},d(e){e&&P(t),st(n),d&&d.d(),i=!1,c(a)}}}function I9(e){let t,n,r;return n=new ao({props:{onProceed:e[12],onCancel:e[13],isProcessing:"processing"===e[0]?.state,canProceed:!e[5],proceedButton:{label:e[10]("save")},size:"small"}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","footer svelte-7jo0h2")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.isProcessing="processing"===e[0]?.state),32&t&&(r.canProceed=!e[5]),1024&t&&(r.proceedButton={label:e[10]("save")}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function T9(e){let t,n,r,o;const s=[k9,E9],i=[];function a(e,t){return e[8]&&e[7]&&!e[4]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function D9(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g=o;m(e,Mg,(e=>n(10,f=e))),e.$$.on_destroy.push((()=>g()));let{column:y}=t,{canEditMetadata:v}=t,b=!1;const w=EN();m(e,w,(e=>n(18,h=e)));let _,x={...y.column.display_options??{}};const S=Ut();return e.$$set=e=>{"column"in e&&n(15,y=e.column),"canEditMetadata"in e&&n(16,v=e.canEditMetadata)},e.$$.update=()=>{262144&e.$$.dirty&&({columnsDataStore:r}=h),32768&e.$$.dirty&&n(8,({displayOptionsConfig:i,displayForm:a,displayFormValues:l}=function(e,t,n){const r=e.getDisplayConfig?.()??void 0;let o;if(r){const e=n.type===t?r.constructDisplayFormValuesFromDisplayOptions(n.display_options):{};o=Y$(r.form,e,{"duration-config-menu":A7})}return{displayOptionsConfig:r,displayForm:o,displayFormValues:L7(o)}}(y.abstractType,y.column.type,{...y.column,abstractType:y.abstractType})),i,(n(7,a),n(15,y)),(n(6,l),n(15,y))),131073&e.$$.dirty&&n(5,c="processing"===_?.state||!$),32768&e.$$.dirty&&n(4,u=y.column.primary_key||!!y.linkFk),65537&e.$$.dirty&&n(3,d="processing"===_?.state||!v)},n(9,({validationResult:s}=S),s),g(),g=p(s,(e=>n(17,$=e))),[_,b,x,d,u,c,l,a,i,s,f,w,async function(){n(0,_={state:"processing"});try{await r.patch(y.id,{display_options:x}),n(1,b=!1),n(0,_={state:"success"})}catch(e){const t=e instanceof Error?e.message:f("unable_to_change_display_opts");Cv.error(t),n(0,_={state:"failure",errors:[t]})}},function(){n(0,_={state:"success"}),n(2,x={}),n(1,b=!1)},function(){n(1,b=!0)},y,v,$,h,function(e){x=e,n(2,x)}]}class M9 extends at{constructor(e){super(),it(this,e,D9,T9,d,{column:15,canEditMetadata:16})}}function O9(e){let t,n;return t=new Il({props:{checked:e[2]}}),t.$on("change",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function N9(e){let t,n,r=e[8]("no_default_value")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","label")},m(e,r){L(e,t,r),O(t,n)},p(e,t){256&t&&r!==(r=e[8]("no_default_value")+"")&&G(n,r)},d(e){e&&P(t)}}}function A9(e){let t,n;return t=new Il({props:{checked:!e[2]}}),t.$on("change",e[12]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=!e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function L9(e){let t,n,r=e[8]("custom_default")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","label")},m(e,r){L(e,t,r),O(t,n)},p(e,t){256&t&&r!==(r=e[8]("custom_default")+"")&&G(n,r)},d(e){e&&P(t)}}}function P9(e){let t,n,r;function o(t){e[19](t)}let s={componentAndProps:e[0].inputComponentAndProps,disabled:e[4],recordSummary:e[6],setRecordSummary:e[13]};return void 0!==e[3]&&(s.value=e[3]),t=new dA({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1&r&&(o.componentAndProps=e[0].inputComponentAndProps),16&r&&(o.disabled=e[4]),64&r&&(o.recordSummary=e[6]),!n&&8&r&&(n=!0,o.value=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function R9(e){let t,n;return t=new ao({props:{onProceed:e[10],onCancel:e[11],isProcessing:"processing"===e[1]?.state,proceedButton:{label:e[8]("save")},size:"small"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.isProcessing="processing"===e[1]?.state),256&n&&(r.proceedButton={label:e[8]("save")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function H9(e){let t,n,r,o,s,i,a;n=new Mo({props:{layout:"inline-input-first",$$slots:{label:[N9],default:[O9]},$$scope:{ctx:e}}}),o=new Mo({props:{layout:"inline-input-first",$$slots:{label:[L9],default:[A9]},$$scope:{ctx:e}}});let l=!e[2]&&P9(e),c=e[7]&&R9(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),l&&l.c(),i=j(),c&&c.c(),U(t,"class","default-value-container svelte-w6n0k")},m(e,u){L(e,t,u),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),l&&l.m(t,null),O(t,i),c&&c.m(t,null),a=!0},p(e,[r]){const s={};4194564&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};4194564&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a),e[2]?l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe()):l?(l.p(e,r),4&r&&je(l,1)):(l=P9(e),l.c(),je(l,1),l.m(t,i)),e[7]?c?(c.p(e,r),128&r&&je(c,1)):(c=R9(e),c.c(),je(c,1),c.m(t,null)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){a||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(l),je(c),a=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(l),qe(c),a=!1},d(e){e&&P(t),st(n),st(o),l&&l.d(),c&&c.d()}}}function z9(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y=o;m(e,Mg,(e=>n(8,f=e))),e.$$.on_destroy.push((()=>y()));let{column:v}=t,{canExecuteDDL:b}=t;const w=EN();let _;return m(e,w,(e=>n(18,g=e))),e.$$set=e=>{"column"in e&&n(0,v=e.column),"canExecuteDDL"in e&&n(14,b=e.canExecuteDDL)},e.$$.update=()=>{262144&e.$$.dirty&&n(16,({columnsDataStore:r,recordsData:s}=g),s),65536&e.$$.dirty&&(n(5,({recordSummaries:i}=s),i),y(),y=p(i,(e=>n(17,h=e)))),1&e.$$.dirty&&n(15,a=v.column.default?.value??v.initialInputValue),32768&e.$$.dirty&&n(3,l=a),1&e.$$.dirty&&n(2,c=null===v.column.default),32781&e.$$.dirty&&n(7,u=c?null!==v.column.default:"object"==typeof l?JSON.stringify(l)!==JSON.stringify(a):String(l)!==String(a)),131081&e.$$.dirty&&n(6,d=h.get(String(v.id))?.get(String(l))),16386&e.$$.dirty&&n(4,$=!b||"processing"===_?.state)},[v,_,c,l,$,i,d,u,f,w,async function(){n(1,_={state:"processing"});const e=c?null:{is_dynamic:!!v.column.default?.is_dynamic,value:l};try{await r.patch(v.id,{default:e}),n(1,_={state:"success"})}catch(t){const e=t instanceof Error?t.message:f("unable_to_change_display_options");Cv.error(e),n(1,_={state:"failure",errors:[e]})}},function(){n(3,l=a),n(1,_={state:"success"})},function(){n(2,c=!c)},function(e,t){i&&i.addBespokeRecordSummary({columnId:String(v.id),recordId:e,recordSummary:t})},b,a,s,h,g,function(e){l=e,n(3,l),n(15,a),n(0,v)}]}class F9 extends at{constructor(e){super(),it(this,e,z9,H9,d,{column:0,canExecuteDDL:14})}}function j9(e){const t=e.slice(),n=t[4].linkFk?.referent_table;t[21]=n;const r=void 0===t[21]?void 0:t[9].data.get(t[21]);return t[22]=r,t}function q9(e){let t,n,r,o,s,i,a,l,c=e[0].length>1&&B9(e),u=e[4]&&W9(e),d=e[4]&&J9(e),p=e[4]&&!e[4].column.default?.is_dynamic&&tee(e),$=e[4]&&oee(e),m=e[4]&&lee(j9(e)),f=e[3]&&pee(e);return{c(){c&&c.c(),t=j(),u&&u.c(),n=j(),d&&d.c(),r=j(),p&&p.c(),o=j(),$&&$.c(),s=j(),m&&m.c(),i=j(),f&&f.c(),a=q()},m(e,h){c&&c.m(e,h),L(e,t,h),u&&u.m(e,h),L(e,n,h),d&&d.m(e,h),L(e,r,h),p&&p.m(e,h),L(e,o,h),$&&$.m(e,h),L(e,s,h),m&&m.m(e,h),L(e,i,h),f&&f.m(e,h),L(e,a,h),l=!0},p(e,l){e[0].length>1?c?c.p(e,l):(c=B9(e),c.c(),c.m(t.parentNode,t)):c&&(c.d(1),c=null),e[4]?u?(u.p(e,l),16&l&&je(u,1)):(u=W9(e),u.c(),je(u,1),u.m(n.parentNode,n)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe()),e[4]?d?(d.p(e,l),16&l&&je(d,1)):(d=J9(e),d.c(),je(d,1),d.m(r.parentNode,r)):d&&(ze(),qe(d,1,1,(()=>{d=null})),Fe()),e[4]&&!e[4].column.default?.is_dynamic?p?(p.p(e,l),16&l&&je(p,1)):(p=tee(e),p.c(),je(p,1),p.m(o.parentNode,o)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe()),e[4]?$?($.p(e,l),16&l&&je($,1)):($=oee(e),$.c(),je($,1),$.m(s.parentNode,s)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe()),e[4]?m?(m.p(j9(e),l),16&l&&je(m,1)):(m=lee(j9(e)),m.c(),je(m,1),m.m(i.parentNode,i)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()),e[3]?f?(f.p(e,l),8&l&&je(f,1)):(f=pee(e),f.c(),je(f,1),f.m(a.parentNode,a)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe())},i(e){l||(je(u),je(d),je(p),je($),je(m),je(f),l=!0)},o(e){qe(u),qe(d),qe(p),qe($),qe(m),qe(f),l=!1},d(e){c&&c.d(e),e&&P(t),u&&u.d(e),e&&P(n),d&&d.d(e),e&&P(r),p&&p.d(e),e&&P(o),$&&$.d(e),e&&P(s),m&&m.d(e),e&&P(i),f&&f.d(e),e&&P(a)}}}function V9(e){let t,n,r=e[8]("select_columns_cells_view_properties")+"";return{c(){t=H("span"),n=F(r),U(t,"class","no-cell-selected svelte-isknfg")},m(e,r){L(e,t,r),O(t,n)},p(e,t){256&t&&r!==(r=e[8]("select_columns_cells_view_properties")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function B9(e){let t,n,r=e[8]("multiple_columns_selected",{values:{count:e[0].length}})+"";return{c(){t=H("span"),n=F(r),U(t,"class","columns-selected-count svelte-isknfg")},m(e,r){L(e,t,r),O(t,n)},p(e,t){257&t&&r!==(r=e[8]("multiple_columns_selected",{values:{count:e[0].length}})+"")&&G(n,r)},d(e){e&&P(t)}}}function W9(e){let t,n,r=e[4],s=Z9(e);return{c(){s.c(),t=q()},m(e,r){s.m(e,r),L(e,t,r),n=!0},p(e,n){16&n&&d(r,r=e[4])?(ze(),qe(s,1,1,o),Fe(),s=Z9(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function U9(e){let t,n;return t=new g9({props:{slot:"header",title:e[8]("properties"),isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.title=e[8]("properties")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Y9(e){let t,n,r,o=!!e[4].linkFk&&G9(e);return n=new k7({props:{column:e[4],columnsDataStore:e[1].columnsDataStore,constraintsDataStore:e[1].constraintsDataStore,canExecuteDDL:e[3]}}),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){e[4].linkFk?o?(o.p(e,r),16&r&&je(o,1)):(o=G9(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe());const s={};16&r&&(s.column=e[4]),2&r&&(s.columnsDataStore=e[1].columnsDataStore),2&r&&(s.constraintsDataStore=e[1].constraintsDataStore),8&r&&(s.canExecuteDDL=e[3]),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){qe(o),qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function K9(e){let t,n;return t=new _9({props:{column:e[4],type:"primaryKey"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.column=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function G9(e){let t,n;return t=new _9({props:{column:e[4],type:"foreignKey"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.column=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function X9(e){let t,n,r,o,s,i;n=new p5({props:{column:e[4],columnsDataStore:e[1].columnsDataStore,canExecuteDDL:e[3]}});const a=[K9,Y9],l=[];function c(e,t){return e[4].column.primary_key?0:1}return o=c(e),s=l[o]=a[o](e),{c(){t=H("div"),rt(n.$$.fragment),r=j(),s.c(),U(t,"slot","content"),U(t,"class","content-container column-properties svelte-isknfg")},m(e,s){L(e,t,s),ot(n,t,null),O(t,r),l[o].m(t,null),i=!0},p(e,r){const i={};16&r&&(i.column=e[4]),2&r&&(i.columnsDataStore=e[1].columnsDataStore),8&r&&(i.canExecuteDDL=e[3]),n.$set(i);let u=o;o=c(e),o===u?l[o].p(e,r):(ze(),qe(l[u],1,1,(()=>{l[u]=null})),Fe(),s=l[o],s?s.p(e,r):(s=l[o]=a[o](e),s.c()),je(s,1),s.m(t,null))},i(e){i||(je(n.$$.fragment,e),je(s),i=!0)},o(e){qe(n.$$.fragment,e),qe(s),i=!1},d(e){e&&P(t),st(n),l[o].d()}}}function Z9(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[X9],header:[U9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388890&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function J9(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[eee],header:[Q9]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388888&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Q9(e){let t,n;return t=new g9({props:{slot:"header",title:e[8]("data_type"),isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.title=e[8]("data_type")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function eee(e){let t,n,r;return n=new $9({props:{column:e[4],canExecuteDDL:e[3]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-isknfg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.column=e[4]),8&t&&(r.canExecuteDDL=e[3]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function tee(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[ree],header:[nee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388888&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nee(e){let t,n;return t=new g9({props:{slot:"header",title:e[8]("default_value"),isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.title=e[8]("default_value")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ree(e){let t,n,r;return n=new F9({props:{column:e[4],canExecuteDDL:e[3]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-isknfg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};16&t&&(r.column=e[4]),8&t&&(r.canExecuteDDL=e[3]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function oee(e){let t,n;return t=new Bs({props:{triggerAppearance:"plain",$$slots:{content:[aee],header:[see]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388884&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function see(e){let t,n;return t=new g9({props:{slot:"header",title:e[8]("formatting")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.title=e[8]("formatting")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iee(e){let t,n;return t=new M9({props:{column:e[4],canEditMetadata:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.column=e[4]),4&n&&(r.canEditMetadata=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aee(e){let t,n,r=e[4],s=iee(e);return{c(){t=H("div"),s.c(),U(t,"slot","content"),U(t,"class","content-container svelte-isknfg")},m(e,r){L(e,t,r),s.m(t,null),n=!0},p(e,n){16&n&&d(r,r=e[4])?(ze(),qe(s,1,1,o),Fe(),s=iee(e),s.c(),je(s,1),s.m(t,null)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function lee(e){let t,n,r=void 0!==e[22]&&cee(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){void 0!==e[22]?r?(r.p(e,n),528&n&&je(r,1)):(r=cee(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function cee(e){let t,n;return t=new Bs({props:{triggerAppearance:"plain",$$slots:{content:[dee],header:[uee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8389392&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uee(e){let t,n;return t=new g9({props:{slot:"header",title:e[8]("linked_record_summary")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.title=e[8]("linked_record_summary")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dee(e){let t,n,r;return n=new t5({props:{table:e[22]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-isknfg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};528&t&&(r.table=e[22]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function pee(e){let t,n;return t=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[mee],header:[$ee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8388865&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $ee(e){let t,n;return t=new g9({props:{slot:"header",title:e[8]("actions")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.title=e[8]("actions")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mee(e){let t,n,r;return n=new p7({props:{columns:e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-isknfg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.columns=e[0]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function fee(e){let t,n,r,o;const s=[V9,q9],i=[];function a(e,t){return 0===e[0].length?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","column-mode-container svelte-isknfg")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function hee(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C=o,E=o,k=o;m(e,$M,(e=>n(19,w=e))),m(e,kS,(e=>n(20,_=e))),m(e,Mg,(e=>n(8,x=e))),m(e,UO,(e=>n(9,S=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>k()));const I=EN();m(e,I,(e=>n(1,b=e)));const T=cb();return m(e,T,(e=>n(15,h=e))),e.$$.update=()=>{1048576&e.$$.dirty&&n(13,r=_),524288&e.$$.dirty&&n(12,s=w),2&e.$$.dirty&&(n(7,({processedColumns:i,selection:a}=b),i,(n(14,a),n(1,b))),C(),C=p(i,(e=>n(16,g=e)))),16384&e.$$.dirty&&(n(6,({selectedCells:l,columnsSelectedWhenTheTableIsEmpty:c}=a),l,(n(5,c),E(),E=p(c,(e=>n(17,y=e))),c)),k(),k=p(l,(e=>n(18,v=e)))),475136&e.$$.dirty&&n(0,u=(()=>{const e=a.getSelectedUniqueColumnsId(v,y),t=[];for(const n of e){const e=g.get(n);void 0!==e&&t.push(e)}return t})()),1&e.$$.dirty&&n(4,d=1===u.length?u[0]:void 0),45056&e.$$.dirty&&n(3,$=!!h?.hasPermission({database:r,schema:s},"canExecuteDDL")),45056&e.$$.dirty&&n(2,f=!!h?.hasPermission({database:r,schema:s},"canEditMetadata"))},[u,b,f,$,d,c,l,i,x,S,I,T,s,r,a,h,g,y,v,w,_]}class gee extends at{constructor(e){super(),it(this,e,hee,fee,d,{})}}function yee(e){let t,n;return t=new fn({props:{href:e[3],$$slots:{default:[vee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href=e[3]),16448&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vee(e){let t,n,r,o,s,a,l,c,u,d=e[6]("open_record")+"";const p=[Uy];let $={};for(let h=0;h<p.length;h+=1)$=i($,p[h]);r=new Kr({props:$});const m=[Cr];let f={};for(let h=0;h<m.length;h+=1)f=i(f,m[h]);return c=new Kr({props:f}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("span"),a=F(d),l=j(),rt(c.$$.fragment),U(t,"class","action-item svelte-if6g6v")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),O(n,s),O(s,a),O(t,l),ot(c,t,null),u=!0},p(e,t){const n=0&t?et(p,[tt(Uy)]):{};r.$set(n),(!u||64&t)&&d!==(d=e[6]("open_record")+"")&&G(a,d);const o=0&t?et(m,[tt(Cr)]):{};c.$set(o)},i(e){u||(je(r.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(r.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(r),st(c)}}}function bee(e){let t,n;return t=new Hn({props:{$$slots:{default:[wee]},$$scope:{ctx:e}}}),t.$on("click",e[7]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16449&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wee(e){let t,n,r,o,s,a=e[6]("delete_records",{values:{count:e[0].length}})+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||65&n)&&a!==(a=e[6]("delete_records",{values:{count:e[0].length}})+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function _ee(e){let t,n,r=e[6]("no_actions_selected_record")+"";return{c(){t=H("span"),n=F(r),U(t,"class","null-text svelte-if6g6v")},m(e,r){L(e,t,r),O(t,n)},p(e,t){64&t&&r!==(r=e[6]("no_actions_selected_record")+"")&&G(n,r)},d(e){e&&P(t)}}}function xee(e){let t,n,r,o,s=e[1]&&yee(e),i=e[2]&&bee(e),a=e[4]&&_ee(e);return{c(){t=H("div"),s&&s.c(),n=j(),i&&i.c(),r=j(),a&&a.c(),U(t,"class","actions-container svelte-if6g6v")},m(e,l){L(e,t,l),s&&s.m(t,null),O(t,n),i&&i.m(t,null),O(t,r),a&&a.m(t,null),o=!0},p(e,[o]){e[1]?s?(s.p(e,o),2&o&&je(s,1)):(s=yee(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe()),e[2]?i?(i.p(e,o),4&o&&je(i,1)):(i=bee(e),i.c(),je(i,1),i.m(t,r)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[4]?a?a.p(e,o):(a=_ee(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(e){o||(je(s),je(i),o=!0)},o(e){qe(s),qe(i),o=!1},d(e){e&&P(t),s&&s.d(),i&&i.d(),a&&a.d()}}}function See(e,t,n){let r,s,i,a,l,c,u,d,$=o;m(e,QO,(e=>n(12,c=e))),m(e,Mg,(e=>n(6,d=e))),e.$$.on_destroy.push((()=>$()));let{selectedRowIndices:f}=t,{recordsData:h}=t,{selection:g}=t,{columnsDataStore:y}=t,{canEditTableRecords:v}=t;return e.$$set=e=>{"selectedRowIndices"in e&&n(0,f=e.selectedRowIndices),"recordsData"in e&&n(8,h=e.recordsData),"selection"in e&&n(9,g=e.selection),"columnsDataStore"in e&&n(10,y=e.columnsDataStore),"canEditTableRecords"in e&&n(11,v=e.canEditTableRecords)},e.$$.update=()=>{1024&e.$$.dirty&&(n(5,({columns:r}=y),r),$(),$=p(r,(e=>n(13,u=e)))),12545&e.$$.dirty&&n(3,s=(()=>{const e=f[0],t=h.getRecordRows()[e];if(!t)return"";let n;try{n=PC(t.record,u)}catch(r){return""}return c({recordId:n})||""})()),9&e.$$.dirty&&n(1,i=1===f.length&&s),2048&e.$$.dirty&&n(2,a=v),6&e.$$.dirty&&n(4,l=!a&&!i)},[f,i,a,s,l,r,d,async function(){Tv({identifierType:d("multiple_records",{values:{count:f.length}}),body:[d("deleted_records_cannot_be_recovered",{values:{count:f.length}}),d("are_you_sure_to_proceed")],onProceed:()=>h.deleteSelected(f),onError:e=>Cv.fromError(e),onSuccess:()=>{Cv.success({title:d("count_records_deleted_successfully",{values:{count:f.length}})}),g.resetSelection()}})},h,g,y,v,c,u]}class Cee extends at{constructor(e){super(),it(this,e,See,xee,d,{selectedRowIndices:0,recordsData:8,selection:9,columnsDataStore:10,canEditTableRecords:11})}}function Eee(e){let t,n,r=e[6]("select_cells_view_record_props")+"";return{c(){t=H("span"),n=F(r),U(t,"class","no-records-selected svelte-1c2g5hx")},m(e,r){L(e,t,r),O(t,n)},p(e,t){64&t&&r!==(r=e[6]("select_cells_view_record_props")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function kee(e){let t,n,r,o=e[3].length>1&&Iee(e);return n=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Dee],header:[Tee]},$$scope:{ctx:e}}}),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){e[3].length>1?o?o.p(e,r):(o=Iee(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const s={};65647&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function Iee(e){let t,n,r=e[6]("multiple_records_selected",{values:{count:e[3].length}})+"";return{c(){t=H("span"),n=F(r),U(t,"class","records-selected-count svelte-1c2g5hx")},m(e,r){L(e,t,r),O(t,n)},p(e,t){72&t&&r!==(r=e[6]("multiple_records_selected",{values:{count:e[3].length}})+"")&&G(n,r)},d(e){e&&P(t)}}}function Tee(e){let t,n;return t=new g9({props:{slot:"header",title:e[6]("actions")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.title=e[6]("actions")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dee(e){let t,n,r;return n=new Cee({props:{selectedRowIndices:e[3],recordsData:e[5],selection:e[0],columnsDataStore:e[1].columnsDataStore,canEditTableRecords:e[2]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-1c2g5hx")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};8&t&&(r.selectedRowIndices=e[3]),32&t&&(r.recordsData=e[5]),1&t&&(r.selection=e[0]),2&t&&(r.columnsDataStore=e[1].columnsDataStore),4&t&&(r.canEditTableRecords=e[2]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Mee(e){let t,n,r,o;const s=[kee,Eee],i=[];function a(e,t){return e[3].length?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","column-mode-container svelte-1c2g5hx")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function Oee(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b=o;m(e,$M,(e=>n(14,g=e))),m(e,kS,(e=>n(15,y=e))),m(e,Mg,(e=>n(6,v=e))),e.$$.on_destroy.push((()=>b()));const w=EN();m(e,w,(e=>n(1,h=e)));const _=cb();return m(e,_,(e=>n(12,$=e))),e.$$.update=()=>{32768&e.$$.dirty&&n(10,r=y),16384&e.$$.dirty&&n(9,s=g),2&e.$$.dirty&&n(0,({selection:i,recordsData:a}=h),i,(n(5,a),n(1,h))),1&e.$$.dirty&&(n(4,({selectedCells:l}=i),l),b(),b=p(l,(e=>n(13,f=e)))),8192&e.$$.dirty&&n(11,c=f.valuesArray().map((e=>Uk(e)))),2048&e.$$.dirty&&n(3,u=Array.from(new Set(c))),5632&e.$$.dirty&&n(2,d=!!$?.hasPermission({database:r,schema:s},"canEditTableRecords"))},[i,h,d,u,l,a,v,w,_,s,r,c,$,f,g,y]}class Nee extends at{constructor(e){super(),it(this,e,Oee,Mee,d,{})}}function Aee(e){let t,n=e[6]("select_cell_view_properties")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){64&r&&n!==(n=e[6]("select_cell_view_properties")+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function Lee(e){let t,n,r,o,s,i,a=e[6]("content")+"",l=e[1]&&Pee(e);return{c(){t=H("section"),n=H("header"),r=F(a),o=j(),s=H("div"),l&&l.c(),U(n,"class","svelte-lis5j9"),U(s,"class","content svelte-lis5j9"),U(t,"class","cell-content")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),O(t,s),l&&l.m(s,null),i=!0},p(e,t){(!i||64&t)&&a!==(a=e[6]("content")+"")&&G(r,a),e[1]?l?(l.p(e,t),2&t&&je(l,1)):(l=Pee(e),l.c(),je(l,1),l.m(s,null)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){i||(je(l),i=!0)},o(e){qe(l),i=!1},d(e){e&&P(t),l&&l.d()}}}function Pee(e){let t,n;return t=new RA({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:e[1],value:e[0],recordSummary:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.columnFabric=e[1]),1&n&&(r.value=e[0]),4&n&&(r.recordSummary=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ree(e){let t,n,r,o;const s=[Lee,Aee],i=[];function a(e,t){return void 0!==e[0]?0:1}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","section-content svelte-lis5j9")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function Hee(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b=o,w=o,_=o;m(e,Mg,(e=>n(6,v=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));const x=EN();return m(e,x,(e=>n(14,y=e))),e.$$.update=()=>{16384&e.$$.dirty&&n(10,({selection:r,recordsData:s,processedColumns:i}=y),r,(n(9,s),n(14,y)),(n(5,i),w(),w=p(i,(e=>n(12,h=e))),i)),1024&e.$$.dirty&&(n(4,({activeCell:a}=r),a),_(),_=p(a,(e=>n(13,g=e)))),512&e.$$.dirty&&(n(3,({recordSummaries:l}=s),l),b(),b=p(l,(e=>n(11,f=e)))),8192&e.$$.dirty&&n(8,c=g),768&e.$$.dirty&&n(0,u=(()=>{if(c){const e=s.getRecordRows();if(e[c.rowIndex])return e[c.rowIndex].record[c.columnId]}})()),4352&e.$$.dirty&&n(1,d=(()=>{if(c){const e=h.get(Number(c.columnId));if(e)return e}})()),2051&e.$$.dirty&&n(2,$=d&&f.get(String(d.id))?.get(String(u)))},[u,d,$,l,a,i,v,x,c,s,r,f,h,g,y]}class zee extends at{constructor(e){super(),it(this,e,Hee,Ree,d,{})}}function Fee(e){let t,n,r,o,s,i,a=e[2]("name")+"";function l(...t){return e[5](e[7],...t)}return s=new c5({props:{initialValue:e[3].data.get(e[1].id)?.name??"",onSubmit:l,getValidationErrors:e[6],disabled:e[0]}}),{c(){t=H("div"),n=H("span"),r=F(a),o=j(),rt(s.$$.fragment),U(n,"class","label"),U(t,"class","rename-table-property-container svelte-1b3mauw")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),ot(s,t,null),i=!0},p(t,n){e=t,(!i||4&n)&&a!==(a=e[2]("name")+"")&&G(r,a);const o={};10&n&&(o.initialValue=e[3].data.get(e[1].id)?.name??""),128&n&&(o.onSubmit=l),64&n&&(o.getValidationErrors=e[6]),1&n&&(o.disabled=e[0]),s.$set(o)},i(e){i||(je(s.$$.fragment,e),i=!0)},o(e){qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),st(s)}}}function jee(e){let t,n;return t=new GQ({props:{tableId:e[1].id,$$slots:{default:[Fee,({getNameValidationErrors:e,onUpdate:t})=>({6:e,7:t}),({getNameValidationErrors:e,onUpdate:t})=>(e?64:0)|(t?128:0)]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.tableId=e[1].id),463&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qee(e,t,n){let r,o,s;m(e,Mg,(e=>n(2,o=e))),m(e,UO,(e=>n(3,s=e)));const i=EN();m(e,i,(e=>n(1,r=e)));let{disabled:a=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,a=e.disabled)},[a,r,o,s,i,(e,t)=>e({name:t})]}class Vee extends at{constructor(e){super(),it(this,e,qee,jee,d,{disabled:0})}}function Bee(e){let t,n,r,o;t=new fn({props:{href:e[4],$$slots:{default:[Uee]},$$scope:{ctx:e}}});let s=e[3]&&Yee(e);return{c(){rt(t.$$.fragment),n=j(),s&&s.c(),r=q()},m(e,i){ot(t,e,i),L(e,n,i),s&&s.m(e,i),L(e,r,i),o=!0},p(e,n){const o={};16&n&&(o.href=e[4]),262272&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),e[3]?s?(s.p(e,n),8&n&&je(s,1)):(s=Yee(e),s.c(),je(s,1),s.m(r.parentNode,r)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){o||(je(t.$$.fragment,e),je(s),o=!0)},o(e){qe(t.$$.fragment,e),qe(s),o=!1},d(e){st(t,e),e&&P(n),s&&s.d(e),e&&P(r)}}}function Wee(e){let t,n=e[7]("open_table_in_data_explorer")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("open_table_in_data_explorer")+"")&&G(t,n)},d(e){e&&P(t)}}}function Uee(e){let t,n,r,o,s,a,l,c,u,d,p,$=e[7]("explore_data")+"";const m=[Fy];let f={};for(let y=0;y<m.length;y+=1)f=i(f,m[y]);r=new Kr({props:f}),c=new Ni({props:{$$slots:{default:[Wee]},$$scope:{ctx:e}}});const h=[Cr];let g={};for(let y=0;y<h.length;y+=1)g=i(g,h[y]);return d=new Kr({props:g}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("span"),a=F($),l=j(),rt(c.$$.fragment),u=j(),rt(d.$$.fragment),U(t,"class","action-item svelte-lo2o6r")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),O(n,s),O(s,a),O(n,l),ot(c,n,null),O(t,u),ot(d,t,null),p=!0},p(e,t){const n=0&t?et(m,[tt(Fy)]):{};r.$set(n),(!p||128&t)&&$!==($=e[7]("explore_data")+"")&&G(a,$);const o={};262272&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s=0&t?et(h,[tt(Cr)]):{};d.$set(s)},i(e){p||(je(r.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),p=!0)},o(e){qe(r.$$.fragment,e),qe(c.$$.fragment,e),qe(d.$$.fragment,e),p=!1},d(e){e&&P(t),st(r),st(c),st(d)}}}function Yee(e){let t,n;return t=new fn({props:{href:e[3],$$slots:{default:[Gee]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.href=e[3]),262272&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kee(e){let t,n=e[7]("summarize_in_data_explorer_help")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){128&r&&n!==(n=e[7]("summarize_in_data_explorer_help")+"")&&G(t,n)},d(e){e&&P(t)}}}function Gee(e){let t,n,r,o,s,a,l,c,u,d,p,$=e[7]("summarize_in_data_explorer")+"";const m=[Fy];let f={};for(let y=0;y<m.length;y+=1)f=i(f,m[y]);r=new Kr({props:f}),c=new Ni({props:{$$slots:{default:[Kee]},$$scope:{ctx:e}}});const h=[Cr];let g={};for(let y=0;y<h.length;y+=1)g=i(g,h[y]);return d=new Kr({props:g}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("span"),a=F($),l=j(),rt(c.$$.fragment),u=j(),rt(d.$$.fragment),U(t,"class","action-item svelte-lo2o6r")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),O(n,s),O(s,a),O(n,l),ot(c,n,null),O(t,u),ot(d,t,null),p=!0},p(e,t){const n=0&t?et(m,[tt(Fy)]):{};r.$set(n),(!p||128&t)&&$!==($=e[7]("summarize_in_data_explorer")+"")&&G(a,$);const o={};262272&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s=0&t?et(h,[tt(Cr)]):{};d.$set(s)},i(e){p||(je(r.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),p=!0)},o(e){qe(r.$$.fragment,e),qe(c.$$.fragment,e),qe(d.$$.fragment,e),p=!1},d(e){e&&P(t),st(r),st(c),st(d)}}}function Xee(e){let t,n;return t=new Hn({props:{appearance:"outline-primary",$$slots:{default:[Zee]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};262272&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zee(e){let t,n,r,o,s,a=e[7]("delete_table")+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||128&n)&&a!==(a=e[7]("delete_table")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function Jee(e){let t,n,r,o=e[2]&&e[1]&&Bee(e),s=e[0]&&Xee(e);return{c(){t=H("div"),o&&o.c(),n=j(),s&&s.c(),U(t,"class","actions-container svelte-lo2o6r")},m(e,i){L(e,t,i),o&&o.m(t,null),O(t,n),s&&s.m(t,null),r=!0},p(e,[r]){e[2]&&e[1]?o?(o.p(e,r),6&r&&je(o,1)):(o=Bee(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe()),e[0]?s?(s.p(e,r),1&r&&je(s,1)):(s=Xee(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){r||(je(o),je(s),r=!0)},o(e){qe(o),qe(s),r=!1},d(e){e&&P(t),o&&o.d(),s&&s.d()}}}function Qee(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w=o,_=o;m(e,$M,(e=>n(1,$=e))),m(e,kS,(e=>n(2,f=e))),m(e,XO,(e=>n(14,h=e))),m(e,Mg,(e=>n(7,g=e))),m(e,UO,(e=>n(17,b=e))),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_()));let{canExecuteDDL:x}=t;const S=EN();return m(e,S,(e=>n(13,d=e))),e.$$set=e=>{"canExecuteDDL"in e&&n(0,x=e.canExecuteDDL)},e.$$.update=()=>{8192&e.$$.dirty&&n(10,({id:r,columnsDataStore:s,meta:i}=d),r,(n(11,s),n(13,d)),(n(12,i),n(13,d))),4096&e.$$.dirty&&(n(6,({grouping:a}=i),a),w(),w=p(a,(e=>n(15,y=e)))),2048&e.$$.dirty&&(n(5,({columns:l}=s),l),_(),_=p(l,(e=>n(16,v=e)))),139270&e.$$.dirty&&n(4,c=f&&$?HQ(f?.id,$.id,{id:d.id,name:b.data.get(d.id)?.name??""}):""),115718&e.$$.dirty&&n(3,u=(()=>{if(h&&f&&$)return function(e,t,n){const r=zb(e,t),{columns:o,terseGrouping:s}=n;if(s.length>0&&o.length>0)return`${r}#${RQ(n)}`}(f.id,$.id,{baseTable:{id:r,name:h.name},columns:v,terseGrouping:y.terse()})})())},[x,$,f,u,c,l,a,g,S,function(){Tv({identifierType:g("table"),body:{component:BQ,props:{tableName:h?.name}},onProceed:async()=>{const e=f,t=$;e&&t&&(await FO(e,t,d.id),qN.goto(Nb(e.id,t.id),!0))}})},r,s,i,d,h,y,v,b]}class ete extends at{constructor(e){super(),it(this,e,Qee,Jee,d,{canExecuteDDL:0})}}function tte(e,t,n){const r=e.slice();return r[6]=t[n],r}function nte(e,t){let n,r,o,s;return r=new bA({props:{column:t[6]}}),{key:e,first:null,c(){n=H("span"),rt(r.$$.fragment),o=j(),U(n,"class","column-name-container svelte-t5b5db"),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.column=t[6]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function rte(e){let t,n,r,o=[],s=new Map,i=e[0];const a=e=>e[6].id;for(let l=0;l<i.length;l+=1){let t=tte(e,i,l),n=a(t);s.set(n,o[l]=nte(n,t))}return{c(){t=H("div"),n=H("div");for(let e=0;e<o.length;e+=1)o[e].c();U(n,"class","column-names svelte-t5b5db"),U(t,"class","column-names-header svelte-t5b5db")},m(e,s){L(e,t,s),O(t,n);for(let t=0;t<o.length;t+=1)o[t].m(n,null);r=!0},p(e,[t]){1&t&&(i=e[0],ze(),o=Qe(o,t,a,1,e,i,s,n,Ze,nte,null,tte),Fe())},i(e){if(!r){for(let e=0;e<i.length;e+=1)je(o[e]);r=!0}},o(e){for(let t=0;t<o.length;t+=1)qe(o[t]);r=!1},d(e){e&&P(t);for(let t=0;t<o.length;t+=1)o[t].d()}}}function ote(e,t,n){let r,s,i,a,l=o;e.$$.on_destroy.push((()=>l()));let{constraint:c}=t;const u=EN();return m(e,u,(e=>n(5,a=e))),e.$$set=e=>{"constraint"in e&&n(3,c=e.constraint)},e.$$.update=()=>{32&e.$$.dirty&&(n(1,r=a.columnsDataStore.columns),l(),l=p(r,(e=>n(4,i=e)))),24&e.$$.dirty&&n(0,s=i.filter((e=>c.columns.includes(e.id))))},[s,r,u,c,i,a]}class ste extends at{constructor(e){super(),it(this,e,ote,rte,d,{constraint:3})}}function ite(e){let t,n,r,o,s,i=e[0]("constraint_name_unique_help")+"",a=e[0]("constraint_name_unique_mathesar_relevance_help")+"";return{c(){t=H("p"),n=F(i),r=j(),o=H("p"),s=F(a)},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),O(o,s)},p(e,t){1&t&&i!==(i=e[0]("constraint_name_unique_help")+"")&&G(n,i),1&t&&a!==(a=e[0]("constraint_name_unique_mathesar_relevance_help")+"")&&G(s,a)},d(e){e&&P(t),e&&P(r),e&&P(o)}}}function ate(e){let t,n;return t=new Ni({props:{$$slots:{default:[ite]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lte(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class cte extends at{constructor(e){super(),it(this,e,lte,ate,d,{})}}function ute(e){let t,n;return t=new bA({props:{column:{...e[29].column,constraintsType:hA(e[29].column.id,e[4])}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};536870928&n&&(r.column={...e[29].column,constraintsType:hA(e[29].column.id,e[4])}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dte(e){let t,n,r;function o(t){e[21](t)}let s={options:e[7],autoClearInvalidValues:!1,$$slots:{default:[ute,({option:e})=>({29:e}),({option:e})=>e?536870912:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.values=e[0]),t=new vl({props:s}),we.push((()=>nt(t,"values",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};128&r&&(o.options=e[7]),1610612752&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.values=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function pte(e){let t,n;return t=new Mo({props:{label:e[9]("columns"),layout:"stacked",$$slots:{default:[dte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.label=e[9]("columns")),1073741969&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $te(e){let t,n,r,o,s=e[9]("set_constraint_name")+"";return r=new cte({}),{c(){t=F(s),n=j(),rt(r.$$.fragment)},m(e,s){L(e,t,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||512&n)&&s!==(s=e[9]("set_constraint_name")+"")&&G(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function mte(e){let t,n,r;function o(t){e[23](t)}let s={options:e[11],isInline:!0,getRadioLabel:e[22],$$slots:{default:[$te]},$$scope:{ctx:e}};return void 0!==e[1]&&(s.value=e[1]),t=new Hl({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[13]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};1073742336&r&&(o.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function fte(e){let t,n;return t=new ZY({props:{errors:e[3],$$slots:{default:[gte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.errors=e[3]),1073742348&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hte(e){let t,n,r;function o(t){e[24](t)}let s={hasError:e[3].length>0};return void 0!==e[2]&&(s.value=e[2]),t=new qi({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};8&r&&(o.hasError=e[3].length>0),!n&&4&r&&(n=!0,o.value=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function gte(e){let t,n;return t=new Mo({props:{label:e[9]("constraint_name"),layout:"stacked",$$slots:{default:[hte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.label=e[9]("constraint_name")),1073741836&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yte(e){let t,n,r,o,s,i;t=new ZY({props:{$$slots:{default:[pte]},$$scope:{ctx:e}}}),r=new ZY({props:{$$slots:{default:[mte]},$$scope:{ctx:e}}});let a="manual"===e[1]&&fte(e);return{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),a&&a.c(),s=q()},m(e,l){ot(t,e,l),L(e,n,l),ot(r,e,l),L(e,o,l),a&&a.m(e,l),L(e,s,l),i=!0},p(e,n){const o={};1073742481&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};1073742338&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),"manual"===e[1]?a?(a.p(e,n),2&n&&je(a,1)):(a=fte(e),a.c(),je(a,1),a.m(s.parentNode,s)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe())},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(a),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(a),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),a&&a.d(e),e&&P(s)}}}function vte(e){let t,n,r,o,s,i,a,l,c=e[9]("new_unique_constraint")+"";return s=new VY({props:{$$slots:{default:[yte]},$$scope:{ctx:e}}}),a=new ao({props:{onProceed:e[14],onCancel:e[15],proceedButton:{label:e[9]("add")},canProceed:e[6],size:"small"}}),{c(){t=H("div"),n=H("span"),r=F(c),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment),U(t,"class","add-new-unique-constraint svelte-154es72")},m(e,c){L(e,t,c),O(t,n),O(n,r),O(t,o),ot(s,t,null),O(t,i),ot(a,t,null),l=!0},p(e,[t]){(!l||512&t)&&c!==(c=e[9]("new_unique_constraint")+"")&&G(r,c);const n={};1073742495&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const o={};512&t&&(o.proceedButton={label:e[9]("add")}),64&t&&(o.canProceed=e[6]),a.$set(o)},i(e){l||(je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),st(s),st(a)}}}function bte(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y=o,v=o;m(e,Mg,(e=>n(9,d=e))),m(e,UO,(e=>n(19,h=e))),e.$$.on_destroy.push((()=>y())),e.$$.on_destroy.push((()=>v()));let{onClose:b}=t;const w=new Map([["auto",d("automatically")],["manual",d("manually")]]),_=[...w.keys()],x=EN();m(e,x,(e=>n(18,f=e)));let S,C=[],E="auto";return e.$$set=e=>{"onClose"in e&&n(16,b=e.onClose)},e.$$.update=()=>{var t,o;262144&e.$$.dirty&&(n(5,r=f.constraintsDataStore),v(),v=p(r,(e=>n(20,g=e)))),1048576&e.$$.dirty&&n(17,s=new Set(g.constraints.map((e=>e.name)))),786432&e.$$.dirty&&(i=h.data.get(f.id)?.name??""),262144&e.$$.dirty&&(n(8,({processedColumns:a}=f),a),y(),y=p(a,(e=>n(4,$=e)))),16&e.$$.dirty&&n(7,l=Array.from($.values())),131078&e.$$.dirty&&n(3,(t=S,o=s,c="auto"===E?[]:t?.trim()?o.has(t?.trim())?[d("constraint_name_already_exists")]:[]:[d("constraint_name_cannot_be_empty")])),9&e.$$.dirty&&n(6,u=C.length>0&&!c.length)},[C,E,S,c,$,r,u,l,a,d,w,_,x,function(){var e;n(2,S="manual"===E?(e=s,pA(`${i}_${C.map((e=>e.column.name)).join("_")}`,e)):void 0)},async function(){try{await r.add({columns:C.map((e=>e.id)),type:"unique",name:S}),n(0,C=[]),n(1,E="auto"),n(2,S=void 0),b?.()}catch($h){Cv.error(`${d("unable_to_add_constraint")} ${rc($h)}`)}},function(){b?.()},b,s,f,h,g,function(e){C=e,n(0,C)},e=>w.get(e)??"",function(e){E=e,n(1,E)},function(e){S=e,n(2,S)}]}class wte extends at{constructor(e){super(),it(this,e,bte,vte,d,{onClose:16})}}function _te(e){let t,n;return t=new xA({props:{processedColumn:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.processedColumn=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xte(e){let t,n,r=e[5]&&_te(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[5]?r?(r.p(e,n),32&n&&je(r,1)):(r=_te(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Ste(e){let t,n,r;function o(t){e[3](t)}let s={options:e[1],labelKey:"name",valuesAreEqual:Cte,disabled:e[2],$$slots:{default:[xte,({option:e})=>({5:e}),({option:e})=>e?32:0]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[4]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const o={};2&r&&(o.options=e[1]),4&r&&(o.disabled=e[2]),96&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}const Cte=(e,t)=>e?.id===t?.id;function Ete(e,t,n){let{columns:r}=t,{value:o}=t,{disabled:s=!1}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"value"in e&&n(0,o=e.value),"disabled"in e&&n(2,s=e.disabled)},[o,r,s,function(e){o=e,n(0,o)},function(t){ve.call(this,e,t)}]}class kte extends at{constructor(e){super(),it(this,e,Ete,Ste,d,{columns:1,value:0,disabled:2})}}function Ite(e){let t,n,r,o;const s=[Dte,Tte],i=[];function a(e,t){return e[17]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Tte(e){let t,n;return t=new yO({props:{field:e[3],input:{component:kte,props:{columns:e[10]}},layout:"stacked",$$slots:{label:[Nte]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.field=e[3]),1024&n[0]&&(r.input={component:kte,props:{columns:e[10]}}),65664&n[0]|256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dte(e){let t,n;return t=new eO({props:{$$slots:{default:[Ate]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mte(e){let t,n;return t=new gw({props:{table:e[7],bold:!0,truncate:!1}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.table=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ote(e){let t,n,r="tableName"===e[38]&&Mte(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[38]?r?(r.p(e,n),128&n[1]&&je(r,1)):(r=Mte(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Nte(e){let t,n,r;return n=new Kg({props:{text:e[16]("target_column_in_table"),$$slots:{default:[Ote,({slotName:e})=>({38:e}),({slotName:e})=>[0,e?128:0]]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","label")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};65536&t[0]&&(r.text=e[16]("target_column_in_table")),128&t[0]|384&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Ate(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lte(e){let t,n,r,o,s=e[16]("set_constraint_name")+"";return r=new cte({}),{c(){t=F(s),n=j(),rt(r.$$.fragment)},m(e,s){L(e,t,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||65536&n[0])&&s!==(s=e[16]("set_constraint_name")+"")&&G(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function Pte(e){let t,n,r;function o(t){e[33](t)}let s={options:e[19],isInline:!0,getRadioLabel:e[32],$$slots:{default:[Lte]},$$scope:{ctx:e}};return void 0!==e[6]&&(s.value=e[6]),t=new Hl({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[21]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};65536&r[0]|256&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r[0]&&(n=!0,o.value=e[6],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Rte(e){let t,n;return t=new yO({props:{field:e[1],layout:"stacked",label:e[16]("constraint_name")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.field=e[1]),65536&n[0]&&(r.label=e[16]("constraint_name")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hte(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f=e[16]("new_foreign_key_constraint")+"";s=new yO({props:{field:e[5],input:{component:kte,props:{columns:e[13]}},layout:"stacked",label:e[16]("column_references_target_table")}}),a=new yO({props:{field:e[4],input:{component:UU,props:{autoSelect:"clear",tables:e[15]}},layout:"stacked",label:e[16]("target_table")}});let h=e[7]&&Ite(e);u=new eO({props:{$$slots:{default:[Pte]},$$scope:{ctx:e}}});let g="manual"===e[6]&&Rte(e);return $=new xO({props:{form:e[8],catchErrors:!0,onProceed:e[22],onCancel:e[0],size:"small",proceedButton:{label:e[16]("add")}}}),{c(){t=H("div"),n=H("span"),r=F(f),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment),l=j(),h&&h.c(),c=j(),rt(u.$$.fragment),d=j(),g&&g.c(),p=j(),rt($.$$.fragment),U(n,"class","title"),U(t,"class","add-new-fk-constraint svelte-1c0ahmy")},m(e,f){L(e,t,f),O(t,n),O(n,r),O(t,o),ot(s,t,null),O(t,i),ot(a,t,null),O(t,l),h&&h.m(t,null),O(t,c),ot(u,t,null),O(t,d),g&&g.m(t,null),O(t,p),ot($,t,null),m=!0},p(e,n){(!m||65536&n[0])&&f!==(f=e[16]("new_foreign_key_constraint")+"")&&G(r,f);const o={};32&n[0]&&(o.field=e[5]),8192&n[0]&&(o.input={component:kte,props:{columns:e[13]}}),65536&n[0]&&(o.label=e[16]("column_references_target_table")),s.$set(o);const i={};16&n[0]&&(i.field=e[4]),32768&n[0]&&(i.input={component:UU,props:{autoSelect:"clear",tables:e[15]}}),65536&n[0]&&(i.label=e[16]("target_table")),a.$set(i),e[7]?h?(h.p(e,n),128&n[0]&&je(h,1)):(h=Ite(e),h.c(),je(h,1),h.m(t,c)):h&&(ze(),qe(h,1,1,(()=>{h=null})),Fe());const l={};65600&n[0]|256&n[1]&&(l.$$scope={dirty:n,ctx:e}),u.$set(l),"manual"===e[6]?g?(g.p(e,n),64&n[0]&&je(g,1)):(g=Rte(e),g.c(),je(g,1),g.m(t,p)):g&&(ze(),qe(g,1,1,(()=>{g=null})),Fe());const d={};256&n[0]&&(d.form=e[8]),1&n[0]&&(d.onCancel=e[0]),65536&n[0]&&(d.proceedButton={label:e[16]("add")}),$.$set(d)},i(e){m||(je(s.$$.fragment,e),je(a.$$.fragment,e),je(h),je(u.$$.fragment,e),je(g),je($.$$.fragment,e),m=!0)},o(e){qe(s.$$.fragment,e),qe(a.$$.fragment,e),qe(h),qe(u.$$.fragment,e),qe(g),qe($.$$.fragment,e),m=!1},d(e){e&&P(t),st(s),st(a),h&&h.d(),st(u),g&&g.d(),st($)}}}function zte(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,C,E,k,I,T,D,M,O,N,A,L,P=o,R=o,H=o,z=o,F=o,j=o,q=o,V=o;m(e,NS,(e=>n(27,I=e))),m(e,YO,(e=>n(30,O=e))),m(e,Mg,(e=>n(16,A=e))),e.$$.on_destroy.push((()=>P())),e.$$.on_destroy.push((()=>R())),e.$$.on_destroy.push((()=>H())),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V()));let{onClose:B}=t;const W=new Map([["auto",A("automatically")],["manual",A("manually")]]),U=[...W.keys()],Y=EN();m(e,Y,(e=>n(29,M=e)));return e.$$set=e=>{"onClose"in e&&n(0,B=e.onClose)},e.$$.update=()=>{536870912&e.$$.dirty[0]&&(n(9,r=M.constraintsDataStore),q(),q=p(r,(e=>n(31,N=e)))),1&e.$$.dirty[1]&&n(23,s=new Set(N.constraints.map((e=>e.name)))),8388608&e.$$.dirty[0]&&(n(1,u=IO(void 0,[vM(s)])),H(),H=p(u,(e=>n(36,E=e)))),126&e.$$.dirty[0]&&n(8,d=DO({baseColumn:i,targetTable:a,targetColumn:l,namingStrategy:c,..."auto"===C?{}:{constraintName:u}})),1073741824&e.$$.dirty[0]&&n(15,$=[...O.values()]),1610612736&e.$$.dirty[0]&&(f=O.get(M.id)?.name??""),536870912&e.$$.dirty[0]&&(n(14,({processedColumns:h}=M),h),j(),j=p(h,(e=>n(28,D=e)))),268435456&e.$$.dirty[0]&&n(13,g=[...D.values()]),134217856&e.$$.dirty[0]&&n(25,y=T?new kN({id:T.id,abstractTypesMap:I.data}):void 0),33554432&e.$$.dirty[0]&&(n(12,v=qt(y?.isLoading)),V(),V=p(v,(e=>n(17,L=e)))),33554432&e.$$.dirty[0]&&(n(11,b=qt(y?.processedColumns)),z(),z=p(b,(e=>n(26,k=e)))),67108864&e.$$.dirty[0]&&n(24,w=k??new Map),16777216&e.$$.dirty[0]&&n(10,_=[...w.values()])},n(5,i=IO(void 0)),P(),P=p(i,(e=>n(35,x=e))),n(4,a=IO(void 0)),F(),F=p(a,(e=>n(7,T=e))),n(3,l=IO(void 0)),n(2,c=IO("auto")),R(),R=p(c,(e=>n(6,C=e))),[B,u,c,l,a,i,C,T,d,r,_,b,v,g,h,$,A,L,W,U,Y,function(){var e;S(u,E="manual"===C?(e=s,pA(`FK_${f}_${x?.column.name??""}`,e)):void 0,E)},async function(e){await r.add({columns:[e.baseColumn.id],type:"foreignkey",name:e.constraintName,referent_table:e.targetTable.id,referent_columns:[e.targetColumn.id]}),d.reset(),B?.()},s,w,y,k,I,D,M,O,N,e=>W.get(e)??"",function(e){C=e,c.set(C)}]}class Fte extends at{constructor(e){super(),it(this,e,zte,Hte,d,{onClose:0},null,[-1,-1])}}function jte(e){let t,n,r,s,i,a,l,c=e[1]("constraint_name")+"",u=e[0].name+"";return{c(){t=H("div"),n=H("span"),r=F(c),s=F(":"),i=j(),a=H("span"),l=F(u),U(t,"class","constraint-details svelte-ahl4tc")},m(e,o){L(e,t,o),O(t,n),O(n,r),O(n,s),O(t,i),O(t,a),O(a,l)},p(e,[t]){2&t&&c!==(c=e[1]("constraint_name")+"")&&G(r,c),1&t&&u!==(u=e[0].name+"")&&G(l,u)},i:o,o:o,d(e){e&&P(t)}}}function qte(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{constraint:o}=t;return e.$$set=e=>{"constraint"in e&&n(0,o=e.constraint)},[o,r]}class Vte extends at{constructor(e){super(),it(this,e,qte,jte,d,{constraint:0})}}function Bte(e,t,n){const r=e.slice();return r[6]=t[n],r}function Wte(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[2]("target")+"";l=new gw({props:{table:e[1]}});let $={ctx:e,current:null,token:null,hasCatch:!0,pending:Gte,then:Yte,catch:Ute,value:5,blocks:[,,,]};return Ye(u=e[3](e[0]),$),{c(){t=H("div"),n=H("span"),r=F(p),o=F(":"),s=j(),i=H("div"),a=H("span"),rt(l.$$.fragment),c=j(),$.block.c(),U(a,"class","entity-name-container svelte-1diy2q4"),U(i,"class","target-details svelte-1diy2q4"),U(t,"class","target svelte-1diy2q4")},m(e,u){L(e,t,u),O(t,n),O(n,r),O(n,o),O(t,s),O(t,i),O(i,a),ot(l,a,null),O(i,c),$.block.m(i,$.anchor=null),$.mount=()=>i,$.anchor=null,d=!0},p(t,n){e=t,(!d||4&n)&&p!==(p=e[2]("target")+"")&&G(r,p);const o={};2&n&&(o.table=e[1]),l.$set(o),$.ctx=e,1&n&&u!==(u=e[3](e[0]))&&Ye(u,$)||Ke($,e,n)},i(e){d||(je(l.$$.fragment,e),je($.block),d=!0)},o(e){qe(l.$$.fragment,e);for(let t=0;t<3;t+=1){qe($.blocks[t])}d=!1},d(e){e&&P(t),st(l),$.block.d(),$.token=null,$=null}}}function Ute(e){let t,n;const r=[Ir];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Ir)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yte(e){let t,n,r=[],o=new Map,s=e[5];const i=e=>e[6].id;for(let a=0;a<s.length;a+=1){let t=Bte(e,s,a),n=i(t);o.set(n,r[a]=Kte(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){9&n&&(s=e[5],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,Kte,t,Bte),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function Kte(e,t){let n,r,o,s;return r=new bA({props:{column:t[6]}}),{key:e,first:null,c(){n=H("span"),rt(r.$$.fragment),o=j(),U(n,"class","entity-name-container svelte-1diy2q4"),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.column=t[6]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function Gte(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xte(e){let t,n,r,o,s,i,a,l,c,u,d=e[2]("constraint_name")+"",p=e[0].name+"",$=e[1]&&Wte(e);return{c(){t=H("div"),n=H("div"),r=H("span"),o=F(d),s=F(":"),i=j(),a=H("span"),l=F(p),c=j(),$&&$.c(),U(t,"class","constraint-details svelte-1diy2q4")},m(e,d){L(e,t,d),O(t,n),O(n,r),O(r,o),O(r,s),O(n,i),O(n,a),O(a,l),O(t,c),$&&$.m(t,null),u=!0},p(e,[n]){(!u||4&n)&&d!==(d=e[2]("constraint_name")+"")&&G(o,d),(!u||1&n)&&p!==(p=e[0].name+"")&&G(l,p),e[1]?$?($.p(e,n),2&n&&je($,1)):($=Wte(e),$.c(),je($,1),$.m(t,null)):$&&(ze(),qe($,1,1,(()=>{$=null})),Fe())},i(e){u||(je($),u=!0)},o(e){qe($),u=!1},d(e){e&&P(t),$&&$.d()}}}function Zte(e,t,n){let r,o,s;m(e,UO,(e=>n(4,o=e))),m(e,Mg,(e=>n(2,s=e)));let{constraint:i}=t;return e.$$set=e=>{"constraint"in e&&n(0,i=e.constraint)},e.$$.update=()=>{17&e.$$.dirty&&n(1,r="foreignkey"===i.type?o.data.get(i.referent_table):void 0)},[i,r,s,async function(e){if("foreignkey"!==e.type)return[];const t=`/api/db/v0/tables/${e.referent_table}/columns/?limit=500`;return(await Wv(t)).results.filter((t=>e.referent_columns.includes(t.id)))},o]}class Jte extends at{constructor(e){super(),it(this,e,Zte,Xte,d,{constraint:0})}}function Qte(e,t,n){const r=e.slice();return r[18]=t[n],r}function ene(e){let t,n=e[7][e[0]]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[7][e[0]]+"")&&G(t,n)},d(e){e&&P(t)}}}function tne(e){let t,n;return t=new Hn({props:{appearance:"plain-primary",size:"small",$$slots:{default:[nne]},$$scope:{ctx:e}}}),t.$on("click",e[9]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097184&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nne(e){let t,n=e[5]("add")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){32&r&&n!==(n=e[5]("add")+"")&&G(t,n)},d(e){e&&P(t)}}}function rne(e){let t,n,r,o;const s=[sne,one],i=[];function a(e,t){return"foreignkey"===e[0]?0:"unique"===e[0]?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=H("div"),r&&r.c(),U(t,"class","add-constraint svelte-1gbuulg")},m(e,r){L(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,o){let l=n;n=a(e),n===l?~n&&i[n].p(e,o):(r&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~n?(r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null)):r=null)},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),~n&&i[n].d()}}}function one(e){let t,n;return t=new wte({props:{onClose:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sne(e){let t,n;return t=new Fte({props:{onClose:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ine(e){let t,n=!e[2]&&ane(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){e[2]?n&&(n.d(1),n=null):n?n.p(e,r):(n=ane(e),n.c(),n.m(t.parentNode,t))},d(e){n&&n.d(e),e&&P(t)}}}function ane(e){let t,n,r,o=e[5]("no_type_constraints",{values:{constraintType:e[8][e[0]]}})+"";return{c(){t=H("span"),n=F(o),r=j(),U(t,"class","null svelte-1gbuulg")},m(e,o){L(e,t,o),O(t,n),O(t,r)},p(e,t){33&t&&o!==(o=e[5]("no_type_constraints",{values:{constraintType:e[8][e[0]]}})+"")&&G(n,o)},d(e){e&&P(t)}}}function lne(e){let t,n,r,o;return n=new ste({props:{constraint:e[18]}}),{c(){t=H("span"),rt(n.$$.fragment),r=j(),U(t,"slot","header")},m(e,s){L(e,t,s),ot(n,t,null),O(t,r),o=!0},p(e,t){const r={};2&t&&(r.constraint=e[18]),n.$set(r)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function cne(e){let t,n;return t=new Hn({props:{size:"small",appearance:"plain",$$slots:{default:[une]},$$scope:{ctx:e}}}),t.$on("click",(function(){return e[14](e[18])})),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(n,r){e=n;const o={};2097152&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function une(e){let t,n;const r=[sy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(sy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dne(e){let t,n,r,o=e[3]&&cne(e);return{c(){t=H("span"),o&&o.c(),n=j(),U(t,"slot","trigger-aside")},m(e,s){L(e,t,s),o&&o.m(t,null),O(t,n),r=!0},p(e,r){e[3]?o?(o.p(e,r),8&r&&je(o,1)):(o=cne(e),o.c(),je(o,1),o.m(t,n)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe())},i(e){r||(je(o),r=!0)},o(e){qe(o),r=!1},d(e){e&&P(t),o&&o.d()}}}function pne(e){let t,n;return t=new Vte({props:{constraint:e[18]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.constraint=e[18]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $ne(e){let t,n;return t=new Jte({props:{constraint:e[18]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.constraint=e[18]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mne(e){let t,n,r,o,s;const i=[$ne,pne],a=[];function l(e,t){return"foreignkey"===e[0]?0:1}return n=l(e),r=a[n]=i[n](e),{c(){t=H("div"),r.c(),o=j(),U(t,"slot","content")},m(e,r){L(e,t,r),a[n].m(t,null),O(t,o),s=!0},p(e,s){let c=n;n=l(e),n===c?a[n].p(e,s):(ze(),qe(a[c],1,1,(()=>{a[c]=null})),Fe(),r=a[n],r?r.p(e,s):(r=a[n]=i[n](e),r.c()),je(r,1),r.m(t,o))},i(e){s||(je(r),s=!0)},o(e){qe(r),s=!1},d(e){e&&P(t),a[n].d()}}}function fne(e,t){let n,r,o;return r=new Bs({props:{triggerAppearance:"ghost",$$slots:{content:[mne],"trigger-aside":[dne],header:[lne]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2097163&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function hne(e){let t,n,r,o,s,i,a,l,c,u,d=e[8][e[0]]+"",p=[],$=new Map;i=new Ni({props:{$$slots:{default:[ene]},$$scope:{ctx:e}}});let m=e[4]&&tne(e),f=e[2]&&rne(e),h=e[1];const g=e=>e[18].id;for(let v=0;v<h.length;v+=1){let t=Qte(e,h,v),n=g(t);$.set(n,p[v]=fne(n,t))}let y=null;return h.length||(y=ine(e)),{c(){t=H("div"),n=H("span"),r=H("span"),o=F(d),s=j(),rt(i.$$.fragment),a=j(),m&&m.c(),l=j(),f&&f.c(),c=j();for(let e=0;e<p.length;e+=1)p[e].c();y&&y.c(),U(n,"class","title svelte-1gbuulg"),U(t,"class","constraint-type-section svelte-1gbuulg")},m(e,d){L(e,t,d),O(t,n),O(n,r),O(r,o),O(r,s),ot(i,r,null),O(n,a),m&&m.m(n,null),O(t,l),f&&f.m(t,null),O(t,c);for(let n=0;n<p.length;n+=1)p[n].m(t,null);y&&y.m(t,null),u=!0},p(e,[r]){(!u||1&r)&&d!==(d=e[8][e[0]]+"")&&G(o,d);const s={};2097153&r&&(s.$$scope={dirty:r,ctx:e}),i.$set(s),e[4]?m?(m.p(e,r),16&r&&je(m,1)):(m=tne(e),m.c(),je(m,1),m.m(n,null)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()),e[2]?f?(f.p(e,r),4&r&&je(f,1)):(f=rne(e),f.c(),je(f,1),f.m(t,c)):f&&(ze(),qe(f,1,1,(()=>{f=null})),Fe()),2351&r&&(h=e[1],ze(),p=Qe(p,r,g,1,e,h,$,t,Ze,fne,null,Qte),Fe(),!h.length&&y?y.p(e,r):h.length?y&&(y.d(1),y=null):(y=ine(e),y.c(),y.m(t,null)))},i(e){if(!u){je(i.$$.fragment,e),je(m),je(f);for(let e=0;e<h.length;e+=1)je(p[e]);u=!0}},o(e){qe(i.$$.fragment,e),qe(m),qe(f);for(let t=0;t<p.length;t+=1)qe(p[t]);u=!1},d(e){e&&P(t),st(i),m&&m.d(),f&&f.d();for(let t=0;t<p.length;t+=1)p[t].d();y&&y.d()}}}function gne(e,t,n){let r,o,s,i,a;m(e,Mg,(e=>n(5,i=e)));let{constraintType:l}=t,{constraints:c}=t,{canExecuteDDL:u}=t;const d=EN();m(e,d,(e=>n(13,a=e)));const p=["unique","foreignkey"],$=["unique","foreignkey"];let f=!1;const h={primary:i("primary_key_help"),foreignkey:i("foreign_key_help"),unique:i("unique_key_help"),check:"",exclude:""},g={primary:i("primary_keys"),foreignkey:i("foreign_keys"),unique:i("unique"),check:"",exclude:""};function y(e){Tv({identifierType:i("constraint"),identifierName:e.name,body:[i("are_you_sure_to_proceed")],onProceed:()=>r.remove(e.id)})}return e.$$set=e=>{"constraintType"in e&&n(0,l=e.constraintType),"constraints"in e&&n(1,c=e.constraints),"canExecuteDDL"in e&&n(12,u=e.canExecuteDDL)},e.$$.update=()=>{8192&e.$$.dirty&&(r=a.constraintsDataStore),4097&e.$$.dirty&&n(4,o=p.includes(l)&&u),4097&e.$$.dirty&&n(3,s=$.includes(l)&&u)},[l,c,f,s,o,i,d,h,g,function(){n(2,f=!0)},function(){n(2,f=!1)},y,u,a,e=>y(e)]}class yne extends at{constructor(e){super(),it(this,e,gne,hne,d,{constraintType:0,constraints:1,canExecuteDDL:12})}}function vne(e){let t,n,r,o,s,i,a;return n=new yne({props:{constraintType:"primary",constraints:e[4].get("primary")||[],canExecuteDDL:e[2]}}),o=new yne({props:{constraintType:"foreignkey",constraints:e[4].get("foreignkey")||[],canExecuteDDL:e[2]}}),i=new yne({props:{constraintType:"unique",constraints:e[4].get("unique")||[],canExecuteDDL:e[2]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),U(t,"class","constraints-list svelte-15s0oew")},m(e,l){L(e,t,l),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),ot(i,t,null),a=!0},p(e,t){const r={};16&t&&(r.constraints=e[4].get("primary")||[]),4&t&&(r.canExecuteDDL=e[2]),n.$set(r);const s={};16&t&&(s.constraints=e[4].get("foreignkey")||[]),4&t&&(s.canExecuteDDL=e[2]),o.$set(s);const a={};16&t&&(a.constraints=e[4].get("unique")||[]),4&t&&(a.canExecuteDDL=e[2]),i.$set(a)},i(e){a||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(n),st(o),st(i)}}}function bne(e){let t,n,r=e[7]("no_constraints")+"";return{c(){t=H("div"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){128&t&&r!==(r=e[7]("no_constraints")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function wne(e){let t,n,r,s,i,a=e[7]("unable_to_fetch_table_constraints")+"";return{c(){t=H("div"),n=F(a),r=j(),s=H("div"),i=F(e[5])},m(e,o){L(e,t,o),O(t,n),L(e,r,o),L(e,s,o),O(s,i)},p(e,t){128&t&&a!==(a=e[7]("unable_to_fetch_table_constraints")+"")&&G(n,a),32&t&&G(i,e[5])},i:o,o:o,d(e){e&&P(t),e&&P(r),e&&P(s)}}}function _ne(e){let t,n;const r=[Tr];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(Tr)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xne(e){let t,n,r,o;const s=[_ne,wne,bne,vne],i=[];function a(e,t){return e[3]?0:e[1]===Rv.Error?1:e[0]?2:3}return n=a(e),r=i[n]=s[n](e),{c(){t=H("div"),r.c(),U(t,"class","table-constraints")},m(e,r){L(e,t,r),i[n].m(t,null),o=!0},p(e,[o]){let l=n;n=a(e),n===l?i[n].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),r=i[n],r?r.p(e,o):(r=i[n]=s[n](e),r.c()),je(r,1),r.m(t,null))},i(e){o||(je(r),o=!0)},o(e){qe(r),o=!1},d(e){e&&P(t),i[n].d()}}}function Sne(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x=o;m(e,$M,(e=>n(17,b=e))),m(e,kS,(e=>n(18,w=e))),m(e,Mg,(e=>n(7,_=e))),e.$$.on_destroy.push((()=>x()));const S=EN();m(e,S,(e=>n(16,v=e)));const C=cb();return m(e,C,(e=>n(14,g=e))),e.$$.update=()=>{262144&e.$$.dirty&&n(11,r=w),131072&e.$$.dirty&&n(10,s=b),65536&e.$$.dirty&&(n(6,i=v.constraintsDataStore),x(),x=p(i,(e=>n(15,y=e)))),32768&e.$$.dirty&&n(1,a=y.state),32768&e.$$.dirty&&n(5,l=y.error),32768&e.$$.dirty&&n(13,c=y.constraints),8192&e.$$.dirty&&n(4,u=c.reduce(((e,t)=>{const n=e.get(t.type);return Array.isArray(n)?(e.set(t.type,[...n,t]),e):(e.set(t.type,[t]),e)}),new Map)),8192&e.$$.dirty&&n(0,d=0===c.length),2&e.$$.dirty&&n(12,$=a===Rv.Idle||a===Rv.Loading),4097&e.$$.dirty&&n(3,f=d&&$),19456&e.$$.dirty&&n(2,h=!!g?.hasPermission({database:r,schema:s},"canExecuteDDL"))},[d,a,h,f,u,l,i,_,S,C,s,r,$,c,g,y,v,b,w]}class Cne extends at{constructor(e){super(),it(this,e,Sne,xne,d,{})}}function Ene(e){let t,n,r,o,s,i=e[1]("constraints_info_help")+"";return o=new Cne({}),{c(){t=H("span"),n=F(i),r=j(),rt(o.$$.fragment),U(t,"class","description svelte-1m3vjcg")},m(e,i){L(e,t,i),O(t,n),L(e,r,i),ot(o,e,i),s=!0},p(e,t){(!s||2&t)&&i!==(i=e[1]("constraints_info_help")+"")&&G(n,i)},i(e){s||(je(o.$$.fragment,e),s=!0)},o(e){qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),e&&P(r),st(o,e)}}}function kne(e){let t,n,r=e[1]("constraints")+"";return{c(){t=H("span"),n=F(r),U(t,"slot","title")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1]("constraints")+"")&&G(n,r)},d(e){e&&P(t)}}}function Ine(e){let t,n;return t=new Sp({props:{controller:e[0],$$slots:{title:[kne],default:[Ene]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.controller=e[0]),6&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Tne(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{controller:o}=t;return e.$$set=e=>{"controller"in e&&n(0,o=e.controller)},[o,r]}class Dne extends at{constructor(e){super(),it(this,e,Tne,Ine,d,{controller:0})}}function Mne(e){let t,n=e[0]("constraints_info_help_mini")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("constraints_info_help_mini")+"")&&G(t,n)},d(e){e&&P(t)}}}function One(e){let t,n,r,o,s,a,l,c,u,d,p,$=e[0]("constraints")+"";const m=[Hy];let f={};for(let y=0;y<m.length;y+=1)f=i(f,m[y]);r=new Kr({props:f}),c=new Ni({props:{$$slots:{default:[Mne]},$$scope:{ctx:e}}});const h=[Sr];let g={};for(let y=0;y<h.length;y+=1)g=i(g,h[y]);return d=new Kr({props:g}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),s=H("span"),a=F($),l=j(),rt(c.$$.fragment),u=j(),rt(d.$$.fragment),U(t,"class","action-item svelte-lo2o6r")},m(e,i){L(e,t,i),O(t,n),ot(r,n,null),O(n,o),O(n,s),O(s,a),O(n,l),ot(c,n,null),O(t,u),ot(d,t,null),p=!0},p(e,t){const n=0&t?et(m,[tt(Hy)]):{};r.$set(n),(!p||1&t)&&$!==($=e[0]("constraints")+"")&&G(a,$);const o={};9&t&&(o.$$scope={dirty:t,ctx:e}),c.$set(o);const s=0&t?et(h,[tt(Sr)]):{};d.$set(s)},i(e){p||(je(r.$$.fragment,e),je(c.$$.fragment,e),je(d.$$.fragment,e),p=!0)},o(e){qe(r.$$.fragment,e),qe(c.$$.fragment,e),qe(d.$$.fragment,e),p=!1},d(e){e&&P(t),st(r),st(c),st(d)}}}function Nne(e){let t,n,r,o,s;return n=new Hn({props:{$$slots:{default:[One]},$$scope:{ctx:e}}}),n.$on("click",e[2]),o=new Dne({props:{controller:e[1]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","actions-container svelte-lo2o6r")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,[t]){const r={};9&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function Ane(e,t,n){let r;m(e,Mg,(e=>n(0,r=e)));const o=Sv.spawnModalController();return[r,o,()=>o.open()]}class Lne extends at{constructor(e){super(),it(this,e,Ane,Nne,d,{})}}function Pne(e){let t,n,r;return n=new gw({props:{table:e[0]}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"class","table-pill svelte-1auv76y"),te(t,"base","base"===e[1]),te(t,"target","target"===e[1]),te(t,"mapping","mapping"===e[1])},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[o]){const s={};1&o&&(s.table=e[0]),n.$set(s),(!r||2&o)&&te(t,"base","base"===e[1]),(!r||2&o)&&te(t,"target","target"===e[1]),(!r||2&o)&&te(t,"mapping","mapping"===e[1])},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Rne(e,t,n){let{table:r}=t,{which:o}=t;return e.$$set=e=>{"table"in e&&n(0,r=e.table),"which"in e&&n(1,o=e.which)},[r,o]}class Hne extends at{constructor(e){super(),it(this,e,Rne,Pne,d,{table:0,which:1})}}function zne(e){let t,n;return t=new Hne({props:{table:e[2],which:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),8&n&&(r.which=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fne(e){let t,n;return t=new Hne({props:{table:e[0],which:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.table=e[0]),2&n&&(r.which=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jne(e){let t,n,r,o;const s=[Fne,zne],i=[];function a(e,t){return"baseTable"===e[7]?0:"targetTable"===e[7]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function qne(e){let t,n;return t=new yO({props:{field:e[4],label:Wne}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.field=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vne(e){let t,n,r,s;return r=new Nr({}),{c(){t=F(Wne),n=j(),rt(r.$$.fragment)},m(e,o){L(e,t,o),L(e,n,o),ot(r,e,o),s=!0},p:o,i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function Bne(e){let t,n,r,o,s,i,a;n=new Kg({props:{text:e[6]("we_will_add_a_column_in_x_to_y"),$$slots:{default:[jne,({slotName:e})=>({7:e}),({slotName:e})=>e?128:0]},$$scope:{ctx:e}}});const l=[Vne,qne],c=[];function u(e,t){return e[5]?0:1}return o=u(e),s=c[o]=l[o](e),{c(){t=H("p"),rt(n.$$.fragment),r=j(),s.c(),i=q()},m(e,s){L(e,t,s),ot(n,t,null),L(e,r,s),c[o].m(e,s),L(e,i,s),a=!0},p(e,[t]){const r={};64&t&&(r.text=e[6]("we_will_add_a_column_in_x_to_y")),399&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);let a=o;o=u(e),o===a?c[o].p(e,t):(ze(),qe(c[a],1,1,(()=>{c[a]=null})),Fe(),s=c[o],s?s.p(e,t):(s=c[o]=l[o](e),s.c()),je(s,1),s.m(i.parentNode,i))},i(e){a||(je(n.$$.fragment,e),je(s),a=!0)},o(e){qe(n.$$.fragment,e),qe(s),a=!1},d(e){e&&P(t),st(n),e&&P(r),c[o].d(e),e&&P(i)}}}const Wne="Column Name";function Une(e,t,n){let r;m(e,Mg,(e=>n(6,r=e)));let{base:o}=t,{baseWhich:s="base"}=t,{target:i}=t,{targetWhich:a="target"}=t,{field:l}=t,{targetColumnsAreLoading:c=!1}=t;return e.$$set=e=>{"base"in e&&n(0,o=e.base),"baseWhich"in e&&n(1,s=e.baseWhich),"target"in e&&n(2,i=e.target),"targetWhich"in e&&n(3,a=e.targetWhich),"field"in e&&n(4,l=e.field),"targetColumnsAreLoading"in e&&n(5,c=e.targetColumnsAreLoading)},[o,s,i,a,l,c,r]}class Yne extends at{constructor(e){super(),it(this,e,Une,Bne,d,{base:0,baseWhich:1,target:2,targetWhich:3,field:4,targetColumnsAreLoading:5})}}function Kne(e){let t,n,r,o,s,a,l,c=[e[2],{class:"target"},{x:"21.79"},{y:"107.4"}],u={};for(let f=0;f<c.length;f+=1)u=i(u,c[f]);let d=[e[2],{class:"target"},{x:"119.1"},{y:"107.4"}],p={};for(let f=0;f<d.length;f+=1)p=i(p,d[f]);let $=[e[2],{class:"base"},{x:"70.46"},{y:"1.236"}],m={};for(let f=0;f<$.length;f+=1)m=i(m,$[f]);return{c(){t=z("path"),n=z("path"),r=z("path"),o=z("path"),s=z("rect"),a=z("rect"),l=z("rect"),U(t,"d","m88 28.26c-4e-6 46.95-42.67 33.06-42.67 79.17"),U(t,"class","line svelte-bu21sy"),U(n,"d","m100 28.26c1e-5 46.95 42.67 33.06 42.67 79.17"),U(n,"class","line svelte-bu21sy"),U(r,"d","m88 20.05 4.172 8.213h-8.344z"),U(r,"class","arrow svelte-bu21sy"),U(o,"d","m100 20.05 4.172 8.213h-8.344z"),U(o,"class","arrow svelte-bu21sy"),K(s,u),te(s,"svelte-bu21sy",!0),K(a,p),te(a,"svelte-bu21sy",!0),K(l,m),te(l,"svelte-bu21sy",!0)},m(e,i){L(e,t,i),L(e,n,i),L(e,r,i),L(e,o,i),L(e,s,i),L(e,a,i),L(e,l,i)},p(e,t){K(s,u=et(c,[e[2],{class:"target"},{x:"21.79"},{y:"107.4"}])),te(s,"svelte-bu21sy",!0),K(a,p=et(d,[e[2],{class:"target"},{x:"119.1"},{y:"107.4"}])),te(a,"svelte-bu21sy",!0),K(l,m=et($,[e[2],{class:"base"},{x:"70.46"},{y:"1.236"}])),te(l,"svelte-bu21sy",!0)},d(e){e&&P(t),e&&P(n),e&&P(r),e&&P(o),e&&P(s),e&&P(a),e&&P(l)}}}function Gne(e){let t,n,r,o,s,a,l,c,u,d,p,$,m,f,h,g,y,v,b,w=[e[2],{class:"target"},{x:"105.1"},{y:"107.4"}],_={};for(let L=0;L<w.length;L+=1)_=i(_,w[L]);let x=[e[2],{class:"target"},{x:"35.79"},{y:"107.4"}],S={};for(let L=0;L<x.length;L+=1)S=i(S,x[L]);let C=[e[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}],E={};for(let L=0;L<C.length;L+=1)E=i(E,C[L]);let k=[e[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}],I={};for(let L=0;L<k.length;L+=1)I=i(I,k[L]);let T=[e[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}],D={};for(let L=0;L<T.length;L+=1)D=i(D,T[L]);let M=[e[2],{class:"base"},{x:"105.1"},{y:"1.25"}],O={};for(let L=0;L<M.length;L+=1)O=i(O,M[L]);let N=[e[2],{class:"base"},{x:"35.79"},{y:"1.25"}],A={};for(let L=0;L<N.length;L+=1)A=i(A,N[L]);return{c(){t=z("path"),n=z("path"),r=z("path"),o=z("path"),s=z("path"),a=z("path"),l=z("path"),c=z("path"),u=z("path"),d=z("path"),p=z("path"),$=z("path"),m=z("rect"),f=z("rect"),h=z("rect"),g=z("rect"),y=z("rect"),v=z("rect"),b=z("rect"),U(t,"d","m94 54.37c0-17.95 28.67-7.609 28.67-26.1"),U(t,"class","line svelte-bu21sy"),U(n,"d","m163.4 54.34c0-17.95-28.67-7.579-28.67-26.07"),U(n,"class","line svelte-bu21sy"),U(r,"d","m24.65 72.63c0 17.95 28.67 7.609 28.67 26.1"),U(r,"class","line svelte-bu21sy"),U(o,"d","m94 72.66c0 17.95-28.67 7.579-28.67 26.07"),U(o,"class","line svelte-bu21sy"),U(s,"d","m24.65 54.34c0-17.95 28.67-7.609 28.67-26.1"),U(s,"class","line svelte-bu21sy"),U(a,"d","m163.4 72.66c0 17.95-28.67 7.579-28.67 26.07"),U(a,"class","line svelte-bu21sy"),U(l,"d","m53.32 106.9 4.172-8.213h-8.344z"),U(l,"class","arrow svelte-bu21sy"),U(c,"d","m65.33 106.9 4.172-8.213h-8.344z"),U(c,"class","arrow svelte-bu21sy"),U(u,"d","m134.7 106.9 4.172-8.213h-8.344z"),U(u,"class","arrow svelte-bu21sy"),U(d,"d","m122.7 20.06 4.172 8.213h-8.344z"),U(d,"class","arrow svelte-bu21sy"),U(p,"d","m134.7 20.06 4.172 8.213h-8.344z"),U(p,"class","arrow svelte-bu21sy"),U($,"d","m53.32 20.03 4.172 8.213h-8.344z"),U($,"class","arrow svelte-bu21sy"),K(m,_),te(m,"svelte-bu21sy",!0),K(f,S),te(f,"svelte-bu21sy",!0),K(h,E),te(h,"svelte-bu21sy",!0),K(g,I),te(g,"svelte-bu21sy",!0),K(y,D),te(y,"svelte-bu21sy",!0),K(v,O),te(v,"svelte-bu21sy",!0),K(b,A),te(b,"svelte-bu21sy",!0)},m(e,i){L(e,t,i),L(e,n,i),L(e,r,i),L(e,o,i),L(e,s,i),L(e,a,i),L(e,l,i),L(e,c,i),L(e,u,i),L(e,d,i),L(e,p,i),L(e,$,i),L(e,m,i),L(e,f,i),L(e,h,i),L(e,g,i),L(e,y,i),L(e,v,i),L(e,b,i)},p(e,t){K(m,_=et(w,[e[2],{class:"target"},{x:"105.1"},{y:"107.4"}])),te(m,"svelte-bu21sy",!0),K(f,S=et(x,[e[2],{class:"target"},{x:"35.79"},{y:"107.4"}])),te(f,"svelte-bu21sy",!0),K(h,E=et(C,[e[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}])),te(h,"svelte-bu21sy",!0),K(g,I=et(k,[e[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}])),te(g,"svelte-bu21sy",!0),K(y,D=et(T,[e[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}])),te(y,"svelte-bu21sy",!0),K(v,O=et(M,[e[2],{class:"base"},{x:"105.1"},{y:"1.25"}])),te(v,"svelte-bu21sy",!0),K(b,A=et(N,[e[2],{class:"base"},{x:"35.79"},{y:"1.25"}])),te(b,"svelte-bu21sy",!0)},d(e){e&&P(t),e&&P(n),e&&P(r),e&&P(o),e&&P(s),e&&P(a),e&&P(l),e&&P(c),e&&P(u),e&&P(d),e&&P(p),e&&P($),e&&P(m),e&&P(f),e&&P(h),e&&P(g),e&&P(y),e&&P(v),e&&P(b)}}}function Xne(e){let t;function n(e,t){return"manyToMany"===e[0]?Gne:Kne}let r=n(e),s=r(e);return{c(){t=z("svg"),s.c(),U(t,"viewBox","0 0 188 127"),U(t,"preserveAspectRatio","xMidYMid meet"),U(t,"class","svelte-bu21sy"),te(t,"flip",e[1])},m(e,n){L(e,t,n),s.m(t,null)},p(e,[o]){r===(r=n(e))&&s?s.p(e,o):(s.d(1),s=r(e),s&&(s.c(),s.m(t,null))),2&o&&te(t,"flip",e[1])},i:o,o:o,d(e){e&&P(t),s.d()}}}function Zne(e,t,n){let r;let{linkType:o}=t;return e.$$set=e=>{"linkType"in e&&n(0,o=e.linkType)},e.$$.update=()=>{1&e.$$.dirty&&n(1,r="manyToOne"===o)},[o,r,{width:"47.07",height:"18.31",rx:9.157}]}class Jne extends at{constructor(e){super(),it(this,e,Zne,Xne,d,{linkType:0})}}function Qne(e){let t,n=sc(e[0])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=sc(e[0])+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function ere(e){let t,n,r,o;const s=[ore,rre],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function tre(e){let t,n;return t=new Kg({props:{text:e[5]("many_to_one_link_description"),$$slots:{default:[mre,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("many_to_one_link_description")),3096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nre(e){let t,n;return t=new Kg({props:{text:e[5]("one_to_many_link_desc"),$$slots:{default:[gre,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("one_to_many_link_desc")),3096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rre(e){let t,n;return t=new Kg({props:{text:e[5]("many_to_many_link_description"),$$slots:{default:[lre,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("many_to_many_link_description")),3128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ore(e){let t,n;return t=new Kg({props:{text:e[5]("many_to_many_self_referential_link_description"),$$slots:{default:[dre,({slotName:e})=>({10:e}),({slotName:e})=>e?1024:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.text=e[5]("many_to_many_self_referential_link_description")),3112&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sre(e){let t,n;return t=new Hne({props:{table:{name:e[5]("linking_table")},which:"mapping"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.table={name:e[5]("linking_table")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ire(e){let t,n;return t=new Hne({props:{table:e[4],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function are(e){let t,n;return t=new Hne({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lre(e){let t,n,r,o;const s=[are,ire,sre],i=[];function a(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:"mappingTable"===e[10]?2:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function cre(e){let t,n;return t=new Hne({props:{table:{name:e[5]("linking_table")},which:"mapping"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.table={name:e[5]("linking_table")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ure(e){let t,n;return t=new Hne({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dre(e){let t,n,r,o;const s=[ure,cre],i=[];function a(e,t){return"baseTable"===e[10]?0:"mappingTable"===e[10]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function pre(e){let t,n;return t=new Hne({props:{table:e[4],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $re(e){let t,n;return t=new Hne({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mre(e){let t,n,r,o;const s=[$re,pre],i=[];function a(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function fre(e){let t,n;return t=new Hne({props:{table:e[4],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.table=e[4]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hre(e){let t,n;return t=new Hne({props:{table:e[3],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.table=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gre(e){let t,n,r,o;const s=[hre,fre],i=[];function a(e,t){return"baseTable"===e[10]?0:"targetTable"===e[10]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function yre(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f;o=new Il({props:{checked:e[7]}}),o.$on("change",e[8]),u=new Jne({props:{linkType:e[0]}});const h=[nre,tre,ere,Qne],g=[];function y(e,t){return"oneToMany"===e[0]?0:"manyToOne"===e[0]?1:"manyToMany"===e[0]?2:3}return $=y(e),m=g[$]=h[$](e),{c(){t=H("div"),n=H("span"),r=H("span"),rt(o.$$.fragment),s=j(),i=H("span"),a=F(e[6]),l=j(),c=H("span"),rt(u.$$.fragment),d=j(),p=H("span"),m.c(),U(r,"class","input svelte-i576i"),U(i,"class","label svelte-i576i"),U(n,"class","top svelte-i576i"),U(c,"class","diagram svelte-i576i"),U(p,"class","description svelte-i576i"),U(t,"class","link-type-option svelte-i576i"),te(t,"checked",e[7])},m(e,m){L(e,t,m),O(t,n),O(n,r),ot(o,r,null),O(n,s),O(n,i),O(i,a),O(t,l),O(t,c),ot(u,c,null),O(t,d),O(t,p),g[$].m(p,null),f=!0},p(e,n){const r={};128&n&&(r.checked=e[7]),o.$set(r),(!f||64&n)&&G(a,e[6]);const s={};1&n&&(s.linkType=e[0]),u.$set(s);let i=$;$=y(e),$===i?g[$].p(e,n):(ze(),qe(g[i],1,1,(()=>{g[i]=null})),Fe(),m=g[$],m?m.p(e,n):(m=g[$]=h[$](e),m.c()),je(m,1),m.m(p,null)),(!f||128&n)&&te(t,"checked",e[7])},i(e){f||(je(o.$$.fragment,e),je(u.$$.fragment,e),je(m),f=!0)},o(e){qe(o.$$.fragment,e),qe(u.$$.fragment,e),qe(m),f=!1},d(e){e&&P(t),st(o),st(u),g[$].d()}}}function vre(e){let t,n;return t=new xo({props:{style:"--Label__display:contents;",$$slots:{default:[yre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2299&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bre(e,t,n){let r,s,i,a,l=o,c=()=>(l(),l=p($,(e=>n(9,a=e))),$);m(e,Mg,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>l()));let{linkType:u}=t,{isSelfReferential:d}=t,{field:$}=t;c();let{base:f}=t,{target:h}=t;return e.$$set=e=>{"linkType"in e&&n(0,u=e.linkType),"isSelfReferential"in e&&n(1,d=e.isSelfReferential),"field"in e&&c(n(2,$=e.field)),"base"in e&&n(3,f=e.base),"target"in e&&n(4,h=e.target)},e.$$.update=()=>{513&e.$$.dirty&&n(7,r=u===a),33&e.$$.dirty&&n(6,s="oneToMany"===u?i("one_to_many"):"manyToOne"===u?i("many_to_one"):"manyToMany"===u?i("many_to_many"):sc(u))},[u,d,$,f,h,i,s,r,function({detail:e}){e&&$.set(u)},a]}class wre extends at{constructor(e){super(),it(this,e,bre,vre,d,{linkType:0,isSelfReferential:1,field:2,base:3,target:4})}}function _re(e,t,n){const r=e.slice();return r[6]=t[n],r}function xre(e,t){let n,r,o;return r=new wre({props:{linkType:t[6],isSelfReferential:t[1],field:t[2],base:t[3],target:t[4]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.linkType=t[6]),2&n&&(o.isSelfReferential=t[1]),4&n&&(o.field=t[2]),8&n&&(o.base=t[3]),16&n&&(o.target=t[4]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Sre(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[5]("type_of_link_to")+"",$=[],m=new Map;s=new Hne({props:{table:e[4],which:"target"}});let f=e[0];const h=e=>e[6];for(let g=0;g<f.length;g+=1){let t=_re(e,f,g),n=h(t);m.set(n,$[g]=xre(n,t))}return u=new KM({props:{field:e[2]}}),{c(){t=H("fieldset"),n=H("legend"),r=F(p),o=j(),rt(s.$$.fragment),i=F(":"),a=j(),l=H("div");for(let e=0;e<$.length;e+=1)$[e].c();c=j(),rt(u.$$.fragment),U(n,"class","svelte-5rsfq9"),U(l,"class","options svelte-5rsfq9"),U(t,"class","svelte-5rsfq9")},m(e,p){L(e,t,p),O(t,n),O(n,r),O(n,o),ot(s,n,null),O(n,i),O(t,a),O(t,l);for(let t=0;t<$.length;t+=1)$[t].m(l,null);L(e,c,p),ot(u,e,p),d=!0},p(e,t){(!d||32&t)&&p!==(p=e[5]("type_of_link_to")+"")&&G(r,p);const n={};16&t&&(n.table=e[4]),s.$set(n),31&t&&(f=e[0],ze(),$=Qe($,t,h,1,e,f,m,l,Ze,xre,null,_re),Fe());const o={};4&t&&(o.field=e[2]),u.$set(o)},i(e){if(!d){je(s.$$.fragment,e);for(let e=0;e<f.length;e+=1)je($[e]);je(u.$$.fragment,e),d=!0}},o(e){qe(s.$$.fragment,e);for(let t=0;t<$.length;t+=1)qe($[t]);qe(u.$$.fragment,e),d=!1},d(e){e&&P(t),st(s);for(let t=0;t<$.length;t+=1)$[t].d();e&&P(c),st(u,e)}}}function Cre(e){let t,n;return t=new eO({props:{$$slots:{default:[Sre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};575&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ere(e,t,n){let r;m(e,Mg,(e=>n(5,r=e)));let{linkTypes:o}=t,{isSelfReferential:s}=t,{field:i}=t,{base:a}=t,{target:l}=t;return e.$$set=e=>{"linkTypes"in e&&n(0,o=e.linkTypes),"isSelfReferential"in e&&n(1,s=e.isSelfReferential),"field"in e&&n(2,i=e.field),"base"in e&&n(3,a=e.base),"target"in e&&n(4,l=e.target)},[o,s,i,a,l,r]}class kre extends at{constructor(e){super(),it(this,e,Ere,Cre,d,{linkTypes:0,isSelfReferential:1,field:2,base:3,target:4})}}function Ire(){return gM((e=>"id"===e),$(Mg)("id_is_reserved_column"))}function Tre(e){let t,n=e[13]("links_info")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8192&r[0]&&n!==(n=e[13]("links_info")+"")&&G(t,n)},d(e){e&&P(t)}}}function Dre(e){let t,n;return t=new wz({props:{$$slots:{default:[Tre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n[0]|8192&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mre(e){let t,n;return t=new Hne({props:{table:e[0],which:"base"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.table=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ore(e){let t,n,r="tablePill"===e[43]&&Mre(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tablePill"===e[43]?r?(r.p(e,n),4096&n[1]&&je(r,1)):(r=Mre(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Nre(e){let t,n,r;return n=new Kg({props:{text:e[13]("link_table_to"),$$slots:{default:[Ore,({slotName:e})=>({43:e}),({slotName:e})=>[0,e?4096:0]]},$$scope:{ctx:e}}}),{c(){t=H("span"),rt(n.$$.fragment),U(t,"slot","label")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};8192&t[0]&&(r.text=e[13]("link_table_to")),1&t[0]|12288&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Are(e){let t,n,r,o;return t=new kre({props:{field:e[8],isSelfReferential:e[11],linkTypes:e[18],base:e[0],target:e[2]}}),r=new eO({props:{$$slots:{default:[Yre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};256&n[0]&&(o.field=e[8]),2048&n[0]&&(o.isSelfReferential=e[11]),262144&n[0]&&(o.linkTypes=e[18]),1&n[0]&&(o.base=e[0]),4&n[0]&&(o.target=e[2]),t.$set(o);const s={};2112765&n[0]|8192&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Lre(e){let t,n=sc(e[12])+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4096&r[0]&&n!==(n=sc(e[12])+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function Pre(e){let t,n,r,o;const s=[Fre,zre],i=[];function a(e,t){return e[11]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Rre(e){let t,n;return t=new Yne({props:{base:e[0],target:e[2],field:e[6]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.base=e[0]),4&n[0]&&(r.target=e[2]),64&n[0]&&(r.field=e[6]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hre(e){let t,n;return t=new Yne({props:{base:e[2],target:e[0],field:e[7],targetColumnsAreLoading:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.base=e[2]),1&n[0]&&(r.target=e[0]),128&n[0]&&(r.field=e[7]),1024&n[0]&&(r.targetColumnsAreLoading=e[10]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zre(e){let t,n,r,o,s,i,a,l=e[13]("we_will_create_a_new_table")+"";o=new yO({props:{field:e[5],label:e[13]("table_name")}});let c=e[21]&&jre(e);return{c(){t=H("p"),n=F(l),r=j(),rt(o.$$.fragment),s=j(),c&&c.c(),i=q()},m(e,l){L(e,t,l),O(t,n),L(e,r,l),ot(o,e,l),L(e,s,l),c&&c.m(e,l),L(e,i,l),a=!0},p(e,t){(!a||8192&t[0])&&l!==(l=e[13]("we_will_create_a_new_table")+"")&&G(n,l);const r={};32&t[0]&&(r.field=e[5]),8192&t[0]&&(r.label=e[13]("table_name")),o.$set(r),e[21]?c?(c.p(e,t),2097152&t[0]&&je(c,1)):(c=jre(e),c.c(),je(c,1),c.m(i.parentNode,i)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){a||(je(o.$$.fragment,e),je(c),a=!0)},o(e){qe(o.$$.fragment,e),qe(c),a=!1},d(e){e&&P(t),e&&P(r),st(o,e),e&&P(s),c&&c.d(e),e&&P(i)}}}function Fre(e){let t,n,r,o,s,i,a,l=e[13]("we_will_create_a_new_table")+"";o=new yO({props:{field:e[5],label:e[13]("table_name")}});let c=e[21]&&qre(e);return{c(){t=H("p"),n=F(l),r=j(),rt(o.$$.fragment),s=j(),c&&c.c(),i=q()},m(e,l){L(e,t,l),O(t,n),L(e,r,l),ot(o,e,l),L(e,s,l),c&&c.m(e,l),L(e,i,l),a=!0},p(e,t){(!a||8192&t[0])&&l!==(l=e[13]("we_will_create_a_new_table")+"")&&G(n,l);const r={};32&t[0]&&(r.field=e[5]),8192&t[0]&&(r.label=e[13]("table_name")),o.$set(r),e[21]?c?(c.p(e,t),2097152&t[0]&&je(c,1)):(c=qre(e),c.c(),je(c,1),c.m(i.parentNode,i)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){a||(je(o.$$.fragment,e),je(c),a=!0)},o(e){qe(o.$$.fragment,e),qe(c),a=!1},d(e){e&&P(t),e&&P(r),st(o,e),e&&P(s),c&&c.d(e),e&&P(i)}}}function jre(e){let t,n,r,o;return t=new Yne({props:{base:{name:e[21]},baseWhich:"mapping",target:e[0],targetWhich:"base",field:e[4]}}),r=new Yne({props:{base:{name:e[21]},baseWhich:"mapping",target:e[2],field:e[3]}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};2097152&n[0]&&(o.base={name:e[21]}),1&n[0]&&(o.target=e[0]),16&n[0]&&(o.field=e[4]),t.$set(o);const s={};2097152&n[0]&&(s.base={name:e[21]}),4&n[0]&&(s.target=e[2]),8&n[0]&&(s.field=e[3]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function qre(e){let t,n,r,o,s,i,a;return n=new Kg({props:{text:e[13]("we_will_add_two_columns_in_x_to_y"),$$slots:{default:[Wre,({slotName:e})=>({43:e}),({slotName:e})=>[0,e?4096:0]]},$$scope:{ctx:e}}}),o=new yO({props:{field:e[4],label:e[13]("column_number_name",{values:{number:1}})}}),i=new yO({props:{field:e[3],label:e[13]("column_number_name",{values:{number:2}})}}),{c(){t=H("p"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment)},m(e,l){L(e,t,l),ot(n,t,null),L(e,r,l),ot(o,e,l),L(e,s,l),ot(i,e,l),a=!0},p(e,t){const r={};8192&t[0]&&(r.text=e[13]("we_will_add_two_columns_in_x_to_y")),2097156&t[0]|12288&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};16&t[0]&&(s.field=e[4]),8192&t[0]&&(s.label=e[13]("column_number_name",{values:{number:1}})),o.$set(s);const a={};8&t[0]&&(a.field=e[3]),8192&t[0]&&(a.label=e[13]("column_number_name",{values:{number:2}})),i.$set(a)},i(e){a||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(n),e&&P(r),st(o,e),e&&P(s),st(i,e)}}}function Vre(e){let t,n;return t=new Hne({props:{table:e[2],which:"target"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.table=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bre(e){let t,n;return t=new Hne({props:{table:{name:e[21]},which:"mapping"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2097152&n[0]&&(r.table={name:e[21]}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wre(e){let t,n,r,o;const s=[Bre,Vre],i=[];function a(e,t){return"mappingTable"===e[43]?0:"targetTable"===e[43]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=q()},m(e,n){~t&&i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?~t&&i[t].p(e,o):(n&&(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe()),~t?(n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){~t&&i[t].d(e),e&&P(r)}}}function Ure(e){let t,n,r,o;const s=[Hre,Rre,Pre,Lre],i=[];function a(e,t){return"oneToMany"===e[12]?0:"manyToOne"===e[12]?1:"manyToMany"===e[12]?2:3}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Yre(e){let t,n;return t=new h5({props:{$$slots:{default:[Ure]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2112765&n[0]|8192&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kre(e){let t,n,r,o,s,i,a,l,c,u,d;n=new eO({props:{$$slots:{default:[Dre]},$$scope:{ctx:e}}}),o=new yO({props:{field:e[9],input:{component:UU,props:{tables:e[20],autoSelect:"none"}},$$slots:{label:[Nre]},$$scope:{ctx:e}}});let p=e[2]&&Are(e);return l=new xO({props:{form:e[14],catchErrors:!0,canProceed:e[15],onCancel:e[1],proceedButton:{label:e[13]("create_link"),icon:Qy},onProceed:e[23]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),p&&p.c(),i=j(),a=H("div"),rt(l.$$.fragment),U(t,"class","form svelte-1ed7u92"),te(t,"self-referential",e[11])},m(e,$){L(e,t,$),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),p&&p.m(t,null),L(e,i,$),L(e,a,$),ot(l,a,null),c=!0,u||(d=C(qm.call(null,a)),u=!0)},p(e,r){const s={};8192&r[0]|8192&r[1]&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const i={};512&r[0]&&(i.field=e[9]),1048576&r[0]&&(i.input={component:UU,props:{tables:e[20],autoSelect:"none"}}),8193&r[0]|8192&r[1]&&(i.$$scope={dirty:r,ctx:e}),o.$set(i),e[2]?p?(p.p(e,r),4&r[0]&&je(p,1)):(p=Are(e),p.c(),je(p,1),p.m(t,null)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe()),(!c||2048&r[0])&&te(t,"self-referential",e[11]);const a={};16384&r[0]&&(a.form=e[14]),32768&r[0]&&(a.canProceed=e[15]),2&r[0]&&(a.onCancel=e[1]),8192&r[0]&&(a.proceedButton={label:e[13]("create_link"),icon:Qy}),l.$set(a)},i(e){c||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(p),je(l.$$.fragment,e),c=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(p),qe(l.$$.fragment,e),c=!1},d(e){e&&P(t),st(n),st(o),p&&p.d(),e&&P(i),e&&P(a),st(l),u=!1,d()}}}function Gre(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z,F,j,q,V=o,B=o,W=o,U=o,Y=o,K=o,G=o,X=o,Z=o,J=o;m(e,nM,(e=>n(36,T=e))),m(e,Mg,(e=>n(13,L=e))),m(e,KO,(e=>n(29,P=e))),m(e,UO,(e=>n(34,j=e))),m(e,YO,(e=>n(35,q=e))),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>B())),e.$$.on_destroy.push((()=>W())),e.$$.on_destroy.push((()=>U())),e.$$.on_destroy.push((()=>Y())),e.$$.on_destroy.push((()=>K())),e.$$.on_destroy.push((()=>G())),e.$$.on_destroy.push((()=>X())),e.$$.on_destroy.push((()=>Z())),e.$$.on_destroy.push((()=>J()));const Q=EN();m(e,Q,(e=>n(28,k=e)));let{base:ee}=t,{close:te}=t;return e.$$set=e=>{"base"in e&&n(0,ee=e.base),"close"in e&&n(1,te=e.close)},e.$$.update=()=>{1&e.$$.dirty[0]&&n(24,r=JS(ee.name)),16&e.$$.dirty[1]&&n(20,s=[...q.values()]),8&e.$$.dirty[1]&&n(25,i=[...j.data.values()]),268435456&e.$$.dirty[0]&&n(27,({columnsDataStore:a}=k),a),134217728&e.$$.dirty[0]&&(n(19,l=a.columns),X(),X=p(l,(e=>n(31,H=e)))),4&e.$$.dirty[1]&&n(2,u=F),5&e.$$.dirty[0]&&n(11,d=ee.id===u?.id),2048&e.$$.dirty[0]&&n(18,$=d?["manyToOne","manyToMany"]:["manyToOne","oneToMany","manyToMany"]),256&e.$$.dirty[0]|4&e.$$.dirty[1]&&f.reset(),4&e.$$.dirty[0]&&n(26,h=u?new FC({tableId:u.id}):void 0),67108864&e.$$.dirty[0]&&(n(17,g=qt(h?.columns??[])),G(),G=p(g,(e=>n(30,R=e)))),67108864&e.$$.dirty[0]&&(n(16,y=qt(h?.fetchStatus)),Z(),Z=p(y,(e=>n(32,z=e)))),2&e.$$.dirty[1]&&n(10,v="processing"===z?.state),4&e.$$.dirty[0]|1&e.$$.dirty[1]&&(n(6,b=IO(mA(u,H),[fA(H)])),Y(),Y=p(b,(e=>n(39,N=e)))),1073741825&e.$$.dirty[0]&&(n(7,w=IO(mA(ee,R),[fA(R)])),K(),K=p(w,(e=>n(40,A=e)))),570425349&e.$$.dirty[0]&&(n(5,_=IO(function(e,t,n){return t?pA(`${e.name}_${t.name}`,new Set(n.map((e=>e.name)))):""}(ee,u,i),[P])),U(),U=p(_,(e=>n(21,O=e)))),16779265&e.$$.dirty[0]&&(n(4,x=IO(d?pA(`${r}_1`,new Set(["id",r])):mA(ee),[Ire()])),W(),W=p(x,(e=>n(38,M=e)))),16779268&e.$$.dirty[0]&&(n(3,S=IO(d?pA(`${r}_2`,new Set(["id",r])):mA(u),[Ire()])),B(),B=p(S,(e=>n(37,D=e)))),5120&e.$$.dirty[0]&&n(15,C=!("manyToOne"===I&&v)),13304&e.$$.dirty[0]&&n(14,E=(()=>{const e={targetTable:c,linkType:f};return"oneToMany"===I?DO({...e,columnNameInTarget:w}):"manyToOne"===I?DO({...e,columnNameInBase:b}):"manyToMany"===I?DO({...e,mappingTableName:_,columnNameMappingToBase:x,columnNameMappingToTarget:S},[(t=[x,S],n=([e,t])=>e===t,r=L("two_columns_cannot_have_same_name"),CM(t,gM(n,r)))]):sc(I);var t,n,r})())},n(9,c=IO(void 0)),J(),J=p(c,(e=>n(33,F=e))),n(8,f=IO("manyToOne")),V(),V=p(f,(e=>n(12,I=e))),[ee,te,u,S,x,_,b,w,f,c,v,d,I,L,E,C,y,g,$,l,s,O,Q,async function(e){await Uv("/api/db/v0/links/",function(e){return"oneToMany"===I?{link_type:"one-to-many",reference_table:e.targetTable.id,reference_column_name:A,referent_table:ee.id}:"manyToOne"===I?{link_type:"one-to-many",reference_table:ee.id,reference_column_name:N,referent_table:e.targetTable.id}:"manyToMany"===I?{link_type:"many-to-many",mapping_table_name:O,referents:[{referent_table:ee.id,column_name:M},{referent_table:e.targetTable.id,column_name:D}]}:sc(I)}(e)),Cv.success("The link has been created successfully"),await async function(){if("manyToMany"===I&&void 0!==T)return void(await PO(T));const e="oneToMany"===I?u:ee;e&&e.id===k.id&&await k.refresh()}(),te()},r,i,h,a,k,P,R,H,z,F,j,q]}class Xre extends at{constructor(e){super(),it(this,e,Gre,Kre,d,{base:0,close:1},null,[-1,-1])}}function Zre(e){let t,n;return t=new Sp({props:{controller:e[0],size:"large",title:e[2]("create_link"),$$slots:{default:[Jre]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.controller=e[0]),4&n&&(r.title=e[2]("create_link")),19&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jre(e){let t,n;return t=new Xre({props:{base:e[1],close:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.base=e[1]),1&n&&(r.close=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qre(e){let t,n,r=e[1]&&Zre(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&je(r,1)):(r=Zre(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function eoe(e,t,n){let r,o;m(e,XO,(e=>n(1,r=e))),m(e,Mg,(e=>n(2,o=e)));let{controller:s}=t;return e.$$set=e=>{"controller"in e&&n(0,s=e.controller)},[s,r,o,()=>s.close()]}class toe extends at{constructor(e){super(),it(this,e,eoe,Qre,d,{controller:0})}}function noe(e){let t,n,r=e[0].column.name+"";return{c(){t=H("strong"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0].column.name+"")&&G(n,r)},d(e){e&&P(t)}}}function roe(e){let t,n="columnName"===e[5]&&noe(e);return{c(){n&&n.c(),t=q()},m(e,r){n&&n.m(e,r),L(e,t,r)},p(e,r){"columnName"===e[5]?n?n.p(e,r):(n=noe(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&P(t)}}}function ooe(e){let t,n,r,o,s,i,a;return r=new gw({props:{table:e[0].table,truncate:!1}}),i=new Kg({props:{text:e[2]("linked_via_column"),$$slots:{default:[roe,({slotName:e})=>({5:e}),({slotName:e})=>e?32:0]},$$scope:{ctx:e}}}),{c(){t=H("a"),n=H("span"),rt(r.$$.fragment),o=j(),s=H("span"),rt(i.$$.fragment),U(n,"class","table-name svelte-qstra6"),U(s,"class","sub-text svelte-qstra6"),U(t,"class","passthrough link-item-container svelte-qstra6"),U(t,"href",e[1])},m(e,l){L(e,t,l),O(t,n),ot(r,n,null),O(t,o),O(t,s),ot(i,s,null),a=!0},p(e,[n]){const o={};1&n&&(o.table=e[0].table),r.$set(o);const s={};4&n&&(s.text=e[2]("linked_via_column")),97&n&&(s.$$scope={dirty:n,ctx:e}),i.$set(s),(!a||2&n)&&U(t,"href",e[1])},i(e){a||(je(r.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(r.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){e&&P(t),st(r),st(i)}}}function soe(e,t,n){let r,o,s,i;m(e,eN,(e=>n(4,s=e))),m(e,Mg,(e=>n(2,i=e)));let{link:a}=t;return e.$$set=e=>{"link"in e&&n(0,a=e.link)},e.$$.update=()=>{1&e.$$.dirty&&n(3,r=a.table.id),24&e.$$.dirty&&n(1,o=s({tableId:r}))},[a,o,i,r,s]}class ioe extends at{constructor(e){super(),it(this,e,soe,ooe,d,{link:0})}}function aoe(e,t,n){const r=e.slice();return r[5]=t[n],r}function loe(e){let t,n;return t=new ioe({props:{link:e[5]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.link=e[5]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function coe(e){let t,n,r,o,s,a,l,c,u,d;const p=[e[2]];let $={};for(let g=0;g<p.length;g+=1)$=i($,p[g]);o=new Kr({props:$});let m=e[0],f=[];for(let i=0;i<m.length;i+=1)f[i]=loe(aoe(e,m,i));const h=e=>qe(f[e],1,1,(()=>{f[e]=null}));return{c(){t=H("div"),n=H("div"),r=H("div"),rt(o.$$.fragment),s=j(),a=H("span"),l=F(e[1]),c=j(),u=H("div");for(let e=0;e<f.length;e+=1)f[e].c();U(r,"class","left svelte-t66uzd"),U(n,"class","header svelte-t66uzd"),U(u,"class","links svelte-t66uzd"),U(t,"class","link-section-container svelte-t66uzd")},m(e,i){L(e,t,i),O(t,n),O(n,r),ot(o,r,null),O(r,s),O(r,a),O(a,l),O(t,c),O(t,u);for(let t=0;t<f.length;t+=1)f[t].m(u,null);d=!0},p(e,[t]){const n=4&t?et(p,[tt(e[2])]):{};if(o.$set(n),(!d||2&t)&&G(l,e[1]),1&t){let n;for(m=e[0],n=0;n<m.length;n+=1){const r=aoe(e,m,n);f[n]?(f[n].p(r,t),je(f[n],1)):(f[n]=loe(r),f[n].c(),je(f[n],1),f[n].m(u,null))}for(ze(),n=m.length;n<f.length;n+=1)h(n);Fe()}},i(e){if(!d){je(o.$$.fragment,e);for(let e=0;e<m.length;e+=1)je(f[e]);d=!0}},o(e){qe(o.$$.fragment,e),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)qe(f[t]);d=!1},d(e){e&&P(t),st(o),R(f,e)}}}function uoe(e,t,n){let r,o,s;m(e,Mg,(e=>n(4,s=e)));let{links:i}=t,{type:a}=t;return e.$$set=e=>{"links"in e&&n(0,i=e.links),"type"in e&&n(3,a=e.type)},e.$$.update=()=>{8&e.$$.dirty&&n(2,r=(()=>{switch(a){case"in_this_table":return sv;case"from_other_tables":return iv;default:throw new oc(a)}})()),24&e.$$.dirty&&n(1,o=(()=>{switch(a){case"in_this_table":return s("in_this_table");case"from_other_tables":return s("from_other_tables");default:throw new oc(a)}})())},[i,o,r,a,s]}class doe extends at{constructor(e){super(),it(this,e,uoe,coe,d,{links:0,type:3})}}function poe(e){let t,n;return t=new doe({props:{type:"in_this_table",links:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.links=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $oe(e){let t,n;return t=new doe({props:{type:"from_other_tables",links:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.links=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function moe(e){let t,n,r=e[4]("table_does_not_link")+"";return{c(){t=H("span"),n=F(r),U(t,"class","null-text svelte-1stqpqi")},m(e,r){L(e,t,r),O(t,n)},p(e,t){16&t&&r!==(r=e[4]("table_does_not_link")+"")&&G(n,r)},d(e){e&&P(t)}}}function foe(e){let t,n,r,o,s;return n=new Hn({props:{appearance:"secondary",$$slots:{default:[hoe]},$$scope:{ctx:e}}}),n.$on("click",e[6]),o=new toe({props:{controller:e[5]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r={};144&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function hoe(e){let t,n,r,o,s,a=e[4]("create_link")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||16&n)&&a!==(a=e[4]("create_link")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function goe(e){let t,n,r,o,s,i=e[0].length&&poe(e),a=e[1].length&&$oe(e),l=e[3]&&moe(e),c=e[2]&&foe(e);return{c(){t=H("div"),i&&i.c(),n=j(),a&&a.c(),r=j(),l&&l.c(),o=j(),c&&c.c(),U(t,"class","links-section svelte-1stqpqi")},m(e,u){L(e,t,u),i&&i.m(t,null),O(t,n),a&&a.m(t,null),O(t,r),l&&l.m(t,null),O(t,o),c&&c.m(t,null),s=!0},p(e,[s]){e[0].length?i?(i.p(e,s),1&s&&je(i,1)):(i=poe(e),i.c(),je(i,1),i.m(t,n)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe()),e[1].length?a?(a.p(e,s),2&s&&je(a,1)):(a=$oe(e),a.c(),je(a,1),a.m(t,r)):a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()),e[3]?l?l.p(e,s):(l=moe(e),l.c(),l.m(t,o)):l&&(l.d(1),l=null),e[2]?c?(c.p(e,s),4&s&&je(c,1)):(c=foe(e),c.c(),je(c,1),c.m(t,null)):c&&(ze(),qe(c,1,1,(()=>{c=null})),Fe())},i(e){s||(je(i),je(a),je(c),s=!0)},o(e){qe(i),qe(a),qe(c),s=!1},d(e){e&&P(t),i&&i.d(),a&&a.d(),l&&l.d(),c&&c.d()}}}function yoe(e,t,n){let r,o;m(e,Mg,(e=>n(4,o=e)));let{linksInThisTable:s}=t,{linksFromOtherTables:i}=t,{canExecuteDDL:a}=t;const l=Sv.spawnModalController();return e.$$set=e=>{"linksInThisTable"in e&&n(0,s=e.linksInThisTable),"linksFromOtherTables"in e&&n(1,i=e.linksFromOtherTables),"canExecuteDDL"in e&&n(2,a=e.canExecuteDDL)},e.$$.update=()=>{3&e.$$.dirty&&n(3,r=!s.length&&!i.length)},[s,i,a,r,o,l,()=>l.open()]}class voe extends at{constructor(e){super(),it(this,e,yoe,goe,d,{linksInThisTable:0,linksFromOtherTables:1,canExecuteDDL:2})}}function boe(e,t,n){switch(e){case"in_this_table":return t.joinable_tables.filter((e=>!e.fk_path[0][1])).map((e=>({table:{id:e.target,name:t.tables[e.target].name},column:{id:e.jp_path[0][0],name:n.get(e.jp_path[0][0])?.column.name||"--"}})));case"from_other_tables":return t.joinable_tables.filter((e=>e.fk_path[0][1])).map((e=>({table:{id:e.target,name:t.tables[e.target].name},column:{id:e.jp_path[0][1],name:t.columns[e.jp_path[0][1]].name}})));default:throw new oc(e)}}function woe(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function _oe(e){let t,n;return t=new voe({props:{linksInThisTable:boe("in_this_table",e[6],e[3]),linksFromOtherTables:boe("from_other_tables",e[6],e[3]),canExecuteDDL:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};12&n&&(r.linksInThisTable=boe("in_this_table",e[6],e[3])),12&n&&(r.linksFromOtherTables=boe("from_other_tables",e[6],e[3])),1&n&&(r.canExecuteDDL=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xoe(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Soe(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!1,pending:xoe,then:_oe,catch:woe,value:6,blocks:[,,,]};return Ye(n=ZO(e[2]),o),{c(){t=H("div"),o.block.c()},m(e,n){L(e,t,n),o.block.m(t,o.anchor=null),o.mount=()=>t,o.anchor=null,r=!0},p(t,[r]){e=t,o.ctx=e,4&r&&n!==(n=ZO(e[2]))&&Ye(n,o)||Ke(o,e,r)},i(e){r||(je(o.block),r=!0)},o(e){for(let t=0;t<3;t+=1){qe(o.blocks[t])}r=!1},d(e){e&&P(t),o.block.d(),o.token=null,o=null}}}function Coe(e,t,n){let r,s,i,a,l=o;e.$$.on_destroy.push((()=>l()));let{canExecuteDDL:c}=t;const u=EN();return m(e,u,(e=>n(5,i=e))),e.$$set=e=>{"canExecuteDDL"in e&&n(0,c=e.canExecuteDDL)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=i.id),32&e.$$.dirty&&(n(1,s=i.processedColumns),l(),l=p(s,(e=>n(3,a=e))))},[c,s,r,a,u,i]}class Eoe extends at{constructor(e){super(),it(this,e,Coe,Soe,d,{canExecuteDDL:0})}}function koe(e){let t,n,r,o,s,i,a=e[2]("description")+"";function l(...t){return e[5](e[6],...t)}return s=new c5({props:{initialValue:e[3].data.get(e[1].id)?.description??"",onSubmit:l,isLongText:!0,disabled:e[0]}}),{c(){t=H("div"),n=H("span"),r=F(a),o=j(),rt(s.$$.fragment),U(n,"class","label"),U(t,"class","update-table-description-property-container svelte-86tcs8")},m(e,a){L(e,t,a),O(t,n),O(n,r),O(t,o),ot(s,t,null),i=!0},p(t,n){e=t,(!i||4&n)&&a!==(a=e[2]("description")+"")&&G(r,a);const o={};10&n&&(o.initialValue=e[3].data.get(e[1].id)?.description??""),64&n&&(o.onSubmit=l),1&n&&(o.disabled=e[0]),s.$set(o)},i(e){i||(je(s.$$.fragment,e),i=!0)},o(e){qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),st(s)}}}function Ioe(e){let t,n;return t=new GQ({props:{tableId:e[1].id,$$slots:{default:[koe,({onUpdate:e})=>({6:e}),({onUpdate:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.tableId=e[1].id),207&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Toe(e,t,n){let r,o,s;m(e,Mg,(e=>n(2,o=e))),m(e,UO,(e=>n(3,s=e)));const i=EN();m(e,i,(e=>n(1,r=e)));let{disabled:a=!1}=t;return e.$$set=e=>{"disabled"in e&&n(0,a=e.disabled)},[a,r,o,s,i,(e,t)=>e({description:t})]}class Doe extends at{constructor(e){super(),it(this,e,Toe,Ioe,d,{disabled:0})}}function Moe(e){let t,n;return t=new g9({props:{slot:"header",title:e[1]("properties"),isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.title=e[1]("properties")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ooe(e){let t,n,r,o,s;return n=new Vee({props:{disabled:!e[0]}}),o=new Doe({props:{disabled:!e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-1l3z76u")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r={};1&t&&(r.disabled=!e[0]),n.$set(r);const s={};1&t&&(s.disabled=!e[0]),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function Noe(e){let t,n;return t=new g9({props:{slot:"header",title:e[1]("links"),isDbLevelConfiguration:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.title=e[1]("links")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Aoe(e){let t,n,r;return n=new Eoe({props:{canExecuteDDL:e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-1l3z76u")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.canExecuteDDL=e[0]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Loe(e){let t,n;return t=new g9({props:{slot:"header",title:e[1]("record_summary")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.title=e[1]("record_summary")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Poe(e){let t,n,r;return n=new J8({props:{table:e[2],tabularData:e[3]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-1l3z76u")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4&t&&(r.table=e[2]),8&t&&(r.tabularData=e[3]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Roe(e){let t,n;return t=new g9({props:{slot:"header",title:e[1]("actions")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.title=e[1]("actions")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hoe(e){let t,n,r;return n=new ete({props:{canExecuteDDL:e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-1l3z76u")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1&t&&(r.canExecuteDDL=e[0]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function zoe(e){let t,n;return t=new g9({props:{slot:"header",title:e[1]("advanced")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.title=e[1]("advanced")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Foe(e){let t,n,r;return n=new Lne({}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","content-container svelte-1l3z76u")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function joe(e){let t,n,r,o,s,i,a,l,c,u,d;return n=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Ooe],header:[Moe]},$$scope:{ctx:e}}}),o=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Aoe],header:[Noe]},$$scope:{ctx:e}}}),i=new Bs({props:{triggerAppearance:"plain",$$slots:{content:[Poe],header:[Loe]},$$scope:{ctx:e}}}),l=new Bs({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Hoe],header:[Roe]},$$scope:{ctx:e}}}),u=new Bs({props:{triggerAppearance:"plain",$$slots:{content:[Foe],header:[zoe]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),rt(l.$$.fragment),c=j(),rt(u.$$.fragment),U(t,"class","table-mode-container svelte-1l3z76u")},m(e,p){L(e,t,p),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),ot(i,t,null),O(t,a),ot(l,t,null),O(t,c),ot(u,t,null),d=!0},p(e,[t]){const r={};2051&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};2051&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const a={};2062&t&&(a.$$scope={dirty:t,ctx:e}),i.$set(a);const c={};2051&t&&(c.$$scope={dirty:t,ctx:e}),l.$set(c);const d={};2050&t&&(d.$$scope={dirty:t,ctx:e}),u.$set(d)},i(e){d||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),je(l.$$.fragment,e),je(u.$$.fragment,e),d=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!1},d(e){e&&P(t),st(n),st(o),st(i),st(l),st(u)}}}function qoe(e,t,n){let r,o,s,i,a,l,c,u,d;m(e,$M,(e=>n(9,a=e))),m(e,kS,(e=>n(10,l=e))),m(e,Mg,(e=>n(1,c=e))),m(e,XO,(e=>n(2,u=e)));const p=EN();m(e,p,(e=>n(3,d=e)));const $=cb();return m(e,$,(e=>n(8,i=e))),e.$$.update=()=>{1024&e.$$.dirty&&n(7,r=l),512&e.$$.dirty&&n(6,o=a),448&e.$$.dirty&&n(0,s=!!i?.hasPermission({database:r,schema:o},"canExecuteDDL"))},[s,c,u,d,p,$,o,r,i,a,l]}class Voe extends at{constructor(e){super(),it(this,e,qoe,joe,d,{})}}function Boe(e){let t,n,r;var o=e[0].component;return o&&(n=new o({})),{c(){t=H("div"),n&&rt(n.$$.fragment),U(t,"class","tabs-container")},m(e,o){L(e,t,o),n&&ot(n,t,null),r=!0},p(e,r){if(o!==(o=e[0].component)){if(n){ze();const e=n;qe(e.$$.fragment,1,0,(()=>{st(e,1)})),Fe()}o?(n=new o({}),rt(n.$$.fragment),je(n.$$.fragment,1),ot(n,t,null)):n=null}},i(e){r||(n&&je(n.$$.fragment,e),r=!0)},o(e){n&&qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),n&&st(n)}}}function Woe(e){let t;const n=e[7].default,r=f(n,e,e[9],null),o=r||function(e){let t,n,r=e[0]&&Boe(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=Boe(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}(e);return{c(){o&&o.c()},m(e,n){o&&o.m(e,n),t=!0},p(e,s){r?r.p&&(!t||512&s)&&y(r,n,e,e[9],t?g(n,e[9],s,null):v(e[9]),null):o&&o.p&&(!t||1&s)&&o.p(e,t?s:-1)},i(e){t||(je(o,e),t=!0)},o(e){qe(o,e),t=!1},d(e){o&&o.d(e)}}}function Uoe(e){let t,n,r,o;function s(t){e[8](t)}let i={tabs:e[2],tabStyle:"compact",fillContainerHeight:!0,fillTabWidth:!0,$$slots:{default:[Woe]},$$scope:{ctx:e}};return void 0!==e[0]&&(i.activeTab=e[0]),n=new jd({props:i}),we.push((()=>nt(n,"activeTab",s))),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","table-inspector svelte-1y945nw")},m(e,r){L(e,t,r),ot(n,t,null),o=!0},p(e,[t]){const o={};513&t&&(o.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,o.activeTab=e[0],Te((()=>r=!1))),n.$set(o)},i(e){o||(je(n.$$.fragment,e),o=!0)},o(e){qe(n.$$.fragment,e),o=!1},d(e){e&&P(t),st(n)}}}function Yoe(e,t,n){let r,s,i,a,l,c=o;m(e,Mg,(e=>n(10,l=e))),e.$$.on_destroy.push((()=>c()));let{$$slots:u={},$$scope:d}=t;const $=[{label:l("table"),component:Voe,id:1},{label:l("column"),component:gee,id:2},{label:l("record"),component:Nee,id:3},{label:l("cell"),component:zee,id:4}];let f;const h=EN();return m(e,h,(e=>n(6,a=e))),e.$$set=e=>{"$$scope"in e&&n(9,d=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(4,({selection:r}=a),r),16&e.$$.dirty&&(n(1,({selectedCells:s}=r),s),c(),c=p(s,(e=>n(5,i=e)))),48&e.$$.dirty&&(r.isAnyColumnCompletelySelected()&&n(0,[,f]=$,f),r.isAnyRowCompletelySelected()&&n(0,[,,f]=$,f))},[f,s,$,h,r,i,a,u,function(e){f=e,n(0,f),n(5,i),n(4,r),n(6,a)},d]}class Koe extends at{constructor(e){super(),it(this,e,Yoe,Uoe,d,{})}}function Goe(e){let t,n,r;function o(t){e[4](t)}let s={showPanel:e[1],minSizePx:200,maxSizePx:600,$$slots:{panel:[Joe],default:[Zoe]},$$scope:{ctx:e}};return void 0!==e[2]&&(s.sizePx=e[2]),t=new dc({props:s}),we.push((()=>nt(t,"sizePx",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};2&r&&(o.showPanel=e[1]),32&r&&(o.$$scope={dirty:r,ctx:e}),!n&&4&r&&(n=!0,o.sizePx=e[2],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Xoe(e){let t;const n=e[3].default,r=f(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&y(r,n,e,e[5],t?g(n,e[5],o,null):v(e[5]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Zoe(e){let t;const n=e[3].default,r=f(n,e,e[5],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||32&o)&&y(r,n,e,e[5],t?g(n,e[5],o,null):v(e[5]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function Joe(e){let t,n;return t=new Koe({props:{slot:"panel"}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Qoe(e){let t,n,r,o;const s=[Xoe,Goe],i=[];function a(e,t){return"widget"===e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function ese(e,t,n){let r;m(e,vb,(e=>n(2,r=e)));let{$$slots:o={},$$scope:s}=t,{context:i}=t,{showTableInspector:a}=t;return e.$$set=e=>{"context"in e&&n(0,i=e.context),"showTableInspector"in e&&n(1,a=e.showTableInspector),"$$scope"in e&&n(5,s=e.$$scope)},[i,a,r,o,function(e){r=e,vb.set(r)},s]}class tse extends at{constructor(e){super(),it(this,e,ese,Qoe,d,{context:0,showTableInspector:1})}}function nse(e){let t,n,r,o;function s(t){e[37](t)}function i(t){e[38](t)}let a={columns:e[6],getColumnIdentifier:ise,usesVirtualList:e[15],columnWidths:e[20],clipboardHandler:e[12],hasBorder:e[14],restrictWidthToRowWidth:!e[15],hasPaddingRight:!0,$$slots:{default:[rse]},$$scope:{ctx:e}};return void 0!==e[16]&&(a.horizontalScrollOffset=e[16]),void 0!==e[17]&&(a.scrollOffset=e[17]),t=new mE({props:a}),we.push((()=>nt(t,"horizontalScrollOffset",s))),we.push((()=>nt(t,"scrollOffset",i))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,o){const s={};64&o[0]&&(s.columns=e[6]),32768&o[0]&&(s.usesVirtualList=e[15]),4096&o[0]&&(s.clipboardHandler=e[12]),16384&o[0]&&(s.hasBorder=e[14]),32768&o[0]&&(s.restrictWidthToRowWidth=!e[15]),32902&o[0]|512&o[1]&&(s.$$scope={dirty:o,ctx:e}),!n&&65536&o[0]&&(n=!0,s.horizontalScrollOffset=e[16],Te((()=>n=!1))),!r&&131072&o[0]&&(r=!0,s.scrollOffset=e[17],Te((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function rse(e){let t,n,r,o;return t=new u8({props:{hasNewColumnButton:e[2],columnOrder:e[7],table:e[1]}}),r=new y6({props:{usesVirtualList:e[15]}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};4&n[0]&&(o.hasNewColumnButton=e[2]),128&n[0]&&(o.columnOrder=e[7]),2&n[0]&&(o.table=e[1]),t.$set(o);const s={};32768&n[0]&&(s.usesVirtualList=e[15]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function ose(e){let t,n,r,o,s=e[4].size&&nse(e);return{c(){t=H("div"),s&&s.c(),U(t,"class","sheet-area svelte-1sftw4x")},m(i,a){L(i,t,a),s&&s.m(t,null),n=!0,r||(o=V(t,"click",e[21]),r=!0)},p(e,n){e[4].size?s?(s.p(e,n),16&n[0]&&je(s,1)):(s=nse(e),s.c(),je(s,1),s.m(t,null)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe())},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s&&s.d(),r=!1,o()}}}function sse(e){let t,n,r,o,s;return n=new tse({props:{context:e[0],showTableInspector:e[5],$$slots:{default:[ose]},$$scope:{ctx:e}}}),o=new y8({props:{context:e[0]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","table-view svelte-1sftw4x")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r={};1&t[0]&&(r.context=e[0]),32&t[0]&&(r.showTableInspector=e[5]),250070&t[0]|512&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};1&t[0]&&(s.context=e[0]),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}const ise=e=>e.column.id;function ase(e,t,n){let r,s,i,a,l,c,u,d,f,h,g,y,v,b,w,_,x,S,C,E,k,I,T,D,M,O,N,A,L,P,R,H,z=o,F=o,j=o,q=o,V=o,B=o;m(e,$M,(e=>n(35,L=e))),m(e,kS,(e=>n(36,P=e))),e.$$.on_destroy.push((()=>z())),e.$$.on_destroy.push((()=>F())),e.$$.on_destroy.push((()=>j())),e.$$.on_destroy.push((()=>q())),e.$$.on_destroy.push((()=>V())),e.$$.on_destroy.push((()=>B()));const W=EN();m(e,W,(e=>n(33,N=e)));const U=cb();m(e,U,(e=>n(34,A=e)));let{context:Y="page"}=t,{table:K}=t;const G=new dt([[-1,50],[-2,32]]);return e.$$set=e=>{"context"in e&&n(0,Y=e.context),"table"in e&&n(1,K=e.table)},e.$$.update=()=>{var t,o;32&e.$$.dirty[1]&&n(30,r=P),16&e.$$.dirty[1]&&n(29,s=L),1610612736&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(28,i=!!A?.hasPermission({database:r,schema:s},"canExecuteDDL")),1&e.$$.dirty[0]&&n(15,a="widget"!==Y),268435457&e.$$.dirty[0]&&n(24,l="widget"!==Y&&i),1&e.$$.dirty[0]&&n(14,c="widget"===Y),4&e.$$.dirty[1]&&(n(3,({processedColumns:u,display:d,isLoading:f,selection:h,recordsData:g}=N),u,(n(26,d),n(33,N)),(n(13,f),z(),z=p(f,(e=>n(31,T=e))),f),(n(22,h),n(33,N)),(n(27,g),n(33,N))),q(),q=p(u,(e=>n(4,O=e)))),138412040&e.$$.dirty[0]&&n(12,y=new cJ({selection:h,toast:Cv,getRows:()=>[...$(g.savedRecords),...$(g.newRecords)],getColumnsMap:()=>$(u),getRecordSummaries:()=>$(g.recordSummaries)})),4194304&e.$$.dirty[0]&&(n(11,({activeCell:v}=h),v),F(),F=p(v,(e=>n(39,D=e)))),67108864&e.$$.dirty[0]&&(n(10,({horizontalScrollOffset:b,scrollOffset:w,isTableInspectorVisible:_}=d),b,(n(9,w),B(),B=p(w,(e=>n(17,H=e))),w),(n(8,_),j(),j=p(_,(e=>n(32,M=e))),_)),V(),V=p(b,(e=>n(16,R=e)))),2&e.$$.dirty[0]&&n(25,({settings:x}=K),x),33554432&e.$$.dirty[0]&&n(7,({column_order:S}=x),S),16777216&e.$$.dirty[0]&&n(2,C=l),1&e.$$.dirty[0]&&n(23,E="page"===Y),22&e.$$.dirty[0]&&n(6,k=(()=>{const e=function(e,t){const n=[...e.values()],r=new Map;return Qb(n,t).forEach((e=>{const t=n.map((e=>e.id)).indexOf(e);if(-1!==t){const e=n.splice(t,1)[0];r.set(e.id,e)}})),r}(O,K),t=[{column:{id:-1,name:"ROW_CONTROL"}},...e.values()];return C&&t.push({column:{id:-2,name:"ADD_NEW"}}),t})()),8388608&e.$$.dirty[0]|2&e.$$.dirty[1]&&n(5,I=M&&E),4194305&e.$$.dirty[0]|1&e.$$.dirty[1]&&(t=T,o=h,"widget"===Y||t||o.selectAndActivateFirstCellIfExists())},[Y,K,C,u,O,I,k,S,_,w,b,v,y,f,c,a,R,H,W,U,G,function(e){e.target.closest('[data-sheet-element="cell"')||D&&h.focusCell({rowIndex:D.rowIndex},{id:Number(D.columnId)})},h,E,l,x,d,g,i,s,r,T,M,N,A,L,P,function(e){R=e,b.set(R)},function(e){H=e,w.set(H)}]}class lse extends at{constructor(e){super(),it(this,e,ase,sse,d,{context:0,table:1},null,[-1,-1])}}function cse(e){return new KC({combination:e.combination,entries:JSON.parse(JSON.stringify(e.entries))})}function use(e,t,n){const r=e.slice();return r[15]=t[n],r[16]=t,r[17]=n,r}function dse(e){let t,n;return t=new zi({props:{$$slots:{default:[mse]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};262146&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function pse(e){let t,n,r;function o(t){e[6](t)}let s={options:UC};return void 0!==e[1]&&(s.value=e[1]),t=new gu({props:s}),we.push((()=>nt(t,"value",o))),t.$on("change",e[7]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&2&r&&(n=!0,o.value=e[1],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function $se(e){let t,n;return t=new zi({props:{$$slots:{default:[fse]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};262160&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mse(e){let t;return{c(){t=F(e[1])},m(e,n){L(e,t,n)},p(e,n){2&n&&G(t,e[1])},d(e){e&&P(t)}}}function fse(e){let t,n=e[4]("where")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("where")+"")&&G(t,n)},d(e){e&&P(t)}}}function hse(e){let t,n,r,o;const s=[$se,pse,dse],i=[];function a(e,t){return 0===e[17]?0:1===e[17]?1:2}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=j()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function gse(e,t){let n,r,o,s,i,a;function l(e){t[10](e,t[15])}function c(e){t[11](e,t[15])}function u(e){t[12](e,t[15])}let d={columns:t[2],getColumnLabel:t[8],getColumnConstraintType:t[9],numberOfFilters:t[0].length,recordSummaryStore:t[3],$$slots:{default:[hse]},$$scope:{ctx:t}};return void 0!==t[15].columnId&&(d.columnIdentifier=t[15].columnId),void 0!==t[15].conditionId&&(d.conditionIdentifier=t[15].conditionId),void 0!==t[15].value&&(d.value=t[15].value),r=new cK({props:d}),we.push((()=>nt(r,"columnIdentifier",l))),we.push((()=>nt(r,"conditionIdentifier",c))),we.push((()=>nt(r,"value",u))),r.$on("removeFilter",(function(){return t[13](t[17])})),r.$on("update",t[14]),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),a=!0},p(e,n){t=e;const a={};4&n&&(a.columns=t[2]),4&n&&(a.getColumnLabel=t[8]),4&n&&(a.getColumnConstraintType=t[9]),1&n&&(a.numberOfFilters=t[0].length),8&n&&(a.recordSummaryStore=t[3]),262163&n&&(a.$$scope={dirty:n,ctx:t}),!o&&1&n&&(o=!0,a.columnIdentifier=t[15].columnId,Te((()=>o=!1))),!s&&1&n&&(s=!0,a.conditionIdentifier=t[15].conditionId,Te((()=>s=!1))),!i&&1&n&&(i=!0,a.value=t[15].value,Te((()=>i=!1))),r.$set(a)},i(e){a||(je(r.$$.fragment,e),a=!0)},o(e){qe(r.$$.fragment,e),a=!1},d(e){e&&P(n),st(r,e)}}}function yse(e){let t,n,r=[],o=new Map,s=e[0];const i=e=>e[15];for(let a=0;a<s.length;a+=1){let t=use(e,s,a),n=i(t);o.set(n,r[a]=gse(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,[n]){63&n&&(s=e[0],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,gse,t,use),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function vse(e,t,n){let r;m(e,Mg,(e=>n(4,r=e)));const o=fe();let{processedColumns:s}=t,{recordSummaries:i}=t,{entries:a}=t,{filterCombination:l=YC}=t;return e.$$set=e=>{"processedColumns"in e&&n(2,s=e.processedColumns),"recordSummaries"in e&&n(3,i=e.recordSummaries),"entries"in e&&n(0,a=e.entries),"filterCombination"in e&&n(1,l=e.filterCombination)},[a,l,s,i,r,o,function(e){l=e,n(1,l)},()=>o("updateCombination",l),e=>s.get(e.id)?.column.name??"",e=>hA(e.id,s),function(t,r){e.$$.not_equal(r.columnId,t)&&(r.columnId=t,n(0,a))},function(t,r){e.$$.not_equal(r.conditionId,t)&&(r.conditionId=t,n(0,a))},function(t,r){e.$$.not_equal(r.value,t)&&(r.value=t,n(0,a))},e=>o("remove",e),function(t){ve.call(this,e,t)}]}class bse extends at{constructor(e){super(),it(this,e,vse,yse,d,{processedColumns:2,recordSummaries:3,entries:0,filterCombination:1})}}function wse(e){let t,n,r=e[6]("no_filters_added")+"";return{c(){t=H("span"),n=F(r),U(t,"class","muted svelte-1honasg")},m(e,r){L(e,t,r),O(t,n)},p(e,t){64&t&&r!==(r=e[6]("no_filters_added")+"")&&G(n,r)},i:o,o:o,d(e){e&&P(t)}}}function _se(e){let t,n,r,o;function s(t){e[13](t)}function i(t){e[14](t)}let a={processedColumns:e[1],recordSummaries:e[2]};return void 0!==e[3].entries&&(a.entries=e[3].entries),void 0!==e[3].combination&&(a.filterCombination=e[3].combination),t=new bse({props:a}),we.push((()=>nt(t,"entries",s))),we.push((()=>nt(t,"filterCombination",i))),t.$on("remove",e[15]),t.$on("update",e[11]),t.$on("updateCombination",e[16]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),o=!0},p(e,o){const s={};2&o&&(s.processedColumns=e[1]),4&o&&(s.recordSummaries=e[2]),!n&&8&o&&(n=!0,s.entries=e[3].entries,Te((()=>n=!1))),!r&&8&o&&(r=!0,s.filterCombination=e[3].combination,Te((()=>r=!1))),t.$set(s)},i(e){o||(je(t.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),o=!1},d(e){st(t,e)}}}function xse(e){let t,n,r;return n=new Hn({props:{appearance:"secondary",$$slots:{default:[Sse]},$$scope:{ctx:e}}}),n.$on("click",e[17]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","footer")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};4194368&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Sse(e){let t,n,r,o,s,a=e[6]("add_new_filter")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("add_new_filter")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function Cse(e){let t,n,r,o,s,i,a,l,c,u=e[6]("filter_records")+"";const d=[_se,wse],p=[];function $(e,t){return e[5]?0:1}i=$(e),a=p[i]=d[i](e);let m=e[1].size&&xse(e);return{c(){t=H("div"),n=H("div"),r=F(u),o=j(),s=H("div"),a.c(),l=j(),m&&m.c(),U(n,"class","header svelte-1honasg"),U(s,"class","content"),U(t,"class","filters svelte-1honasg"),te(t,"filtered",e[5])},m(a,u){L(a,t,u),O(t,n),O(n,r),O(t,o),O(t,s),p[i].m(s,null),O(t,l),m&&m.m(t,null),e[18](t),c=!0},p(e,[n]){(!c||64&n)&&u!==(u=e[6]("filter_records")+"")&&G(r,u);let o=i;i=$(e),i===o?p[i].p(e,n):(ze(),qe(p[o],1,1,(()=>{p[o]=null})),Fe(),a=p[i],a?a.p(e,n):(a=p[i]=d[i](e),a.c()),je(a,1),a.m(s,null)),e[1].size?m?(m.p(e,n),2&n&&je(m,1)):(m=xse(e),m.c(),je(m,1),m.m(t,null)):m&&(ze(),qe(m,1,1,(()=>{m=null})),Fe()),(!c||32&n)&&te(t,"filtered",e[5])},i(e){c||(je(a),je(m),c=!0)},o(e){qe(a),qe(m),c=!1},d(n){n&&P(t),p[i].d(),m&&m.d(),e[18](null)}}}function Ese(e,t,n){let r,s,i,a,l=o,c=()=>(l(),l=p(d,(e=>n(19,s=e))),d);m(e,Mg,(e=>n(6,a=e))),e.$$.on_destroy.push((()=>l()));const u=H4();let{filtering:d}=t;c();let{processedColumns:$}=t,{recordSummaries:f}=t;const h=mt(cse(s));let g;function y(){const e=i.entries.filter((e=>{const t=$.get(e.columnId)?.allowedFiltersMap.get(e.conditionId);return!!t&&vN(t,e.value)})),t=cse({...i,entries:e});s.equals(t)||d.set(t)}function v(e){const t=void 0===e?[...$.values()][0]:$.get(e);if(!t)return;const n=[...t.allowedFiltersMap.values()][0];if(!n)return;const r={columnId:t.id,conditionId:n.id,value:void 0,isValid:vN(n,void 0)};h.update((e=>e.withEntry(r))),y()}function b(e){h.update((t=>t.withoutEntry(e))),y()}function w(e){h.update((t=>t.withCombination(e))),y()}function _(){const e=wS(g.querySelectorAll(".filter-input"));e&&("launchRecordSelector"in e?e.launchRecordSelector():e.focus())}m(e,h,(e=>n(3,i=e))),pe((()=>u?.onAddFilter(v))),pe((()=>u?.onActivateLastFilterInput(_)));return e.$$set=e=>{"filtering"in e&&c(n(0,d=e.filtering)),"processedColumns"in e&&n(1,$=e.processedColumns),"recordSummaries"in e&&n(2,f=e.recordSummaries)},e.$$.update=()=>{8&e.$$.dirty&&n(5,r=i.entries.length)},[d,$,f,i,g,r,a,h,v,b,w,function(){y()},_,function(t){e.$$.not_equal(i.entries,t)&&(i.entries=t,h.set(i))},function(t){e.$$.not_equal(i.combination,t)&&(i.combination=t,h.set(i))},e=>b(e.detail),e=>w(e.detail),async()=>{v(),await ke(),_()},function(e){we[e?"unshift":"push"]((()=>{g=e,n(4,g)}))}]}class kse extends at{constructor(e){super(),it(this,e,Ese,Cse,d,{filtering:0,processedColumns:1,recordSummaries:2})}}function Ise(e){let t,n,r,o,s,a,l,c=e[5]("filter")+"";const u=[qy,{size:"0.8em"}];let d={};for(let p=0;p<u.length;p+=1)d=i(d,u[p]);return t=new Kr({props:d}),a=new xn({props:{value:e[6].entries.length}}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(c),s=j(),rt(a.$$.fragment),U(r,"class","responsive-button-label")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),O(r,s),ot(a,r,null),l=!0},p(e,n){const r=0&n?et(u,[tt(qy),u[1]]):{};t.$set(r),(!l||32&n)&&c!==(c=e[5]("filter")+"")&&G(o,c);const s={};64&n&&(s.value=e[6].entries.length),a.$set(s)},i(e){l||(je(t.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(a)}}}function Tse(e){let t,n;return t=new kse({props:{slot:"content",filtering:e[0],processedColumns:e[2],recordSummaries:e[3].recordSummaries}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.filtering=e[0]),4&n&&(r.processedColumns=e[2]),8&n&&(r.recordSummaries=e[3].recordSummaries),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Dse(e){let t,n,r;const o=[{showArrow:!1},{triggerAppearance:"secondary"},e[8],{ariaLabel:e[5]("filter")}];function s(t){e[12](t)}let a={$$slots:{content:[Tse],trigger:[Ise]},$$scope:{ctx:e}};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[1]&&(a.isOpen=e[1]),t=new Wa({props:a}),we.push((()=>nt(t,"isOpen",s))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=288&r?et(o,[o[0],o[1],256&r&&tt(e[8]),32&r&&{ariaLabel:e[5]("filter")}]):{};32877&r&&(s.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,s.isOpen=e[1],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Mse(e,t,n){let r,s,a;const l=["filtering","canViewLinkedEntities"];let c,u,d,$,f=w(t,l),h=o,g=o,y=()=>(g(),g=p(x,(e=>n(6,$=e))),x);m(e,Mg,(e=>n(5,d=e))),e.$$.on_destroy.push((()=>h())),e.$$.on_destroy.push((()=>g()));const v=H4(),_=EN();m(e,_,(e=>n(11,u=e)));let{filtering:x}=t;y();let{canViewLinkedEntities:S=!0}=t,C=!1;function E(){n(1,C=!0)}return pe((()=>v?.onOpenDropdown(E))),e.$$set=e=>{t=i(i({},t),b(e)),n(8,f=w(t,l)),"filtering"in e&&y(n(0,x=e.filtering)),"canViewLinkedEntities"in e&&n(9,S=e.canViewLinkedEntities)},e.$$.update=()=>{2048&e.$$.dirty&&(n(4,({processedColumns:r,recordsData:s}=u),r,(n(3,s),n(11,u))),h(),h=p(r,(e=>n(10,c=e)))),1536&e.$$.dirty&&n(2,a=S?c:new Map([...c].filter((([,e])=>!e.linkFk))))},[x,C,a,s,r,d,$,_,f,S,c,u,function(e){C=e,n(1,C)}]}class Ose extends at{constructor(e){super(),it(this,e,Mse,Dse,d,{filtering:0,canViewLinkedEntities:9})}}function Nse(e,t,n){const r=e.slice();return r[14]=t[n],r}function Ase(e,t,n){const r=e.slice();return r[17]=t[n],r[19]=n,r}function Lse(e){let t,n,r=e[5]("no_grouping_condition_added")+"";return{c(){t=H("span"),n=F(r),U(t,"class","muted svelte-rsw3wh")},m(e,r){L(e,t,r),O(t,n)},p(e,t){32&t&&r!==(r=e[5]("no_grouping_condition_added")+"")&&G(n,r)},d(e){e&&P(t)}}}function Pse(e,t){let n,r,o;return r=new NX({props:{columns:t[2],columnsAllowedForSelection:t[3].map(jse),getColumnLabel:qse,getColumnConstraintType:t[10],columnIdentifier:t[17].columnId,preprocFunctionIdentifier:t[17].preprocFnId,disableColumnChange:t[1].entries.length>1&&t[19]<t[1].entries.length-1}}),r.$on("update",(function(...e){return t[11](t[19],...e)})),r.$on("removeGroup",(function(){return t[12](t[19])})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};4&n&&(o.columns=t[2]),8&n&&(o.columnsAllowedForSelection=t[3].map(jse)),4&n&&(o.getColumnConstraintType=t[10]),2&n&&(o.columnIdentifier=t[17].columnId),2&n&&(o.preprocFunctionIdentifier=t[17].preprocFnId),2&n&&(o.disableColumnChange=t[1].entries.length>1&&t[19]<t[1].entries.length-1),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Rse(e){let t,n,r;return t=new bA({props:{column:{name:e[2].get(e[14].id)?.column.name??"",type:e[2].get(e[14].id)?.column.type??"",type_options:e[2].get(e[14].id)?.column.type_options??null,display_options:e[2].get(e[14].id)?.column.display_options??null,constraintsType:hA(e[14].id,e[2])}}}),{c(){rt(t.$$.fragment),n=j()},m(e,o){ot(t,e,o),L(e,n,o),r=!0},p(e,n){const r={};12&n&&(r.column={name:e[2].get(e[14].id)?.column.name??"",type:e[2].get(e[14].id)?.column.type??"",type_options:e[2].get(e[14].id)?.column.type_options??null,display_options:e[2].get(e[14].id)?.column.display_options??null,constraintsType:hA(e[14].id,e[2])}),t.$set(r)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e),e&&P(n)}}}function Hse(e,t){let n,r,o;return r=new y$({props:{$$slots:{default:[Rse]},$$scope:{ctx:t}}}),r.$on("click",(function(){return t[13](t[14])})),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1048588&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function zse(e){let t,n,r=[],o=new Map,s=e[3];const i=e=>e[14].id;for(let a=0;a<s.length;a+=1){let t=Nse(e,s,a),n=i(t);o.set(n,r[a]=Hse(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){140&n&&(s=e[3],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,Hse,t,Nse),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function Fse(e){let t,n,r,o,s,i,a,l,c,u=e[5]("group_records_by")+"",d=[],p=new Map,$=e[1].entries;const m=e=>e[19];for(let h=0;h<$.length;h+=1){let t=Ase(e,$,h),n=m(t);p.set(n,d[h]=Pse(n,t))}let f=null;return $.length||(f=Lse(e)),l=new Qc({props:{label:e[5]("add_new_grouping"),disabled:0===e[3].length,triggerAppearance:"secondary",$$slots:{default:[zse]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("header"),r=F(u),o=j(),s=H("div");for(let e=0;e<d.length;e+=1)d[e].c();f&&f.c(),i=j(),a=H("footer"),rt(l.$$.fragment),U(n,"class","svelte-rsw3wh"),U(s,"class","content svelte-rsw3wh"),U(a,"class","svelte-rsw3wh"),U(t,"class","groups svelte-rsw3wh"),te(t,"grouped",e[1].entries.length>0)},m(e,u){L(e,t,u),O(t,n),O(n,r),O(t,o),O(t,s);for(let t=0;t<d.length;t+=1)d[t].m(s,null);f&&f.m(s,null),O(t,i),O(t,a),ot(l,a,null),c=!0},p(e,[n]){(!c||32&n)&&u!==(u=e[5]("group_records_by")+"")&&G(r,u),303&n&&($=e[1].entries,ze(),d=Qe(d,n,m,1,e,$,p,s,Ze,Pse,null,Ase),Fe(),!$.length&&f?f.p(e,n):$.length?f&&(f.d(1),f=null):(f=Lse(e),f.c(),f.m(s,null)));const o={};32&n&&(o.label=e[5]("add_new_grouping")),8&n&&(o.disabled=0===e[3].length),1048588&n&&(o.$$scope={dirty:n,ctx:e}),l.$set(o),(!c||2&n)&&te(t,"grouped",e[1].entries.length>0)},i(e){if(!c){for(let e=0;e<$.length;e+=1)je(d[e]);je(l.$$.fragment,e),c=!0}},o(e){for(let t=0;t<d.length;t+=1)qe(d[t]);qe(l.$$.fragment,e),c=!1},d(e){e&&P(t);for(let t=0;t<d.length;t+=1)d[t].d();f&&f.d(),st(l)}}}const jse=e=>e.id,qse=e=>e?.column.name??"";function Vse(e,t,n){let r,s,i,a,l,c,u=o,d=()=>(u(),u=p(h,(e=>n(1,i=e))),h),$=o;m(e,Mg,(e=>n(5,c=e))),e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>$()));const f=EN();m(e,f,(e=>n(9,l=e)));let{grouping:h}=t;function g(e){h.update((t=>t.withEntry({columnId:e.id,preprocFnId:void 0})))}function y(e,t){h.update((n=>n.withReplacedEntry(e,{columnId:t.columnIdentifier,preprocFnId:t.preprocFunctionIdentifier})))}d();return e.$$set=e=>{"grouping"in e&&d(n(0,h=e.grouping))},e.$$.update=()=>{512&e.$$.dirty&&(n(4,({processedColumns:r}=l),r),$(),$=p(r,(e=>n(2,a=e)))),6&e.$$.dirty&&n(3,s=[...a.values()].filter((e=>!i.hasColumn(e.id))))},[h,i,a,s,r,c,f,g,y,l,e=>hA(e.id,a),(e,t)=>y(e,t.detail),e=>h.update((t=>t.withoutEntry(e))),e=>g(e)]}class Bse extends at{constructor(e){super(),it(this,e,Vse,Fse,d,{grouping:0})}}function Wse(e){let t,n,r,o,s,a,l,c=e[1]("group")+"";const u=[Vy];let d={};for(let p=0;p<u.length;p+=1)d=i(d,u[p]);return t=new Kr({props:d}),a=new xn({props:{value:e[2].entries.length}}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(c),s=j(),rt(a.$$.fragment),U(r,"class","responsive-button-label")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),O(r,s),ot(a,r,null),l=!0},p(e,n){const r=0&n?et(u,[tt(Vy)]):{};t.$set(r),(!l||2&n)&&c!==(c=e[1]("group")+"")&&G(o,c);const s={};4&n&&(s.value=e[2].entries.length),a.$set(s)},i(e){l||(je(t.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(a)}}}function Use(e){let t,n;return t=new Bse({props:{slot:"content",grouping:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.grouping=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yse(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[3],{ariaLabel:e[1]("group")}];let o={$$slots:{content:[Use],trigger:[Wse]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Wa({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=10&n?et(r,[r[0],r[1],8&n&&tt(e[3]),2&n&&{ariaLabel:e[1]("group")}]):{};23&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kse(e,t,n){const r=["grouping"];let s,a,l=w(t,r),c=o,u=()=>(c(),c=p(d,(e=>n(2,a=e))),d);m(e,Mg,(e=>n(1,s=e))),e.$$.on_destroy.push((()=>c()));let{grouping:d}=t;return u(),e.$$set=e=>{t=i(i({},t),b(e)),n(3,l=w(t,r)),"grouping"in e&&u(n(0,d=e.grouping))},[d,s,a,l]}class Gse extends at{constructor(e){super(),it(this,e,Kse,Yse,d,{grouping:0})}}const Xse="data-sortable-container",Zse="data-sortable-item",Jse="is-dragging",Qse="is-sorting";function eie(e){e.preventDefault()}function tie(e){return e.top+e.height/2}function nie(e,t){0===t&&e.style.removeProperty("transform"),e.style.setProperty("transform",`translateY(${t}px)`)}function rie(e,t,n,r=0){const o=t+r;if(-1===r||0===r){if(e<n[o])return rie(e,o,n,-1)}if(1===r||0===r){if(e>(n[o+1]??1/0))return rie(e,o,n,1)}return o}function oie(e,t,n){const{draggingItemIndex:r,draggingItemHeight:o,draggingItemMarginBottom:s,draggingItemMarginTop:i}=t;return e>=n&&e<r?o+i:e<=n&&e>r?-1*(o+s):0}function sie(e,t){e.setAttribute(Xse,"");return e.sortableController={isSorting:!1,getItems:t.getItems,onSort:t.onSort},{}}function iie(e){return e.setAttribute(Zse,""),{}}function aie(e){let t,n,r,o,s;function i(e){const t=e.clientY-r,i=(a=t,l=s.minDelta,c=s.maxDelta,Math.min(Math.max(a,l),c));var a,l,c;nie(n,i);const u=rie(i,o,s.destinationsLowerBounds);u!==o&&(o=u,function(){for(const[e,t]of s.items.entries())e!==s.draggingItemIndex&&nie(t,oie(e,s,o))}())}function a(r){e.removeEventListener("pointermove",i),e.removeEventListener("pointerup",a),e.removeEventListener("pointercancel",a),window.removeEventListener("selectstart",eie),e.releasePointerCapture(r.pointerId),t.classList.remove(Qse),n.classList.remove(Jse);const l=t.sortableController;l.isSorting=!1;for(const e of s.items)nie(e,0);if(s.draggingItemIndex!==o){const e=[...l.getItems()],t=e.splice(s.draggingItemIndex,1)[0];e.splice(o,0,t),l.onSort(e)}}function l(l){const c=function(e){return e.hasAttribute(Zse)?e:e.closest(`[${Zse}]`)??void 0}(e);if(!c)return;n=c;const u=function(e){return e.closest(`[${Xse}]`)??void 0}(e);if(!u)return;t=u,t.classList.add(Qse);const d=t.sortableController;d.isSorting||(d.isSorting=!0,n.classList.add(Jse),s=function(e,t){const n=e.getBoundingClientRect(),r=e.querySelectorAll(`[${Zse}]`),o=[...Array(r.length).keys()],s=[...r].map((e=>e.getBoundingClientRect())),i=[...r].indexOf(t),a=s[i];return{items:r,draggingItemIndex:i,draggingItemHeight:a.height,draggingItemMarginTop:s[i-1]?a.top-s[i-1].bottom:0,draggingItemMarginBottom:s[i+1]?s[i+1].top-a.bottom:0,minDelta:n.top-a.top,maxDelta:n.bottom-a.bottom,destinationsLowerBounds:o.map((e=>0===e?-1/0:e<=i?tie(s[e-1])-a.top:tie(s[e])-a.bottom))}}(t,n),o=s.draggingItemIndex,r=l.clientY,e.setPointerCapture(l.pointerId),e.addEventListener("pointermove",i),e.addEventListener("pointerup",a),e.addEventListener("pointercancel",a),window.addEventListener("selectstart",eie))}return e.setAttribute("data-sortable-trigger",""),e.addEventListener("pointerdown",l),e.addEventListener("contextmenu",eie),{destroy(){e.removeEventListener("pointerdown",l)}}}function lie(e,t,n){const r=e.slice();return r[16]=t[n][0],r[17]=t[n][1],r}function cie(e){let t,n,r=e[5]("no_sorting_condition_added")+"";return{c(){t=H("span"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){32&t&&r!==(r=e[5]("no_sorting_condition_added")+"")&&G(n,r)},d(e){e&&P(t)}}}function uie(e,t){let n,r,o,s,a,l,u,d,p;const $=[Py];let m={};for(let c=0;c<$.length;c+=1)m=i(m,$[c]);return o=new Kr({props:m}),a=new fZ({props:{columns:t[2],columnsAllowedForSelection:t[3],getColumnLabel:mie,getColumnConstraintType:t[11],columnIdentifier:t[16],sortDirection:t[17]}}),a.$on("remove",(function(){return t[12](t[16])})),a.$on("update",(function(...e){return t[13](t[16],...e)})),{key:e,first:null,c(){n=H("div"),r=H("div"),rt(o.$$.fragment),s=j(),rt(a.$$.fragment),l=j(),U(r,"class","trigger svelte-o1j9dj"),U(n,"class","item svelte-o1j9dj"),this.first=n},m(e,t){L(e,n,t),O(n,r),ot(o,r,null),O(n,s),ot(a,n,null),O(n,l),u=!0,d||(p=[C(aie.call(null,r)),C(iie.call(null,n))],d=!0)},p(e,n){t=e;const r=0&n?et($,[tt(Py)]):{};o.$set(r);const s={};4&n&&(s.columns=t[2]),8&n&&(s.columnsAllowedForSelection=t[3]),4&n&&(s.getColumnConstraintType=t[11]),2&n&&(s.columnIdentifier=t[16]),2&n&&(s.sortDirection=t[17]),a.$set(s)},i(e){u||(je(o.$$.fragment,e),je(a.$$.fragment,e),u=!0)},o(e){qe(o.$$.fragment,e),qe(a.$$.fragment,e),u=!1},d(e){e&&P(n),st(o),st(a),d=!1,c(p)}}}function die(e){let t,n,r;return n=new Hn({props:{appearance:"secondary",$$slots:{default:[pie]},$$scope:{ctx:e}}}),n.$on("click",e[7]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","footer")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};1048608&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function pie(e){let t,n,r,o,s,a=e[5]("add_new_sort_condition")+"";const l=[ny];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(ny)]):{};t.$set(r),(!s||32&n)&&a!==(a=e[5]("add_new_sort_condition")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function $ie(e){let t,n,r,o,s,i,a,l,c,d,p=e[5]("sort")+"",$=[],m=new Map,f=[...e[1]];const h=e=>e[16];for(let u=0;u<f.length;u+=1){let t=lie(e,f,u),n=h(t);m.set(n,$[u]=uie(n,t))}let g=null;f.length||(g=cie(e));let y=e[3].length>0&&die(e);return{c(){t=H("div"),n=H("div"),r=F(p),o=j(),s=H("div");for(let e=0;e<$.length;e+=1)$[e].c();g&&g.c(),a=j(),y&&y.c(),U(n,"class","header svelte-o1j9dj"),U(s,"class","content svelte-o1j9dj"),U(t,"class","sorters svelte-o1j9dj")},m(u,p){L(u,t,p),O(t,n),O(n,r),O(t,o),O(t,s);for(let e=0;e<$.length;e+=1)$[e].m(s,null);g&&g.m(s,null),O(t,a),y&&y.m(t,null),l=!0,c||(d=C(i=sie.call(null,s,{getItems:e[14],onSort:e[15]})),c=!0)},p(e,[n]){(!l||32&n)&&p!==(p=e[5]("sort")+"")&&G(r,p),814&n&&(f=[...e[1]],ze(),$=Qe($,n,h,1,e,f,m,s,Ze,uie,null,lie),Fe(),!f.length&&g?g.p(e,n):f.length?g&&(g.d(1),g=null):(g=cie(e),g.c(),g.m(s,null))),i&&u(i.update)&&3&n&&i.update.call(null,{getItems:e[14],onSort:e[15]}),e[3].length>0?y?(y.p(e,n),8&n&&je(y,1)):(y=die(e),y.c(),je(y,1),y.m(t,null)):y&&(ze(),qe(y,1,1,(()=>{y=null})),Fe())},i(e){if(!l){for(let e=0;e<f.length;e+=1)je($[e]);je(y),l=!0}},o(e){for(let t=0;t<$.length;t+=1)qe($[t]);qe(y),l=!1},d(e){e&&P(t);for(let t=0;t<$.length;t+=1)$[t].d();g&&g.d(),y&&y.d(),c=!1,d()}}}const mie=e=>e?.column.name??"";function fie(e,t,n){let r,s,i,a,l,c,u=o,d=()=>(u(),u=p(h,(e=>n(1,i=e))),h),$=o;m(e,Mg,(e=>n(5,c=e))),e.$$.on_destroy.push((()=>u())),e.$$.on_destroy.push((()=>$()));const f=EN();m(e,f,(e=>n(10,l=e)));let{sorting:h}=t;function g(e){h.update((t=>t.without(e)))}function y(e,t,n){h.update((r=>new eE([...r].map((([r,o])=>r===e?[t,n]:[r,o])))))}d();return e.$$set=e=>{"sorting"in e&&d(n(0,h=e.sorting))},e.$$.update=()=>{1024&e.$$.dirty&&(n(4,({processedColumns:r}=l),r),$(),$=p(r,(e=>n(2,a=e)))),6&e.$$.dirty&&n(3,s=[...a.values()].filter((e=>!i.has(e.id))).map((e=>e.id)))},[h,i,a,s,r,c,f,function(){const[e]=s;h.update((t=>t.with(e,"ASCENDING")))},g,y,l,e=>hA(e.id,a),e=>g(e),(e,t)=>y(e,t.detail.columnIdentifier,t.detail.sortDirection),()=>[...i],e=>h.set(new eE(e))]}class hie extends at{constructor(e){super(),it(this,e,fie,$ie,d,{sorting:0})}}function gie(e){let t,n,r,o,s,a,l,c=e[1]("sort")+"";const u=[Xy];let d={};for(let p=0;p<u.length;p+=1)d=i(d,u[p]);return t=new Kr({props:d}),a=new xn({props:{value:e[2].size}}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(c),s=j(),rt(a.$$.fragment),U(r,"class","responsive-button-label")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),O(r,s),ot(a,r,null),l=!0},p(e,n){const r=0&n?et(u,[tt(Xy)]):{};t.$set(r),(!l||2&n)&&c!==(c=e[1]("sort")+"")&&G(o,c);const s={};4&n&&(s.value=e[2].size),a.$set(s)},i(e){l||(je(t.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(a)}}}function yie(e){let t,n;return t=new hie({props:{slot:"content",sorting:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.sorting=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vie(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[3],{ariaLabel:e[1]("sort")}];let o={$$slots:{content:[yie],trigger:[gie]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Wa({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=10&n?et(r,[r[0],r[1],8&n&&tt(e[3]),2&n&&{ariaLabel:e[1]("sort")}]):{};23&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bie(e,t,n){const r=["sorting"];let s,a,l=w(t,r),c=o,u=()=>(c(),c=p(d,(e=>n(2,a=e))),d);m(e,Mg,(e=>n(1,s=e))),e.$$.on_destroy.push((()=>c()));let{sorting:d}=t;return u(),e.$$set=e=>{t=i(i({},t),b(e)),n(3,l=w(t,r)),"sorting"in e&&u(n(0,d=e.sorting))},[d,s,a,l]}class wie extends at{constructor(e){super(),it(this,e,bie,vie,d,{sorting:0})}}function _ie(e){let t,n;return t=new BM({props:{errors:e[2].errors}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.errors=e[2].errors),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xie(e){let t,n,r,o;const s=[Eie,Cie],i=[];function a(e,t){return e[1]&&e[1].enabled?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Sie(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Cie(e){let t,n,r,o,s,i,a=e[0].empty+"";return s=new to({props:{onClick:e[6],icon:ny,label:e[5]("create_link")}}),{c(){t=H("div"),n=F(a),r=j(),o=H("div"),rt(s.$$.fragment)},m(e,a){L(e,t,a),O(t,n),L(e,r,a),L(e,o,a),ot(s,o,null),i=!0},p(e,t){(!i||1&t)&&a!==(a=e[0].empty+"")&&G(n,a);const r={};32&t&&(r.label=e[5]("create_link")),s.$set(r)},i(e){i||(je(s.$$.fragment,e),i=!0)},o(e){qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s)}}}function Eie(e){let t,n,r,o,s,i,a;return t=new Pi({props:{$$slots:{default:[Iie]},$$scope:{ctx:e}}}),o=new to({props:{appearance:"secondary",onClick:e[7],icon:Ny,label:e[5]("regenerate_link")}}),i=new to({props:{appearance:"secondary",onClick:e[8],icon:Ay,label:e[5]("disable_link")}}),{c(){rt(t.$$.fragment),n=j(),r=H("div"),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),U(r,"class","share-control-options svelte-kou0je")},m(e,l){ot(t,e,l),L(e,n,l),L(e,r,l),ot(o,r,null),O(r,s),ot(i,r,null),a=!0},p(e,n){const r={};131096&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const s={};32&n&&(s.label=e[5]("regenerate_link")),o.$set(s);const a={};32&n&&(a.label=e[5]("disable_link")),i.$set(a)},i(e){a||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),a=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),a=!1},d(e){st(t,e),e&&P(n),e&&P(r),st(o),st(i)}}}function kie(e){let t,n;const r=[oy];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Kr({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const o=0&n?et(r,[tt(oy)]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Iie(e){let t,n,r,o,s,a,l,c;function u(t){e[13](t)}let d={readonly:!0,value:e[4]};void 0!==e[3]&&(d.element=e[3]),t=new qi({props:d}),we.push((()=>nt(t,"element",u))),o=new Hn({props:{appearance:"secondary",$$slots:{default:[kie]},$$scope:{ctx:e}}}),o.$on("click",e[9]);const p=[Ly];let $={};for(let m=0;m<p.length;m+=1)$=i($,p[m]);return l=new Kr({props:$}),{c(){rt(t.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),a=H("a"),rt(l.$$.fragment),U(a,"class","btn btn-secondary"),U(a,"target","_blank"),U(a,"href",e[4])},m(e,n){ot(t,e,n),L(e,r,n),ot(o,e,n),L(e,s,n),L(e,a,n),ot(l,a,null),c=!0},p(e,r){const s={};16&r&&(s.value=e[4]),!n&&8&r&&(n=!0,s.element=e[3],Te((()=>n=!1))),t.$set(s);const i={};131072&r&&(i.$$scope={dirty:r,ctx:e}),o.$set(i);const u=0&r?et(p,[tt(Ly)]):{};l.$set(u),(!c||16&r)&&U(a,"href",e[4])},i(e){c||(je(t.$$.fragment,e),je(o.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(t.$$.fragment,e),qe(o.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){st(t,e),e&&P(r),st(o,e),e&&P(s),e&&P(a),st(l)}}}function Tie(e){let t,n,r,o,s,i,a,l,c,u,d,p=e[0].header+"",$=e[0].description+"";const m=[Sie,xie,_ie],f=[];function h(e,t){return"processing"===e[2].state?0:"success"===e[2].state?1:2}return c=h(e),u=f[c]=m[c](e),{c(){t=H("div"),n=H("header"),r=F(p),o=j(),s=H("div"),i=F($),a=j(),l=H("div"),u.c(),U(n,"class","svelte-kou0je"),U(s,"class","description svelte-kou0je"),U(l,"class","content svelte-kou0je"),U(t,"class","share-entity-container svelte-kou0je")},m(e,u){L(e,t,u),O(t,n),O(n,r),O(t,o),O(t,s),O(s,i),O(t,a),O(t,l),f[c].m(l,null),d=!0},p(e,[t]){(!d||1&t)&&p!==(p=e[0].header+"")&&G(r,p),(!d||1&t)&&$!==($=e[0].description+"")&&G(i,$);let n=c;c=h(e),c===n?f[c].p(e,t):(ze(),qe(f[n],1,1,(()=>{f[n]=null})),Fe(),u=f[c],u?u.p(e,t):(u=f[c]=m[c](e),u.c()),je(u,1),u.m(l,null))},i(e){d||(je(u),d=!0)},o(e){qe(u),d=!1},d(e){e&&P(t),f[c].d()}}}function Die(e,t,n){let r,o;m(e,Mg,(e=>n(5,o=e)));const s=ge("dropdownAccompanyingElements");let i,a,{entityId:l}=t,{api:c}=t,{text:u}=t,{getLink:d}=t,p={state:"processing"};function $(){if(!s)return()=>{};const e=document.querySelector(`[data-modal-id='${Iv.modal.modalId}']`);return e?s.add(e):()=>{}}return e.$$set=e=>{"entityId"in e&&n(10,l=e.entityId),"api"in e&&n(11,c=e.api),"text"in e&&n(0,u=e.text),"getLink"in e&&n(12,d=e.getLink)},e.$$.update=()=>{4098&e.$$.dirty&&n(4,r=i?`${window.location.origin}${d(i)}`:void 0),3072&e.$$.dirty&&async function(){if(!c||!l)throw new Error("Unable to request shares because api or entityId is missing.\n        This state should never occur");try{n(2,p={state:"processing"});const e=await c.list(l);n(1,[i]=e.results,i),n(2,p={state:"success"})}catch(e){n(2,p={state:"failure",errors:Pv(e)})}}()},[u,i,p,a,r,o,async function(){i&&!i.enabled?n(1,i=await c.update(l,i.id,{enabled:!0})):n(1,i=await c.add(l))},async function(){if(!i)throw new Error("Unable to regenerate link for share.\n        This state should never occur");const e=kv({title:o("remove_old_link_create_new"),body:[o("new_link_wont_work_once_regenerated"),o("are_you_sure_to_proceed")],proceedButton:{label:o("regenerate_link"),icon:void 0}});await ke();const t=$(),r=await e;t(),r&&(n(1,i=await c.regenerate(l,i.id)),Cv.success(o("link_successfully_regenerated")))},async function(){if(!i)throw new Error("Unable to disable share.\n        This state should never occur");const e=kv({title:o("disable_link_question"),body:o("are_you_sure_to_proceed"),proceedButton:{label:o("disable_link"),icon:void 0}});await ke();const t=$(),r=await e;t(),r&&n(1,i=await c.update(l,i.id,{enabled:!1}))},async function(){if(a&&r){a.select();try{await navigator.clipboard.writeText(r)}catch{document.execCommand("copy")}Cv.info(o("link_copied"))}},l,c,d,function(e){a=e,n(3,a)}]}class Mie extends at{constructor(e){super(),it(this,e,Die,Tie,d,{entityId:10,api:11,text:0,getLink:12})}}const Oie={list:function(e){return Wv(`/api/ui/v0/tables/${e}/shares/`)},add:function(e,t){return Uv(`/api/ui/v0/tables/${e}/shares/`,t)},update:function(e,t,n){return Yv(`/api/ui/v0/tables/${e}/shares/${t}/`,n)},regenerate:function(e,t){return Uv(`/api/ui/v0/tables/${e}/shares/${t}/regenerate/`)}};function Nie(e){let t,n,r,o,s,a=e[1]("share")+"";const l=[Oy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a),U(r,"class","responsive-button-label")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(Oy)]):{};t.$set(r),(!s||2&n)&&a!==(a=e[1]("share")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function Aie(e){let t,n;return t=new Mie({props:{slot:"content",entityId:e[0],api:Oie,text:{header:e[1]("share_table"),description:e[1]("give_readonly_access_table_via_link"),empty:e[1]("table_not_shared")},getLink:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.entityId=e[0]),2&n&&(r.text={header:e[1]("share_table"),description:e[1]("give_readonly_access_table_via_link"),empty:e[1]("table_not_shared")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lie(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[2],{ariaLabel:e[1]("share")}];let o={$$slots:{content:[Aie],trigger:[Nie]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Wa({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=6&n?et(r,[r[0],r[1],4&n&&tt(e[2]),2&n&&{ariaLabel:e[1]("share")}]):{};19&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Pie(e,t,n){const r=["id"];let o,s=w(t,r);m(e,Mg,(e=>n(1,o=e)));let{id:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,r)),"id"in e&&n(0,a=e.id)},[a,o,s,e=>`/shares/tables/${e.slug}/`]}class Rie extends at{constructor(e){super(),it(this,e,Pie,Lie,d,{id:0})}}function Hie(e){let t,n;return t=new iY({props:{requestState:e[14]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16384&n&&(r.requestState=e[14]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zie(e){let t,n,r,o,s,i,a,l,c;n=new Ose({props:{filtering:e[8],canViewLinkedEntities:e[3]}}),o=new wie({props:{sorting:e[7]}}),i=new Gse({props:{grouping:e[6]}});let u="page"===e[0]&&Hie(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),u&&u.c(),l=q(),U(t,"class","quick-access svelte-1yr7j0")},m(e,d){L(e,t,d),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),ot(i,t,null),L(e,a,d),u&&u.m(e,d),L(e,l,d),c=!0},p(e,t){const r={};256&t&&(r.filtering=e[8]),8&t&&(r.canViewLinkedEntities=e[3]),n.$set(r);const s={};128&t&&(s.sorting=e[7]),o.$set(s);const a={};64&t&&(a.grouping=e[6]),i.$set(a),"page"===e[0]?u?(u.p(e,t),1&t&&je(u,1)):(u=Hie(e),u.c(),je(u,1),u.m(l.parentNode,l)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe())},i(e){c||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(i.$$.fragment,e),je(u),c=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(u),c=!1},d(e){e&&P(t),st(n),st(o),st(i),e&&P(a),u&&u.d(e),e&&P(l)}}}function Fie(e){let t,n,r,o=e[4]&&jie(e);return n=new Hn({props:{appearance:"secondary",size:"medium",disabled:e[12],active:e[11],"aria-label":e[13]("inspector"),$$slots:{default:[qie]},$$scope:{ctx:e}}}),n.$on("click",e[17]),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){e[4]?o?(o.p(e,r),16&r&&je(o,1)):(o=jie(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe());const s={};4096&r&&(s.disabled=e[12]),2048&r&&(s.active=e[11]),8192&r&&(s["aria-label"]=e[13]("inspector")),16785408&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){qe(o),qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function jie(e){let t,n;return t=new Rie({props:{id:e[10]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1024&n&&(r.id=e[10]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function qie(e){let t,n,r,o,s,a=e[13]("inspector")+"";const l=[Jy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a),U(r,"class","responsive-button-label")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(Jy)]):{};t.$set(r),(!s||8192&n)&&a!==(a=e[13]("inspector")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function Vie(e){let t,n,r="page"===e[0]&&Fie(e);return{c(){t=H("div"),r&&r.c(),U(t,"class","aux-actions svelte-1yr7j0"),U(t,"slot","actions-right")},m(e,o){L(e,t,o),r&&r.m(t,null),n=!0},p(e,n){"page"===e[0]?r?(r.p(e,n),1&n&&je(r,1)):(r=Fie(e),r.c(),je(r,1),r.m(t,null)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){e&&P(t),r&&r.d()}}}function Bie(e){let t,n;return t=new gY({props:{title:{name:e[1].name,description:e[1].description??void 0,icon:Zy},$$slots:{"actions-right":[Vie],default:[zie]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.title={name:e[1].name,description:e[1].description??void 0,icon:Zy}),16809433&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wie(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C=o,E=o,k=o;m(e,$M,(e=>n(20,y=e))),m(e,kS,(e=>n(21,v=e))),m(e,Mg,(e=>n(13,x=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>k()));const I=EN();m(e,I,(e=>n(23,w=e)));const T=cb();m(e,T,(e=>n(22,b=e)));let{context:D="page"}=t,{table:M}=t;return e.$$set=e=>{"context"in e&&n(0,D=e.context),"table"in e&&n(1,M=e.table)},e.$$.update=()=>{8388608&e.$$.dirty&&n(10,({id:r,meta:s,isLoading:i,display:a}=w),r,(n(19,s),n(23,w)),(n(9,i),E(),E=p(i,(e=>n(12,_=e))),i),(n(18,a),n(23,w))),524288&e.$$.dirty&&n(8,({filtering:l,sorting:c,grouping:u,sheetState:d}=s),l,(n(7,c),n(19,s),n(23,w)),(n(6,u),n(19,s),n(23,w)),(n(5,d),k(),k=p(d,(e=>n(14,S=e))),d)),262144&e.$$.dirty&&(n(2,({isTableInspectorVisible:$}=a),$),C(),C=p($,(e=>n(11,g=e)))),7340032&e.$$.dirty&&n(4,f=!!b?.hasPermission({database:v,schema:y},"canEditMetadata")),7340032&e.$$.dirty&&n(3,h=!!b?.hasPermission({database:v,schema:y},"canViewLinkedEntities"))},[D,M,$,h,f,d,u,c,l,i,r,g,_,x,S,I,T,function(){$.set(!g)},a,s,y,v,b,w]}class Uie extends at{constructor(e){super(),it(this,e,Wie,Bie,d,{context:0,table:1})}}function Yie(e){let t,n,r,o,s;return n=new Uie({props:{table:e[0],context:e[1]}}),o=new lse({props:{table:e[0],context:e[1]}}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),U(t,"class","table-page svelte-cngme6")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),s=!0},p(e,t){const r={};1&t&&(r.table=e[0]),2&t&&(r.context=e[1]),n.$set(r);const s={};1&t&&(s.table=e[0]),2&t&&(s.context=e[1]),o.$set(s)},i(e){s||(je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),st(o)}}}function Kie(e){let t,n,r,o;return document.title=t=TF(e[0].name),r=new mH({props:{fitViewport:!0,restrictWidth:!1,$$slots:{default:[Yie]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||1&n)&&t!==(t=TF(e[0].name))&&(document.title=t);const s={};8195&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Gie(e,t,n){let r,s,i,a,l,c,u,d,$=o;m(e,qN,(e=>n(9,u=e))),m(e,NS,(e=>n(10,d=e))),e.$$.on_destroy.push((()=>$()));const f=CN(void 0);!function(){const e=new P4;he(R4,e)}();let{table:h}=t,{shareConsumer:g}=t,y="page";return e.$$set=e=>{"table"in e&&n(0,h=e.table),"shareConsumer"in e&&n(3,g=e.shareConsumer)},e.$$.update=()=>{var t;1024&e.$$.dirty&&n(6,r=d.data),512&e.$$.dirty&&n(7,({query:s}=u),s),128&e.$$.dirty&&n(5,i=aE.fromSerialization(s.q??"")),105&e.$$.dirty&&n(4,a=new xN({id:h.id,abstractTypesMap:r,meta:i,table:h,shareConsumer:g})),16&e.$$.dirty&&f.set(a),8&e.$$.dirty&&n(1,y=g?"shared-consumer-page":"page"),16&e.$$.dirty&&(n(2,l=a.meta.serialization),$(),$=p(l,(e=>n(8,c=e)))),256&e.$$.dirty&&(t=c,qN.location.query.set("q",t))},[h,y,l,g,a,i,r,s,c,u,d]}class Xie extends at{constructor(e){super(),it(this,e,Gie,Kie,d,{table:0,shareConsumer:3})}}function Zie(e){return{columnErrors:e,recordErrors:[]}}function Jie(e){return{columnErrors:new dt,recordErrors:e}}function Qie(e,t){return e.withEntries(t,((e,t)=>[...e,...t]))}function eae(e,t){return{columnErrors:Qie(e.columnErrors,t.columnErrors),recordErrors:[...e.recordErrors,...t.recordErrors]}}const tae=[e=>{if(Dt(e,"constraint_columns")&&Array.isArray(e.constraint_columns)&&Mt(e,"original_details"))return new dt(e.constraint_columns.filter(Tt).map((t=>[t,[e.original_details]])))}];function nae(e){for(const t of tae){const n=t(e);if(n)return n}}function rae(e){{const t=nae(e);if(t)return Zie(t)}if(e instanceof Av){const t=nae(e.detail);return t?Zie(t):Jie([e.message])}return e instanceof Lv?e.errors.map(rae).reduce(eae,Jie([])):Jie([rc(e)])}function oae(e){let t,n;return t=new iY({props:{hasChanges:e[1],requestState:e[3]?.state}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.hasChanges=e[1]),8&n&&(r.requestState=e[3]?.state),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sae(e,t,n){let r,s,i,a,l=o,c=()=>(l(),l=p(d,(e=>n(4,i=e))),d),u=o;e.$$.on_destroy.push((()=>l())),e.$$.on_destroy.push((()=>u()));let{form:d}=t;return c(),e.$$set=e=>{"form"in e&&c(n(0,d=e.form))},e.$$.update=()=>{1&e.$$.dirty&&(n(2,({requestStatus:r}=d),r),u(),u=p(r,(e=>n(3,a=e)))),16&e.$$.dirty&&n(1,({hasChanges:s}=i),s)},[d,s,r,a,i]}class iae extends at{constructor(e){super(),it(this,e,sae,oae,d,{form:0})}}const aae=e=>({}),lae=e=>({});function cae(e){let t,n;const r=e[2].header,o=f(r,e,e[1],lae);return{c(){t=H("div"),o&&o.c(),U(t,"class","header")},m(e,r){L(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2&t)&&y(o,r,e,e[1],n?g(r,e[1],t,aae):v(e[1]),lae)},i(e){n||(je(o,e),n=!0)},o(e){qe(o,e),n=!1},d(e){e&&P(t),o&&o.d(e)}}}function uae(e){let t,n,r,o,s=e[0].header&&cae(e);const i=e[2].default,a=f(i,e,e[1],null);return{c(){t=H("div"),s&&s.c(),n=j(),r=H("div"),a&&a.c(),U(r,"class","section svelte-gk8umx"),U(t,"class","inset-page-section")},m(e,i){L(e,t,i),s&&s.m(t,null),O(t,n),O(t,r),a&&a.m(r,null),o=!0},p(e,[r]){e[0].header?s?(s.p(e,r),1&r&&je(s,1)):(s=cae(e),s.c(),je(s,1),s.m(t,n)):s&&(ze(),qe(s,1,1,(()=>{s=null})),Fe()),a&&a.p&&(!o||2&r)&&y(a,i,e,e[1],o?g(i,e[1],r,null):v(e[1]),null)},i(e){o||(je(s),je(a,e),o=!0)},o(e){qe(s),qe(a,e),o=!1},d(e){e&&P(t),s&&s.d(),a&&a.d(e)}}}function dae(e,t,n){let{$$slots:r={},$$scope:o}=t;const s=_(r);return e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[s,o,r]}class pae extends at{constructor(e){super(),it(this,e,dae,uae,d,{})}}const $ae=e=>({}),mae=e=>({});function fae(e){let t,n;return t=new pae({props:{$$slots:{default:[gae]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function hae(e){let t;const n=e[1].default,r=f(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&y(r,n,e,e[2],t?g(n,e[2],o,null):v(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function gae(e){let t;const n=e[1].default,r=f(n,e,e[2],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||4&o)&&y(r,n,e,e[2],t?g(n,e[2],o,null):v(e[2]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function yae(e){let t,n,r,o,s,i,a;const l=e[1].header,c=f(l,e,e[2],mae),u=[hae,fae],d=[];function p(e,t){return e[0]?0:1}return s=p(e),i=d[s]=u[s](e),{c(){t=H("div"),n=H("div"),c&&c.c(),r=j(),o=H("div"),i.c(),U(n,"class","header restrict-width svelte-u2qdd0"),U(o,"class","page restrict-width svelte-u2qdd0"),U(t,"class","inset-page-layout svelte-u2qdd0")},m(e,i){L(e,t,i),O(t,n),c&&c.m(n,null),O(t,r),O(t,o),d[s].m(o,null),a=!0},p(e,[t]){c&&c.p&&(!a||4&t)&&y(c,l,e,e[2],a?g(l,e[2],t,$ae):v(e[2]),mae);let n=s;s=p(e),s===n?d[s].p(e,t):(ze(),qe(d[n],1,1,(()=>{d[n]=null})),Fe(),i=d[s],i?i.p(e,t):(i=d[s]=u[s](e),i.c()),je(i,1),i.m(o,null))},i(e){a||(je(c,e),je(i),a=!0)},o(e){qe(c,e),qe(i),a=!1},d(e){e&&P(t),c&&c.d(e),d[s].d()}}}function vae(e,t,n){let{$$slots:r={},$$scope:o}=t,{hasMultipleSections:s=!1}=t;return e.$$set=e=>{"hasMultipleSections"in e&&n(0,s=e.hasMultipleSections),"$$scope"in e&&n(2,o=e.$$scope)},[s,r,o]}class bae extends at{constructor(e){super(),it(this,e,vae,yae,d,{hasMultipleSections:0})}}function wae(e){let t,n;return t=new xA({props:{processedColumn:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.processedColumn=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _ae(e){let t,n,r,o,s=e[10]("set_to")+"";return r=new iI({}),{c(){t=F(s),n=j(),rt(r.$$.fragment)},m(e,s){L(e,t,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||1024&n)&&s!==(s=e[10]("set_to")+"")&&G(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function xae(e){let t,n;return t=new y$({props:{icon:Sy,disabled:e[5],$$slots:{default:[_ae]},$$scope:{ctx:e}}}),t.$on("click",e[24]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.disabled=e[5]),268436480&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Sae(e){let t,n,r;return n=new iI({}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","null svelte-e4chwr")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Cae(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f,h;s=new xo({props:{controller:e[14],$$slots:{default:[wae]},$$scope:{ctx:e}}}),l=new Qc({props:{showArrow:!1,triggerAppearance:"plain",closeOnInnerClick:!0,ariaLabel:e[10]("column_field_options",{values:{columnName:e[2].name}}),icon:gr,$$slots:{default:[xae]},$$scope:{ctx:e}}});let g=null===e[3]&&e[4]&&Sae();function y(t){e[26](t)}let v={disabled:e[5],componentAndProps:e[0].inputComponentAndProps,labelController:e[14],recordSummary:e[11].get(String(e[2].id))?.get(String(e[8])),setRecordSummary:e[25],hasError:e[12]};return void 0!==e[3]&&(v.value=e[3]),p=new dA({props:v}),we.push((()=>nt(p,"value",y))),f=new KM({props:{field:e[1]}}),{c(){t=H("div"),n=H("div"),r=H("div"),o=H("div"),rt(s.$$.fragment),i=j(),a=H("div"),rt(l.$$.fragment),c=j(),u=H("div"),g&&g.c(),d=j(),rt(p.$$.fragment),m=j(),rt(f.$$.fragment),U(o,"class","label svelte-e4chwr"),U(a,"class","options svelte-e4chwr"),U(r,"class","complex-label svelte-e4chwr"),U(n,"class","left cell svelte-e4chwr"),U(u,"class","input cell svelte-e4chwr"),U(t,"class","direct-field svelte-e4chwr")},m(e,$){L(e,t,$),O(t,n),O(n,r),O(r,o),ot(s,o,null),O(r,i),O(r,a),ot(l,a,null),O(t,c),O(t,u),g&&g.m(u,null),O(u,d),ot(p,u,null),O(u,m),ot(f,u,null),h=!0},p(e,[t]){const n={};268435457&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n);const r={};1028&t&&(r.ariaLabel=e[10]("column_field_options",{values:{columnName:e[2].name}})),268436514&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r),null===e[3]&&e[4]?g?24&t&&je(g,1):(g=Sae(),g.c(),je(g,1),g.m(u,d)):g&&(ze(),qe(g,1,1,(()=>{g=null})),Fe());const o={};32&t&&(o.disabled=e[5]),1&t&&(o.componentAndProps=e[0].inputComponentAndProps),2308&t&&(o.recordSummary=e[11].get(String(e[2].id))?.get(String(e[8]))),516&t&&(o.setRecordSummary=e[25]),4096&t&&(o.hasError=e[12]),!$&&8&t&&($=!0,o.value=e[3],Te((()=>$=!1))),p.$set(o);const i={};2&t&&(i.field=e[1]),f.$set(i)},i(e){h||(je(s.$$.fragment,e),je(l.$$.fragment,e),je(g),je(p.$$.fragment,e),je(f.$$.fragment,e),h=!0)},o(e){qe(s.$$.fragment,e),qe(l.$$.fragment,e),qe(g),qe(p.$$.fragment,e),qe(f.$$.fragment,e),h=!1},d(e){e&&P(t),st(s),st(l),g&&g.d(),st(p),st(f)}}}function Eae(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_,x,S,C=o,E=o,k=()=>(E(),E=p(L,(e=>n(3,y=e))),L),I=o,T=o;m(e,$M,(e=>n(22,b=e))),m(e,kS,(e=>n(23,w=e))),m(e,Mg,(e=>n(10,_=e))),e.$$.on_destroy.push((()=>C())),e.$$.on_destroy.push((()=>E())),e.$$.on_destroy.push((()=>I())),e.$$.on_destroy.push((()=>T()));const D=cb();m(e,D,(e=>n(21,v=e)));const M=new Set(["date","datetime","duration","time"]),O=new lo;let{record:N}=t,{processedColumn:A}=t,{field:L}=t;k();return e.$$set=e=>{"record"in e&&n(15,N=e.record),"processedColumn"in e&&n(0,A=e.processedColumn),"field"in e&&k(n(1,L=e.field))},e.$$.update=()=>{8388608&e.$$.dirty&&n(19,r=w),4194304&e.$$.dirty&&n(18,s=b),2883584&e.$$.dirty&&n(17,i=v?.hasPermission({database:r,schema:s},"canEditTableRecords")??!1),32768&e.$$.dirty&&(n(9,({recordSummaries:a}=N),a),I(),I=p(a,(e=>n(11,x=e)))),1&e.$$.dirty&&n(2,({column:l,abstractType:c}=A),l,(n(16,c),n(0,A))),8&e.$$.dirty&&n(8,u=y),2&e.$$.dirty&&(n(7,d=L.disabled),C(),C=p(d,(e=>n(20,g=e)))),2&e.$$.dirty&&(n(6,({showsError:$}=L),$),T(),T=p($,(e=>n(12,S=e)))),1179652&e.$$.dirty&&n(5,f=l.primary_key||!i||g),65536&e.$$.dirty&&n(4,h=!M.has(c.cellInfo.type))},[A,L,l,y,h,f,$,d,u,a,_,x,S,D,O,N,c,i,s,r,g,v,b,w,()=>L.set(null),(e,t)=>a.addBespokeRecordSummary({columnId:String(l.id),recordId:e,recordSummary:t}),function(e){y=e,L.set(y)}]}class kae extends at{constructor(e){super(),it(this,e,Eae,Cae,d,{record:15,processedColumn:0,field:1})}}function Iae(e){let t,n,r;return n=new Nr({}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","record-page-loading-spinner svelte-covpeg")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}class Tae extends at{constructor(e){super(),it(this,e,null,Iae,d,{})}}function Dae(e){let t,n,r,o,s,a,l;const c=[{filtering:e[2]},{canViewLinkedEntities:e[3]},e[5]];let u={};for(let f=0;f<c.length;f+=1)u=i(u,c[f]);n=new Ose({props:u});const d=[{sorting:e[1]},e[5]];let p={};for(let f=0;f<d.length;f+=1)p=i(p,d[f]);o=new wie({props:p});const $=[{grouping:e[0]},e[5]];let m={};for(let f=0;f<$.length;f+=1)m=i(m,$[f]);return a=new Gse({props:m}),{c(){t=H("div"),rt(n.$$.fragment),r=j(),rt(o.$$.fragment),s=j(),rt(a.$$.fragment),U(t,"class","mini-actions-pane svelte-17z38bs")},m(e,i){L(e,t,i),ot(n,t,null),O(t,r),ot(o,t,null),O(t,s),ot(a,t,null),l=!0},p(e,[t]){const r=44&t?et(c,[4&t&&{filtering:e[2]},8&t&&{canViewLinkedEntities:e[3]},32&t&&tt(e[5])]):{};n.$set(r);const s=34&t?et(d,[2&t&&{sorting:e[1]},32&t&&tt(e[5])]):{};o.$set(s);const i=33&t?et($,[1&t&&{grouping:e[0]},32&t&&tt(e[5])]):{};a.$set(i)},i(e){l||(je(n.$$.fragment,e),je(o.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(n.$$.fragment,e),qe(o.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),st(n),st(o),st(a)}}}function Mae(e,t,n){let r,o,s,i,a,l,c,u,d;m(e,$M,(e=>n(9,c=e))),m(e,kS,(e=>n(10,u=e)));const p=cb();m(e,p,(e=>n(11,d=e)));const $=EN();return m(e,$,(e=>n(8,l=e))),e.$$.update=()=>{3584&e.$$.dirty&&n(3,r=!!d?.hasPermission({database:u,schema:c},"canViewLinkedEntities")),256&e.$$.dirty&&n(7,({meta:o}=l),o),128&e.$$.dirty&&n(2,({filtering:s,sorting:i,grouping:a}=o),s,(n(1,i),n(7,o),n(8,l)),(n(0,a),n(7,o),n(8,l)))},[a,i,s,r,p,{placement:"bottom-end",size:"small"},$,o,l,c,u,d]}class Oae extends at{constructor(e){super(),it(this,e,Mae,Dae,d,{})}}function Nae(e){let t,n,r,o,s,i,a,l,c,u;return o=new gw({props:{table:e[0]}}),i=new Oae({}),c=new lse({props:{context:"widget",table:e[0]}}),{c(){t=H("div"),n=H("div"),r=H("h3"),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),l=H("div"),rt(c.$$.fragment),U(r,"class","bold-header"),U(n,"class","top svelte-11m8z5a"),U(l,"class","results"),U(t,"class","table-widget")},m(e,d){L(e,t,d),O(t,n),O(n,r),ot(o,r,null),O(n,s),ot(i,n,null),O(t,a),O(t,l),ot(c,l,null),u=!0},p(e,[t]){const n={};1&t&&(n.table=e[0]),o.$set(n);const r={};1&t&&(r.table=e[0]),c.$set(r)},i(e){u||(je(o.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(o),st(i),st(c)}}}function Aae(e,t,n){let r,o,s;m(e,NS,(e=>n(5,s=e)));const i=CN(void 0),a=new aE({pagination:new jC({size:10})});let{recordPk:l}=t,{table:c}=t,{fkColumn:u}=t;return e.$$set=e=>{"recordPk"in e&&n(1,l=e.recordPk),"table"in e&&n(0,c=e.table),"fkColumn"in e&&n(2,u=e.fkColumn)},e.$$.update=()=>{32&e.$$.dirty&&n(4,r=s.data),23&e.$$.dirty&&n(3,o=new xN({id:c.id,abstractTypesMap:r,meta:a,contextualFilters:new Map([[u.id,l]]),table:c})),8&e.$$.dirty&&i.set(o)},[c,l,u,o,r,s]}class Lae extends at{constructor(e){super(),it(this,e,Aae,Nae,d,{recordPk:1,table:0,fkColumn:2})}}const{Map:Pae}=Ge;function Rae(e,t,n){const r=e.slice();return r[8]=t[n].table,r[9]=t[n].fkColumn,r}function Hae(e){let t;return{c(){t=H("div"),U(t,"class","no-widgets svelte-m6bumh")},m(e,n){L(e,t,n)},p:o,i:o,o:o,d(e){e&&P(t)}}}function zae(e){let t,n,r,o,s,i,a,l,c=e[3]("related_records")+"",u=[],d=new Pae;s=new Ni({props:{$$slots:{default:[Vae]},$$scope:{ctx:e}}});let p=e[2];const $=e=>`${e[8].id}-${e[9].id}`;for(let m=0;m<p.length;m+=1){let t=Rae(e,p,m),n=$(t);d.set(n,u[m]=Bae(n,t))}return{c(){t=H("div"),n=H("h2"),r=F(c),o=j(),rt(s.$$.fragment),i=j(),a=H("div");for(let e=0;e<u.length;e+=1)u[e].c();U(n,"class","passthrough svelte-m6bumh"),U(a,"class","widgets svelte-m6bumh"),U(t,"class","widgets-area svelte-m6bumh")},m(e,c){L(e,t,c),O(t,n),O(n,r),O(n,o),ot(s,n,null),O(t,i),O(t,a);for(let t=0;t<u.length;t+=1)u[t].m(a,null);l=!0},p(e,t){(!l||8&t)&&c!==(c=e[3]("related_records")+"")&&G(r,c);const n={};8202&t&&(n.$$scope={dirty:t,ctx:e}),s.$set(n),5&t&&(p=e[2],ze(),u=Qe(u,t,$,1,e,p,d,a,Ze,Bae,null,Rae),Fe())},i(e){if(!l){je(s.$$.fragment,e);for(let e=0;e<p.length;e+=1)je(u[e]);l=!0}},o(e){qe(s.$$.fragment,e);for(let t=0;t<u.length;t+=1)qe(u[t]);l=!1},d(e){e&&P(t),st(s);for(let t=0;t<u.length;t+=1)u[t].d()}}}function Fae(e){let t,n;return t=new uw({props:{icon:Uy,truncate:!1,$$slots:{default:[jae]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8194&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jae(e){let t,n;return{c(){t=H("strong"),n=F(e[1])},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&G(n,e[1])},d(e){e&&P(t)}}}function qae(e){let t,n,r="recordSummary"===e[12]&&Fae(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"recordSummary"===e[12]?r?(r.p(e,n),4096&n&&je(r,1)):(r=Fae(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Vae(e){let t,n;return t=new Kg({props:{text:e[3]("related_records_help"),$$slots:{default:[qae,({slotName:e})=>({12:e}),({slotName:e})=>e?4096:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]("related_records_help")),12290&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Bae(e,t){let n,r,o,s;return r=new Lae({props:{recordPk:t[0],table:t[8],fkColumn:t[9]}}),{key:e,first:null,c(){n=H("section"),rt(r.$$.fragment),o=j(),U(n,"class","table-widget-positioner svelte-m6bumh"),this.first=n},m(e,t){L(e,n,t),ot(r,n,null),O(n,o),s=!0},p(e,n){t=e;const o={};1&n&&(o.recordPk=t[0]),4&n&&(o.table=t[8]),4&n&&(o.fkColumn=t[9]),r.$set(o)},i(e){s||(je(r.$$.fragment,e),s=!0)},o(e){qe(r.$$.fragment,e),s=!1},d(e){e&&P(n),st(r)}}}function Wae(e){let t,n,r,o;const s=[zae,Hae],i=[];function a(e,t){return e[2].length?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Uae(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(3,s=e))),m(e,UO,(e=>n(6,i=e)));let{recordPk:a}=t,{recordSummary:l}=t,{joinableTablesResult:c}=t;function u(e){const t=i.data.get(e.target);if(!t)return;const n=e.jp_path[0].slice(-1)[0];return{table:t,fkColumn:{id:n,name:r.get(n)??`(${s("unknown_column")})`}}}return e.$$set=e=>{"recordPk"in e&&n(0,a=e.recordPk),"recordSummary"in e&&n(1,l=e.recordSummary),"joinableTablesResult"in e&&n(4,c=e.joinableTablesResult)},e.$$.update=()=>{16&e.$$.dirty&&(r=new Map(Object.entries(c.columns).map((([e,t])=>[parseInt(e,10),t.name])))),16&e.$$.dirty&&n(2,o=c.joinable_tables.filter((e=>e.multiple_results)).map(u).filter(Ot).sort(((e,t)=>e.table.name.localeCompare(t.table.name))))},[a,l,o,s,c]}class Yae extends at{constructor(e){super(),it(this,e,Uae,Wae,d,{recordPk:0,recordSummary:1,joinableTablesResult:4})}}function Kae(e,t,n){const r=e.slice();return r[21]=t[n].field,r[22]=t[n].processedColumn,r}function Gae(e,t){let n,r,o;return r=new kae({props:{record:t[0],processedColumn:t[22],field:t[21]}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};1&n&&(o.record=t[0]),4&n&&(o.processedColumn=t[22]),4&n&&(o.field=t[21]),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Xae(e){let t,n,r,o,s,i=[],a=new Map,l=e[2];const c=e=>e[22].id;for(let u=0;u<l.length;u+=1){let t=Kae(e,l,u),n=c(t);a.set(n,i[u]=Gae(n,t))}return o=new xO({props:{form:e[3],catchErrors:!0,proceedButton:{label:e[10]("save"),icon:_y},cancelButton:{label:e[10]("discard_changes"),icon:ky},onProceed:e[17],getErrorMessages:e[18],initiallyHidden:!0}}),{c(){t=H("div");for(let e=0;e<i.length;e+=1)i[e].c();n=j(),r=H("div"),rt(o.$$.fragment),U(t,"class","fields svelte-4domsl"),U(r,"class","submit svelte-4domsl")},m(e,a){L(e,t,a);for(let n=0;n<i.length;n+=1)i[n].m(t,null);L(e,n,a),L(e,r,a),ot(o,r,null),s=!0},p(e,n){5&n&&(l=e[2],ze(),i=Qe(i,n,c,1,e,l,a,t,Ze,Gae,null,Kae),Fe());const r={};8&n&&(r.form=e[3]),1024&n&&(r.proceedButton={label:e[10]("save"),icon:_y}),1024&n&&(r.cancelButton={label:e[10]("discard_changes"),icon:ky}),2049&n&&(r.onProceed=e[17]),2&n&&(r.getErrorMessages=e[18]),o.$set(r)},i(e){if(!s){for(let e=0;e<l.length;e+=1)je(i[e]);je(o.$$.fragment,e),s=!0}},o(e){for(let t=0;t<i.length;t+=1)qe(i[t]);qe(o.$$.fragment,e),s=!1},d(e){e&&P(t);for(let t=0;t<i.length;t+=1)i[t].d();e&&P(n),e&&P(r),st(o)}}}function Zae(e){let t,n;return t=new HD({props:{recordSummary:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};512&n&&(r.recordSummary=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jae(e){let t,n,r;return n=new gw({props:{table:e[8],truncate:!1}}),{c(){t=H("strong"),rt(n.$$.fragment)},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};256&t&&(r.table=e[8]),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Qae(e){let t,n,r="tableName"===e[20]&&Jae(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"tableName"===e[20]?r?(r.p(e,n),1048576&n&&je(r,1)):(r=Jae(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function ele(e){let t,n,r,o,s,i,a,l,c,u;return r=new uw({props:{icon:Uy,$$slots:{default:[Zae]},$$scope:{ctx:e}}}),i=new Kg({props:{text:e[10]("record_in_table"),$$slots:{default:[Qae,({slotName:e})=>({20:e}),({slotName:e})=>e?1048576:0]},$$scope:{ctx:e}}}),c=new iae({props:{form:e[3]}}),{c(){t=H("div"),n=H("h1"),rt(r.$$.fragment),o=j(),s=H("div"),rt(i.$$.fragment),a=j(),l=H("div"),rt(c.$$.fragment),U(n,"class","title svelte-4domsl"),U(s,"class","table-name svelte-4domsl"),U(l,"class","form-status svelte-4domsl"),U(t,"slot","header"),U(t,"class","header svelte-4domsl")},m(e,d){L(e,t,d),O(t,n),ot(r,n,null),O(t,o),O(t,s),ot(i,s,null),O(t,a),O(t,l),ot(c,l,null),u=!0},p(e,t){const n={};33554944&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};1024&t&&(o.text=e[10]("record_in_table")),34603264&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o);const s={};8&t&&(s.form=e[3]),c.$set(s)},i(e){u||(je(r.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(r.$$.fragment,e),qe(i.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(r),st(i),st(c)}}}function tle(e){return{c:o,m:o,p:o,i:o,o:o,d:o}}function nle(e){let t,n;return t=new Yae({props:{joinableTablesResult:e[19],recordPk:e[6],recordSummary:e[9]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};256&n&&(r.joinableTablesResult=e[19]),64&n&&(r.recordPk=e[6]),512&n&&(r.recordSummary=e[9]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function rle(e){let t,n;return t=new Tae({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ole(e){let t,n,r,o,s;n=new bae({props:{$$slots:{header:[ele],default:[Xae]},$$scope:{ctx:e}}});let i={ctx:e,current:null,token:null,hasCatch:!1,pending:rle,then:nle,catch:tle,value:19,blocks:[,,,]};return Ye(o=e[12](e[8].id),i),{c(){t=H("div"),rt(n.$$.fragment),r=j(),i.block.c(),U(t,"class","record-page-content svelte-4domsl")},m(e,o){L(e,t,o),ot(n,t,null),O(t,r),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,s=!0},p(t,[r]){e=t;const s={};33558287&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s),i.ctx=e,256&r&&o!==(o=e[12](e[8].id))&&Ye(o,i)||Ke(i,e,r)},i(e){s||(je(n.$$.fragment,e),je(i.block),s=!0)},o(e){qe(n.$$.fragment,e);for(let t=0;t<3;t+=1){qe(i.blocks[t])}s=!1},d(e){e&&P(t),st(n),i.block.d(),i.token=null,i=null}}}function sle(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b=o,w=o,_=o,x=o;m(e,XO,(e=>n(16,h=e))),m(e,Mg,(e=>n(10,y=e))),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w())),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x()));let{record:S}=t,{tableStructure:C}=t;return e.$$set=e=>{"record"in e&&n(0,S=e.record),"tableStructure"in e&&n(13,C=e.tableStructure)},e.$$.update=()=>{65536&e.$$.dirty&&n(8,r=h),8192&e.$$.dirty&&(n(7,({processedColumns:s}=C),s),w(),w=p(s,(e=>n(15,f=e)))),1&e.$$.dirty&&n(6,({recordPk:i,summary:a,fieldValues:l}=S),i,(n(5,a),_(),_=p(a,(e=>n(9,g=e))),a),(n(4,l),b(),b=p(l,(e=>n(14,$=e))),l)),49152&e.$$.dirty&&n(2,c=[...f.values()].map((e=>({processedColumn:e,field:kO($.get(e.id))})))),4&e.$$.dirty&&n(1,u=Object.fromEntries(c.map((e=>[e.processedColumn.id,e.field])))),2&e.$$.dirty&&(n(3,d=DO(u)),x(),x=p(d,(e=>n(11,v=e))))},[S,u,c,d,l,a,i,s,r,g,y,v,function(e){return Wv(`/api/db/v0/tables/${e}/joinable_tables/?max_depth=1`)},C,$,f,h,()=>S.patch(v.values),e=>{const{columnErrors:t,recordErrors:n}=rae(e);for(const[r,o]of t)u[r]?.serverErrors.set(o);return n}]}class ile extends at{constructor(e){super(),it(this,e,sle,ole,d,{record:0,tableStructure:13})}}function ale(e){let t,n;return t=new ile({props:{tableStructure:e[1],record:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tableStructure=e[1]),1&n&&(r.record=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lle(e){let t,n;return t=new Tae({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cle(e){let t,n,r,o;const s=[lle,ale],i=[];function a(e,t){return e[3]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function ule(e){let t,n,r,o;return document.title=t=TF(e[2]),r=new mH({props:{cssVariables:{"--page-padding":"0"},fitViewport:!0,$$slots:{default:[cle]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||4&n)&&t!==(t=TF(e[2]))&&(document.title=t);const s={};16395&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function dle(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v=o,b=o,w=o;m(e,NS,(e=>n(12,g=e))),m(e,XO,(e=>n(13,y=e))),e.$$.on_destroy.push((()=>v())),e.$$.on_destroy.push((()=>b())),e.$$.on_destroy.push((()=>w()));let{record:_}=t;return e.$$set=e=>{"record"in e&&n(0,_=e.record)},e.$$.update=()=>{8192&e.$$.dirty&&n(8,r=y),4352&e.$$.dirty&&n(1,s=new kN({id:r.id,abstractTypesMap:g.data})),2&e.$$.dirty&&(n(6,i=s.isLoading),b(),b=p(i,(e=>n(10,f=e)))),1&e.$$.dirty&&(n(5,a=_.fetchRequest),w(),w=p(a,(e=>n(11,h=e)))),1&e.$$.dirty&&(n(4,({summary:l}=_),l),v(),v=p(l,(e=>n(9,$=e)))),2048&e.$$.dirty&&n(7,c="processing"===h?.state),1152&e.$$.dirty&&n(3,u=f||c),640&e.$$.dirty&&n(2,d=c?"":$.replace(dC,"NULL"))},[_,s,d,u,l,a,i,c,r,$,f,h,g,y]}class ple extends at{constructor(e){super(),it(this,e,dle,ule,d,{record:0})}}class $le{constructor({table:t,recordPk:n}){e(this,"fetchRequest",mt(void 0)),e(this,"fieldValues",new ht),e(this,"recordSummaries",new _C),e(this,"summary",void 0),e(this,"table",void 0),e(this,"recordPk",void 0),e(this,"url",void 0),this.table=t,this.recordPk=n,this.url=`/api/db/v0/tables/${this.table.id}/records/${this.recordPk}/`;const{template:r}=this.table.settings.preview_settings;this.summary=ft([this.fieldValues,this.recordSummaries],(([e,t])=>bC({template:r,inputData:vC(e),transitiveData:t}))),this.fetch()}updateSelfWithApiResponseData(e){const t=e.results[0];this.fieldValues.reconstruct(Object.entries(t).map((([e,t])=>[parseInt(e,10),t]))),e.preview_data&&this.recordSummaries.setFetchedSummaries(gC(e.preview_data))}async fetch(){this.fetchRequest.set({state:"processing"});try{this.updateSelfWithApiResponseData(await Wv(this.url)),this.fetchRequest.set({state:"success"})}catch($h){this.fetchRequest.set({state:"failure",errors:[rc($h)]})}}async patch(e){this.updateSelfWithApiResponseData(await Yv(this.url,e))}}function mle(e){let t,n;return t=new SH({props:{item:{type:"record",database:e[0],schema:e[1],table:e[2],record:{pk:e[3],summary:e[8]}}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};271&n&&(r.item={type:"record",database:e[0],schema:e[1],table:e[2],record:{pk:e[3],summary:e[8]}}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function fle(e){let t,n,r,o="success"===e[7]?.state&&mle(e);return n=new ple({props:{record:e[4]}}),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,[r]){"success"===e[7]?.state?o?(o.p(e,r),128&r&&je(o,1)):(o=mle(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe());const s={};16&r&&(s.record=e[4]),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){qe(o),qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function hle(e,t,n){let r,s,i,a,l,c=o,u=o;e.$$.on_destroy.push((()=>c())),e.$$.on_destroy.push((()=>u()));let{database:d}=t,{schema:$}=t,{table:m}=t,{recordPk:f}=t;return e.$$set=e=>{"database"in e&&n(0,d=e.database),"schema"in e&&n(1,$=e.schema),"table"in e&&n(2,m=e.table),"recordPk"in e&&n(3,f=e.recordPk)},e.$$.update=()=>{12&e.$$.dirty&&n(4,r=new $le({table:m,recordPk:f})),16&e.$$.dirty&&(n(6,({summary:s,fetchRequest:i}=r),s,(n(5,i),c(),c=p(i,(e=>n(7,a=e))),i)),u(),u=p(s,(e=>n(8,l=e))))},[d,$,m,f,r,i,s,a,l]}class gle extends at{constructor(e){super(),it(this,e,hle,fle,d,{database:0,schema:1,table:2,recordPk:3})}}function yle(e){let t,n;return t=new bH({props:{$$slots:{default:[ble]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};520&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function vle(e){let t,n,r,o,s,i;return t=new SH({props:{item:{type:"table",database:e[0],schema:e[1],table:e[2]}}}),r=new eA({props:{path:"/",$$slots:{default:[wle]},$$scope:{ctx:e}}}),s=new eA({props:{path:"/:recordPk",$$slots:{default:[_le,({meta:e})=>({8:e}),({meta:e})=>e?256:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};7&n&&(o.item={type:"table",database:e[0],schema:e[1],table:e[2]}),t.$set(o);const i={};516&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};775&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function ble(e){let t,n=e[3]("table_not_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("table_not_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function wle(e){let t,n;return t=new Xie({props:{table:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.table=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _le(e){let t,n;return t=new gle({props:{database:e[0],schema:e[1],table:e[2],recordPk:String(e[8].params.recordPk)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),4&n&&(r.table=e[2]),256&n&&(r.recordPk=String(e[8].params.recordPk)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xle(e){let t,n,r,o;const s=[vle,yle],i=[];function a(e,t){return e[2]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Sle(e,t,n){let r,o,s,i;m(e,GO,(e=>n(6,o=e))),m(e,UO,(e=>n(5,s=e))),m(e,Mg,(e=>n(3,i=e)));let{database:a}=t,{schema:l}=t,{tableId:c}=t;function u(){S(GO,o=void 0,o)}return pe((()=>u)),e.$$set=e=>{"database"in e&&n(0,a=e.database),"schema"in e&&n(1,l=e.schema),"tableId"in e&&n(4,c=e.tableId)},e.$$.update=()=>{16&e.$$.dirty&&S(GO,o=c,o),48&e.$$.dirty&&n(2,r=s.data.get(c))},[a,l,r,i,c,s]}class Cle extends at{constructor(e){super(),it(this,e,Sle,xle,d,{database:0,schema:1,tableId:4})}}const Ele="/api/db/v0/data_files/";function kle(e){return Uv(Ele,e)}const Ile={addViaUrlToFile:e=>kle({url:e}),addViaText:e=>kle({paste:e}),addViaUpload:function(e,t){return function(e,t,n){const r=new XMLHttpRequest;r.open("POST",e);const o=Ov.get("csrftoken");return o&&r.setRequestHeader("X-CSRFToken",o),r.upload.onprogress=e=>{const{loaded:t,total:r}=e;n?.({loaded:t,total:r,percentCompleted:t/r*100})},r.send(t),new lt(((e,t)=>{r.addEventListener("load",(()=>{if(Vv.has(r.status))try{const t=JSON.parse(String(r.response));e(t)}catch(n){e(r.response)}else t(new Error("An error has occurred while uploading a file."))}))}),(()=>{r.abort()}))}(Ele,e,t)},get:function(e){return Wv(`${Ele}${e}/`)},update:function(e,t){return Yv(`${Ele}${e}/`,t)}};class Tle{constructor({isLoading:t,settlement:n}){e(this,"settlement",void 0),e(this,"isLoading",void 0),this.isLoading=t,this.settlement=n}get isInitializing(){return this.isLoading&&void 0===this.settlement}get isReloading(){return this.isLoading&&void 0!==this.settlement}get isOk(){return!this.isLoading&&"resolved"===this.settlement?.state}get isStable(){return!this.isLoading&&"rejected"!==this.settlement?.state}get resolvedValue(){return"resolved"===this.settlement?.state?this.settlement.value:void 0}get error(){return"rejected"===this.settlement?.state?this.settlement.error:void 0}get isRejected(){return!this.isLoading&&"rejected"===this.settlement?.state}get hasInitialized(){return void 0!==this.settlement}}class Dle{constructor(t,n=rc){e(this,"runFn",void 0),e(this,"getError",void 0),e(this,"value",mt(new Tle({isLoading:!1}))),e(this,"promise",void 0),this.runFn=t,this.getError=n}subscribe(e,t){return this.value.subscribe(e,t)}async run(e){this.cancel(),this.value.update((e=>new Tle({...e,isLoading:!0}))),this.promise=this.runFn(e);try{return this.value.set(new Tle({settlement:{state:"resolved",value:await this.promise},isLoading:!1})),$(this.value)}catch($h){return this.value.set(new Tle({settlement:{state:"rejected",error:this.getError($h)},isLoading:!1})),$(this.value)}}cancel(){this.promise&&"cancel"in this.promise&&this.promise.cancel()}reset(){this.cancel(),this.value.set(new Tle({isLoading:!1}))}}const Mle=function(e){return Wv(`/api/db/v0/tables/${e}/columns/?limit=500`)};function Ole(e){let t,n=e[0]("take_first_row_as_column_names")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("take_first_row_as_column_names")+"")&&G(t,n)},d(e){e&&P(t)}}}function Nle(e){let t,n;return t=new uw({props:{icon:Dy,truncate:!1,$$slots:{default:[Ole]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ale(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class Lle extends at{constructor(e){super(),it(this,e,Ale,Nle,d,{})}}function Ple(e){let t,n=e[0]("keep_first_row_as_data")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("keep_first_row_as_data")+"")&&G(t,n)},d(e){e&&P(t)}}}function Rle(e){let t,n;return t=new uw({props:{icon:My,truncate:!1,$$slots:{default:[Ple]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Hle(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class zle extends at{constructor(e){super(),it(this,e,Hle,Rle,d,{})}}function Fle(e){let t,n,r;const o=[{boxed:!0},{options:[!0,!1]},{label:e[1]("column_names")},{getRadioLabel:e[3]},e[2]];function s(t){e[4](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new Hl({props:a}),we.push((()=>nt(t,"value",s))),t.$on("change",e[5]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=6&r?et(o,[o[0],o[1],2&r&&{label:e[1]("column_names")},0&r&&{getRadioLabel:e[3]},4&r&&tt(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function jle(e,t,n){const r=["value"];let o,s=w(t,r);m(e,Mg,(e=>n(1,o=e)));let{value:a=!0}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,r)),"value"in e&&n(0,a=e.value)},[a,o,s,e=>e?{component:Lle}:{component:zle},function(e){a=e,n(0,a)},function(t){ve.call(this,e,t)}]}class qle extends at{constructor(e){super(),it(this,e,jle,Fle,d,{value:0})}}function Vle(e){let t,n,r,o,s,i,a=e[0]("pick_best_data_type_column")+"",l=e[0]("slower_for_large_imports")+"";return{c(){t=F(a),n=j(),r=H("em"),o=F("("),s=F(l),i=F(")")},m(e,a){L(e,t,a),L(e,n,a),L(e,r,a),O(r,o),O(r,s),O(r,i)},p(e,n){1&n&&a!==(a=e[0]("pick_best_data_type_column")+"")&&G(t,a),1&n&&l!==(l=e[0]("slower_for_large_imports")+"")&&G(s,l)},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function Ble(e){let t,n;return t=new uw({props:{icon:py,truncate:!1,$$slots:{default:[Vle]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wle(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class Ule extends at{constructor(e){super(),it(this,e,Wle,Ble,d,{})}}function Yle(e){let t,n,r,o,s,i,a=e[0]("use_text_for_all_columns")+"",l=e[0]("faster_for_large_imports")+"";return{c(){t=F(a),n=j(),r=H("em"),o=F("("),s=F(l),i=F(")")},m(e,a){L(e,t,a),L(e,n,a),L(e,r,a),O(r,o),O(r,s),O(r,i)},p(e,n){1&n&&a!==(a=e[0]("use_text_for_all_columns")+"")&&G(t,a),1&n&&l!==(l=e[0]("faster_for_large_imports")+"")&&G(s,l)},d(e){e&&P(t),e&&P(n),e&&P(r)}}}function Kle(e){let t,n;return t=new uw({props:{icon:vv,truncate:!1,$$slots:{default:[Yle]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};3&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gle(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class Xle extends at{constructor(e){super(),it(this,e,Gle,Kle,d,{})}}function Zle(e){let t,n,r;const o=[{boxed:!0},{options:[!0,!1]},{label:e[1]("column_data_types")},{getRadioLabel:e[3]},e[2]];function s(t){e[4](t)}let a={};for(let l=0;l<o.length;l+=1)a=i(a,o[l]);return void 0!==e[0]&&(a.value=e[0]),t=new Hl({props:a}),we.push((()=>nt(t,"value",s))),t.$on("change",e[5]),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,[r]){const s=6&r?et(o,[o[0],o[1],2&r&&{label:e[1]("column_data_types")},0&r&&{getRadioLabel:e[3]},4&r&&tt(e[2])]):{};!n&&1&r&&(n=!0,s.value=e[0],Te((()=>n=!1))),t.$set(s)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Jle(e,t,n){const r=["value"];let o,s=w(t,r);m(e,Mg,(e=>n(1,o=e)));let{value:a=!0}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,r)),"value"in e&&n(0,a=e.value)},[a,o,s,e=>e?{component:Ule}:{component:Xle},function(e){a=e,n(0,a)},function(t){ve.call(this,e,t)}]}class Qle extends at{constructor(e){super(),it(this,e,Jle,Zle,d,{value:0})}}function ece(e){let t,n=e[1]("retry")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("retry")+"")&&G(t,n)},d(e){e&&P(t)}}}function tce(e){let t,n,r,o,s,a=e[1]("delete_import")+"";const l=[sy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a),U(r,"class","svelte-1wuw7rs")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(sy)]):{};t.$set(r),(!s||2&n)&&a!==(a=e[1]("delete_import")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function nce(e){let t,n,r,o,s,i,a,l,c,u,d,p,$,m,f=e[1]("failed_load_preview")+"",h=e[1]("or")+"";return l=new Hn({props:{appearance:"primary",$$slots:{default:[ece]},$$scope:{ctx:e}}}),l.$on("click",e[3]),$=new Hn({props:{appearance:"outline-primary",$$slots:{default:[tce]},$$scope:{ctx:e}}}),$.$on("click",e[4]),{c(){t=H("div"),n=F(f),r=j(),o=H("div"),s=F(e[0]),i=j(),a=H("div"),rt(l.$$.fragment),c=j(),u=H("span"),d=F(h),p=j(),rt($.$$.fragment),U(t,"class","title svelte-1wuw7rs"),U(u,"class","svelte-1wuw7rs"),U(a,"class","buttons svelte-1wuw7rs")},m(e,f){L(e,t,f),O(t,n),L(e,r,f),L(e,o,f),O(o,s),L(e,i,f),L(e,a,f),ot(l,a,null),O(a,c),O(a,u),O(u,d),O(a,p),ot($,a,null),m=!0},p(e,t){(!m||2&t)&&f!==(f=e[1]("failed_load_preview")+"")&&G(n,f),(!m||1&t)&&G(s,e[0]);const r={};34&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r),(!m||2&t)&&h!==(h=e[1]("or")+"")&&G(d,h);const o={};34&t&&(o.$$scope={dirty:t,ctx:e}),$.$set(o)},i(e){m||(je(l.$$.fragment,e),je($.$$.fragment,e),m=!0)},o(e){qe(l.$$.fragment,e),qe($.$$.fragment,e),m=!1},d(e){e&&P(t),e&&P(r),e&&P(o),e&&P(i),e&&P(a),st(l),st($)}}}function rce(e){let t,n;return t=new LM({props:{fullWidth:!0,$$slots:{default:[nce]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};35&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function oce(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));const o=fe();let{error:s}=t;return e.$$set=e=>{"error"in e&&n(0,s=e.error)},[s,r,o,()=>o("retry"),()=>o("delete")]}class sce extends at{constructor(e){super(),it(this,e,oce,rce,d,{error:0})}}const ice=e=>({}),ace=e=>({}),lce=e=>({}),cce=e=>({});function uce(e){let t;const n=e[2].default,r=f(n,e,e[3],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||8&o)&&y(r,n,e,e[3],t?g(n,e[3],o,null):v(e[3]),null)},i(e){t||(je(r,e),t=!0)},o(e){qe(r,e),t=!1},d(e){r&&r.d(e)}}}function dce(e){let t,n,r=e[0]("finish_setting_up_table")+"";return{c(){t=H("h1"),n=F(r),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){1&t&&r!==(r=e[0]("finish_setting_up_table")+"")&&G(n,r)},d(e){e&&P(t)}}}function pce(e){let t,n,r,o,s,i,a;r=new bae({props:{$$slots:{header:[dce],default:[uce]},$$scope:{ctx:e}}});const l=e[2].preview,c=f(l,e,e[3],cce),u=e[2].footer,d=f(u,e,e[3],ace);return{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),o=j(),c&&c.c(),s=j(),i=H("div"),d&&d.c(),U(n,"class","page-content svelte-1irkssg"),te(n,"has-preview",e[1].preview),U(i,"class","footer svelte-1irkssg"),U(t,"class","import-preview-content svelte-1irkssg")},m(e,l){L(e,t,l),O(t,n),ot(r,n,null),O(n,o),c&&c.m(n,null),O(t,s),O(t,i),d&&d.m(i,null),a=!0},p(e,t){const o={};9&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o),c&&c.p&&(!a||8&t)&&y(c,l,e,e[3],a?g(l,e[3],t,lce):v(e[3]),cce),(!a||2&t)&&te(n,"has-preview",e[1].preview),d&&d.p&&(!a||8&t)&&y(d,u,e,e[3],a?g(u,e[3],t,ice):v(e[3]),ace)},i(e){a||(je(r.$$.fragment,e),je(c,e),je(d,e),a=!0)},o(e){qe(r.$$.fragment,e),qe(c,e),qe(d,e),a=!1},d(e){e&&P(t),st(r),c&&c.d(e),d&&d.d(e)}}}function $ce(e){let t,n;return t=new mH({props:{fitViewport:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--slate-50)","--inset-page-section-padding":"var(--size-xx-large)","--page-padding":"var(--outer-page-padding-for-inset-page)"},$$slots:{default:[pce]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};11&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mce(e,t,n){let r;m(e,Mg,(e=>n(0,r=e)));let{$$slots:o={},$$scope:s}=t;const i=_(o);return e.$$set=e=>{"$$scope"in e&&n(3,s=e.$$scope)},[r,i,o,s]}class fce extends at{constructor(e){super(),it(this,e,mce,$ce,d,{})}}function hce(e){let t,n=e[3].abstractType.name+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3].abstractType.name+"")&&G(t,n)},d(e){e&&P(t)}}}function gce(e){let t,n;return t=new uw({props:{slot:"trigger",icon:e[3].abstractType.getIcon(),$$slots:{default:[hce]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.icon=e[3].abstractType.getIcon()),2056&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function yce(e){let t,n,r;function o(...t){return e[9](e[10],...t)}return n=new s9({props:{column:{...e[3].column,abstractType:e[3].abstractType},showWarnings:!1,save:o}}),n.$on("cancel",(function(){u(e[10])&&e[10].apply(this,arguments)})),{c(){t=H("div"),rt(n.$$.fragment),U(t,"slot","content"),U(t,"class","type-options-content svelte-12dazpn")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(t,r){e=t;const s={};8&r&&(s.column={...e[3].column,abstractType:e[3].abstractType}),1048&r&&(s.save=o),n.$set(s)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function vce(e){let t,n,r,o,s,i,a,l,c,u;function d(t){e[7](t)}let p={disabled:e[5]};function $(t){e[8](t)}void 0!==e[0]&&(p.checked=e[0]),r=new go({props:p}),we.push((()=>nt(r,"checked",d)));let m={disabled:e[2]};return void 0!==e[1]&&(m.value=e[1]),i=new qi({props:m}),we.push((()=>nt(i,"value",$))),i.$on("blur",e[6]),c=new Wa({props:{disabled:e[5],triggerClass:"column-type",triggerAppearance:"plain",$$slots:{content:[yce,({close:e})=>({10:e}),({close:e})=>e?1024:0],trigger:[gce]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("div"),rt(r.$$.fragment),s=j(),rt(i.$$.fragment),l=j(),rt(c.$$.fragment),U(n,"class","column-name svelte-12dazpn"),U(t,"class","column svelte-12dazpn")},m(e,o){L(e,t,o),O(t,n),ot(r,n,null),O(n,s),ot(i,n,null),O(t,l),ot(c,t,null),u=!0},p(e,[t]){const n={};32&t&&(n.disabled=e[5]),!o&&1&t&&(o=!0,n.checked=e[0],Te((()=>o=!1))),r.$set(n);const s={};4&t&&(s.disabled=e[2]),!a&&2&t&&(a=!0,s.value=e[1],Te((()=>a=!1))),i.$set(s);const l={};32&t&&(l.disabled=e[5]),3096&t&&(l.$$scope={dirty:t,ctx:e}),c.$set(l)},i(e){u||(je(r.$$.fragment,e),je(i.$$.fragment,e),je(c.$$.fragment,e),u=!0)},o(e){qe(r.$$.fragment,e),qe(i.$$.fragment,e),qe(c.$$.fragment,e),u=!1},d(e){e&&P(t),st(r),st(i),st(c)}}}function bce(e,t,n){let r,{isLoading:o=!1}=t,{processedColumn:s}=t,{selected:i}=t,{displayName:a}=t,{updateTypeRelatedOptions:l}=t;return e.$$set=e=>{"isLoading"in e&&n(2,o=e.isLoading),"processedColumn"in e&&n(3,s=e.processedColumn),"selected"in e&&n(0,i=e.selected),"displayName"in e&&n(1,a=e.displayName),"updateTypeRelatedOptions"in e&&n(4,l=e.updateTypeRelatedOptions)},e.$$.update=()=>{12&e.$$.dirty&&n(5,r=s.column.primary_key||o)},[i,a,o,s,l,r,function(){""===a.trim()&&n(1,a=s.column.name)},function(e){i=e,n(0,i)},function(e){a=e,n(1,a)},async(e,t)=>{await l({...s.column,...t}),e()}]}class wce extends at{constructor(e){super(),it(this,e,bce,vce,d,{isLoading:2,processedColumn:3,selected:0,displayName:1,updateTypeRelatedOptions:4})}}function _ce(e,t,n){const r=e.slice();return r[7]=t[n],r}function xce(e,t,n){const r=e.slice();return r[12]=t[n],r}function Sce(e,t,n){const r=e.slice();return r[12]=t[n],r[17]=t,r[18]=n,r}function Cce(e){let t,n,r,o,s,a,l,c,u;function d(t){e[5](t,e[12])}function p(t){e[6](t,e[12])}let $={isLoading:e[2],processedColumn:e[12],updateTypeRelatedOptions:e[3]};void 0!==e[0][e[12].id].selected&&($.selected=e[0][e[12].id].selected),void 0!==e[0][e[12].id].displayName&&($.displayName=e[0][e[12].id].displayName),n=new wce({props:$}),we.push((()=>nt(n,"selected",d))),we.push((()=>nt(n,"displayName",p))),a=new DE({props:{columnIdentifierKey:e[12].id,minColumnWidth:120}});let m=[e[10],{style:l=e[16]}],f={};for(let h=0;h<m.length;h+=1)f=i(f,m[h]);return{c(){t=H("div"),rt(n.$$.fragment),s=j(),rt(a.$$.fragment),c=j(),Y(t,f),te(t,"svelte-11ufinz",!0)},m(e,r){L(e,t,r),ot(n,t,null),O(t,s),ot(a,t,null),L(e,c,r),u=!0},p(s,i){e=s;const c={};4&i&&(c.isLoading=e[2]),2&i&&(c.processedColumn=e[12]),8&i&&(c.updateTypeRelatedOptions=e[3]),!r&&3&i&&(r=!0,c.selected=e[0][e[12].id].selected,Te((()=>r=!1))),!o&&3&i&&(o=!0,c.displayName=e[0][e[12].id].displayName,Te((()=>o=!1))),n.$set(c);const d={};2&i&&(d.columnIdentifierKey=e[12].id),a.$set(d),Y(t,f=et(m,[1024&i&&e[10],(!u||65536&i&&l!==(l=e[16]))&&{style:l}])),te(t,"svelte-11ufinz",!0)},i(e){u||(je(n.$$.fragment,e),je(a.$$.fragment,e),u=!0)},o(e){qe(n.$$.fragment,e),qe(a.$$.fragment,e),u=!1},d(e){e&&P(t),st(n),st(a),e&&P(c)}}}function Ece(e,t){let n,r,o;return r=new _E({props:{columnIdentifierKey:t[12].id,$$slots:{default:[Cce,({htmlAttributes:e,style:t})=>({10:e,16:t}),({htmlAttributes:e,style:t})=>(e?1024:0)|(t?65536:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.columnIdentifierKey=t[12].id),590863&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function kce(e){let t,n,r=[],o=new Map,s=e[1];const i=e=>e[12].id;for(let a=0;a<s.length;a+=1){let t=Sce(e,s,a),n=i(t);o.set(n,r[a]=Ece(n,t))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=q()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);L(e,t,o),n=!0},p(e,n){66575&n&&(s=e[1],ze(),r=Qe(r,n,i,1,e,s,o,t.parentNode,Ze,Ece,t,Sce),Fe())},i(e){if(!n){for(let e=0;e<s.length;e+=1)je(r[e]);n=!0}},o(e){for(let t=0;t<r.length;t+=1)qe(r[t]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&P(t)}}}function Ice(e){let t,n,r,o,s;n=new RA({props:{columnFabric:e[12],value:e[7][e[12].column.name],showAsSkeleton:e[2],disabled:!0}});let a=[e[15],{style:r=e[16]}],l={};for(let c=0;c<a.length;c+=1)l=i(l,a[c]);return{c(){t=H("div"),rt(n.$$.fragment),o=j(),Y(t,l),te(t,"svelte-11ufinz",!0)},m(e,r){L(e,t,r),ot(n,t,null),L(e,o,r),s=!0},p(e,o){const i={};2&o&&(i.columnFabric=e[12]),18&o&&(i.value=e[7][e[12].column.name]),4&o&&(i.showAsSkeleton=e[2]),n.$set(i),Y(t,l=et(a,[32768&o&&e[15],(!s||65536&o&&r!==(r=e[16]))&&{style:r}])),te(t,"svelte-11ufinz",!0)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),e&&P(o)}}}function Tce(e,t){let n,r,o;return r=new _E({props:{columnIdentifierKey:t[12].id,$$slots:{default:[Ice,({htmlAttributes:e,style:t})=>({15:e,16:t}),({htmlAttributes:e,style:t})=>(e?32768:0)|(t?65536:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};2&n&&(o.columnIdentifierKey=t[12].id),622614&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Dce(e){let t,n,r,o,s=[],a=new Map,l=e[1];const c=e=>e[12];for(let i=0;i<l.length;i+=1){let t=xce(e,l,i),n=c(t);a.set(n,s[i]=Tce(n,t))}let u=[e[10],{style:n=e[11]}],d={};for(let p=0;p<u.length;p+=1)d=i(d,u[p]);return{c(){t=H("div");for(let e=0;e<s.length;e+=1)s[e].c();r=j(),Y(t,d),te(t,"svelte-11ufinz",!0)},m(e,n){L(e,t,n);for(let r=0;r<s.length;r+=1)s[r].m(t,null);L(e,r,n),o=!0},p(e,r){98326&r&&(l=e[1],ze(),s=Qe(s,r,c,1,e,l,a,t,Ze,Tce,null,xce),Fe()),Y(t,d=et(u,[1024&r&&e[10],(!o||2048&r&&n!==(n=e[11]))&&{style:n}])),te(t,"svelte-11ufinz",!0)},i(e){if(!o){for(let e=0;e<l.length;e+=1)je(s[e]);o=!0}},o(e){for(let t=0;t<s.length;t+=1)qe(s[t]);o=!1},d(e){e&&P(t);for(let t=0;t<s.length;t+=1)s[t].d();e&&P(r)}}}function Mce(e,t){let n,r,o;return r=new Rk({props:{style:{position:"relative",height:30},$$slots:{default:[Dce,({htmlAttributes:e,styleString:t})=>({10:e,11:t}),({htmlAttributes:e,styleString:t})=>(e?1024:0)|(t?2048:0)]},$$scope:{ctx:t}}}),{key:e,first:null,c(){n=q(),rt(r.$$.fragment),this.first=n},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,n){t=e;const o={};527382&n&&(o.$$scope={dirty:n,ctx:t}),r.$set(o)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Oce(e){let t,n,r,o,s=[],i=new Map;t=new gE({props:{inheritFontStyle:!0,$$slots:{default:[kce]},$$scope:{ctx:e}}});let a=e[4];const l=e=>e[7];for(let c=0;c<a.length;c+=1){let t=_ce(e,a,c),n=l(t);i.set(n,s[c]=Mce(n,t))}return{c(){rt(t.$$.fragment),n=j();for(let e=0;e<s.length;e+=1)s[e].c();r=q()},m(e,i){ot(t,e,i),L(e,n,i);for(let t=0;t<s.length;t+=1)s[t].m(e,i);L(e,r,i),o=!0},p(e,n){const o={};524303&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o),101398&n&&(a=e[4],ze(),s=Qe(s,n,l,1,e,a,i,r.parentNode,Ze,Mce,r,_ce),Fe())},i(e){if(!o){je(t.$$.fragment,e);for(let e=0;e<a.length;e+=1)je(s[e]);o=!0}},o(e){qe(t.$$.fragment,e);for(let t=0;t<s.length;t+=1)qe(s[t]);o=!1},d(e){st(t,e),e&&P(n);for(let t=0;t<s.length;t+=1)s[t].d(e);e&&P(r)}}}function Nce(e){let t,n,r;return n=new mE({props:{restrictWidthToRowWidth:!0,columns:e[1],getColumnIdentifier:Ace,$$slots:{default:[Oce]},$$scope:{ctx:e}}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","import-preview svelte-11ufinz")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,[t]){const r={};2&t&&(r.columns=e[1]),524319&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}const Ace=e=>e.id;function Lce(e,t,n){let{columns:r}=t,{isLoading:o}=t,{updateTypeRelatedOptions:s}=t,{columnPropertiesMap:i}=t,{records:a}=t;return e.$$set=e=>{"columns"in e&&n(1,r=e.columns),"isLoading"in e&&n(2,o=e.isLoading),"updateTypeRelatedOptions"in e&&n(3,s=e.updateTypeRelatedOptions),"columnPropertiesMap"in e&&n(0,i=e.columnPropertiesMap),"records"in e&&n(4,a=e.records)},[i,r,o,s,a,function(t,r){e.$$.not_equal(i[r.id].selected,t)&&(i[r.id].selected=t,n(0,i))},function(t,r){e.$$.not_equal(i[r.id].displayName,t)&&(i[r.id].displayName=t,n(0,i))}]}class Pce extends at{constructor(e){super(),it(this,e,Lce,Nce,d,{columns:1,isLoading:2,updateTypeRelatedOptions:3,columnPropertiesMap:0,records:4})}}function Rce(e){return Object.fromEntries(e.map((e=>{return[e.id,(t=e,{selected:!0,displayName:t.name})];var t})))}function Hce(e,t){return e.filter((e=>t[e.id]?.selected)).map((e=>({id:e.id,name:t[e.id]?.displayName??"",type:e.type,type_options:e.type_options,display_options:e.display_options})))}function zce(e){let t,n;return t=new qle({props:{value:e[0].header,disabled:e[8]}}),t.$on("change",e[19]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.value=e[0].header),256&n[0]&&(r.disabled=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fce(e){let t,n;return t=new Qle({props:{value:e[1],disabled:e[8]}}),t.$on("change",e[20]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.value=e[1]),256&n[0]&&(r.disabled=e[8]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jce(e){let t,n=e[4]("customize_names_types_preview")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r[0]&&n!==(n=e[4]("customize_names_types_preview")+"")&&G(t,n)},d(e){e&&P(t)}}}function qce(e){let t,n;return t=new wz({props:{$$slots:{default:[jce]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vce(e){let t,n,r,o,s,i,a,l;return t=new yO({props:{field:e[2],label:e[4]("table_name")}}),r=new eO({props:{$$slots:{default:[zce]},$$scope:{ctx:e}}}),s=new eO({props:{$$slots:{default:[Fce]},$$scope:{ctx:e}}}),a=new eO({props:{$$slots:{default:[qce]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment),i=j(),rt(a.$$.fragment)},m(e,c){ot(t,e,c),L(e,n,c),ot(r,e,c),L(e,o,c),ot(s,e,c),L(e,i,c),ot(a,e,c),l=!0},p(e,n){const o={};4&n[0]&&(o.field=e[2]),16&n[0]&&(o.label=e[4]("table_name")),t.$set(o);const i={};257&n[0]|16&n[1]&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const l={};258&n[0]|16&n[1]&&(l.$$scope={dirty:n,ctx:e}),s.$set(l);const c={};16&n[0]|16&n[1]&&(c.$$scope={dirty:n,ctx:e}),a.$set(c)},i(e){l||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e),e&&P(i),st(a,e)}}}function Bce(e){let t,n,r,o,s;n=new Pce({props:{columns:e[6],isLoading:e[3].isLoading,updateTypeRelatedOptions:e[21],columnPropertiesMap:e[5],records:e[9]}});let i=e[9].length===tue&&Gce(e);return{c(){t=H("div"),rt(n.$$.fragment),r=j(),i&&i.c(),o=q(),U(t,"class","sheet-holder svelte-wa8e2j")},m(e,a){L(e,t,a),ot(n,t,null),L(e,r,a),i&&i.m(e,a),L(e,o,a),s=!0},p(e,t){const r={};64&t[0]&&(r.columns=e[6]),8&t[0]&&(r.isLoading=e[3].isLoading),32&t[0]&&(r.columnPropertiesMap=e[5]),512&t[0]&&(r.records=e[9]),n.$set(r),e[9].length===tue?i?i.p(e,t):(i=Gce(e),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null)},i(e){s||(je(n.$$.fragment,e),s=!0)},o(e){qe(n.$$.fragment,e),s=!1},d(e){e&&P(t),st(n),e&&P(r),i&&i.d(e),e&&P(o)}}}function Wce(e){let t,n;return t=new sce({props:{error:e[13].error}}),t.$on("retry",e[18]),t.$on("delete",e[22]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.error=e[13].error),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Uce(e){let t,n;return t=new sce({props:{error:e[3].error}}),t.$on("retry",e[18]),t.$on("delete",e[22]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.error=e[3].error),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Yce(e){let t,n,r;return n=new Nr({}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","loading svelte-wa8e2j")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Kce(e){let t,n;return t=new sce({props:{error:e[12].error}}),t.$on("retry",e[18]),t.$on("delete",e[22]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4096&n[0]&&(r.error=e[12].error),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gce(e){let t,n,r,o,s=e[4]("preview_truncated_at_limit",{values:{limit:tue}})+"";return{c(){t=H("div"),n=F("("),r=F(s),o=F(")"),U(t,"class","truncation-alert svelte-wa8e2j")},m(e,s){L(e,t,s),O(t,n),O(t,r),O(t,o)},p(e,t){16&t[0]&&s!==(s=e[4]("preview_truncated_at_limit",{values:{limit:tue}})+"")&&G(r,s)},d(e){e&&P(t)}}}function Xce(e){let t,n,r,o,s,i,a,l=e[4]("table_preview")+"";const c=[Kce,Yce,Uce,Wce,Bce],u=[];function d(e,t){return e[12].error?0:e[3].hasInitialized?e[3].error?2:e[13].error?3:4:1}return s=d(e),i=u[s]=c[s](e),{c(){t=H("h2"),n=F(l),r=j(),o=H("div"),i.c(),U(t,"class","large-bold-header preview-header svelte-wa8e2j"),U(o,"class","preview-content svelte-wa8e2j")},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),u[s].m(o,null),a=!0},p(e,t){(!a||16&t[0])&&l!==(l=e[4]("table_preview")+"")&&G(n,l);let r=s;s=d(e),s===r?u[s].p(e,t):(ze(),qe(u[r],1,1,(()=>{u[r]=null})),Fe(),i=u[s],i?i.p(e,t):(i=u[s]=c[s](e),i.c()),je(i,1),i.m(o,null))},i(e){a||(je(i),a=!0)},o(e){qe(i),a=!1},d(e){e&&P(t),e&&P(r),e&&P(o),u[s].d()}}}function Zce(e){let t,n;return t=new ao({props:{onCancel:e[22],onProceed:e[23],cancelButton:{icon:sy},proceedButton:{label:e[4]("confirm_and_create_table")},canProceed:e[7]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.proceedButton={label:e[4]("confirm_and_create_table")}),128&n[0]&&(r.canProceed=e[7]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Jce(e){let t,n,r,o,s=e[4]("cleaning_up")+"";return r=new Nr({}),{c(){t=F(s),n=F("... "),rt(r.$$.fragment)},m(e,s){L(e,t,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){(!o||16&n[0])&&s!==(s=e[4]("cleaning_up")+"")&&G(t,s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(t),e&&P(n),st(r,e)}}}function Qce(e){let t,n,r,o;const s=[Jce,Zce],i=[];function a(e,t){return e[11].isLoading?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function eue(e){let t,n;return t=new fce({props:{$$slots:{footer:[Qce],preview:[Xce],default:[Vce]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};15359&n[0]|16&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}const tue=20;function nue(e,t,n){let r,s,i,a,l,c,u,d,$,f,h,g,y,v,b,w,_=o,x=o;m(e,NS,(e=>n(29,$=e))),m(e,Mg,(e=>n(4,g=e))),m(e,UO,(e=>n(31,y=e))),e.$$.on_destroy.push((()=>_())),e.$$.on_destroy.push((()=>x()));const S=new Dle(Mle);m(e,S,(e=>n(12,b=e)));const C=new Dle(WO);m(e,C,(e=>n(3,h=e)));const E=new Dle(BO),k=new Dle((async function(e){return await Promise.all([FO(e.database,e.schema,e.table.id),Ile.update(e.dataFile.id,{header:e.firstRowIsHeader})]),jO(e.database,e.schema,{name:e.customizedTableName,dataFiles:[e.dataFile.id]})}));m(e,k,(e=>n(13,w=e)));const I=new Dle((e=>FO(e.database,e.schema,e.table.id)));m(e,I,(e=>n(11,v=e)));let{database:T}=t,{schema:D}=t,{table:M}=t,{dataFile:O}=t,{useColumnTypeInference:N=!1}=t,A=[],L=Rce([]);async function P(){const e=(await S.run(M.id))?.resolvedValue?.results;if(e){if(n(27,A=e),n(5,L=Rce(A)),N){const e=await E.run(M.id);if("resolved"===e.settlement?.state){const t=e.settlement.value;n(27,A=A.map((e=>({...e,type:t[e.name]??e.type}))))}}await C.run({table:M,columns:A})}}function R(e){const t=e.table?.id??M.id;qN.goto(Hb(T.id,D.id,t,{useColumnTypeInference:e.useColumnTypeInference??N}),!0)}return e.$$set=e=>{"database"in e&&n(24,T=e.database),"schema"in e&&n(25,D=e.schema),"table"in e&&n(26,M=e.table),"dataFile"in e&&n(0,O=e.dataFile),"useColumnTypeInference"in e&&n(1,N=e.useColumnTypeInference)},e.$$.update=()=>{67108864&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(28,r=[...y.data.values()].filter((e=>e.id!==M.id)).map((e=>e.name))),335544336&e.$$.dirty[0]&&(n(2,s=IO(M.name,[vM(r,g("table_name_already_exists"))])),_(),_=p(s,(e=>n(32,d=e)))),4&e.$$.dirty[0]&&(n(10,i=DO({customizedTableName:s})),x(),x=p(i,(e=>n(30,f=e)))),8&e.$$.dirty[0]&&n(9,a=h.resolvedValue?.records??[{},{}]),8&e.$$.dirty[0]&&n(8,l=!h.isOk),1073741832&e.$$.dirty[0]&&n(7,c=h.isOk&&f.canSubmit),671088640&e.$$.dirty[0]&&n(6,u=function(e,t){return e.map((e=>{const n=B_(e.type,t);return{id:e.id,column:e,abstractType:n,cellComponentAndProps:mN({cellInfo:n.cellInfo,column:e})}}))}(A,$.data)),67108866&e.$$.dirty[0]&&P()},[O,N,s,h,g,L,u,c,l,a,i,v,b,w,S,C,k,I,P,async function(){C.reset();const e=await k.run({database:T,dataFile:O,firstRowIsHeader:!O.header,schema:D,table:M,customizedTableName:d});e.resolvedValue&&R({table:e.resolvedValue})},async function(){C.reset(),R({useColumnTypeInference:!N})},function(e){return n(27,A=A.map((t=>t.id===e.id?e:t))),C.run({table:M,columns:A})},async function(){const e=await I.run({database:T,schema:D,table:M});e.isOk?qN.goto(Nb(T.id,D.id),!0):Cv.fromError(e.error)},async function(){try{await function(e,t){const n=Yv(`/api/db/v0/tables/${e}/`,t);return new lt(((t,r)=>{n.then((n=>(zO(e,n),t(n))),r)}),(()=>{n.cancel()}))}(M.id,{name:d,import_verified:!0,columns:Hce(A,L)}),qN.goto(qb(T.id,D.id,M.id),!0)}catch(e){Cv.fromError(e)}},T,D,M,A,r,$,f,y]}class rue extends at{constructor(e){super(),it(this,e,nue,eue,d,{database:24,schema:25,table:26,dataFile:0,useColumnTypeInference:1},null,[-1,-1])}}function oue(e){let t,n;return t=new fce({props:{$$slots:{default:[lue]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2144&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function sue(e){let t,n;return t=new fce({props:{$$slots:{default:[cue]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2048&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function iue(e){let t,n;return t=new rue({props:{database:e[0],schema:e[1],table:e[4].resolvedValue,dataFile:e[3].resolvedValue,useColumnTypeInference:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),16&n&&(r.table=e[4].resolvedValue),8&n&&(r.dataFile=e[3].resolvedValue),4&n&&(r.useColumnTypeInference=e[2]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function aue(e){let t,n,r,o,s,i=e[6]("unable_to_load_preview")+"",a=rc(e[5])+"";return{c(){t=H("p"),n=F(i),r=j(),o=H("p"),s=F(a)},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),O(o,s)},p(e,t){64&t&&i!==(i=e[6]("unable_to_load_preview")+"")&&G(n,i),32&t&&a!==(a=rc(e[5])+"")&&G(s,a)},d(e){e&&P(t),e&&P(r),e&&P(o)}}}function lue(e){let t,n;return t=new LM({props:{$$slots:{default:[aue]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2144&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function cue(e){let t,n;return t=new Nr({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function uue(e){let t,n,r,o,s,i;document.title=t=TF(e[6]("import"));const a=[iue,sue,oue],l=[];function c(e,t){return e[4].resolvedValue&&e[3].resolvedValue?0:e[4].isLoading||e[3].isLoading?1:2}return r=c(e),o=l[r]=a[r](e),{c(){n=j(),o.c(),s=q()},m(e,t){L(e,n,t),l[r].m(e,t),L(e,s,t),i=!0},p(e,[n]){(!i||64&n)&&t!==(t=TF(e[6]("import")))&&(document.title=t);let u=r;r=c(e),r===u?l[r].p(e,n):(ze(),qe(l[u],1,1,(()=>{l[u]=null})),Fe(),o=l[r],o?o.p(e,n):(o=l[r]=a[r](e),o.c()),je(o,1),o.m(s.parentNode,s))},i(e){i||(je(o),i=!0)},o(e){qe(o),i=!1},d(e){e&&P(n),l[r].d(e),e&&P(s)}}}function due(e,t,n){let r,o,s,i;m(e,Mg,(e=>n(6,i=e)));const a=new Dle(VO);m(e,a,(e=>n(4,s=e)));const l=new Dle(Ile.get);m(e,l,(e=>n(3,o=e)));let{database:c}=t,{schema:u}=t,{tableId:d}=t,{useColumnTypeInference:p=!1}=t;function $(){qN.goto(qb(c.id,u.id,d))}return e.$$set=e=>{"database"in e&&n(0,c=e.database),"schema"in e&&n(1,u=e.schema),"tableId"in e&&n(9,d=e.tableId),"useColumnTypeInference"in e&&n(2,p=e.useColumnTypeInference)},e.$$.update=()=>{512&e.$$.dirty&&(async()=>{const e=(await a.run(d)).resolvedValue;if(!e)return;if(e.import_verified)return void $();const t=e.data_files?.[0];void 0!==t?await l.run(t):$()})(),24&e.$$.dirty&&n(5,r=s.error??o.error)},[c,u,p,o,s,r,i,a,l,d]}class pue extends at{constructor(e){super(),it(this,e,due,uue,d,{database:0,schema:1,tableId:9,useColumnTypeInference:2})}}function $ue(e){let t,n,r;return n=new Hn({props:{$$slots:{default:[mue]},$$scope:{ctx:e}}}),n.$on("click",e[5]),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","button svelte-j8a923")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p(e,t){const r={};8200&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function mue(e){let t,n=e[3]("cancel_upload")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("cancel_upload")+"")&&G(t,n)},d(e){e&&P(t)}}}function fue(e){let t,n,r,o,s;function i(t){e[10](t)}let a={fileProgress:e[2]};void 0!==e[0]&&(a.fileUploads=e[0]),t=new Wu({props:a}),we.push((()=>nt(t,"fileUploads",i))),t.$on("add",e[4]);let l=e[1]&&$ue(e);return{c(){rt(t.$$.fragment),r=j(),l&&l.c(),o=q()},m(e,n){ot(t,e,n),L(e,r,n),l&&l.m(e,n),L(e,o,n),s=!0},p(e,[r]){const s={};4&r&&(s.fileProgress=e[2]),!n&&1&r&&(n=!0,s.fileUploads=e[0],Te((()=>n=!1))),t.$set(s),e[1]?l?(l.p(e,r),2&r&&je(l,1)):(l=$ue(e),l.c(),je(l,1),l.m(o.parentNode,o)):l&&(ze(),qe(l,1,1,(()=>{l=null})),Fe())},i(e){s||(je(t.$$.fragment,e),je(l),s=!0)},o(e){qe(t.$$.fragment,e),qe(l),s=!1},d(e){st(t,e),e&&P(r),l&&l.d(e),e&&P(o)}}}function hue(e,t,n){let r,o,s;m(e,Mg,(e=>n(3,s=e)));let i,a,{value:l}=t,{isUploading:c=!1}=t,u=0;function d(){n(6,l=void 0),n(7,c=!1),n(0,i=void 0),n(8,u=0),n(1,a=void 0)}function p(e){n(8,u=e.percentCompleted)}function $(){a&&a.cancel(),d()}return me($),e.$$set=e=>{"value"in e&&n(6,l=e.value),"isUploading"in e&&n(7,c=e.isUploading)},e.$$.update=()=>{64&e.$$.dirty&&void 0===l&&d(),1&e.$$.dirty&&n(9,r=i?.[0]),896&e.$$.dirty&&n(2,o=(()=>{if(!r)return{};const e=c?Math.min(u,98):100;return{[r.fileId]:e}})())},[i,a,o,s,async function(e){try{const t=new FormData;t.append("file",e.detail.added[0].file),n(7,c=!0),n(1,a=Ile.addViaUpload(t,p));const r=await a;n(6,l=r.id),n(7,c=!1),n(1,a=void 0)}catch(t){Cv.fromError(t),d()}},$,l,c,u,r,function(e){i=e,n(0,i)}]}class gue extends at{constructor(e){super(),it(this,e,hue,fue,d,{value:6,isUploading:7})}}function yue(e,t,n){const r=e.slice();return r[23]=t[n],r}function vue(e){let t,n,r,o,s,i;return t=new eO({props:{$$slots:{default:[Due]},$$scope:{ctx:e}}}),r=new yO({props:{field:e[11],input:{component:Qle}}}),s=new eO({props:{$$slots:{default:[Mue]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,n){const r={};268435481&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r);const o={};268435508&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function bue(e){let t,n;return t=new LM({props:{$$slots:{default:[Nue]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};268435458&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wue(e){let t,n,r,o,s,i,a,l,c=e[4]("processing_data")+"";return s=new Nr({}),a=new Wz({props:{$$slots:{default:[Aue]},$$scope:{ctx:e}}}),{c(){t=H("h2"),n=F(c),r=j(),o=H("div"),rt(s.$$.fragment),i=j(),rt(a.$$.fragment),U(o,"class","processing-spinner svelte-ghvmhi")},m(e,c){L(e,t,c),O(t,n),L(e,r,c),L(e,o,c),ot(s,o,null),L(e,i,c),ot(a,e,c),l=!0},p(e,t){(!l||16&t)&&c!==(c=e[4]("processing_data")+"")&&G(n,c);const r={};268435472&t&&(r.$$scope={dirty:t,ctx:e}),a.$set(r)},i(e){l||(je(s.$$.fragment,e),je(a.$$.fragment,e),l=!0)},o(e){qe(s.$$.fragment,e),qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),e&&P(r),e&&P(o),st(s),e&&P(i),st(a,e)}}}function _ue(e){let t,n=sc(e[0].key)+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){1&r&&n!==(n=sc(e[0].key)+"")&&G(t,n)},i:o,o:o,d(e){e&&P(t)}}}function xue(e){let t,n;return t=new yO({props:{field:e[9],label:e[4]("paste_data_import"),layout:"stacked",input:{component:Yl,props:{rows:10}}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.label=e[4]("paste_data_import")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Sue(e){let t,n;return t=new yO({props:{field:e[8],layout:"stacked",label:e[4]("enter_url_import_file")}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16&n&&(r.label=e[4]("enter_url_import_file")),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Cue(e){let t,n,r;function o(t){e[16](t)}let s={};return void 0!==e[3]&&(s.value=e[3]),t=new gue({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};!n&&8&r&&(n=!0,o.value=e[3],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Eue(e){let t,n;return t=new jz({props:{path:"/user-guide/importing-data/",$$slots:{default:[kue]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};402653184&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kue(e){let t,n=e[27]+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){134217728&r&&n!==(n=e[27]+"")&&G(t,n)},d(e){e&&P(t)}}}function Iue(e){let t,n,r="documentationLink"===e[26]&&Eue(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"documentationLink"===e[26]?r?(r.p(e,n),67108864&n&&je(r,1)):(r=Eue(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Tue(e){let t,n,r,o,s,i,a,l;const c=[Cue,Sue,xue,_ue],u=[];function d(e,t){return"file"===e[0].key?0:"url"===e[0].key?1:"clipboard"===e[0].key?2:3}return r=d(e),o=u[r]=c[r](e),a=new Kg({props:{text:e[4]("data_tabular_format_help"),$$slots:{default:[Iue,({slotName:e,translatedArg:t})=>({26:e,27:t}),({slotName:e,translatedArg:t})=>(e?67108864:0)|(t?134217728:0)]},$$scope:{ctx:e}}}),{c(){t=H("div"),n=H("div"),o.c(),s=j(),i=H("div"),rt(a.$$.fragment),U(n,"class","data-source-input svelte-ghvmhi"),U(i,"class","upload-format-help svelte-ghvmhi"),U(t,"class","data-source-detail"),U(t,"slot","extra")},m(e,o){L(e,t,o),O(t,n),u[r].m(n,null),O(t,s),O(t,i),ot(a,i,null),l=!0},p(e,t){let s=r;r=d(e),r===s?u[r].p(e,t):(ze(),qe(u[s],1,1,(()=>{u[s]=null})),Fe(),o=u[r],o?o.p(e,t):(o=u[r]=c[r](e),o.c()),je(o,1),o.m(n,null));const i={};16&t&&(i.text=e[4]("data_tabular_format_help")),469762048&t&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i(e){l||(je(o),je(a.$$.fragment,e),l=!0)},o(e){qe(o),qe(a.$$.fragment,e),l=!1},d(e){e&&P(t),u[r].d(),st(a)}}}function Due(e){let t,n,r;function o(t){e[18](t)}let s={boxed:!0,options:e[6],isInline:!0,label:e[4]("data_source"),getRadioLabel:e[17],$$slots:{extra:[Tue]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.value=e[0]),t=new Hl({props:s}),we.push((()=>nt(t,"value",o))),{c(){rt(t.$$.fragment)},m(e,n){ot(t,e,n),r=!0},p(e,r){const o={};16&r&&(o.label=e[4]("data_source")),268435481&r&&(o.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,o.value=e[0],Te((()=>n=!1))),t.$set(o)},i(e){r||(je(t.$$.fragment,e),r=!0)},o(e){qe(t.$$.fragment,e),r=!1},d(e){st(t,e)}}}function Mue(e){let t,n;return t=new xO({props:{form:e[2],onProceed:e[13],onCancel:e[12],cancelButton:{label:e[4]("reset")},canCancel:e[5].hasChanges}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.form=e[2]),16&n&&(r.cancelButton={label:e[4]("reset")}),32&n&&(r.canCancel=e[5].hasChanges),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Oue(e){let t,n,r=e[23]+"";return{c(){t=H("li"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[23]+"")&&G(n,r)},d(e){e&&P(t)}}}function Nue(e){let t,n=e[1].errors,r=[];for(let o=0;o<n.length;o+=1)r[o]=Oue(yue(e,n,o));return{c(){t=H("ul");for(let e=0;e<r.length;e+=1)r[e].c()},m(e,n){L(e,t,n);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(e,o){if(2&o){let s;for(n=e[1].errors,s=0;s<n.length;s+=1){const i=yue(e,n,s);r[s]?r[s].p(i,o):(r[s]=Oue(i),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&P(t),R(r,e)}}}function Aue(e){let t,n=e[4]("large_data_takes_time_warning")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("large_data_takes_time_warning")+"")&&G(t,n)},d(e){e&&P(t)}}}function Lue(e){let t,n,r,o,s,i,a,l=e[4]("create_a_table_by_importing")+"";const c=[wue,bue,vue],u=[];function d(e,t){return"processing"===e[1]?.state?0:"failure"===e[1]?.state?1:2}return s=d(e),i=u[s]=c[s](e),{c(){t=H("h1"),n=F(l),r=j(),o=H("div"),i.c(),U(o,"class","import-file-view svelte-ghvmhi")},m(e,i){L(e,t,i),O(t,n),L(e,r,i),L(e,o,i),u[s].m(o,null),a=!0},p(e,t){(!a||16&t)&&l!==(l=e[4]("create_a_table_by_importing")+"")&&G(n,l);let r=s;s=d(e),s===r?u[s].p(e,t):(ze(),qe(u[r],1,1,(()=>{u[r]=null})),Fe(),i=u[s],i?i.p(e,t):(i=u[s]=c[s](e),i.c()),je(i,1),i.m(o,null))},i(e){a||(je(i),a=!0)},o(e){qe(i),a=!1},d(e){e&&P(t),e&&P(r),e&&P(o),u[s].d()}}}function Pue(e){let t,n,r,o;return document.title=t=TF(e[4]("import")),r=new mH({props:{restrictWidth:!0,cssVariables:{"--page-padding":"var(--inset-page-padding)","--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--sand-200)"},$$slots:{default:[Lue]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||16&n)&&t!==(t=TF(e[4]("import")))&&(document.title=t);const s={};268435519&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Rue(e,t,n){let r,s,i,a,l,c,u,d,$=o;m(e,Mg,(e=>n(4,u=e))),e.$$.on_destroy.push((()=>$()));let{database:f}=t,{schema:h}=t;const g=[{key:"file",label:u("upload_a_file"),icon:_r},{key:"url",label:u("provide_url_to_file"),icon:lv},{key:"clipboard",label:u("copy_and_paste_text"),icon:Iy}],y=IO(g[0]);m(e,y,(e=>n(0,i=e)));const v=IO("");m(e,v,(e=>n(21,l=e)));const b=IO("");m(e,b,(e=>n(20,a=e)));const w=IO(void 0);m(e,w,(e=>n(3,c=e)));const _=IO(!0);let x;m(e,_,(e=>n(19,s=e)));return e.$$set=e=>{"database"in e&&n(14,f=e.database),"schema"in e&&n(15,h=e.schema)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,r=(()=>{const e={uploadMethod:y,useColumnTypeInference:_};return"file"===i.key?DO({...e,fileUploadId:w}):"url"===i.key?DO({...e,urlToFile:v}):"clipboard"===i.key?DO({...e,clipboardContent:b}):sc(i.key)})()),$(),$=p(r,(e=>n(5,d=e))))},[i,x,r,c,u,d,g,y,v,b,w,_,function(){r.reset(),n(1,x=void 0)},async function(){try{n(1,x={state:"processing"});const e=await async function(){if("file"===i.key){if(void 0===c)throw new Error(u("no_file_uploaded"));return c}return"url"===i.key?(await Ile.addViaUrlToFile(l)).id:"clipboard"===i.key?(await Ile.addViaText(a)).id:sc(i.key)}();if(void 0===e)return;const t=await jO(f,h,{dataFiles:[e]}),r=Hb(f.id,h.id,t.id,{useColumnTypeInference:s});qN.goto(r,!0),n(1,x=void 0)}catch(e){n(1,x={state:"failure",errors:[rc(e)]})}},f,h,function(e){c=e,w.set(c)},e=>({component:uw,props:{name:e.label,icon:e.icon}}),function(e){i=e,y.set(i)}]}class Hue extends at{constructor(e){super(),it(this,e,Rue,Pue,d,{database:14,schema:15})}}function zue(e){const t={useColumnTypeInference:"true"===e[3].query.inference};e[4]=t;const n=parseInt(e[3].params.tableIdString,10);e[5]=n}function Fue(e){let t,n;return t=new Hue({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jue(e){let t,n;zue(e);const r=[{database:e[0]},{schema:e[1]},{tableId:e[5]},e[4]];let o={};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new pue({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){zue(e);const o=11&n?et(r,[1&n&&{database:e[0]},2&n&&{schema:e[1]},8&n&&{tableId:e[5]},8&n&&tt(e[4])]):{};t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function que(e){let t,n,r,o,s,i;return t=new SH({props:{item:{type:"simple",href:Pb(e[0].id,e[1].id),label:e[2]("import"),icon:dy}}}),r=new eA({props:{path:"/",$$slots:{default:[Fue]},$$scope:{ctx:e}}}),s=new eA({props:{path:"/:tableIdString",$$slots:{default:[jue,({meta:e})=>({3:e}),({meta:e})=>e?8:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,[n]){const o={};7&n&&(o.item={type:"simple",href:Pb(e[0].id,e[1].id),label:e[2]("import"),icon:dy}),t.$set(o);const i={};67&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};75&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function Vue(e,t,n){let r;m(e,Mg,(e=>n(2,r=e)));let{database:o}=t,{schema:s}=t;return e.$$set=e=>{"database"in e&&n(0,o=e.database),"schema"in e&&n(1,s=e.schema)},[o,s,r]}class Bue extends at{constructor(e){super(),it(this,e,Vue,que,d,{database:0,schema:1})}}const Wue={list:function(e){return Wv(`/api/ui/v0/queries/${e}/shares/`)},add:function(e,t){return Uv(`/api/ui/v0/queries/${e}/shares/`,t)},update:function(e,t,n){return Yv(`/api/ui/v0/queries/${e}/shares/${t}/`,n)},regenerate:function(e,t){return Uv(`/api/ui/v0/queries/${e}/shares/${t}/regenerate/`)}};function Uue(e){let t,n,r,o,s,a=e[1]("share")+"";const l=[Oy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a),U(r,"class","responsive-button-label")},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(Oy)]):{};t.$set(r),(!s||2&n)&&a!==(a=e[1]("share")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function Yue(e){let t,n;return t=new Mie({props:{slot:"content",entityId:e[0],api:Wue,text:{header:e[1]("share_exploration"),description:e[1]("share_exploration_help"),empty:e[1]("exploration_not_shared")},getLink:e[3]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.entityId=e[0]),2&n&&(r.text={header:e[1]("share_exploration"),description:e[1]("share_exploration_help"),empty:e[1]("exploration_not_shared")}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kue(e){let t,n;const r=[{showArrow:!1},{triggerAppearance:"secondary"},e[2],{ariaLabel:e[1]("share")}];let o={$$slots:{content:[Yue],trigger:[Uue]},$$scope:{ctx:e}};for(let s=0;s<r.length;s+=1)o=i(o,r[s]);return t=new Wa({props:o}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const o=6&n?et(r,[r[0],r[1],4&n&&tt(e[2]),2&n&&{ariaLabel:e[1]("share")}]):{};19&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Gue(e,t,n){const r=["id"];let o,s=w(t,r);m(e,Mg,(e=>n(1,o=e)));let{id:a}=t;return e.$$set=e=>{t=i(i({},t),b(e)),n(2,s=w(t,r)),"id"in e&&n(0,a=e.id)},[a,o,s,e=>`/shares/explorations/${e.slug}/`]}class Xue extends at{constructor(e){super(),it(this,e,Gue,Kue,d,{id:0})}}function Zue(e){let t,n,r,o=e[4]&&Jue(e);return n=new Xue({props:{id:e[3].id}}),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){e[4]?o?o.p(e,r):(o=Jue(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null);const s={};8&r&&(s.id=e[3].id),n.$set(s)},i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function Jue(e){let t,n,r,o,s=e[6]("edit_in_data_explorer")+"";return{c(){t=H("a"),n=H("span"),r=F(s),U(t,"class","btn btn-primary"),U(t,"href",o=jb(e[1].id,e[2].id,e[3].id))},m(e,o){L(e,t,o),O(t,n),O(n,r)},p(e,n){64&n&&s!==(s=e[6]("edit_in_data_explorer")+"")&&G(r,s),14&n&&o!==(o=jb(e[1].id,e[2].id,e[3].id))&&U(t,"href",o)},d(e){e&&P(t)}}}function Que(e){let t,n,r,o,s,a=e[6]("inspector")+"";const l=[Jy];let c={};for(let u=0;u<l.length;u+=1)c=i(c,l[u]);return t=new Kr({props:c}),{c(){rt(t.$$.fragment),n=j(),r=H("span"),o=F(a)},m(e,i){ot(t,e,i),L(e,n,i),L(e,r,i),O(r,o),s=!0},p(e,n){const r=0&n?et(l,[tt(Jy)]):{};t.$set(r),(!s||64&n)&&a!==(a=e[6]("inspector")+"")&&G(o,a)},i(e){s||(je(t.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),e&&P(r)}}}function ede(e){let t,n,r,o="shared-consumer-page"!==e[5]&&Zue(e);return n=new Hn({props:{appearance:"secondary",$$slots:{default:[Que]},$$scope:{ctx:e}}}),n.$on("click",e[7]),{c(){o&&o.c(),t=j(),rt(n.$$.fragment)},m(e,s){o&&o.m(e,s),L(e,t,s),ot(n,e,s),r=!0},p(e,r){"shared-consumer-page"!==e[5]?o?(o.p(e,r),32&r&&je(o,1)):(o=Zue(e),o.c(),je(o,1),o.m(t.parentNode,t)):o&&(ze(),qe(o,1,1,(()=>{o=null})),Fe());const s={};320&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){r||(je(o),je(n.$$.fragment,e),r=!0)},o(e){qe(o),qe(n.$$.fragment,e),r=!1},d(e){o&&o.d(e),e&&P(t),st(n,e)}}}function tde(e){let t,n;return t=new gY({props:{title:{icon:Fy,name:e[3].name,description:e[3].description},$$slots:{"actions-right":[ede]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.title={icon:Fy,name:e[3].name,description:e[3].description}),383&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function nde(e,t,n){let r;m(e,Mg,(e=>n(6,r=e)));let{database:o}=t,{schema:s}=t,{query:i}=t,{isInspectorOpen:a=!0}=t,{canEditMetadata:l}=t,{context:c="page"}=t;return e.$$set=e=>{"database"in e&&n(1,o=e.database),"schema"in e&&n(2,s=e.schema),"query"in e&&n(3,i=e.query),"isInspectorOpen"in e&&n(0,a=e.isInspectorOpen),"canEditMetadata"in e&&n(4,l=e.canEditMetadata),"context"in e&&n(5,c=e.context)},[a,o,s,i,l,c,r,()=>{n(0,a=!a)}]}class rde extends at{constructor(e){super(),it(this,e,nde,tde,d,{database:1,schema:2,query:3,isInspectorOpen:0,canEditMetadata:4,context:5})}}function ode(e){let t,n,r,o,s,i;function a(t){e[13](t)}let l={query:e[2],database:e[0],schema:e[1],canEditMetadata:e[6],context:e[5]};return void 0!==e[4]&&(l.isInspectorOpen=e[4]),n=new rde({props:l}),we.push((()=>nt(n,"isInspectorOpen",a))),s=new HG({props:{isInspectorOpen:e[4],queryHandler:e[3],canEditMetadata:e[6],$$slots:{default:[sde]},$$scope:{ctx:e}}}),s.$on("delete",e[9]),{c(){t=H("div"),rt(n.$$.fragment),o=j(),rt(s.$$.fragment),U(t,"class","exploration-page svelte-weidhd")},m(e,r){L(e,t,r),ot(n,t,null),O(t,o),ot(s,t,null),i=!0},p(e,t){const o={};4&t&&(o.query=e[2]),1&t&&(o.database=e[0]),2&t&&(o.schema=e[1]),64&t&&(o.canEditMetadata=e[6]),32&t&&(o.context=e[5]),!r&&16&t&&(r=!0,o.isInspectorOpen=e[4],Te((()=>r=!1))),n.$set(o);const i={};16&t&&(i.isInspectorOpen=e[4]),8&t&&(i.queryHandler=e[3]),64&t&&(i.canEditMetadata=e[6]),32776&t&&(i.$$scope={dirty:t,ctx:e}),s.$set(i)},i(e){i||(je(n.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(n.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){e&&P(t),st(n),st(s)}}}function sde(e){let t,n;return t=new bQ({props:{queryHandler:e[3],isExplorationPage:!0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.queryHandler=e[3]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ide(e){let t,n,r=e[3]&&ode(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){e[3]?r?(r.p(e,n),8&n&&je(r,1)):(r=ode(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function ade(e){let t,n,r,o;return document.title=t=e[2].name+" | "+e[1].name+" | "+e[7]("mathesar"),r=new mH({props:{fitViewport:!0,$$slots:{default:[ide]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||134&n)&&t!==(t=e[2].name+" | "+e[1].name+" | "+e[7]("mathesar"))&&(document.title=t);const s={};32895&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function lde(e,t,n){let r,o,s,i;m(e,NS,(e=>n(11,o=e))),m(e,Mg,(e=>n(7,i=e)));const a=cb();m(e,a,(e=>n(12,s=e)));let l,{database:c}=t,{schema:u}=t,{query:d}=t,{shareConsumer:p}=t,$=!0;let f="page";return e.$$set=e=>{"database"in e&&n(0,c=e.database),"schema"in e&&n(1,u=e.schema),"query"in e&&n(2,d=e.query),"shareConsumer"in e&&n(10,p=e.shareConsumer)},e.$$.update=()=>{var t,i;4099&e.$$.dirty&&n(6,r=s?.hasPermission({database:c,schema:u},"canEditMetadata")??!1),1024&e.$$.dirty&&n(5,f=p?"shared-consumer-page":"page"),2052&e.$$.dirty&&(t=d,i=o.data,l?.destroy(),n(3,l=new xK({query:new fK(t),abstractTypeMap:i,runMode:"queryId",shareConsumer:p})))},[c,u,d,l,$,f,r,i,a,function(){qN.goto(Nb(c.id,u.id))},p,o,s,function(e){$=e,n(4,$)}]}class cde extends at{constructor(e){super(),it(this,e,lde,ade,d,{database:0,schema:1,query:2,shareConsumer:10})}}function ude(e){let t,n;return t=new bH({props:{$$slots:{default:[pde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};72&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function dde(e){let t,n,r,o;return t=new SH({props:{item:{type:"exploration",database:e[0],schema:e[1],query:e[2]}}}),r=new cde({props:{database:e[0],schema:e[1],query:e[2]}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};7&n&&(o.item={type:"exploration",database:e[0],schema:e[1],query:e[2]}),t.$set(o);const s={};1&n&&(s.database=e[0]),2&n&&(s.schema=e[1]),4&n&&(s.query=e[2]),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function pde(e){let t,n=e[3]("page_doesnt_exist")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){8&r&&n!==(n=e[3]("page_doesnt_exist")+"")&&G(t,n)},d(e){e&&P(t)}}}function $de(e){let t,n,r,o;const s=[dde,ude],i=[];function a(e,t){return e[2]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function mde(e,t,n){let r,o,s;m(e,qP,(e=>n(5,o=e))),m(e,Mg,(e=>n(3,s=e)));let{database:i}=t,{schema:a}=t,{queryId:l}=t;return e.$$set=e=>{"database"in e&&n(0,i=e.database),"schema"in e&&n(1,a=e.schema),"queryId"in e&&n(4,l=e.queryId)},e.$$.update=()=>{48&e.$$.dirty&&n(2,r=o.data.get(l))},[i,a,r,s,l,o]}class fde extends at{constructor(e){super(),it(this,e,mde,$de,d,{database:0,schema:1,queryId:4})}}function hde(e){let t,n;return t=new bH({props:{$$slots:{default:[yde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16400&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gde(e){let t,n,r,o,s,i,a,l,c,u,d;t=new SH({props:{item:{type:"schema",database:e[0],schema:e[1]}}});let p=e[3]&&vde(e);return o=new eA({props:{path:"/tables/:tableId/*",firstmatch:!0,$$slots:{default:[wde,({meta:e})=>({13:e}),({meta:e})=>e?8192:0]},$$scope:{ctx:e}}}),i=new eA({props:{path:"/explorations/:queryId",firstmatch:!0,$$slots:{default:[_de,({meta:e})=>({13:e}),({meta:e})=>e?8192:0]},$$scope:{ctx:e}}}),l=new Q2({props:{paths:e[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},e[6]]:[e[6]],$$slots:{default:[xde,({path:e,meta:t})=>({12:e,13:t}),({path:e,meta:t})=>(e?4096:0)|(t?8192:0)]},$$scope:{ctx:e}}}),u=new Q2({props:{paths:[{name:"tables",path:"/tables/"},{name:"explorations",path:"/explorations/"},{name:"overview",path:"/"}],$$slots:{default:[Sde,({path:e})=>({12:e}),({path:e})=>e?4096:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),p&&p.c(),r=j(),rt(o.$$.fragment),s=j(),rt(i.$$.fragment),a=j(),rt(l.$$.fragment),c=j(),rt(u.$$.fragment)},m(e,$){ot(t,e,$),L(e,n,$),p&&p.m(e,$),L(e,r,$),ot(o,e,$),L(e,s,$),ot(i,e,$),L(e,a,$),ot(l,e,$),L(e,c,$),ot(u,e,$),d=!0},p(e,n){const s={};3&n&&(s.item={type:"schema",database:e[0],schema:e[1]}),t.$set(s),e[3]?p?(p.p(e,n),8&n&&je(p,1)):(p=vde(e),p.c(),je(p,1),p.m(r.parentNode,r)):p&&(ze(),qe(p,1,1,(()=>{p=null})),Fe());const a={};24579&n&&(a.$$scope={dirty:n,ctx:e}),o.$set(a);const c={};24579&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const d={};4&n&&(d.paths=e[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},e[6]]:[e[6]]),28675&n&&(d.$$scope={dirty:n,ctx:e}),l.$set(d);const $={};20483&n&&($.$$scope={dirty:n,ctx:e}),u.$set($)},i(e){d||(je(t.$$.fragment,e),je(p),je(o.$$.fragment,e),je(i.$$.fragment,e),je(l.$$.fragment,e),je(u.$$.fragment,e),d=!0)},o(e){qe(t.$$.fragment,e),qe(p),qe(o.$$.fragment,e),qe(i.$$.fragment,e),qe(l.$$.fragment,e),qe(u.$$.fragment,e),d=!1},d(e){st(t,e),e&&P(n),p&&p.d(e),e&&P(r),st(o,e),e&&P(s),st(i,e),e&&P(a),st(l,e),e&&P(c),st(u,e)}}}function yde(e){let t,n=e[4]("schema_not_found")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("schema_not_found")+"")&&G(t,n)},d(e){e&&P(t)}}}function vde(e){let t,n;return t=new eA({props:{path:"/import/*",firstmatch:!0,$$slots:{default:[bde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};16387&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bde(e){let t,n;return t=new Bue({props:{database:e[0],schema:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wde(e){let t,n;return t=new Cle({props:{database:e[0],schema:e[1],tableId:parseInt(e[13].params.tableId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),8192&n&&(r.tableId=parseInt(e[13].params.tableId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function _de(e){let t,n;return t=new fde({props:{database:e[0],schema:e[1],queryId:parseInt(e[13].params.queryId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),8192&n&&(r.queryId=parseInt(e[13].params.queryId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function xde(e){let t,n;return t=new $4({props:{database:e[0],schema:e[1],queryId:"edit-exploration"===e[12]?parseInt(e[13].params.queryId,10):void 0}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),12288&n&&(r.queryId="edit-exploration"===e[12]?parseInt(e[13].params.queryId,10):void 0),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Sde(e){let t,n;return t=new z2({props:{database:e[0],schema:e[1],section:e[12]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.database=e[0]),2&n&&(r.schema=e[1]),4096&n&&(r.section=e[12]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Cde(e){let t,n,r,o;const s=[gde,hde],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Ede(e,t,n){let r,o,s,i,a,l,c;m(e,nM,(e=>n(10,i=e))),m(e,pM,(e=>n(9,l=e))),m(e,Mg,(e=>n(4,c=e)));const u=cb();m(e,u,(e=>n(8,a=e)));let{database:d}=t,{schemaId:p}=t;function $(){S(nM,i=void 0,i)}return pe((()=>$)),e.$$set=e=>{"database"in e&&n(0,d=e.database),"schemaId"in e&&n(7,p=e.schemaId)},e.$$.update=()=>{128&e.$$.dirty&&S(nM,i=p,i),640&e.$$.dirty&&n(1,r=l.data.get(p)),259&e.$$.dirty&&n(3,o=a?.hasPermission({database:d,schema:r},"canExecuteDDL")),259&e.$$.dirty&&n(2,s=a?.hasPermission({database:d,schema:r},"canEditMetadata"))},[d,r,s,o,c,u,{name:"new-exploration",path:"/data-explorer/"},p,a,l]}class kde extends at{constructor(e){super(),it(this,e,Ede,Cde,d,{database:0,schemaId:7})}}function Ide(e){let t,n;return t=new bH({props:{$$slots:{default:[Nde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};265&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Tde(e){let t,n,r,o,s,i;return t=new SH({props:{item:{type:"database",database:e[1]}}}),r=new eA({props:{path:"/",$$slots:{default:[Ade]},$$scope:{ctx:e}}}),s=new eA({props:{path:"/:schemaId/*",firstmatch:!0,$$slots:{default:[Lde,({meta:e})=>({6:e}),({meta:e})=>e?64:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),rt(s.$$.fragment)},m(e,a){ot(t,e,a),L(e,n,a),ot(r,e,a),L(e,o,a),ot(s,e,a),i=!0},p(e,n){const o={};2&n&&(o.item={type:"database",database:e[1]}),t.$set(o);const i={};258&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i);const a={};322&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(s.$$.fragment,e),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(s.$$.fragment,e),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),st(s,e)}}}function Dde(e){let t,n;return t=new Ag({props:{$$slots:{default:[Mde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};257&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mde(e){let t;return{c(){t=F(e[0])},m(e,n){L(e,t,n)},p(e,n){1&n&&G(t,e[0])},d(e){e&&P(t)}}}function Ode(e){let t,n,r="connectionId"===e[7]&&Dde(e);return{c(){r&&r.c(),t=q()},m(e,o){r&&r.m(e,o),L(e,t,o),n=!0},p(e,n){"connectionId"===e[7]?r?(r.p(e,n),128&n&&je(r,1)):(r=Dde(e),r.c(),je(r,1),r.m(t.parentNode,t)):r&&(ze(),qe(r,1,1,(()=>{r=null})),Fe())},i(e){n||(je(r),n=!0)},o(e){qe(r),n=!1},d(e){r&&r.d(e),e&&P(t)}}}function Nde(e){let t,n;return t=new Kg({props:{text:e[3]("database_not_found"),$$slots:{default:[Ode,({slotName:e})=>({7:e}),({slotName:e})=>e?128:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.text=e[3]("database_not_found")),385&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ade(e){let t,n;return t=new DU({props:{database:e[1]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.database=e[1]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Lde(e){let t,n;return t=new kde({props:{database:e[1],schemaId:parseInt(e[6].params.schemaId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.database=e[1]),64&n&&(r.schemaId=parseInt(e[6].params.schemaId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Pde(e){let t,n,r,o;const s=[Tde,Ide],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Rde(e,t,n){let r,s,i,a,l=o;m(e,Mg,(e=>n(3,a=e))),e.$$.on_destroy.push((()=>l()));let{connectionId:c}=t;function u(){ES.clearCurrentConnectionId()}return pe((()=>u)),e.$$set=e=>{"connectionId"in e&&n(0,c=e.connectionId)},e.$$.update=()=>{1&e.$$.dirty&&ES.setCurrentConnectionId(c),17&e.$$.dirty&&n(1,s=i.get(c))},n(2,({connections:r}=ES),r),l(),l=p(r,(e=>n(4,i=e))),[c,s,r,a,i]}class Hde extends at{constructor(e){super(),it(this,e,Rde,Pde,d,{connectionId:0})}}function zde(e){let t,n;return t=new LM({props:{$$slots:{default:[jde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Fde(e){let t,n,r,o,s,i;t=new pae({props:{$$slots:{header:[Vde],default:[qde]},$$scope:{ctx:e}}}),r=new pae({props:{$$slots:{default:[Bde]},$$scope:{ctx:e}}});let a=!e[0].isSuperUser&&Wde(e);return{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),a&&a.c(),s=q()},m(e,l){ot(t,e,l),L(e,n,l),ot(r,e,l),L(e,o,l),a&&a.m(e,l),L(e,s,l),i=!0},p(e,n){const o={};19&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const i={};17&n&&(i.$$scope={dirty:n,ctx:e}),r.$set(i),e[0].isSuperUser?a&&(ze(),qe(a,1,1,(()=>{a=null})),Fe()):a?(a.p(e,n),1&n&&je(a,1)):(a=Wde(e),a.c(),je(a,1),a.m(s.parentNode,s))},i(e){i||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(a),i=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(a),i=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),a&&a.d(e),e&&P(s)}}}function jde(e){let t,n=e[1]("could_not_fetch_profile_error")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("could_not_fetch_profile_error")+"")&&G(t,n)},d(e){e&&P(t)}}}function qde(e){let t,n;return t=new Pq({props:{user:e[0].getUser()}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.user=e[0].getUser()),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Vde(e){let t,n,r=e[1]("account_details")+"";return{c(){t=H("h2"),n=F(r),U(t,"class","large-bold-header svelte-zd9d3z"),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1]("account_details")+"")&&G(n,r)},d(e){e&&P(t)}}}function Bde(e){let t,n;return t=new Zq({props:{userId:e[0].id}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.userId=e[0].id),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Wde(e){let t,n;return t=new pae({props:{$$slots:{header:[Yde],default:[Ude]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ude(e){let t,n,r=e[1]("delete_account_contact_admin")+"";return{c(){t=H("div"),n=F(r)},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1]("delete_account_contact_admin")+"")&&G(n,r)},d(e){e&&P(t)}}}function Yde(e){let t,n,r=e[1]("delete_account")+"";return{c(){t=H("h2"),n=F(r),U(t,"class","large-bold-header svelte-zd9d3z"),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1]("delete_account")+"")&&G(n,r)},d(e){e&&P(t)}}}function Kde(e){let t,n,r,o;const s=[Fde,zde],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Gde(e){let t,n,r=e[1]("user_profile")+"";return{c(){t=H("h1"),n=F(r),U(t,"slot","header")},m(e,r){L(e,t,r),O(t,n)},p(e,t){2&t&&r!==(r=e[1]("user_profile")+"")&&G(n,r)},d(e){e&&P(t)}}}function Xde(e){let t,n;return t=new bae({props:{hasMultipleSections:!0,$$slots:{header:[Gde],default:[Kde]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};19&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Zde(e){let t,n,r,o;return document.title=t="\n    "+(e[0]?.getDisplayName()??e[1]("user_profile"))+" | "+e[1]("mathesar")+"\n  ",r=new mH({props:{cssVariables:{"--page-padding":"var(--outer-page-padding-for-inset-page)","--layout-background-color":"var(--sand-200)","--inset-page-section-padding":"var(--size-ultra-large) var(--size-xx-large)"},$$slots:{default:[Xde]},$$scope:{ctx:e}}}),{c(){n=j(),rt(r.$$.fragment)},m(e,t){L(e,n,t),ot(r,e,t),o=!0},p(e,[n]){(!o||3&n)&&t!==(t="\n    "+(e[0]?.getDisplayName()??e[1]("user_profile"))+" | "+e[1]("mathesar")+"\n  ")&&(document.title=t);const s={};19&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(r.$$.fragment,e),o=!0)},o(e){qe(r.$$.fragment,e),o=!1},d(e){e&&P(n),st(r,e)}}}function Jde(e,t,n){let r,o,s;m(e,Mg,(e=>n(1,s=e)));const i=cb();return m(e,i,(e=>n(3,o=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,r=o)},[r,s,i,o]}class Qde extends at{constructor(e){super(),it(this,e,Jde,Zde,d,{})}}function epe(e){let t,n,r,o;return t=new SH({props:{item:{type:"simple",href:Bb,label:e[0]("user_profile"),icon:nv}}}),r=new Qde({}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const r={};1&n&&(r.item={type:"simple",href:Bb,label:e[0]("user_profile"),icon:nv}),t.$set(r)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function tpe(e,t,n){let r;return m(e,Mg,(e=>n(0,r=e))),[r]}class npe extends at{constructor(e){super(),it(this,e,tpe,epe,d,{})}}function rpe(e){let t,n;return t=new lF({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ope(e){let t,n;return t=new npe({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function spe(e){let t,n;return t=new eA({props:{path:"/administration/*",firstmatch:!0,$$slots:{default:[ipe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ipe(e){let t,n;return t=new YB({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function ape(e){let t,n;return t=new Hde({props:{connectionId:parseInt(e[6].params.connectionId,10)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.connectionId=parseInt(e[6].params.connectionId,10)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function lpe(e){let t,n,r,s;return t=new SH({props:{item:{type:"connectionList"}}}),r=new QF({}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,o){ot(t,e,o),L(e,n,o),ot(r,e,o),s=!0},p:o,i(e){s||(je(t.$$.fragment,e),je(r.$$.fragment,e),s=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),s=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function cpe(e){let t,n,r,o,s,i,a,l,c;t=new eA({props:{path:"/",redirect:e[0],$$slots:{default:[rpe]},$$scope:{ctx:e}}}),r=new eA({props:{path:"/profile",$$slots:{default:[ope]},$$scope:{ctx:e}}});let u=e[2]?.isSuperUser&&spe(e);return i=new eA({props:{path:"/db/:connectionId/*",firstmatch:!0,$$slots:{default:[ape,({meta:e})=>({6:e}),({meta:e})=>e?64:0]},$$scope:{ctx:e}}}),l=new eA({props:{path:"/connections",$$slots:{default:[lpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment),o=j(),u&&u.c(),s=j(),rt(i.$$.fragment),a=j(),rt(l.$$.fragment)},m(e,d){ot(t,e,d),L(e,n,d),ot(r,e,d),L(e,o,d),u&&u.m(e,d),L(e,s,d),ot(i,e,d),L(e,a,d),ot(l,e,d),c=!0},p(e,[n]){const o={};1&n&&(o.redirect=e[0]),128&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const a={};128&n&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),e[2]?.isSuperUser?u?4&n&&je(u,1):(u=spe(e),u.c(),je(u,1),u.m(s.parentNode,s)):u&&(ze(),qe(u,1,1,(()=>{u=null})),Fe());const c={};192&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const d={};128&n&&(d.$$scope={dirty:n,ctx:e}),l.$set(d)},i(e){c||(je(t.$$.fragment,e),je(r.$$.fragment,e),je(u),je(i.$$.fragment,e),je(l.$$.fragment,e),c=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),qe(u),qe(i.$$.fragment,e),qe(l.$$.fragment,e),c=!1},d(e){st(t,e),e&&P(n),st(r,e),e&&P(o),u&&u.d(e),e&&P(s),st(i,e),e&&P(a),st(l,e)}}}function upe(e,t,n){let r,s,i,a,l,c=o;e.$$.on_destroy.push((()=>c()));const u=cb();return m(e,u,(e=>n(5,l=e))),e.$$.update=()=>{32&e.$$.dirty&&n(2,r=l),16&e.$$.dirty&&n(0,i=function(e,t){const n=e[Symbol.iterator](),r=n.next();return r.done?t.whenZero:n.next().done?t.whenOne(r.value):t.whenMany}(a,{whenZero:void 0,whenOne:([e])=>Ob(e),whenMany:Gb}))},n(1,({connections:s}=ES),s),c(),c=p(s,(e=>n(4,a=e))),[i,s,r,u,a,l]}class dpe extends at{constructor(e){super(),it(this,e,upe,cpe,d,{})}}function ppe(e){let t,n;return t=new bH({props:{$$slots:{default:[mpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};516&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function $pe(e){let t,n;return t=new Xie({props:{table:e[1],shareConsumer:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.table=e[1]),1&n&&(r.shareConsumer=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function mpe(e){let t,n=e[2]("page_doesnt_exist")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){4&r&&n!==(n=e[2]("page_doesnt_exist")+"")&&G(t,n)},d(e){e&&P(t)}}}function fpe(e){let t,n,r,o;const s=[$pe,ppe],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function hpe(e){let t,n;return t=new eA({props:{path:"/",$$slots:{default:[fpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};519&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function gpe(e,t,n){let r,o,s,i,a,l;m(e,GO,(e=>n(6,i=e))),m(e,UO,(e=>n(5,a=e))),m(e,Mg,(e=>n(2,l=e)));const c=Bm("shared_table");let{slug:u}=t;function d(){S(GO,i=void 0,i)}return pe((()=>d)),e.$$set=e=>{"slug"in e&&n(3,u=e.slug)},e.$$.update=()=>{16&e.$$.dirty&&S(GO,i=r??void 0,i),48&e.$$.dirty&&n(1,o=r?a.data.get(r):void 0),8&e.$$.dirty&&n(0,s=new AP({slug:u}))},n(4,r=c?.table_id??void 0),[s,o,l,u,r,a]}class ype extends at{constructor(e){super(),it(this,e,gpe,hpe,d,{slug:3})}}function vpe(e){let t,n;return t=new bH({props:{$$slots:{default:[wpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};2064&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function bpe(e){let t,n;return t=new cde({props:{database:e[2],schema:e[1],query:e[3],shareConsumer:e[0]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.database=e[2]),2&n&&(r.schema=e[1]),8&n&&(r.query=e[3]),1&n&&(r.shareConsumer=e[0]),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function wpe(e){let t,n=e[4]("page_doesnt_exist")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){16&r&&n!==(n=e[4]("page_doesnt_exist")+"")&&G(t,n)},d(e){e&&P(t)}}}function _pe(e){let t,n,r,o;const s=[bpe,vpe],i=[];function a(e,t){return e[3]&&e[2]&&e[1]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function xpe(e){let t,n;return t=new eA({props:{path:"/",$$slots:{default:[_pe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};2079&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Spe(e,t,n){let r,o,s,i,a,l,c,u,d;m(e,$M,(e=>n(7,l=e))),m(e,kS,(e=>n(8,c=e))),m(e,qP,(e=>n(9,u=e))),m(e,Mg,(e=>n(4,d=e)));const p=Bm("shared_query");let{slug:$}=t;return e.$$set=e=>{"slug"in e&&n(5,$=e.slug)},e.$$.update=()=>{576&e.$$.dirty&&n(3,o=r?u.data.get(r):void 0),256&e.$$.dirty&&n(2,s=c),128&e.$$.dirty&&n(1,i=l),32&e.$$.dirty&&n(0,a=new AP({slug:$}))},n(6,r=p?.query_id??void 0),[a,i,s,o,d,$,r,l,c,u]}class Cpe extends at{constructor(e){super(),it(this,e,Spe,xpe,d,{slug:5})}}function Epe(e){let t,n;return t=new ype({props:{slug:String(e[0].params.slug)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.slug=String(e[0].params.slug)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function kpe(e){let t,n;return t=new Cpe({props:{slug:String(e[0].params.slug)}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.slug=String(e[0].params.slug)),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ipe(e){let t,n,r,o;return t=new eA({props:{path:"/tables/:slug/*",$$slots:{default:[Epe,({meta:e})=>({0:e}),({meta:e})=>e?1:0]},$$scope:{ctx:e}}}),r=new eA({props:{path:"/explorations/:slug/*",$$slots:{default:[kpe,({meta:e})=>({0:e}),({meta:e})=>e?1:0]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,[n]){const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};3&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}class Tpe extends at{constructor(e){super(),it(this,e,null,Ipe,d,{})}}function Dpe(e){let t,n;return t=new eA({props:{path:"/*",firstmatch:!0,$$slots:{default:[Ppe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};19&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Mpe(e){let t,n;return t=new eA({props:{path:"/*",firstmatch:!0,$$slots:{default:[jpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ope(e){let t,n;return t=new dpe({}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Npe(e){let t,n;return t=new _H({}),t.$on("load",e[3]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ape(e){let t,n=e[1]("page_doesnt_exist")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("page_doesnt_exist")+"")&&G(t,n)},d(e){e&&P(t)}}}function Lpe(e){let t,n;return t=new bH({props:{$$slots:{default:[Ape]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Ppe(e){let t,n,r,o,s,i=e[0].is_authenticated&&Ope();return n=new eA({props:{path:"/shares/*",$$slots:{default:[Npe]},$$scope:{ctx:e}}}),o=new eA({props:{fallback:!0,$$slots:{default:[Lpe]},$$scope:{ctx:e}}}),{c(){i&&i.c(),t=j(),rt(n.$$.fragment),r=j(),rt(o.$$.fragment)},m(e,a){i&&i.m(e,a),L(e,t,a),ot(n,e,a),L(e,r,a),ot(o,e,a),s=!0},p(e,r){e[0].is_authenticated?i?1&r&&je(i,1):(i=Ope(),i.c(),je(i,1),i.m(t.parentNode,t)):i&&(ze(),qe(i,1,1,(()=>{i=null})),Fe());const s={};16&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s);const a={};18&r&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(e){s||(je(i),je(n.$$.fragment,e),je(o.$$.fragment,e),s=!0)},o(e){qe(i),qe(n.$$.fragment,e),qe(o.$$.fragment,e),s=!1},d(e){i&&i.d(e),e&&P(t),st(n,e),e&&P(r),st(o,e)}}}function Rpe(e){let t,n=e[1]("page_doesnt_exist")+"";return{c(){t=F(n)},m(e,n){L(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("page_doesnt_exist")+"")&&G(t,n)},d(e){e&&P(t)}}}function Hpe(e){let t,n;return t=new bH({props:{$$slots:{default:[Rpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,n){const r={};18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function zpe(e){let t,n,r,o;return t=new Tpe({}),r=new eA({props:{fallback:!0,$$slots:{default:[Hpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,t){const n={};18&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function Fpe(e){let t,n;return t=new _H({}),t.$on("load",e[2]),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function jpe(e){let t,n,r,o;return t=new eA({props:{path:"/shares/*",firstmatch:!0,$$slots:{default:[zpe]},$$scope:{ctx:e}}}),r=new eA({props:{fallback:!0,$$slots:{default:[Fpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment),n=j(),rt(r.$$.fragment)},m(e,s){ot(t,e,s),L(e,n,s),ot(r,e,s),o=!0},p(e,n){const o={};18&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};16&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(je(t.$$.fragment,e),je(r.$$.fragment,e),o=!0)},o(e){qe(t.$$.fragment,e),qe(r.$$.fragment,e),o=!1},d(e){st(t,e),e&&P(n),st(r,e)}}}function qpe(e){let t,n,r,o;const s=[Mpe,Dpe],i=[];function a(e,t){return"anonymous"===e[0].routing_context?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,[o]){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Vpe(e,t,n){let r;m(e,Mg,(e=>n(1,r=e)));let{commonData:o}=t;return e.$$set=e=>{"commonData"in e&&n(0,o=e.commonData)},[o,r,()=>window.location.reload(),()=>window.location.reload()]}class Bpe extends at{constructor(e){super(),it(this,e,Vpe,qpe,d,{commonData:0})}}function Wpe(e){let t,n,r=e[1],s=Ype(e);return{c(){s.c(),t=q()},m(e,r){s.m(e,r),L(e,t,r),n=!0},p(e,n){2&n&&d(r,r=e[1])?(ze(),qe(s,1,1,o),Fe(),s=Ype(e),s.c(),je(s,1),s.m(t.parentNode,t)):s.p(e,n)},i(e){n||(je(s),n=!0)},o(e){qe(s),n=!1},d(e){e&&P(t),s.d(e)}}}function Upe(e){let t,n,r;return n=new Nr({props:{size:"2rem"}}),{c(){t=H("div"),rt(n.$$.fragment),U(t,"class","app-loader")},m(e,o){L(e,t,o),ot(n,t,null),r=!0},p:o,i(e){r||(je(n.$$.fragment,e),r=!0)},o(e){qe(n.$$.fragment,e),r=!1},d(e){e&&P(t),st(n)}}}function Ype(e){let t,n;return t=new Bpe({props:{commonData:e[2]}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p:o,i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Kpe(e){let t,n,r,o;const s=[Upe,Wpe],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=q()},m(e,n){i[t].m(e,n),L(e,r,n),o=!0},p(e,o){let l=t;t=a(e),t===l?i[t].p(e,o):(ze(),qe(i[l],1,1,(()=>{i[l]=null})),Fe(),n=i[t],n?n.p(e,o):(n=i[t]=s[t](e),n.c()),je(n,1),n.m(r.parentNode,r))},i(e){o||(je(n),o=!0)},o(e){qe(n),o=!1},d(e){i[t].d(e),e&&P(r)}}}function Gpe(e){let t,n;return t=new LL({props:{commonData:e[2],$$slots:{default:[Kpe]},$$scope:{ctx:e}}}),{c(){rt(t.$$.fragment)},m(e,r){ot(t,e,r),n=!0},p(e,[n]){const r={};11&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(je(t.$$.fragment,e),n=!0)},o(e){qe(t.$$.fragment,e),n=!1},d(e){st(t,e)}}}function Xpe(e,t,n){let r,o;m(e,Qh,(e=>n(0,r=e))),m(e,pg,(e=>n(1,o=e)));const s=Wm();return async function(e){Wh("en",(()=>Cq("en"))),Wh("ja",(()=>Cq("ja")));const{translations:t}=window.Mathesar||{},n=t&&e?t[e]:void 0,r=e&&n?{language:e,dictionary:n}:void 0;r&&Hh(r.language,r.dictionary),await Jh({fallbackLocale:"en",initialLocale:e}),Eq(e)}(s.user.display_language??"en"),[r,o,s]}new class extends at{constructor(e){super(),it(this,e,Xpe,Gpe,d,{})}}({target:document.body})}}}))}();

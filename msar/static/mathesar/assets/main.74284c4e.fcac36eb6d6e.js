var J8=Object.defineProperty;var x8=(r,e,t)=>e in r?J8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ce=(r,e,t)=>(x8(r,typeof e!="symbol"?e+"":e,t),t);function b$e(){import("data:text/javascript,")}function j(){}const ps=r=>r;function le(r,e){for(const t in e)r[t]=e[t];return r}function e7(r){return r&&typeof r=="object"&&typeof r.then=="function"}function ww(r){return r()}function _d(){return Object.create(null)}function It(r){r.forEach(ww)}function Pt(r){return typeof r=="function"}function t7(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Q(r,e){return r!=r?e==e:r!==e}function n7(r){return Object.keys(r).length===0}function ue(r,...e){if(r==null)return j;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Ve(r){let e;return ue(r,t=>e=t)(),e}function Z(r,e,t){r.$$.on_destroy.push(ue(e,t))}function Ie(r,e,t,n){if(r){const l=kw(r,e,t,n);return r[0](l)}}function kw(r,e,t,n){return r[1]&&n?le(t.ctx.slice(),r[1](n(e))):t.ctx}function Me(r,e,t,n){if(r[2]&&n){const l=r[2](n(t));if(e.dirty===void 0)return l;if(typeof l=="object"){const s=[],i=Math.max(e.dirty.length,l.length);for(let o=0;o<i;o+=1)s[o]=e.dirty[o]|l[o];return s}return e.dirty|l}return e.dirty}function Ae(r,e,t,n,l,s){if(l){const i=kw(e,t,n,s);r.p(i,l)}}function Pe(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function _t(r){const e={};for(const t in r)t[0]!=="$"&&(e[t]=r[t]);return e}function Ye(r,e){const t={};e=new Set(e);for(const n in r)!e.has(n)&&n[0]!=="$"&&(t[n]=r[n]);return t}function ur(r){const e={};for(const t in r)e[t]=!0;return e}function pd(r){return r==null?"":r}function an(r,e,t){return r.set(t),e}function Dn(r){return r&&Pt(r.destroy)?r.destroy:j}const yw=typeof window<"u";let bo=yw?()=>window.performance.now():()=>Date.now(),Sf=yw?r=>requestAnimationFrame(r):j;const Ns=new Set;function Sw(r){Ns.forEach(e=>{e.c(r)||(Ns.delete(e),e.f())}),Ns.size!==0&&Sf(Sw)}function $o(r){let e;return Ns.size===0&&Sf(Sw),{promise:new Promise(t=>{Ns.add(e={c:r,f:t})}),abort(){Ns.delete(e)}}}function I(r,e){r.appendChild(e)}function Cw(r){if(!r)return document;const e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function r7(r){const e=M("style");return l7(Cw(r),e),e.sheet}function l7(r,e){return I(r.head||r,e),e.sheet}function w(r,e,t){r.insertBefore(e,t||null)}function v(r){r.parentNode.removeChild(r)}function jn(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function M(r){return document.createElement(r)}function Rt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function q(r){return document.createTextNode(r)}function N(){return q(" ")}function oe(){return q("")}function He(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function Ps(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Hl(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function D(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function ct(r,e){const t=Object.getOwnPropertyDescriptors(r.__proto__);for(const n in e)e[n]==null?r.removeAttribute(n):n==="style"?r.style.cssText=e[n]:n==="__value"?r.value=r[n]=e[n]:t[n]&&t[n].set?r[n]=e[n]:D(r,n,e[n])}function pn(r,e){for(const t in e)D(r,t,e[t])}function s7(r){return Array.from(r.childNodes)}function Y(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Bs(r,e){r.value=e==null?"":e}function Cn(r,e,t,n){t===null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}let jo;function i7(){if(jo===void 0){jo=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch(r){jo=!0}}return jo}function Tw(r,e){getComputedStyle(r).position==="static"&&(r.style.position="relative");const n=M("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const l=i7();let s;return l?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=He(window,"message",i=>{i.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=He(n.contentWindow,"resize",e)}),I(r,n),()=>{(l||s&&n.contentWindow)&&s(),v(n)}}function re(r,e,t){r.classList[t?"add":"remove"](e)}function Ew(r,e,{bubbles:t=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(r,t,n,e),l}class o7{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Rt(t.nodeName):this.e=M(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(v)}}const ua=new Map;let ca=0;function a7(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function u7(r,e){const t={stylesheet:r7(e),rules:{}};return ua.set(r,t),t}function Ki(r,e,t,n,l,s,i,o=0){const a=16.666/n;let u=`{
`;for(let b=0;b<=1;b+=a){const $=e+(t-e)*s(b);u+=b*100+`%{${i($,1-$)}}
`}const c=u+`100% {${i(t,1-t)}}
}`,f=`__svelte_${a7(c)}_${o}`,m=Cw(r),{stylesheet:d,rules:p}=ua.get(m)||u7(m,r);p[f]||(p[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const h=r.style.animation||"";return r.style.animation=`${h?`${h}, `:""}${f} ${n}ms linear ${l}ms 1 both`,ca+=1,f}function Xi(r,e){const t=(r.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=t.length-n.length;l&&(r.style.animation=n.join(", "),ca-=l,ca||c7())}function c7(){Sf(()=>{ca||(ua.forEach(r=>{const{ownerNode:e}=r.stylesheet;e&&v(e)}),ua.clear())})}function f7(r,e,t,n){if(!e)return j;const l=r.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return j;const{delay:s=0,duration:i=300,easing:o=ps,start:a=bo()+s,end:u=a+i,tick:c=j,css:f}=t(r,{from:e,to:l},n);let m=!0,d=!1,p;function h(){f&&(p=Ki(r,0,1,i,s,o,f)),s||(d=!0)}function b(){f&&Xi(r,p),m=!1}return $o($=>{if(!d&&$>=a&&(d=!0),d&&$>=u&&(c(1,0),b()),!m)return!1;if(d){const k=$-a,T=0+1*o(k/i);c(T,1-T)}return!0}),h(),c(0,1),b}function m7(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=n,Dw(r,l)}}function Dw(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(r),l=n.transform==="none"?"":n.transform;r.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let Qi;function pl(r){Qi=r}function El(){if(!Qi)throw new Error("Function called outside component initialization");return Qi}function d7(r){El().$$.before_update.push(r)}function _n(r){El().$$.on_mount.push(r)}function Iw(r){El().$$.after_update.push(r)}function Dl(r){El().$$.on_destroy.push(r)}function ht(){const r=El();return(e,t,{cancelable:n=!1}={})=>{const l=r.$$.callbacks[e];if(l){const s=Ew(e,t,{cancelable:n});return l.slice().forEach(i=>{i.call(r,s)}),!s.defaultPrevented}return!0}}function xn(r,e){return El().$$.context.set(r,e),e}function Fn(r){return El().$$.context.get(r)}function Mw(r){return El().$$.context.has(r)}function ye(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Pi=[],Te=[],sa=[],Fc=[],Aw=Promise.resolve();let Hc=!1;function Pw(){Hc||(Hc=!0,Aw.then(Cf))}function on(){return Pw(),Aw}function pr(r){sa.push(r)}function Ne(r){Fc.push(r)}const sc=new Set;let Yo=0;function Cf(){const r=Qi;do{for(;Yo<Pi.length;){const e=Pi[Yo];Yo++,pl(e),_7(e.$$)}for(pl(null),Pi.length=0,Yo=0;Te.length;)Te.pop()();for(let e=0;e<sa.length;e+=1){const t=sa[e];sc.has(t)||(sc.add(t),t())}sa.length=0}while(Pi.length);for(;Fc.length;)Fc.pop()();Hc=!1,sc.clear(),pl(r)}function _7(r){if(r.fragment!==null){r.update(),It(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(pr)}}let Ti;function Tf(){return Ti||(Ti=Promise.resolve(),Ti.then(()=>{Ti=null})),Ti}function us(r,e,t){r.dispatchEvent(Ew(`${e?"intro":"outro"}${t}`))}const ia=new Set;let el;function G(){el={r:0,c:[],p:el}}function K(){el.r||It(el.c),el=el.p}function _(r,e){r&&r.i&&(ia.delete(r),r.i(e))}function g(r,e,t,n){if(r&&r.o){if(ia.has(r))return;ia.add(r),el.c.push(()=>{ia.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}const Ef={duration:0};function lu(r,e,t){let n=e(r,t),l=!1,s,i,o=0;function a(){s&&Xi(r,s)}function u(){const{delay:f=0,duration:m=300,easing:d=ps,tick:p=j,css:h}=n||Ef;h&&(s=Ki(r,0,1,m,f,d,h,o++)),p(0,1);const b=bo()+f,$=b+m;i&&i.abort(),l=!0,pr(()=>us(r,!0,"start")),i=$o(k=>{if(l){if(k>=$)return p(1,0),us(r,!0,"end"),a(),l=!1;if(k>=b){const T=d((k-b)/m);p(T,1-T)}}return l})}let c=!1;return{start(){c||(c=!0,Xi(r),Pt(n)?(n=n(),Tf().then(u)):u())},invalidate(){c=!1},end(){l&&(a(),l=!1)}}}function vo(r,e,t){let n=e(r,t),l=!0,s;const i=el;i.r+=1;function o(){const{delay:a=0,duration:u=300,easing:c=ps,tick:f=j,css:m}=n||Ef;m&&(s=Ki(r,1,0,u,a,c,m));const d=bo()+a,p=d+u;pr(()=>us(r,!1,"start")),$o(h=>{if(l){if(h>=p)return f(0,1),us(r,!1,"end"),--i.r||It(i.c),!1;if(h>=d){const b=c((h-d)/u);f(1-b,b)}}return l})}return Pt(n)?Tf().then(()=>{n=n(),o()}):o(),{end(a){a&&n.tick&&n.tick(1,0),l&&(s&&Xi(r,s),l=!1)}}}function gd(r,e,t,n){let l=e(r,t),s=n?0:1,i=null,o=null,a=null;function u(){a&&Xi(r,a)}function c(m,d){const p=m.b-s;return d*=Math.abs(p),{a:s,b:m.b,d:p,duration:d,start:m.start,end:m.start+d,group:m.group}}function f(m){const{delay:d=0,duration:p=300,easing:h=ps,tick:b=j,css:$}=l||Ef,k={start:bo()+d,b:m};m||(k.group=el,el.r+=1),i||o?o=k:($&&(u(),a=Ki(r,s,m,p,d,h,$)),m&&b(0,1),i=c(k,p),pr(()=>us(r,m,"start")),$o(T=>{if(o&&T>o.start&&(i=c(o,p),o=null,us(r,i.b,"start"),$&&(u(),a=Ki(r,s,i.b,i.duration,0,h,l.css))),i){if(T>=i.end)b(s=i.b,1-s),us(r,i.b,"end"),o||(i.b?u():--i.group.r||It(i.group.c)),i=null;else if(T>=i.start){const E=T-i.start;s=i.a+i.d*h(E/i.duration),b(s,1-s)}}return!!(i||o)}))}return{run(m){Pt(l)?Tf().then(()=>{l=l(),f(m)}):f(m)},end(){u(),i=o=null}}}function Bl(r,e){const t=e.token={};function n(l,s,i,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;i!==void 0&&(a=a.slice(),a[i]=o);const u=l&&(e.current=l)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,m)=>{m!==s&&f&&(G(),g(f,1,1,()=>{e.blocks[m]===f&&(e.blocks[m]=null)}),K())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[s]=u),c&&Cf()}if(e7(r)){const l=El();if(r.then(s=>{pl(l),n(e.then,1,e.value,s),pl(null)},s=>{if(pl(l),n(e.catch,2,e.error,s),pl(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,r),!0;e.resolved=r}}function su(r,e,t){const n=e.slice(),{resolved:l}=r;r.current===r.then&&(n[r.value]=l),r.current===r.catch&&(n[r.error]=l),r.block.p(n,t)}const iu=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function wo(r,e){r.d(1),e.delete(r.key)}function bt(r,e){g(r,1,1,()=>{e.delete(r.key)})}function p7(r,e){r.f(),bt(r,e)}function gt(r,e,t,n,l,s,i,o,a,u,c,f){let m=r.length,d=s.length,p=m;const h={};for(;p--;)h[r[p].key]=p;const b=[],$=new Map,k=new Map;for(p=d;p--;){const P=f(l,s,p),O=t(P);let R=i.get(O);R?n&&R.p(P,e):(R=u(O,P),R.c()),$.set(O,b[p]=R),O in h&&k.set(O,Math.abs(p-h[O]))}const T=new Set,E=new Set;function A(P){_(P,1),P.m(o,c),i.set(P.key,P),c=P.first,d--}for(;m&&d;){const P=b[d-1],O=r[m-1],R=P.key,F=O.key;P===O?(c=P.first,m--,d--):$.has(F)?!i.has(R)||T.has(R)?A(P):E.has(F)?m--:k.get(R)>k.get(F)?(E.add(R),A(P)):(T.add(F),m--):(a(O,i),m--)}for(;m--;){const P=r[m];$.has(P.key)||a(P,i)}for(;d;)A(b[d-1]);return b}function de(r,e){const t={},n={},l={$$scope:1};let s=r.length;for(;s--;){const i=r[s],o=e[s];if(o){for(const a in i)a in o||(n[a]=1);for(const a in o)l[a]||(t[a]=o[a],l[a]=1);r[s]=o}else for(const a in i)l[a]=1}for(const i in n)i in t||(t[i]=void 0);return t}function $e(r){return typeof r=="object"&&r!==null?r:{}}function Oe(r,e,t){const n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function C(r){r&&r.c()}function y(r,e,t,n){const{fragment:l,on_mount:s,on_destroy:i,after_update:o}=r.$$;l&&l.m(e,t),n||pr(()=>{const a=s.map(ww).filter(Pt);i?i.push(...a):It(a),r.$$.on_mount=[]}),o.forEach(pr)}function S(r,e){const t=r.$$;t.fragment!==null&&(It(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function g7(r,e){r.$$.dirty[0]===-1&&(Pi.push(r),Pw(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function J(r,e,t,n,l,s,i,o=[-1]){const a=Qi;pl(r);const u=r.$$={fragment:null,ctx:null,props:s,update:j,not_equal:l,bound:_d(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:_d(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=t?t(r,e.props||{},(f,m,...d)=>{const p=d.length?d[0]:m;return u.ctx&&l(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),c&&g7(r,f)),m}):[],u.update(),c=!0,It(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=s7(e.target);u.fragment&&u.fragment.l(f),f.forEach(v)}else u.fragment&&u.fragment.c();e.intro&&_(r.$$.fragment),y(r,e.target,e.anchor,e.customElement),Cf()}pl(a)}class x{$destroy(){S(this,1),this.$destroy=j}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!n7(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ll extends Promise{constructor(t,n){super(t);ce(this,"isCancelled",!1);ce(this,"onCancel");this.onCancel=n}cancel(){var t;this.isCancelled=!0,(t=this.onCancel)==null||t.call(this)}then(t,n){const l=i=>this.isCancelled?null:(t==null?void 0:t(i))||i,s=i=>{if(this.isCancelled)return null;if(!n)throw i;return n(i)};return this.isCancelled?null:super.then(l,s)}}class Rw{constructor(){ce(this,"listeners");this.listeners=new Map}getCallbackSet(e){const t=this.listeners.get(e);if(t)return t;const n=new Set;return this.listeners.set(e,n),n}on(e,t){const n=this.getCallbackSet(e);return n.add(t),()=>{n.delete(t)}}async dispatch(e,t){const n=this.listeners.get(e);if(!n){console.warn(`No listeners found when dispatching event '${String(e)}'.`);return}await Promise.all([...n.values()].map(l=>l(t)))}destroy(){this.listeners.clear()}}class rl{constructor(e){ce(this,"set");this.set=new Set(e)}getNewInstance(...e){return new this.constructor(...e)}with(e){const t=new Set(this.set);return t.add(e),this.getNewInstance(t)}union(e){const t=new Set(this.set);return[...e].forEach(n=>{t.add(n)}),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Set(this.set);return t.forEach(l=>{n.delete(l)}),this.getNewInstance(n)}has(e){return this.set.has(e)}get size(){return this.set.size}values(){return this.set.values()}valuesArray(){return[...this.set.values()]}[Symbol.iterator](){return this.values()}}class yt{constructor(e=[]){ce(this,"map");ce(this,"valueIsValid",()=>!0);this.map=new Map(e)}getNewInstance(...e){return new this.constructor(...e)}with(e,t,n=(l,s)=>s){return this.withEntries([[e,t]],n)}withEntries(e,t=(n,l)=>l){const n=new Map(this.map);return[...e].forEach(([l,s])=>{const i=this.get(l),o=i===void 0?s:t(i,s);this.valueIsValid(o)?n.set(l,o):n.delete(l)}),this.getNewInstance(n)}coalesce(e,t){return this.has(e)?this:this.with(e,t)}coalesceEntries(e){const t=new Map(this.map);return[...e].forEach(([n,l])=>{!this.has(n)&&this.valueIsValid(l)&&t.set(n,l)}),this.getNewInstance(t)}without(e){const t=Array.isArray(e)?e:[e],n=new Map(this.map);return t.forEach(l=>n.delete(l)),this.getNewInstance(n)}drained(){return this.getNewInstance([])}has(e){return this.map.has(e)}get(e){return this.map.get(e)}get size(){return this.map.size}keys(){return this.map.keys()}values(){return this.map.values()}entries(){return this.map.entries()}mapValues(e){return new yt([...this.entries()].map(([t,n])=>[t,e(n)]))}filterValues(e){return new yt([...this.entries()].filter(([,t])=>e(t)))}[Symbol.iterator](){return this.entries()}}const Es=[];function Ul(r,e){return{subscribe:xe(r,e).subscribe}}function xe(r,e=j){let t;const n=new Set;function l(o){if(t7(r,o)&&(r=o,t)){const a=!Es.length;for(const u of n)u[1](),Es.push(u,r);if(a){for(let u=0;u<Es.length;u+=2)Es[u][0](Es[u+1]);Es.length=0}}}function s(o){l(o(r))}function i(o,a=j){const u=[o,a];return n.add(u),n.size===1&&(t=e(l)||j),o(r),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:l,update:s,subscribe:i}}function at(r,e,t){const n=!Array.isArray(r),l=n?[r]:r,s=e.length<2;return Ul(t,i=>{let o=!1;const a=[];let u=0,c=j;const f=()=>{if(u)return;c();const d=e(n?a[0]:a,i);s?i(d):c=Pt(d)?d:j},m=l.map((d,p)=>ue(d,h=>{a[p]=h,u&=~(1<<p),o&&f()},()=>{u|=1<<p}));return o=!0,f(),function(){It(m),c()}})}class as{constructor(e=[]){ce(this,"map");this.map=xe(new yt(e))}subscribe(e){return this.map.subscribe(e)}reconstruct(e=[]){this.map.set(new yt(e))}clear(){this.map.set(new yt)}delete(e){this.map.update(t=>t.without(e))}set(e,t,n=(l,s)=>s){this.map.update(l=>l.with(e,t,n))}setEntries(e=[],t=(n,l)=>l){this.map.update(n=>n.withEntries(e,t))}setMultiple(e,t,n=(l,s)=>s){this.map.update(l=>l.withEntries([...e].map(s=>[s,t]),n))}getEntries(){return Ve(this.map).entries()}derivedEntries(){return at(this.map,e=>e.entries())}getHas(e){return Ve(this.map).has(e)}derivedHas(e){return at(this.map,t=>t.has(e))}getValue(e){return Ve(this.map).get(e)}derivedValue(e){return at(this.map,t=>t.get(e))}getKeys(){return Ve(this.map).keys()}derivedKeys(){return at(this.map,e=>e.keys())}getValues(){return Ve(this.map).values()}derivedValues(){return at(this.map,e=>e.values())}}class fa{constructor(e=[]){ce(this,"values");this.values=xe(new rl(e))}subscribe(e){return this.values.subscribe(e)}reconstruct(e=[]){this.values.set(new rl(e))}clear(){this.values.set(new rl)}delete(e){this.values.update(t=>t.without(e))}add(e){this.values.update(t=>t.with(e))}addMultiple(e=[]){this.values.update(t=>t.union(e))}getValues(){return Ve(this.values).values()}derivedValues(){return at(this.values,e=>e.values())}getHas(e){return Ve(this.values).has(e)}derivedHas(e){return at(this.values,t=>t.has(e))}}var fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h7(r){var e=r.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var l=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:function(){return r[n]}})}),t}var Ow={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(fs,function(){var t=1e3,n=6e4,l=36e5,s="millisecond",i="second",o="minute",a="hour",u="day",c="week",f="month",m="quarter",d="year",p="date",h="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},T=function(H,z,te){var se=String(H);return!se||se.length>=z?H:""+Array(z+1-se.length).join(te)+H},E={s:T,z:function(H){var z=-H.utcOffset(),te=Math.abs(z),se=Math.floor(te/60),B=te%60;return(z<=0?"+":"-")+T(se,2,"0")+":"+T(B,2,"0")},m:function H(z,te){if(z.date()<te.date())return-H(te,z);var se=12*(te.year()-z.year())+(te.month()-z.month()),B=z.clone().add(se,f),V=te-B<0,ee=z.clone().add(se+(V?-1:1),f);return+(-(se+(te-B)/(V?B-ee:ee-B))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:f,y:d,w:c,d:u,D:p,h:a,m:o,s:i,ms:s,Q:m}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},A="en",P={};P[A]=k;var O=function(H){return H instanceof U},R=function H(z,te,se){var B;if(!z)return A;if(typeof z=="string"){var V=z.toLowerCase();P[V]&&(B=V),te&&(P[V]=te,B=V);var ee=z.split("-");if(!B&&ee.length>1)return H(ee[0])}else{var ie=z.name;P[ie]=z,B=ie}return!se&&B&&(A=B),B||!se&&A},F=function(H,z){if(O(H))return H.clone();var te=typeof z=="object"?z:{};return te.date=H,te.args=arguments,new U(te)},L=E;L.l=R,L.i=O,L.w=function(H,z){return F(H,{locale:z.$L,utc:z.$u,x:z.$x,$offset:z.$offset})};var U=function(){function H(te){this.$L=R(te.locale,null,!0),this.parse(te)}var z=H.prototype;return z.parse=function(te){this.$d=function(se){var B=se.date,V=se.utc;if(B===null)return new Date(NaN);if(L.u(B))return new Date;if(B instanceof Date)return new Date(B);if(typeof B=="string"&&!/Z$/i.test(B)){var ee=B.match(b);if(ee){var ie=ee[2]-1||0,_e=(ee[7]||"0").substring(0,3);return V?new Date(Date.UTC(ee[1],ie,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,_e)):new Date(ee[1],ie,ee[3]||1,ee[4]||0,ee[5]||0,ee[6]||0,_e)}}return new Date(B)}(te),this.$x=te.x||{},this.init()},z.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},z.$utils=function(){return L},z.isValid=function(){return this.$d.toString()!==h},z.isSame=function(te,se){var B=F(te);return this.startOf(se)<=B&&B<=this.endOf(se)},z.isAfter=function(te,se){return F(te)<this.startOf(se)},z.isBefore=function(te,se){return this.endOf(se)<F(te)},z.$g=function(te,se,B){return L.u(te)?this[se]:this.set(B,te)},z.unix=function(){return Math.floor(this.valueOf()/1e3)},z.valueOf=function(){return this.$d.getTime()},z.startOf=function(te,se){var B=this,V=!!L.u(se)||se,ee=L.p(te),ie=function(Fe,we){var Re=L.w(B.$u?Date.UTC(B.$y,we,Fe):new Date(B.$y,we,Fe),B);return V?Re:Re.endOf(u)},_e=function(Fe,we){return L.w(B.toDate()[Fe].apply(B.toDate("s"),(V?[0,0,0,0]:[23,59,59,999]).slice(we)),B)},ae=this.$W,fe=this.$M,Ue=this.$D,ve="set"+(this.$u?"UTC":"");switch(ee){case d:return V?ie(1,0):ie(31,11);case f:return V?ie(1,fe):ie(0,fe+1);case c:var Se=this.$locale().weekStart||0,ke=(ae<Se?ae+7:ae)-Se;return ie(V?Ue-ke:Ue+(6-ke),fe);case u:case p:return _e(ve+"Hours",0);case a:return _e(ve+"Minutes",1);case o:return _e(ve+"Seconds",2);case i:return _e(ve+"Milliseconds",3);default:return this.clone()}},z.endOf=function(te){return this.startOf(te,!1)},z.$set=function(te,se){var B,V=L.p(te),ee="set"+(this.$u?"UTC":""),ie=(B={},B[u]=ee+"Date",B[p]=ee+"Date",B[f]=ee+"Month",B[d]=ee+"FullYear",B[a]=ee+"Hours",B[o]=ee+"Minutes",B[i]=ee+"Seconds",B[s]=ee+"Milliseconds",B)[V],_e=V===u?this.$D+(se-this.$W):se;if(V===f||V===d){var ae=this.clone().set(p,1);ae.$d[ie](_e),ae.init(),this.$d=ae.set(p,Math.min(this.$D,ae.daysInMonth())).$d}else ie&&this.$d[ie](_e);return this.init(),this},z.set=function(te,se){return this.clone().$set(te,se)},z.get=function(te){return this[L.p(te)]()},z.add=function(te,se){var B,V=this;te=Number(te);var ee=L.p(se),ie=function(fe){var Ue=F(V);return L.w(Ue.date(Ue.date()+Math.round(fe*te)),V)};if(ee===f)return this.set(f,this.$M+te);if(ee===d)return this.set(d,this.$y+te);if(ee===u)return ie(1);if(ee===c)return ie(7);var _e=(B={},B[o]=n,B[a]=l,B[i]=t,B)[ee]||1,ae=this.$d.getTime()+te*_e;return L.w(ae,this)},z.subtract=function(te,se){return this.add(-1*te,se)},z.format=function(te){var se=this,B=this.$locale();if(!this.isValid())return B.invalidDate||h;var V=te||"YYYY-MM-DDTHH:mm:ssZ",ee=L.z(this),ie=this.$H,_e=this.$m,ae=this.$M,fe=B.weekdays,Ue=B.months,ve=function(we,Re,Ge,Je){return we&&(we[Re]||we(se,V))||Ge[Re].slice(0,Je)},Se=function(we){return L.s(ie%12||12,we,"0")},ke=B.meridiem||function(we,Re,Ge){var Je=we<12?"AM":"PM";return Ge?Je.toLowerCase():Je},Fe={YY:String(this.$y).slice(-2),YYYY:this.$y,M:ae+1,MM:L.s(ae+1,2,"0"),MMM:ve(B.monthsShort,ae,Ue,3),MMMM:ve(Ue,ae),D:this.$D,DD:L.s(this.$D,2,"0"),d:String(this.$W),dd:ve(B.weekdaysMin,this.$W,fe,2),ddd:ve(B.weekdaysShort,this.$W,fe,3),dddd:fe[this.$W],H:String(ie),HH:L.s(ie,2,"0"),h:Se(1),hh:Se(2),a:ke(ie,_e,!0),A:ke(ie,_e,!1),m:String(_e),mm:L.s(_e,2,"0"),s:String(this.$s),ss:L.s(this.$s,2,"0"),SSS:L.s(this.$ms,3,"0"),Z:ee};return V.replace($,function(we,Re){return Re||Fe[we]||ee.replace(":","")})},z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},z.diff=function(te,se,B){var V,ee=L.p(se),ie=F(te),_e=(ie.utcOffset()-this.utcOffset())*n,ae=this-ie,fe=L.m(this,ie);return fe=(V={},V[d]=fe/12,V[f]=fe,V[m]=fe/3,V[c]=(ae-_e)/6048e5,V[u]=(ae-_e)/864e5,V[a]=ae/l,V[o]=ae/n,V[i]=ae/t,V)[ee]||ae,B?fe:L.a(fe)},z.daysInMonth=function(){return this.endOf(f).$D},z.$locale=function(){return P[this.$L]},z.locale=function(te,se){if(!te)return this.$L;var B=this.clone(),V=R(te,se,!0);return V&&(B.$L=V),B},z.clone=function(){return L.w(this.$d,this)},z.toDate=function(){return new Date(this.valueOf())},z.toJSON=function(){return this.isValid()?this.toISOString():null},z.toISOString=function(){return this.$d.toISOString()},z.toString=function(){return this.$d.toUTCString()},H}(),W=U.prototype;return F.prototype=W,[["$ms",s],["$s",i],["$m",o],["$H",a],["$W",u],["$M",f],["$y",d],["$D",p]].forEach(function(H){W[H[1]]=function(z){return this.$g(z,H[0],H[1])}}),F.extend=function(H,z){return H.$i||(H(z,U,F),H.$i=!0),F},F.locale=R,F.isDayjs=O,F.unix=function(H){return F(1e3*H)},F.en=P[A],F.Ls=P,F.p={},F})})(Ow);const dn=Ow.exports;var Lw={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(fs,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,s=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},a=function(h){return(h=+h)+(h>68?1900:2e3)},u=function(h){return function(b){this[h]=+b}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function(b){if(!b||b==="Z")return 0;var $=b.match(/([+-]|\d\d)/g),k=60*$[1]+(+$[2]||0);return k===0?0:$[0]==="+"?-k:k}(h)}],f=function(h){var b=o[h];return b&&(b.indexOf?b:b.s.concat(b.f))},m=function(h,b){var $,k=o.meridiem;if(k){for(var T=1;T<=24;T+=1)if(h.indexOf(k(T,0,b))>-1){$=T>12;break}}else $=h===(b?"pm":"PM");return $},d={A:[i,function(h){this.afternoon=m(h,!1)}],a:[i,function(h){this.afternoon=m(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[l,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[l,u("day")],Do:[i,function(h){var b=o.ordinal,$=h.match(/\d+/);if(this.day=$[0],b)for(var k=1;k<=31;k+=1)b(k).replace(/\[|\]/g,"")===h&&(this.day=k)}],M:[s,u("month")],MM:[l,u("month")],MMM:[i,function(h){var b=f("months"),$=(f("monthsShort")||b.map(function(k){return k.slice(0,3)})).indexOf(h)+1;if($<1)throw new Error;this.month=$%12||$}],MMMM:[i,function(h){var b=f("months").indexOf(h)+1;if(b<1)throw new Error;this.month=b%12||b}],Y:[/[+-]?\d+/,u("year")],YY:[l,function(h){this.year=a(h)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function p(h){var b,$;b=h,$=o&&o.formats;for(var k=(h=b.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(F,L,U){var W=U&&U.toUpperCase();return L||$[U]||t[U]||$[W].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(H,z,te){return z||te.slice(1)})})).match(n),T=k.length,E=0;E<T;E+=1){var A=k[E],P=d[A],O=P&&P[0],R=P&&P[1];k[E]=R?{regex:O,parser:R}:A.replace(/^\[|\]$/g,"")}return function(F){for(var L={},U=0,W=0;U<T;U+=1){var H=k[U];if(typeof H=="string")W+=H.length;else{var z=H.regex,te=H.parser,se=F.slice(W),B=z.exec(se)[0];te.call(L,B),F=F.replace(B,"")}}return function(V){var ee=V.afternoon;if(ee!==void 0){var ie=V.hours;ee?ie<12&&(V.hours+=12):ie===12&&(V.hours=0),delete V.afternoon}}(L),L}}return function(h,b,$){$.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(a=h.parseTwoDigitYear);var k=b.prototype,T=k.parse;k.parse=function(E){var A=E.date,P=E.utc,O=E.args;this.$u=P;var R=O[1];if(typeof R=="string"){var F=O[2]===!0,L=O[3]===!0,U=F||L,W=O[2];L&&(W=O[2]),o=this.$locale(),!F&&W&&(o=$.Ls[W]),this.$d=function(se,B,V){try{if(["x","X"].indexOf(B)>-1)return new Date((B==="X"?1e3:1)*se);var ee=p(B)(se),ie=ee.year,_e=ee.month,ae=ee.day,fe=ee.hours,Ue=ee.minutes,ve=ee.seconds,Se=ee.milliseconds,ke=ee.zone,Fe=new Date,we=ae||(ie||_e?1:Fe.getDate()),Re=ie||Fe.getFullYear(),Ge=0;ie&&!_e||(Ge=_e>0?_e-1:Fe.getMonth());var Je=fe||0,Ke=Ue||0,ot=ve||0,lt=Se||0;return ke?new Date(Date.UTC(Re,Ge,we,Je,Ke,ot,lt+60*ke.offset*1e3)):V?new Date(Date.UTC(Re,Ge,we,Je,Ke,ot,lt)):new Date(Re,Ge,we,Je,Ke,ot,lt)}catch(ze){return new Date("")}}(A,R,P),this.init(),W&&W!==!0&&(this.$L=this.locale(W).$L),U&&A!=this.format(R)&&(this.$d=new Date("")),o={}}else if(R instanceof Array)for(var H=R.length,z=1;z<=H;z+=1){O[1]=R[z-1];var te=$.apply(this,O);if(te.isValid()){this.$d=te.$d,this.$L=te.$L,this.init();break}z===H&&(this.$d=new Date(""))}else T.call(this,E)}}})})(Lw);const b7=Lw.exports;var Nw={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(fs,function(){var t,n,l=1e3,s=6e4,i=36e5,o=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,c=2592e6,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,m={years:u,months:c,days:o,hours:i,minutes:s,seconds:l,milliseconds:1,weeks:6048e5},d=function(A){return A instanceof E},p=function(A,P,O){return new E(A,O,P.$l)},h=function(A){return n.p(A)+"s"},b=function(A){return A<0},$=function(A){return b(A)?Math.ceil(A):Math.floor(A)},k=function(A){return Math.abs(A)},T=function(A,P){return A?b(A)?{negative:!0,format:""+k(A)+P}:{negative:!1,format:""+A+P}:{negative:!1,format:""}},E=function(){function A(O,R,F){var L=this;if(this.$d={},this.$l=F,O===void 0&&(this.$ms=0,this.parseFromMilliseconds()),R)return p(O*m[h(R)],this);if(typeof O=="number")return this.$ms=O,this.parseFromMilliseconds(),this;if(typeof O=="object")return Object.keys(O).forEach(function(H){L.$d[h(H)]=O[H]}),this.calMilliseconds(),this;if(typeof O=="string"){var U=O.match(f);if(U){var W=U.slice(2).map(function(H){return H!=null?Number(H):0});return this.$d.years=W[0],this.$d.months=W[1],this.$d.weeks=W[2],this.$d.days=W[3],this.$d.hours=W[4],this.$d.minutes=W[5],this.$d.seconds=W[6],this.calMilliseconds(),this}}return this}var P=A.prototype;return P.calMilliseconds=function(){var O=this;this.$ms=Object.keys(this.$d).reduce(function(R,F){return R+(O.$d[F]||0)*m[F]},0)},P.parseFromMilliseconds=function(){var O=this.$ms;this.$d.years=$(O/u),O%=u,this.$d.months=$(O/c),O%=c,this.$d.days=$(O/o),O%=o,this.$d.hours=$(O/i),O%=i,this.$d.minutes=$(O/s),O%=s,this.$d.seconds=$(O/l),O%=l,this.$d.milliseconds=O},P.toISOString=function(){var O=T(this.$d.years,"Y"),R=T(this.$d.months,"M"),F=+this.$d.days||0;this.$d.weeks&&(F+=7*this.$d.weeks);var L=T(F,"D"),U=T(this.$d.hours,"H"),W=T(this.$d.minutes,"M"),H=this.$d.seconds||0;this.$d.milliseconds&&(H+=this.$d.milliseconds/1e3);var z=T(H,"S"),te=O.negative||R.negative||L.negative||U.negative||W.negative||z.negative,se=U.format||W.format||z.format?"T":"",B=(te?"-":"")+"P"+O.format+R.format+L.format+se+U.format+W.format+z.format;return B==="P"||B==="-P"?"P0D":B},P.toJSON=function(){return this.toISOString()},P.format=function(O){var R=O||"YYYY-MM-DDTHH:mm:ss",F={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return R.replace(a,function(L,U){return U||String(F[L])})},P.as=function(O){return this.$ms/m[h(O)]},P.get=function(O){var R=this.$ms,F=h(O);return F==="milliseconds"?R%=1e3:R=F==="weeks"?$(R/m[F]):this.$d[F],R===0?0:R},P.add=function(O,R,F){var L;return L=R?O*m[h(R)]:d(O)?O.$ms:p(O,this).$ms,p(this.$ms+L*(F?-1:1),this)},P.subtract=function(O,R){return this.add(O,R,!0)},P.locale=function(O){var R=this.clone();return R.$l=O,R},P.clone=function(){return p(this.$ms,this)},P.humanize=function(O){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!O)},P.milliseconds=function(){return this.get("milliseconds")},P.asMilliseconds=function(){return this.as("milliseconds")},P.seconds=function(){return this.get("seconds")},P.asSeconds=function(){return this.as("seconds")},P.minutes=function(){return this.get("minutes")},P.asMinutes=function(){return this.as("minutes")},P.hours=function(){return this.get("hours")},P.asHours=function(){return this.as("hours")},P.days=function(){return this.get("days")},P.asDays=function(){return this.as("days")},P.weeks=function(){return this.get("weeks")},P.asWeeks=function(){return this.as("weeks")},P.months=function(){return this.get("months")},P.asMonths=function(){return this.as("months")},P.years=function(){return this.get("years")},P.asYears=function(){return this.as("years")},A}();return function(A,P,O){t=O,n=O().$utils(),O.duration=function(L,U){var W=O.locale();return p(L,{$l:W},U)},O.isDuration=d;var R=P.prototype.add,F=P.prototype.subtract;P.prototype.add=function(L,U){return d(L)&&(L=L.asMilliseconds()),R.bind(this)(L,U)},P.prototype.subtract=function(L,U){return d(L)&&(L=L.asMilliseconds()),F.bind(this)(L,U)}}})})(Nw);const $7=Nw.exports;dn.extend(b7);dn.extend($7);let hd=0;function Il(){return hd+=1,`_global-id-${hd}`}function Fw(r){return typeof r=="object"&&r!==null}function v7(r){return typeof r=="number"}function Jl(r,e){return Fw(r)&&e in r}function ou(r,e){return Jl(r,e)&&typeof r[e]=="string"}function kn(r){return r!=null}function Zi(r,e){return kn(r)?r:e}function Hw(r,e){return r===void 0?void 0:e(r)}function bd(r){if(r===0)return"0 B";const e=Math.floor(Math.log(r)/Math.log(1024)),t=r/1024**e,n=" KMGTP".charAt(e);return`${t.toFixed(2)} ${n}B`}function ui(r,e="label"){return ou(r,e)?r[e]:r===void 0?"":String(r)}function zw(r){const e=r-1;return e*e*e+1}function $d(r){return Object.prototype.toString.call(r)==="[object Date]"}function zc(r,e){if(r===e||r!==r)return()=>r;const t=typeof r;if(t!==typeof e||Array.isArray(r)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(r)){const n=e.map((l,s)=>zc(r[s],l));return l=>n.map(s=>s(l))}if(t==="object"){if(!r||!e)throw new Error("Object cannot be null");if($d(r)&&$d(e)){r=r.getTime(),e=e.getTime();const s=e-r;return i=>new Date(r+i*s)}const n=Object.keys(e),l={};return n.forEach(s=>{l[s]=zc(r[s],e[s])}),s=>{const i={};return n.forEach(o=>{i[o]=l[o](s)}),i}}if(t==="number"){const n=e-r;return l=>r+l*n}throw new Error(`Cannot interpolate ${t} values`)}function w7(r,e={}){const t=xe(r);let n,l=r;function s(i,o){if(r==null)return t.set(r=i),Promise.resolve();l=i;let a=n,u=!1,{delay:c=0,duration:f=400,easing:m=ps,interpolate:d=zc}=le(le({},e),o);if(f===0)return a&&(a.abort(),a=null),t.set(r=l),Promise.resolve();const p=bo()+c;let h;return n=$o(b=>{if(b<p)return!0;u||(h=d(r,i),typeof f=="function"&&(f=f(r,i)),u=!0),a&&(a.abort(),a=null);const $=b-p;return $>f?(t.set(r=i),!1):(t.set(r=h(m($/f))),!0)}),n.promise}return{set:s,update:(i,o)=>s(i(l,r),o),subscribe:t.subscribe}}const k7={allowPause:!0,duration:0};function y7(r,e={}){const t={...k7,...e},n=w7(r,t);let l=!1,s=r,i=r,{duration:o}=t,a=()=>{};function u(){return new Promise(p=>{a=p})}function c(p,h){var $;s=p,o=($=h==null?void 0:h.duration)!=null?$:t.duration;const b=u();return n.update((k,T)=>(i=T,p),h).then(a),b}function f(p,h){var $;o=($=h==null?void 0:h.duration)!=null?$:t.duration,i=Ve(n),s=p(s,i);const b=u();return n.set(s,h).then(a),b}function m(){!t.allowPause||(l=!0,n.update((p,h)=>(s=p,h),{duration:0}))}function d(){if(!l)return;const p=Ve(n),h=(s-i)/o,b=(s-p)/h;n.set(s,{duration:b}).then(a)}return{update:f,set:c,subscribe:n.subscribe,pause:m,resume:d}}function S7(r){return typeof r=="object"&&r!==null&&"subscribe"in r&&typeof r.subscribe=="function"}function lr(r){return S7(r)?r:Ul(r)}function C7(r){return at(r,(e,t)=>e.subscribe(t))}function T7(r,e,t){const n=[...r];return n[e]=t,n}function Ri(r){let e=[];return Ul(e,t=>{const n=r.map((l,s)=>l.subscribe(i=>{e=T7(e,s,i),t(e)}));return()=>n.forEach(l=>l())})}function E7(r,e){let t=0,n=[];function l(s){const i=r.subscribe(s);return t+=1,t===1&&(n=e.map(o=>o())),()=>{i(),t-=1,t===0&&(n.forEach(o=>o()),n=[])}}return{...r,subscribe:l}}const Vc="validationContext";class D7{constructor(){ce(this,"validationResult",xe(!0));ce(this,"validationFunctionMap",new Map)}validate(){let e=!0;for(const t of this.validationFunctionMap.values())e=e&&t();return this.validationResult.set(e),e}addValidator(e,t){this.validationFunctionMap.set(e,t),Dl(()=>{this.validationFunctionMap.delete(e),this.validate()})}}function Vw(){const r=new D7;return xn(Vc,r),r}function qw(){if(!Mw(Vc))throw Error("Validation context not present");return Fn(Vc)}function I7(r){var m,d;const e=r.target,t=r.inputType,n=e.value,l=(m=e.selectionStart)!=null?m:0,s=(d=e.selectionEnd)!=null?d:n.length,i=l===s;let o=n.substring(0,l),a=n.substring(s,n.length);const u=(()=>{switch(t){case"insertText":case"insertFromPaste":case"insertFromDrop":return"insert";default:return"delete"}})(),c=(()=>{switch(t){case"deleteContentBackward":case"deleteWordBackward":return"backward";case"deleteContentForward":case"deleteWordForward":return"forward";default:return}})();u==="delete"&&i&&(c==="backward"?o=o.slice(0,-1):c==="forward"&&(a=a.slice(1,a.length)));const f=u==="insert"&&r.data||"";return{value:`${o}${f}${a}`,cursorPosition:o.length+f.length}}function vd(r){return r.target?r.target.value:void 0}function wd(r){return r.detail}function qc(r){return r.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function M7(r){return r.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function ma(r){return M7(r).toLowerCase()}function A7(r={}){return Object.fromEntries(Object.entries(r).filter(([,e])=>e!==void 0))}function P7(r,e={}){return{...r,...A7(e)}}function kd(r=0,e=100){return Math.floor(Math.random()*(e-r+1))+r}const R7=r=>r.indexOf("--")===0;function Ji(r){return Object.entries(r).filter(e=>R7(e[0])).map(e=>`${e[0]}: ${e[1]};`).join("")}function Bw(...r){return r.filter(kn).map(e=>{const t=e.trim();return t.endsWith(";")?t:`${t};`}).join("")}function O7(r,e){const t=[];for(let n=r;n<=e;n+=1)t.push(n);return t}function L7(r,e){let t=Math.max(r-2,1),n=Math.min(t+4,e);return n-t<4&&(t=Math.max(n-4,1)),n>e-2&&(t=Math.max(n-(6-(e-n)),1)),t<3&&(n=Math.min(n+2-(t-1),e)),{currentWindow:O7(t,n),start:t,end:n,prevPageWindow:Math.max(t-3,1),nextPageWindow:Math.min(n+3,e)}}function Uw(r,e){return Math.ceil(r/e)}function Ww(r,e){let{callback:t,references:n}=e;function l(a){var c;!(n&&((c=Ve(n))==null?void 0:c.some(f=>{var m,d;return(d=(m=f==null?void 0:f.contains)==null?void 0:m.call(f,a.target))!=null?d:!1})))&&!r.contains(a.target)&&t(a)}const s="onpointerdown"in document.body?["pointerdown"]:["mousedown","contextmenu"];s.forEach(a=>{document.body.addEventListener(a,l,!0)});function i(a){t=a.callback,n=a.references}function o(){s.forEach(a=>{document.body.removeEventListener(a,l,!0)})}return{update:i,destroy:o}}var Bc={exports:{}};(function(r,e){(function(t,n){n(e)})(fs,function(t){function n(be){if(be==null)return window;if(be.toString()!=="[object Window]"){var he=be.ownerDocument;return he&&he.defaultView||window}return be}function l(be){return be instanceof n(be).Element||be instanceof Element}function s(be){return be instanceof n(be).HTMLElement||be instanceof HTMLElement}function i(be){return typeof ShadowRoot<"u"&&(be instanceof n(be).ShadowRoot||be instanceof ShadowRoot)}var o=Math.max,a=Math.min,u=Math.round;function c(){var be=navigator.userAgentData;return be!=null&&be.brands?be.brands.map(function(he){return he.brand+"/"+he.version}).join(" "):navigator.userAgent}function f(){return!/^((?!chrome|android).)*safari/i.test(c())}function m(be,he,X){he===void 0&&(he=!1),X===void 0&&(X=!1);var ne=be.getBoundingClientRect(),me=1,pe=1;he&&s(be)&&(me=be.offsetWidth>0&&u(ne.width)/be.offsetWidth||1,pe=be.offsetHeight>0&&u(ne.height)/be.offsetHeight||1);var Ee=(l(be)?n(be):window).visualViewport,De=!f()&&X,We=(ne.left+(De&&Ee?Ee.offsetLeft:0))/me,je=(ne.top+(De&&Ee?Ee.offsetTop:0))/pe,Ce=ne.width/me,Le=ne.height/pe;return{width:Ce,height:Le,top:je,right:We+Ce,bottom:je+Le,left:We,x:We,y:je}}function d(be){var he=n(be);return{scrollLeft:he.pageXOffset,scrollTop:he.pageYOffset}}function p(be){return be?(be.nodeName||"").toLowerCase():null}function h(be){return((l(be)?be.ownerDocument:be.document)||window.document).documentElement}function b(be){return m(h(be)).left+d(be).scrollLeft}function $(be){return n(be).getComputedStyle(be)}function k(be){var he=$(be),X=he.overflow,ne=he.overflowX,me=he.overflowY;return/auto|scroll|overlay|hidden/.test(X+me+ne)}function T(be,he,X){X===void 0&&(X=!1);var ne,me,pe=s(he),Ee=s(he)&&function(Le){var nt=Le.getBoundingClientRect(),ut=u(nt.width)/Le.offsetWidth||1,$t=u(nt.height)/Le.offsetHeight||1;return ut!==1||$t!==1}(he),De=h(he),We=m(be,Ee,X),je={scrollLeft:0,scrollTop:0},Ce={x:0,y:0};return(pe||!pe&&!X)&&((p(he)!=="body"||k(De))&&(je=(ne=he)!==n(ne)&&s(ne)?{scrollLeft:(me=ne).scrollLeft,scrollTop:me.scrollTop}:d(ne)),s(he)?((Ce=m(he,!0)).x+=he.clientLeft,Ce.y+=he.clientTop):De&&(Ce.x=b(De))),{x:We.left+je.scrollLeft-Ce.x,y:We.top+je.scrollTop-Ce.y,width:We.width,height:We.height}}function E(be){var he=m(be),X=be.offsetWidth,ne=be.offsetHeight;return Math.abs(he.width-X)<=1&&(X=he.width),Math.abs(he.height-ne)<=1&&(ne=he.height),{x:be.offsetLeft,y:be.offsetTop,width:X,height:ne}}function A(be){return p(be)==="html"?be:be.assignedSlot||be.parentNode||(i(be)?be.host:null)||h(be)}function P(be){return["html","body","#document"].indexOf(p(be))>=0?be.ownerDocument.body:s(be)&&k(be)?be:P(A(be))}function O(be,he){var X;he===void 0&&(he=[]);var ne=P(be),me=ne===((X=be.ownerDocument)==null?void 0:X.body),pe=n(ne),Ee=me?[pe].concat(pe.visualViewport||[],k(ne)?ne:[]):ne,De=he.concat(Ee);return me?De:De.concat(O(A(Ee)))}function R(be){return["table","td","th"].indexOf(p(be))>=0}function F(be){return s(be)&&$(be).position!=="fixed"?be.offsetParent:null}function L(be){for(var he=n(be),X=F(be);X&&R(X)&&$(X).position==="static";)X=F(X);return X&&(p(X)==="html"||p(X)==="body"&&$(X).position==="static")?he:X||function(ne){var me=/firefox/i.test(c());if(/Trident/i.test(c())&&s(ne)&&$(ne).position==="fixed")return null;var pe=A(ne);for(i(pe)&&(pe=pe.host);s(pe)&&["html","body"].indexOf(p(pe))<0;){var Ee=$(pe);if(Ee.transform!=="none"||Ee.perspective!=="none"||Ee.contain==="paint"||["transform","perspective"].indexOf(Ee.willChange)!==-1||me&&Ee.willChange==="filter"||me&&Ee.filter&&Ee.filter!=="none")return pe;pe=pe.parentNode}return null}(be)||he}var U="top",W="bottom",H="right",z="left",te="auto",se=[U,W,H,z],B="start",V="end",ee="viewport",ie="popper",_e=se.reduce(function(be,he){return be.concat([he+"-"+B,he+"-"+V])},[]),ae=[].concat(se,[te]).reduce(function(be,he){return be.concat([he,he+"-"+B,he+"-"+V])},[]),fe=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ue(be){var he=new Map,X=new Set,ne=[];function me(pe){X.add(pe.name),[].concat(pe.requires||[],pe.requiresIfExists||[]).forEach(function(Ee){if(!X.has(Ee)){var De=he.get(Ee);De&&me(De)}}),ne.push(pe)}return be.forEach(function(pe){he.set(pe.name,pe)}),be.forEach(function(pe){X.has(pe.name)||me(pe)}),ne}function ve(be){return be.split("-")[0]}function Se(be,he){var X=he.getRootNode&&he.getRootNode();if(be.contains(he))return!0;if(X&&i(X)){var ne=he;do{if(ne&&be.isSameNode(ne))return!0;ne=ne.parentNode||ne.host}while(ne)}return!1}function ke(be){return Object.assign({},be,{left:be.x,top:be.y,right:be.x+be.width,bottom:be.y+be.height})}function Fe(be,he,X){return he===ee?ke(function(ne,me){var pe=n(ne),Ee=h(ne),De=pe.visualViewport,We=Ee.clientWidth,je=Ee.clientHeight,Ce=0,Le=0;if(De){We=De.width,je=De.height;var nt=f();(nt||!nt&&me==="fixed")&&(Ce=De.offsetLeft,Le=De.offsetTop)}return{width:We,height:je,x:Ce+b(ne),y:Le}}(be,X)):l(he)?function(ne,me){var pe=m(ne,!1,me==="fixed");return pe.top=pe.top+ne.clientTop,pe.left=pe.left+ne.clientLeft,pe.bottom=pe.top+ne.clientHeight,pe.right=pe.left+ne.clientWidth,pe.width=ne.clientWidth,pe.height=ne.clientHeight,pe.x=pe.left,pe.y=pe.top,pe}(he,X):ke(function(ne){var me,pe=h(ne),Ee=d(ne),De=(me=ne.ownerDocument)==null?void 0:me.body,We=o(pe.scrollWidth,pe.clientWidth,De?De.scrollWidth:0,De?De.clientWidth:0),je=o(pe.scrollHeight,pe.clientHeight,De?De.scrollHeight:0,De?De.clientHeight:0),Ce=-Ee.scrollLeft+b(ne),Le=-Ee.scrollTop;return $(De||pe).direction==="rtl"&&(Ce+=o(pe.clientWidth,De?De.clientWidth:0)-We),{width:We,height:je,x:Ce,y:Le}}(h(be)))}function we(be,he,X,ne){var me=he==="clippingParents"?function(We){var je=O(A(We)),Ce=["absolute","fixed"].indexOf($(We).position)>=0&&s(We)?L(We):We;return l(Ce)?je.filter(function(Le){return l(Le)&&Se(Le,Ce)&&p(Le)!=="body"}):[]}(be):[].concat(he),pe=[].concat(me,[X]),Ee=pe[0],De=pe.reduce(function(We,je){var Ce=Fe(be,je,ne);return We.top=o(Ce.top,We.top),We.right=a(Ce.right,We.right),We.bottom=a(Ce.bottom,We.bottom),We.left=o(Ce.left,We.left),We},Fe(be,Ee,ne));return De.width=De.right-De.left,De.height=De.bottom-De.top,De.x=De.left,De.y=De.top,De}function Re(be){return be.split("-")[1]}function Ge(be){return["top","bottom"].indexOf(be)>=0?"x":"y"}function Je(be){var he,X=be.reference,ne=be.element,me=be.placement,pe=me?ve(me):null,Ee=me?Re(me):null,De=X.x+X.width/2-ne.width/2,We=X.y+X.height/2-ne.height/2;switch(pe){case U:he={x:De,y:X.y-ne.height};break;case W:he={x:De,y:X.y+X.height};break;case H:he={x:X.x+X.width,y:We};break;case z:he={x:X.x-ne.width,y:We};break;default:he={x:X.x,y:X.y}}var je=pe?Ge(pe):null;if(je!=null){var Ce=je==="y"?"height":"width";switch(Ee){case B:he[je]=he[je]-(X[Ce]/2-ne[Ce]/2);break;case V:he[je]=he[je]+(X[Ce]/2-ne[Ce]/2)}}return he}function Ke(be){return Object.assign({},{top:0,right:0,bottom:0,left:0},be)}function ot(be,he){return he.reduce(function(X,ne){return X[ne]=be,X},{})}function lt(be,he){he===void 0&&(he={});var X=he,ne=X.placement,me=ne===void 0?be.placement:ne,pe=X.strategy,Ee=pe===void 0?be.strategy:pe,De=X.boundary,We=De===void 0?"clippingParents":De,je=X.rootBoundary,Ce=je===void 0?ee:je,Le=X.elementContext,nt=Le===void 0?ie:Le,ut=X.altBoundary,$t=ut!==void 0&&ut,vt=X.padding,kt=vt===void 0?0:vt,Bt=Ke(typeof kt!="number"?kt:ot(kt,se)),nn=nt===ie?"reference":ie,Lt=be.rects.popper,Gt=be.elements[$t?nn:nt],Et=we(l(Gt)?Gt:Gt.contextElement||h(be.elements.popper),We,Ce,Ee),At=m(be.elements.reference),Kt=Je({reference:At,element:Lt,strategy:"absolute",placement:me}),xt=ke(Object.assign({},Lt,Kt)),Xt=nt===ie?xt:At,vn={top:Et.top-Xt.top+Bt.top,bottom:Xt.bottom-Et.bottom+Bt.bottom,left:Et.left-Xt.left+Bt.left,right:Xt.right-Et.right+Bt.right},Vn=be.modifiersData.offset;if(nt===ie&&Vn){var Or=Vn[me];Object.keys(vn).forEach(function(Lr){var fl=[H,W].indexOf(Lr)>=0?1:-1,cr=[U,W].indexOf(Lr)>=0?"y":"x";vn[Lr]+=Or[cr]*fl})}return vn}var ze={placement:"bottom",modifiers:[],strategy:"absolute"};function Xe(){for(var be=arguments.length,he=new Array(be),X=0;X<be;X++)he[X]=arguments[X];return!he.some(function(ne){return!(ne&&typeof ne.getBoundingClientRect=="function")})}function pt(be){be===void 0&&(be={});var he=be,X=he.defaultModifiers,ne=X===void 0?[]:X,me=he.defaultOptions,pe=me===void 0?ze:me;return function(Ee,De,We){We===void 0&&(We=pe);var je,Ce,Le={placement:"bottom",orderedModifiers:[],options:Object.assign({},ze,pe),modifiersData:{},elements:{reference:Ee,popper:De},attributes:{},styles:{}},nt=[],ut=!1,$t={state:Le,setOptions:function(kt){var Bt=typeof kt=="function"?kt(Le.options):kt;vt(),Le.options=Object.assign({},pe,Le.options,Bt),Le.scrollParents={reference:l(Ee)?O(Ee):Ee.contextElement?O(Ee.contextElement):[],popper:O(De)};var nn,Lt,Gt=function(Et){var At=Ue(Et);return fe.reduce(function(Kt,xt){return Kt.concat(At.filter(function(Xt){return Xt.phase===xt}))},[])}((nn=[].concat(ne,Le.options.modifiers),Lt=nn.reduce(function(Et,At){var Kt=Et[At.name];return Et[At.name]=Kt?Object.assign({},Kt,At,{options:Object.assign({},Kt.options,At.options),data:Object.assign({},Kt.data,At.data)}):At,Et},{}),Object.keys(Lt).map(function(Et){return Lt[Et]})));return Le.orderedModifiers=Gt.filter(function(Et){return Et.enabled}),Le.orderedModifiers.forEach(function(Et){var At=Et.name,Kt=Et.options,xt=Kt===void 0?{}:Kt,Xt=Et.effect;if(typeof Xt=="function"){var vn=Xt({state:Le,name:At,instance:$t,options:xt}),Vn=function(){};nt.push(vn||Vn)}}),$t.update()},forceUpdate:function(){if(!ut){var kt=Le.elements,Bt=kt.reference,nn=kt.popper;if(Xe(Bt,nn)){Le.rects={reference:T(Bt,L(nn),Le.options.strategy==="fixed"),popper:E(nn)},Le.reset=!1,Le.placement=Le.options.placement,Le.orderedModifiers.forEach(function(Xt){return Le.modifiersData[Xt.name]=Object.assign({},Xt.data)});for(var Lt=0;Lt<Le.orderedModifiers.length;Lt++)if(Le.reset!==!0){var Gt=Le.orderedModifiers[Lt],Et=Gt.fn,At=Gt.options,Kt=At===void 0?{}:At,xt=Gt.name;typeof Et=="function"&&(Le=Et({state:Le,options:Kt,name:xt,instance:$t})||Le)}else Le.reset=!1,Lt=-1}}},update:(je=function(){return new Promise(function(kt){$t.forceUpdate(),kt(Le)})},function(){return Ce||(Ce=new Promise(function(kt){Promise.resolve().then(function(){Ce=void 0,kt(je())})})),Ce}),destroy:function(){vt(),ut=!0}};if(!Xe(Ee,De))return $t;function vt(){nt.forEach(function(kt){return kt()}),nt=[]}return $t.setOptions(We).then(function(kt){!ut&&We.onFirstUpdate&&We.onFirstUpdate(kt)}),$t}}var rt={passive:!0},st={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(be){var he=be.state,X=be.instance,ne=be.options,me=ne.scroll,pe=me===void 0||me,Ee=ne.resize,De=Ee===void 0||Ee,We=n(he.elements.popper),je=[].concat(he.scrollParents.reference,he.scrollParents.popper);return pe&&je.forEach(function(Ce){Ce.addEventListener("scroll",X.update,rt)}),De&&We.addEventListener("resize",X.update,rt),function(){pe&&je.forEach(function(Ce){Ce.removeEventListener("scroll",X.update,rt)}),De&&We.removeEventListener("resize",X.update,rt)}},data:{}},qe={name:"popperOffsets",enabled:!0,phase:"read",fn:function(be){var he=be.state,X=be.name;he.modifiersData[X]=Je({reference:he.rects.reference,element:he.rects.popper,strategy:"absolute",placement:he.placement})},data:{}},et={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mt(be){var he,X=be.popper,ne=be.popperRect,me=be.placement,pe=be.variation,Ee=be.offsets,De=be.position,We=be.gpuAcceleration,je=be.adaptive,Ce=be.roundOffsets,Le=be.isFixed,nt=Ee.x,ut=nt===void 0?0:nt,$t=Ee.y,vt=$t===void 0?0:$t,kt=typeof Ce=="function"?Ce({x:ut,y:vt}):{x:ut,y:vt};ut=kt.x,vt=kt.y;var Bt=Ee.hasOwnProperty("x"),nn=Ee.hasOwnProperty("y"),Lt=z,Gt=U,Et=window;if(je){var At=L(X),Kt="clientHeight",xt="clientWidth";At===n(X)&&$(At=h(X)).position!=="static"&&De==="absolute"&&(Kt="scrollHeight",xt="scrollWidth"),At=At,(me===U||(me===z||me===H)&&pe===V)&&(Gt=W,vt-=(Le&&At===Et&&Et.visualViewport?Et.visualViewport.height:At[Kt])-ne.height,vt*=We?1:-1),(me===z||(me===U||me===W)&&pe===V)&&(Lt=H,ut-=(Le&&At===Et&&Et.visualViewport?Et.visualViewport.width:At[xt])-ne.width,ut*=We?1:-1)}var Xt,vn=Object.assign({position:De},je&&et),Vn=Ce===!0?function(Or){var Lr=Or.x,fl=Or.y,cr=window.devicePixelRatio||1;return{x:u(Lr*cr)/cr||0,y:u(fl*cr)/cr||0}}({x:ut,y:vt}):{x:ut,y:vt};return ut=Vn.x,vt=Vn.y,We?Object.assign({},vn,((Xt={})[Gt]=nn?"0":"",Xt[Lt]=Bt?"0":"",Xt.transform=(Et.devicePixelRatio||1)<=1?"translate("+ut+"px, "+vt+"px)":"translate3d("+ut+"px, "+vt+"px, 0)",Xt)):Object.assign({},vn,((he={})[Gt]=nn?vt+"px":"",he[Lt]=Bt?ut+"px":"",he.transform="",he))}var Ot={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(be){var he=be.state,X=be.options,ne=X.gpuAcceleration,me=ne===void 0||ne,pe=X.adaptive,Ee=pe===void 0||pe,De=X.roundOffsets,We=De===void 0||De,je={placement:ve(he.placement),variation:Re(he.placement),popper:he.elements.popper,popperRect:he.rects.popper,gpuAcceleration:me,isFixed:he.options.strategy==="fixed"};he.modifiersData.popperOffsets!=null&&(he.styles.popper=Object.assign({},he.styles.popper,mt(Object.assign({},je,{offsets:he.modifiersData.popperOffsets,position:he.options.strategy,adaptive:Ee,roundOffsets:We})))),he.modifiersData.arrow!=null&&(he.styles.arrow=Object.assign({},he.styles.arrow,mt(Object.assign({},je,{offsets:he.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:We})))),he.attributes.popper=Object.assign({},he.attributes.popper,{"data-popper-placement":he.placement})},data:{}},Qe={name:"applyStyles",enabled:!0,phase:"write",fn:function(be){var he=be.state;Object.keys(he.elements).forEach(function(X){var ne=he.styles[X]||{},me=he.attributes[X]||{},pe=he.elements[X];s(pe)&&p(pe)&&(Object.assign(pe.style,ne),Object.keys(me).forEach(function(Ee){var De=me[Ee];De===!1?pe.removeAttribute(Ee):pe.setAttribute(Ee,De===!0?"":De)}))})},effect:function(be){var he=be.state,X={popper:{position:he.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(he.elements.popper.style,X.popper),he.styles=X,he.elements.arrow&&Object.assign(he.elements.arrow.style,X.arrow),function(){Object.keys(he.elements).forEach(function(ne){var me=he.elements[ne],pe=he.attributes[ne]||{},Ee=Object.keys(he.styles.hasOwnProperty(ne)?he.styles[ne]:X[ne]).reduce(function(De,We){return De[We]="",De},{});s(me)&&p(me)&&(Object.assign(me.style,Ee),Object.keys(pe).forEach(function(De){me.removeAttribute(De)}))})}},requires:["computeStyles"]},Nt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(be){var he=be.state,X=be.options,ne=be.name,me=X.offset,pe=me===void 0?[0,0]:me,Ee=ae.reduce(function(Ce,Le){return Ce[Le]=function(nt,ut,$t){var vt=ve(nt),kt=[z,U].indexOf(vt)>=0?-1:1,Bt=typeof $t=="function"?$t(Object.assign({},ut,{placement:nt})):$t,nn=Bt[0],Lt=Bt[1];return nn=nn||0,Lt=(Lt||0)*kt,[z,H].indexOf(vt)>=0?{x:Lt,y:nn}:{x:nn,y:Lt}}(Le,he.rects,pe),Ce},{}),De=Ee[he.placement],We=De.x,je=De.y;he.modifiersData.popperOffsets!=null&&(he.modifiersData.popperOffsets.x+=We,he.modifiersData.popperOffsets.y+=je),he.modifiersData[ne]=Ee}},Ct={left:"right",right:"left",bottom:"top",top:"bottom"};function Dt(be){return be.replace(/left|right|bottom|top/g,function(he){return Ct[he]})}var Mt={start:"end",end:"start"};function it(be){return be.replace(/start|end/g,function(he){return Mt[he]})}function Yt(be,he){he===void 0&&(he={});var X=he,ne=X.placement,me=X.boundary,pe=X.rootBoundary,Ee=X.padding,De=X.flipVariations,We=X.allowedAutoPlacements,je=We===void 0?ae:We,Ce=Re(ne),Le=Ce?De?_e:_e.filter(function($t){return Re($t)===Ce}):se,nt=Le.filter(function($t){return je.indexOf($t)>=0});nt.length===0&&(nt=Le);var ut=nt.reduce(function($t,vt){return $t[vt]=lt(be,{placement:vt,boundary:me,rootBoundary:pe,padding:Ee})[ve(vt)],$t},{});return Object.keys(ut).sort(function($t,vt){return ut[$t]-ut[vt]})}var tn={name:"flip",enabled:!0,phase:"main",fn:function(be){var he=be.state,X=be.options,ne=be.name;if(!he.modifiersData[ne]._skip){for(var me=X.mainAxis,pe=me===void 0||me,Ee=X.altAxis,De=Ee===void 0||Ee,We=X.fallbackPlacements,je=X.padding,Ce=X.boundary,Le=X.rootBoundary,nt=X.altBoundary,ut=X.flipVariations,$t=ut===void 0||ut,vt=X.allowedAutoPlacements,kt=he.options.placement,Bt=ve(kt),nn=We||(Bt===kt||!$t?[Dt(kt)]:function(Nr){if(ve(Nr)===te)return[];var Fr=Dt(Nr);return[it(Nr),Fr,it(Fr)]}(kt)),Lt=[kt].concat(nn).reduce(function(Nr,Fr){return Nr.concat(ve(Fr)===te?Yt(he,{placement:Fr,boundary:Ce,rootBoundary:Le,padding:je,flipVariations:$t,allowedAutoPlacements:vt}):Fr)},[]),Gt=he.rects.reference,Et=he.rects.popper,At=new Map,Kt=!0,xt=Lt[0],Xt=0;Xt<Lt.length;Xt++){var vn=Lt[Xt],Vn=ve(vn),Or=Re(vn)===B,Lr=[U,W].indexOf(Vn)>=0,fl=Lr?"width":"height",cr=lt(he,{placement:vn,boundary:Ce,rootBoundary:Le,altBoundary:nt,padding:je}),nr=Lr?Or?H:z:Or?W:U;Gt[fl]>Et[fl]&&(nr=Dt(nr));var Nl=Dt(nr),rs=[];if(pe&&rs.push(cr[Vn]<=0),De&&rs.push(cr[nr]<=0,cr[Nl]<=0),rs.every(function(Nr){return Nr})){xt=vn,Kt=!1;break}At.set(vn,rs)}if(Kt)for(var zo=function(Nr){var Fr=Lt.find(function(Vo){var qo=At.get(Vo);if(qo)return qo.slice(0,Nr).every(function(Bo){return Bo})});if(Fr)return xt=Fr,"break"},Ts=$t?3:1;Ts>0&&zo(Ts)!=="break";Ts--);he.placement!==xt&&(he.modifiersData[ne]._skip=!0,he.placement=xt,he.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $n(be,he,X){return o(be,a(he,X))}var ln={name:"preventOverflow",enabled:!0,phase:"main",fn:function(be){var he=be.state,X=be.options,ne=be.name,me=X.mainAxis,pe=me===void 0||me,Ee=X.altAxis,De=Ee!==void 0&&Ee,We=X.boundary,je=X.rootBoundary,Ce=X.altBoundary,Le=X.padding,nt=X.tether,ut=nt===void 0||nt,$t=X.tetherOffset,vt=$t===void 0?0:$t,kt=lt(he,{boundary:We,rootBoundary:je,padding:Le,altBoundary:Ce}),Bt=ve(he.placement),nn=Re(he.placement),Lt=!nn,Gt=Ge(Bt),Et=Gt==="x"?"y":"x",At=he.modifiersData.popperOffsets,Kt=he.rects.reference,xt=he.rects.popper,Xt=typeof vt=="function"?vt(Object.assign({},he.rects,{placement:he.placement})):vt,vn=typeof Xt=="number"?{mainAxis:Xt,altAxis:Xt}:Object.assign({mainAxis:0,altAxis:0},Xt),Vn=he.modifiersData.offset?he.modifiersData.offset[he.placement]:null,Or={x:0,y:0};if(At){if(pe){var Lr,fl=Gt==="y"?U:z,cr=Gt==="y"?W:H,nr=Gt==="y"?"height":"width",Nl=At[Gt],rs=Nl+kt[fl],zo=Nl-kt[cr],Ts=ut?-xt[nr]/2:0,Nr=nn===B?Kt[nr]:xt[nr],Fr=nn===B?-xt[nr]:-Kt[nr],Vo=he.elements.arrow,qo=ut&&Vo?E(Vo):{width:0,height:0},Bo=he.modifiersData["arrow#persistent"]?he.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},nd=Bo[fl],rd=Bo[cr],Uo=$n(0,Kt[nr],qo[nr]),W8=Lt?Kt[nr]/2-Ts-Uo-nd-vn.mainAxis:Nr-Uo-nd-vn.mainAxis,j8=Lt?-Kt[nr]/2+Ts+Uo+rd+vn.mainAxis:Fr+Uo+rd+vn.mainAxis,nc=he.elements.arrow&&L(he.elements.arrow),Y8=nc?Gt==="y"?nc.clientTop||0:nc.clientLeft||0:0,ld=(Lr=Vn==null?void 0:Vn[Gt])!=null?Lr:0,G8=Nl+j8-ld,sd=$n(ut?a(rs,Nl+W8-ld-Y8):rs,Nl,ut?o(zo,G8):zo);At[Gt]=sd,Or[Gt]=sd-Nl}if(De){var id,K8=Gt==="x"?U:z,X8=Gt==="x"?W:H,ls=At[Et],Wo=Et==="y"?"height":"width",od=ls+kt[K8],ad=ls-kt[X8],rc=[U,z].indexOf(Bt)!==-1,ud=(id=Vn==null?void 0:Vn[Et])!=null?id:0,cd=rc?od:ls-Kt[Wo]-xt[Wo]-ud+vn.altAxis,fd=rc?ls+Kt[Wo]+xt[Wo]-ud-vn.altAxis:ad,md=ut&&rc?function(Q8,Z8,lc){var dd=$n(Q8,Z8,lc);return dd>lc?lc:dd}(cd,ls,fd):$n(ut?cd:od,ls,ut?fd:ad);At[Et]=md,Or[Et]=md-ls}he.modifiersData[ne]=Or}},requiresIfExists:["offset"]},tt={name:"arrow",enabled:!0,phase:"main",fn:function(be){var he,X=be.state,ne=be.name,me=be.options,pe=X.elements.arrow,Ee=X.modifiersData.popperOffsets,De=ve(X.placement),We=Ge(De),je=[z,H].indexOf(De)>=0?"height":"width";if(pe&&Ee){var Ce=function(xt,Xt){return Ke(typeof(xt=typeof xt=="function"?xt(Object.assign({},Xt.rects,{placement:Xt.placement})):xt)!="number"?xt:ot(xt,se))}(me.padding,X),Le=E(pe),nt=We==="y"?U:z,ut=We==="y"?W:H,$t=X.rects.reference[je]+X.rects.reference[We]-Ee[We]-X.rects.popper[je],vt=Ee[We]-X.rects.reference[We],kt=L(pe),Bt=kt?We==="y"?kt.clientHeight||0:kt.clientWidth||0:0,nn=$t/2-vt/2,Lt=Ce[nt],Gt=Bt-Le[je]-Ce[ut],Et=Bt/2-Le[je]/2+nn,At=$n(Lt,Et,Gt),Kt=We;X.modifiersData[ne]=((he={})[Kt]=At,he.centerOffset=At-Et,he)}},effect:function(be){var he=be.state,X=be.options.element,ne=X===void 0?"[data-popper-arrow]":X;ne!=null&&(typeof ne!="string"||(ne=he.elements.popper.querySelector(ne)))&&Se(he.elements.popper,ne)&&(he.elements.arrow=ne)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Jt(be,he,X){return X===void 0&&(X={x:0,y:0}),{top:be.top-he.height-X.y,right:be.right-he.width+X.x,bottom:be.bottom-he.height+X.y,left:be.left-he.width-X.x}}function Gn(be){return[U,H,W,z].some(function(he){return be[he]>=0})}var yr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(be){var he=be.state,X=be.name,ne=he.rects.reference,me=he.rects.popper,pe=he.modifiersData.preventOverflow,Ee=lt(he,{elementContext:"reference"}),De=lt(he,{altBoundary:!0}),We=Jt(Ee,ne),je=Jt(De,me,pe),Ce=Gn(We),Le=Gn(je);he.modifiersData[X]={referenceClippingOffsets:We,popperEscapeOffsets:je,isReferenceHidden:Ce,hasPopperEscaped:Le},he.attributes.popper=Object.assign({},he.attributes.popper,{"data-popper-reference-hidden":Ce,"data-popper-escaped":Le})}},Rr=pt({defaultModifiers:[st,qe,Ot,Qe]}),ft=[st,qe,Ot,Qe,Nt,tn,ln,tt,yr],Ln=pt({defaultModifiers:ft});t.applyStyles=Qe,t.arrow=tt,t.computeStyles=Ot,t.createPopper=Ln,t.createPopperLite=Rr,t.defaultModifiers=ft,t.detectOverflow=lt,t.eventListeners=st,t.flip=tn,t.hide=yr,t.offset=Nt,t.popperGenerator=pt,t.popperOffsets=qe,t.preventOverflow=ln,Object.defineProperty(t,"__esModule",{value:!0})})})(Bc,Bc.exports);function N7(r){const e=[{name:"flip"},{name:"preventOverflow",options:{altAxis:!0}},{name:"offset",options:{offset:[0,0]}}],t=[{name:"setMinWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:l=>{const s=Math.min(250,l.state.rects.reference.width);l.state.styles.popper.minWidth=`${s}px`},effect:l=>{const s=l.state.elements.reference.offsetWidth,i=Math.min(250,s);l.state.elements.popper.style.minWidth=`${i}px`}}],n=[...e,...t];return r.forEach(l=>{const s=n.findIndex(i=>i.name===l.name);s===-1?n.push(l):n[s]=l}),n}function Df(r,e){let t,n;function l(o,a){var u;!o||(t=Bc.exports.createPopper(o,r,{placement:(a==null?void 0:a.placement)||"bottom-start",modifiers:N7((u=a==null?void 0:a.modifiers)!=null?u:[])}))}function s(){t==null||t.destroy(),n=void 0}function i(o){const{reference:a,options:u}=o;if(!a){s();return}if(!t){l(a,u);return}if(n!==a){s(),l(a,u),n=a;return}u&&t.setOptions(u)}return l(e.reference,e.options),{update:i,destroy:s}}function ci(r,e){var s;const t=(s=e!=null?e:document.querySelector("body"))!=null?s:void 0;function n(i){i&&i instanceof HTMLElement&&i.appendChild(r)}function l(){var i;(i=r.parentElement)==null||i.removeChild(r)}return n(t),{update:n,destroy:l}}const F7={onMove:()=>{},onStart:()=>{},onStop:()=>{},min:0,max:1/0,axis:"x",invert:!1};function H7(r){return{...F7,...r}}function z7(r){return"touches"in r}function yd(r,e){const t=z7(r)?r.touches[0]:r;return e==="x"?t.clientX:t.clientY}function Sd(r){r.preventDefault()}function jw(r,e){const t=H7(e);let n=0,l=0,s=0;function i(f){s=f,t.onMove(s)}function o(f){return Math.min(Math.max(f,t.min),t.max)}function a(f){const m=t.invert?-1:1,d=yd(f,t.axis)-l,p=o(n+d*m);i(p)}function u(){t.onStop(s),window.removeEventListener("mousemove",a,!0),window.removeEventListener("touchmove",a,!0),window.removeEventListener("mouseup",u,!0),window.removeEventListener("touchend",u,!0),window.removeEventListener("touchcancel",u,!0),window.removeEventListener("selectstart",Sd,!0)}function c(f){t.onStart(),n=t.getStartingValue(),l=yd(f,t.axis),window.addEventListener("mousemove",a,!0),window.addEventListener("touchmove",a,!0),window.addEventListener("mouseup",u,!0),window.addEventListener("touchend",u,!0),window.addEventListener("touchcancel",u,!0),window.addEventListener("selectstart",Sd,!0)}return r.addEventListener("mousedown",c),r.addEventListener("touchstart",c,{passive:!1}),{destroy(){r.removeEventListener("mousedown",c),r.removeEventListener("touchstart",c)}}}function V7(r){let e,t;const n=r[7].default,l=Ie(n,r,r[6],null);let s=[r[2],{href:r[0]},{class:r[1]}],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("a"),l&&l.c(),ct(e,i)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&64)&&Ae(l,n,o,o[6],t?Me(n,o[6],a,null):Pe(o[6]),null),ct(e,i=de(s,[a&4&&o[2],(!t||a&1)&&{href:o[0]},(!t||a&2)&&{class:o[1]}]))},i(o){t||(_(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&v(e),l&&l.d(o)}}}function q7(r,e,t){let n;const l=["href","appearance","size","class"];let s=Ye(e,l),{$$slots:i={},$$scope:o}=e,{href:a}=e,{appearance:u="default"}=e,{size:c="medium"}=e,{class:f=""}=e;return r.$$set=m=>{e=le(le({},e),_t(m)),t(2,s=Ye(e,l)),"href"in m&&t(0,a=m.href),"appearance"in m&&t(3,u=m.appearance),"size"in m&&t(4,c=m.size),"class"in m&&t(5,f=m.class),"$$scope"in m&&t(6,o=m.$$scope)},r.$$.update=()=>{r.$$.dirty&56&&t(1,n=["anchor-button","btn",`btn-${u}`,`size-${c}`,f].join(" "))},[a,n,s,u,c,f,o,i]}class jr extends x{constructor(e){super(),J(this,e,q7,V7,Q,{href:0,appearance:3,size:4,class:5})}}function B7(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("span"),l&&l.c(),D(e,"class","badge")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function U7(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class If extends x{constructor(e){super(),J(this,e,U7,B7,Q,{})}}function Cd(r){let e,t;return e=new If({props:{$$slots:{default:[W7]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function W7(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},d(t){t&&v(e)}}}function j7(r){let e,t,n=r[0]>0&&Cd(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]>0?n?(n.p(l,s),s&1&&_(n,1)):(n=Cd(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Y7(r,e,t){let{value:n}=e;return r.$$set=l=>{"value"in l&&t(0,n=l.value)},[n]}class Mf extends x{constructor(e){super(),J(this,e,Y7,j7,Q,{value:0})}}const G7=r=>({}),Td=r=>({}),K7=r=>({}),Ed=r=>({}),X7=r=>({}),Dd=r=>({});function Id(r){let e,t,n;const l=r[3].title,s=Ie(l,r,r[2],Dd);return{c(){e=M("div"),t=M("div"),s&&s.c(),D(t,"class","title"),D(e,"class","title-and-meta")},m(i,o){w(i,e,o),I(e,t),s&&s.m(t,null),n=!0},p(i,o){s&&s.p&&(!n||o&4)&&Ae(s,l,i,i[2],n?Me(l,i[2],o,X7):Pe(i[2]),Dd)},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(e),s&&s.d(i)}}}function Md(r){let e,t;const n=r[3].body,l=Ie(n,r,r[2],Ed);return{c(){e=M("div"),l&&l.c(),D(e,"class","body")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&4)&&Ae(l,n,s,s[2],t?Me(n,s[2],i,K7):Pe(s[2]),Ed)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function Ad(r){let e,t;const n=r[3].footer,l=Ie(n,r,r[2],Td);return{c(){e=M("div"),l&&l.c(),D(e,"class","footer")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&4)&&Ae(l,n,s,s[2],t?Me(n,s[2],i,G7):Pe(s[2]),Td)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function Q7(r){let e,t,n,l,s,i=r[1].title&&Id(r),o=r[1].body&&Md(r),a=r[1].footer&&Ad(r);return{c(){e=M("div"),i&&i.c(),t=N(),o&&o.c(),n=N(),a&&a.c(),D(e,"class",l=["tutorial",r[0]].join(" "))},m(u,c){w(u,e,c),i&&i.m(e,null),I(e,t),o&&o.m(e,null),I(e,n),a&&a.m(e,null),s=!0},p(u,[c]){u[1].title?i?(i.p(u,c),c&2&&_(i,1)):(i=Id(u),i.c(),_(i,1),i.m(e,t)):i&&(G(),g(i,1,1,()=>{i=null}),K()),u[1].body?o?(o.p(u,c),c&2&&_(o,1)):(o=Md(u),o.c(),_(o,1),o.m(e,n)):o&&(G(),g(o,1,1,()=>{o=null}),K()),u[1].footer?a?(a.p(u,c),c&2&&_(a,1)):(a=Ad(u),a.c(),_(a,1),a.m(e,null)):a&&(G(),g(a,1,1,()=>{a=null}),K()),(!s||c&1&&l!==(l=["tutorial",u[0]].join(" ")))&&D(e,"class",l)},i(u){s||(_(i),_(o),_(a),s=!0)},o(u){g(i),g(o),g(a),s=!1},d(u){u&&v(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function Z7(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n);let{class:i=""}=e;return r.$$set=o=>{"class"in o&&t(0,i=o.class),"$$scope"in o&&t(2,l=o.$$scope)},[i,s,l,n]}class au extends x{constructor(e){super(),J(this,e,Z7,Q7,Q,{class:0})}}function J7(r){let e,t,n,l;const s=r[9].default,i=Ie(s,r,r[8],null);let o=[{type:"button"},{class:r[3]},r[4]],a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return{c(){e=M("button"),i&&i.c(),ct(e,a),re(e,"danger",r[1]),re(e,"active",r[2])},m(u,c){w(u,e,c),i&&i.m(e,null),e.autofocus&&e.focus(),r[17](e),t=!0,n||(l=[He(e,"click",r[10]),He(e,"keydown",r[11]),He(e,"focus",r[12]),He(e,"blur",r[13]),He(e,"mouseenter",r[14]),He(e,"mouseleave",r[15]),He(e,"mousedown",r[16])],n=!0)},p(u,[c]){i&&i.p&&(!t||c&256)&&Ae(i,s,u,u[8],t?Me(s,u[8],c,null):Pe(u[8]),null),ct(e,a=de(o,[{type:"button"},(!t||c&8)&&{class:u[3]},c&16&&u[4]])),re(e,"danger",u[1]),re(e,"active",u[2])},i(u){t||(_(i,u),t=!0)},o(u){g(i,u),t=!1},d(u){u&&v(e),i&&i.d(u),r[17](null),n=!1,It(l)}}}function x7(r,e,t){let n;const l=["appearance","size","danger","active","class","element"];let s=Ye(e,l),{$$slots:i={},$$scope:o}=e,{appearance:a="default"}=e,{size:u="medium"}=e,{danger:c=!1}=e,{active:f=!1}=e,{class:m=""}=e,{element:d=void 0}=e;function p(P){ye.call(this,r,P)}function h(P){ye.call(this,r,P)}function b(P){ye.call(this,r,P)}function $(P){ye.call(this,r,P)}function k(P){ye.call(this,r,P)}function T(P){ye.call(this,r,P)}function E(P){ye.call(this,r,P)}function A(P){Te[P?"unshift":"push"](()=>{d=P,t(0,d)})}return r.$$set=P=>{e=le(le({},e),_t(P)),t(4,s=Ye(e,l)),"appearance"in P&&t(5,a=P.appearance),"size"in P&&t(6,u=P.size),"danger"in P&&t(1,c=P.danger),"active"in P&&t(2,f=P.active),"class"in P&&t(7,m=P.class),"element"in P&&t(0,d=P.element),"$$scope"in P&&t(8,o=P.$$scope)},r.$$.update=()=>{r.$$.dirty&224&&t(3,n=["btn",`btn-${a}`,`size-${u}`,m].join(" "))},[d,c,f,n,s,a,u,m,o,i,p,h,b,$,k,T,E,A]}class dt extends x{constructor(e){super(),J(this,e,x7,J7,Q,{appearance:5,size:6,danger:1,active:2,class:7,element:0})}}var eS={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},tS=eS,nS={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M144 80c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM0 224c0-17.7 14.3-32 32-32H96c17.7 0 32 14.3 32 32V448h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H64V256H32c-17.7 0-32-14.3-32-32z"]},rS={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM112 256H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64H272c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},lS=rS,sS={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"]},iS=sS,oS={prefix:"fas",iconName:"paste",icon:[512,512,["file-clipboard"],"f0ea","M160 0c-23.7 0-44.4 12.9-55.4 32H48C21.5 32 0 53.5 0 80V400c0 26.5 21.5 48 48 48H192V176c0-44.2 35.8-80 80-80h48V80c0-26.5-21.5-48-48-48H215.4C204.4 12.9 183.7 0 160 0zM272 128c-26.5 0-48 21.5-48 48V448v16c0 26.5 21.5 48 48 48H464c26.5 0 48-21.5 48-48V256H416c-17.7 0-32-14.3-32-32V128H320 272zM160 88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm256 40v96h96l-96-96z"]},aS={prefix:"fas",iconName:"lightbulb",icon:[384,512,[128161],"f0eb","M272 384c9.6-31.9 29.5-59.1 49.2-86.2l0 0c5.2-7.1 10.4-14.2 15.4-21.4c19.8-28.5 31.4-63 31.4-100.3C368 78.8 289.2 0 192 0S16 78.8 16 176c0 37.3 11.6 71.9 31.4 100.3c5 7.2 10.2 14.3 15.4 21.4l0 0c19.8 27.1 39.7 54.4 49.2 86.2H272zM192 512c44.2 0 80-35.8 80-80V416H112v16c0 44.2 35.8 80 80 80zM112 176c0 8.8-7.2 16-16 16s-16-7.2-16-16c0-61.9 50.1-112 112-112c8.8 0 16 7.2 16 16s-7.2 16-16 16c-44.2 0-80 35.8-80 80z"]},uS={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zm32 224c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},cS={prefix:"fas",iconName:"arrow-right-from-bracket",icon:[576,512,["sign-out"],"f08b","M534.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L434.7 224 224 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l210.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128zM192 96c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-53 0-96 43-96 96l0 256c0 53 43 96 96 96l64 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l64 0z"]},fS={prefix:"fas",iconName:"square-check",icon:[448,512,[9745,9989,61510,"check-square"],"f14a","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM337 209L209 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L303 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},mS=fS,dS={prefix:"fas",iconName:"lock",icon:[448,512,[128274],"f023","M144 144v48H304V144c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192V144C80 64.5 144.5 0 224 0s144 64.5 144 144v48h16c35.3 0 64 28.7 64 64V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V256c0-35.3 28.7-64 64-64H80z"]},_S={prefix:"fas",iconName:"microscope",icon:[512,512,[128300],"f610","M168 32c0-17.7 14.3-32 32-32h16c17.7 0 32 14.3 32 32h8c17.7 0 32 14.3 32 32V288c0 17.7-14.3 32-32 32h-8c0 17.7-14.3 32-32 32H200c-17.7 0-32-14.3-32-32h-8c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32l8 0zM32 448H320c70.7 0 128-57.3 128-128s-57.3-128-128-128V128c106 0 192 86 192 192c0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320 32c-17.7 0-32-14.3-32-32s14.3-32 32-32zm80-64H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},pS={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80s-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80s80 35.8 80 80s-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM416 224c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]},gS={prefix:"fas",iconName:"plug",icon:[384,512,[128268],"f1e6","M96 0C78.3 0 64 14.3 64 32v96h64V32c0-17.7-14.3-32-32-32zM288 0c-17.7 0-32 14.3-32 32v96h64V32c0-17.7-14.3-32-32-32zM32 160c-17.7 0-32 14.3-32 32s14.3 32 32 32v32c0 77.4 55 142 128 156.8V480c0 17.7 14.3 32 32 32s32-14.3 32-32V412.8C297 398 352 333.4 352 256V224c17.7 0 32-14.3 32-32s-14.3-32-32-32H32z"]},hS={prefix:"fas",iconName:"stopwatch",icon:[448,512,[9201],"f2f2","M176 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h16V98.4C92.3 113.8 16 200 16 304c0 114.9 93.1 208 208 208s208-93.1 208-208c0-41.8-12.3-80.7-33.5-113.2l24.1-24.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L355.7 143c-28.1-23-62.2-38.8-99.7-44.6V64h16c17.7 0 32-14.3 32-32s-14.3-32-32-32H224 176zm72 192V320c0 13.3-10.7 24-24 24s-24-10.7-24-24V192c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},bS={prefix:"fas",iconName:"angle-right",icon:[320,512,[8250],"f105","M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"]},Yw={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},$S={prefix:"fas",iconName:"key",icon:[512,512,[128273],"f084","M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17v80c0 13.3 10.7 24 24 24h80c13.3 0 24-10.7 24-24V448h40c13.3 0 24-10.7 24-24V384h40c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zm40-176c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},Gw={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64H163.3c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64H348.7c2.2 20.4 3.3 41.8 3.3 64zm28.8-64H503.9c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64H380.8c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32H376.7c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0H167.7c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 21 58.2 27 94.7zm-209 0H18.6C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192H131.2c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64H8.1C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6H344.3c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352H135.3zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6H493.4z"]},vS={prefix:"fas",iconName:"star",icon:[576,512,[11088,61446],"f005","M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"]},wS={prefix:"fas",iconName:"shapes",icon:[512,512,["triangle-circle-square"],"f61f","M315.4 15.5C309.7 5.9 299.2 0 288 0s-21.7 5.9-27.4 15.5l-96 160c-5.9 9.9-6.1 22.2-.4 32.2s16.3 16.2 27.8 16.2H384c11.5 0 22.2-6.2 27.8-16.2s5.5-22.3-.4-32.2l-96-160zM288 312V456c0 22.1 17.9 40 40 40H472c22.1 0 40-17.9 40-40V312c0-22.1-17.9-40-40-40H328c-22.1 0-40 17.9-40 40zM128 512c70.7 0 128-57.3 128-128s-57.3-128-128-128S0 313.3 0 384s57.3 128 128 128z"]},kS={prefix:"fas",iconName:"slash",icon:[640,512,[],"f715","M5.1 9.2C13.3-1.2 28.4-3.1 38.8 5.1l592 464c10.4 8.2 12.3 23.3 4.1 33.7s-23.3 12.3-33.7 4.1L9.2 42.9C-1.2 34.7-3.1 19.6 5.1 9.2z"]},yS={prefix:"fas",iconName:"file-arrow-up",icon:[384,512,["file-upload"],"f574","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 408c0 13.3-10.7 24-24 24s-24-10.7-24-24V305.9l-31 31c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l72-72c9.4-9.4 24.6-9.4 33.9 0l72 72c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-31-31V408z"]},SS=yS,CS={prefix:"fas",iconName:"user-pen",icon:[640,512,["user-edit"],"f4ff","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H322.8c-3.1-8.8-3.7-18.4-1.4-27.8l15-60.1c2.8-11.3 8.6-21.5 16.8-29.7l40.3-40.3c-32.1-31-75.7-50.1-123.9-50.1H178.3zm435.5-68.3c-15.6-15.6-40.9-15.6-56.6 0l-29.4 29.4 71 71 29.4-29.4c15.6-15.6 15.6-40.9 0-56.6l-14.4-14.4zM375.9 417c-4.1 4.1-7 9.2-8.4 14.9l-15 60.1c-1.4 5.5 .2 11.2 4.2 15.2s9.7 5.6 15.2 4.2l60.1-15c5.6-1.4 10.8-4.3 14.9-8.4L576.1 358.7l-71-71L375.9 417z"]},TS=CS,ES={prefix:"fas",iconName:"angles-right",icon:[512,512,[187,"angle-double-right"],"f101","M470.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 256 265.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160zm-352 160l160-160c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L210.7 256 73.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0z"]},DS=ES,IS={prefix:"fas",iconName:"circle-arrow-left",icon:[512,512,["arrow-circle-left"],"f0a8","M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256S114.6 512 256 512s256-114.6 256-256zM215 127c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-71 71L392 232c13.3 0 24 10.7 24 24s-10.7 24-24 24l-214.1 0 71 71c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L103 273c-9.4-9.4-9.4-24.6 0-33.9L215 127z"]},MS={prefix:"fas",iconName:"arrow-down-wide-short",icon:[576,512,["sort-amount-asc","sort-amount-down"],"f160","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 480c-17.7 0-32-14.3-32-32s14.3-32 32-32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320zm0-128c-17.7 0-32-14.3-32-32s14.3-32 32-32H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320z"]},AS=MS,PS={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H463.5c0 0 0 0 0 0h.4c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1V448c0 17.7 14.3 32 32 32s32-14.3 32-32V396.9l17.6 17.5 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352H176c17.7 0 32-14.3 32-32s-14.3-32-32-32H48.4c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},RS=PS,OS={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256C0 397.4 114.6 512 256 512s256-114.6 256-256S397.4 0 256 0S0 114.6 0 256zM297 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L120 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l214.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L409 239c9.4 9.4 9.4 24.6 0 33.9L297 385z"]},LS={prefix:"fas",iconName:"filter-circle-xmark",icon:[576,512,[],"e17b","M3.9 22.9C10.5 8.9 24.5 0 40 0H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L396.4 195.6C316.2 212.1 256 283 256 368c0 27.4 6.3 53.4 17.5 76.5c-1.6-.8-3.2-1.8-4.7-2.9l-64-48c-8.1-6-12.8-15.5-12.8-25.6V288.9L9 65.3C-.7 53.4-2.8 36.8 3.9 22.9zM432 512c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm59.3-180.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0L432 345.4l-36.7-36.7c-6.2-6.2-16.4-6.2-22.6 0s-6.2 16.4 0 22.6L409.4 368l-36.7 36.7c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0L432 390.6l36.7 36.7c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6L454.6 368l36.7-36.7z"]},NS={prefix:"fas",iconName:"sort",icon:[320,512,["unsorted"],"f0dc","M137.4 41.4c12.5-12.5 32.8-12.5 45.3 0l128 128c9.2 9.2 11.9 22.9 6.9 34.9s-16.6 19.8-29.6 19.8H32c-12.9 0-24.6-7.8-29.6-19.8s-2.2-25.7 6.9-34.9l128-128zm0 429.3l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128c-12.5 12.5-32.8 12.5-45.3 0z"]},Kw={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},FS={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M96 96c-17.7 0-32 14.3-32 32s-14.3 32-32 32s-32-14.3-32-32C0 75 43 32 96 32h97c70.1 0 127 56.9 127 127c0 52.4-32.2 99.4-81 118.4l-63 24.5 0 18.1c0 17.7-14.3 32-32 32s-32-14.3-32-32V301.9c0-26.4 16.2-50.1 40.8-59.6l63-24.5C240 208.3 256 185 256 159c0-34.8-28.2-63-63-63H96zm48 384c-22.1 0-40-17.9-40-40s17.9-40 40-40s40 17.9 40 40s-17.9 40-40 40z"]},Xw={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[448,512,["external-link"],"f08e","M288 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h50.7L169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L384 141.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},HS=Xw,zS={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32z"]},VS=zS,qS={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},BS=qS,US={prefix:"fas",iconName:"arrow-rotate-right",icon:[512,512,[8635,"arrow-right-rotate","arrow-rotate-forward","redo"],"f01e","M386.3 160H336c-17.7 0-32 14.3-32 32s14.3 32 32 32H464c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32s-32 14.3-32 32v51.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0s-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3s163.8-62.5 226.3 0L386.3 160z"]},Qw=US,WS={prefix:"fas",iconName:"user-gear",icon:[640,512,["user-cog"],"f4fe","M224 256c-70.7 0-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128s-57.3 128-128 128zm-45.7 48h91.4c11.8 0 23.4 1.2 34.5 3.3c-2.1 18.5 7.4 35.6 21.8 44.8c-16.6 10.6-26.7 31.6-20 53.3c4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3H29.7C13.3 512 0 498.7 0 482.3C0 383.8 79.8 304 178.3 304zM436 218.2c0-7 4.5-13.3 11.3-14.8c10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4c7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1 .7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2c-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4l-24.9-14.3c-6.9 5.1-14.3 9.4-22.3 12.8l0 30.6c0 7-4.5 13.3-11.3 14.8c-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8V454.8c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4c-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3 .7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2c3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9V218.2zm92.1 133.5c0-26.5-21.5-48-48.1-48s-48.1 21.5-48.1 48s21.5 48 48.1 48s48.1-21.5 48.1-48z"]},jS={prefix:"fas",iconName:"align-left",icon:[448,512,[],"f036","M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Zw={prefix:"fas",iconName:"up-right-from-square",icon:[448,512,["external-link-alt"],"f35d","M288 32c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L306.7 128 169.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L352 173.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V64c0-17.7-14.3-32-32-32H288zM80 64C35.8 64 0 99.8 0 144V400c0 44.2 35.8 80 80 80H336c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v80c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V144c0-8.8 7.2-16 16-16h80c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},YS=Zw,Jw={prefix:"fas",iconName:"envelope",icon:[512,512,[128386,9993,61443],"f0e0","M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"]},GS={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256S114.6 512 256 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-144c-17.7 0-32-14.3-32-32s14.3-32 32-32s32 14.3 32 32s-14.3 32-32 32z"]},KS={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},XS=KS,QS={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},ZS={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 512C114.6 512 0 397.4 0 256S114.6 0 256 0S512 114.6 512 256s-114.6 256-256 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},JS={prefix:"fas",iconName:"wand-sparkles",icon:[512,512,[],"f72b","M464 6.1c9.5-8.5 24-8.1 33 .9l8 8c9 9 9.4 23.5 .9 33l-85.8 95.9c-2.6 2.9-4.1 6.7-4.1 10.7V176c0 8.8-7.2 16-16 16H384.2c-4.6 0-8.9 1.9-11.9 5.3L100.7 500.9C94.3 508 85.3 512 75.8 512c-8.8 0-17.3-3.5-23.5-9.8L9.7 459.7C3.5 453.4 0 445 0 436.2c0-9.5 4-18.5 11.1-24.8l111.6-99.8c3.4-3 5.3-7.4 5.3-11.9V272c0-8.8 7.2-16 16-16h34.6c3.9 0 7.7-1.5 10.7-4.1L464 6.1zM432 288c3.6 0 6.7 2.4 7.7 5.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8-14.8 51.7c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8l-14.8-51.7-51.7-14.8c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8 14.8-51.7c1-3.4 4.1-5.8 7.7-5.8zM87.7 69.8l14.8 51.7 51.7 14.8c3.4 1 5.8 4.1 5.8 7.7s-2.4 6.7-5.8 7.7l-51.7 14.8L87.7 218.2c-1 3.4-4.1 5.8-7.7 5.8s-6.7-2.4-7.7-5.8L57.5 166.5 5.8 151.7c-3.4-1-5.8-4.1-5.8-7.7s2.4-6.7 5.8-7.7l51.7-14.8L72.3 69.8c1-3.4 4.1-5.8 7.7-5.8s6.7 2.4 7.7 5.8zM224 0c3.7 0 6.9 2.5 7.8 6.1l6.8 27.3 27.3 6.8c3.6 .9 6.1 4.1 6.1 7.8s-2.5 6.9-6.1 7.8l-27.3 6.8-6.8 27.3c-.9 3.6-4.1 6.1-7.8 6.1s-6.9-2.5-7.8-6.1l-6.8-27.3-27.3-6.8c-3.6-.9-6.1-4.1-6.1-7.8s2.5-6.9 6.1-7.8l27.3-6.8 6.8-27.3c.9-3.6 4.1-6.1 7.8-6.1z"]},xS={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zm0-160c30.9 0 56 25.1 56 56s-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56zM120 96c0 30.9-25.1 56-56 56S8 126.9 8 96S33.1 40 64 40s56 25.1 56 56z"]},eC=xS,tC={prefix:"fas",iconName:"diagram-next",icon:[512,512,[],"e476","M512 160c0 35.3-28.7 64-64 64H280v64h46.1c21.4 0 32.1 25.9 17 41L273 399c-9.4 9.4-24.6 9.4-33.9 0L169 329c-15.1-15.1-4.4-41 17-41H232V224H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64v64zM448 416V352H365.3l.4-.4c18.4-18.4 20.4-43.7 11-63.6l71.3 0c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64V352c0-35.3 28.7-64 64-64l71.3 0c-9.4 19.9-7.4 45.2 11 63.6l.4 .4H64v64H210.7l5.7 5.7c21.9 21.9 57.3 21.9 79.2 0l5.7-5.7H448z"]},nC={prefix:"fas",iconName:"delete-left",icon:[576,512,[9003,"backspace"],"f55a","M576 128c0-35.3-28.7-64-64-64H205.3c-17 0-33.3 6.7-45.3 18.7L9.4 233.4c-6 6-9.4 14.1-9.4 22.6s3.4 16.6 9.4 22.6L160 429.3c12 12 28.3 18.7 45.3 18.7H512c35.3 0 64-28.7 64-64V128zM271 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]},xw=nC,rC={prefix:"fas",iconName:"calendar-week",icon:[448,512,[],"f784","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]},lC={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456c13.3 0 24-10.7 24-24s-10.7-24-24-24s-24 10.7-24 24s10.7 24 24 24z"]},sC={prefix:"fas",iconName:"arrow-down-short-wide",icon:[576,512,["sort-amount-desc","sort-amount-down-alt"],"f884","M151.6 469.6C145.5 476.2 137 480 128 480s-17.5-3.8-23.6-10.4l-88-96c-11.9-13-11.1-33.3 2-45.2s33.3-11.1 45.2 2L96 365.7V64c0-17.7 14.3-32 32-32s32 14.3 32 32V365.7l32.4-35.4c11.9-13 32.2-13.9 45.2-2s13.9 32.2 2 45.2l-88 96zM320 32h32c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 128H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H320c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},iC=sC,oC={prefix:"fas",iconName:"angle-down",icon:[448,512,[8964],"f107","M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"]},aC={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm160 0c0 30.9-25.1 56-56 56s-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56zm104 56c-30.9 0-56-25.1-56-56s25.1-56 56-56s56 25.1 56 56s-25.1 56-56 56z"]},uC=aC,cC={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},uu={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},fC={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"]},mC=fC,dC={prefix:"fas",iconName:"list-ul",icon:[512,512,["list-dots"],"f0ca","M64 144c26.5 0 48-21.5 48-48s-21.5-48-48-48S16 69.5 16 96s21.5 48 48 48zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm48-208c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48z"]},_C={prefix:"fas",iconName:"diagram-project",icon:[576,512,["project-diagram"],"f542","M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"]},pC=_C,gC={prefix:"fas",iconName:"copy",icon:[512,512,[],"f0c5","M224 0c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224zM64 160c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H288v64H64V224h64V160H64z"]},hC={prefix:"fas",iconName:"grip",icon:[448,512,["grip-horizontal"],"f58d","M128 136c0-22.1-17.9-40-40-40L40 96C17.9 96 0 113.9 0 136l0 48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V136zm0 192c0-22.1-17.9-40-40-40H40c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40H88c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM288 328c0-22.1-17.9-40-40-40H200c-22.1 0-40 17.9-40 40l0 48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328zm32-192v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V136c0-22.1-17.9-40-40-40l-48 0c-22.1 0-40 17.9-40 40zM448 328c0-22.1-17.9-40-40-40H360c-22.1 0-40 17.9-40 40v48c0 22.1 17.9 40 40 40h48c22.1 0 40-17.9 40-40V328z"]},bC={prefix:"fas",iconName:"share-from-square",icon:[576,512,[61509,"share-square"],"f14d","M384 24c0-9.6 5.7-18.2 14.5-22s19-2 26 4.6l144 136c4.8 4.5 7.5 10.8 7.5 17.4s-2.7 12.9-7.5 17.4l-144 136c-7 6.6-17.2 8.4-26 4.6s-14.5-12.5-14.5-22V224H352 337.5c-45 0-81.5 36.5-81.5 81.5c0 22.3 10.3 34.3 19.2 40.5c6.8 4.7 12.8 12 12.8 20.3c0 9.8-8 17.8-17.8 17.8h-2.5c-2.4 0-4.8-.4-7.1-1.4C242.8 374.8 160 333.4 160 240c0-79.5 64.5-144 144-144h80V24zM0 144C0 99.8 35.8 64 80 64H96c17.7 0 32 14.3 32 32s-14.3 32-32 32H80c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16H368c8.8 0 16-7.2 16-16V416c0-17.7 14.3-32 32-32s32 14.3 32 32v16c0 44.2-35.8 80-80 80H80c-44.2 0-80-35.8-80-80V144z"]},$C={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},e6={prefix:"fas",iconName:"xmark",icon:[320,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"]},Af=e6,vC={prefix:"fas",iconName:"chevron-right",icon:[384,512,[9002],"f054","M342.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L274.7 256 105.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},wC={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"]},kC={prefix:"fas",iconName:"gears",icon:[640,512,["cogs"],"f085","M308.5 135.3c7.1-6.3 9.9-16.2 6.2-25c-2.3-5.3-4.8-10.5-7.6-15.5L304 89.4c-3-5-6.3-9.9-9.8-14.6c-5.7-7.6-15.7-10.1-24.7-7.1l-28.2 9.3c-10.7-8.8-23-16-36.2-20.9L199 27.1c-1.9-9.3-9.1-16.7-18.5-17.8C173.7 8.4 166.9 8 160 8s-13.7 .4-20.4 1.2c-9.4 1.1-16.6 8.6-18.5 17.8L115 56.1c-13.3 5-25.5 12.1-36.2 20.9L50.5 67.8c-9-3-19-.5-24.7 7.1c-3.5 4.7-6.8 9.6-9.9 14.6l-3 5.3c-2.8 5-5.3 10.2-7.6 15.6c-3.7 8.7-.9 18.6 6.2 25l22.2 19.8C32.6 161.9 32 168.9 32 176s.6 14.1 1.7 20.9L11.5 216.7c-7.1 6.3-9.9 16.2-6.2 25c2.3 5.3 4.8 10.5 7.6 15.6l3 5.2c3 5.1 6.3 9.9 9.9 14.6c5.7 7.6 15.7 10.1 24.7 7.1l28.2-9.3c10.7 8.8 23 16 36.2 20.9l6.1 29.1c1.9 9.3 9.1 16.7 18.5 17.8c6.7 .8 13.5 1.2 20.4 1.2s13.7-.4 20.4-1.2c9.4-1.1 16.6-8.6 18.5-17.8l6.1-29.1c13.3-5 25.5-12.1 36.2-20.9l28.2 9.3c9 3 19 .5 24.7-7.1c3.5-4.7 6.8-9.5 9.8-14.6l3.1-5.4c2.8-5 5.3-10.2 7.6-15.5c3.7-8.7 .9-18.6-6.2-25l-22.2-19.8c1.1-6.8 1.7-13.8 1.7-20.9s-.6-14.1-1.7-20.9l22.2-19.8zM208 176c0 26.5-21.5 48-48 48s-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48zM504.7 500.5c6.3 7.1 16.2 9.9 25 6.2c5.3-2.3 10.5-4.8 15.5-7.6l5.4-3.1c5-3 9.9-6.3 14.6-9.8c7.6-5.7 10.1-15.7 7.1-24.7l-9.3-28.2c8.8-10.7 16-23 20.9-36.2l29.1-6.1c9.3-1.9 16.7-9.1 17.8-18.5c.8-6.7 1.2-13.5 1.2-20.4s-.4-13.7-1.2-20.4c-1.1-9.4-8.6-16.6-17.8-18.5L583.9 307c-5-13.3-12.1-25.5-20.9-36.2l9.3-28.2c3-9 .5-19-7.1-24.7c-4.7-3.5-9.6-6.8-14.6-9.9l-5.3-3c-5-2.8-10.2-5.3-15.6-7.6c-8.7-3.7-18.6-.9-25 6.2l-19.8 22.2c-6.8-1.1-13.8-1.7-20.9-1.7s-14.1 .6-20.9 1.7l-19.8-22.2c-6.3-7.1-16.2-9.9-25-6.2c-5.3 2.3-10.5 4.8-15.6 7.6l-5.2 3c-5.1 3-9.9 6.3-14.6 9.9c-7.6 5.7-10.1 15.7-7.1 24.7l9.3 28.2c-8.8 10.7-16 23-20.9 36.2L315.1 313c-9.3 1.9-16.7 9.1-17.8 18.5c-.8 6.7-1.2 13.5-1.2 20.4s.4 13.7 1.2 20.4c1.1 9.4 8.6 16.6 17.8 18.5l29.1 6.1c5 13.3 12.1 25.5 20.9 36.2l-9.3 28.2c-3 9-.5 19 7.1 24.7c4.7 3.5 9.5 6.8 14.6 9.8l5.4 3.1c5 2.8 10.2 5.3 15.5 7.6c8.7 3.7 18.6 .9 25-6.2l19.8-22.2c6.8 1.1 13.8 1.7 20.9 1.7s14.1-.6 20.9-1.7l19.8 22.2zM464 400c-26.5 0-48-21.5-48-48s21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48z"]},yC={prefix:"fas",iconName:"angles-left",icon:[512,512,[171,"angle-double-left"],"f100","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160zm352-160l-160 160c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L301.3 256 438.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0z"]},SC=yC,CC={prefix:"fas",iconName:"hashtag",icon:[448,512,[62098],"23","M181.3 32.4c17.4 2.9 29.2 19.4 26.3 36.8L197.8 128h95.1l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3s29.2 19.4 26.3 36.8L357.8 128H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H347.1L325.8 320H384c17.7 0 32 14.3 32 32s-14.3 32-32 32H315.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8l9.8-58.7H155.1l-11.5 69.3c-2.9 17.4-19.4 29.2-36.8 26.3s-29.2-19.4-26.3-36.8L90.2 384H32c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l21.3-128H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h68.9l11.5-69.3c2.9-17.4 19.4-29.2 36.8-26.3zM187.1 192L165.8 320h95.1l21.3-128H187.1z"]},TC={prefix:"fas",iconName:"clone",icon:[512,512,[],"f24d","M0 448c0 35.3 28.7 64 64 64H288c35.3 0 64-28.7 64-64V384H224c-53 0-96-43-96-96V160H64c-35.3 0-64 28.7-64 64V448zm224-96H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H224c-35.3 0-64 28.7-64 64V288c0 35.3 28.7 64 64 64z"]},EC={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},cu={prefix:"fas",iconName:"check",icon:[512,512,[10003,10004],"f00c","M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},DC={prefix:"fas",iconName:"angle-left",icon:[320,512,[8249],"f104","M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},IC={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32z"]},MC=IC,AC={prefix:"fas",iconName:"database",icon:[448,512,[],"f1c0","M448 80v48c0 44.2-100.3 80-224 80S0 172.2 0 128V80C0 35.8 100.3 0 224 0S448 35.8 448 80zM393.2 214.7c20.8-7.4 39.9-16.9 54.8-28.6V288c0 44.2-100.3 80-224 80S0 332.2 0 288V186.1c14.9 11.8 34 21.2 54.8 28.6C99.7 230.7 159.5 240 224 240s124.3-9.3 169.2-25.3zM0 346.1c14.9 11.8 34 21.2 54.8 28.6C99.7 390.7 159.5 400 224 400s124.3-9.3 169.2-25.3c20.8-7.4 39.9-16.9 54.8-28.6V432c0 44.2-100.3 80-224 80S0 476.2 0 432V346.1z"]},PC={prefix:"fas",iconName:"calendar-day",icon:[448,512,[],"f783","M128 0c17.7 0 32 14.3 32 32V64H288V32c0-17.7 14.3-32 32-32s32 14.3 32 32V64h48c26.5 0 48 21.5 48 48v48H0V112C0 85.5 21.5 64 48 64H96V32c0-17.7 14.3-32 32-32zM0 192H448V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V192zm80 64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16h96c8.8 0 16-7.2 16-16V272c0-8.8-7.2-16-16-16H80z"]},RC={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24V232h64c13.3 0 24-10.7 24-24s-10.7-24-24-24H232V120c0-13.3-10.7-24-24-24s-24 10.7-24 24v64H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h64v64z"]},OC=RC,LC={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32V67.7c1.6 .2 3.1 .4 4.7 .7c10.6 1.6 42.1 6.7 55.1 10c17.1 4.3 27.5 21.7 23.2 38.9s-21.7 27.5-38.9 23.2c-9.3-2.4-37.6-7-48.9-8.7c-32.1-4.8-59.6-2.4-78.5 4.9c-18.3 7-25.9 16.9-27.9 28c-1.9 10.7-.5 16.8 1.3 20.6c1.9 4 5.6 8.5 12.9 13.4c16.2 10.8 41.1 17.9 73.3 26.7l2.8 .8c28.4 7.7 63.2 17.2 89 34.3c14.1 9.4 27.3 22.1 35.5 39.7c8.3 17.8 10.1 37.8 6.3 59.1c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V445.1c-.4-.1-.9-.1-1.3-.2l-.2 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.2-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.4 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.7 .5-16.8-1.3-20.6c-1.9-4-5.6-8.5-12.9-13.4c-16.2-10.8-41.1-17.9-73.3-26.7l-2.8-.8c-28.4-7.7-63.2-17.2-89-34.3c-14.1-9.4-27.3-22.1-35.5-39.7c-8.3-17.8-10.1-37.8-6.3-59.1C25 114.1 53 89.3 86 76.7c13-5 27.2-8.2 42-10V32c0-17.7 14.3-32 32-32z"]};const Pd={data:DS},Rd={data:SC},Od={data:bS},Ld={data:DC},Us={data:Af},ar={data:oC},Nd={data:VS},NC={data:cu},da={data:mC},_a={data:uC},Uc={data:SS},Fd={data:cC},Ws={data:kC},hl={data:Xw},Wc={data:aS},pa={data:uS},bl={data:MC},gr={data:wC,spin:!0},jc={data:cu};function FC(r){let e,t;const n=[gr,{size:r[0]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&1?de(n,[i&0&&$e(gr),i&1&&{size:s[0]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function HC(r,e,t){let{size:n=void 0}=e;return r.$$set=l=>{"size"in l&&t(0,n=l.size)},[n]}class yn extends x{constructor(e){super(),J(this,e,HC,FC,Q,{size:0})}}function zC(r){let e,t,n,l;return{c(){e=Rt("path"),D(e,"d",t=r[0].path),D(e,"fill-rule",n=r[0].fillRule),D(e,"clip-rule",l=r[0].clipRule),D(e,"style",r[1])},m(s,i){w(s,e,i)},p(s,i){i&1&&t!==(t=s[0].path)&&D(e,"d",t),i&1&&n!==(n=s[0].fillRule)&&D(e,"fill-rule",n),i&1&&l!==(l=s[0].clipRule)&&D(e,"clip-rule",l),i&2&&D(e,"style",s[1])},d(s){s&&v(e)}}}function VC(r){let e;return{c(){e=Rt("path"),D(e,"d",r[0]),D(e,"style",r[1])},m(t,n){w(t,e,n)},p(t,n){n&1&&D(e,"d",t[0]),n&2&&D(e,"style",t[1])},d(t){t&&v(e)}}}function qC(r){let e;function t(s,i){return typeof s[0]=="string"?VC:zC}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,[i]){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},i:j,o:j,d(s){l.d(s),s&&v(e)}}}function BC(r,e,t){let{path:n}=e,{style:l=void 0}=e;return r.$$set=s=>{"path"in s&&t(0,n=s.path),"style"in s&&t(1,l=s.style)},[n,l]}class t6 extends x{constructor(e){super(),J(this,e,BC,qC,Q,{path:0,style:1})}}const UC=.22,WC=1.4;function jC(r,e){const t=UC*Math.min(e,r);return{r:t,cx:r-t,cy:t}}function YC(r,e,t){const{cx:n,cy:l}=t,s=t.r*WC;return["M 0 0",`L 0 ${e}`,`L ${r} ${e}`,`L ${r} 0`,"L 0 0","z",`M ${n} ${l-s}`,`A ${s} ${s} 0 0 1 ${n+s} ${l}`,`A ${s} ${s} 0 0 1 ${n} ${l+s}`,`A ${s} ${s} 0 0 1 ${n-s} ${l}`,`A ${s} ${s} 0 0 1 ${n} ${l-s}`,"z"].join(" ")}function ga(r,e,t){return t?`clip-path: path('${YC(r,e,t)}');`:void 0}function Hd(r,e,t){const n=r.slice();return n[16]=e[t],n}function zd(r){let e,t;return{c(){e=Rt("title"),t=q(r[4])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&16&&Y(t,n[4])},d(n){n&&v(e)}}}function GC(r){let e,t;return e=new t6({props:{path:r[9],style:ga(r[6],r[5],r[8])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.path=n[9]),l&352&&(s.style=ga(n[6],n[5],n[8])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KC(r){let e=[],t=new Map,n,l,s=r[9];const i=o=>o[16];for(let o=0;o<s.length;o+=1){let a=Hd(r,s,o),u=i(a);t.set(u,e[o]=Vd(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&864&&(s=o[9],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,Vd,n,Hd),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function Vd(r,e){let t,n,l;return n=new t6({props:{path:e[16],style:ga(e[6],e[5],e[8])}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&512&&(o.path=e[16]),i&352&&(o.style=ga(e[6],e[5],e[8])),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function qd(r){let e,t=[{class:"notification-dot"},r[8]],n={};for(let l=0;l<t.length;l+=1)n=le(n,t[l]);return{c(){e=Rt("circle"),pn(e,n)},m(l,s){w(l,e,s)},p(l,s){pn(e,n=de(t,[{class:"notification-dot"},s&256&&l[8]]))},d(l){l&&v(e)}}}function XC(r){let e,t,n,l,s,i,o,a,u,c=r[4]&&zd(r);const f=[KC,GC],m=[];function d($,k){return k&512&&(n=null),n==null&&(n=!!Array.isArray($[9])),n?0:1}l=d(r,-1),s=m[l]=f[l](r);let p=r[8]&&qd(r),h=[{version:"1.1"},{viewBox:o="0 0 "+r[6]+" "+r[5]},{width:"1em"},{height:"1em"},{class:r[7]},{"aria-label":r[3]},{role:a=r[3]?"img":"presentation"},r[10]],b={};for(let $=0;$<h.length;$+=1)b=le(b,h[$]);return{c(){e=Rt("svg"),c&&c.c(),t=oe(),s.c(),i=oe(),p&&p.c(),pn(e,b),re(e,"fa-spin",r[1]),re(e,"fa-pulse",r[2]),Cn(e,"font-size",r[0],!1)},m($,k){w($,e,k),c&&c.m(e,null),I(e,t),m[l].m(e,null),I(e,i),p&&p.m(e,null),u=!0},p($,[k]){$[4]?c?c.p($,k):(c=zd($),c.c(),c.m(e,t)):c&&(c.d(1),c=null);let T=l;l=d($,k),l===T?m[l].p($,k):(G(),g(m[T],1,1,()=>{m[T]=null}),K(),s=m[l],s?s.p($,k):(s=m[l]=f[l]($),s.c()),_(s,1),s.m(e,i)),$[8]?p?p.p($,k):(p=qd($),p.c(),p.m(e,null)):p&&(p.d(1),p=null),pn(e,b=de(h,[{version:"1.1"},(!u||k&96&&o!==(o="0 0 "+$[6]+" "+$[5]))&&{viewBox:o},{width:"1em"},{height:"1em"},(!u||k&128)&&{class:$[7]},(!u||k&8)&&{"aria-label":$[3]},(!u||k&8&&a!==(a=$[3]?"img":"presentation"))&&{role:a},k&1024&&$[10]])),re(e,"fa-spin",$[1]),re(e,"fa-pulse",$[2]),Cn(e,"font-size",$[0],!1)},i($){u||(_(s),u=!0)},o($){g(s),u=!1},d($){$&&v(e),c&&c.d(),m[l].d(),p&&p.d()}}}function QC(r,e,t){const n=["fa-icon"];return r&&n.push(r),e&&n.push(`fa-flip-${e}`),t&&n.push(`fa-rotate-${t}`),n.join(" ")}function ZC(r,e,t){let n,l,s,i;const o=["data","size","spin","pulse","flip","rotate","class","label","title","hasNotificationDot"];let a=Ye(e,o),{data:u}=e,{size:c="1em"}=e,{spin:f=!1}=e,{pulse:m=!1}=e,{flip:d=void 0}=e,{rotate:p=void 0}=e,{class:h=""}=e,{label:b=void 0}=e,{title:$=void 0}=e,{hasNotificationDot:k=!1}=e,T;return r.$$set=E=>{e=le(le({},e),_t(E)),t(10,a=Ye(e,o)),"data"in E&&t(11,u=E.data),"size"in E&&t(0,c=E.size),"spin"in E&&t(1,f=E.spin),"pulse"in E&&t(2,m=E.pulse),"flip"in E&&t(12,d=E.flip),"rotate"in E&&t(13,p=E.rotate),"class"in E&&t(14,h=E.class),"label"in E&&t(3,b=E.label),"title"in E&&t(4,$=E.title),"hasNotificationDot"in E&&t(15,k=E.hasNotificationDot)},r.$$.update=()=>{r.$$.dirty&2048&&t(6,[n,l,,,s]=u.icon,n,(t(5,l),t(11,u)),(t(9,s),t(11,u))),r.$$.dirty&28672&&t(7,T=QC(h,d,p)),r.$$.dirty&32864&&t(8,i=k?jC(n,l):void 0)},[c,f,m,b,$,l,n,T,i,s,a,u,d,p,h,k]}class Be extends x{constructor(e){super(),J(this,e,ZC,XC,Q,{data:11,size:0,spin:1,pulse:2,flip:12,rotate:13,class:14,label:3,title:4,hasNotificationDot:15})}}function JC(r){let e,t;const n=[r[2]];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&4?de(n,[$e(s[2])]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function xC(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bd(r){let e,t;return{c(){e=M("span"),t=q(r[1])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&2&&Y(t,n[1])},d(n){n&&v(e)}}}function e9(r){let e,t,n,l,s;const i=[xC,JC],o=[];function a(c,f){return c[0]?0:c[2]?1:-1}~(e=a(r))&&(t=o[e]=i[e](r));let u=r[1]&&Bd(r);return{c(){t&&t.c(),n=N(),u&&u.c(),l=oe()},m(c,f){~e&&o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,l,f),s=!0},p(c,f){let m=e;e=a(c),e===m?~e&&o[e].p(c,f):(t&&(G(),g(o[m],1,1,()=>{o[m]=null}),K()),~e?(t=o[e],t?t.p(c,f):(t=o[e]=i[e](c),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),c[1]?u?u.p(c,f):(u=Bd(c),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){g(t),s=!1},d(c){~e&&o[e].d(c),c&&v(n),u&&u.d(c),c&&v(l)}}}function t9(r){let e,t;const n=[{appearance:r[4]},{disabled:r[3]||r[0]},r[6]];let l={$$slots:{default:[e9]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new dt({props:l}),e.$on("click",r[5]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&89?de(n,[i&16&&{appearance:s[4]},i&9&&{disabled:s[3]||s[0]},i&64&&$e(s[6])]):{};i&519&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function n9(r,e,t){const n=["label","icon","onClick","confirm","disabled","isProcessing","appearance","proceed"];let l=Ye(e,n),{label:s="Proceed"}=e,{icon:i=void 0}=e,{onClick:o=()=>{}}=e,{confirm:a=async()=>!0}=e,{disabled:u=!1}=e,{isProcessing:c=!1}=e,{appearance:f="primary"}=e;async function m(){if(!!await a()){t(0,c=!0);try{await o()}finally{t(0,c=!1)}}}return r.$$set=d=>{e=le(le({},e),_t(d)),t(6,l=Ye(e,n)),"label"in d&&t(1,s=d.label),"icon"in d&&t(2,i=d.icon),"onClick"in d&&t(7,o=d.onClick),"confirm"in d&&t(8,a=d.confirm),"disabled"in d&&t(3,u=d.disabled),"isProcessing"in d&&t(0,c=d.isProcessing),"appearance"in d&&t(4,f=d.appearance)},[c,s,i,u,f,m,l,o,a]}class Yr extends x{constructor(e){super(),J(this,e,n9,t9,Q,{label:1,icon:2,onClick:7,confirm:8,disabled:3,isProcessing:0,appearance:4,proceed:5})}get proceed(){return this.$$.ctx[5]}}function Ud(r){let e,t;return e=new dt({props:{appearance:"secondary",disabled:r[0]||!r[4],size:r[5],$$slots:{default:[r9]},$$scope:{ctx:r}}}),e.$on("click",function(){Pt(r[1])&&r[1].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){r=n;const s={};l&17&&(s.disabled=r[0]||!r[4]),l&32&&(s.size=r[5]),l&131584&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wd(r){let e,t;const n=[r[9].icon];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&512?de(n,[$e(s[9].icon)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function r9(r){let e,t,n=r[9].label+"",l,s,i=r[9].icon&&Wd(r);return{c(){i&&i.c(),e=N(),t=M("span"),l=q(n)},m(o,a){i&&i.m(o,a),w(o,e,a),w(o,t,a),I(t,l),s=!0},p(o,a){o[9].icon?i?(i.p(o,a),a&512&&_(i,1)):(i=Wd(o),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(G(),g(i,1,1,()=>{i=null}),K()),(!s||a&512)&&n!==(n=o[9].label+"")&&Y(l,n)},i(o){s||(_(i),s=!0)},o(o){g(i),s=!1},d(o){i&&i.d(o),o&&v(e),o&&v(t)}}}function l9(r){let e,t,n,l,s,i,o=r[6]&&Ud(r);function a(f){r[13](f)}function u(f){r[14](f)}let c={onClick:r[2],icon:r[8].icon,label:r[8].label,disabled:r[0]||!r[3],size:r[5]};return r[0]!==void 0&&(c.isProcessing=r[0]),r[7]!==void 0&&(c.proceed=r[7]),n=new Yr({props:c}),Te.push(()=>Oe(n,"isProcessing",a)),Te.push(()=>Oe(n,"proceed",u)),{c(){e=M("div"),o&&o.c(),t=N(),C(n.$$.fragment),D(e,"class","cancel-or-proceed-button-pair"),re(e,"has-cancel-button",r[6])},m(f,m){w(f,e,m),o&&o.m(e,null),I(e,t),y(n,e,null),i=!0},p(f,[m]){f[6]?o?(o.p(f,m),m&64&&_(o,1)):(o=Ud(f),o.c(),_(o,1),o.m(e,t)):o&&(G(),g(o,1,1,()=>{o=null}),K());const d={};m&4&&(d.onClick=f[2]),m&256&&(d.icon=f[8].icon),m&256&&(d.label=f[8].label),m&9&&(d.disabled=f[0]||!f[3]),m&32&&(d.size=f[5]),!l&&m&1&&(l=!0,d.isProcessing=f[0],Ne(()=>l=!1)),!s&&m&128&&(s=!0,d.proceed=f[7],Ne(()=>s=!1)),n.$set(d),(!i||m&64)&&re(e,"has-cancel-button",f[6])},i(f){i||(_(o),_(n.$$.fragment,f),i=!0)},o(f){g(o),g(n.$$.fragment,f),i=!1},d(f){f&&v(e),o&&o.d(),S(n)}}}function s9(r,e,t){let n,l;const s={label:"Cancel"},i={label:"Proceed",icon:NC};let{cancelButton:o={}}=e,{proceedButton:a={}}=e,{onCancel:u=()=>{}}=e,{onProceed:c=()=>{}}=e,{canProceed:f=!0}=e,{canCancel:m=!0}=e,{isProcessing:d=!1}=e,{size:p=void 0}=e,{hasCancelButton:h=!0}=e,b=async()=>{};function $(){return b()}function k(E){d=E,t(0,d)}function T(E){b=E,t(7,b)}return r.$$set=E=>{"cancelButton"in E&&t(10,o=E.cancelButton),"proceedButton"in E&&t(11,a=E.proceedButton),"onCancel"in E&&t(1,u=E.onCancel),"onProceed"in E&&t(2,c=E.onProceed),"canProceed"in E&&t(3,f=E.canProceed),"canCancel"in E&&t(4,m=E.canCancel),"isProcessing"in E&&t(0,d=E.isProcessing),"size"in E&&t(5,p=E.size),"hasCancelButton"in E&&t(6,h=E.hasCancelButton)},r.$$.update=()=>{r.$$.dirty&1024&&t(9,n={...s,...o}),r.$$.dirty&2048&&t(8,l={...i,...a})},[d,u,c,f,m,p,h,b,l,n,o,a,$,k,T]}class Kr extends x{constructor(e){super(),J(this,e,s9,l9,Q,{cancelButton:10,proceedButton:11,onCancel:1,onProceed:2,canProceed:3,canCancel:4,isProcessing:0,size:5,hasCancelButton:6,proceed:12})}get proceed(){return this.$$.ctx[12]}}class ko{constructor(){ce(this,"disabled",xe(!1));ce(this,"inputId",xe(Il()))}}const n6={};function Pf(r){xn(n6,r)}function r6(){return Fn(n6)}function i9(r,e,t){let{id:n=Il()}=e,{labelController:l=r6()}=e,{disabled:s=!1}=e,{focusOnMount:i=!1}=e;return Iw(async()=>{if(await on(),i){const o=document.querySelector(`#${n}`);o==null||o.focus()}}),r.$$set=o=>{"id"in o&&t(0,n=o.id),"labelController"in o&&t(1,l=o.labelController),"disabled"in o&&t(2,s=o.disabled),"focusOnMount"in o&&t(3,i=o.focusOnMount)},r.$$.update=()=>{r.$$.dirty&6&&(l==null||l.disabled.set(s)),r.$$.dirty&3&&(l==null||l.inputId.set(n))},[n,l,s,i]}class Ml extends x{constructor(e){super(),J(this,e,i9,null,Q,{id:0,labelController:1,disabled:2,focusOnMount:3})}}function o9(r){var p;let e,t,n,l,s,i,o,a;const u=[r[6],{disabled:r[3]}];function c(h){r[10](h)}let f={};for(let h=0;h<u.length;h+=1)f=le(f,u[h]);r[1]!==void 0&&(f.id=r[1]),e=new Ml({props:f}),Te.push(()=>Oe(e,"id",c));let m=[r[6],{class:"checkbox"},{type:"checkbox"},{id:r[1]},{checked:s=(p=r[0])!=null?p:void 0},{indeterminate:r[4]},{disabled:r[3]},{value:r[2]}],d={};for(let h=0;h<m.length;h+=1)d=le(d,m[h]);return{c(){C(e.$$.fragment),n=N(),l=M("input"),ct(l,d)},m(h,b){y(e,h,b),w(h,n,b),w(h,l,b),l.autofocus&&l.focus(),i=!0,o||(a=[He(l,"change",r[5]),He(l,"click",r[8]),He(l,"mousedown",r[9])],o=!0)},p(h,[b]){var k;const $=b&72?de(u,[b&64&&$e(h[6]),b&8&&{disabled:h[3]}]):{};!t&&b&2&&(t=!0,$.id=h[1],Ne(()=>t=!1)),e.$set($),ct(l,d=de(m,[b&64&&h[6],{class:"checkbox"},{type:"checkbox"},(!i||b&2)&&{id:h[1]},(!i||b&1&&s!==(s=(k=h[0])!=null?k:void 0))&&{checked:s},(!i||b&16)&&{indeterminate:h[4]},(!i||b&8)&&{disabled:h[3]},(!i||b&4)&&{value:h[2]}]))},i(h){i||(_(e.$$.fragment,h),i=!0)},o(h){g(e.$$.fragment,h),i=!1},d(h){S(e,h),h&&v(n),h&&v(l),o=!1,It(a)}}}function a9(r,e,t){let n;const l=["checked","allowIndeterminate","value","disabled","id"];let s=Ye(e,l);const i=ht();let{checked:o=!1}=e,{allowIndeterminate:a=!1}=e,{value:u=void 0}=e,{disabled:c=!1}=e,{id:f=void 0}=e;function m(){t(0,o=!o),i("change",o)}function d(b){ye.call(this,r,b)}function p(b){ye.call(this,r,b)}function h(b){f=b,t(1,f)}return r.$$set=b=>{e=le(le({},e),_t(b)),t(6,s=Ye(e,l)),"checked"in b&&t(0,o=b.checked),"allowIndeterminate"in b&&t(7,a=b.allowIndeterminate),"value"in b&&t(2,u=b.value),"disabled"in b&&t(3,c=b.disabled),"id"in b&&t(1,f=b.id)},r.$$.update=()=>{r.$$.dirty&129&&t(4,n=a&&o===null)},[o,f,u,c,n,m,s,a,d,p,h]}class Al extends x{constructor(e){super(),J(this,e,a9,o9,Q,{checked:0,allowIndeterminate:7,value:2,disabled:3,id:1})}}function ha(r){return`${r}-label`}const u9=r=>({inputId:r&8}),jd=r=>({inputId:r[3]});function c9(r){let e,t,n,l,s;const i=r[9].default,o=Ie(i,r,r[8],jd);let a=[{for:r[3]},r[6],{style:r[0]},{class:"label-component"},{id:t=ha(r[3])}],u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return{c(){e=M("label"),o&&o.c(),ct(e,u),re(e,"disabled",r[4])},m(c,f){w(c,e,f),o&&o.m(e,null),n=!0,l||(s=He(e,"click",r[5]),l=!0)},p(c,[f]){o&&o.p&&(!n||f&264)&&Ae(o,i,c,c[8],n?Me(i,c[8],f,u9):Pe(c[8]),jd),ct(e,u=de(a,[(!n||f&8)&&{for:c[3]},f&64&&c[6],(!n||f&1)&&{style:c[0]},{class:"label-component"},(!n||f&8&&t!==(t=ha(c[3])))&&{id:t}])),re(e,"disabled",c[4])},i(c){n||(_(o,c),n=!0)},o(c){g(o,c),n=!1},d(c){c&&v(e),o&&o.d(c),l=!1,s()}}}function f9(r,e,t){let n,l;const s=["controller","style"];let i=Ye(e,s),o,a=j,u=()=>(a(),a=ue(n,k=>t(3,o=k)),n),c,f=j,m=()=>(f(),f=ue(l,k=>t(4,c=k)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{$$slots:d={},$$scope:p}=e,{controller:h=new ko}=e,{style:b=void 0}=e;function $(){const k=document.querySelector(`#${o}`);k==null||k.focus()}return r.$$set=k=>{e=le(le({},e),_t(k)),t(6,i=Ye(e,s)),"controller"in k&&t(7,h=k.controller),"style"in k&&t(0,b=k.style),"$$scope"in k&&t(8,p=k.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&Pf(h),r.$$.dirty&128&&u(t(2,{inputId:n,disabled:l}=h,n,m(t(1,l))))},[b,l,n,o,c,$,i,h,p,d]}class fi extends x{constructor(e){super(),J(this,e,f9,c9,Q,{controller:7,style:0})}}const m9=r=>({}),Yd=r=>({}),d9=r=>({}),Gd=r=>({});function _9(r){var k,T;let e,t,n=((k=r[0])!=null?k:"")+"",l,s,i,o,a,u=((T=r[1])!=null?T:"")+"",c,f;const m=r[3].label,d=Ie(m,r,r[4],Gd),p=r[3].default,h=Ie(p,r,r[4],null),b=r[3].help,$=Ie(b,r,r[4],Yd);return{c(){e=M("span"),t=M("span"),l=q(n),d&&d.c(),s=N(),i=M("span"),h&&h.c(),o=N(),a=M("span"),c=q(u),$&&$.c(),D(t,"class","label"),D(i,"class","input"),D(a,"class","help"),D(e,"class","label-content")},m(E,A){w(E,e,A),I(e,t),I(t,l),d&&d.m(t,null),I(e,s),I(e,i),h&&h.m(i,null),I(e,o),I(e,a),I(a,c),$&&$.m(a,null),f=!0},p(E,A){var P,O;(!f||A&1)&&n!==(n=((P=E[0])!=null?P:"")+"")&&Y(l,n),d&&d.p&&(!f||A&16)&&Ae(d,m,E,E[4],f?Me(m,E[4],A,d9):Pe(E[4]),Gd),h&&h.p&&(!f||A&16)&&Ae(h,p,E,E[4],f?Me(p,E[4],A,null):Pe(E[4]),null),(!f||A&2)&&u!==(u=((O=E[1])!=null?O:"")+"")&&Y(c,u),$&&$.p&&(!f||A&16)&&Ae($,b,E,E[4],f?Me(b,E[4],A,m9):Pe(E[4]),Yd)},i(E){f||(_(d,E),_(h,E),_($,E),f=!0)},o(E){g(d,E),g(h,E),g($,E),f=!1},d(E){E&&v(e),d&&d.d(E),h&&h.d(E),$&&$.d(E)}}}function p9(r){let e,t,n;return t=new fi({props:{$$slots:{default:[_9]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","labeled-input"),re(e,"layout-stacked",r[2]==="stacked"),re(e,"layout-inline",r[2]==="inline"),re(e,"layout-inline-input-first",r[2]==="inline-input-first")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&19&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&4)&&re(e,"layout-stacked",l[2]==="stacked"),(!n||s&4)&&re(e,"layout-inline",l[2]==="inline"),(!n||s&4)&&re(e,"layout-inline-input-first",l[2]==="inline-input-first")},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function g9(r,e,t){let{$$slots:n={},$$scope:l}=e,{label:s=void 0}=e,{help:i=void 0}=e,{layout:o="inline"}=e;return r.$$set=a=>{"label"in a&&t(0,s=a.label),"help"in a&&t(1,i=a.help),"layout"in a&&t(2,o=a.layout),"$$scope"in a&&t(4,l=a.$$scope)},[s,i,o,n,l]}class hn extends x{constructor(e){super(),J(this,e,g9,p9,Q,{label:0,help:1,layout:2})}}function h9(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","margin-trim svelte-1hehqd7")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function b9(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class $9 extends x{constructor(e){super(),J(this,e,b9,h9,Q,{})}}function v9(r){let e,t,n;const l=[r[0]];var s=r[1];function i(o){let a={};for(let u=0;u<l.length;u+=1)a=le(a,l[u]);return{props:a}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=oe()},m(o,a){e&&y(e,o,a),w(o,t,a),n=!0},p(o,[a]){const u=a&1?de(l,[$e(o[0])]):{};if(s!==(s=o[1])){if(e){G();const c=e;g(c.$$.fragment,1,0,()=>{S(c,1)}),K()}s?(e=new s(i()),C(e.$$.fragment),_(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&g(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&S(e,o)}}}function w9(r,e,t){let n,l,{componentWithProps:s}=e;return r.$$set=i=>{"componentWithProps"in i&&t(2,s=i.componentWithProps)},r.$$.update=()=>{r.$$.dirty&4&&t(1,n=s.component),r.$$.dirty&4&&t(0,l=s.props)},[l,n,s]}class k9 extends x{constructor(e){super(),J(this,e,w9,v9,Q,{componentWithProps:2})}}function Kd(r,e,t){const n=r.slice();return n[1]=e[t],n}function y9(r){let e,t;return e=new k9({props:{componentWithProps:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.componentWithProps=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function S9(r){let e,t,n,l;const s=[I9,D9,E9],i=[];function o(a,u){return a[0].length===0?0:a[0].length===1?1:2}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function C9(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},i:j,o:j,d(t){t&&v(e)}}}function T9(r){let e="",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p:j,i:j,o:j,d(n){n&&v(t)}}}function E9(r){let e,t;return e=new $9({props:{$$slots:{default:[M9]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function D9(r){let e=r[0][0]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0][0]+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function I9(r){let e="",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p:j,i:j,o:j,d(n){n&&v(t)}}}function Xd(r){let e,t=r[1]+"",n;return{c(){e=M("p"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[1]+"")&&Y(n,t)},d(l){l&&v(e)}}}function M9(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=Xd(Kd(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=oe()},m(l,s){for(let i=0;i<n.length;i+=1)n[i].m(l,s);w(l,e,s)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=Kd(l,t,i);n[i]?n[i].p(o,s):(n[i]=Xd(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){jn(n,l),l&&v(e)}}}function A9(r){let e,t,n,l,s;const i=[T9,C9,S9,y9],o=[];function a(u,c){return c&1&&(e=null),u[0]===void 0?0:typeof u[0]=="string"?1:(e==null&&(e=!!Array.isArray(u[0])),e?2:3)}return t=a(r,-1),n=o[t]=i[t](r),{c(){n.c(),l=oe()},m(u,c){o[t].m(u,c),w(u,l,c),s=!0},p(u,[c]){let f=t;t=a(u,c),t===f?o[t].p(u,c):(G(),g(o[f],1,1,()=>{o[f]=null}),K(),n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),_(n,1),n.m(l.parentNode,l))},i(u){s||(_(n),s=!0)},o(u){g(n),s=!1},d(u){o[t].d(u),u&&v(l)}}}function P9(r,e,t){let{arg:n=void 0}=e;return r.$$set=l=>{"arg"in l&&t(0,n=l.arg)},[n]}class R9 extends x{constructor(e){super(),J(this,e,P9,A9,Q,{arg:0})}}function Qd(r,e,t){const n=r.slice();return n[2]=e[t],n}function O9(r){let e,t,n;const l=[r[1]];var s=r[0].component;function i(o){let a={};for(let u=0;u<l.length;u+=1)a=le(a,l[u]);return{props:a}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=oe()},m(o,a){e&&y(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&2?de(l,[$e(o[1])]):{};if(s!==(s=o[0].component)){if(e){G();const c=e;g(c.$$.fragment,1,0,()=>{S(c,1)}),K()}s?(e=new s(i()),C(e.$$.fragment),_(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&g(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&S(e,o)}}}function L9(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=Zd(Qd(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=oe()},m(l,s){for(let i=0;i<n.length;i+=1)n[i].m(l,s);w(l,e,s)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=Qd(l,t,i);n[i]?n[i].p(o,s):(n[i]=Zd(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},i:j,o:j,d(l){jn(n,l),l&&v(e)}}}function N9(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},i:j,o:j,d(t){t&&v(e)}}}function Zd(r){let e,t=r[2]+"",n;return{c(){e=M("p"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[2]+"")&&Y(n,t)},d(l){l&&v(e)}}}function F9(r){let e,t,n,l,s;const i=[N9,L9,O9],o=[];function a(u,c){return c&1&&(e=null),typeof u[0]=="string"?0:(e==null&&(e=!!Array.isArray(u[0])),e?1:2)}return t=a(r,-1),n=o[t]=i[t](r),{c(){n.c(),l=oe()},m(u,c){o[t].m(u,c),w(u,l,c),s=!0},p(u,[c]){let f=t;t=a(u,c),t===f?o[t].p(u,c):(G(),g(o[f],1,1,()=>{o[f]=null}),K(),n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),_(n,1),n.m(l.parentNode,l))},i(u){s||(_(n),s=!0)},o(u){g(n),s=!1},d(u){o[t].d(u),u&&v(l)}}}function H9(r,e,t){let n,{arg:l}=e;return r.$$set=s=>{"arg"in s&&t(0,l=s.arg)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=Jl(l,"props")&&Fw(l.props)?l.props:{})},[l,n]}class ol extends x{constructor(e){super(),J(this,e,H9,F9,Q,{arg:0})}}const z9=r=>({option:r&2,disabled:r&146}),Jd=r=>({option:r[14],disabled:r[7](r[14])||r[4]});function xd(r,e,t){const n=r.slice();n[14]=e[t];const l=n[8](n[14]);return n[15]=l,n}const V9=r=>({option:r&2,disabled:r&146}),e_=r=>({option:r[14],disabled:r[7](r[14])||r[4]}),q9=r=>({option:r&2,disabled:r&146}),t_=r=>({option:r[14],disabled:r[7](r[14])||r[4]});function n_(r){let e,t,n,l=r[9].label&&r_(r),s=r[2]&&l_(r);return{c(){e=M("legend"),l&&l.c(),t=N(),s&&s.c()},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,o){i[9].label?l?(l.p(i,o),o&512&&_(l,1)):(l=r_(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[2]?s?s.p(i,o):(s=l_(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(i){n||(_(l),n=!0)},o(i){g(l),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function r_(r){let e;const t=r[11].label,n=Ie(t,r,r[13],t_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8338)&&Ae(n,t,l,l[13],e?Me(t,l[13],s,q9):Pe(l[13]),t_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function l_(r){let e;return{c(){e=q(r[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&Y(e,t[2])},d(t){t&&v(e)}}}function B9(r){let e;const t=r[11].default,n=Ie(t,r,r[13],e_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8338)&&Ae(n,t,l,l[13],e?Me(t,l[13],s,V9):Pe(l[13]),e_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function U9(r){let e,t;return e=new ol({props:{slot:"label",arg:r[5](r[14])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&34&&(s.arg=n[5](n[14])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function W9(r){let e,t;return e=new R9({props:{slot:"help",arg:r[15]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&258&&(s.arg=n[15]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function s_(r,e){let t,n,l,s;return n=new hn({props:{layout:"inline-input-first",$$slots:{help:[W9],label:[U9],default:[B9]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=M("li"),C(n.$$.fragment),l=N(),D(t,"class","option"),re(t,"has-help",!!e[15]),this.first=t},m(i,o){w(i,t,o),y(n,t,null),I(t,l),s=!0},p(i,o){e=i;const a={};o&8626&&(a.$$scope={dirty:o,ctx:e}),n.$set(a),(!s||o&258)&&re(t,"has-help",!!e[15])},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&v(t),S(n)}}}function j9(r){let e,t,n,l=[],s=new Map,i,o,a,u,c=(r[9].label||r[2])&&n_(r),f=r[1];const m=h=>h[14];for(let h=0;h<f.length;h+=1){let b=xd(r,f,h),$=m(b);s.set($,l[h]=s_($,b))}const d=r[11].extra,p=Ie(d,r,r[13],Jd);return{c(){e=M("fieldset"),c&&c.c(),t=N(),n=M("ul");for(let h=0;h<l.length;h+=1)l[h].c();i=N(),p&&p.c(),D(n,"class","options"),D(e,"class","fieldset-group"),D(e,"aria-label",r[3]),re(e,"inline",r[0]),re(e,"boxed",r[6]),re(e,"has-label",!!r[2])},m(h,b){w(h,e,b),c&&c.m(e,null),I(e,t),I(e,n);for(let $=0;$<l.length;$+=1)l[$].m(n,null);I(e,i),p&&p.m(e,null),o=!0,a||(u=He(e,"change",r[12]),a=!0)},p(h,[b]){h[9].label||h[2]?c?(c.p(h,b),b&516&&_(c,1)):(c=n_(h),c.c(),_(c,1),c.m(e,t)):c&&(G(),g(c,1,1,()=>{c=null}),K()),b&8626&&(f=h[1],G(),l=gt(l,b,m,1,h,f,s,n,bt,s_,null,xd),K()),p&&p.p&&(!o||b&8338)&&Ae(p,d,h,h[13],o?Me(d,h[13],b,z9):Pe(h[13]),Jd),(!o||b&8)&&D(e,"aria-label",h[3]),(!o||b&1)&&re(e,"inline",h[0]),(!o||b&64)&&re(e,"boxed",h[6]),(!o||b&4)&&re(e,"has-label",!!h[2])},i(h){if(!o){_(c);for(let b=0;b<f.length;b+=1)_(l[b]);_(p,h),o=!0}},o(h){g(c);for(let b=0;b<l.length;b+=1)g(l[b]);g(p,h),o=!1},d(h){h&&v(e),c&&c.d();for(let b=0;b<l.length;b+=1)l[b].d();p&&p.d(h),a=!1,u()}}}function Y9(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n);let{isInline:i=!1}=e,{options:o=[]}=e,{label:a=void 0}=e,{ariaLabel:u=void 0}=e,{disabled:c=!1}=e,{labelKey:f="label"}=e,{getLabel:m=$=>ui($,f)}=e,{boxed:d=!1}=e,{getDisabled:p=()=>!1}=e,{getHelp:h=()=>{}}=e;function b($){ye.call(this,r,$)}return r.$$set=$=>{"isInline"in $&&t(0,i=$.isInline),"options"in $&&t(1,o=$.options),"label"in $&&t(2,a=$.label),"ariaLabel"in $&&t(3,u=$.ariaLabel),"disabled"in $&&t(4,c=$.disabled),"labelKey"in $&&t(10,f=$.labelKey),"getLabel"in $&&t(5,m=$.getLabel),"boxed"in $&&t(6,d=$.boxed),"getDisabled"in $&&t(7,p=$.getDisabled),"getHelp"in $&&t(8,h=$.getHelp),"$$scope"in $&&t(13,l=$.$$scope)},[i,o,a,u,c,m,d,p,h,s,f,n,b,l]}class l6 extends x{constructor(e){super(),J(this,e,Y9,j9,Q,{isInline:0,options:1,label:2,ariaLabel:3,disabled:4,labelKey:10,getLabel:5,boxed:6,getDisabled:7,getHelp:8})}}const G9=r=>({}),i_=r=>({slot:"label"});function K9(r){let e,t;function n(...s){return r[13](r[17],...s)}function l(...s){return r[14](r[17],...s)}return e=new Al({props:{checked:r[0].some(n),disabled:r[18]}}),e.$on("change",l),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){r=s;const o={};i&131585&&(o.checked=r[0].some(n)),i&262144&&(o.disabled=r[18]),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function X9(r){let e;const t=r[12].default,n=Ie(t,r,r[16],i_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ae(n,t,l,l[16],e?Me(t,l[16],s,G9):Pe(l[16]),i_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Q9(r){let e,t;return e=new l6({props:{isInline:r[1],options:r[2],label:r[3],ariaLabel:r[4],disabled:r[10],labelKey:r[5],getLabel:r[6],getHelp:r[7],getDisabled:r[8],$$slots:{label:[X9,({option:n,disabled:l})=>({17:n,18:l}),({option:n,disabled:l})=>(n?131072:0)|(l?262144:0)],default:[K9,({option:n,disabled:l})=>({17:n,18:l}),({option:n,disabled:l})=>(n?131072:0)|(l?262144:0)]},$$scope:{ctx:r}}}),e.$on("change",r[15]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.isInline=n[1]),l&4&&(s.options=n[2]),l&8&&(s.label=n[3]),l&16&&(s.ariaLabel=n[4]),l&1024&&(s.disabled=n[10]),l&32&&(s.labelKey=n[5]),l&64&&(s.getLabel=n[6]),l&128&&(s.getHelp=n[7]),l&256&&(s.getDisabled=n[8]),l&459265&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z9(r,e,t){let{$$slots:n={},$$scope:l}=e,{values:s=[]}=e,{isInline:i=!1}=e,{options:o=[]}=e,{label:a=void 0}=e,{ariaLabel:u=void 0}=e,{checkboxLabelKey:c=void 0}=e,{getCheckboxLabel:f=void 0}=e,{getCheckboxHelp:m=()=>{}}=e,{getCheckboxDisabled:d=()=>!1}=e,{valuesAreEqual:p=(E,A)=>E===A}=e,{disabled:h=!1}=e;function b(E,A){A?t(0,s=[...s,E]):t(0,s=s.filter(P=>!p(P,E)))}const $=(E,A)=>p(A,E),k=(E,{detail:A})=>b(E,A);function T(E){ye.call(this,r,E)}return r.$$set=E=>{"values"in E&&t(0,s=E.values),"isInline"in E&&t(1,i=E.isInline),"options"in E&&t(2,o=E.options),"label"in E&&t(3,a=E.label),"ariaLabel"in E&&t(4,u=E.ariaLabel),"checkboxLabelKey"in E&&t(5,c=E.checkboxLabelKey),"getCheckboxLabel"in E&&t(6,f=E.getCheckboxLabel),"getCheckboxHelp"in E&&t(7,m=E.getCheckboxHelp),"getCheckboxDisabled"in E&&t(8,d=E.getCheckboxDisabled),"valuesAreEqual"in E&&t(9,p=E.valuesAreEqual),"disabled"in E&&t(10,h=E.disabled),"$$scope"in E&&t(16,l=E.$$scope)},[s,i,o,a,u,c,f,m,d,p,h,b,n,$,k,T,l]}class J9 extends x{constructor(e){super(),J(this,e,Z9,Q9,Q,{values:0,isInline:1,options:2,label:3,ariaLabel:4,checkboxLabelKey:5,getCheckboxLabel:6,getCheckboxHelp:7,getCheckboxDisabled:8,valuesAreEqual:9,disabled:10})}}function x9(r){let e,t,n;const l=r[5].default,s=Ie(l,r,r[4],null);return{c(){e=M("span"),s&&s.c(),D(e,"class",t="chip display-"+r[1]+" "+r[2]),Cn(e,"background",r[0],!1)},m(i,o){w(i,e,o),s&&s.m(e,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&16)&&Ae(s,l,i,i[4],n?Me(l,i[4],o,null):Pe(i[4]),null),(!n||o&6&&t!==(t="chip display-"+i[1]+" "+i[2]))&&D(e,"class",t),o&1&&Cn(e,"background",i[0],!1)},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(e),s&&s.d(i)}}}function eT(r,e,t){let{$$slots:n={},$$scope:l}=e,{textShade:s="dark"}=e,{background:i=(()=>{const u=kd(0,359),c=kd(0,100);return`hsl(${u}, ${c}%, ${s==="dark"?85:40}%)`})()}=e,{display:o="block"}=e,{class:a=""}=e;return r.$$set=u=>{"textShade"in u&&t(3,s=u.textShade),"background"in u&&t(0,i=u.background),"display"in u&&t(1,o=u.display),"class"in u&&t(2,a=u.class),"$$scope"in u&&t(4,l=u.$$scope)},[i,o,a,s,l,n]}class s6 extends x{constructor(e){super(),J(this,e,eT,x9,Q,{textShade:3,background:0,display:1,class:2})}}const tT=r=>({}),o_=r=>({}),nT=r=>({}),a_=r=>({}),rT=r=>({}),u_=r=>({}),lT=r=>({isOpen:r&1}),c_=r=>({toggle:r[2],isOpen:r[0]});function sT(r){let e,t,n,l;const s=[ar,{size:"0.9rem"},{rotate:r[0]?void 0:270}];let i={};for(let u=0;u<s.length;u+=1)i=le(i,s[u]);e=new Be({props:i});const o=r[3].header,a=Ie(o,r,r[4],u_);return{c(){C(e.$$.fragment),t=N(),n=M("div"),a&&a.c(),D(n,"class","collapsible-header-title")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),a&&a.m(n,null),l=!0},p(u,c){const f=c&1?de(s,[c&0&&$e(ar),s[1],c&1&&{rotate:u[0]?void 0:270}]):{};e.$set(f),a&&a.p&&(!l||c&16)&&Ae(a,o,u,u[4],l?Me(o,u[4],c,rT):Pe(u[4]),u_)},i(u){l||(_(e.$$.fragment,u),_(a,u),l=!0)},o(u){g(e.$$.fragment,u),g(a,u),l=!1},d(u){S(e,u),u&&v(t),u&&v(n),a&&a.d(u)}}}function iT(r){let e,t;return e=new dt({props:{appearance:r[1],class:"collapsible-header-btn",$$slots:{default:[sT]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.appearance=n[1]),l&17&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function f_(r){let e,t;const n=r[3].content,l=Ie(n,r,r[4],o_);return{c(){e=M("div"),l&&l.c(),D(e,"class","collapsible-content")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&16)&&Ae(l,n,s,s[4],t?Me(n,s[4],i,tT):Pe(s[4]),o_)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function oT(r){let e,t,n,l,s;const i=r[3].trigger,o=Ie(i,r,r[4],c_),a=o||iT(r),u=r[3]["trigger-aside"],c=Ie(u,r,r[4],a_);let f=r[0]&&f_(r);return{c(){e=M("div"),t=M("div"),a&&a.c(),n=N(),c&&c.c(),l=N(),f&&f.c(),D(t,"class","collapsible-header"),D(e,"class","collapsible")},m(m,d){w(m,e,d),I(e,t),a&&a.m(t,null),I(t,n),c&&c.m(t,null),I(e,l),f&&f.m(e,null),s=!0},p(m,[d]){o?o.p&&(!s||d&17)&&Ae(o,i,m,m[4],s?Me(i,m[4],d,lT):Pe(m[4]),c_):a&&a.p&&(!s||d&19)&&a.p(m,s?d:-1),c&&c.p&&(!s||d&16)&&Ae(c,u,m,m[4],s?Me(u,m[4],d,nT):Pe(m[4]),a_),m[0]?f?(f.p(m,d),d&1&&_(f,1)):(f=f_(m),f.c(),_(f,1),f.m(e,null)):f&&(G(),g(f,1,1,()=>{f=null}),K())},i(m){s||(_(a,m),_(c,m),_(f),s=!0)},o(m){g(a,m),g(c,m),g(f),s=!1},d(m){m&&v(e),a&&a.d(m),c&&c.d(m),f&&f.d()}}}function aT(r,e,t){let{$$slots:n={},$$scope:l}=e,{isOpen:s=!1}=e,{triggerAppearance:i="default"}=e;function o(){t(0,s=!s)}return r.$$set=a=>{"isOpen"in a&&t(0,s=a.isOpen),"triggerAppearance"in a&&t(1,i=a.triggerAppearance),"$$scope"in a&&t(4,l=a.$$scope)},[s,i,o,n,l]}class Nn extends x{constructor(e){super(),J(this,e,aT,oT,Q,{isOpen:0,triggerAppearance:1})}}class uT{constructor(e){ce(this,"inputs");ce(this,"output");this.inputs=new fa,this.output=C7(at(this.inputs,t=>at(Ri([...t]),e)))}registerInput(e){const t=lr(e);return this.inputs.add(t),()=>this.inputs.delete(t)}subscribe(e,t){return this.output.subscribe(e,t)}}const i6=Symbol("menu alignment stores context");function m_(){return new uT(r=>r.some(e=>e))}function cT(){return{hasControlColumn:m_(),hasIconColumn:m_()}}function o6(){return Fn(i6)}function fT(){if(o6()!==void 0)throw Error("MenuController context has already been set");const r=cT();return xn(i6,r),r}function mT(r){let e,t;const n=r[11].default,l=Ie(n,r,r[10],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","menu"),D(e,"role","menu"),D(e,"style",r[0]),re(e,"has-icon",r[1]),re(e,"has-control",r[2])},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1024)&&Ae(l,n,s,s[10],t?Me(n,s[10],i,null):Pe(s[10]),null),(!t||i&1)&&D(e,"style",s[0]),(!t||i&2)&&re(e,"has-icon",s[1]),(!t||i&4)&&re(e,"has-control",s[2])},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function dT(r,e,t){let n,l,s,i,{$$slots:o={},$$scope:a}=e;const u=fT(),{hasControlColumn:c,hasIconColumn:f}=u;Z(r,c,b=>t(2,i=b)),Z(r,f,b=>t(1,s=b));let{style:m=void 0}=e,{iconWidth:d="1em"}=e,{controlWidth:p="1em"}=e,{cssVariables:h=void 0}=e;return r.$$set=b=>{"style"in b&&t(5,m=b.style),"iconWidth"in b&&t(6,d=b.iconWidth),"controlWidth"in b&&t(7,p=b.controlWidth),"cssVariables"in b&&t(8,h=b.cssVariables),"$$scope"in b&&t(10,a=b.$$scope)},r.$$.update=()=>{r.$$.dirty&256&&t(9,n=h?Ji(h):""),r.$$.dirty&736&&t(0,l=Bw(Ji({"--Menu__icon-width":d,"--Menu__control-width":p}),n,m))},[l,s,i,c,f,m,d,p,h,n,a,o]}class Rf extends x{constructor(e){super(),J(this,e,dT,mT,Q,{style:5,iconWidth:6,controlWidth:7,cssVariables:8})}}function d_(r){let e,t,n,l,s,i;return t=new Rf({props:{$$slots:{default:[_T]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","context-menu dropdown content")},m(o,a){w(o,e,a),y(t,e,null),l=!0,s||(i=[Dn(Ww.call(null,e,{callback:r[3]})),Dn(n=Df.call(null,e,{reference:__(r[2])})),Dn(ci.call(null,e)),He(e,"click",r[4])],s=!0)},p(o,a){const u={};a&512&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),n&&Pt(n.update)&&a&4&&n.update.call(null,{reference:__(o[2])})},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&v(e),S(t),s=!1,It(i)}}}function _T(r){let e;const t=r[7].default,n=Ie(t,r,r[9],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&512)&&Ae(n,t,l,l[9],e?Me(t,l[9],s,null):Pe(l[9]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function pT(r){let e,t,n=r[0]&&d_(r);return{c(){e=M("div"),n&&n.c(),D(e,"class","context-menu-wrapper")},m(l,s){w(l,e,s),n&&n.m(e,null),r[8](e),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&_(n,1)):(n=d_(l),n.c(),_(n,1),n.m(e,null)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){l&&v(e),n&&n.d(),r[8](null)}}}function __(r){const{x:e,y:t}=r;return{getBoundingClientRect:()=>({width:0,height:0,x:e,y:t,top:t,right:e,bottom:t,left:e,toJSON:()=>({x:e,y:t})})}}function gT(r,e,t){let{$$slots:n={},$$scope:l}=e,{triggerElement:s=void 0}=e,{closeOnInnerClick:i=!0}=e,o=!1,a,u={x:0,y:0};function c(h){h.preventDefault(),t(2,u={x:h.clientX,y:h.clientY}),t(0,o=!o)}_n(()=>{var b;const h=(b=s!=null?s:a==null?void 0:a.parentElement)!=null?b:void 0;return h?(h.addEventListener("contextmenu",c),()=>{h.removeEventListener("contextmenu",c)}):()=>{}});function f(){t(0,o=!1)}function m(){i&&f()}function d(h){h.key==="Escape"&&o&&f(),h.stopPropagation()}function p(h){Te[h?"unshift":"push"](()=>{a=h,t(1,a)})}return r.$$set=h=>{"triggerElement"in h&&t(5,s=h.triggerElement),"closeOnInnerClick"in h&&t(6,i=h.closeOnInnerClick),"$$scope"in h&&t(9,l=h.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&(o?document.addEventListener("keydown",d,{capture:!0}):document.removeEventListener("keydown",d,{capture:!0}))},[o,a,u,f,m,s,i,n,p,l]}class Of extends x{constructor(e){super(),J(this,e,gT,pT,Q,{triggerElement:5,closeOnInnerClick:6})}}const hT=r=>({}),p_=r=>({handleNewValue:r[0]});function bT(r){let e;const t=r[4].default,n=Ie(t,r,r[3],p_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&8)&&Ae(n,t,l,l[3],e?Me(t,l[3],s,hT):Pe(l[3]),p_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function $T(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ht();let{duration:i=300}=e,{value:o=void 0}=e,a;function u(f){o!==f&&(t(1,o=f),s("artificialInput",f),s("artificialChange",f))}function c({value:f,debounce:m}){clearTimeout(a),m?a=window.setTimeout(()=>{u(f)},i):u(f)}return Dl(()=>clearTimeout(a)),r.$$set=f=>{"duration"in f&&t(2,i=f.duration),"value"in f&&t(1,o=f.value),"$$scope"in f&&t(3,l=f.$$scope)},[c,o,i,l,n]}class vT extends x{constructor(e){super(),J(this,e,$T,bT,Q,{duration:2,value:1})}}class wT{constructor(e){ce(this,"elements",xe(new Set));ce(this,"parent");this.parent=e}add(e){var t;return this.elements.update(n=>{const l=new Set(n);return l.add(e),l}),(t=this.parent)==null||t.add(e),()=>this.delete(e)}delete(e){var t;this.elements.update(n=>{const l=new Set(n);return l.delete(e),l}),(t=this.parent)==null||t.delete(e)}subscribe(e){return this.elements.subscribe(e)}}const kT=r=>({}),g_=r=>({close:r[8]});function h_(r){let e,t,n,l,s,i,o,a;const u=[ST,yT],c=[];function f(m,d){return m[10].default?0:m[3]?1:-1}return~(t=f(r))&&(n=c[t]=u[t](r)),{c(){e=M("div"),n&&n.c(),D(e,"class",l=["dropdown content",r[2]].join(" "))},m(m,d){w(m,e,d),~t&&c[t].m(e,null),r[18](e),i=!0,o||(a=[Dn(ci.call(null,e)),Dn(s=Df.call(null,e,{reference:r[1],options:{placement:r[4],modifiers:[{name:"flip",options:{fallbackPlacements:r[6]}}]}})),Dn(Ww.call(null,e,{callback:r[8],references:r[7]})),He(e,"click",r[9]),He(e,"mouseenter",r[16]),He(e,"mouseleave",r[17])],o=!0)},p(m,d){let p=t;t=f(m),t===p?~t&&c[t].p(m,d):(n&&(G(),g(c[p],1,1,()=>{c[p]=null}),K()),~t?(n=c[t],n?n.p(m,d):(n=c[t]=u[t](m),n.c()),_(n,1),n.m(e,null)):n=null),(!i||d&4&&l!==(l=["dropdown content",m[2]].join(" ")))&&D(e,"class",l),s&&Pt(s.update)&&d&82&&s.update.call(null,{reference:m[1],options:{placement:m[4],modifiers:[{name:"flip",options:{fallbackPlacements:m[6]}}]}})},i(m){i||(_(n),i=!0)},o(m){g(n),i=!1},d(m){m&&v(e),~t&&c[t].d(),r[18](null),o=!1,It(a)}}}function yT(r){let e,t;return e=new ol({props:{arg:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.arg=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ST(r){let e;const t=r[15].default,n=Ie(t,r,r[14],g_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ae(n,t,l,l[14],e?Me(t,l[14],s,kT):Pe(l[14]),g_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function CT(r){let e,t,n=r[0]&&h_(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&_(n,1)):(n=h_(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function TT(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const o=ur(s),a=ht();let{trigger:u=void 0}=e,{placements:c=["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]}=e,{preferredPlacement:f=void 0}=e,{isOpen:m=!1}=e,{class:d=""}=e,{closeOnInnerClick:p=!1}=e,{content:h=void 0}=e,b;const $=Fn("dropdownAccompanyingElements");async function k(){b||await on(),b&&($==null||$.add(b))}async function T(){b||await on(),b&&($==null||$.delete(b))}Dl(T);const E=new wT($);xn("dropdownAccompanyingElements",E);const A=at(E,W=>[u,...W]);function P(W){W?(a("open"),k()):(a("close"),T())}function O(){t(0,m=!1)}function R(){p&&O()}function F(W){ye.call(this,r,W)}function L(W){ye.call(this,r,W)}function U(W){Te[W?"unshift":"push"](()=>{b=W,t(5,b)})}return r.$$set=W=>{"trigger"in W&&t(1,u=W.trigger),"placements"in W&&t(11,c=W.placements),"preferredPlacement"in W&&t(12,f=W.preferredPlacement),"isOpen"in W&&t(0,m=W.isOpen),"class"in W&&t(2,d=W.class),"closeOnInnerClick"in W&&t(13,p=W.closeOnInnerClick),"content"in W&&t(3,h=W.content),"$$scope"in W&&t(14,i=W.$$scope)},r.$$.update=()=>{var W;r.$$.dirty&6144&&t(4,n=(W=f!=null?f:c[0])!=null?W:"bottom-start"),r.$$.dirty&2064&&t(6,l=(()=>{const H=c.filter(z=>z!==n);if(H.length!==0)return H})()),r.$$.dirty&1&&P(m)},[m,u,d,h,n,b,l,A,O,R,o,c,f,p,i,s,F,L,U]}class gs extends x{constructor(e){super(),J(this,e,TT,CT,Q,{trigger:1,placements:11,preferredPlacement:12,isOpen:0,class:2,closeOnInnerClick:13,content:3})}}const ET=r=>({}),b_=r=>({}),DT=r=>({}),$_=r=>({});function IT(r){let e;const t=r[8].content,n=Ie(t,r,r[14],b_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ae(n,t,l,l[14],e?Me(t,l[14],s,ET):Pe(l[14]),b_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function MT(r){let e,t,n,l,s,i;const o=r[8].trigger,a=Ie(o,r,r[14],$_);let u=[{"aria-label":"Help"},r[6]],c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return n=new gs({props:{trigger:r[3],isOpen:r[5],placements:["top","right","bottom","left"],class:"tooltip "+r[0],$$slots:{default:[IT]},$$scope:{ctx:r}}}),n.$on("mouseenter",r[12]),n.$on("mouseleave",r[13]),{c(){e=M("span"),a&&a.c(),t=N(),C(n.$$.fragment),ct(e,c)},m(f,m){w(f,e,m),a&&a.m(e,null),r[9](e),w(f,t,m),y(n,f,m),l=!0,s||(i=[He(e,"mouseenter",r[10]),He(e,"mouseleave",r[11])],s=!0)},p(f,[m]){a&&a.p&&(!l||m&16384)&&Ae(a,o,f,f[14],l?Me(o,f[14],m,DT):Pe(f[14]),$_),ct(e,c=de(u,[{"aria-label":"Help"},m&64&&f[6]]));const d={};m&8&&(d.trigger=f[3]),m&32&&(d.isOpen=f[5]),m&1&&(d.class="tooltip "+f[0]),m&16384&&(d.$$scope={dirty:m,ctx:f}),n.$set(d)},i(f){l||(_(a,f),_(n.$$.fragment,f),l=!0)},o(f){g(a,f),g(n.$$.fragment,f),l=!1},d(f){f&&v(e),a&&a.d(f),r[9](null),f&&v(t),S(n,f),s=!1,It(i)}}}function AT(r,e,t){let n;const l=["tooltipClass","allowHover"];let s=Ye(e,l),{$$slots:i={},$$scope:o}=e,{tooltipClass:a=""}=e,{allowHover:u=!1}=e,c,f=!1,m=!1,d;function p(T){Te[T?"unshift":"push"](()=>{c=T,t(3,c)})}const h=()=>{window.clearTimeout(d),t(1,f=!0)},b=()=>{t(4,d=window.setTimeout(()=>{t(1,f=!1)},100))},$=()=>{t(2,m=!0)},k=()=>{t(2,m=!1)};return r.$$set=T=>{e=le(le({},e),_t(T)),t(6,s=Ye(e,l)),"tooltipClass"in T&&t(0,a=T.tooltipClass),"allowHover"in T&&t(7,u=T.allowHover),"$$scope"in T&&t(14,o=T.$$scope)},r.$$.update=()=>{r.$$.dirty&134&&t(5,n=f||u&&m)},[a,f,m,c,d,n,s,u,i,p,h,b,$,k,o]}class Lf extends x{constructor(e){super(),J(this,e,AT,MT,Q,{tooltipClass:0,allowHover:7})}}const PT=r=>({}),v_=r=>({slot:"content"});function RT(r){let e,t;const n=[{slot:"trigger"},Nd];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[n[0],$e(Nd)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function OT(r){let e;const t=r[0].default,n=Ie(t,r,r[1],v_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2)&&Ae(n,t,l,l[1],e?Me(t,l[1],s,PT):Pe(l[1]),v_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function LT(r){let e,t;return e=new Lf({props:{"aria-label":"Help",class:"help-trigger",allowHover:!0,$$slots:{content:[OT],trigger:[RT]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NT(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(1,l=s.$$scope)},[n,l]}class $r extends x{constructor(e){super(),J(this,e,NT,LT,Q,{})}}function FT(r){let e,t,n;const l=r[3].default,s=Ie(l,r,r[2],null);let i=[{class:t=["input-group",r[0]].join(" ")},r[1]],o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return{c(){e=M("div"),s&&s.c(),ct(e,o)},m(a,u){w(a,e,u),s&&s.m(e,null),n=!0},p(a,[u]){s&&s.p&&(!n||u&4)&&Ae(s,l,a,a[2],n?Me(l,a[2],u,null):Pe(a[2]),null),ct(e,o=de(i,[(!n||u&1&&t!==(t=["input-group",a[0]].join(" ")))&&{class:t},u&2&&a[1]]))},i(a){n||(_(s,a),n=!0)},o(a){g(s,a),n=!1},d(a){a&&v(e),s&&s.d(a)}}}function HT(r,e,t){const n=["class"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e,{class:o=""}=e;return r.$$set=a=>{e=le(le({},e),_t(a)),t(1,l=Ye(e,n)),"class"in a&&t(0,o=a.class),"$$scope"in a&&t(2,i=a.$$scope)},[o,l,i,s]}class mi extends x{constructor(e){super(),J(this,e,HT,FT,Q,{class:0})}}function zT(r){let e,t,n;const l=r[3].default,s=Ie(l,r,r[2],null);let i=[{class:t=["input-group-text",r[0]].join(" ")},r[1]],o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return{c(){e=M("span"),s&&s.c(),ct(e,o)},m(a,u){w(a,e,u),s&&s.m(e,null),n=!0},p(a,[u]){s&&s.p&&(!n||u&4)&&Ae(s,l,a,a[2],n?Me(l,a[2],u,null):Pe(a[2]),null),ct(e,o=de(i,[(!n||u&1&&t!==(t=["input-group-text",a[0]].join(" ")))&&{class:t},u&2&&a[1]]))},i(a){n||(_(s,a),n=!0)},o(a){g(s,a),n=!1},d(a){a&&v(e),s&&s.d(a)}}}function VT(r,e,t){const n=["class"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e,{class:o=""}=e;return r.$$set=a=>{e=le(le({},e),_t(a)),t(1,l=Ye(e,n)),"class"in a&&t(0,o=a.class),"$$scope"in a&&t(2,i=a.$$scope)},[o,l,i,s]}class a6 extends x{constructor(e){super(),J(this,e,VT,zT,Q,{class:0})}}function qT(r){let e,t,n,l,s,i,o,a;const u=[r[6]];function c(p){r[15](p)}let f={};for(let p=0;p<u.length;p+=1)f=le(f,u[p]);r[2]!==void 0&&(f.id=r[2]),e=new Ml({props:f}),Te.push(()=>Oe(e,"id",c));let m=[r[6],{style:r[5]},{type:"text"},{class:s=["input-element","text-input",r[3]].join(" ")},{id:r[2]}],d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return{c(){C(e.$$.fragment),n=N(),l=M("input"),ct(l,d),re(l,"has-error",r[4]),re(l,"read-only",r[6].readonly)},m(p,h){y(e,p,h),w(p,n,h),w(p,l,h),l.autofocus&&l.focus(),r[16](l),Bs(l,r[0]),i=!0,o||(a=[He(l,"input",r[17]),He(l,"input",r[9]),He(l,"focus",r[10]),He(l,"blur",r[11]),He(l,"keydown",r[12]),He(l,"beforeinput",r[13]),He(l,"change",r[14])],o=!0)},p(p,[h]){const b=h&64?de(u,[$e(p[6])]):{};!t&&h&4&&(t=!0,b.id=p[2],Ne(()=>t=!1)),e.$set(b),ct(l,d=de(m,[h&64&&p[6],(!i||h&32)&&{style:p[5]},{type:"text"},(!i||h&8&&s!==(s=["input-element","text-input",p[3]].join(" ")))&&{class:s},(!i||h&4)&&{id:p[2]}])),h&1&&l.value!==p[0]&&Bs(l,p[0]),re(l,"has-error",p[4]),re(l,"read-only",p[6].readonly)},i(p){i||(_(e.$$.fragment,p),i=!0)},o(p){g(e.$$.fragment,p),i=!1},d(p){S(e,p),p&&v(n),p&&v(l),r[16](null),o=!1,It(a)}}}function BT(r,e,t){let n,l;const s=["value","class","element","hasError","id","cssVariables"];let i=Ye(e,s),{value:o=""}=e,{class:a=""}=e,{element:u=void 0}=e,{hasError:c=!1}=e,{id:f=void 0}=e,{cssVariables:m=void 0}=e;function d(P){ye.call(this,r,P)}function p(P){ye.call(this,r,P)}function h(P){ye.call(this,r,P)}function b(P){ye.call(this,r,P)}function $(P){ye.call(this,r,P)}function k(P){ye.call(this,r,P)}function T(P){f=P,t(2,f)}function E(P){Te[P?"unshift":"push"](()=>{u=P,t(1,u)})}function A(){o=this.value,t(0,o)}return r.$$set=P=>{e=le(le({},e),_t(P)),t(6,i=Ye(e,s)),"value"in P&&t(0,o=P.value),"class"in P&&t(3,a=P.class),"element"in P&&t(1,u=P.element),"hasError"in P&&t(4,c=P.hasError),"id"in P&&t(2,f=P.id),"cssVariables"in P&&t(7,m=P.cssVariables)},r.$$.update=()=>{r.$$.dirty&128&&t(8,n=m?Ji(m):""),t(5,l=Bw(n,i.style))},[o,u,f,a,c,l,i,m,n,d,p,h,b,$,k,T,E,A]}class gn extends x{constructor(e){super(),J(this,e,BT,qT,Q,{value:0,class:3,element:1,hasError:4,id:2,cssVariables:7})}}var tl=-1,qr=1,ir=0;function xi(r,e,t,n){if(r===e)return r?[[ir,r]]:[];if(t!=null){var l=GT(r,e,t);if(l)return l}var s=Nf(r,e),i=r.substring(0,s);r=r.substring(s),e=e.substring(s),s=Ff(r,e);var o=r.substring(r.length-s);r=r.substring(0,r.length-s),e=e.substring(0,e.length-s);var a=UT(r,e);return i&&a.unshift([ir,i]),o&&a.push([ir,o]),u6(a,n),a}function UT(r,e){var t;if(!r)return[[qr,e]];if(!e)return[[tl,r]];var n=r.length>e.length?r:e,l=r.length>e.length?e:r,s=n.indexOf(l);if(s!==-1)return t=[[qr,n.substring(0,s)],[ir,l],[qr,n.substring(s+l.length)]],r.length>e.length&&(t[0][0]=t[2][0]=tl),t;if(l.length===1)return[[tl,r],[qr,e]];var i=jT(r,e);if(i){var o=i[0],a=i[1],u=i[2],c=i[3],f=i[4],m=xi(o,u),d=xi(a,c);return m.concat([[ir,f]],d)}return WT(r,e)}function WT(r,e){for(var t=r.length,n=e.length,l=Math.ceil((t+n)/2),s=l,i=2*l,o=new Array(i),a=new Array(i),u=0;u<i;u++)o[u]=-1,a[u]=-1;o[s+1]=0,a[s+1]=0;for(var c=t-n,f=c%2!==0,m=0,d=0,p=0,h=0,b=0;b<l;b++){for(var $=-b+m;$<=b-d;$+=2){var k=s+$,T;$===-b||$!==b&&o[k-1]<o[k+1]?T=o[k+1]:T=o[k-1]+1;for(var E=T-$;T<t&&E<n&&r.charAt(T)===e.charAt(E);)T++,E++;if(o[k]=T,T>t)d+=2;else if(E>n)m+=2;else if(f){var A=s+c-$;if(A>=0&&A<i&&a[A]!==-1){var P=t-a[A];if(T>=P)return w_(r,e,T,E)}}}for(var O=-b+p;O<=b-h;O+=2){var A=s+O,P;O===-b||O!==b&&a[A-1]<a[A+1]?P=a[A+1]:P=a[A-1]+1;for(var R=P-O;P<t&&R<n&&r.charAt(t-P-1)===e.charAt(n-R-1);)P++,R++;if(a[A]=P,P>t)h+=2;else if(R>n)p+=2;else if(!f){var k=s+c-O;if(k>=0&&k<i&&o[k]!==-1){var T=o[k],E=s+T-k;if(P=t-P,T>=P)return w_(r,e,T,E)}}}}return[[tl,r],[qr,e]]}function w_(r,e,t,n){var l=r.substring(0,t),s=e.substring(0,n),i=r.substring(t),o=e.substring(n),a=xi(l,s),u=xi(i,o);return a.concat(u)}function Nf(r,e){if(!r||!e||r.charAt(0)!==e.charAt(0))return 0;for(var t=0,n=Math.min(r.length,e.length),l=n,s=0;t<l;)r.substring(s,l)==e.substring(s,l)?(t=l,s=t):n=l,l=Math.floor((n-t)/2+t);return c6(r.charCodeAt(l-1))&&l--,l}function Ff(r,e){if(!r||!e||r.slice(-1)!==e.slice(-1))return 0;for(var t=0,n=Math.min(r.length,e.length),l=n,s=0;t<l;)r.substring(r.length-l,r.length-s)==e.substring(e.length-l,e.length-s)?(t=l,s=t):n=l,l=Math.floor((n-t)/2+t);return f6(r.charCodeAt(r.length-l))&&l--,l}function jT(r,e){var t=r.length>e.length?r:e,n=r.length>e.length?e:r;if(t.length<4||n.length*2<t.length)return null;function l(d,p,h){for(var b=d.substring(h,h+Math.floor(d.length/4)),$=-1,k="",T,E,A,P;($=p.indexOf(b,$+1))!==-1;){var O=Nf(d.substring(h),p.substring($)),R=Ff(d.substring(0,h),p.substring(0,$));k.length<R+O&&(k=p.substring($-R,$)+p.substring($,$+O),T=d.substring(0,h-R),E=d.substring(h+O),A=p.substring(0,$-R),P=p.substring($+O))}return k.length*2>=d.length?[T,E,A,P,k]:null}var s=l(t,n,Math.ceil(t.length/4)),i=l(t,n,Math.ceil(t.length/2)),o;if(!s&&!i)return null;i?s?o=s[4].length>i[4].length?s:i:o=i:o=s;var a,u,c,f;r.length>e.length?(a=o[0],u=o[1],c=o[2],f=o[3]):(c=o[0],f=o[1],a=o[2],u=o[3]);var m=o[4];return[a,u,c,f,m]}function u6(r,e){r.push([ir,""]);for(var t=0,n=0,l=0,s="",i="",o;t<r.length;){if(t<r.length-1&&!r[t][1]){r.splice(t,1);continue}switch(r[t][0]){case qr:l++,i+=r[t][1],t++;break;case tl:n++,s+=r[t][1],t++;break;case ir:var a=t-l-n-1;if(e){if(a>=0&&d6(r[a][1])){var u=r[a][1].slice(-1);if(r[a][1]=r[a][1].slice(0,-1),s=u+s,i=u+i,!r[a][1]){r.splice(a,1),t--;var c=a-1;r[c]&&r[c][0]===qr&&(l++,i=r[c][1]+i,c--),r[c]&&r[c][0]===tl&&(n++,s=r[c][1]+s,c--),a=c}}if(m6(r[t][1])){var u=r[t][1].charAt(0);r[t][1]=r[t][1].slice(1),s+=u,i+=u}}if(t<r.length-1&&!r[t][1]){r.splice(t,1);break}if(s.length>0||i.length>0){s.length>0&&i.length>0&&(o=Nf(i,s),o!==0&&(a>=0?r[a][1]+=i.substring(0,o):(r.splice(0,0,[ir,i.substring(0,o)]),t++),i=i.substring(o),s=s.substring(o)),o=Ff(i,s),o!==0&&(r[t][1]=i.substring(i.length-o)+r[t][1],i=i.substring(0,i.length-o),s=s.substring(0,s.length-o)));var f=l+n;s.length===0&&i.length===0?(r.splice(t-f,f),t=t-f):s.length===0?(r.splice(t-f,f,[qr,i]),t=t-f+1):i.length===0?(r.splice(t-f,f,[tl,s]),t=t-f+1):(r.splice(t-f,f,[tl,s],[qr,i]),t=t-f+2)}t!==0&&r[t-1][0]===ir?(r[t-1][1]+=r[t][1],r.splice(t,1)):t++,l=0,n=0,s="",i="";break}}r[r.length-1][1]===""&&r.pop();var m=!1;for(t=1;t<r.length-1;)r[t-1][0]===ir&&r[t+1][0]===ir&&(r[t][1].substring(r[t][1].length-r[t-1][1].length)===r[t-1][1]?(r[t][1]=r[t-1][1]+r[t][1].substring(0,r[t][1].length-r[t-1][1].length),r[t+1][1]=r[t-1][1]+r[t+1][1],r.splice(t-1,1),m=!0):r[t][1].substring(0,r[t+1][1].length)==r[t+1][1]&&(r[t-1][1]+=r[t+1][1],r[t][1]=r[t][1].substring(r[t+1][1].length)+r[t+1][1],r.splice(t+1,1),m=!0)),t++;m&&u6(r,e)}function c6(r){return r>=55296&&r<=56319}function f6(r){return r>=56320&&r<=57343}function m6(r){return f6(r.charCodeAt(0))}function d6(r){return c6(r.charCodeAt(r.length-1))}function YT(r){for(var e=[],t=0;t<r.length;t++)r[t][1].length>0&&e.push(r[t]);return e}function ic(r,e,t,n){return d6(r)||m6(n)?null:YT([[ir,r],[tl,e],[qr,t],[ir,n]])}function GT(r,e,t){var n=typeof t=="number"?{index:t,length:0}:t.oldRange,l=typeof t=="number"?null:t.newRange,s=r.length,i=e.length;if(n.length===0&&(l===null||l.length===0)){var o=n.index,a=r.slice(0,o),u=r.slice(o),c=l?l.index:null;e:{var f=o+i-s;if(c!==null&&c!==f||f<0||f>i)break e;var m=e.slice(0,f),d=e.slice(f);if(d!==u)break e;var p=Math.min(o,f),h=a.slice(0,p),b=m.slice(0,p);if(h!==b)break e;var $=a.slice(p),k=m.slice(p);return ic(h,$,k,u)}e:{if(c!==null&&c!==o)break e;var T=o,m=e.slice(0,T),d=e.slice(T);if(m!==a)break e;var E=Math.min(s-T,i-T),A=u.slice(u.length-E),P=d.slice(d.length-E);if(A!==P)break e;var $=u.slice(0,u.length-E),k=d.slice(0,d.length-E);return ic(a,$,k,A)}}if(n.length>0&&l&&l.length===0){e:{var h=r.slice(0,n.index),A=r.slice(n.index+n.length),p=h.length,E=A.length;if(i<p+E)break e;var b=e.slice(0,p),P=e.slice(i-E);if(h!==b||A!==P)break e;var $=r.slice(p,s-E),k=e.slice(p,i-E);return ic(h,$,k,A)}}return null}function fu(r,e,t){return xi(r,e,t,!0)}fu.INSERT=qr;fu.DELETE=tl;fu.EQUAL=ir;var oc=fu;function KT({oldText:r,oldCursorPosition:e,newText:t}){const n=oc(r,t);let l=0;return n.forEach(s=>{const[i]=s;i===oc.DELETE?l-=1:i===oc.INSERT&&(l+=1)}),l<0&&(l=0),e+l}const XT=["direction","boxSizing","paddingRight","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","fontFamily","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize"];function QT(r,e){const t="caret-position-measurement",n=document.createElement("div");n.id=t,document.body.appendChild(n);const{style:l}=n;l.position="absolute",l.top="0px",l.zIndex="999999999",l.backgroundColor="coral",l.width="max-content",l.whiteSpace="pre",l.visibility="hidden";for(const i of XT)l[i]=e[i];n.textContent=r;const s=n.clientWidth;return n.remove(),s}function ZT(r){const{clientWidth:e,scrollWidth:t}=r;if(e>=t)return;const n=r.selectionEnd;if(!n)return;if(n===0){r.scrollLeft=0;return}const l=r.value;if(n===l.length){r.scrollLeft=r.scrollWidth;return}const s=l.substring(0,n),i=QT(s,window.getComputedStyle(r));let o=10;const a=i-r.scrollLeft-e+o;if(a>0){r.scrollLeft+=a;return}o=25;const u=r.scrollLeft-i+o;u>0&&(r.scrollLeft-=u)}function JT(r){let e,t,n;const l=[{value:r[1]},r[5]];function s(o){r[9](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.element=r[0]),e=new gn({props:i}),Te.push(()=>Oe(e,"element",s)),e.$on("beforeinput",r[2]),e.$on("blur",r[3]),e.$on("focus",r[10]),e.$on("blur",r[11]),e.$on("blur",r[4]),e.$on("keydown",r[12]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&34?de(l,[a&2&&{value:o[1]},a&32&&$e(o[5])]):{};!t&&a&1&&(t=!0,u.element=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function xT(r,e,t){let n;const l=["formatter","value","onParseError","element"];let s=Ye(e,l);const i=ht();let{formatter:o}=e,{value:a=void 0}=e,{onParseError:u=()=>{}}=e,{element:c=void 0}=e,f="",m,d,p;function h(R){d=n(R),(m==null?void 0:m.value)!==R&&(t(1,f=d),p=R)}function b(R){t(6,a=R),i("artificialInput",R)}async function $(R){R.preventDefault();const{value:F,cursorPosition:L}=I7(R);try{m=o.parse(F),b(m.value),t(1,f=m.intermediateDisplay);const U=KT({oldText:F,oldCursorPosition:L,newText:m.intermediateDisplay});if(await on(),c==null||c.setSelectionRange(U,U),!c)return;ZT(c)}catch(U){u({userInput:F,error:U})}}function k(){p!==a&&i("artificialChange",a)}function T(){t(1,f=d!=null?d:"")}function E(R){c=R,t(0,c)}function A(R){ye.call(this,r,R)}function P(R){ye.call(this,r,R)}function O(R){ye.call(this,r,R)}return r.$$set=R=>{e=le(le({},e),_t(R)),t(5,s=Ye(e,l)),"formatter"in R&&t(7,o=R.formatter),"value"in R&&t(6,a=R.value),"onParseError"in R&&t(8,u=R.onParseError),"element"in R&&t(0,c=R.element)},r.$$.update=()=>{r.$$.dirty&128&&(n=R=>R==null?"":o.format(R)),r.$$.dirty&64&&h(a)},[c,f,$,k,T,s,a,o,u,E,A,P,O]}class di extends x{constructor(e){super(),J(this,e,xT,JT,Q,{formatter:7,value:6,onParseError:8,element:0})}}function eE(r){const e=new Intl.NumberFormat(r).format(1.2)[1];if(![".",","].includes(e))throw new Error(`Unsupported decimal separator: ${e}`);return e}const _6={allowFloat:!1,allowNegative:!1,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1};function p6(r){return{...r,decimalSeparator:eE(r.locale)}}class g6{constructor(e={}){ce(this,"opts");this.opts=p6(P7(_6,e))}}function h6(r){const e=["\u2010","\u2011","\u2012","\u2013","\u2014","\u2015","\u2043","\u2212","\uFE63","\uFF0D"];return r.replace(new RegExp(`[${e.join("")}]`,"g"),"-")}function tE(r){const e=!!/^-/.exec(r),t=r.replace(/-/g,"");return`${e?"-":""}${t}`}function nE(r){return r.replace(/,/g,".")}function rE(r){const e=[String.raw`\d`,...r.allowNegative?[qc("-")]:[],...r.allowFloat?[qc(r.decimalSeparator)]:[]],t=new RegExp(`[^${e.join("")}]`,"g");return n=>n.replace(t,"")}function lE(r){return t=>t.split(r.decimalSeparator).reduce((n,l,s)=>{if(n===void 0)return l;const i=s<=1?r.decimalSeparator:"";return`${n}${i}${l}`})}function sE(r){const e=new RegExp(`(^|[^\\d])(?=${qc(r.decimalSeparator)})`);return t=>t.replace(e,"$10")}function iE(r){return r.replace(/^(-?)0*(?!\.|$)/,"$1")}function oE(r){return r.replace(/(\.(?:[1-9]|0(?=0*[1-9]))*)(0*)$/,"$1")}function aE(r){return r.replace(/\.$/,"")}function b6(r){return e=>r.reduce((t,n)=>n(t),e)}function $6(r){return b6([h6,rE(r),tE,lE(r),nE,sE(r),iE])}function uE(r){return b6([$6(r),oE,aE])}function cE(r){return e=>e.some(t=>t.type==="decimal")?e:[...e,{type:"decimal",value:r.decimalSeparator}]}function fE(r){return r.map(e=>e.value).join("")}function eo(r){function e(n){return Number.isNaN(n)?["Value is NaN."]:!r.allowNegative&&(n<0||Object.is(n,-0))?["Value must be positive."]:!r.allowFloat&&typeof n=="number"&&n%1!==0?["Value must be an integer."]:[]}function t(n){const l=e(n);if(l.length)throw new Error(`Unable to format value. ${l.join(", ")}`);const s=Intl.NumberFormat(r.locale,{numberingSystem:"latn",minimumFractionDigits:r.minimumFractionDigits,maximumFractionDigits:Math.max(r.minimumFractionDigits,r.maximumFractionDigits),useGrouping:r.useGrouping}).formatToParts(n),i=[];r.forceTrailingDecimal&&i.push(cE(r));const o=i.reduce((u,c)=>c(u),s),a=fE(o);return h6(a)}return t}function mE(r){return eo(p6({locale:"en-US",allowFloat:!0,allowNegative:!0,useGrouping:!1,minimumFractionDigits:0,maximumFractionDigits:20,forceTrailingDecimal:!1}))(r)}function dE(r){return e=>e.replace(/\./g,r.decimalSeparator)}function _E(r){var e;return((e=r.split(".")[1])!=null?e:"").length}function pE(r){return r.endsWith(".")}function gE(r){const e=parseFloat(r);if(!Number.isNaN(e))return e}function hE(r){try{return BigInt(r)}catch(e){return}}function Yc(r){function e(t){const n=$6(r)(t),l=gE(n);if(l===void 0)return{value:null,intermediateDisplay:n};const s=uE(r)(t);if(mE(l)===s){const a=Object.is(l,-0)?-0:parseFloat(l.toFixed(r.maximumFractionDigits));return{value:{type:"number",numericalValue:a,normalizedStringifiedNumber:a.toString()},intermediateDisplay:eo({...r,forceTrailingDecimal:pE(n),minimumFractionDigits:Math.min(_E(n),r.maximumFractionDigits)})(a)}}const o=hE(n);return o!==void 0?{value:{type:"bigint",numericalValue:o,normalizedStringifiedNumber:s},intermediateDisplay:eo({...r,forceTrailingDecimal:!1,minimumFractionDigits:0,maximumFractionDigits:0})(o)}:{value:{type:"bigfloat",normalizedStringifiedNumber:s},intermediateDisplay:dE(r)(n)}}return e}class bE extends g6{format(e){return eo(this.opts)(e)}parse(e){const t=Yc(this.opts)(e);if(t.value===null)return{value:null,intermediateDisplay:t.intermediateDisplay};if(t.value.type!=="number")throw new Error("Number input could not be accurately parsed to a JavaScript number without loss of precision.");return{value:t.value.numericalValue,intermediateDisplay:t.intermediateDisplay}}}class Hf extends g6{format(e){var l;const n=Yc({...this.opts,decimalSeparator:"."})(e);switch((l=n.value)==null?void 0:l.type){case"bigfloat":return n.value.normalizedStringifiedNumber;case"number":case"bigint":return eo(this.opts)(n.value.numericalValue);default:return""}}parse(e){var l,s;const n=Yc(this.opts)(e);return{value:(s=(l=n.value)==null?void 0:l.normalizedStringifiedNumber)!=null?s:null,intermediateDisplay:n.intermediateDisplay}}}function v6(r){const e={..._6,...r},{allowFloat:t,allowNegative:n}=e;return n?"text":t?"decimal":"numeric"}function $E(r){let e,t,n,l;const s=[{formatter:r[3]},r[4],{inputmode:r[2]}];function i(u){r[5](u)}function o(u){r[6](u)}let a={};for(let u=0;u<s.length;u+=1)a=le(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new di({props:a}),Te.push(()=>Oe(e,"value",i)),Te.push(()=>Oe(e,"element",o)),e.$on("artificialInput",r[7]),e.$on("artificialChange",r[8]),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),l=!0},p(u,[c]){const f=c&28?de(s,[c&8&&{formatter:u[3]},c&16&&$e(u[4]),c&4&&{inputmode:u[2]}]):{};!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),!n&&c&2&&(n=!0,f.element=u[1],Ne(()=>n=!1)),e.$set(f)},i(u){l||(_(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){S(e,u)}}}function vE(r,e,t){let n,l;const s=["value","element"];let i=Ye(e,s),{value:o=void 0}=e,{element:a=void 0}=e;function u(d){o=d,t(0,o)}function c(d){a=d,t(1,a)}function f(d){ye.call(this,r,d)}function m(d){ye.call(this,r,d)}return r.$$set=d=>{e=le(le({},e),_t(d)),t(4,i=Ye(e,s)),"value"in d&&t(0,o=d.value),"element"in d&&t(1,a=d.element)},r.$$.update=()=>{t(3,n=new bE(i)),t(2,l=v6(i))},[o,a,l,n,i,u,c,f,m]}class w6 extends x{constructor(e){super(),J(this,e,vE,$E,Q,{value:0,element:1})}}function wE(r){let e,t,n,l;const s=[r[4],{formatter:r[3]},{inputmode:r[2]}];function i(u){r[5](u)}function o(u){r[6](u)}let a={};for(let u=0;u<s.length;u+=1)a=le(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new di({props:a}),Te.push(()=>Oe(e,"value",i)),Te.push(()=>Oe(e,"element",o)),e.$on("blur",r[7]),e.$on("focus",r[8]),e.$on("keydown",r[9]),e.$on("artificialInput",r[10]),e.$on("artificialChange",r[11]),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),l=!0},p(u,[c]){const f=c&28?de(s,[c&16&&$e(u[4]),c&8&&{formatter:u[3]},c&4&&{inputmode:u[2]}]):{};!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),!n&&c&2&&(n=!0,f.element=u[1],Ne(()=>n=!1)),e.$set(f)},i(u){l||(_(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){S(e,u)}}}function kE(r,e,t){let n,l;const s=["value","element"];let i=Ye(e,s),{value:o=void 0}=e,{element:a=void 0}=e;function u(b){o=b,t(0,o)}function c(b){a=b,t(1,a)}function f(b){ye.call(this,r,b)}function m(b){ye.call(this,r,b)}function d(b){ye.call(this,r,b)}function p(b){ye.call(this,r,b)}function h(b){ye.call(this,r,b)}return r.$$set=b=>{e=le(le({},e),_t(b)),t(4,i=Ye(e,s)),"value"in b&&t(0,o=b.value),"element"in b&&t(1,a=b.element)},r.$$.update=()=>{t(3,n=new Hf(i)),t(2,l=v6(i))},[o,a,l,n,i,u,c,f,m,d,p,h]}class k6 extends x{constructor(e){super(),J(this,e,kE,wE,Q,{value:0,element:1})}}const yE=r=>({close:r&33554432}),k_=r=>({close:r[25]}),SE=r=>({}),y_=r=>({});function S_(r){let e,t,n;const l=[ar,{size:"0.75em"}];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","arrow")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?de(l,[$e(ar),l[1]]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function CE(r){let e,t,n,l;const s=r[17].trigger,i=Ie(s,r,r[24],y_);let o=r[8]&&S_();return{c(){e=M("span"),i&&i.c(),t=N(),o&&o.c(),n=oe(),D(e,"class","label")},m(a,u){w(a,e,u),i&&i.m(e,null),w(a,t,u),o&&o.m(a,u),w(a,n,u),l=!0},p(a,u){i&&i.p&&(!l||u&16777216)&&Ae(i,s,a,a[24],l?Me(s,a[24],u,SE):Pe(a[24]),y_),a[8]?o?(o.p(a,u),u&256&&_(o,1)):(o=S_(),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(G(),g(o,1,1,()=>{o=null}),K())},i(a){l||(_(i,a),_(o),l=!0)},o(a){g(i,a),g(o),l=!1},d(a){a&&v(e),i&&i.d(a),a&&v(t),o&&o.d(a),a&&v(n)}}}function TE(r){let e;const t=r[17].content,n=Ie(t,r,r[24],k_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&50331648)&&Ae(n,t,l,l[24],e?Me(t,l[24],s,yE):Pe(l[24]),k_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function EE(r){let e,t,n,l,s;const i=[{appearance:r[1]},{class:r[12]},{"aria-controls":r[5]},{"aria-haspopup":"listbox"},{"aria-label":r[4]},{title:r[4]},{size:r[9]},{disabled:r[10]},r[15]];function o(u){r[18](u)}let a={$$slots:{default:[CE]},$$scope:{ctx:r}};for(let u=0;u<i.length;u+=1)a=le(a,i[u]);return r[11]!==void 0&&(a.element=r[11]),e=new dt({props:a}),Te.push(()=>Oe(e,"element",o)),e.$on("click",r[13]),e.$on("keydown",r[19]),e.$on("focus",r[20]),e.$on("blur",r[21]),l=new gs({props:{trigger:r[11],isOpen:r[0],placements:r[6],preferredPlacement:r[7],class:r[2],closeOnInnerClick:r[3],$$slots:{default:[TE,({close:u})=>({25:u}),({close:u})=>u?33554432:0]},$$scope:{ctx:r}}}),l.$on("close",r[14]),l.$on("open",r[22]),l.$on("close",r[23]),{c(){C(e.$$.fragment),n=N(),C(l.$$.fragment)},m(u,c){y(e,u,c),w(u,n,c),y(l,u,c),s=!0},p(u,[c]){const f=c&38450?de(i,[c&2&&{appearance:u[1]},c&4096&&{class:u[12]},c&32&&{"aria-controls":u[5]},i[3],c&16&&{"aria-label":u[4]},c&16&&{title:u[4]},c&512&&{size:u[9]},c&1024&&{disabled:u[10]},c&32768&&$e(u[15])]):{};c&16777472&&(f.$$scope={dirty:c,ctx:u}),!t&&c&2048&&(t=!0,f.element=u[11],Ne(()=>t=!1)),e.$set(f);const m={};c&2048&&(m.trigger=u[11]),c&1&&(m.isOpen=u[0]),c&64&&(m.placements=u[6]),c&128&&(m.preferredPlacement=u[7]),c&4&&(m.class=u[2]),c&8&&(m.closeOnInnerClick=u[3]),c&50331648&&(m.$$scope={dirty:c,ctx:u}),l.$set(m)},i(u){s||(_(e.$$.fragment,u),_(l.$$.fragment,u),s=!0)},o(u){g(e.$$.fragment,u),g(l.$$.fragment,u),s=!1},d(u){S(e,u),u&&v(n),S(l,u)}}}function DE(r,e){const t=["dropdown","trigger"];return r&&t.push(r),e||t.push("no-arrow"),t.join(" ")}function IE(r,e,t){let n;const l=["triggerClass","triggerAppearance","contentClass","isOpen","closeOnInnerClick","ariaLabel","ariaControls","placements","preferredPlacement","showArrow","size","disabled"];let s=Ye(e,l),{$$slots:i={},$$scope:o}=e,{triggerClass:a=""}=e,{triggerAppearance:u="default"}=e,{contentClass:c=""}=e,{isOpen:f=!1}=e,{closeOnInnerClick:m=!1}=e,{ariaLabel:d=void 0}=e,{ariaControls:p=void 0}=e,{placements:h=void 0}=e,{preferredPlacement:b=void 0}=e,{showArrow:$=!0}=e,{size:k="medium"}=e,{disabled:T=!1}=e,E;function A(H){H.preventDefault(),t(0,f=!f)}function P(){t(0,f=!1)}function O(H){E=H,t(11,E)}function R(H){ye.call(this,r,H)}function F(H){ye.call(this,r,H)}function L(H){ye.call(this,r,H)}function U(H){ye.call(this,r,H)}function W(H){ye.call(this,r,H)}return r.$$set=H=>{e=le(le({},e),_t(H)),t(15,s=Ye(e,l)),"triggerClass"in H&&t(16,a=H.triggerClass),"triggerAppearance"in H&&t(1,u=H.triggerAppearance),"contentClass"in H&&t(2,c=H.contentClass),"isOpen"in H&&t(0,f=H.isOpen),"closeOnInnerClick"in H&&t(3,m=H.closeOnInnerClick),"ariaLabel"in H&&t(4,d=H.ariaLabel),"ariaControls"in H&&t(5,p=H.ariaControls),"placements"in H&&t(6,h=H.placements),"preferredPlacement"in H&&t(7,b=H.preferredPlacement),"showArrow"in H&&t(8,$=H.showArrow),"size"in H&&t(9,k=H.size),"disabled"in H&&t(10,T=H.disabled),"$$scope"in H&&t(24,o=H.$$scope)},r.$$.update=()=>{r.$$.dirty&65792&&t(12,n=DE(a,$))},[f,u,c,m,d,p,h,b,$,k,T,E,n,A,P,s,a,i,O,R,F,L,U,W,o]}class Pl extends x{constructor(e){super(),J(this,e,IE,EE,Q,{triggerClass:16,triggerAppearance:1,contentClass:2,isOpen:0,closeOnInnerClick:3,ariaLabel:4,ariaControls:5,placements:6,preferredPlacement:7,showArrow:8,size:9,disabled:10})}}const ME=r=>({isOpen:r[0]&2}),C_=r=>({api:r[0],isOpen:r[1]});function AE(r){let e;const t=r[16].default,n=Ie(t,r,r[15],C_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s[0]&32770)&&Ae(n,t,l,l[15],e?Me(t,l[15],s,ME):Pe(l[15]),C_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function PE(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=ht();let{selectionType:u="multiple"}=e,{options:c}=e,{value:f=[]}=e,{searchable:m=!1}=e,{disabled:d=!1}=e,{labelKey:p="label"}=e,{getLabel:h=fe=>ui(fe,p)}=e,{checkEquality:b=(fe,Ue)=>fe===Ue}=e,{checkIfOptionIsDisabled:$=()=>!1}=e,{mode:k="dropdown"}=e;const T=xe(!1);Z(r,T,fe=>t(1,n=fe));const E=xe(-1);Z(r,E,fe=>t(17,l=fe));const A=xe(Array.isArray(c)?c:[]);Z(r,A,fe=>t(18,s=fe));function P(){const fe=f[f.length-1];an(E,l=s.findIndex(Ue=>b(fe,Ue)),l)}_n(()=>{k==="static"&&P()});function O(){d||(an(T,n=!0,n),P())}function R(){d||an(T,n=!1,n)}function F(){d||(n?R():O())}function L(fe){const Ue=s.findIndex(ve=>b(fe,ve));an(E,l=Ue,l)}function U(){const fe=s.length;an(E,l=l===fe-1?0:l+1,l)}function W(){const fe=s.length;an(E,l=l<=0?fe-1:l-1,l)}function H(fe){return u==="single"?b(fe,f[0]):f.some(Ue=>b(fe,Ue))}function z(fe){if(L(fe),!$(fe)){if(H(fe)){u==="single"&&R();return}u==="single"?(t(5,f=[fe]),R()):t(5,f=[...f,fe]),a("change",f)}}function te(fe){L(fe),!$(fe)&&(!H(fe)||(u==="single"?(t(5,f=[]),R()):t(5,f=f.filter(Ue=>!b(fe,Ue))),a("change",f)))}function se(fe){if(u==="single"){z(fe);return}H(fe)?te(fe):z(fe)}function B(){const fe=s[l];se(fe)}function V(fe){if(n||k!=="dropdown")switch(fe.key){case"ArrowDown":fe.preventDefault(),U();break;case"ArrowUp":fe.preventDefault(),W();break;case"Escape":fe.preventDefault(),R();break;case"Enter":fe.preventDefault(),B();break}else switch(fe.key){case"Enter":fe.preventDefault(),O();break}}const ee={open:O,close:R,toggle:F,focusOption:L,focusNext:U,focusPrevious:W,isOptionSelected:H,select:z,deselect:te,pick:se,pickFocused:B,handleKeyDown:V},ie=xe(f),_e=xe({selectionType:u,getLabel:h,searchable:m,disabled:d,checkEquality:b,checkIfOptionIsDisabled:$,mode:k});return xn("LIST_BOX_CONTEXT",{api:ee,state:{isOpen:T,displayedOptions:A,focusedOptionIndex:E,value:ie,staticProps:_e}}),r.$$set=fe=>{"selectionType"in fe&&t(6,u=fe.selectionType),"options"in fe&&t(7,c=fe.options),"value"in fe&&t(5,f=fe.value),"searchable"in fe&&t(8,m=fe.searchable),"disabled"in fe&&t(9,d=fe.disabled),"labelKey"in fe&&t(10,p=fe.labelKey),"getLabel"in fe&&t(11,h=fe.getLabel),"checkEquality"in fe&&t(12,b=fe.checkEquality),"checkIfOptionIsDisabled"in fe&&t(13,$=fe.checkIfOptionIsDisabled),"mode"in fe&&t(14,k=fe.mode),"$$scope"in fe&&t(15,o=fe.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&128&&A.set(Array.isArray(c)?c:[]),r.$$.dirty[0]&32&&ie.set(f),r.$$.dirty[0]&31552&&_e.set({selectionType:u,getLabel:h,searchable:m,disabled:d,checkEquality:b,checkIfOptionIsDisabled:$,mode:k})},[ee,n,T,E,A,f,u,c,m,d,p,h,b,$,k,o,i]}class mu extends x{constructor(e){super(),J(this,e,PE,AE,Q,{selectionType:6,options:7,value:5,searchable:8,disabled:9,labelKey:10,getLabel:11,checkEquality:12,checkIfOptionIsDisabled:13,mode:14,api:0},null,[-1,-1])}get api(){return this.$$.ctx[0]}}function T_(r,e,t){const n=r.slice();n[23]=e[t],n[26]=t;const l=n[6].some(s=>n[4].checkEquality(s,n[23]));return n[24]=l,n}const RE=r=>({option:r&32,label:r&48}),E_=r=>({option:r[23],label:r[4].getLabel(r[23])});function OE(r){let e,t;return e=new ol({props:{arg:r[4].getLabel(r[23])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&48&&(s.arg=n[4].getLabel(n[23])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function D_(r,e){let t,n,l,s,i,o;const a=e[15].default,u=Ie(a,e,e[14],E_),c=u||OE(e);function f(){return e[19](e[23])}return{key:r,first:null,c(){t=M("li"),c&&c.c(),n=N(),D(t,"role","option"),D(t,"aria-selected",l=e[24]?!0:void 0),re(t,"selected",e[24]),re(t,"in-focus",e[26]===e[7]),this.first=t},m(m,d){w(m,t,d),c&&c.m(t,null),I(t,n),s=!0,i||(o=He(t,"click",f),i=!0)},p(m,d){e=m,u?u.p&&(!s||d&16432)&&Ae(u,a,e,e[14],s?Me(a,e[14],d,RE):Pe(e[14]),E_):c&&c.p&&(!s||d&48)&&c.p(e,s?d:-1),(!s||d&112&&l!==(l=e[24]?!0:void 0))&&D(t,"aria-selected",l),(!s||d&112)&&re(t,"selected",e[24]),(!s||d&160)&&re(t,"in-focus",e[26]===e[7])},i(m){s||(_(c,m),s=!0)},o(m){g(c,m),s=!1},d(m){m&&v(t),c&&c.d(m),i=!1,o()}}}function LE(r){let e,t=[],n=new Map,l,s,i,o,a=r[5];const u=c=>c[23];for(let c=0;c<a.length;c+=1){let f=T_(r,a,c),m=u(f);n.set(m,t[c]=D_(m,f))}return{c(){e=M("ul");for(let c=0;c<t.length;c+=1)t[c].c();D(e,"tabindex","0"),D(e,"id",r[0]),D(e,"role","listbox"),D(e,"aria-expanded","true"),D(e,"class",l=["list-box-options",r[4].selectionType,r[1]].join(" ")),re(e,"truncate",r[2]),re(e,"disabled",r[4].disabled)},m(c,f){w(c,e,f);for(let m=0;m<t.length;m+=1)t[m].m(e,null);r[20](e),s=!0,i||(o=[He(e,"focus",r[16]),He(e,"blur",r[17]),He(e,"keydown",r[18])],i=!0)},p(c,[f]){f&16880&&(a=c[5],G(),t=gt(t,f,u,1,c,a,n,e,bt,D_,null,T_),K()),(!s||f&1)&&D(e,"id",c[0]),(!s||f&18&&l!==(l=["list-box-options",c[4].selectionType,c[1]].join(" ")))&&D(e,"class",l),(!s||f&22)&&re(e,"truncate",c[2]),(!s||f&18)&&re(e,"disabled",c[4].disabled)},i(c){if(!s){for(let f=0;f<a.length;f+=1)_(t[f]);s=!0}},o(c){for(let f=0;f<t.length;f+=1)g(t[f]);s=!1},d(c){c&&v(e);for(let f=0;f<t.length;f+=1)t[f].d();r[20](null),i=!1,It(o)}}}function NE(r,e,t){let n,l,s,i,{$$slots:o={},$$scope:a}=e,{id:u}=e,{class:c=""}=e,{truncateOnOverflow:f=!0}=e,{offsetOnFocus:m=0}=e;const{api:d,state:p}=Fn("LIST_BOX_CONTEXT"),{displayedOptions:h,value:b,focusedOptionIndex:$,staticProps:k}=p;Z(r,h,L=>t(5,l=L)),Z(r,b,L=>t(6,s=L)),Z(r,$,L=>t(7,i=L)),Z(r,k,L=>t(4,n=L));let T;function E(){if(T){const L=T.querySelector(".in-focus"),U=n.mode==="dropdown"?T.parentElement:T;if(L&&U)if(L.offsetTop+L.clientHeight+m>U.scrollTop+U.clientHeight){const W=U.getBoundingClientRect().bottom-L.getBoundingClientRect().bottom-m*2;U.scrollTop-=W}else L.offsetTop<U.scrollTop&&(U.scrollTop=L.offsetTop-m)}}_n(()=>(E(),$.subscribe(()=>{on().then(()=>E())})));function A(L){ye.call(this,r,L)}function P(L){ye.call(this,r,L)}function O(L){ye.call(this,r,L)}const R=L=>d.pick(L);function F(L){Te[L?"unshift":"push"](()=>{T=L,t(3,T)})}return r.$$set=L=>{"id"in L&&t(0,u=L.id),"class"in L&&t(1,c=L.class),"truncateOnOverflow"in L&&t(2,f=L.truncateOnOverflow),"offsetOnFocus"in L&&t(13,m=L.offsetOnFocus),"$$scope"in L&&t(14,a=L.$$scope)},[u,c,f,T,n,l,s,i,d,h,b,$,k,m,a,o,A,P,O,R,F]}class _i extends x{constructor(e){super(),J(this,e,NE,LE,Q,{id:0,class:1,truncateOnOverflow:2,offsetOnFocus:13})}}const FE=r=>({option:r[0]&268435456,label:r[0]&536870912}),I_=r=>({option:r[28],label:r[29]});function M_(r,e,t){const n=r.slice();return n[30]=e[t],n}const HE=r=>({option:r[0]&1,label:r[0]&17}),A_=r=>({option:r[30],label:r[4](r[30])});function zE(r){let e,t;return e=new ol({props:{arg:r[4](r[30])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&17&&(s.arg=n[4](n[30])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function VE(r){let e;const t=r[16].default,n=Ie(t,r,r[23],A_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s[0]&8388625)&&Ae(n,t,l,l[23],e?Me(t,l[23],s,HE):Pe(l[23]),A_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function P_(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[VE,zE],d=[];function p(b,$){return b[14].default?0:1}n=p(r),l=d[n]=m[n](r),o=new Be({props:{data:Af,size:"0.8em"}});function h(){return r[17](r[30])}return{c(){e=M("span"),t=M("span"),l.c(),s=N(),i=M("span"),C(o.$$.fragment),a=N(),D(t,"class","label"),D(i,"class","remove-button icon-button"),D(e,"class","selected-value")},m(b,$){w(b,e,$),I(e,t),d[n].m(t,null),I(e,s),I(e,i),y(o,i,null),I(e,a),u=!0,c||(f=He(i,"click",Hl(h)),c=!0)},p(b,$){r=b;let k=n;n=p(r),n===k?d[n].p(r,$):(G(),g(d[k],1,1,()=>{d[k]=null}),K(),l=d[n],l?l.p(r,$):(l=d[n]=m[n](r),l.c()),_(l,1),l.m(t,null))},i(b){u||(_(l),_(o.$$.fragment,b),u=!0)},o(b){g(l),g(o.$$.fragment,b),u=!1},d(b){b&&v(e),d[n].d(),S(o),c=!1,f()}}}function qE(r){let e,t;return e=new _i({props:{id:r[1]+"-select-options"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.id=n[1]+"-select-options"),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function BE(r){let e,t;return e=new _i({props:{id:r[1]+"-select-options",$$slots:{default:[UE,({option:n,label:l})=>({28:n,29:l}),({option:n,label:l})=>[(n?268435456:0)|(l?536870912:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.id=n[1]+"-select-options"),l[0]&813694976&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UE(r){let e;const t=r[16].default,n=Ie(t,r,r[23],I_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s[0]&813694976)&&Ae(n,t,l,l[23],e?Me(t,l[23],s,FE):Pe(l[23]),I_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function WE(r){let e,t,n,l;const s=[BE,qE],i=[];function o(a,u){return a[14].default?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function jE(r){let e,t,n,l,s,i,o,a,u,c,f,m=r[0],d=[];for(let b=0;b<m.length;b+=1)d[b]=P_(M_(r,m,b));const p=b=>g(d[b],1,1,()=>{d[b]=null});s=new Be({props:{data:xw}});function h(){return r[20](r[26])}return a=new gs({props:{isOpen:r[27],class:"multi-select-content "+r[6],trigger:r[10],$$slots:{default:[WE]},$$scope:{ctx:r}}}),a.$on("close",h),{c(){e=M("span"),t=M("span");for(let b=0;b<d.length;b+=1)d[b].c();n=N(),l=M("span"),C(s.$$.fragment),o=N(),C(a.$$.fragment),D(t,"class","selected-values"),D(l,"class","clear-button icon-button"),D(e,"class",i="input-element multi-select-trigger "+r[7]),D(e,"aria-label",r[8]),D(e,"tabindex","0"),D(e,"id",r[1]),re(e,"disabled",r[2])},m(b,$){w(b,e,$),I(e,t);for(let k=0;k<d.length;k+=1)d[k].m(t,null);I(e,n),I(e,l),y(s,l,null),r[19](e),w(b,o,$),y(a,b,$),u=!0,c||(f=[He(l,"click",Hl(r[18])),He(e,"click",function(){Pt(r[26].toggle)&&r[26].toggle.apply(this,arguments)}),He(e,"keydown",function(){Pt(r[26].handleKeyDown)&&r[26].handleKeyDown.apply(this,arguments)})],c=!0)},p(b,$){if(r=b,$[0]&8409105){m=r[0];let T;for(T=0;T<m.length;T+=1){const E=M_(r,m,T);d[T]?(d[T].p(E,$),_(d[T],1)):(d[T]=P_(E),d[T].c(),_(d[T],1),d[T].m(t,null))}for(G(),T=m.length;T<d.length;T+=1)p(T);K()}(!u||$[0]&128&&i!==(i="input-element multi-select-trigger "+r[7]))&&D(e,"class",i),(!u||$[0]&256)&&D(e,"aria-label",r[8]),(!u||$[0]&2)&&D(e,"id",r[1]),(!u||$[0]&132)&&re(e,"disabled",r[2]);const k={};$[0]&134217728&&(k.isOpen=r[27]),$[0]&64&&(k.class="multi-select-content "+r[6]),$[0]&1024&&(k.trigger=r[10]),$[0]&8404994&&(k.$$scope={dirty:$,ctx:r}),a.$set(k)},i(b){if(!u){for(let $=0;$<m.length;$+=1)_(d[$]);_(s.$$.fragment,b),_(a.$$.fragment,b),u=!0}},o(b){d=d.filter(Boolean);for(let $=0;$<d.length;$+=1)g(d[$]);g(s.$$.fragment,b),g(a.$$.fragment,b),u=!1},d(b){b&&v(e),jn(d,b),S(s),r[19](null),b&&v(o),S(a,b),c=!1,It(f)}}}function YE(r){let e,t,n,l,s;const i=[r[13],{id:r[1]},{disabled:r[2]}];let o={};for(let c=0;c<i.length;c+=1)o=le(o,i[c]);e=new Ml({props:o});function a(c){r[21](c)}let u={options:r[5],labelKey:r[3],getLabel:r[4],disabled:r[2],checkEquality:r[9],$$slots:{default:[jE,({api:c,isOpen:f})=>({26:c,27:f}),({api:c,isOpen:f})=>[(c?67108864:0)|(f?134217728:0)]]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.value=r[0]),n=new mu({props:u}),Te.push(()=>Oe(n,"value",a)),n.$on("change",r[22]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(c,f){y(e,c,f),w(c,t,f),y(n,c,f),s=!0},p(c,f){const m=f[0]&8198?de(i,[f[0]&8192&&$e(c[13]),f[0]&2&&{id:c[1]},f[0]&4&&{disabled:c[2]}]):{};e.$set(m);const d={};f[0]&32&&(d.options=c[5]),f[0]&8&&(d.labelKey=c[3]),f[0]&16&&(d.getLabel=c[4]),f[0]&4&&(d.disabled=c[2]),f[0]&512&&(d.checkEquality=c[9]),f[0]&209733079&&(d.$$scope={dirty:f,ctx:c}),!l&&f[0]&1&&(l=!0,d.value=c[0],Ne(()=>l=!1)),n.$set(d)},i(c){s||(_(e.$$.fragment,c),_(n.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),g(n.$$.fragment,c),s=!1},d(c){S(e,c),c&&v(t),S(n,c)}}}function GE(r,e,t){const n=["id","disabled","labelKey","getLabel","options","values","contentClass","triggerClass","ariaLabel","valuesAreEqual","autoClearInvalidValues"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;const o=ur(s),a=ht();let{id:u=Il()}=e,{disabled:c=!1}=e,{labelKey:f="label"}=e,{getLabel:m=z=>ui(z,f)}=e,{options:d=[]}=e,{values:p=[]}=e,{contentClass:h=""}=e,{triggerClass:b=""}=e,{ariaLabel:$=void 0}=e,{valuesAreEqual:k=(z,te)=>z===te}=e,{autoClearInvalidValues:T=!0}=e,E;function A(z){t(0,p=z),a("change",p)}function P(z){A(p.filter(te=>!k(te,z)))}function O(z){T&&A(p.filter(te=>z.some(se=>k(se,te))))}const R=z=>P(z),F=()=>A([]);function L(z){Te[z?"unshift":"push"](()=>{E=z,t(10,E)})}const U=z=>z.close();function W(z){p=z,t(0,p)}function H(z){ye.call(this,r,z)}return r.$$set=z=>{e=le(le({},e),_t(z)),t(13,l=Ye(e,n)),"id"in z&&t(1,u=z.id),"disabled"in z&&t(2,c=z.disabled),"labelKey"in z&&t(3,f=z.labelKey),"getLabel"in z&&t(4,m=z.getLabel),"options"in z&&t(5,d=z.options),"values"in z&&t(0,p=z.values),"contentClass"in z&&t(6,h=z.contentClass),"triggerClass"in z&&t(7,b=z.triggerClass),"ariaLabel"in z&&t(8,$=z.ariaLabel),"valuesAreEqual"in z&&t(9,k=z.valuesAreEqual),"autoClearInvalidValues"in z&&t(15,T=z.autoClearInvalidValues),"$$scope"in z&&t(23,i=z.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&32&&O(d)},[p,u,c,f,m,d,h,b,$,k,E,A,P,l,o,T,s,R,F,L,U,W,H,i]}class du extends x{constructor(e){super(),J(this,e,GE,YE,Q,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,values:0,contentClass:6,triggerClass:7,ariaLabel:8,valuesAreEqual:9,autoClearInvalidValues:15},null,[-1,-1])}}function KE(r){let e,t,n,l,s,i,o,a;const u=[r[5]];function c(p){r[12](p)}let f={};for(let p=0;p<u.length;p+=1)f=le(f,u[p]);r[2]!==void 0&&(f.id=r[2]),e=new Ml({props:f}),Te.push(()=>Oe(e,"id",c));let m=[r[5],{type:"password"},{class:s=["input-element","password-input",...r[3].split(" ")].join(" ")},{id:r[2]}],d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return{c(){C(e.$$.fragment),n=N(),l=M("input"),ct(l,d),re(l,"has-error",r[4])},m(p,h){y(e,p,h),w(p,n,h),w(p,l,h),l.autofocus&&l.focus(),r[13](l),Bs(l,r[0]),i=!0,o||(a=[He(l,"input",r[14]),He(l,"input",r[6]),He(l,"focus",r[7]),He(l,"blur",r[8]),He(l,"keydown",r[9]),He(l,"beforeinput",r[10]),He(l,"change",r[11])],o=!0)},p(p,[h]){const b=h&32?de(u,[$e(p[5])]):{};!t&&h&4&&(t=!0,b.id=p[2],Ne(()=>t=!1)),e.$set(b),ct(l,d=de(m,[h&32&&p[5],{type:"password"},(!i||h&8&&s!==(s=["input-element","password-input",...p[3].split(" ")].join(" ")))&&{class:s},(!i||h&4)&&{id:p[2]}])),h&1&&l.value!==p[0]&&Bs(l,p[0]),re(l,"has-error",p[4])},i(p){i||(_(e.$$.fragment,p),i=!0)},o(p){g(e.$$.fragment,p),i=!1},d(p){S(e,p),p&&v(n),p&&v(l),r[13](null),o=!1,It(a)}}}function XE(r,e,t){const n=["value","class","element","hasError","id"];let l=Ye(e,n),{value:s=""}=e,{class:i=""}=e,{element:o=void 0}=e,{hasError:a=!1}=e,{id:u=void 0}=e;function c(T){ye.call(this,r,T)}function f(T){ye.call(this,r,T)}function m(T){ye.call(this,r,T)}function d(T){ye.call(this,r,T)}function p(T){ye.call(this,r,T)}function h(T){ye.call(this,r,T)}function b(T){u=T,t(2,u)}function $(T){Te[T?"unshift":"push"](()=>{o=T,t(1,o)})}function k(){s=this.value,t(0,s)}return r.$$set=T=>{e=le(le({},e),_t(T)),t(5,l=Ye(e,n)),"value"in T&&t(0,s=T.value),"class"in T&&t(3,i=T.class),"element"in T&&t(1,o=T.element),"hasError"in T&&t(4,a=T.hasError),"id"in T&&t(2,u=T.id)},[s,o,u,i,a,l,c,f,m,d,p,h,b,$,k]}class Wl extends x{constructor(e){super(),J(this,e,XE,KE,Q,{value:0,class:3,element:1,hasError:4,id:2})}}function QE(r){let e,t,n,l,s=[{class:"progress"},{role:"progressbar"},{"aria-valuenow":r[0]},{"aria-valuemin":n=0},{"aria-valuemax":l=100},{"aria-valuetext":r[1]},r[2]],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("div"),t=M("div"),Cn(t,"width",r[0]+"%"),ct(e,i)},m(o,a){w(o,e,a),I(e,t)},p(o,[a]){a&1&&Cn(t,"width",o[0]+"%"),ct(e,i=de(s,[{class:"progress"},{role:"progressbar"},a&1&&{"aria-valuenow":o[0]},{"aria-valuemin":n},{"aria-valuemax":l},a&2&&{"aria-valuetext":o[1]},a&4&&o[2]]))},i:j,o:j,d(o){o&&v(e)}}}function ZE(r,e,t){const n=["percentage","ariaValueText"];let l=Ye(e,n),{percentage:s=0}=e,{ariaValueText:i="Progress"}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(2,l=Ye(e,n)),"percentage"in o&&t(0,s=o.percentage),"ariaValueText"in o&&t(1,i=o.ariaValueText)},[s,i,l]}class JE extends x{constructor(e){super(),J(this,e,ZE,QE,Q,{percentage:0,ariaValueText:1})}}function xE(r){let e,t,n,l,s,i,o;const a=[r[5],{disabled:r[3]}];function u(f){r[6](f)}let c={};for(let f=0;f<a.length;f+=1)c=le(c,a[f]);return r[1]!==void 0&&(c.id=r[1]),e=new Ml({props:c}),Te.push(()=>Oe(e,"id",u)),{c(){C(e.$$.fragment),n=N(),l=M("input"),D(l,"class","radio"),D(l,"type","radio"),l.checked=r[0],D(l,"id",r[1]),l.disabled=r[3],l.value=r[2]},m(f,m){y(e,f,m),w(f,n,m),w(f,l,m),s=!0,i||(o=He(l,"change",r[4]),i=!0)},p(f,[m]){const d=m&40?de(a,[m&32&&$e(f[5]),m&8&&{disabled:f[3]}]):{};!t&&m&2&&(t=!0,d.id=f[1],Ne(()=>t=!1)),e.$set(d),(!s||m&1)&&(l.checked=f[0]),(!s||m&2)&&D(l,"id",f[1]),(!s||m&8)&&(l.disabled=f[3]),(!s||m&4)&&(l.value=f[2])},i(f){s||(_(e.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),s=!1},d(f){S(e,f),f&&v(n),f&&v(l),i=!1,o()}}}function eD(r,e,t){const n=["checked","value","disabled","id"];let l=Ye(e,n);const s=ht();let{checked:i=!1}=e,{value:o=void 0}=e,{disabled:a=!1}=e,{id:u=void 0}=e;function c(){t(0,i=!i),s("change",i)}function f(m){u=m,t(1,u)}return r.$$set=m=>{e=le(le({},e),_t(m)),t(5,l=Ye(e,n)),"checked"in m&&t(0,i=m.checked),"value"in m&&t(2,o=m.value),"disabled"in m&&t(3,a=m.disabled),"id"in m&&t(1,u=m.id)},[i,u,o,a,c,l,f]}class _u extends x{constructor(e){super(),J(this,e,eD,xE,Q,{checked:0,value:2,disabled:3,id:1})}}const tD=r=>({}),R_=r=>({slot:"label"}),nD=r=>({}),O_=r=>({slot:"extra"});function rD(r){let e,t;function n(...l){return r[11](r[14],...l)}return e=new _u({props:{disabled:r[15],checked:r[9](r[0],r[14])}}),e.$on("change",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&32768&&(i.disabled=r[15]),s&16897&&(i.checked=r[9](r[0],r[14])),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function lD(r){let e;const t=r[10].default,n=Ie(t,r,r[13],R_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ae(n,t,l,l[13],e?Me(t,l[13],s,tD):Pe(l[13]),R_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function sD(r){let e;const t=r[10].extra,n=Ie(t,r,r[13],O_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ae(n,t,l,l[13],e?Me(t,l[13],s,nD):Pe(l[13]),O_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function iD(r){let e,t;return e=new l6({props:{isInline:r[1],options:r[2],label:r[3],ariaLabel:r[4],disabled:r[7],boxed:r[8],labelKey:r[5],getLabel:r[6],$$slots:{extra:[sD,({option:n,disabled:l})=>({14:n,15:l}),({option:n,disabled:l})=>(n?16384:0)|(l?32768:0)],label:[lD,({option:n,disabled:l})=>({14:n,15:l}),({option:n,disabled:l})=>(n?16384:0)|(l?32768:0)],default:[rD,({option:n,disabled:l})=>({14:n,15:l}),({option:n,disabled:l})=>(n?16384:0)|(l?32768:0)]},$$scope:{ctx:r}}}),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.isInline=n[1]),l&4&&(s.options=n[2]),l&8&&(s.label=n[3]),l&16&&(s.ariaLabel=n[4]),l&128&&(s.disabled=n[7]),l&256&&(s.boxed=n[8]),l&32&&(s.labelKey=n[5]),l&64&&(s.getLabel=n[6]),l&57857&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oD(r,e,t){let{$$slots:n={},$$scope:l}=e,{value:s=void 0}=e,{isInline:i=!1}=e,{options:o=[]}=e,{label:a=void 0}=e,{ariaLabel:u=void 0}=e,{radioLabelKey:c=void 0}=e,{getRadioLabel:f=void 0}=e,{disabled:m=!1}=e,{boxed:d=!1}=e,{valuesAreEqual:p=($,k)=>$===k}=e;const h=($,{detail:k})=>{k&&t(0,s=$)};function b($){ye.call(this,r,$)}return r.$$set=$=>{"value"in $&&t(0,s=$.value),"isInline"in $&&t(1,i=$.isInline),"options"in $&&t(2,o=$.options),"label"in $&&t(3,a=$.label),"ariaLabel"in $&&t(4,u=$.ariaLabel),"radioLabelKey"in $&&t(5,c=$.radioLabelKey),"getRadioLabel"in $&&t(6,f=$.getRadioLabel),"disabled"in $&&t(7,m=$.disabled),"boxed"in $&&t(8,d=$.boxed),"valuesAreEqual"in $&&t(9,p=$.valuesAreEqual),"$$scope"in $&&t(13,l=$.$$scope)},[s,i,o,a,u,c,f,m,d,p,n,h,b,l]}class hs extends x{constructor(e){super(),J(this,e,oD,iD,Q,{value:0,isInline:1,options:2,label:3,ariaLabel:4,radioLabelKey:5,getRadioLabel:6,disabled:7,boxed:8,valuesAreEqual:9})}}function jl(r,{delay:e=0,duration:t=400,easing:n=ps}={}){const l=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*l}`}}function Gc(r,{delay:e=0,duration:t=400,easing:n=zw,x:l=0,y:s=0,opacity:i=0}={}){const o=getComputedStyle(r),a=+o.opacity,u=o.transform==="none"?"":o.transform,c=a*(1-i);return{delay:e,duration:t,easing:n,css:(f,m)=>`
			transform: ${u} translate(${(1-f)*l}px, ${(1-f)*s}px);
			opacity: ${a-c*m}`}}function L_(r){let e,t,n;return{c(){e=M("div"),D(e,"class","skeleton")},m(l,s){w(l,e,s),n=!0},i(l){n||(l&&pr(()=>{t||(t=gd(e,jl,{duration:120},!0)),t.run(1)}),n=!0)},o(l){l&&(t||(t=gd(e,jl,{duration:120},!1)),t.run(0)),n=!1},d(l){l&&v(e),l&&t&&t.end()}}}function aD(r){let e,t=r[0]&&L_();return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,[l]){n[0]?t?l&1&&_(t,1):(t=L_(),t.c(),_(t,1),t.m(e.parentNode,e)):t&&(G(),g(t,1,1,()=>{t=null}),K())},i(n){_(t)},o(n){g(t)},d(n){t&&t.d(n),n&&v(e)}}}function uD(r,e,t){let{loading:n=!1}=e;return r.$$set=l=>{"loading"in l&&t(0,n=l.loading)},[n]}class pu extends x{constructor(e){super(),J(this,e,uD,aD,Q,{loading:0})}}function cD(r){let e,t,n,l,s,i,o,a;const u=[r[7],{disabled:r[3]}];function c(p){r[14](p)}let f={};for(let p=0;p<u.length;p+=1)f=le(f,u[p]);r[0]!==void 0&&(f.id=r[0]),e=new Ml({props:f}),Te.push(()=>Oe(e,"id",c));let m=[r[7],{class:s="input-element text-area "+r[4]},{id:r[0]},{disabled:r[3]}],d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return{c(){C(e.$$.fragment),n=N(),l=M("textarea"),ct(l,d),re(l,"has-error",r[5])},m(p,h){y(e,p,h),w(p,n,h),w(p,l,h),l.autofocus&&l.focus(),r[15](l),Bs(l,r[1]),i=!0,o||(a=[He(l,"input",r[16]),He(l,"input",r[9]),He(l,"change",r[10]),He(l,"focus",r[11]),He(l,"blur",r[12]),He(l,"keydown",r[6]),He(l,"keydown",r[13])],o=!0)},p(p,[h]){const b=h&136?de(u,[h&128&&$e(p[7]),h&8&&{disabled:p[3]}]):{};!t&&h&1&&(t=!0,b.id=p[0],Ne(()=>t=!1)),e.$set(b),ct(l,d=de(m,[h&128&&p[7],(!i||h&16&&s!==(s="input-element text-area "+p[4]))&&{class:s},(!i||h&1)&&{id:p[0]},(!i||h&8)&&{disabled:p[3]}])),h&2&&Bs(l,p[1]),re(l,"has-error",p[5])},i(p){i||(_(e.$$.fragment,p),i=!0)},o(p){g(e.$$.fragment,p),i=!1},d(p){S(e,p),p&&v(n),p&&v(l),r[15](null),o=!1,It(a)}}}function fD(r,e,t){const n=["id","disabled","class","addNewLineOnEnterKeyCombinations","value","element","hasError"];let l=Ye(e,n);const s=ht();let{id:i=void 0}=e,{disabled:o=!1}=e,{class:a=""}=e,{addNewLineOnEnterKeyCombinations:u=!1}=e,{value:c=""}=e,{element:f=void 0}=e,{hasError:m=!1}=e;function d(P){let O="normal";if(f&&P.key==="Enter"&&(P.ctrlKey||P.metaKey||P.shiftKey)){if(u&&!P.shiftKey){let R=f.selectionStart;const F=f.value.substring(0,R),L=f.value.substring(R,f.value.length);t(2,f.value=`${F}
${L}`,f),t(1,c=f.value),R+=1,t(2,f.selectionStart=R,f),t(2,f.selectionEnd=R,f)}O="newlineWithEnterKeyCombination"}s("processedKeyDown",{type:O,originalEvent:P})}function p(P){ye.call(this,r,P)}function h(P){ye.call(this,r,P)}function b(P){ye.call(this,r,P)}function $(P){ye.call(this,r,P)}function k(P){ye.call(this,r,P)}function T(P){i=P,t(0,i)}function E(P){Te[P?"unshift":"push"](()=>{f=P,t(2,f)})}function A(){c=this.value,t(1,c)}return r.$$set=P=>{e=le(le({},e),_t(P)),t(7,l=Ye(e,n)),"id"in P&&t(0,i=P.id),"disabled"in P&&t(3,o=P.disabled),"class"in P&&t(4,a=P.class),"addNewLineOnEnterKeyCombinations"in P&&t(8,u=P.addNewLineOnEnterKeyCombinations),"value"in P&&t(1,c=P.value),"element"in P&&t(2,f=P.element),"hasError"in P&&t(5,m=P.hasError)},[i,c,f,o,a,m,d,l,u,p,h,b,$,k,T,E,A]}class bs extends x{constructor(e){super(),J(this,e,fD,cD,Q,{id:0,disabled:3,class:4,addNewLineOnEnterKeyCombinations:8,value:1,element:2,hasError:5})}}function mD(r){let e,t,n,l,s,i,o;const a=[r[2]];let u={};for(let d=0;d<a.length;d+=1)u=le(u,a[d]);n=new Be({props:u});const c=[{class:["prefixed-input",r[1]].join(" ")},r[3]];function f(d){r[4](d)}let m={};for(let d=0;d<c.length;d+=1)m=le(m,c[d]);return r[0]!==void 0&&(m.value=r[0]),s=new gn({props:m}),Te.push(()=>Oe(s,"value",f)),s.$on("input",r[5]),s.$on("focus",r[6]),s.$on("blur",r[7]),s.$on("keydown",r[8]),s.$on("beforeinput",r[9]),s.$on("change",r[10]),{c(){e=M("span"),t=M("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),D(t,"class","input-prefix-icon-container svelte-p2k6oc"),D(e,"class","prefix-wrapper svelte-p2k6oc")},m(d,p){w(d,e,p),I(e,t),y(n,t,null),I(e,l),y(s,e,null),o=!0},p(d,[p]){const h=p&4?de(a,[$e(d[2])]):{};n.$set(h);const b=p&10?de(c,[p&2&&{class:["prefixed-input",d[1]].join(" ")},p&8&&$e(d[3])]):{};!i&&p&1&&(i=!0,b.value=d[0],Ne(()=>i=!1)),s.$set(b)},i(d){o||(_(n.$$.fragment,d),_(s.$$.fragment,d),o=!0)},o(d){g(n.$$.fragment,d),g(s.$$.fragment,d),o=!1},d(d){d&&v(e),S(n),S(s)}}}function dD(r,e,t){const n=["value","class","prefixIcon"];let l=Ye(e,n),{value:s=""}=e,{class:i=""}=e,{prefixIcon:o}=e;function a(h){s=h,t(0,s)}function u(h){ye.call(this,r,h)}function c(h){ye.call(this,r,h)}function f(h){ye.call(this,r,h)}function m(h){ye.call(this,r,h)}function d(h){ye.call(this,r,h)}function p(h){ye.call(this,r,h)}return r.$$set=h=>{e=le(le({},e),_t(h)),t(3,l=Ye(e,n)),"value"in h&&t(0,s=h.value),"class"in h&&t(1,i=h.class),"prefixIcon"in h&&t(2,o=h.prefixIcon)},[s,i,o,l,a,u,c,f,m,d,p]}class y6 extends x{constructor(e){super(),J(this,e,dD,mD,Q,{value:0,class:1,prefixIcon:2})}}function _D(r){let e,t,n,l,s,i;const o=r[8].default,a=Ie(o,r,r[11],null);return n=new gs({props:{isOpen:r[4],trigger:r[3],placements:r[1],class:"truncation-content",$$slots:{default:[gD]},$$scope:{ctx:r}}}),{c(){e=M("span"),a&&a.c(),t=N(),C(n.$$.fragment),D(e,"class","truncate"),D(e,"style",r[5]),re(e,"multiline",r[2])},m(u,c){w(u,e,c),a&&a.m(e,null),r[9](e),w(u,t,c),y(n,u,c),l=!0,s||(i=[He(e,"mouseenter",r[6]),He(e,"mouseleave",r[10])],s=!0)},p(u,c){a&&a.p&&(!l||c&2048)&&Ae(a,o,u,u[11],l?Me(o,u[11],c,null):Pe(u[11]),null),(!l||c&32)&&D(e,"style",u[5]),(!l||c&4)&&re(e,"multiline",u[2]);const f={};c&16&&(f.isOpen=u[4]),c&8&&(f.trigger=u[3]),c&2&&(f.placements=u[1]),c&2048&&(f.$$scope={dirty:c,ctx:u}),n.$set(f)},i(u){l||(_(a,u),_(n.$$.fragment,u),l=!0)},o(u){g(a,u),g(n.$$.fragment,u),l=!1},d(u){u&&v(e),a&&a.d(u),r[9](null),u&&v(t),S(n,u),s=!1,It(i)}}}function pD(r){let e;const t=r[8].default,n=Ie(t,r,r[11],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2048)&&Ae(n,t,l,l[11],e?Me(t,l[11],s,null):Pe(l[11]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function gD(r){let e;const t=r[8].default,n=Ie(t,r,r[11],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2048)&&Ae(n,t,l,l[11],e?Me(t,l[11],s,null):Pe(l[11]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function hD(r){let e,t,n,l;const s=[pD,_D],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function bD(r){return r.scrollHeight-r.clientHeight>3||r.scrollWidth-r.clientWidth>0}function $D(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{lines:o=1}=e,{passthrough:a=!1}=e,{popoverPlacements:u=["top","right","left","bottom"]}=e,c,f=!1;function m(){bD(c)&&t(4,f=!0)}function d(h){Te[h?"unshift":"push"](()=>{c=h,t(3,c)})}const p=()=>{t(4,f=!1)};return r.$$set=h=>{"lines"in h&&t(7,o=h.lines),"passthrough"in h&&t(0,a=h.passthrough),"popoverPlacements"in h&&t(1,u=h.popoverPlacements),"$$scope"in h&&t(11,i=h.$$scope)},r.$$.update=()=>{r.$$.dirty&128&&t(2,n=o>1),r.$$.dirty&132&&t(5,l=n?`-webkit-line-clamp: ${o};`:void 0)},[a,u,n,c,f,l,m,o,s,d,p,i]}class pi extends x{constructor(e){super(),J(this,e,$D,hD,Q,{lines:7,passthrough:0,popoverPlacements:1})}}function en(r){return typeof r=="string"?r:ou(r,"message")?r.message:typeof r=="object"?JSON.stringify(r):String(r)}class $l extends Error{constructor(e,t){super(`${JSON.stringify(e)}${t?` ${t}`:""}`),this.name="MissingExhaustiveConditionError"}}function An(r){throw new $l(r)}const vD=r=>({}),N_=r=>({});function F_(r){let e,t,n,l,s,i,o;const a=r[10].panel,u=Ie(a,r,r[9],N_);return{c(){e=M("div"),t=M("div"),l=N(),u&&u.c(),D(t,"class","resizer"),D(e,"class","panel"),D(e,"style",r[8])},m(c,f){w(c,e,f),I(e,t),I(e,l),u&&u.m(e,null),s=!0,i||(o=Dn(n=jw.call(null,t,{getStartingValue:r[11],onMove:r[12],onStart:r[13],onStop:r[14],min:r[2],max:r[3],axis:r[6]==="width"?"x":"y",invert:r[1]==="right"||r[1]==="bottom"})),i=!0)},p(c,f){n&&Pt(n.update)&&f&239&&n.update.call(null,{getStartingValue:c[11],onMove:c[12],onStart:c[13],onStop:c[14],min:c[2],max:c[3],axis:c[6]==="width"?"x":"y",invert:c[1]==="right"||c[1]==="bottom"}),u&&u.p&&(!s||f&512)&&Ae(u,a,c,c[9],s?Me(a,c[9],f,vD):Pe(c[9]),N_),(!s||f&256)&&D(e,"style",c[8])},i(c){s||(_(u,c),s=!0)},o(c){g(u,c),s=!1},d(c){c&&v(e),u&&u.d(c),i=!1,o()}}}function wD(r){let e,t,n,l;const s=r[10].default,i=Ie(s,r,r[9],null);let o=r[4]&&F_(r);return{c(){e=M("div"),t=M("div"),i&&i.c(),n=N(),o&&o.c(),D(t,"class","main"),D(e,"class","with-panel"),re(e,"is-resizing",r[7]),re(e,"top",r[1]==="top"),re(e,"bottom",r[1]==="bottom"),re(e,"left",r[1]==="left"),re(e,"right",r[1]==="right"),re(e,"horizontal",r[6]==="width"),re(e,"vertical",r[6]==="height")},m(a,u){w(a,e,u),I(e,t),i&&i.m(t,null),I(e,n),o&&o.m(e,null),l=!0},p(a,[u]){i&&i.p&&(!l||u&512)&&Ae(i,s,a,a[9],l?Me(s,a[9],u,null):Pe(a[9]),null),a[4]?o?(o.p(a,u),u&16&&_(o,1)):(o=F_(a),o.c(),_(o,1),o.m(e,null)):o&&(G(),g(o,1,1,()=>{o=null}),K()),(!l||u&128)&&re(e,"is-resizing",a[7]),(!l||u&2)&&re(e,"top",a[1]==="top"),(!l||u&2)&&re(e,"bottom",a[1]==="bottom"),(!l||u&2)&&re(e,"left",a[1]==="left"),(!l||u&2)&&re(e,"right",a[1]==="right"),(!l||u&64)&&re(e,"horizontal",a[6]==="width"),(!l||u&64)&&re(e,"vertical",a[6]==="height")},i(a){l||(_(i,a),_(o),l=!0)},o(a){g(i,a),g(o),l=!1},d(a){a&&v(e),i&&i.d(a),o&&o.d()}}}function kD(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{placement:o="right"}=e,{sizePx:a=300}=e,{minSizePx:u=0}=e,{maxSizePx:c=1/0}=e,{showPanel:f=!0}=e,{onResizeComplete:m=()=>{}}=e,d=!1;const p=()=>a,h=k=>{t(0,a=k)},b=()=>{t(7,d=!0)},$=k=>{t(7,d=!1),m(k)};return r.$$set=k=>{"placement"in k&&t(1,o=k.placement),"sizePx"in k&&t(0,a=k.sizePx),"minSizePx"in k&&t(2,u=k.minSizePx),"maxSizePx"in k&&t(3,c=k.maxSizePx),"showPanel"in k&&t(4,f=k.showPanel),"onResizeComplete"in k&&t(5,m=k.onResizeComplete),"$$scope"in k&&t(9,i=k.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&t(6,n=(()=>{switch(o){case"top":case"bottom":return"height";case"left":case"right":return"width";default:return An(o)}})()),r.$$.dirty&65&&t(8,l=`${n}: ${a}px;`)},[a,o,u,c,f,m,n,d,l,i,s,p,h,b,$]}class zf extends x{constructor(e){super(),J(this,e,kD,wD,Q,{placement:1,sizePx:0,minSizePx:2,maxSizePx:3,showPanel:4,onResizeComplete:5})}}var ac=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Fs={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(r){return typeof console<"u"&&console.warn(r)},getWeek:function(r){var e=new Date(r.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},to={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(r){var e=r%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},sr=function(r,e){return e===void 0&&(e=2),("000"+r).slice(e*-1)},Cr=function(r){return r===!0?1:0};function H_(r,e){var t;return function(){var n=this,l=arguments;clearTimeout(t),t=setTimeout(function(){return r.apply(n,l)},e)}}var uc=function(r){return r instanceof Array?r:[r]};function Qn(r,e,t){if(t===!0)return r.classList.add(e);r.classList.remove(e)}function Qt(r,e,t){var n=window.document.createElement(r);return e=e||"",t=t||"",n.className=e,t!==void 0&&(n.textContent=t),n}function Go(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function S6(r,e){if(e(r))return r;if(r.parentNode)return S6(r.parentNode,e)}function Ko(r,e){var t=Qt("div","numInputWrapper"),n=Qt("input","numInput "+r),l=Qt("span","arrowUp"),s=Qt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var i in e)n.setAttribute(i,e[i]);return t.appendChild(n),t.appendChild(l),t.appendChild(s),t}function fr(r){try{if(typeof r.composedPath=="function"){var e=r.composedPath();return e[0]}return r.target}catch(t){return r.target}}var cc=function(){},ba=function(r,e,t){return t.months[e?"shorthand":"longhand"][r]},yD={D:cc,F:function(r,e,t){r.setMonth(t.months.longhand.indexOf(e))},G:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},H:function(r,e){r.setHours(parseFloat(e))},J:function(r,e){r.setDate(parseFloat(e))},K:function(r,e,t){r.setHours(r.getHours()%12+12*Cr(new RegExp(t.amPM[1],"i").test(e)))},M:function(r,e,t){r.setMonth(t.months.shorthand.indexOf(e))},S:function(r,e){r.setSeconds(parseFloat(e))},U:function(r,e){return new Date(parseFloat(e)*1e3)},W:function(r,e,t){var n=parseInt(e),l=new Date(r.getFullYear(),0,2+(n-1)*7,0,0,0,0);return l.setDate(l.getDate()-l.getDay()+t.firstDayOfWeek),l},Y:function(r,e){r.setFullYear(parseFloat(e))},Z:function(r,e){return new Date(e)},d:function(r,e){r.setDate(parseFloat(e))},h:function(r,e){r.setHours((r.getHours()>=12?12:0)+parseFloat(e))},i:function(r,e){r.setMinutes(parseFloat(e))},j:function(r,e){r.setDate(parseFloat(e))},l:cc,m:function(r,e){r.setMonth(parseFloat(e)-1)},n:function(r,e){r.setMonth(parseFloat(e)-1)},s:function(r,e){r.setSeconds(parseFloat(e))},u:function(r,e){return new Date(parseFloat(e))},w:cc,y:function(r,e){r.setFullYear(2e3+parseFloat(e))}},os={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},qi={Z:function(r){return r.toISOString()},D:function(r,e,t){return e.weekdays.shorthand[qi.w(r,e,t)]},F:function(r,e,t){return ba(qi.n(r,e,t)-1,!1,e)},G:function(r,e,t){return sr(qi.h(r,e,t))},H:function(r){return sr(r.getHours())},J:function(r,e){return e.ordinal!==void 0?r.getDate()+e.ordinal(r.getDate()):r.getDate()},K:function(r,e){return e.amPM[Cr(r.getHours()>11)]},M:function(r,e){return ba(r.getMonth(),!0,e)},S:function(r){return sr(r.getSeconds())},U:function(r){return r.getTime()/1e3},W:function(r,e,t){return t.getWeek(r)},Y:function(r){return sr(r.getFullYear(),4)},d:function(r){return sr(r.getDate())},h:function(r){return r.getHours()%12?r.getHours()%12:12},i:function(r){return sr(r.getMinutes())},j:function(r){return r.getDate()},l:function(r,e){return e.weekdays.longhand[r.getDay()]},m:function(r){return sr(r.getMonth()+1)},n:function(r){return r.getMonth()+1},s:function(r){return r.getSeconds()},u:function(r){return r.getTime()},w:function(r){return r.getDay()},y:function(r){return String(r.getFullYear()).substring(2)}},C6=function(r){var e=r.config,t=e===void 0?Fs:e,n=r.l10n,l=n===void 0?to:n,s=r.isMobile,i=s===void 0?!1:s;return function(o,a,u){var c=u||l;return t.formatDate!==void 0&&!i?t.formatDate(o,a,c):a.split("").map(function(f,m,d){return qi[f]&&d[m-1]!=="\\"?qi[f](o,c,t):f!=="\\"?f:""}).join("")}},Kc=function(r){var e=r.config,t=e===void 0?Fs:e,n=r.l10n,l=n===void 0?to:n;return function(s,i,o,a){if(!(s!==0&&!s)){var u=a||l,c,f=s;if(s instanceof Date)c=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)c=new Date(s);else if(typeof s=="string"){var m=i||(t||Fs).dateFormat,d=String(s).trim();if(d==="today")c=new Date,o=!0;else if(t&&t.parseDate)c=t.parseDate(s,m);else if(/Z$/.test(d)||/GMT$/.test(d))c=new Date(s);else{for(var p=void 0,h=[],b=0,$=0,k="";b<m.length;b++){var T=m[b],E=T==="\\",A=m[b-1]==="\\"||E;if(os[T]&&!A){k+=os[T];var P=new RegExp(k).exec(s);P&&(p=!0)&&h[T!=="Y"?"push":"unshift"]({fn:yD[T],val:P[++$]})}else E||(k+=".")}c=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),h.forEach(function(O){var R=O.fn,F=O.val;return c=R(c,F,u)||c}),c=p?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){t.errorHandler(new Error("Invalid date provided: "+f));return}return o===!0&&c.setHours(0,0,0,0),c}}};function dr(r,e,t){return t===void 0&&(t=!0),t!==!1?new Date(r.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):r.getTime()-e.getTime()}var SD=function(r,e,t){return r>Math.min(e,t)&&r<Math.max(e,t)},fc=function(r,e,t){return r*3600+e*60+t},CD=function(r){var e=Math.floor(r/3600),t=(r-e*3600)/60;return[e,t,r-e*3600-t*60]},TD={DAY:864e5};function mc(r){var e=r.defaultHour,t=r.defaultMinute,n=r.defaultSeconds;if(r.minDate!==void 0){var l=r.minDate.getHours(),s=r.minDate.getMinutes(),i=r.minDate.getSeconds();e<l&&(e=l),e===l&&t<s&&(t=s),e===l&&t===s&&n<i&&(n=r.minDate.getSeconds())}if(r.maxDate!==void 0){var o=r.maxDate.getHours(),a=r.maxDate.getMinutes();e=Math.min(e,o),e===o&&(t=Math.min(a,t)),e===o&&t===a&&(n=r.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!r)throw TypeError("Cannot convert undefined or null to object");for(var n=function(o){o&&Object.keys(o).forEach(function(a){return r[a]=o[a]})},l=0,s=e;l<s.length;l++){var i=s[l];n(i)}return r});var Kn=globalThis&&globalThis.__assign||function(){return Kn=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(r[l]=e[l])}return r},Kn.apply(this,arguments)},z_=globalThis&&globalThis.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),l=0,e=0;e<t;e++)for(var s=arguments[e],i=0,o=s.length;i<o;i++,l++)n[l]=s[i];return n},ED=300;function DD(r,e){var t={config:Kn(Kn({},Fs),Mn.defaultConfig),l10n:to};t.parseDate=Kc({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=h,t._setHoursFromDate=m,t._positionCalendar=rt,t.changeMonth=_e,t.changeYear=ke,t.clear=ae,t.close=fe,t.onMouseOver=Je,t._createElement=Qt,t.createDay=P,t.destroy=Ue,t.isEnabled=Fe,t.jumpToDate=k,t.updateValue=Ln,t.open=ot,t.redraw=et,t.set=Nt,t.setDate=Dt,t.toggle=ln;function n(){t.utils={getDaysInMonth:function(X,ne){return X===void 0&&(X=t.currentMonth),ne===void 0&&(ne=t.currentYear),X===1&&(ne%4===0&&ne%100!==0||ne%400===0)?29:t.l10n.daysInMonth[X]}}}function l(){t.element=t.input=r,t.isOpen=!1,ze(),pt(),Yt(),it(),n(),t.isMobile||A(),$(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&m(t.config.noCalendar?t.latestSelectedDateObj:void 0),Ln(!1)),o();var X=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&X&&rt(),tt("onReady")}function s(){var X;return((X=t.calendarContainer)===null||X===void 0?void 0:X.getRootNode()).activeElement||document.activeElement}function i(X){return X.bind(t)}function o(){var X=t.config;X.weekNumbers===!1&&X.showMonths===1||X.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var ne=(t.days.offsetWidth+1)*X.showMonths;t.daysContainer.style.width=ne+"px",t.calendarContainer.style.width=ne+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function a(X){if(t.selectedDates.length===0){var ne=t.config.minDate===void 0||dr(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),me=mc(t.config);ne.setHours(me.hours,me.minutes,me.seconds,ne.getMilliseconds()),t.selectedDates=[ne],t.latestSelectedDateObj=ne}X!==void 0&&X.type!=="blur"&&he(X);var pe=t._input.value;f(),Ln(),t._input.value!==pe&&t._debouncedChange()}function u(X,ne){return X%12+12*Cr(ne===t.l10n.amPM[1])}function c(X){switch(X%24){case 0:case 12:return 12;default:return X%12}}function f(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var X=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,ne=(parseInt(t.minuteElement.value,10)||0)%60,me=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(X=u(X,t.amPM.textContent));var pe=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&dr(t.latestSelectedDateObj,t.config.minDate,!0)===0,Ee=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&dr(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var De=fc(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),We=fc(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),je=fc(X,ne,me);if(je>We&&je<De){var Ce=CD(De);X=Ce[0],ne=Ce[1],me=Ce[2]}}else{if(Ee){var Le=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;X=Math.min(X,Le.getHours()),X===Le.getHours()&&(ne=Math.min(ne,Le.getMinutes())),ne===Le.getMinutes()&&(me=Math.min(me,Le.getSeconds()))}if(pe){var nt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;X=Math.max(X,nt.getHours()),X===nt.getHours()&&ne<nt.getMinutes()&&(ne=nt.getMinutes()),ne===nt.getMinutes()&&(me=Math.max(me,nt.getSeconds()))}}d(X,ne,me)}}function m(X){var ne=X||t.latestSelectedDateObj;ne&&ne instanceof Date&&d(ne.getHours(),ne.getMinutes(),ne.getSeconds())}function d(X,ne,me){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(X%24,ne,me||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=sr(t.config.time_24hr?X:(12+X)%12+12*Cr(X%12===0)),t.minuteElement.value=sr(ne),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[Cr(X>=12)]),t.secondElement!==void 0&&(t.secondElement.value=sr(me)))}function p(X){var ne=fr(X),me=parseInt(ne.value)+(X.delta||0);(me/1e3>1||X.key==="Enter"&&!/[^\d]/.test(me.toString()))&&ke(me)}function h(X,ne,me,pe){if(ne instanceof Array)return ne.forEach(function(Ee){return h(X,Ee,me,pe)});if(X instanceof Array)return X.forEach(function(Ee){return h(Ee,ne,me,pe)});X.addEventListener(ne,me,pe),t._handlers.push({remove:function(){return X.removeEventListener(ne,me,pe)}})}function b(){tt("onChange")}function $(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(me){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+me+"]"),function(pe){return h(pe,"click",t[me])})}),t.isMobile){$n();return}var X=H_(Ke,50);if(t._debouncedChange=H_(b,ED),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&h(t.daysContainer,"mouseover",function(me){t.config.mode==="range"&&Je(fr(me))}),h(t._input,"keydown",Ge),t.calendarContainer!==void 0&&h(t.calendarContainer,"keydown",Ge),!t.config.inline&&!t.config.static&&h(window,"resize",X),window.ontouchstart!==void 0?h(window.document,"touchstart",Se):h(window.document,"mousedown",Se),h(window.document,"focus",Se,{capture:!0}),t.config.clickOpens===!0&&(h(t._input,"focus",t.open),h(t._input,"click",t.open)),t.daysContainer!==void 0&&(h(t.monthNav,"click",be),h(t.monthNav,["keyup","increment"],p),h(t.daysContainer,"click",Ot)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var ne=function(me){return fr(me).select()};h(t.timeContainer,["increment"],a),h(t.timeContainer,"blur",a,{capture:!0}),h(t.timeContainer,"click",T),h([t.hourElement,t.minuteElement],["focus","click"],ne),t.secondElement!==void 0&&h(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&h(t.amPM,"click",function(me){a(me)})}t.config.allowInput&&h(t._input,"blur",Re)}function k(X,ne){var me=X!==void 0?t.parseDate(X):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),pe=t.currentYear,Ee=t.currentMonth;try{me!==void 0&&(t.currentYear=me.getFullYear(),t.currentMonth=me.getMonth())}catch(De){De.message="Invalid date supplied: "+me,t.config.errorHandler(De)}ne&&t.currentYear!==pe&&(tt("onYearChange"),H()),ne&&(t.currentYear!==pe||t.currentMonth!==Ee)&&tt("onMonthChange"),t.redraw()}function T(X){var ne=fr(X);~ne.className.indexOf("arrow")&&E(X,ne.classList.contains("arrowUp")?1:-1)}function E(X,ne,me){var pe=X&&fr(X),Ee=me||pe&&pe.parentNode&&pe.parentNode.firstChild,De=Jt("increment");De.delta=ne,Ee&&Ee.dispatchEvent(De)}function A(){var X=window.document.createDocumentFragment();if(t.calendarContainer=Qt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(X.appendChild(se()),t.innerContainer=Qt("div","flatpickr-innerContainer"),t.config.weekNumbers){var ne=ie(),me=ne.weekWrapper,pe=ne.weekNumbers;t.innerContainer.appendChild(me),t.weekNumbers=pe,t.weekWrapper=me}t.rContainer=Qt("div","flatpickr-rContainer"),t.rContainer.appendChild(V()),t.daysContainer||(t.daysContainer=Qt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),W(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),X.appendChild(t.innerContainer)}t.config.enableTime&&X.appendChild(B()),Qn(t.calendarContainer,"rangeMode",t.config.mode==="range"),Qn(t.calendarContainer,"animate",t.config.animate===!0),Qn(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(X);var Ee=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Ee&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var De=Qt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(De,t.element),De.appendChild(t.element),t.altInput&&De.appendChild(t.altInput),De.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function P(X,ne,me,pe){var Ee=Fe(ne,!0),De=Qt("span",X,ne.getDate().toString());return De.dateObj=ne,De.$i=pe,De.setAttribute("aria-label",t.formatDate(ne,t.config.ariaDateFormat)),X.indexOf("hidden")===-1&&dr(ne,t.now)===0&&(t.todayDateElem=De,De.classList.add("today"),De.setAttribute("aria-current","date")),Ee?(De.tabIndex=-1,Gn(ne)&&(De.classList.add("selected"),t.selectedDateElem=De,t.config.mode==="range"&&(Qn(De,"startRange",t.selectedDates[0]&&dr(ne,t.selectedDates[0],!0)===0),Qn(De,"endRange",t.selectedDates[1]&&dr(ne,t.selectedDates[1],!0)===0),X==="nextMonthDay"&&De.classList.add("inRange")))):De.classList.add("flatpickr-disabled"),t.config.mode==="range"&&yr(ne)&&!Gn(ne)&&De.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&X!=="prevMonthDay"&&pe%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(ne)+"</span>"),tt("onDayCreate",De),De}function O(X){X.focus(),t.config.mode==="range"&&Je(X)}function R(X){for(var ne=X>0?0:t.config.showMonths-1,me=X>0?t.config.showMonths:-1,pe=ne;pe!=me;pe+=X)for(var Ee=t.daysContainer.children[pe],De=X>0?0:Ee.children.length-1,We=X>0?Ee.children.length:-1,je=De;je!=We;je+=X){var Ce=Ee.children[je];if(Ce.className.indexOf("hidden")===-1&&Fe(Ce.dateObj))return Ce}}function F(X,ne){for(var me=X.className.indexOf("Month")===-1?X.dateObj.getMonth():t.currentMonth,pe=ne>0?t.config.showMonths:-1,Ee=ne>0?1:-1,De=me-t.currentMonth;De!=pe;De+=Ee)for(var We=t.daysContainer.children[De],je=me-t.currentMonth===De?X.$i+ne:ne<0?We.children.length-1:0,Ce=We.children.length,Le=je;Le>=0&&Le<Ce&&Le!=(ne>0?Ce:-1);Le+=Ee){var nt=We.children[Le];if(nt.className.indexOf("hidden")===-1&&Fe(nt.dateObj)&&Math.abs(X.$i-Le)>=Math.abs(ne))return O(nt)}t.changeMonth(Ee),L(R(Ee),0)}function L(X,ne){var me=s(),pe=we(me||document.body),Ee=X!==void 0?X:pe?me:t.selectedDateElem!==void 0&&we(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&we(t.todayDateElem)?t.todayDateElem:R(ne>0?1:-1);Ee===void 0?t._input.focus():pe?F(Ee,ne):O(Ee)}function U(X,ne){for(var me=(new Date(X,ne,1).getDay()-t.l10n.firstDayOfWeek+7)%7,pe=t.utils.getDaysInMonth((ne-1+12)%12,X),Ee=t.utils.getDaysInMonth(ne,X),De=window.document.createDocumentFragment(),We=t.config.showMonths>1,je=We?"prevMonthDay hidden":"prevMonthDay",Ce=We?"nextMonthDay hidden":"nextMonthDay",Le=pe+1-me,nt=0;Le<=pe;Le++,nt++)De.appendChild(P("flatpickr-day "+je,new Date(X,ne-1,Le),Le,nt));for(Le=1;Le<=Ee;Le++,nt++)De.appendChild(P("flatpickr-day",new Date(X,ne,Le),Le,nt));for(var ut=Ee+1;ut<=42-me&&(t.config.showMonths===1||nt%7!==0);ut++,nt++)De.appendChild(P("flatpickr-day "+Ce,new Date(X,ne+1,ut%Ee),ut,nt));var $t=Qt("div","dayContainer");return $t.appendChild(De),$t}function W(){if(t.daysContainer!==void 0){Go(t.daysContainer),t.weekNumbers&&Go(t.weekNumbers);for(var X=document.createDocumentFragment(),ne=0;ne<t.config.showMonths;ne++){var me=new Date(t.currentYear,t.currentMonth,1);me.setMonth(t.currentMonth+ne),X.appendChild(U(me.getFullYear(),me.getMonth()))}t.daysContainer.appendChild(X),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&Je()}}function H(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var X=function(pe){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&pe<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&pe>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var ne=0;ne<12;ne++)if(!!X(ne)){var me=Qt("option","flatpickr-monthDropdown-month");me.value=new Date(t.currentYear,ne).getMonth().toString(),me.textContent=ba(ne,t.config.shorthandCurrentMonth,t.l10n),me.tabIndex=-1,t.currentMonth===ne&&(me.selected=!0),t.monthsDropdownContainer.appendChild(me)}}}function z(){var X=Qt("div","flatpickr-month"),ne=window.document.createDocumentFragment(),me;t.config.showMonths>1||t.config.monthSelectorType==="static"?me=Qt("span","cur-month"):(t.monthsDropdownContainer=Qt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),h(t.monthsDropdownContainer,"change",function(We){var je=fr(We),Ce=parseInt(je.value,10);t.changeMonth(Ce-t.currentMonth),tt("onMonthChange")}),H(),me=t.monthsDropdownContainer);var pe=Ko("cur-year",{tabindex:"-1"}),Ee=pe.getElementsByTagName("input")[0];Ee.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ee.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ee.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ee.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var De=Qt("div","flatpickr-current-month");return De.appendChild(me),De.appendChild(pe),ne.appendChild(De),X.appendChild(ne),{container:X,yearElement:Ee,monthElement:me}}function te(){Go(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var X=t.config.showMonths;X--;){var ne=z();t.yearElements.push(ne.yearElement),t.monthElements.push(ne.monthElement),t.monthNav.appendChild(ne.container)}t.monthNav.appendChild(t.nextMonthNav)}function se(){return t.monthNav=Qt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Qt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Qt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,te(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(X){t.__hidePrevMonthArrow!==X&&(Qn(t.prevMonthNav,"flatpickr-disabled",X),t.__hidePrevMonthArrow=X)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(X){t.__hideNextMonthArrow!==X&&(Qn(t.nextMonthNav,"flatpickr-disabled",X),t.__hideNextMonthArrow=X)}}),t.currentYearElement=t.yearElements[0],Rr(),t.monthNav}function B(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var X=mc(t.config);t.timeContainer=Qt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var ne=Qt("span","flatpickr-time-separator",":"),me=Ko("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=me.getElementsByTagName("input")[0];var pe=Ko("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=pe.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=sr(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?X.hours:c(X.hours)),t.minuteElement.value=sr(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():X.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(me),t.timeContainer.appendChild(ne),t.timeContainer.appendChild(pe),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Ee=Ko("flatpickr-second");t.secondElement=Ee.getElementsByTagName("input")[0],t.secondElement.value=sr(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():X.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Qt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ee)}return t.config.time_24hr||(t.amPM=Qt("span","flatpickr-am-pm",t.l10n.amPM[Cr((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function V(){t.weekdayContainer?Go(t.weekdayContainer):t.weekdayContainer=Qt("div","flatpickr-weekdays");for(var X=t.config.showMonths;X--;){var ne=Qt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(ne)}return ee(),t.weekdayContainer}function ee(){if(!!t.weekdayContainer){var X=t.l10n.firstDayOfWeek,ne=z_(t.l10n.weekdays.shorthand);X>0&&X<ne.length&&(ne=z_(ne.splice(X,ne.length),ne.splice(0,X)));for(var me=t.config.showMonths;me--;)t.weekdayContainer.children[me].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ne.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function ie(){t.calendarContainer.classList.add("hasWeeks");var X=Qt("div","flatpickr-weekwrapper");X.appendChild(Qt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var ne=Qt("div","flatpickr-weeks");return X.appendChild(ne),{weekWrapper:X,weekNumbers:ne}}function _e(X,ne){ne===void 0&&(ne=!0);var me=ne?X:X-t.currentMonth;me<0&&t._hidePrevMonthArrow===!0||me>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=me,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,tt("onYearChange"),H()),W(),tt("onMonthChange"),Rr())}function ae(X,ne){if(X===void 0&&(X=!0),ne===void 0&&(ne=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,ne===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var me=mc(t.config),pe=me.hours,Ee=me.minutes,De=me.seconds;d(pe,Ee,De)}t.redraw(),X&&tt("onChange")}function fe(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),tt("onClose")}function Ue(){t.config!==void 0&&tt("onDestroy");for(var X=t._handlers.length;X--;)t._handlers[X].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var ne=t.calendarContainer.parentNode;if(ne.lastChild&&ne.removeChild(ne.lastChild),ne.parentNode){for(;ne.firstChild;)ne.parentNode.insertBefore(ne.firstChild,ne);ne.parentNode.removeChild(ne)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(me){try{delete t[me]}catch(pe){}})}function ve(X){return t.calendarContainer.contains(X)}function Se(X){if(t.isOpen&&!t.config.inline){var ne=fr(X),me=ve(ne),pe=ne===t.input||ne===t.altInput||t.element.contains(ne)||X.path&&X.path.indexOf&&(~X.path.indexOf(t.input)||~X.path.indexOf(t.altInput)),Ee=!pe&&!me&&!ve(X.relatedTarget),De=!t.config.ignoredFocusElements.some(function(We){return We.contains(ne)});Ee&&De&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&a(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function ke(X){if(!(!X||t.config.minDate&&X<t.config.minDate.getFullYear()||t.config.maxDate&&X>t.config.maxDate.getFullYear())){var ne=X,me=t.currentYear!==ne;t.currentYear=ne||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),me&&(t.redraw(),tt("onYearChange"),H())}}function Fe(X,ne){var me;ne===void 0&&(ne=!0);var pe=t.parseDate(X,void 0,ne);if(t.config.minDate&&pe&&dr(pe,t.config.minDate,ne!==void 0?ne:!t.minDateHasTime)<0||t.config.maxDate&&pe&&dr(pe,t.config.maxDate,ne!==void 0?ne:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(pe===void 0)return!1;for(var Ee=!!t.config.enable,De=(me=t.config.enable)!==null&&me!==void 0?me:t.config.disable,We=0,je=void 0;We<De.length;We++){if(je=De[We],typeof je=="function"&&je(pe))return Ee;if(je instanceof Date&&pe!==void 0&&je.getTime()===pe.getTime())return Ee;if(typeof je=="string"){var Ce=t.parseDate(je,void 0,!0);return Ce&&Ce.getTime()===pe.getTime()?Ee:!Ee}else if(typeof je=="object"&&pe!==void 0&&je.from&&je.to&&pe.getTime()>=je.from.getTime()&&pe.getTime()<=je.to.getTime())return Ee}return!Ee}function we(X){return t.daysContainer!==void 0?X.className.indexOf("hidden")===-1&&X.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(X):!1}function Re(X){var ne=X.target===t._input,me=t._input.value.trimEnd()!==ft();ne&&me&&!(X.relatedTarget&&ve(X.relatedTarget))&&t.setDate(t._input.value,!0,X.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function Ge(X){var ne=fr(X),me=t.config.wrap?r.contains(ne):ne===t._input,pe=t.config.allowInput,Ee=t.isOpen&&(!pe||!me),De=t.config.inline&&me&&!pe;if(X.keyCode===13&&me){if(pe)return t.setDate(t._input.value,!0,ne===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),ne.blur();t.open()}else if(ve(ne)||Ee||De){var We=!!t.timeContainer&&t.timeContainer.contains(ne);switch(X.keyCode){case 13:We?(X.preventDefault(),a(),mt()):Ot(X);break;case 27:X.preventDefault(),mt();break;case 8:case 46:me&&!t.config.allowInput&&(X.preventDefault(),t.clear());break;case 37:case 39:if(!We&&!me){X.preventDefault();var je=s();if(t.daysContainer!==void 0&&(pe===!1||je&&we(je))){var Ce=X.keyCode===39?1:-1;X.ctrlKey?(X.stopPropagation(),_e(Ce),L(R(1),0)):L(void 0,Ce)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:X.preventDefault();var Le=X.keyCode===40?1:-1;t.daysContainer&&ne.$i!==void 0||ne===t.input||ne===t.altInput?X.ctrlKey?(X.stopPropagation(),ke(t.currentYear-Le),L(R(1),0)):We||L(void 0,Le*7):ne===t.currentYearElement?ke(t.currentYear-Le):t.config.enableTime&&(!We&&t.hourElement&&t.hourElement.focus(),a(X),t._debouncedChange());break;case 9:if(We){var nt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(vt){return vt}),ut=nt.indexOf(ne);if(ut!==-1){var $t=nt[ut+(X.shiftKey?-1:1)];X.preventDefault(),($t||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(ne)&&X.shiftKey&&(X.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&ne===t.amPM)switch(X.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],f(),Ln();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],f(),Ln();break}(me||ve(ne))&&tt("onKeyDown",X)}function Je(X,ne){if(ne===void 0&&(ne="flatpickr-day"),!(t.selectedDates.length!==1||X&&(!X.classList.contains(ne)||X.classList.contains("flatpickr-disabled")))){for(var me=X?X.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),pe=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Ee=Math.min(me,t.selectedDates[0].getTime()),De=Math.max(me,t.selectedDates[0].getTime()),We=!1,je=0,Ce=0,Le=Ee;Le<De;Le+=TD.DAY)Fe(new Date(Le),!0)||(We=We||Le>Ee&&Le<De,Le<pe&&(!je||Le>je)?je=Le:Le>pe&&(!Ce||Le<Ce)&&(Ce=Le));var nt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+ne));nt.forEach(function(ut){var $t=ut.dateObj,vt=$t.getTime(),kt=je>0&&vt<je||Ce>0&&vt>Ce;if(kt){ut.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Bt){ut.classList.remove(Bt)});return}else if(We&&!kt)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Bt){ut.classList.remove(Bt)}),X!==void 0&&(X.classList.add(me<=t.selectedDates[0].getTime()?"startRange":"endRange"),pe<me&&vt===pe?ut.classList.add("startRange"):pe>me&&vt===pe&&ut.classList.add("endRange"),vt>=je&&(Ce===0||vt<=Ce)&&SD(vt,pe,me)&&ut.classList.add("inRange"))})}}function Ke(){t.isOpen&&!t.config.static&&!t.config.inline&&rt()}function ot(X,ne){if(ne===void 0&&(ne=t._positionElement),t.isMobile===!0){if(X){X.preventDefault();var me=fr(X);me&&me.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),tt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var pe=t.isOpen;t.isOpen=!0,pe||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),tt("onOpen"),rt(ne)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(X===void 0||!t.timeContainer.contains(X.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function lt(X){return function(ne){var me=t.config["_"+X+"Date"]=t.parseDate(ne,t.config.dateFormat),pe=t.config["_"+(X==="min"?"max":"min")+"Date"];me!==void 0&&(t[X==="min"?"minDateHasTime":"maxDateHasTime"]=me.getHours()>0||me.getMinutes()>0||me.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Ee){return Fe(Ee)}),!t.selectedDates.length&&X==="min"&&m(me),Ln()),t.daysContainer&&(et(),me!==void 0?t.currentYearElement[X]=me.getFullYear().toString():t.currentYearElement.removeAttribute(X),t.currentYearElement.disabled=!!pe&&me!==void 0&&pe.getFullYear()===me.getFullYear())}}function ze(){var X=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ne=Kn(Kn({},JSON.parse(JSON.stringify(r.dataset||{}))),e),me={};t.config.parseDate=ne.parseDate,t.config.formatDate=ne.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(nt){t.config._enable=Mt(nt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(nt){t.config._disable=Mt(nt)}});var pe=ne.mode==="time";if(!ne.dateFormat&&(ne.enableTime||pe)){var Ee=Mn.defaultConfig.dateFormat||Fs.dateFormat;me.dateFormat=ne.noCalendar||pe?"H:i"+(ne.enableSeconds?":S":""):Ee+" H:i"+(ne.enableSeconds?":S":"")}if(ne.altInput&&(ne.enableTime||pe)&&!ne.altFormat){var De=Mn.defaultConfig.altFormat||Fs.altFormat;me.altFormat=ne.noCalendar||pe?"h:i"+(ne.enableSeconds?":S K":" K"):De+(" h:i"+(ne.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:lt("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:lt("max")});var We=function(nt){return function(ut){t.config[nt==="min"?"_minTime":"_maxTime"]=t.parseDate(ut,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:We("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:We("max")}),ne.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,me,ne);for(var je=0;je<X.length;je++)t.config[X[je]]=t.config[X[je]]===!0||t.config[X[je]]==="true";ac.filter(function(nt){return t.config[nt]!==void 0}).forEach(function(nt){t.config[nt]=uc(t.config[nt]||[]).map(i)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var je=0;je<t.config.plugins.length;je++){var Ce=t.config.plugins[je](t)||{};for(var Le in Ce)ac.indexOf(Le)>-1?t.config[Le]=uc(Ce[Le]).map(i).concat(t.config[Le]):typeof ne[Le]>"u"&&(t.config[Le]=Ce[Le])}ne.altInputClass||(t.config.altInputClass=Xe().className+" "+t.config.altInputClass),tt("onParseConfig")}function Xe(){return t.config.wrap?r.querySelector("[data-input]"):r}function pt(){typeof t.config.locale!="object"&&typeof Mn.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=Kn(Kn({},Mn.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Mn.l10ns[t.config.locale]:void 0),os.D="("+t.l10n.weekdays.shorthand.join("|")+")",os.l="("+t.l10n.weekdays.longhand.join("|")+")",os.M="("+t.l10n.months.shorthand.join("|")+")",os.F="("+t.l10n.months.longhand.join("|")+")",os.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var X=Kn(Kn({},e),JSON.parse(JSON.stringify(r.dataset||{})));X.time_24hr===void 0&&Mn.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=C6(t),t.parseDate=Kc({config:t.config,l10n:t.l10n})}function rt(X){if(typeof t.config.position=="function")return void t.config.position(t,X);if(t.calendarContainer!==void 0){tt("onPreCalendarPosition");var ne=X||t._positionElement,me=Array.prototype.reduce.call(t.calendarContainer.children,function(vn,Vn){return vn+Vn.offsetHeight},0),pe=t.calendarContainer.offsetWidth,Ee=t.config.position.split(" "),De=Ee[0],We=Ee.length>1?Ee[1]:null,je=ne.getBoundingClientRect(),Ce=window.innerHeight-je.bottom,Le=De==="above"||De!=="below"&&Ce<me&&je.top>me,nt=window.pageYOffset+je.top+(Le?-me-2:ne.offsetHeight+2);if(Qn(t.calendarContainer,"arrowTop",!Le),Qn(t.calendarContainer,"arrowBottom",Le),!t.config.inline){var ut=window.pageXOffset+je.left,$t=!1,vt=!1;We==="center"?(ut-=(pe-je.width)/2,$t=!0):We==="right"&&(ut-=pe-je.width,vt=!0),Qn(t.calendarContainer,"arrowLeft",!$t&&!vt),Qn(t.calendarContainer,"arrowCenter",$t),Qn(t.calendarContainer,"arrowRight",vt);var kt=window.document.body.offsetWidth-(window.pageXOffset+je.right),Bt=ut+pe>window.document.body.offsetWidth,nn=kt+pe>window.document.body.offsetWidth;if(Qn(t.calendarContainer,"rightMost",Bt),!t.config.static)if(t.calendarContainer.style.top=nt+"px",!Bt)t.calendarContainer.style.left=ut+"px",t.calendarContainer.style.right="auto";else if(!nn)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=kt+"px";else{var Lt=st();if(Lt===void 0)return;var Gt=window.document.body.offsetWidth,Et=Math.max(0,Gt/2-pe/2),At=".flatpickr-calendar.centerMost:before",Kt=".flatpickr-calendar.centerMost:after",xt=Lt.cssRules.length,Xt="{left:"+je.left+"px;right:auto;}";Qn(t.calendarContainer,"rightMost",!1),Qn(t.calendarContainer,"centerMost",!0),Lt.insertRule(At+","+Kt+Xt,xt),t.calendarContainer.style.left=Et+"px",t.calendarContainer.style.right="auto"}}}}function st(){for(var X=null,ne=0;ne<document.styleSheets.length;ne++){var me=document.styleSheets[ne];if(!!me.cssRules){try{me.cssRules}catch(pe){continue}X=me;break}}return X!=null?X:qe()}function qe(){var X=document.createElement("style");return document.head.appendChild(X),X.sheet}function et(){t.config.noCalendar||t.isMobile||(H(),Rr(),W())}function mt(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function Ot(X){X.preventDefault(),X.stopPropagation();var ne=function(nt){return nt.classList&&nt.classList.contains("flatpickr-day")&&!nt.classList.contains("flatpickr-disabled")&&!nt.classList.contains("notAllowed")},me=S6(fr(X),ne);if(me!==void 0){var pe=me,Ee=t.latestSelectedDateObj=new Date(pe.dateObj.getTime()),De=(Ee.getMonth()<t.currentMonth||Ee.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=pe,t.config.mode==="single")t.selectedDates=[Ee];else if(t.config.mode==="multiple"){var We=Gn(Ee);We?t.selectedDates.splice(parseInt(We),1):t.selectedDates.push(Ee)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Ee,t.selectedDates.push(Ee),dr(Ee,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(nt,ut){return nt.getTime()-ut.getTime()}));if(f(),De){var je=t.currentYear!==Ee.getFullYear();t.currentYear=Ee.getFullYear(),t.currentMonth=Ee.getMonth(),je&&(tt("onYearChange"),H()),tt("onMonthChange")}if(Rr(),W(),Ln(),!De&&t.config.mode!=="range"&&t.config.showMonths===1?O(pe):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var Ce=t.config.mode==="single"&&!t.config.enableTime,Le=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(Ce||Le)&&mt()}b()}}var Qe={locale:[pt,ee],showMonths:[te,o,V],minDate:[k],maxDate:[k],positionElement:[tn],clickOpens:[function(){t.config.clickOpens===!0?(h(t._input,"focus",t.open),h(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Nt(X,ne){if(X!==null&&typeof X=="object"){Object.assign(t.config,X);for(var me in X)Qe[me]!==void 0&&Qe[me].forEach(function(pe){return pe()})}else t.config[X]=ne,Qe[X]!==void 0?Qe[X].forEach(function(pe){return pe()}):ac.indexOf(X)>-1&&(t.config[X]=uc(ne));t.redraw(),Ln(!0)}function Ct(X,ne){var me=[];if(X instanceof Array)me=X.map(function(pe){return t.parseDate(pe,ne)});else if(X instanceof Date||typeof X=="number")me=[t.parseDate(X,ne)];else if(typeof X=="string")switch(t.config.mode){case"single":case"time":me=[t.parseDate(X,ne)];break;case"multiple":me=X.split(t.config.conjunction).map(function(pe){return t.parseDate(pe,ne)});break;case"range":me=X.split(t.l10n.rangeSeparator).map(function(pe){return t.parseDate(pe,ne)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(X)));t.selectedDates=t.config.allowInvalidPreload?me:me.filter(function(pe){return pe instanceof Date&&Fe(pe,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(pe,Ee){return pe.getTime()-Ee.getTime()})}function Dt(X,ne,me){if(ne===void 0&&(ne=!1),me===void 0&&(me=t.config.dateFormat),X!==0&&!X||X instanceof Array&&X.length===0)return t.clear(ne);Ct(X,me),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),k(void 0,ne),m(),t.selectedDates.length===0&&t.clear(!1),Ln(ne),ne&&tt("onChange")}function Mt(X){return X.slice().map(function(ne){return typeof ne=="string"||typeof ne=="number"||ne instanceof Date?t.parseDate(ne,void 0,!0):ne&&typeof ne=="object"&&ne.from&&ne.to?{from:t.parseDate(ne.from,void 0),to:t.parseDate(ne.to,void 0)}:ne}).filter(function(ne){return ne})}function it(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var X=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);X&&Ct(X,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function Yt(){if(t.input=Xe(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Qt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),tn()}function tn(){t._positionElement=t.config.positionElement||t._input}function $n(){var X=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Qt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=X,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=X==="datetime-local"?"Y-m-d\\TH:i:S":X==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch(ne){}h(t.mobileInput,"change",function(ne){t.setDate(fr(ne).value,!1,t.mobileFormatStr),tt("onChange"),tt("onClose")})}function ln(X){if(t.isOpen===!0)return t.close();t.open(X)}function tt(X,ne){if(t.config!==void 0){var me=t.config[X];if(me!==void 0&&me.length>0)for(var pe=0;me[pe]&&pe<me.length;pe++)me[pe](t.selectedDates,t.input.value,t,ne);X==="onChange"&&(t.input.dispatchEvent(Jt("change")),t.input.dispatchEvent(Jt("input")))}}function Jt(X){var ne=document.createEvent("Event");return ne.initEvent(X,!0,!0),ne}function Gn(X){for(var ne=0;ne<t.selectedDates.length;ne++){var me=t.selectedDates[ne];if(me instanceof Date&&dr(me,X)===0)return""+ne}return!1}function yr(X){return t.config.mode!=="range"||t.selectedDates.length<2?!1:dr(X,t.selectedDates[0])>=0&&dr(X,t.selectedDates[1])<=0}function Rr(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(X,ne){var me=new Date(t.currentYear,t.currentMonth,1);me.setMonth(t.currentMonth+ne),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[ne].textContent=ba(me.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=me.getMonth().toString(),X.value=me.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function ft(X){var ne=X||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(me){return t.formatDate(me,ne)}).filter(function(me,pe,Ee){return t.config.mode!=="range"||t.config.enableTime||Ee.indexOf(me)===pe}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Ln(X){X===void 0&&(X=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=ft(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=ft(t.config.altFormat)),X!==!1&&tt("onValueUpdate")}function be(X){var ne=fr(X),me=t.prevMonthNav.contains(ne),pe=t.nextMonthNav.contains(ne);me||pe?_e(me?-1:1):t.yearElements.indexOf(ne)>=0?ne.select():ne.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):ne.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function he(X){X.preventDefault();var ne=X.type==="keydown",me=fr(X),pe=me;t.amPM!==void 0&&me===t.amPM&&(t.amPM.textContent=t.l10n.amPM[Cr(t.amPM.textContent===t.l10n.amPM[0])]);var Ee=parseFloat(pe.getAttribute("min")),De=parseFloat(pe.getAttribute("max")),We=parseFloat(pe.getAttribute("step")),je=parseInt(pe.value,10),Ce=X.delta||(ne?X.which===38?1:-1:0),Le=je+We*Ce;if(typeof pe.value<"u"&&pe.value.length===2){var nt=pe===t.hourElement,ut=pe===t.minuteElement;Le<Ee?(Le=De+Le+Cr(!nt)+(Cr(nt)&&Cr(!t.amPM)),ut&&E(void 0,-1,t.hourElement)):Le>De&&(Le=pe===t.hourElement?Le-De-Cr(!t.amPM):Ee,ut&&E(void 0,1,t.hourElement)),t.amPM&&nt&&(We===1?Le+je===23:Math.abs(Le-je)>We)&&(t.amPM.textContent=t.l10n.amPM[Cr(t.amPM.textContent===t.l10n.amPM[0])]),pe.value=sr(Le)}}return l(),t}function Hs(r,e){for(var t=Array.prototype.slice.call(r).filter(function(i){return i instanceof HTMLElement}),n=[],l=0;l<t.length;l++){var s=t[l];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=DD(s,e||{}),n.push(s._flatpickr)}catch(i){console.error(i)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(r){return Hs(this,r)},HTMLElement.prototype.flatpickr=function(r){return Hs([this],r)});var Mn=function(r,e){return typeof r=="string"?Hs(window.document.querySelectorAll(r),e):r instanceof Node?Hs([r],e):Hs(r,e)};Mn.defaultConfig={};Mn.l10ns={en:Kn({},to),default:Kn({},to)};Mn.localize=function(r){Mn.l10ns.default=Kn(Kn({},Mn.l10ns.default),r)};Mn.setDefaults=function(r){Mn.defaultConfig=Kn(Kn({},Mn.defaultConfig),r)};Mn.parseDate=Kc({});Mn.formatDate=C6({});Mn.compareDates=dr;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(r){return Hs(this,r)});Date.prototype.fp_incr=function(r){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof r=="string"?parseInt(r,10):r))};typeof window<"u"&&(window.flatpickr=Mn);function ID(r){let e;return{c(){e=M("div"),e.innerHTML='<input type="hidden" data-input=""/>',D(e,"class","flat-pickr")},m(t,n){w(t,e,n),r[7](e)},p:j,i:j,o:j,d(t){t&&v(e),r[7](null)}}}function MD(r,e,t){const n=ht();let{value:l}=e,{type:s}=e,{format:i}=e,{timeShow24Hr:o=!0}=e,{timeEnableSeconds:a=!0}=e,u,c;_n(()=>(t(6,c=Mn(u,{wrap:!0,enableTime:s!=="date",enableSeconds:a,noCalendar:s==="time",dateFormat:i,parseDate:(m,d)=>dn(m,d).toDate(),formatDate:(m,d)=>dn(m).format(d),time_24hr:o,static:!0,inline:!0,monthSelectorType:"static",onChange:m=>{if(m[0]){const d=l,p=dn(m[0]);if(t(1,l=p.format(i)),n("change",l),s==="date")n("dateChange",l);else if(s==="time")n("timeChange",l);else{const h=dn(d,i);if(!h.isValid()){n("dateChange",l),n("timeChange",l);return}h.format("YYYY-MM-DD")!==p.format("YYYY-MM-DD")&&n("dateChange",l),h.format("HH:mm")!==p.format("HH:mm")&&n("timeChange",l)}}}})),()=>c.destroy()));function f(m){Te[m?"unshift":"push"](()=>{u=m,t(0,u)})}return r.$$set=m=>{"value"in m&&t(1,l=m.value),"type"in m&&t(2,s=m.type),"format"in m&&t(3,i=m.format),"timeShow24Hr"in m&&t(4,o=m.timeShow24Hr),"timeEnableSeconds"in m&&t(5,a=m.timeEnableSeconds)},r.$$.update=()=>{r.$$.dirty&66&&(typeof l>"u"||l===null?c==null||c.clear():c==null||c.setDate(l))},[u,l,s,i,o,a,c,f]}class AD extends x{constructor(e){super(),J(this,e,MD,ID,Q,{value:1,type:2,format:3,timeShow24Hr:4,timeEnableSeconds:5})}}const PD=r=>({}),V_=r=>({slot:"trigger"});function q_(r){let e,t;const n=[r[2]];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&4?de(n,[$e(s[2])]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function B_(r){let e,t;return{c(){e=M("span"),t=q(r[0]),D(e,"class","label")},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&1&&Y(t,n[0])},d(n){n&&v(e)}}}function RD(r){let e,t,n,l=r[2]&&q_(r),s=r[0]&&B_(r);return{c(){e=M("span"),l&&l.c(),t=N(),s&&s.c(),D(e,"class","dropdown-menu-trigger svelte-pow2fb")},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,o){i[2]?l?(l.p(i,o),o&4&&_(l,1)):(l=q_(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[0]?s?s.p(i,o):(s=B_(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(i){n||(_(l),n=!0)},o(i){g(l),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function OD(r){let e;const t=r[6].trigger,n=Ie(t,r,r[7],V_),l=n||RD(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&128)&&Ae(n,t,s,s[7],e?Me(t,s[7],i,PD):Pe(s[7]),V_):l&&l.p&&(!e||i&5)&&l.p(s,e?i:-1)},i(s){e||(_(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function LD(r){let e;const t=r[6].default,n=Ie(t,r,r[7],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&128)&&Ae(n,t,l,l[7],e?Me(t,l[7],s,null):Pe(l[7]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function ND(r){let e,t;return e=new Rf({props:{slot:"content",style:"--min-width: 100%;"+r[4],$$slots:{default:[LD]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.style="--min-width: 100%;"+n[4]),l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FD(r){var s;let e,t;const n=[{closeOnInnerClick:r[3]},{ariaLabel:(s=r[1])!=null?s:r[0]},r[5]];let l={$$slots:{content:[ND],trigger:[OD]},$$scope:{ctx:r}};for(let i=0;i<n.length;i+=1)l=le(l,n[i]);return e=new Pl({props:l}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),t=!0},p(i,[o]){var u;const a=o&43?de(n,[o&8&&{closeOnInnerClick:i[3]},o&3&&{ariaLabel:(u=i[1])!=null?u:i[0]},o&32&&$e(i[5])]):{};o&149&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function HD(r,e,t){const n=["label","ariaLabel","icon","closeOnInnerClick","menuStyle"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e,{label:o=""}=e,{ariaLabel:a=void 0}=e,{icon:u=void 0}=e,{closeOnInnerClick:c=!0}=e,{menuStyle:f=""}=e;return r.$$set=m=>{e=le(le({},e),_t(m)),t(5,l=Ye(e,n)),"label"in m&&t(0,o=m.label),"ariaLabel"in m&&t(1,a=m.ariaLabel),"icon"in m&&t(2,u=m.icon),"closeOnInnerClick"in m&&t(3,c=m.closeOnInnerClick),"menuStyle"in m&&t(4,f=m.menuStyle),"$$scope"in m&&t(7,i=m.$$scope)},[o,a,u,c,f,l,s,i]}class Xr extends x{constructor(e){super(),J(this,e,HD,FD,Q,{label:0,ariaLabel:1,icon:2,closeOnInnerClick:3,menuStyle:4})}}const zD=r=>({option:r&1,label:r&17}),U_=r=>({option:r[0],label:r[4](r[0])}),VD=r=>({}),W_=r=>({option:r[28],label:r[29]}),qD=r=>({option:r&268435456,label:r&536870912}),j_=r=>({option:r[28],label:r[29]});function BD(r){let e,t;return e=new ol({props:{arg:r[4](r[0])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&17&&(s.arg=n[4](n[0])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UD(r){let e;const t=r[16].default,n=Ie(t,r,r[23],U_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8388625)&&Ae(n,t,l,l[23],e?Me(t,l[23],s,zD):Pe(l[23]),U_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function WD(r){let e,t,n,l;const s=[UD,BD],i=[];function o(a,u){return a[14].default?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function jD(r){let e,t;return e=new _i({props:{id:r[1]+"-select-options"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.id=n[1]+"-select-options"),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function YD(r){let e,t;return e=new _i({props:{id:r[1]+"-select-options",$$slots:{default:[GD,({option:n,label:l})=>({28:n,29:l}),({option:n,label:l})=>(n?268435456:0)|(l?536870912:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.id=n[1]+"-select-options"),l&813694976&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function GD(r){let e;const t=r[16].default,n=Ie(t,r,r[23],j_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&813694976)&&Ae(n,t,l,l[23],e?Me(t,l[23],s,qD):Pe(l[23]),j_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Y_(r){let e;const t=r[16].empty,n=Ie(t,r,r[23],W_);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8388608)&&Ae(n,t,l,l[23],e?Me(t,l[23],s,VD):Pe(l[23]),W_)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function KD(r){let e,t,n,l,s;const i=[YD,jD],o=[];function a(c,f){return c[14].default?0:1}e=a(r),t=o[e]=i[e](r);let u=r[5].length===0&&r[14].empty&&Y_(r);return{c(){t.c(),n=N(),u&&u.c(),l=oe()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,l,f),s=!0},p(c,f){let m=e;e=a(c),e===m?o[e].p(c,f):(G(),g(o[m],1,1,()=>{o[m]=null}),K(),t=o[e],t?t.p(c,f):(t=o[e]=i[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[5].length===0&&c[14].empty?u?(u.p(c,f),f&16416&&_(u,1)):(u=Y_(c),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){s||(_(t),_(u),s=!0)},o(c){g(t),g(u),s=!1},d(c){o[e].d(c),c&&v(n),u&&u.d(c),c&&v(l)}}}function XD(r){let e,t;function n(){return r[17](r[26])}function l(){return r[18](r[26])}function s(...i){return r[19](r[26],...i)}return e=new Pl({props:{ariaControls:r[1]+"-select-options",ariaLabel:r[10],isOpen:r[27],disabled:r[2],id:r[1],contentClass:["select",r[8],r[6]].join(" "),triggerAppearance:r[9],triggerClass:["input-element select full-width",r[8],r[7]].join(" "),$$slots:{content:[KD],trigger:[WD]},$$scope:{ctx:r}}}),e.$on("open",n),e.$on("close",l),e.$on("keydown",s),e.$on("focus",r[20]),e.$on("blur",r[21]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),t=!0},p(i,o){r=i;const a={};o&2&&(a.ariaControls=r[1]+"-select-options"),o&1024&&(a.ariaLabel=r[10]),o&134217728&&(a.isOpen=r[27]),o&4&&(a.disabled=r[2]),o&2&&(a.id=r[1]),o&320&&(a.contentClass=["select",r[8],r[6]].join(" ")),o&512&&(a.triggerAppearance=r[9]),o&384&&(a.triggerClass=["input-element select full-width",r[8],r[7]].join(" ")),o&8405043&&(a.$$scope={dirty:o,ctx:r}),e.$set(a)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){g(e.$$.fragment,i),t=!1},d(i){S(e,i)}}}function QD(r){let e,t,n,l;const s=[r[13],{id:r[1]},{disabled:r[2]}];let i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return e=new Ml({props:i}),n=new mu({props:{selectionType:"single",options:r[5],value:typeof r[0]<"u"?[r[0]]:[],labelKey:r[3],getLabel:r[4],checkEquality:r[11],$$slots:{default:[XD,({api:o,isOpen:a})=>({26:o,27:a}),({api:o,isOpen:a})=>(o?67108864:0)|(a?134217728:0)]},$$scope:{ctx:r}}}),n.$on("change",r[22]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),l=!0},p(o,[a]){const u=a&8198?de(s,[a&8192&&$e(o[13]),a&2&&{id:o[1]},a&4&&{disabled:o[2]}]):{};e.$set(u);const c={};a&32&&(c.options=o[5]),a&1&&(c.value=typeof o[0]<"u"?[o[0]]:[]),a&8&&(c.labelKey=o[3]),a&16&&(c.getLabel=o[4]),a&2048&&(c.checkEquality=o[11]),a&209733623&&(c.$$scope={dirty:a,ctx:o}),n.$set(c)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),l=!1},d(o){S(e,o),o&&v(t),S(n,o)}}}function ZD(r,e,t){const n=["id","disabled","labelKey","getLabel","options","value","contentClass","triggerClass","class","triggerAppearance","ariaLabel","valuesAreEqual","autoSelect"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;const o=ur(s),a=ht();let{id:u=Il()}=e,{disabled:c=!1}=e,{labelKey:f="label"}=e,{getLabel:m=z=>ui(z,f)}=e,{options:d}=e,{value:p=void 0}=e,{contentClass:h=""}=e,{triggerClass:b=""}=e,{class:$=""}=e,{triggerAppearance:k="default"}=e,{ariaLabel:T=void 0}=e,{valuesAreEqual:E=(z,te)=>z===te}=e,{autoSelect:A="first"}=e;function P(z){t(0,[p]=z,p),a("change",p),a("input",p),a("artificialChange",p),a("artificialInput",p)}function O(z){if(A!=="none"){if(!z.length){p!==void 0&&P([]);return}(p===void 0||!z.some(te=>E(te,p)))&&(A==="first"?P(z):A==="clear"&&P([]))}}const R=z=>z.open(),F=z=>z.close(),L=(z,te)=>z.handleKeyDown(te);function U(z){ye.call(this,r,z)}function W(z){ye.call(this,r,z)}const H=z=>P(z.detail);return r.$$set=z=>{e=le(le({},e),_t(z)),t(13,l=Ye(e,n)),"id"in z&&t(1,u=z.id),"disabled"in z&&t(2,c=z.disabled),"labelKey"in z&&t(3,f=z.labelKey),"getLabel"in z&&t(4,m=z.getLabel),"options"in z&&t(5,d=z.options),"value"in z&&t(0,p=z.value),"contentClass"in z&&t(6,h=z.contentClass),"triggerClass"in z&&t(7,b=z.triggerClass),"class"in z&&t(8,$=z.class),"triggerAppearance"in z&&t(9,k=z.triggerAppearance),"ariaLabel"in z&&t(10,T=z.ariaLabel),"valuesAreEqual"in z&&t(11,E=z.valuesAreEqual),"autoSelect"in z&&t(15,A=z.autoSelect),"$$scope"in z&&t(23,i=z.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&O(d)},[p,u,c,f,m,d,h,b,$,k,T,E,P,l,o,A,s,R,F,L,U,W,H,i]}class Tn extends x{constructor(e){super(),J(this,e,ZD,QD,Q,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,contentClass:6,triggerClass:7,class:8,triggerAppearance:9,ariaLabel:10,valuesAreEqual:11,autoSelect:15})}}function JD(r,e,t){var n,l,s,i;return r==="boolean"?[{value:!0,label:(l=(n=t==null?void 0:t.true)==null?void 0:n.label)!=null?l:"True"},{value:!1,label:(i=(s=t==null?void 0:t.false)==null?void 0:s.label)!=null?i:"False"}]:(e==null?void 0:e.map(o=>{var a,u;return{value:o,label:(u=(a=t==null?void 0:t[o])==null?void 0:a.label)!=null?u:o}}))||[]}function xD(r,e){return r.find(t=>t.value===e)}function eI(r,e){return r==="boolean"?!0:e==null?void 0:e[0]}function tI(r){let e,t;const n=[r[4],{triggerAppearance:r[0]},{options:r[1]},{value:r[2]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Tn({props:l}),e.$on("change",r[3]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&23?de(n,[i&16&&$e(s[4]),i&1&&{triggerAppearance:s[0]},i&2&&{options:s[1]},i&4&&{value:s[2]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function nI(r,e,t){let n,l;const s=["dataType","enumValues","options","triggerAppearance","value"];let i=Ye(e,s),{dataType:o}=e,{enumValues:a=void 0}=e,{options:u=void 0}=e,{triggerAppearance:c="default"}=e,{value:f=eI(o,a)}=e;function m(d){var p;t(5,f=(p=d.detail)==null?void 0:p.value)}return r.$$set=d=>{e=le(le({},e),_t(d)),t(4,i=Ye(e,s)),"dataType"in d&&t(6,o=d.dataType),"enumValues"in d&&t(7,a=d.enumValues),"options"in d&&t(8,u=d.options),"triggerAppearance"in d&&t(0,c=d.triggerAppearance),"value"in d&&t(5,f=d.value)},r.$$.update=()=>{r.$$.dirty&448&&t(1,n=JD(o,a,u)),r.$$.dirty&34&&t(2,l=xD(n,f))},[c,n,l,m,i,f,o,a,u]}class rI extends x{constructor(e){super(),J(this,e,nI,tI,Q,{dataType:6,enumValues:7,options:8,triggerAppearance:0,value:5})}}function lI(r){let e,t,n;const l=[r[2]];function s(o){r[4](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new gn({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&4?de(l,[$e(o[2])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function sI(r){let e,t,n;const l=[r[2]];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new bs({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&4?de(l,[$e(o[2])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function iI(r){let e,t,n,l;const s=[sI,lI],i=[];function o(a,u){return a[1]==="textarea"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function oI(r,e,t){const n=["value","interfaceType"];let l=Ye(e,n),{value:s=void 0}=e,{interfaceType:i=void 0}=e;function o(u){s=u,t(0,s)}function a(u){s=u,t(0,s)}return r.$$set=u=>{e=le(le({},e),_t(u)),t(2,l=Ye(e,n)),"value"in u&&t(0,s=u.value),"interfaceType"in u&&t(1,i=u.interfaceType)},[s,i,l,o,a]}class aI extends x{constructor(e){super(),J(this,e,oI,iI,Q,{value:0,interfaceType:1})}}function uI(r){let e,t,n;const l=[r[2]];function s(o){r[3](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.checked=r[0]),e=new Al({props:i}),Te.push(()=>Oe(e,"checked",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&4?de(l,[$e(o[2])]):{};!t&&a&1&&(t=!0,u.checked=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function cI(r){let e;return{c(){e=q("Toggle not implemented yet")},m(t,n){w(t,e,n)},p:j,i:j,o:j,d(t){t&&v(e)}}}function fI(r){let e,t,n,l;const s=[cI,uI],i=[];function o(a,u){return a[1]==="toggle"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function mI(r,e,t){const n=["value","interfaceType"];let l=Ye(e,n),{value:s=!1}=e,{interfaceType:i="checkbox"}=e;function o(a){s=a,t(0,s)}return r.$$set=a=>{e=le(le({},e),_t(a)),t(2,l=Ye(e,n)),"value"in a&&t(0,s=a.value),"interfaceType"in a&&t(1,i=a.interfaceType)},[s,i,l,o]}class dI extends x{constructor(e){super(),J(this,e,mI,fI,Q,{value:0,interfaceType:1})}}function _I(r){let e,t,n;const l=[r[5],{interfaceType:r[2]}];function s(o){r[9](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new aI({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&36?de(l,[a&32&&$e(o[5]),a&4&&{interfaceType:o[2]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function pI(r){let e,t,n;const l=[r[5],{allowFloat:r[1]==="float"},{allowNegative:!0}];function s(o){r[8](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new w6({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&34?de(l,[a&32&&$e(o[5]),a&2&&{allowFloat:o[1]==="float"},l[2]]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function gI(r){let e,t,n;const l=[r[5],{interfaceType:r[2]}];function s(o){r[7](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new dI({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&36?de(l,[a&32&&$e(o[5]),a&4&&{interfaceType:o[2]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function hI(r){let e,t,n;const l=[r[5],{enumValues:r[3]},{dataType:r[1]},{options:r[4]}];function s(o){r[6](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new rI({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&58?de(l,[a&32&&$e(o[5]),a&8&&{enumValues:o[3]},a&2&&{dataType:o[1]},a&16&&{options:o[4]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function bI(r){let e,t,n,l;const s=[hI,gI,pI,_I],i=[];function o(a,u){return a[3]||a[2]==="select"?0:a[1]==="boolean"?1:a[1]==="integer"||a[1]==="float"?2:a[1]==="string"?3:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function $I(r,e,t){const n=["dataType","value","interfaceType","enum","options"];let l=Ye(e,n),{dataType:s="string"}=e,{value:i=void 0}=e,{interfaceType:o=void 0}=e,{enum:a=void 0}=e,{options:u=void 0}=e;function c(p){i=p,t(0,i)}function f(p){i=p,t(0,i)}function m(p){i=p,t(0,i)}function d(p){i=p,t(0,i)}return r.$$set=p=>{e=le(le({},e),_t(p)),t(5,l=Ye(e,n)),"dataType"in p&&t(1,s=p.dataType),"value"in p&&t(0,i=p.value),"interfaceType"in p&&t(2,o=p.interfaceType),"enum"in p&&t(3,a=p.enum),"options"in p&&t(4,u=p.options)},[i,s,o,a,u,l,c,f,m,d]}class vI extends x{constructor(e){super(),J(this,e,$I,bI,Q,{dataType:1,value:0,interfaceType:2,enum:3,options:4})}}function G_(r,e,t){var s,i;const n=r.slice();n[18]=e[t];const l=Math.round((i=(s=n[1])==null?void 0:s[n[18].fileId])!=null?i:0);return n[19]=l,n}function K_(r){let e,t=[],n=new Map,l,s=r[0];const i=o=>o[18].fileId;for(let o=0;o<s.length;o+=1){let a=G_(r,s,o),u=i(a);n.set(u,t[o]=X_(u,a))}return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","files")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,a){a&3&&(s=o[0],G(),t=gt(t,a,i,1,o,s,n,e,bt,X_,null,G_),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function X_(r,e){let t,n,l,s,i,o,a=e[18].file.name+"",u,c,f,m,d,p,h,b=e[19]+"",$,k,T,E,A=bd(e[18].file.size)+"",P,O,R;const F=[Fd];let L={};for(let U=0;U<F.length;U+=1)L=le(L,F[U]);return s=new Be({props:L}),f=new JE({props:{percentage:e[19]}}),{key:r,first:null,c(){t=M("div"),n=M("div"),l=M("div"),C(s.$$.fragment),i=N(),o=M("span"),u=q(a),c=N(),C(f.$$.fragment),m=N(),d=M("div"),p=M("span"),h=q("Uploaded "),$=q(b),k=q("%"),T=N(),E=M("span"),P=q(A),O=N(),D(l,"class","file-name"),D(d,"class","upload-info"),D(n,"class","file-info"),D(t,"class","file"),this.first=t},m(U,W){w(U,t,W),I(t,n),I(n,l),y(s,l,null),I(l,i),I(l,o),I(o,u),I(n,c),y(f,n,null),I(n,m),I(n,d),I(d,p),I(p,h),I(p,$),I(p,k),I(d,T),I(d,E),I(E,P),I(t,O),R=!0},p(U,W){e=U;const H=W&0?de(F,[$e(Fd)]):{};s.$set(H),(!R||W&1)&&a!==(a=e[18].file.name+"")&&Y(u,a);const z={};W&3&&(z.percentage=e[19]),f.$set(z),(!R||W&3)&&b!==(b=e[19]+"")&&Y($,b),(!R||W&1)&&A!==(A=bd(e[18].file.size)+"")&&Y(P,A)},i(U){R||(_(s.$$.fragment,U),_(f.$$.fragment,U),R=!0)},o(U){g(s.$$.fragment,U),g(f.$$.fragment,U),R=!1},d(U){U&&v(t),S(s),S(f)}}}function Q_(r){let e,t,n,l;const s=r[10].default,i=Ie(s,r,r[9],null),o=i||wI();return{c(){e=M("label"),o&&o.c(),D(e,"tabindex","0"),D(e,"for",r[5]),D(e,"class","file-upload-trigger"),re(e,"dragging-over",r[4])},m(a,u){w(a,e,u),o&&o.m(e,null),t=!0,n||(l=[He(e,"keydown",r[8]),He(e,"drop",Hl(Ps(r[7]))),He(e,"dragenter",Hl(Ps(r[11]))),He(e,"dragover",Hl(Ps(r[12]))),He(e,"dragleave",Hl(Ps(r[13]))),He(e,"dragend",Hl(Ps(r[14])))],n=!0)},p(a,u){i&&i.p&&(!t||u&512)&&Ae(i,s,a,a[9],t?Me(s,a[9],u,null):Pe(a[9]),null),(!t||u&16)&&re(e,"dragging-over",a[4])},i(a){t||(_(o,a),t=!0)},o(a){g(o,a),t=!1},d(a){a&&v(e),o&&o.d(a),n=!1,It(l)}}}function wI(r){let e,t,n,l,s,i;const o=[Uc];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return n=new Be({props:a}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("div"),s.innerHTML=`<div class="title">Drag a file here</div> 
            <div class="desc">or click to browse a file from your computer</div>`,D(t,"class","icon-holder"),D(s,"class","text"),D(e,"class","message")},m(u,c){w(u,e,c),I(e,t),y(n,t,null),I(e,l),I(e,s),i=!0},p(u,c){const f=c&0?de(o,[$e(Uc)]):{};n.$set(f)},i(u){i||(_(n.$$.fragment,u),i=!0)},o(u){g(n.$$.fragment,u),i=!1},d(u){u&&v(e),S(n)}}}function kI(r){let e,t,n,l,s,i,o,a=r[0]&&r[0].length>0&&K_(r),u=(r[2]||!r[0]||r[0].length===0)&&Q_(r);return{c(){e=M("div"),a&&a.c(),t=N(),n=M("input"),l=N(),u&&u.c(),D(n,"type","file"),D(n,"id",r[5]),n.multiple=r[2],Cn(n,"display","none"),D(e,"class","file-upload"),re(e,"disabled",r[3]),re(e,"inprogress",r[0]&&r[0].length>0)},m(c,f){w(c,e,f),a&&a.m(e,null),I(e,t),I(e,n),I(e,l),u&&u.m(e,null),s=!0,i||(o=He(n,"change",r[6]),i=!0)},p(c,[f]){c[0]&&c[0].length>0?a?(a.p(c,f),f&1&&_(a,1)):(a=K_(c),a.c(),_(a,1),a.m(e,t)):a&&(G(),g(a,1,1,()=>{a=null}),K()),(!s||f&4)&&(n.multiple=c[2]),c[2]||!c[0]||c[0].length===0?u?(u.p(c,f),f&5&&_(u,1)):(u=Q_(c),u.c(),_(u,1),u.m(e,null)):u&&(G(),g(u,1,1,()=>{u=null}),K()),(!s||f&8)&&re(e,"disabled",c[3]),(!s||f&1)&&re(e,"inprogress",c[0]&&c[0].length>0)},i(c){s||(_(a),_(u),s=!0)},o(c){g(a),g(u),s=!1},d(c){c&&v(e),a&&a.d(),u&&u.d(),i=!1,o()}}}function yI(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ht(),i=Il();let{fileProgress:o=void 0}=e,{multiple:a=!1}=e,{fileUploads:u=void 0}=e,{disabled:c=!1}=e,f=0,m=!1;function d(A,P){const O=[];for(const R of P)O.push({fileId:`${i}-${f}`,file:R}),f+=1;t(0,u=[...u||[],...O]),s("add",{added:O,all:u,originalEvent:A})}function p(A){const P=A.target;P.files&&d(A,P.files),P.value=""}function h(A){var P;if(t(4,m=!1),!c){const O=(P=A.dataTransfer)==null?void 0:P.files;if(!O||O.length===0)return;const R=a?O:[O[0]];d(A,R)}}function b(A){!c&&A.key==="Enter"&&A.target.click()}const $=()=>{t(4,m=!0)},k=()=>{t(4,m=!0)},T=()=>{t(4,m=!1)},E=()=>{t(4,m=!1)};return r.$$set=A=>{"fileProgress"in A&&t(1,o=A.fileProgress),"multiple"in A&&t(2,a=A.multiple),"fileUploads"in A&&t(0,u=A.fileUploads),"disabled"in A&&t(3,c=A.disabled),"$$scope"in A&&t(9,l=A.$$scope)},[u,o,a,c,m,i,p,h,b,l,n,$,k,T,E]}class SI extends x{constructor(e){super(),J(this,e,yI,kI,Q,{fileProgress:1,multiple:2,fileUploads:0,disabled:3})}}function Z_(r,e,t){const n=r.slice();return n[19]=e[t],n}function J_(r){let e,t,n;return t=new dt({props:{appearance:"plain",tabindex:"0",role:"link","aria-label":"Previous",disabled:r[0]===1,$$slots:{default:[CI]},$$scope:{ctx:r}}}),t.$on("click",r[8]),{c(){e=M("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.disabled=l[0]===1),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function CI(r){let e,t;const n=[Ld,{tabindex:"-1"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(Ld),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function x_(r){let e,t,n,l,s,i;const o=[EI,TI],a=[];function u(f,m){return f[2]?0:1}t=u(r),n=a[t]=o[t](r);let c=r[5].start>2&&ep(r);return{c(){e=M("li"),n.c(),l=N(),c&&c.c(),s=oe()},m(f,m){w(f,e,m),a[t].m(e,null),w(f,l,m),c&&c.m(f,m),w(f,s,m),i=!0},p(f,m){let d=t;t=u(f),t===d?a[t].p(f,m):(G(),g(a[d],1,1,()=>{a[d]=null}),K(),n=a[t],n?n.p(f,m):(n=a[t]=o[t](f),n.c()),_(n,1),n.m(e,null)),f[5].start>2?c?(c.p(f,m),m&32&&_(c,1)):(c=ep(f),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){i||(_(n),_(c),i=!0)},o(f){g(n),g(c),i=!1},d(f){f&&v(e),a[t].d(),f&&v(l),c&&c.d(f),f&&v(s)}}}function TI(r){let e,t;return e=new dt({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":"Goto Page 1",class:"page",$$slots:{default:[DI]},$$scope:{ctx:r}}}),e.$on("click",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194304&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EI(r){let e,t,n,l,s;return{c(){e=M("a"),t=q("1"),D(e,"tabindex","0"),D(e,"aria-label","Goto Page 1"),D(e,"class","page"),D(e,"href",n=r[2](1,r[1])),D(e,"data-tinro-ignore","")},m(i,o){w(i,e,o),I(e,t),l||(s=He(e,"click",r[9]),l=!0)},p(i,o){o&6&&n!==(n=i[2](1,i[1]))&&D(e,"href",n)},i:j,o:j,d(i){i&&v(e),l=!1,s()}}}function DI(r){let e;return{c(){e=q("1")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function ep(r){let e,t,n;return t=new dt({props:{tabindex:"0",role:"link",appearance:"plain","aria-label":"Goto Page "+r[5].prevPageWindow,$$slots:{default:[II]},$$scope:{ctx:r}}}),t.$on("click",r[11]),{c(){e=M("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i["aria-label"]="Goto Page "+l[5].prevPageWindow),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function II(r){let e,t,n,l,s;const i=[{class:"ellipsis"},_a];let o={};for(let c=0;c<i.length;c+=1)o=le(o,i[c]);t=new Be({props:o});const a=[{class:"arrow"},Rd];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return l=new Be({props:u}),{c(){e=M("span"),C(t.$$.fragment),n=N(),C(l.$$.fragment)},m(c,f){w(c,e,f),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(c,f){const m=f&0?de(i,[i[0],$e(_a)]):{};t.$set(m);const d=f&0?de(a,[a[0],$e(Rd)]):{};l.$set(d)},i(c){s||(_(t.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),s=!1},d(c){c&&v(e),S(t),S(l)}}}function MI(r){let e,t;function n(...l){return r[13](r[19],...l)}return e=new dt({props:{tabindex:"0",appearance:"secondary",role:"link","aria-label":r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`,class:"page","data-page":r[19],"aria-selected":r[0]===r[19],$$slots:{default:[PI]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&33&&(i["aria-label"]=r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`),s&32&&(i["data-page"]=r[19]),s&33&&(i["aria-selected"]=r[0]===r[19]),s&4194336&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function AI(r){let e,t=r[19]+"",n,l,s,i,o,a,u;function c(...f){return r[12](r[19],...f)}return{c(){e=M("a"),n=q(t),D(e,"tabindex","0"),D(e,"class","page"),D(e,"href",l=r[2](r[19],r[1])),D(e,"aria-label",s=r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`),D(e,"aria-selected",i=r[0]===r[19]),D(e,"data-page",o=r[19]),D(e,"data-tinro-ignore","")},m(f,m){w(f,e,m),I(e,n),a||(u=He(e,"click",c),a=!0)},p(f,m){r=f,m&32&&t!==(t=r[19]+"")&&Y(n,t),m&38&&l!==(l=r[2](r[19],r[1]))&&D(e,"href",l),m&33&&s!==(s=r[0]===r[19]?`Current Page, Page ${r[0]}`:`Goto Page ${r[19]}`)&&D(e,"aria-label",s),m&33&&i!==(i=r[0]===r[19])&&D(e,"aria-selected",i),m&32&&o!==(o=r[19])&&D(e,"data-page",o)},i:j,o:j,d(f){f&&v(e),a=!1,u()}}}function PI(r){let e=r[19]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[19]+"")&&Y(t,e)},d(n){n&&v(t)}}}function tp(r,e){let t,n,l,s;const i=[AI,MI],o=[];function a(u,c){return u[2]?0:1}return n=a(e),l=o[n]=i[n](e),{key:r,first:null,c(){t=M("li"),l.c(),re(t,"active",e[0]===e[19]),this.first=t},m(u,c){w(u,t,c),o[n].m(t,null),s=!0},p(u,c){e=u;let f=n;n=a(e),n===f?o[n].p(e,c):(G(),g(o[f],1,1,()=>{o[f]=null}),K(),l=o[n],l?l.p(e,c):(l=o[n]=i[n](e),l.c()),_(l,1),l.m(t,null)),(!s||c&33)&&re(t,"active",e[0]===e[19])},i(u){s||(_(l),s=!0)},o(u){g(l),s=!1},d(u){u&&v(t),o[n].d()}}}function np(r){let e,t,n,l,s,i=r[5].end<r[4]-1&&rp(r);const o=[LI,OI],a=[];function u(c,f){return c[2]?0:1}return n=u(r),l=a[n]=o[n](r),{c(){i&&i.c(),e=N(),t=M("li"),l.c()},m(c,f){i&&i.m(c,f),w(c,e,f),w(c,t,f),a[n].m(t,null),s=!0},p(c,f){c[5].end<c[4]-1?i?(i.p(c,f),f&48&&_(i,1)):(i=rp(c),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(G(),g(i,1,1,()=>{i=null}),K());let m=n;n=u(c),n===m?a[n].p(c,f):(G(),g(a[m],1,1,()=>{a[m]=null}),K(),l=a[n],l?l.p(c,f):(l=a[n]=o[n](c),l.c()),_(l,1),l.m(t,null))},i(c){s||(_(i),_(l),s=!0)},o(c){g(i),g(l),s=!1},d(c){i&&i.d(c),c&&v(e),c&&v(t),a[n].d()}}}function rp(r){let e,t,n;return t=new dt({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Goto Page "+r[5].nextPageWindow,$$slots:{default:[RI]},$$scope:{ctx:r}}}),t.$on("click",r[14]),{c(){e=M("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i["aria-label"]="Goto Page "+l[5].nextPageWindow),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function RI(r){let e,t,n,l,s;const i=[{class:"ellipsis"},_a];let o={};for(let c=0;c<i.length;c+=1)o=le(o,i[c]);t=new Be({props:o});const a=[{class:"arrow"},Pd];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return l=new Be({props:u}),{c(){e=M("span"),C(t.$$.fragment),n=N(),C(l.$$.fragment)},m(c,f){w(c,e,f),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(c,f){const m=f&0?de(i,[i[0],$e(_a)]):{};t.$set(m);const d=f&0?de(a,[a[0],$e(Pd)]):{};l.$set(d)},i(c){s||(_(t.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),s=!1},d(c){c&&v(e),S(t),S(l)}}}function OI(r){let e,t;return e=new dt({props:{tabindex:"0",appearance:"secondary",class:"page",role:"link","aria-label":"Goto Page "+r[4],$$slots:{default:[NI]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s["aria-label"]="Goto Page "+n[4]),l&4194320&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function LI(r){let e,t,n,l,s,i;return{c(){e=M("a"),t=q(r[4]),D(e,"tabindex","0"),D(e,"class","page"),D(e,"aria-label",n="Goto Page "+r[4]),D(e,"href",l=r[2](r[4],r[1])),D(e,"data-tinro-ignore","")},m(o,a){w(o,e,a),I(e,t),s||(i=He(e,"click",r[15]),s=!0)},p(o,a){a&16&&Y(t,o[4]),a&16&&n!==(n="Goto Page "+o[4])&&D(e,"aria-label",n),a&22&&l!==(l=o[2](o[4],o[1]))&&D(e,"href",l)},i:j,o:j,d(o){o&&v(e),s=!1,i()}}}function NI(r){let e;return{c(){e=q(r[4])},m(t,n){w(t,e,n)},p(t,n){n&16&&Y(e,t[4])},d(t){t&&v(e)}}}function lp(r){let e,t,n;return t=new dt({props:{tabindex:"0",appearance:"plain",role:"link","aria-label":"Next",disabled:r[0]===r[4],$$slots:{default:[FI]},$$scope:{ctx:r}}}),t.$on("click",r[17]),{c(){e=M("li"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&17&&(i.disabled=l[0]===l[4]),s&4194304&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function FI(r){let e,t;const n=[Od];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(Od)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function HI(r){let e,t,n,l,s=[],i=new Map,o,a,u,c=r[4]>1&&J_(r),f=r[5].start>1&&x_(r),m=r[5].currentWindow;const d=b=>b[19];for(let b=0;b<m.length;b+=1){let $=Z_(r,m,b),k=d($);i.set(k,s[b]=tp(k,$))}let p=r[5].end<r[4]&&np(r),h=r[4]>1&&lp(r);return{c(){e=M("nav"),t=M("ul"),c&&c.c(),n=N(),f&&f.c(),l=N();for(let b=0;b<s.length;b+=1)s[b].c();o=N(),p&&p.c(),a=N(),h&&h.c(),D(t,"class","pagination"),D(e,"aria-label",r[3])},m(b,$){w(b,e,$),I(e,t),c&&c.m(t,null),I(t,n),f&&f.m(t,null),I(t,l);for(let k=0;k<s.length;k+=1)s[k].m(t,null);I(t,o),p&&p.m(t,null),I(t,a),h&&h.m(t,null),u=!0},p(b,[$]){b[4]>1?c?(c.p(b,$),$&16&&_(c,1)):(c=J_(b),c.c(),_(c,1),c.m(t,n)):c&&(G(),g(c,1,1,()=>{c=null}),K()),b[5].start>1?f?(f.p(b,$),$&32&&_(f,1)):(f=x_(b),f.c(),_(f,1),f.m(t,l)):f&&(G(),g(f,1,1,()=>{f=null}),K()),$&103&&(m=b[5].currentWindow,G(),s=gt(s,$,d,1,b,m,i,t,bt,tp,o,Z_),K()),b[5].end<b[4]?p?(p.p(b,$),$&48&&_(p,1)):(p=np(b),p.c(),_(p,1),p.m(t,a)):p&&(G(),g(p,1,1,()=>{p=null}),K()),b[4]>1?h?(h.p(b,$),$&16&&_(h,1)):(h=lp(b),h.c(),_(h,1),h.m(t,null)):h&&(G(),g(h,1,1,()=>{h=null}),K()),(!u||$&8)&&D(e,"aria-label",b[3])},i(b){if(!u){_(c),_(f);for(let $=0;$<m.length;$+=1)_(s[$]);_(p),_(h),u=!0}},o(b){g(c),g(f);for(let $=0;$<s.length;$+=1)g(s[$]);g(p),g(h),u=!1},d(b){b&&v(e),c&&c.d(),f&&f.d();for(let $=0;$<s.length;$+=1)s[$].d();p&&p.d(),h&&h.d()}}}function zI(r,e,t){let n,l;const s=ht();let{currentPage:i=1}=e,{pageSize:o=10}=e,{total:a=0}=e,{getLink:u=void 0}=e,{ariaLabel:c="Pagination"}=e;async function f(P,O){O>0&&O<=n&&i!==O&&(t(0,i=O),s("change",{currentPage:i,originalEvent:P})),await on();const R=document.querySelector(`[data-page="${i}"]`);R==null||R.focus()}const m=P=>f(P,i-1),d=P=>f(P,1),p=P=>f(P,1),h=P=>f(P,l.prevPageWindow),b=(P,O)=>f(O,P),$=(P,O)=>f(O,P),k=P=>f(P,l.nextPageWindow),T=P=>f(P,n),E=P=>f(P,n),A=P=>f(P,i+1);return r.$$set=P=>{"currentPage"in P&&t(0,i=P.currentPage),"pageSize"in P&&t(1,o=P.pageSize),"total"in P&&t(7,a=P.total),"getLink"in P&&t(2,u=P.getLink),"ariaLabel"in P&&t(3,c=P.ariaLabel)},r.$$.update=()=>{r.$$.dirty&130&&t(4,n=Uw(a,o)),r.$$.dirty&17&&t(5,l=L7(i,n))},[i,o,u,c,n,l,f,a,m,d,p,h,b,$,k,T,E,A]}class VI extends x{constructor(e){super(),J(this,e,zI,HI,Q,{currentPage:0,pageSize:1,total:7,getLink:2,ariaLabel:3})}}const qI=r=>({option:r&2097152,label:r&4194304}),sp=r=>({option:r[21],label:r[22]});function BI(r){let e,t;return e=new ol({props:{arg:r[4](r[21])}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2097168&&(s.arg=n[4](n[21])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UI(r){let e;const t=r[12].default,n=Ie(t,r,r[17],sp),l=n||BI(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&6422528)&&Ae(n,t,s,s[17],e?Me(t,s[17],i,qI):Pe(s[17]),sp):l&&l.p&&(!e||i&2097168)&&l.p(s,e?i:-1)},i(s){e||(_(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function WI(r){let e,t;function n(...l){return r[13](r[20],...l)}return e=new _i({props:{id:r[1],class:"input-element selection-list "+r[6],offsetOnFocus:r[8],$$slots:{default:[UI,({option:l,label:s})=>({21:l,22:s}),({option:l,label:s})=>(l?2097152:0)|(s?4194304:0)]},$$scope:{ctx:r}}}),e.$on("keydown",n),e.$on("focus",r[14]),e.$on("blur",r[15]),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&2&&(i.id=r[1]),s&64&&(i.class="input-element selection-list "+r[6]),s&256&&(i.offsetOnFocus=r[8]),s&6422544&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function jI(r){let e,t,n,l;const s=[r[10],{id:r[1]},{disabled:r[2]}];let i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return e=new Ml({props:i}),n=new mu({props:{selectionType:"single",options:r[5],value:typeof r[0]<"u"?[r[0]]:[],labelKey:r[3],getLabel:r[4],disabled:r[2],mode:"static",checkEquality:r[7],$$slots:{default:[WI,({api:o})=>({20:o}),({api:o})=>o?1048576:0]},$$scope:{ctx:r}}}),n.$on("change",r[16]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),l=!0},p(o,[a]){const u=a&1030?de(s,[a&1024&&$e(o[10]),a&2&&{id:o[1]},a&4&&{disabled:o[2]}]):{};e.$set(u);const c={};a&32&&(c.options=o[5]),a&1&&(c.value=typeof o[0]<"u"?[o[0]]:[]),a&8&&(c.labelKey=o[3]),a&16&&(c.getLabel=o[4]),a&4&&(c.disabled=o[2]),a&128&&(c.checkEquality=o[7]),a&1179986&&(c.$$scope={dirty:a,ctx:o}),n.$set(c)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),l=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),l=!1},d(o){S(e,o),o&&v(t),S(n,o)}}}function YI(r,e,t){const n=["id","disabled","labelKey","getLabel","options","value","class","valuesAreEqual","autoSelect","offsetOnFocus"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;const o=ht();let{id:a=Il()}=e,{disabled:u=!1}=e,{labelKey:c="label"}=e,{getLabel:f=R=>ui(R,c)}=e,{options:m}=e,{value:d=void 0}=e,{class:p=""}=e,{valuesAreEqual:h=(R,F)=>R===F}=e,{autoSelect:b="first"}=e,{offsetOnFocus:$=0}=e;function k(R){t(0,[d]=R,d),o("change",d),o("input",d),o("artificialChange",d),o("artificialInput",d)}function T(R){if(b!=="none"){if(!R.length){d!==void 0&&k([]);return}(d===void 0||!R.some(F=>h(F,d)))&&(b==="first"?k(R):b==="clear"&&k([]))}}const E=(R,F)=>R.handleKeyDown(F);function A(R){ye.call(this,r,R)}function P(R){ye.call(this,r,R)}const O=R=>k(R.detail);return r.$$set=R=>{e=le(le({},e),_t(R)),t(10,l=Ye(e,n)),"id"in R&&t(1,a=R.id),"disabled"in R&&t(2,u=R.disabled),"labelKey"in R&&t(3,c=R.labelKey),"getLabel"in R&&t(4,f=R.getLabel),"options"in R&&t(5,m=R.options),"value"in R&&t(0,d=R.value),"class"in R&&t(6,p=R.class),"valuesAreEqual"in R&&t(7,h=R.valuesAreEqual),"autoSelect"in R&&t(11,b=R.autoSelect),"offsetOnFocus"in R&&t(8,$=R.offsetOnFocus),"$$scope"in R&&t(17,i=R.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&T(m)},[d,a,u,c,f,m,p,h,$,k,l,b,s,E,A,P,O,i]}class GI extends x{constructor(e){super(),J(this,e,YI,jI,Q,{id:1,disabled:2,labelKey:3,getLabel:4,options:5,value:0,class:6,valuesAreEqual:7,autoSelect:11,offsetOnFocus:8})}}function dc(r){let e,t,n,l,s,i,o;const a=r[12].default,u=Ie(a,r,r[11],null);let c=[{role:"tab"},{tabindex:"0"},{"aria-selected":r[3]},{"aria-disabled":t=!!r[1].disabled},{id:n=r[3]?`mtsr-${r[0]}-tab`:void 0},{"aria-controls":l=r[3]?`mtsr-${r[0]}-tabpanel`:void 0},r[6]],f={};for(let m=0;m<c.length;m+=1)f=le(f,c[m]);return{c(){e=M(r[7]),u&&u.c(),ct(e,f)},m(m,d){w(m,e,d),u&&u.m(e,null),s=!0,i||(o=[He(e,"focus",r[13]),He(e,"blur",r[14]),He(e,"mousedown",r[15]),He(e,"click",r[16])],i=!0)},p(m,d){u&&u.p&&(!s||d&2048)&&Ae(u,a,m,m[11],s?Me(a,m[11],d,null):Pe(m[11]),null),ct(e,f=de(c,[{role:"tab"},{tabindex:"0"},(!s||d&8)&&{"aria-selected":m[3]},(!s||d&2&&t!==(t=!!m[1].disabled))&&{"aria-disabled":t},(!s||d&9&&n!==(n=m[3]?`mtsr-${m[0]}-tab`:void 0))&&{id:n},(!s||d&9&&l!==(l=m[3]?`mtsr-${m[0]}-tabpanel`:void 0))&&{"aria-controls":l},d&64&&m[6]]))},i(m){s||(_(u,m),s=!0)},o(m){g(u,m),s=!1},d(m){m&&v(e),u&&u.d(m),i=!1,It(o)}}}function ip(r){let e,t,n;return{c(){e=M("button"),e.textContent="\xD7",D(e,"type","button"),D(e,"aria-label","remove"),D(e,"class","remove")},m(l,s){w(l,e,s),t||(n=He(e,"click",r[17]),t=!0)},p:j,d(l){l&&v(e),t=!1,n()}}}function KI(r){let e,t=r[7],n,l,s,i=r[7]&&dc(r),o=r[4]&&ip(r);return{c(){e=M("li"),i&&i.c(),n=N(),o&&o.c(),D(e,"role","presentation"),D(e,"class","tab"),D(e,"tabindex","-1"),D(e,"style",l=r[5]?`width:${Math.floor(100/r[2])}%;`:void 0),re(e,"active",r[3])},m(a,u){w(a,e,u),i&&i.m(e,null),I(e,n),o&&o.m(e,null),s=!0},p(a,[u]){a[7]?t?Q(t,a[7])?(i.d(1),i=dc(a),i.c(),i.m(e,n)):i.p(a,u):(i=dc(a),i.c(),i.m(e,n)):t&&(i.d(1),i=null),t=a[7],a[4]?o?o.p(a,u):(o=ip(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null),(!s||u&36&&l!==(l=a[5]?`width:${Math.floor(100/a[2])}%;`:void 0))&&D(e,"style",l),(!s||u&8)&&re(e,"active",a[3])},i(a){s||(_(i),s=!0)},o(a){g(i),s=!1},d(a){a&&v(e),i&&i.d(a),o&&o.d()}}}function XI(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=ht();let{componentId:u}=e,{tab:c}=e,{totalTabs:f}=e,{isActive:m=!1}=e,{allowRemoval:d=!1}=e,{uniformTabWidth:p=!0}=e,{link:h=void 0}=e;function b(A){ye.call(this,r,A)}function $(A){ye.call(this,r,A)}function k(A){ye.call(this,r,A)}function T(A){ye.call(this,r,A)}const E=A=>a("remove",A);return r.$$set=A=>{"componentId"in A&&t(0,u=A.componentId),"tab"in A&&t(1,c=A.tab),"totalTabs"in A&&t(2,f=A.totalTabs),"isActive"in A&&t(3,m=A.isActive),"allowRemoval"in A&&t(4,d=A.allowRemoval),"uniformTabWidth"in A&&t(5,p=A.uniformTabWidth),"link"in A&&t(9,h=A.link),"$$scope"in A&&t(11,o=A.$$scope)},r.$$.update=()=>{r.$$.dirty&512&&t(10,n=typeof h<"u"),r.$$.dirty&1024&&t(7,l=n?"a":"div"),r.$$.dirty&1536&&t(6,s=n?{href:h}:{})},[u,c,f,m,d,p,s,l,a,h,n,o,i,b,$,k,T,E]}class QI extends x{constructor(e){super(),J(this,e,XI,KI,Q,{componentId:0,tab:1,totalTabs:2,isActive:3,allowRemoval:4,uniformTabWidth:5,link:9})}}const ZI=r=>({activeTab:r&2}),op=r=>({activeTab:r[1]});function ap(r,e,t){const n=r.slice();return n[21]=e[t],n[23]=t,n}const JI=r=>({tab:r&1,activeTab:r&2}),up=r=>({tab:r[21],activeTab:r[1]});function xI(r){let e=r[21][r[3]]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&9&&e!==(e=n[21][n[3]]+"")&&Y(t,e)},d(n){n&&v(t)}}}function eM(r){let e,t;const n=r[16].tab,l=Ie(n,r,r[19],up),s=l||xI(r);return{c(){s&&s.c(),e=N()},m(i,o){s&&s.m(i,o),w(i,e,o),t=!0},p(i,o){l?l.p&&(!t||o&524291)&&Ae(l,n,i,i[19],t?Me(n,i[19],o,JI):Pe(i[19]),up):s&&s.p&&(!t||o&9)&&s.p(i,t?o:-1)},i(i){t||(_(s,i),t=!0)},o(i){g(s,i),t=!1},d(i){s&&s.d(i),i&&v(e)}}}function cp(r,e){var o;let t,n,l;function s(...a){return e[17](e[21],...a)}function i(...a){return e[18](e[23],...a)}return n=new QI({props:{componentId:e[9],tab:e[21],allowRemoval:e[4],uniformTabWidth:e[7],link:e[13](e[21]),totalTabs:e[0].length,isActive:e[21][e[2]]===((o=e[1])==null?void 0:o[e[2]]),$$slots:{default:[eM]},$$scope:{ctx:e}}}),n.$on("focus",rM),n.$on("blur",lM),n.$on("click",e[12]),n.$on("mousedown",s),n.$on("remove",i),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(a,u){w(a,t,u),y(n,a,u),l=!0},p(a,u){var f;e=a;const c={};u&1&&(c.tab=e[21]),u&16&&(c.allowRemoval=e[4]),u&128&&(c.uniformTabWidth=e[7]),u&1&&(c.link=e[13](e[21])),u&1&&(c.totalTabs=e[0].length),u&7&&(c.isActive=e[21][e[2]]===((f=e[1])==null?void 0:f[e[2]])),u&524299&&(c.$$scope={dirty:u,ctx:e}),n.$set(c)},i(a){l||(_(n.$$.fragment,a),l=!0)},o(a){g(n.$$.fragment,a),l=!1},d(a){a&&v(t),S(n,a)}}}function fp(r){let e;const t=r[16].default,n=Ie(t,r,r[19],op);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&524290)&&Ae(n,t,l,l[19],e?Me(t,l[19],s,ZI):Pe(l[19]),op)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function tM(r){let e,t,n=[],l=new Map,s,i,o,a,u=r[0];const c=m=>m[21][m[2]]||m[21];for(let m=0;m<u.length;m+=1){let d=ap(r,u,m),p=c(d);l.set(p,n[m]=cp(p,d))}let f=r[1]&&fp(r);return{c(){e=M("div"),t=M("ul");for(let m=0;m<n.length;m+=1)n[m].c();s=N(),i=M("div"),o=M("div"),f&&f.c(),D(t,"role","tablist"),D(t,"class","tabs"),re(t,"fill-tab-width",r[5]),D(o,"role","tabpanel"),D(o,"aria-hidden","false"),D(o,"id","mtsr-"+r[9]+"-tabpanel"),D(o,"aria-labelledby","mtsr-"+r[9]+"-tab"),D(o,"tabindex","0"),D(i,"class","tab-content-holder"),D(e,"class","tab-container"),D(e,"role","navigation"),re(e,"fill-container-height",r[6]),re(e,"compact",r[8]==="compact")},m(m,d){w(m,e,d),I(e,t);for(let p=0;p<n.length;p+=1)n[p].m(t,null);I(e,s),I(e,i),I(i,o),f&&f.m(o,null),a=!0},p(m,[d]){d&540319&&(u=m[0],G(),n=gt(n,d,c,1,m,u,l,t,bt,cp,null,ap),K()),(!a||d&32)&&re(t,"fill-tab-width",m[5]),m[1]?f?(f.p(m,d),d&2&&_(f,1)):(f=fp(m),f.c(),_(f,1),f.m(o,null)):f&&(G(),g(f,1,1,()=>{f=null}),K()),(!a||d&64)&&re(e,"fill-container-height",m[6]),(!a||d&256)&&re(e,"compact",m[8]==="compact")},i(m){if(!a){for(let d=0;d<u.length;d+=1)_(n[d]);_(f),a=!0}},o(m){for(let d=0;d<n.length;d+=1)g(n[d]);g(f),a=!1},d(m){m&&v(e);for(let d=0;d<n.length;d+=1)n[d].d();f&&f.d()}}}let mp=0;function nM(){return mp+=1,mp}function rM(r){r.target.parentElement.classList.add("focused")}function lM(r){r.target.parentElement.classList.remove("focused")}function sM(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ht(),i=nM();let{tabs:o=[]}=e,{activeTab:a=o[0]}=e,{idKey:u="id"}=e,{labelKey:c="label"}=e,{linkKey:f="href"}=e,{allowRemoval:m=!1}=e,{preventDefault:d=!1}=e,{fillTabWidth:p=!1}=e,{fillContainerHeight:h=!1}=e,{uniformTabWidth:b=!0}=e,{tabStyle:$="default"}=e;function k(R,F){!!F[f]||t(1,a=F),s("tabSelected",{tab:F,originalEvent:R})}function T(R,F){var U;const L=o.splice(F,1);(a==null?void 0:a[u])===((U=L[0])==null?void 0:U[u])&&(o[F]?t(1,a=o[F]):o[F-1]?t(1,a=o[F-1]):t(1,a=null)),t(0,o=[].concat(o)),s("tabRemoved",{removedTab:L[0],activeTab:a,originalEvent:R.detail})}function E(R){var F;if(d){R.preventDefault();const L=R.target.closest('a[role="tab"]');(F=L==null?void 0:L.focus)==null||F.call(L)}}function A(R){return R[f]}const P=(R,F)=>k(F,R),O=(R,F)=>T(F,R);return r.$$set=R=>{"tabs"in R&&t(0,o=R.tabs),"activeTab"in R&&t(1,a=R.activeTab),"idKey"in R&&t(2,u=R.idKey),"labelKey"in R&&t(3,c=R.labelKey),"linkKey"in R&&t(14,f=R.linkKey),"allowRemoval"in R&&t(4,m=R.allowRemoval),"preventDefault"in R&&t(15,d=R.preventDefault),"fillTabWidth"in R&&t(5,p=R.fillTabWidth),"fillContainerHeight"in R&&t(6,h=R.fillContainerHeight),"uniformTabWidth"in R&&t(7,b=R.uniformTabWidth),"tabStyle"in R&&t(8,$=R.tabStyle),"$$scope"in R&&t(19,l=R.$$scope)},[o,a,u,c,m,p,h,b,$,i,k,T,E,A,f,d,n,P,O,l]}class gu extends x{constructor(e){super(),J(this,e,sM,tM,Q,{tabs:0,activeTab:1,idKey:2,labelKey:3,linkKey:14,allowRemoval:4,preventDefault:15,fillTabWidth:5,fillContainerHeight:6,uniformTabWidth:7,tabStyle:8})}}const iM={body:"Are you sure?",proceedButton:{label:"Yes"},cancelButton:{label:"Cancel"},onProceed:()=>Promise.resolve(),onSuccess:()=>{},onError:()=>{}};class oM{constructor(e,t){ce(this,"modal");ce(this,"confirmationProps");ce(this,"resolve",xe(()=>{}));ce(this,"canProceed",xe(!0));this.modal=e,this.confirmationProps=xe(t)}}function aM({confirmationModal:r,defaultConfirmationProps:e}){const t={...iM,...e},n=new oM(r,t);async function l(s){return new Promise(i=>{n.resolve.set(i),n.canProceed.set(!0),n.confirmationProps.set({...t,...s}),n.modal.open()})}return{confirm:l,confirmationController:n}}class $a{constructor(e){ce(this,"idSet");this.idSet=new rl(e)}ids(){return this.idSet.values()}get size(){return this.idSet.size}has(e){return this.idSet.has(e)}isOnTop(e){return this.idSet.values().next().value===e}withModalOnTop(e){return new $a(new rl([e]).union(this.idSet).values())}without(e){return new $a(this.idSet.without(e).values())}}function uM({modalId:r,modalStackStore:e}){return{subscribe(t){return e.subscribe(n=>{t(n.has(r))})},update(t){e.update(n=>{const l=n.has(r);return t(l)?n.withModalOnTop(r):l?n.without(r):n})},set(t){t?e.update(n=>n.withModalOnTop(r)):e.update(n=>n.without(r))}}}class T6{constructor({modalId:e,modalStackStore:t}){ce(this,"modalId");ce(this,"modalStackStore");ce(this,"isOpen");ce(this,"isOnTop");this.modalId=e,this.modalStackStore=t,this.isOpen=uM({modalId:e,modalStackStore:t}),this.isOnTop=at(this.modalStackStore,n=>n.isOnTop(this.modalId))}open(){this.isOpen.set(!0)}close(){this.isOpen.set(!1)}}class cM{constructor(){ce(this,"stack",xe(new $a));ce(this,"isModalOpen");ce(this,"maxId",0);this.isModalOpen=at(this.stack,e=>e.size>0)}getId(){return this.maxId+=1,this.maxId}getPropsForNewModal(){return{modalId:this.getId(),modalStackStore:this.stack}}spawnModalController(){return new T6(this.getPropsForNewModal())}}const fM=r=>({}),dp=r=>({}),mM=r=>({}),_p=r=>({});function pp(r){var f;let e,t,n,l=((f=r[0])!=null?f:"")+"",s,i,o;const a=r[6].title,u=Ie(a,r,r[7],_p);let c=r[1]&&gp(r);return{c(){e=M("div"),t=M("div"),u&&u.c(),n=N(),s=q(l),i=N(),c&&c.c(),D(t,"class","title"),D(e,"class","title-bar")},m(m,d){w(m,e,d),I(e,t),u&&u.m(t,null),I(t,n),I(t,s),I(e,i),c&&c.m(e,null),o=!0},p(m,d){var p;u&&u.p&&(!o||d&128)&&Ae(u,a,m,m[7],o?Me(a,m[7],d,mM):Pe(m[7]),_p),(!o||d&1)&&l!==(l=((p=m[0])!=null?p:"")+"")&&Y(s,l),m[1]?c?(c.p(m,d),d&2&&_(c,1)):(c=gp(m),c.c(),_(c,1),c.m(e,null)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(m){o||(_(u,m),_(c),o=!0)},o(m){g(u,m),g(c),o=!1},d(m){m&&v(e),u&&u.d(m),c&&c.d()}}}function gp(r){let e,t;return e=new dt({props:{appearance:"plain",class:"close-button",$$slots:{default:[dM]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dM(r){let e,t;const n=[Us];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(Us)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function _M(r){let e,t,n,l,s,i,o=(r[5].title||r[0]||r[1])&&pp(r);const a=r[6].default,u=Ie(a,r,r[7],null),c=r[6].footer,f=Ie(c,r,r[7],dp);return{c(){e=M("div"),o&&o.c(),t=N(),n=M("div"),u&&u.c(),l=N(),s=M("div"),f&&f.c(),D(n,"class","body"),D(s,"class","footer"),D(e,"class","window"),re(e,"can-scroll-body",r[2]),re(e,"has-body-padding",r[3])},m(m,d){w(m,e,d),o&&o.m(e,null),I(e,t),I(e,n),u&&u.m(n,null),I(e,l),I(e,s),f&&f.m(s,null),i=!0},p(m,[d]){m[5].title||m[0]||m[1]?o?(o.p(m,d),d&35&&_(o,1)):(o=pp(m),o.c(),_(o,1),o.m(e,t)):o&&(G(),g(o,1,1,()=>{o=null}),K()),u&&u.p&&(!i||d&128)&&Ae(u,a,m,m[7],i?Me(a,m[7],d,null):Pe(m[7]),null),f&&f.p&&(!i||d&128)&&Ae(f,c,m,m[7],i?Me(c,m[7],d,fM):Pe(m[7]),dp),(!i||d&4)&&re(e,"can-scroll-body",m[2]),(!i||d&8)&&re(e,"has-body-padding",m[3])},i(m){i||(_(o),_(u,m),_(f,m),i=!0)},o(m){g(o),g(u,m),g(f,m),i=!1},d(m){m&&v(e),o&&o.d(),u&&u.d(m),f&&f.d(m)}}}function pM(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n),i=ht();let{title:o=void 0}=e,{hasCloseButton:a=!0}=e,{canScrollBody:u=!0}=e,{hasBodyPadding:c=!0}=e;function f(){i("close")}return r.$$set=m=>{"title"in m&&t(0,o=m.title),"hasCloseButton"in m&&t(1,a=m.hasCloseButton),"canScrollBody"in m&&t(2,u=m.canScrollBody),"hasBodyPadding"in m&&t(3,c=m.hasBodyPadding),"$$scope"in m&&t(7,l=m.$$scope)},[o,a,u,c,f,s,n,l]}class E6 extends x{constructor(e){super(),J(this,e,pM,_M,Q,{title:0,hasCloseButton:1,canScrollBody:2,hasBodyPadding:3})}}const{window:gM}=iu,hM=r=>({}),hp=r=>({}),bM=r=>({}),bp=r=>({slot:"footer"});function $p(r){let e,t,n,l,s,i,o,a,u,c=r[4]&&vp(r);return l=new E6({props:{canScrollBody:r[5],hasCloseButton:r[6],$$slots:{footer:[wM],title:[vM],default:[$M]},$$scope:{ctx:r}}}),l.$on("close",r[7]),{c(){e=M("div"),c&&c.c(),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","window-positioner"),re(n,"width-regular",r[3]==="regular"),re(n,"width-medium",r[3]==="medium"),re(n,"width-large",r[3]==="large"),D(e,"class","modal"),D(e,"data-modal-id",r[1])},m(f,m){w(f,e,m),c&&c.m(e,null),I(e,t),I(e,n),y(l,n,null),o=!0,a||(u=Dn(ci.call(null,e)),a=!0)},p(f,m){f[4]?c?(c.p(f,m),m&16&&_(c,1)):(c=vp(f),c.c(),_(c,1),c.m(e,t)):c&&(G(),g(c,1,1,()=>{c=null}),K());const d={};m&32&&(d.canScrollBody=f[5]),m&64&&(d.hasCloseButton=f[6]),m&8196&&(d.$$scope={dirty:m,ctx:f}),l.$set(d),(!o||m&8)&&re(n,"width-regular",f[3]==="regular"),(!o||m&8)&&re(n,"width-medium",f[3]==="medium"),(!o||m&8)&&re(n,"width-large",f[3]==="large"),(!o||m&2)&&D(e,"data-modal-id",f[1])},i(f){o||(_(c),_(l.$$.fragment,f),pr(()=>{i&&i.end(1),s=lu(n,Gc,{y:20,duration:150}),s.start()}),o=!0)},o(f){g(c),g(l.$$.fragment,f),s&&s.invalidate(),i=vo(n,Gc,{y:20,duration:150}),o=!1},d(f){f&&v(e),c&&c.d(),S(l),f&&i&&i.end(),a=!1,u()}}}function vp(r){let e,t,n,l,s,i;return{c(){e=M("div"),D(e,"class","overlay")},m(o,a){w(o,e,a),l=!0,s||(i=He(e,"click",r[9]),s=!0)},p:j,i(o){l||(pr(()=>{n&&n.end(1),t=lu(e,jl,{duration:150}),t.start()}),l=!0)},o(o){t&&t.invalidate(),n=vo(e,jl,{duration:150}),l=!1},d(o){o&&v(e),o&&n&&n.end(),s=!1,i()}}}function $M(r){let e;const t=r[12].default,n=Ie(t,r,r[13],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ae(n,t,l,l[13],e?Me(t,l[13],s,null):Pe(l[13]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function vM(r){var o;let e,t=((o=r[2])!=null?o:"")+"",n,l;const s=r[12].title,i=Ie(s,r,r[13],hp);return{c(){e=M("div"),i&&i.c(),n=q(t),D(e,"slot","title")},m(a,u){w(a,e,u),i&&i.m(e,null),I(e,n),l=!0},p(a,u){var c;i&&i.p&&(!l||u&8192)&&Ae(i,s,a,a[13],l?Me(s,a[13],u,hM):Pe(a[13]),hp),(!l||u&4)&&t!==(t=((c=a[2])!=null?c:"")+"")&&Y(n,t)},i(a){l||(_(i,a),l=!0)},o(a){g(i,a),l=!1},d(a){a&&v(e),i&&i.d(a)}}}function wM(r){let e;const t=r[12].footer,n=Ie(t,r,r[13],bp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8192)&&Ae(n,t,l,l[13],e?Me(t,l[13],s,bM):Pe(l[13]),bp)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function kM(r){let e,t,n,l,s=r[0]&&$p(r);return{c(){s&&s.c(),e=oe()},m(i,o){s&&s.m(i,o),w(i,e,o),t=!0,n||(l=He(gM,"keydown",r[8]),n=!0)},p(i,[o]){i[0]?s?(s.p(i,o),o&1&&_(s,1)):(s=$p(i),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){t||(_(s),t=!0)},o(i){g(s),t=!1},d(i){s&&s.d(i),i&&v(e),n=!1,l()}}}function yM(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=ht();let{modalId:u=void 0}=e,{isOpen:c=!1}=e,{title:f=void 0}=e,{size:m="regular"}=e,{allowClose:d=!0}=e,{hasOverlay:p=!0}=e,{closeOn:h=["button"]}=e,{canScrollBody:b=!0}=e;function $(){t(0,c=!1)}function k(A){A.key==="Escape"&&c&&l&&$()}function T(){s&&$()}async function E(A){await on(),a(A?"open":"close")}return r.$$set=A=>{"modalId"in A&&t(1,u=A.modalId),"isOpen"in A&&t(0,c=A.isOpen),"title"in A&&t(2,f=A.title),"size"in A&&t(3,m=A.size),"allowClose"in A&&t(10,d=A.allowClose),"hasOverlay"in A&&t(4,p=A.hasOverlay),"closeOn"in A&&t(11,h=A.closeOn),"canScrollBody"in A&&t(5,b=A.canScrollBody),"$$scope"in A&&t(13,o=A.$$scope)},r.$$.update=()=>{r.$$.dirty&3072&&t(6,n=d&&h.includes("button")),r.$$.dirty&3072&&(l=d&&h.includes("esc")),r.$$.dirty&3072&&(s=d&&h.includes("overlay")),r.$$.dirty&1&&E(c)},[c,u,f,m,p,b,n,$,k,T,d,h,i,o]}class SM extends x{constructor(e){super(),J(this,e,yM,kM,Q,{modalId:1,isOpen:0,title:2,size:3,allowClose:10,hasOverlay:4,closeOn:11,canScrollBody:5})}}const CM=r=>({}),wp=r=>({slot:"title"}),TM=r=>({}),kp=r=>({slot:"footer"});function EM(r){let e;const t=r[10].default,n=Ie(t,r,r[14],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ae(n,t,l,l[14],e?Me(t,l[14],s,null):Pe(l[14]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function DM(r){let e;const t=r[10].title,n=Ie(t,r,r[14],wp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ae(n,t,l,l[14],e?Me(t,l[14],s,CM):Pe(l[14]),wp)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function IM(r){let e;const t=r[10].footer,n=Ie(t,r,r[14],kp);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16384)&&Ae(n,t,l,l[14],e?Me(t,l[14],s,TM):Pe(l[14]),kp)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function MM(r){let e,t,n;function l(i){r[11](i)}let s={hasOverlay:r[9],title:r[1],size:r[2],allowClose:r[3]&&r[9],closeOn:r[4],canScrollBody:r[5],modalId:r[0].modalId,$$slots:{footer:[IM],title:[DM],default:[EM]},$$scope:{ctx:r}};return r[8]!==void 0&&(s.isOpen=r[8]),e=new SM({props:s}),Te.push(()=>Oe(e,"isOpen",l)),e.$on("open",r[12]),e.$on("close",r[13]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&512&&(a.hasOverlay=i[9]),o&2&&(a.title=i[1]),o&4&&(a.size=i[2]),o&520&&(a.allowClose=i[3]&&i[9]),o&16&&(a.closeOn=i[4]),o&32&&(a.canScrollBody=i[5]),o&1&&(a.modalId=i[0].modalId),o&16384&&(a.$$scope={dirty:o,ctx:i}),!t&&o&256&&(t=!0,a.isOpen=i[8],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function AM(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,P=>t(8,s=P)),n),a,u=j,c=()=>(u(),u=ue(l,P=>t(9,a=P)),l);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{$$slots:f={},$$scope:m}=e,{controller:d}=e,{title:p=void 0}=e,{size:h=void 0}=e,{allowClose:b=!0}=e,{closeOn:$=["button"]}=e,{canScrollBody:k=!0}=e;function T(P){s=P,n.set(s)}function E(P){ye.call(this,r,P)}function A(P){ye.call(this,r,P)}return r.$$set=P=>{"controller"in P&&t(0,d=P.controller),"title"in P&&t(1,p=P.title),"size"in P&&t(2,h=P.size),"allowClose"in P&&t(3,b=P.allowClose),"closeOn"in P&&t(4,$=P.closeOn),"canScrollBody"in P&&t(5,k=P.canScrollBody),"$$scope"in P&&t(14,m=P.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&o(t(7,{isOpen:n,isOnTop:l}=d,n,c(t(6,l))))},[d,p,h,b,$,k,l,n,s,a,f,T,E,A,m]}class al extends x{constructor(e){super(),J(this,e,AM,MM,Q,{controller:0,title:1,size:2,allowClose:3,closeOn:4,canScrollBody:5})}}function PM(r){let e,t;return e=new ol({props:{arg:r[4]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.arg=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yp(r){let e,t;return e=new ol({props:{arg:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.arg=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function RM(r){let e,t,n=r[5]&&yp(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[5]?n?(n.p(l,s),s&32&&_(n,1)):(n=yp(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function OM(r){let e,t;return e=new Kr({props:{slot:"footer",cancelButton:r[2],proceedButton:r[3],onCancel:r[10],onProceed:r[11],canProceed:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.cancelButton=n[2]),l&8&&(s.proceedButton=n[3]),l&512&&(s.canProceed=n[9]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function LM(r){let e,t;return e=new al({props:{controller:r[1],allowClose:r[0],$$slots:{footer:[OM],title:[RM],default:[PM]},$$scope:{ctx:r}}}),e.$on("close",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.controller=n[1]),l&1&&(s.allowClose=n[0]),l&524860&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function NM(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h=j,b=()=>(h(),h=ue(s,W=>t(18,p=W)),s),$,k=j,T=()=>(k(),k=ue(l,W=>t(14,$=W)),l),E,A=j,P=()=>(A(),A=ue(i,W=>t(9,E=W)),i);r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>A());let{controller:O}=e,R=!0;function F(){p(!1),n.close()}async function L(){try{t(0,R=!1),await f(),m(),p(!0),n.close()}catch(W){d(W),n.close()}finally{t(0,R=!0)}}function U(){p(!1),t(0,R=!0)}return r.$$set=W=>{"controller"in W&&t(13,O=W.controller)},r.$$.update=()=>{r.$$.dirty&8192&&t(1,{modal:n,confirmationProps:l,resolve:s,canProceed:i}=O,n,T(t(8,l)),b(t(7,s)),P(t(6,i))),r.$$.dirty&16384&&t(5,{title:o,body:a,proceedButton:u,cancelButton:c,onProceed:f,onSuccess:m,onError:d}=$,o,(t(4,a),t(14,$)),(t(3,u),t(14,$)),(t(2,c),t(14,$)))},[R,n,c,u,a,o,i,s,l,E,F,L,U,O,$]}class FM extends x{constructor(e){super(),J(this,e,NM,LM,Q,{controller:13})}}function HM(r){return{text:r,isMatch:!0}}function _c(r){return{text:r,isMatch:!1}}function D6(r,e){if(r.length===0)return[];if(e.length===0)return[_c(r)];const t=ma(r),n=ma(e),l=[];let s=0;for(;;){const i=t.indexOf(n,s);if(i===-1){s<t.length&&l.push(_c(r.slice(s)));break}i>s&&l.push(_c(r.substring(s,i))),l.push(HM(r.substring(i,i+e.length))),s=i+e.length}return l}function I6(r){return r?"exactMatch":"noMatch"}function Vf(r,e,t){if(!(r==null||r===""))return t&&t(e)===r?"exactMatch":I6(r===e||String(r)===String(e))}function zM(r){if(r.length!==0)return r.length===1?I6(r[0].isMatch):"substringMatch"}function VM(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("span"),l&&l.c(),D(e,"class","match svelte-1hlowus")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function qM(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class BM extends x{constructor(e){super(),J(this,e,qM,VM,Q,{})}}function Sp(r,e,t){const n=r.slice();return n[3]=e[t],n}function UM(r){let e=r[3].text+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[3].text+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function WM(r){let e,t,n;var l=r[1];function s(i){return{props:{$$slots:{default:[jM]},$$scope:{ctx:i}}}}return l&&(e=new l(s(r))),{c(){e&&C(e.$$.fragment),t=oe()},m(i,o){e&&y(e,i,o),w(i,t,o),n=!0},p(i,o){const a={};if(o&65&&(a.$$scope={dirty:o,ctx:i}),l!==(l=i[1])){if(e){G();const u=e;g(u.$$.fragment,1,0,()=>{S(u,1)}),K()}l?(e=new l(s(i)),C(e.$$.fragment),_(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else l&&e.$set(a)},i(i){n||(e&&_(e.$$.fragment,i),n=!0)},o(i){e&&g(e.$$.fragment,i),n=!1},d(i){i&&v(t),e&&S(e,i)}}}function jM(r){let e=r[3].text+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[3].text+"")&&Y(t,e)},d(n){n&&v(t)}}}function Cp(r){let e,t,n,l;const s=[WM,UM],i=[];function o(a,u){return a[3].isMatch?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function YM(r){let e,t,n=r[0],l=[];for(let i=0;i<n.length;i+=1)l[i]=Cp(Sp(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){e=M("span");for(let i=0;i<l.length;i+=1)l[i].c();D(e,"class","match-highlighter")},m(i,o){w(i,e,o);for(let a=0;a<l.length;a+=1)l[a].m(e,null);t=!0},p(i,[o]){if(o&3){n=i[0];let a;for(a=0;a<n.length;a+=1){const u=Sp(i,n,a);l[a]?(l[a].p(u,o),_(l[a],1)):(l[a]=Cp(u),l[a].c(),_(l[a],1),l[a].m(e,null))}for(G(),a=n.length;a<l.length;a+=1)s(a);K()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){i&&v(e),jn(l,i)}}}function GM(r,e,t){let n,{matchParts:l}=e,{matchComponent:s=void 0}=e;return r.$$set=i=>{"matchParts"in i&&t(0,l=i.matchParts),"matchComponent"in i&&t(2,s=i.matchComponent)},r.$$.update=()=>{r.$$.dirty&4&&t(1,n=s!=null?s:BM)},[l,n,s]}class qf extends x{constructor(e){super(),J(this,e,GM,YM,Q,{matchParts:0,matchComponent:2})}}function KM(r){let e,t;return e=new qf({props:{matchParts:r[1],matchComponent:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.matchParts=n[1]),l&1&&(s.matchComponent=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XM(r,e,t){let n,{text:l}=e,{substring:s=""}=e,{matchComponent:i=void 0}=e;return r.$$set=o=>{"text"in o&&t(2,l=o.text),"substring"in o&&t(3,s=o.substring),"matchComponent"in o&&t(0,i=o.matchComponent)},r.$$.update=()=>{r.$$.dirty&12&&t(1,n=D6(l,s))},[i,n,l,s]}class M6 extends x{constructor(e){super(),J(this,e,XM,KM,Q,{text:2,substring:3,matchComponent:0})}}function QM(r){let e;return{c(){e=M("div"),D(e,"class","menu-divider")},m(t,n){w(t,e,n)},p:j,i:j,o:j,d(t){t&&v(e)}}}class yo extends x{constructor(e){super(),J(this,e,null,QM,Q,{})}}function ZM(r){let e,t;const n=r[2].default,l=Ie(n,r,r[1],null);let s=[{class:"menu-heading"},r[0]],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("div"),l&&l.c(),ct(e,i)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&2)&&Ae(l,n,o,o[1],t?Me(n,o[1],a,null):Pe(o[1]),null),ct(e,i=de(s,[{class:"menu-heading"},a&1&&o[0]]))},i(o){t||(_(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&v(e),l&&l.d(o)}}}function JM(r,e,t){const n=[];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(0,l=Ye(e,n)),"$$scope"in o&&t(1,i=o.$$scope)},[l,i,s]}class So extends x{constructor(e){super(),J(this,e,JM,ZM,Q,{})}}const xM=r=>({}),Tp=r=>({});function Ep(r){let e,t;const n=[r[0],{hasNotificationDot:r[1]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&3?de(n,[i&1&&$e(s[0]),i&2&&{hasNotificationDot:s[1]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function eA(r){let e,t,n,l,s,i;const o=r[4].control,a=Ie(o,r,r[3],Tp);let u=r[0]&&Ep(r);const c=r[4].default,f=Ie(c,r,r[3],null);return{c(){e=M("div"),a&&a.c(),t=N(),n=M("div"),u&&u.c(),l=N(),s=M("div"),f&&f.c(),D(e,"class","control cell"),D(n,"class","icon cell"),D(s,"class","label cell")},m(m,d){w(m,e,d),a&&a.m(e,null),w(m,t,d),w(m,n,d),u&&u.m(n,null),w(m,l,d),w(m,s,d),f&&f.m(s,null),i=!0},p(m,[d]){a&&a.p&&(!i||d&8)&&Ae(a,o,m,m[3],i?Me(o,m[3],d,xM):Pe(m[3]),Tp),m[0]?u?(u.p(m,d),d&1&&_(u,1)):(u=Ep(m),u.c(),_(u,1),u.m(n,null)):u&&(G(),g(u,1,1,()=>{u=null}),K()),f&&f.p&&(!i||d&8)&&Ae(f,c,m,m[3],i?Me(c,m[3],d,null):Pe(m[3]),null)},i(m){i||(_(a,m),_(u),_(f,m),i=!0)},o(m){g(a,m),g(u),g(f,m),i=!1},d(m){m&&v(e),a&&a.d(m),m&&v(t),m&&v(n),u&&u.d(),m&&v(l),m&&v(s),f&&f.d(m)}}}function tA(r,e,t){let n,{$$slots:l={},$$scope:s}=e;const i=ur(l),o=o6(),a=xe(!1);Z(r,a,f=>t(5,n=f));let{icon:u=void 0}=e,{hasNotificationDot:c=!1}=e;return o&&(_n(()=>o.hasControlColumn.registerInput(i.control)),_n(()=>o.hasIconColumn.registerInput(a))),r.$$set=f=>{"icon"in f&&t(0,u=f.icon),"hasNotificationDot"in f&&t(1,c=f.hasNotificationDot),"$$scope"in f&&t(3,s=f.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&an(a,n=!!u,n)},[u,c,a,s,l]}class va extends x{constructor(e){super(),J(this,e,tA,eA,Q,{icon:0,hasNotificationDot:1})}}function pc(r){let e,t,n,l,s;const i=r[6].default,o=Ie(i,r,r[5],null);let a=[r[4],{class:t="menu-item "+r[3]},{role:"menuitem"}],u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return{c(){e=M(r[0]),o&&o.c(),ct(e,u),re(e,"disabled",r[1]),re(e,"danger",r[2])},m(c,f){w(c,e,f),o&&o.m(e,null),n=!0,l||(s=He(e,"click",r[7]),l=!0)},p(c,f){o&&o.p&&(!n||f&32)&&Ae(o,i,c,c[5],n?Me(i,c[5],f,null):Pe(c[5]),null),ct(e,u=de(a,[f&16&&c[4],(!n||f&8&&t!==(t="menu-item "+c[3]))&&{class:t},{role:"menuitem"}])),re(e,"disabled",c[1]),re(e,"danger",c[2])},i(c){n||(_(o,c),n=!0)},o(c){g(o,c),n=!1},d(c){c&&v(e),o&&o.d(c),l=!1,s()}}}function nA(r){let e=r[0],t,n,l=r[0]&&pc(r);return{c(){l&&l.c(),t=oe()},m(s,i){l&&l.m(s,i),w(s,t,i),n=!0},p(s,[i]){s[0]?e?Q(e,s[0])?(l.d(1),l=pc(s),l.c(),l.m(t.parentNode,t)):l.p(s,i):(l=pc(s),l.c(),l.m(t.parentNode,t)):e&&(l.d(1),l=null),e=s[0]},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l&&l.d(s)}}}function rA(r,e,t){const n=["tag","disabled","danger","class"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e,{tag:o="div"}=e,{disabled:a=!1}=e,{danger:u=!1}=e,{class:c=""}=e;function f(m){ye.call(this,r,m)}return r.$$set=m=>{e=le(le({},e),_t(m)),t(4,l=Ye(e,n)),"tag"in m&&t(0,o=m.tag),"disabled"in m&&t(1,a=m.disabled),"danger"in m&&t(2,u=m.danger),"class"in m&&t(3,c=m.class),"$$scope"in m&&t(5,i=m.$$scope)},[o,a,u,c,l,i,s,f]}class A6 extends x{constructor(e){super(),J(this,e,rA,nA,Q,{tag:0,disabled:1,danger:2,class:3})}}function lA(r){let e;const t=r[7].default,n=Ie(t,r,r[8],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&256)&&Ae(n,t,l,l[8],e?Me(t,l[8],s,null):Pe(l[8]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function sA(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},i:j,o:j,d(t){t&&v(e)}}}function iA(r){let e,t,n,l;const s=[sA,lA],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function oA(r){let e,t;return e=new va({props:{icon:r[1],hasNotificationDot:r[4],$$slots:{default:[iA]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.icon=n[1]),l&16&&(s.hasNotificationDot=n[4]),l&257&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aA(r){let e,t;const n=[{tag:"button"},{class:"menu-item-button"},{disabled:r[2]},{danger:r[3]},r[6]];let l={$$slots:{default:[oA]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new A6({props:l}),e.$on("click",r[5]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&76?de(n,[n[0],n[1],i&4&&{disabled:s[2]},i&8&&{danger:s[3]},i&64&&$e(s[6])]):{};i&275&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function uA(r,e,t){const n=["label","icon","disabled","danger","hasNotificationDot"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;const o=ht();let{label:a=void 0}=e,{icon:u=void 0}=e,{disabled:c=!1}=e,{danger:f=!1}=e,{hasNotificationDot:m=!1}=e;function d(){c||o("click")}return r.$$set=p=>{e=le(le({},e),_t(p)),t(6,l=Ye(e,n)),"label"in p&&t(0,a=p.label),"icon"in p&&t(1,u=p.icon),"disabled"in p&&t(2,c=p.disabled),"danger"in p&&t(3,f=p.danger),"hasNotificationDot"in p&&t(4,m=p.hasNotificationDot),"$$scope"in p&&t(8,i=p.$$scope)},[a,u,c,f,m,d,l,s,i]}class sn extends x{constructor(e){super(),J(this,e,uA,aA,Q,{label:0,icon:1,disabled:2,danger:3,hasNotificationDot:4})}}function cA(r){let e;const t=r[6].default,n=Ie(t,r,r[7],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&128)&&Ae(n,t,l,l[7],e?Me(t,l[7],s,null):Pe(l[7]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function fA(r){let e,t;return e=new va({props:{icon:r[0],hasNotificationDot:r[2],$$slots:{default:[cA]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.icon=n[0]),l&4&&(s.hasNotificationDot=n[2]),l&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mA(r){let e,t;const n=[{tag:"a"},{class:"menu-item-link "+r[4]},{href:r[1]},{disabled:r[3]},r[5]];let l={$$slots:{default:[fA]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new A6({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&58?de(n,[n[0],i&16&&{class:"menu-item-link "+s[4]},i&2&&{href:s[1]},i&8&&{disabled:s[3]},i&32&&$e(s[5])]):{};i&133&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function dA(r,e,t){const n=["icon","href","hasNotificationDot","disabled","class"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e,{icon:o=void 0}=e,{href:a}=e,{hasNotificationDot:u=!1}=e,{disabled:c=!1}=e,{class:f=""}=e;return r.$$set=m=>{e=le(le({},e),_t(m)),t(5,l=Ye(e,n)),"icon"in m&&t(0,o=m.icon),"href"in m&&t(1,a=m.href),"hasNotificationDot"in m&&t(2,u=m.hasNotificationDot),"disabled"in m&&t(3,c=m.disabled),"class"in m&&t(4,f=m.class),"$$scope"in m&&t(7,i=m.$$scope)},[o,a,u,c,f,l,s,i]}class Ir extends x{constructor(e){super(),J(this,e,dA,mA,Q,{icon:0,href:1,hasNotificationDot:2,disabled:3,class:4})}}const _A={backgroundColor:"var(--sky-500)",textColor:"var(--slate-800)",progressColor:"rgba(255, 255, 255, 0.6)",lifetime:6e3,hasProgress:!0,initialProgress:1,finalProgress:0,allowPause:!0,allowDismiss:!0,onShow:()=>{},onDismiss:()=>{}};class pA{constructor({defaultProps:e}={defaultProps:{}}){ce(this,"maxId",0);ce(this,"defaultProps");ce(this,"entriesMap");ce(this,"entries");this.entriesMap=xe(new Map),this.defaultProps={..._A,...e},this.entries=at(this.entriesMap,t=>[...t.values()])}makeId(){return this.maxId+=1,this.maxId}show(e={}){var a;const t={...this.defaultProps,...e},n=(a=t.id)!=null?a:this.makeId(),l=()=>this.dismiss(n),s=y7(t.initialProgress,{duration:200,easing:ps}),i={id:n,progress:s,dismiss:l},o={id:n,props:t,controller:i};return this.entriesMap.update(u=>{const c=new Map(u);return c.set(n,o),c}),t.lifetime&&i.progress.set(t.finalProgress,{duration:t.lifetime}).then(i.dismiss),t.onShow(i),i}dismiss(e){this.entriesMap.update(t=>{const n=t.get(e);if(!n)return t;const l=new Map(t);return l.delete(e),n.props.onDismiss(),l})}}function Ds(r){return typeof r=="string"?{title:r}:r}function gA(r={}){const e=new pA({defaultProps:r});function t(a={}){return e.show(Ds({icon:Wc,...Ds(a)}))}function n(a={}){return e.show({icon:jc,backgroundColor:"var(--green-100)",...Ds(a)})}function l(a={}){return e.show({icon:bl,backgroundColor:"var(--red-100)",...Ds(a)})}function s(a){return l(a instanceof Error?a.message:"Something went wrong.")}function i(a={}){return e.show({icon:{...gr},lifetime:0,allowDismiss:!1,hasProgress:!1,...Ds(a)})}function o(a={}){return e.show({lifetime:0,allowDismiss:!1,initialProgress:0,...Ds(a)})}return{entries:e.entries,info:t,success:n,error:l,fromError:s,spinner:i,progress:o}}function hA(r,{from:e,to:t},n={}){const l=getComputedStyle(r),s=l.transform==="none"?"":l.transform,[i,o]=l.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*i/t.width-(t.left+i),u=e.top+e.height*o/t.height-(t.top+o),{delay:c=0,duration:f=d=>Math.sqrt(d)*120,easing:m=zw}=n;return{delay:c,duration:Pt(f)?f(Math.sqrt(a*a+u*u)):f,easing:m,css:(d,p)=>{const h=p*a,b=p*u,$=d+p*e.width/t.width,k=d+p*e.height/t.height;return`transform: ${s} translate(${h}px, ${b}px) scale(${$}, ${k});`}}}function Dp(r){let e,t,n;const l=[r[6]];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","icon")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&64?de(l,[$e(i[6])]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function Ip(r){let e,t;return{c(){e=M("div"),t=q(r[14]),D(e,"class","title")},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&16384&&Y(t,n[14])},d(n){n&&v(e)}}}function Mp(r){let e,t,n,l,s;const i=[Us];let o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return t=new Be({props:o}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","close-button"),D(e,"role","button"),D(e,"tabindex","-1")},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=He(e,"click",function(){Pt(r[13])&&r[13].apply(this,arguments)}),l=!0)},p(a,u){r=a;const c=u&0?de(i,[$e(Us)]):{};t.$set(c)},i(a){n||(_(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&v(e),S(t),l=!1,s()}}}function Ap(r){let e,t,n,l;const s=[$A,bA],i=[];function o(a,u){return a[0].contentComponent?0:a[0].message?1:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=M("div"),n&&n.c(),D(e,"class","message")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),~t&&i[t].d()}}}function bA(r){let e;return{c(){e=q(r[16])},m(t,n){w(t,e,n)},p(t,n){n&65536&&Y(e,t[16])},i:j,o:j,d(t){t&&v(e)}}}function $A(r){let e,t,n;const l=[r[15]];var s=r[0].contentComponent;function i(o){let a={};for(let u=0;u<l.length;u+=1)a=le(a,l[u]);return{props:a}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=oe()},m(o,a){e&&y(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&32768?de(l,[$e(o[15])]):{};if(s!==(s=o[0].contentComponent)){if(e){G();const c=e;g(c.$$.fragment,1,0,()=>{S(c,1)}),K()}s?(e=new s(i()),C(e.$$.fragment),_(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&g(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&S(e,o)}}}function Pp(r){let e;return{c(){e=M("progress"),e.value=r[17]},m(t,n){w(t,e,n)},p(t,n){n&131072&&(e.value=t[17])},d(t){t&&v(e)}}}function vA(r){let e,t,n,l,s,i,o,a,u,c=r[6]&&Dp(r),f=r[0].title&&Ip(r),m=r[0].allowDismiss&&Mp(r),d=(r[0].contentComponent||r[0].message)&&Ap(r),p=r[0].hasProgress&&Pp(r);return{c(){e=M("div"),t=M("div"),c&&c.c(),n=N(),f&&f.c(),l=N(),m&&m.c(),s=N(),d&&d.c(),i=N(),p&&p.c(),D(t,"class","header"),D(e,"class","toast-item"),D(e,"style",r[2])},m(h,b){w(h,e,b),I(e,t),c&&c.m(t,null),I(t,n),f&&f.m(t,null),I(t,l),m&&m.m(t,null),I(e,s),d&&d.m(e,null),I(e,i),p&&p.m(e,null),o=!0,a||(u=[He(e,"mouseenter",function(){Pt(r[12])&&r[12].apply(this,arguments)}),He(e,"mouseleave",function(){Pt(r[11])&&r[11].apply(this,arguments)})],a=!0)},p(h,[b]){r=h,r[6]?c?(c.p(r,b),b&64&&_(c,1)):(c=Dp(r),c.c(),_(c,1),c.m(t,n)):c&&(G(),g(c,1,1,()=>{c=null}),K()),r[0].title?f?f.p(r,b):(f=Ip(r),f.c(),f.m(t,l)):f&&(f.d(1),f=null),r[0].allowDismiss?m?(m.p(r,b),b&1&&_(m,1)):(m=Mp(r),m.c(),_(m,1),m.m(t,null)):m&&(G(),g(m,1,1,()=>{m=null}),K()),r[0].contentComponent||r[0].message?d?(d.p(r,b),b&1&&_(d,1)):(d=Ap(r),d.c(),_(d,1),d.m(e,i)):d&&(G(),g(d,1,1,()=>{d=null}),K()),r[0].hasProgress?p?p.p(r,b):(p=Pp(r),p.c(),p.m(e,null)):p&&(p.d(1),p=null),(!o||b&4)&&D(e,"style",r[2])},i(h){o||(_(c),_(m),_(d),o=!0)},o(h){g(c),g(m),g(d),o=!1},d(h){h&&v(e),c&&c.d(),f&&f.d(),m&&m.d(),d&&d.d(),p&&p.d(),a=!1,It(u)}}}function wA(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T=j,E=()=>(T(),T=ue(b,ke=>t(20,k=ke)),b),A,P=j,O=()=>(P(),P=ue(h,ke=>t(21,A=ke)),h),R,F=j,L=()=>(F(),F=ue(p,ke=>t(22,R=ke)),p),U,W=j,H=()=>(W(),W=ue(m,ke=>t(23,U=ke)),m),z,te=j,se=()=>(te(),te=ue(u,ke=>t(14,z=ke)),u),B,V=j,ee=()=>(V(),V=ue(f,ke=>t(15,B=ke)),f),ie,_e=j,ae=()=>(_e(),_e=ue(c,ke=>t(16,ie=ke)),c),fe,Ue=j,ve=()=>(Ue(),Ue=ue(s,ke=>t(17,fe=ke)),s);r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>_e()),r.$$.on_destroy.push(()=>Ue());let{entry:Se}=e;return r.$$set=ke=>{"entry"in ke&&t(18,Se=ke.entry)},r.$$.update=()=>{r.$$.dirty&262144&&t(0,{props:n,controller:l}=Se,n,(t(19,l),t(18,Se))),r.$$.dirty&524288&&ve(t(1,{progress:s,dismiss:i}=l,s,(t(13,i),t(19,l),t(18,Se)))),r.$$.dirty&2&&t(12,{pause:o,resume:a}=s,o,(t(11,a),t(1,s),t(19,l),t(18,Se))),r.$$.dirty&1&&se(t(10,u=lr(n.title))),r.$$.dirty&1&&ae(t(9,c=lr(n.message))),r.$$.dirty&1&&ee(t(8,f=lr(n.contentComponentProps))),r.$$.dirty&1&&H(t(7,m=lr(n.icon))),r.$$.dirty&8388608&&t(6,d=U),r.$$.dirty&1&&L(t(5,p=lr(n.backgroundColor))),r.$$.dirty&1&&O(t(4,h=lr(n.textColor))),r.$$.dirty&1&&E(t(3,b=lr(n.progressColor))),r.$$.dirty&7340032&&t(2,$=`
    --toast-item-background-color: ${R};
    --toast-item-text-color: ${A};
    --toast-item-progress-color: ${k};
  `)},[n,s,$,b,h,p,d,m,f,c,u,a,o,i,z,B,ie,fe,Se,l,k,A,R,U]}class kA extends x{constructor(e){super(),J(this,e,wA,vA,Q,{entry:18})}}function Rp(r,e,t){const n=r.slice();return n[4]=e[t],n}function Op(r,e){let t,n,l,s,i,o,a=j,u;const c=[e[3],{entry:e[4]}];var f=e[1];function m(d){let p={};for(let h=0;h<c.length;h+=1)p=le(p,c[h]);return{props:p}}return f&&(n=new f(m())),{key:r,first:null,c(){t=M("li"),n&&C(n.$$.fragment),l=N(),this.first=t},m(d,p){w(d,t,p),n&&y(n,t,null),I(t,l),u=!0},p(d,p){e=d;const h=p&12?de(c,[p&8&&$e(e[3]),p&4&&{entry:e[4]}]):{};if(f!==(f=e[1])){if(n){G();const b=n;g(b.$$.fragment,1,0,()=>{S(b,1)}),K()}f?(n=new f(m()),C(n.$$.fragment),_(n.$$.fragment,1),y(n,t,l)):n=null}else f&&n.$set(h)},r(){o=t.getBoundingClientRect()},f(){m7(t),a(),Dw(t,o)},a(){a(),a=f7(t,o,hA,{duration:200})},i(d){u||(n&&_(n.$$.fragment,d),pr(()=>{i&&i.end(1),s=lu(t,Gc,{x:256}),s.start()}),u=!0)},o(d){n&&g(n.$$.fragment,d),s&&s.invalidate(),i=vo(t,jl,{}),u=!1},d(d){d&&v(t),n&&S(n),d&&i&&i.end()}}}function yA(r){let e,t=[],n=new Map,l,s=r[2];const i=o=>o[4].id;for(let o=0;o<s.length;o+=1){let a=Rp(r,s,o),u=i(a);n.set(u,t[o]=Op(u,a))}return{c(){e=M("ul");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","toast-presenter")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){if(a&14){s=o[2],G();for(let u=0;u<t.length;u+=1)t[u].r();t=gt(t,a,i,1,o,s,n,e,p7,Op,null,Rp);for(let u=0;u<t.length;u+=1)t[u].a();K()}},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function SA(r,e,t){const n=["entries","toastItemComponent"];let l=Ye(e,n),s,i=j,o=()=>(i(),i=ue(a,c=>t(2,s=c)),a);r.$$.on_destroy.push(()=>i());let{entries:a}=e;o();let{toastItemComponent:u=kA}=e;return r.$$set=c=>{e=le(le({},e),_t(c)),t(3,l=Ye(e,n)),"entries"in c&&o(t(0,a=c.entries)),"toastItemComponent"in c&&t(1,u=c.toastItemComponent)},[a,u,s,l]}class CA extends x{constructor(e){super(),J(this,e,SA,yA,Q,{entries:0,toastItemComponent:1})}}function TA(r,e,t){return e==="eq"?r===t:e==="neq"?r!==t:!1}function P6(r,e){var n,l;const{cases:t}=e;return(l=(n=t[String(r)])!=null?n:t.default)!=null?l:[]}function R6(r,e){var t;return TA(r,e.condition,e.value)?(t=e.elements)!=null?t:[]:[]}function Xc(r,e){const t=new Set;let n=[];if(r.type==="input"||r.type==="static")t.add(r.variable);else if(r.type==="switch"){const l=e[r.variable];n=P6(l,r)}else if(r.type==="if"){const l=e[r.variable];n=R6(l,r)}else(r.type==="layout"||!r.type)&&(n=r.elements);return n.forEach(l=>{Xc(l,e).forEach(s=>t.add(s))}),t}function O6(r){const e=new Set;let t=[];if(r.type==="switch"){e.add(r.variable);const n=[];Object.keys(r.cases).forEach(l=>{n.push(...r.cases[l])}),t=n}else r.type==="if"?(e.add(r.variable),t=r.elements):(r.type==="layout"||!r.type)&&(t=r.elements);return t.forEach(n=>{O6(n).forEach(l=>e.add(l))}),e}function L6(r,e,t){var c;const n=O6(r.layout),l=new Map;(c=Object.keys(r.variables))==null||c.forEach(f=>{const m=typeof(e==null?void 0:e[f])<"u"?e[f]:r.variables[f].default,d=xe(m);l.set(f,d)});function s(){const f={};return l.forEach((m,d)=>{f[d]=Ve(m)}),f}function i(){let f={},m=Xc(r.layout,s());return Ul(f,d=>{const p=[...l].map(([h,b])=>b.subscribe(()=>{const $=s();n.has(h)&&(m=Xc(r.layout,$)),f={},m.forEach(k=>{f[k]=$[k]}),d(f)}));return()=>p.forEach(h=>h())})}const o=i(),a=at(o,f=>{const m={isValid:!0,failedChecks:{}};return Object.keys(f).forEach(d=>{const p=f[d],h=r.variables[d],b=h==null?void 0:h.validation;if(h&&b){const{checks:$}=b;if($.includes("isEmpty")){let k=typeof p<"u"&&p!==null;h.type==="string"&&(k=k&&p!==""),k||(m.failedChecks[d]||(m.failedChecks[d]=[]),m.failedChecks[d].push("isEmpty")),m.isValid=m.isValid&&k}}}),m});function u(){return Ve(a)}return{...r,stores:l,values:o,validationStore:a,getValidationResult:u,customComponents:t}}function Lp(r,e,t){const n=r.slice();return n[7]=e[t],n}function EA(r){let e,t,n;const l=[r[5],{dataType:r[0]},{label:r[1]},{hasError:r[3].length>0}];function s(o){r[6](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[4]!==void 0&&(i.value=r[4]),e=new vI({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){const u=a&43?de(l,[a&32&&$e(o[5]),a&1&&{dataType:o[0]},a&2&&{label:o[1]},a&8&&{hasError:o[3].length>0}]):{};!t&&a&16&&(t=!0,u.value=o[4],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function DA(r){let e=r[7]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[7]+"")&&Y(t,e)},d(n){n&&v(t)}}}function IA(r){let e;return{c(){e=q("* This is a required field")},m(t,n){w(t,e,n)},p:j,d(t){t&&v(e)}}}function Np(r,e){let t,n;function l(o,a){return o[7]==="isEmpty"?IA:DA}let s=l(e),i=s(e);return{key:r,first:null,c(){t=M("div"),i.c(),n=N(),D(t,"class","validation-error"),this.first=t},m(o,a){w(o,t,a),i.m(t,null),I(t,n)},p(o,a){e=o,s===(s=l(e))&&i?i.p(e,a):(i.d(1),i=s(e),i&&(i.c(),i.m(t,n)))},d(o){o&&v(t),i.d()}}}function MA(r){let e,t,n,l=[],s=new Map,i;t=new hn({props:{label:r[1],layout:r[0]==="boolean"?"inline-input-first":"stacked",$$slots:{default:[EA]},$$scope:{ctx:r}}});let o=r[3];const a=u=>u[7];for(let u=0;u<o.length;u+=1){let c=Lp(r,o,u),f=a(c);s.set(f,l[u]=Np(f,c))}return{c(){e=M("div"),C(t.$$.fragment),n=N();for(let u=0;u<l.length;u+=1)l[u].c();D(e,"class","form-element form-input")},m(u,c){w(u,e,c),y(t,e,null),I(e,n);for(let f=0;f<l.length;f+=1)l[f].m(e,null);i=!0},p(u,[c]){const f={};c&2&&(f.label=u[1]),c&1&&(f.layout=u[0]==="boolean"?"inline-input-first":"stacked"),c&1083&&(f.$$scope={dirty:c,ctx:u}),t.$set(f),c&8&&(o=u[3],l=gt(l,c,a,1,u,o,s,e,wo,Np,null,Lp))},i(u){i||(_(t.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),i=!1},d(u){u&&v(e),S(t);for(let c=0;c<l.length;c+=1)l[c].d()}}}function AA(r,e,t){const n=["type","label","store","validationErrors"];let l=Ye(e,n),s,i=j,o=()=>(i(),i=ue(c,d=>t(4,s=d)),c);r.$$.on_destroy.push(()=>i());let{type:a}=e,{label:u=void 0}=e,{store:c}=e;o();let{validationErrors:f}=e;function m(d){s=d,c.set(s)}return r.$$set=d=>{e=le(le({},e),_t(d)),t(5,l=Ye(e,n)),"type"in d&&t(0,a=d.type),"label"in d&&t(1,u=d.label),"store"in d&&o(t(2,c=d.store)),"validationErrors"in d&&t(3,f=d.validationErrors)},[a,u,c,f,s,l,m]}class PA extends x{constructor(e){super(),J(this,e,AA,MA,Q,{type:0,label:1,store:2,validationErrors:3})}}function Fp(r,e,t){const n=r.slice();return n[4]=e[t],n}const RA=r=>({element:r&2}),Hp=r=>({element:r[4]});function zp(r,e){let t,n;const l=e[3].default,s=Ie(l,e,e[2],Hp);return{key:r,first:null,c(){t=oe(),s&&s.c(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){e=i,s&&s.p&&(!n||o&6)&&Ae(s,l,e,e[2],n?Me(l,e[2],o,RA):Pe(e[2]),Hp)},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(t),s&&s.d(i)}}}function OA(r){let e,t=[],n=new Map,l,s,i=r[1]||[];const o=a=>a[4];for(let a=0;a<i.length;a+=1){let u=Fp(r,i,a),c=o(u);n.set(c,t[a]=zp(c,u))}return{c(){e=M("div");for(let a=0;a<t.length;a+=1)t[a].c();D(e,"class",l="form-element form-layout "+r[0])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);s=!0},p(a,[u]){u&6&&(i=a[1]||[],G(),t=gt(t,u,o,1,a,i,n,e,bt,zp,null,Fp),K()),(!s||u&1&&l!==(l="form-element form-layout "+a[0]))&&D(e,"class",l)},i(a){if(!s){for(let u=0;u<i.length;u+=1)_(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)g(t[u]);s=!1},d(a){a&&v(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function LA(r,e,t){let{$$slots:n={},$$scope:l}=e,{orientation:s="vertical"}=e,{elements:i}=e;return r.$$set=o=>{"orientation"in o&&t(0,s=o.orientation),"elements"in o&&t(1,i=o.elements),"$$scope"in o&&t(2,l=o.$$scope)},[s,i,l,n]}class NA extends x{constructor(e){super(),J(this,e,LA,OA,Q,{orientation:0,elements:1})}}function Vp(r,e,t){const n=r.slice();return n[6]=e[t],n}const FA=r=>({element:r&2}),qp=r=>({element:r[6]});function Bp(r,e){let t,n;const l=e[5].default,s=Ie(l,e,e[4],qp);return{key:r,first:null,c(){t=oe(),s&&s.c(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){e=i,s&&s.p&&(!n||o&18)&&Ae(s,l,e,e[4],n?Me(l,e[4],o,FA):Pe(e[4]),qp)},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(t),s&&s.d(i)}}}function HA(r){let e=[],t=new Map,n,l,s=r[1];const i=o=>o[6];for(let o=0;o<s.length;o+=1){let a=Vp(r,s,o),u=i(a);t.set(u,e[o]=Bp(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,[a]){a&18&&(s=o[1],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,Bp,n,Vp),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function zA(r,e,t){let n,l,s=j,i=()=>(s(),s=ue(u,f=>t(3,l=f)),u);r.$$.on_destroy.push(()=>s());let{$$slots:o={},$$scope:a}=e,{store:u}=e;i();let{cases:c}=e;return r.$$set=f=>{"store"in f&&i(t(0,u=f.store)),"cases"in f&&t(2,c=f.cases),"$$scope"in f&&t(4,a=f.$$scope)},r.$$.update=()=>{r.$$.dirty&12&&t(1,n=P6(l,{cases:c}))},[u,n,c,l,a,o]}class VA extends x{constructor(e){super(),J(this,e,zA,HA,Q,{store:0,cases:2})}}function Up(r,e,t){const n=r.slice();return n[8]=e[t],n}const qA=r=>({element:r&2}),Wp=r=>({element:r[8]});function jp(r,e){let t,n;const l=e[7].default,s=Ie(l,e,e[6],Wp);return{key:r,first:null,c(){t=oe(),s&&s.c(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){e=i,s&&s.p&&(!n||o&66)&&Ae(s,l,e,e[6],n?Me(l,e[6],o,qA):Pe(e[6]),Wp)},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(t),s&&s.d(i)}}}function BA(r){let e=[],t=new Map,n,l,s=r[1];const i=o=>o[8];for(let o=0;o<s.length;o+=1){let a=Up(r,s,o),u=i(a);t.set(u,e[o]=jp(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,[a]){a&66&&(s=o[1],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,jp,n,Up),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function UA(r,e,t){let n,l,s=j,i=()=>(s(),s=ue(u,d=>t(5,l=d)),u);r.$$.on_destroy.push(()=>s());let{$$slots:o={},$$scope:a}=e,{store:u}=e;i();let{condition:c="eq"}=e,{value:f}=e,{elements:m}=e;return r.$$set=d=>{"store"in d&&i(t(0,u=d.store)),"condition"in d&&t(2,c=d.condition),"value"in d&&t(3,f=d.value),"elements"in d&&t(4,m=d.elements),"$$scope"in d&&t(6,a=d.$$scope)},r.$$.update=()=>{r.$$.dirty&60&&t(1,n=R6(l,{condition:c,value:f,elements:m}))},[u,n,c,f,m,l,a,o]}class WA extends x{constructor(e){super(),J(this,e,UA,BA,Q,{store:0,condition:2,value:3,elements:4})}}function Yp(r){var o;let e,t,n;const l=[(o=r[1])!=null?o:{},{store:r[3]},{stores:r[2]}];var s=r[4][r[0]];function i(a){let u={};for(let c=0;c<l.length;c+=1)u=le(u,l[c]);return{props:u}}return s&&(e=new s(i())),{c(){e&&C(e.$$.fragment),t=oe()},m(a,u){e&&y(e,a,u),w(a,t,u),n=!0},p(a,u){var f;const c=u&14?de(l,[u&2&&$e((f=a[1])!=null?f:{}),u&8&&{store:a[3]},u&4&&{stores:a[2]}]):{};if(s!==(s=a[4][a[0]])){if(e){G();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),K()}s?(e=new s(i()),C(e.$$.fragment),_(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else s&&e.$set(c)},i(a){n||(e&&_(e.$$.fragment,a),n=!0)},o(a){e&&g(e.$$.fragment,a),n=!1},d(a){a&&v(t),e&&S(e,a)}}}function jA(r){var l;let e,t,n=((l=r[4])==null?void 0:l[r[0]])&&Yp(r);return{c(){n&&n.c(),e=oe()},m(s,i){n&&n.m(s,i),w(s,e,i),t=!0},p(s,[i]){var o;(o=s[4])!=null&&o[s[0]]?n?(n.p(s,i),i&17&&_(n,1)):(n=Yp(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(s){t||(_(n),t=!0)},o(s){g(n),t=!1},d(s){n&&n.d(s),s&&v(e)}}}function YA(r,e,t){let{componentId:n}=e,{props:l=void 0}=e,{stores:s}=e,{store:i}=e,{customComponents:o}=e;return r.$$set=a=>{"componentId"in a&&t(0,n=a.componentId),"props"in a&&t(1,l=a.props),"stores"in a&&t(2,s=a.stores),"store"in a&&t(3,i=a.store),"customComponents"in a&&t(4,o=a.customComponents)},[n,l,s,i,o]}class GA extends x{constructor(e){super(),J(this,e,YA,jA,Q,{componentId:0,props:1,stores:2,store:3,customComponents:4})}}function KA(r){let e,t;return e=new NA({props:{orientation:r[0].orientation,elements:r[0].elements,$$slots:{default:[xA,({element:n})=>({9:n}),({element:n})=>n?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.orientation=n[0].orientation),l&1&&(s.elements=n[0].elements),l&1792&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XA(r){let e,t;const n=[{store:r[7]},r[0]];let l={$$slots:{default:[eP,({element:s})=>({9:s}),({element:s})=>s?512:0]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new WA({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&129?de(n,[i&128&&{store:s[7]},i&1&&$e(s[0])]):{};i&1792&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function QA(r){let e,t;return e=new VA({props:{store:r[7],cases:r[0].cases,$$slots:{default:[tP,({element:n})=>({9:n}),({element:n})=>n?512:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.store=n[7]),l&1&&(s.cases=n[0].cases),l&1792&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ZA(r){let e,t;const n=[r[0],{customComponents:r[3]},{store:r[7]},{stores:r[1]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new GA({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&139?de(n,[i&1&&$e(s[0]),i&8&&{customComponents:s[3]},i&128&&{store:s[7]},i&2&&{stores:s[1]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function JA(r){let e,t,n=r[6]&&r[6]!=="custom"&&Gp(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[6]&&l[6]!=="custom"?n?(n.p(l,s),s&64&&_(n,1)):(n=Gp(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function xA(r){let e,t;const n=[r[8],{element:r[9]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new hu({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&768?de(n,[i&256&&$e(s[8]),i&512&&{element:s[9]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function eP(r){let e,t;const n=[r[8],{element:r[9]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new hu({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&768?de(n,[i&256&&$e(s[8]),i&512&&{element:s[9]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function tP(r){let e,t;const n=[r[8],{element:r[9]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new hu({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&768?de(n,[i&256&&$e(s[8]),i&512&&{element:s[9]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Gp(r){let e,t;const n=[r[0],r[2][r[0].variable],{type:r[6]},{store:r[7]},{validationErrors:r[4].failedChecks[r[0].variable]||[]},{disabled:r[5]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new PA({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&245?de(n,[i&1&&$e(s[0]),i&5&&$e(s[2][s[0].variable]),i&64&&{type:s[6]},i&128&&{store:s[7]},i&17&&{validationErrors:s[4].failedChecks[s[0].variable]||[]},i&32&&{disabled:s[5]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function nP(r){let e,t,n,l;const s=[JA,ZA,QA,XA,KA],i=[];function o(a,u){return a[0].type==="input"&&a[7]?0:a[0].type==="static"&&a[7]?1:a[0].type==="switch"&&a[7]?2:a[0].type==="if"&&a[7]?3:a[0].type==="layout"||!a[0].type?4:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function rP(r,e,t){let n,l,{element:s}=e,{stores:i}=e,{variables:o}=e,{customComponents:a}=e,{validationResult:u}=e,{disabled:c=!1}=e;return r.$$set=f=>{t(8,e=le(le({},e),_t(f))),"element"in f&&t(0,s=f.element),"stores"in f&&t(1,i=f.stores),"variables"in f&&t(2,o=f.variables),"customComponents"in f&&t(3,a=f.customComponents),"validationResult"in f&&t(4,u=f.validationResult),"disabled"in f&&t(5,c=f.disabled)},r.$$.update=()=>{r.$$.dirty&3&&t(7,n="variable"in s?i.get(s.variable):void 0),r.$$.dirty&5&&t(6,l="variable"in s?o[s.variable].type:void 0)},e=_t(e),[s,i,o,a,u,c,l,n,e]}class hu extends x{constructor(e){super(),J(this,e,rP,nP,Q,{element:0,stores:1,variables:2,customComponents:3,validationResult:4,disabled:5})}}function lP(r){let e,t,n,l,s,i;return n=new hu({props:{stores:r[1].stores,variables:r[1].variables,element:r[1].layout,customComponents:r[1].customComponents,validationResult:r[3],disabled:r[0]}}),{c(){e=M("div"),t=M("form"),C(n.$$.fragment),D(e,"class","form-builder")},m(o,a){w(o,e,a),I(e,t),y(n,t,null),l=!0,s||(i=He(t,"submit",Ps(r[4])),s=!0)},p(o,[a]){const u={};a&2&&(u.stores=o[1].stores),a&2&&(u.variables=o[1].variables),a&2&&(u.element=o[1].layout),a&2&&(u.customComponents=o[1].customComponents),a&8&&(u.validationResult=o[3]),a&1&&(u.disabled=o[0]),n.$set(u)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&v(e),S(n),s=!1,i()}}}function sP(r,e,t){let n,l,s=j,i=()=>(s(),s=ue(n,f=>t(3,l=f)),n);r.$$.on_destroy.push(()=>s());const o=ht();let{disabled:a=!1}=e,{form:u}=e;function c(){return o("submit"),!1}return r.$$set=f=>{"disabled"in f&&t(0,a=f.disabled),"form"in f&&t(1,u=f.form)},r.$$.update=()=>{r.$$.dirty&2&&i(t(2,n=u.validationStore))},[a,u,n,l,c]}class N6 extends x{constructor(e){super(),J(this,e,sP,lP,Q,{disabled:0,form:1})}}async function iP(r){var e,t;await on(),(t=(e=r.closest(".window"))==null?void 0:e.querySelector(":scope > .footer"))==null||t.appendChild(r)}function F6(r){return iP(r),{destroy:()=>{var e;return(e=r.parentElement)==null?void 0:e.removeChild(r)}}}function H6(r){const e=document.querySelector(r);if(!!(e!=null&&e.textContent))try{return JSON.parse(e.textContent)}catch(t){console.error(t)}}function z6(r){return H6(`#${r}`)}function ul(){const r=H6("#common-data");if(!r)throw new Error("commonData is undefined. This state should never occur");return r}var oP=function(e){return aP(e)&&!uP(e)};function aP(r){return!!r&&typeof r=="object"}function uP(r){var e=Object.prototype.toString.call(r);return e==="[object RegExp]"||e==="[object Date]"||mP(r)}var cP=typeof Symbol=="function"&&Symbol.for,fP=cP?Symbol.for("react.element"):60103;function mP(r){return r.$$typeof===fP}function dP(r){return Array.isArray(r)?[]:{}}function no(r,e){return e.clone!==!1&&e.isMergeableObject(r)?js(dP(r),r,e):r}function _P(r,e,t){return r.concat(e).map(function(n){return no(n,t)})}function pP(r,e){if(!e.customMerge)return js;var t=e.customMerge(r);return typeof t=="function"?t:js}function gP(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter(function(e){return r.propertyIsEnumerable(e)}):[]}function Kp(r){return Object.keys(r).concat(gP(r))}function V6(r,e){try{return e in r}catch(t){return!1}}function hP(r,e){return V6(r,e)&&!(Object.hasOwnProperty.call(r,e)&&Object.propertyIsEnumerable.call(r,e))}function bP(r,e,t){var n={};return t.isMergeableObject(r)&&Kp(r).forEach(function(l){n[l]=no(r[l],t)}),Kp(e).forEach(function(l){hP(r,l)||(V6(r,l)&&t.isMergeableObject(e[l])?n[l]=pP(l,t)(r[l],e[l],t):n[l]=no(e[l],t))}),n}function js(r,e,t){t=t||{},t.arrayMerge=t.arrayMerge||_P,t.isMergeableObject=t.isMergeableObject||oP,t.cloneUnlessOtherwiseSpecified=no;var n=Array.isArray(e),l=Array.isArray(r),s=n===l;return s?n?t.arrayMerge(r,e,t):bP(r,e,t):no(e,t)}js.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,l){return js(n,l,t)},{})};var $P=js,vP=$P,Bf={},xl={exports:{}};(function(r){var e,t,n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F;(function(L){var U=typeof fs=="object"?fs:typeof self=="object"?self:typeof this=="object"?this:{};L(W(U,W(r.exports)));function W(H,z){return H!==U&&(typeof Object.create=="function"?Object.defineProperty(H,"__esModule",{value:!0}):H.__esModule=!0),function(te,se){return H[te]=z?z(te,se):se}}})(function(L){var U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,z){H.__proto__=z}||function(H,z){for(var te in z)Object.prototype.hasOwnProperty.call(z,te)&&(H[te]=z[te])};e=function(H,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");U(H,z);function te(){this.constructor=H}H.prototype=z===null?Object.create(z):(te.prototype=z.prototype,new te)},t=Object.assign||function(H){for(var z,te=1,se=arguments.length;te<se;te++){z=arguments[te];for(var B in z)Object.prototype.hasOwnProperty.call(z,B)&&(H[B]=z[B])}return H},n=function(H,z){var te={};for(var se in H)Object.prototype.hasOwnProperty.call(H,se)&&z.indexOf(se)<0&&(te[se]=H[se]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,se=Object.getOwnPropertySymbols(H);B<se.length;B++)z.indexOf(se[B])<0&&Object.prototype.propertyIsEnumerable.call(H,se[B])&&(te[se[B]]=H[se[B]]);return te},l=function(H,z,te,se){var B=arguments.length,V=B<3?z:se===null?se=Object.getOwnPropertyDescriptor(z,te):se,ee;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(H,z,te,se);else for(var ie=H.length-1;ie>=0;ie--)(ee=H[ie])&&(V=(B<3?ee(V):B>3?ee(z,te,V):ee(z,te))||V);return B>3&&V&&Object.defineProperty(z,te,V),V},s=function(H,z){return function(te,se){z(te,se,H)}},i=function(H,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(H,z)},o=function(H,z,te,se){function B(V){return V instanceof te?V:new te(function(ee){ee(V)})}return new(te||(te=Promise))(function(V,ee){function ie(fe){try{ae(se.next(fe))}catch(Ue){ee(Ue)}}function _e(fe){try{ae(se.throw(fe))}catch(Ue){ee(Ue)}}function ae(fe){fe.done?V(fe.value):B(fe.value).then(ie,_e)}ae((se=se.apply(H,z||[])).next())})},a=function(H,z){var te={label:0,sent:function(){if(V[0]&1)throw V[1];return V[1]},trys:[],ops:[]},se,B,V,ee;return ee={next:ie(0),throw:ie(1),return:ie(2)},typeof Symbol=="function"&&(ee[Symbol.iterator]=function(){return this}),ee;function ie(ae){return function(fe){return _e([ae,fe])}}function _e(ae){if(se)throw new TypeError("Generator is already executing.");for(;te;)try{if(se=1,B&&(V=ae[0]&2?B.return:ae[0]?B.throw||((V=B.return)&&V.call(B),0):B.next)&&!(V=V.call(B,ae[1])).done)return V;switch(B=0,V&&(ae=[ae[0]&2,V.value]),ae[0]){case 0:case 1:V=ae;break;case 4:return te.label++,{value:ae[1],done:!1};case 5:te.label++,B=ae[1],ae=[0];continue;case 7:ae=te.ops.pop(),te.trys.pop();continue;default:if(V=te.trys,!(V=V.length>0&&V[V.length-1])&&(ae[0]===6||ae[0]===2)){te=0;continue}if(ae[0]===3&&(!V||ae[1]>V[0]&&ae[1]<V[3])){te.label=ae[1];break}if(ae[0]===6&&te.label<V[1]){te.label=V[1],V=ae;break}if(V&&te.label<V[2]){te.label=V[2],te.ops.push(ae);break}V[2]&&te.ops.pop(),te.trys.pop();continue}ae=z.call(H,te)}catch(fe){ae=[6,fe],B=0}finally{se=V=0}if(ae[0]&5)throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}},u=function(H,z){for(var te in H)te!=="default"&&!Object.prototype.hasOwnProperty.call(z,te)&&F(z,H,te)},F=Object.create?function(H,z,te,se){se===void 0&&(se=te);var B=Object.getOwnPropertyDescriptor(z,te);(!B||("get"in B?!z.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return z[te]}}),Object.defineProperty(H,se,B)}:function(H,z,te,se){se===void 0&&(se=te),H[se]=z[te]},c=function(H){var z=typeof Symbol=="function"&&Symbol.iterator,te=z&&H[z],se=0;if(te)return te.call(H);if(H&&typeof H.length=="number")return{next:function(){return H&&se>=H.length&&(H=void 0),{value:H&&H[se++],done:!H}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")},f=function(H,z){var te=typeof Symbol=="function"&&H[Symbol.iterator];if(!te)return H;var se=te.call(H),B,V=[],ee;try{for(;(z===void 0||z-- >0)&&!(B=se.next()).done;)V.push(B.value)}catch(ie){ee={error:ie}}finally{try{B&&!B.done&&(te=se.return)&&te.call(se)}finally{if(ee)throw ee.error}}return V},m=function(){for(var H=[],z=0;z<arguments.length;z++)H=H.concat(f(arguments[z]));return H},d=function(){for(var H=0,z=0,te=arguments.length;z<te;z++)H+=arguments[z].length;for(var se=Array(H),B=0,z=0;z<te;z++)for(var V=arguments[z],ee=0,ie=V.length;ee<ie;ee++,B++)se[B]=V[ee];return se},p=function(H,z,te){if(te||arguments.length===2)for(var se=0,B=z.length,V;se<B;se++)(V||!(se in z))&&(V||(V=Array.prototype.slice.call(z,0,se)),V[se]=z[se]);return H.concat(V||Array.prototype.slice.call(z))},h=function(H){return this instanceof h?(this.v=H,this):new h(H)},b=function(H,z,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se=te.apply(H,z||[]),B,V=[];return B={},ee("next"),ee("throw"),ee("return"),B[Symbol.asyncIterator]=function(){return this},B;function ee(ve){se[ve]&&(B[ve]=function(Se){return new Promise(function(ke,Fe){V.push([ve,Se,ke,Fe])>1||ie(ve,Se)})})}function ie(ve,Se){try{_e(se[ve](Se))}catch(ke){Ue(V[0][3],ke)}}function _e(ve){ve.value instanceof h?Promise.resolve(ve.value.v).then(ae,fe):Ue(V[0][2],ve)}function ae(ve){ie("next",ve)}function fe(ve){ie("throw",ve)}function Ue(ve,Se){ve(Se),V.shift(),V.length&&ie(V[0][0],V[0][1])}},$=function(H){var z,te;return z={},se("next"),se("throw",function(B){throw B}),se("return"),z[Symbol.iterator]=function(){return this},z;function se(B,V){z[B]=H[B]?function(ee){return(te=!te)?{value:h(H[B](ee)),done:B==="return"}:V?V(ee):ee}:V}},k=function(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var z=H[Symbol.asyncIterator],te;return z?z.call(H):(H=typeof c=="function"?c(H):H[Symbol.iterator](),te={},se("next"),se("throw"),se("return"),te[Symbol.asyncIterator]=function(){return this},te);function se(V){te[V]=H[V]&&function(ee){return new Promise(function(ie,_e){ee=H[V](ee),B(ie,_e,ee.done,ee.value)})}}function B(V,ee,ie,_e){Promise.resolve(_e).then(function(ae){V({value:ae,done:ie})},ee)}},T=function(H,z){return Object.defineProperty?Object.defineProperty(H,"raw",{value:z}):H.raw=z,H};var W=Object.create?function(H,z){Object.defineProperty(H,"default",{enumerable:!0,value:z})}:function(H,z){H.default=z};E=function(H){if(H&&H.__esModule)return H;var z={};if(H!=null)for(var te in H)te!=="default"&&Object.prototype.hasOwnProperty.call(H,te)&&F(z,H,te);return W(z,H),z},A=function(H){return H&&H.__esModule?H:{default:H}},P=function(H,z,te,se){if(te==="a"&&!se)throw new TypeError("Private accessor was defined without a getter");if(typeof z=="function"?H!==z||!se:!z.has(H))throw new TypeError("Cannot read private member from an object whose class did not declare it");return te==="m"?se:te==="a"?se.call(H):se?se.value:z.get(H)},O=function(H,z,te,se,B){if(se==="m")throw new TypeError("Private method is not writable");if(se==="a"&&!B)throw new TypeError("Private accessor was defined without a setter");if(typeof z=="function"?H!==z||!B:!z.has(H))throw new TypeError("Cannot write private member to an object whose class did not declare it");return se==="a"?B.call(H,te):B?B.value=te:z.set(H,te),te},R=function(H,z){if(z===null||typeof z!="object"&&typeof z!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof H=="function"?z===H:H.has(z)},L("__extends",e),L("__assign",t),L("__rest",n),L("__decorate",l),L("__param",s),L("__metadata",i),L("__awaiter",o),L("__generator",a),L("__exportStar",u),L("__createBinding",F),L("__values",c),L("__read",f),L("__spread",m),L("__spreadArrays",d),L("__spreadArray",p),L("__await",h),L("__asyncGenerator",b),L("__asyncDelegator",$),L("__asyncValues",k),L("__makeTemplateObject",T),L("__importStar",E),L("__importDefault",A),L("__classPrivateFieldGet",P),L("__classPrivateFieldSet",O),L("__classPrivateFieldIn",R)})})(xl);var ro={},Uf={},Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.ErrorKind=void 0;var Xp;(function(r){r[r.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",r[r.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",r[r.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",r[r.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",r[r.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",r[r.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",r[r.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",r[r.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",r[r.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",r[r.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",r[r.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",r[r.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",r[r.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",r[r.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",r[r.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",r[r.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",r[r.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",r[r.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",r[r.INVALID_TAG=23]="INVALID_TAG",r[r.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",r[r.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",r[r.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(Xp||(Co.ErrorKind=Xp={}));var bu={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.createNumberElement=zt.createLiteralElement=zt.isDateTimeSkeleton=zt.isNumberSkeleton=zt.isTagElement=zt.isPoundElement=zt.isPluralElement=zt.isSelectElement=zt.isTimeElement=zt.isDateElement=zt.isNumberElement=zt.isArgumentElement=zt.isLiteralElement=zt.SKELETON_TYPE=zt.TYPE=void 0;var hr;(function(r){r[r.literal=0]="literal",r[r.argument=1]="argument",r[r.number=2]="number",r[r.date=3]="date",r[r.time=4]="time",r[r.select=5]="select",r[r.plural=6]="plural",r[r.pound=7]="pound",r[r.tag=8]="tag"})(hr||(zt.TYPE=hr={}));var wa;(function(r){r[r.number=0]="number",r[r.dateTime=1]="dateTime"})(wa||(zt.SKELETON_TYPE=wa={}));function wP(r){return r.type===hr.literal}zt.isLiteralElement=wP;function kP(r){return r.type===hr.argument}zt.isArgumentElement=kP;function yP(r){return r.type===hr.number}zt.isNumberElement=yP;function SP(r){return r.type===hr.date}zt.isDateElement=SP;function CP(r){return r.type===hr.time}zt.isTimeElement=CP;function TP(r){return r.type===hr.select}zt.isSelectElement=TP;function EP(r){return r.type===hr.plural}zt.isPluralElement=EP;function DP(r){return r.type===hr.pound}zt.isPoundElement=DP;function IP(r){return r.type===hr.tag}zt.isTagElement=IP;function MP(r){return!!(r&&typeof r=="object"&&r.type===wa.number)}zt.isNumberSkeleton=MP;function AP(r){return!!(r&&typeof r=="object"&&r.type===wa.dateTime)}zt.isDateTimeSkeleton=AP;function PP(r){return{type:hr.literal,value:r}}zt.createLiteralElement=PP;function RP(r,e){return{type:hr.number,value:r,style:e}}zt.createNumberElement=RP;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.WHITE_SPACE_REGEX=Ys.SPACE_SEPARATOR_REGEX=void 0;Ys.SPACE_SEPARATOR_REGEX=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/;Ys.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/;var q6={},Ei={},Qp;function OP(){if(Qp)return Ei;Qp=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.parseDateTimeSkeleton=void 0;var r=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function e(t){var n={};return t.replace(r,function(l){var s=l.length;switch(l[0]){case"G":n.era=s===4?"long":s===5?"narrow":"short";break;case"y":n.year=s===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":n.month=["numeric","2-digit","short","long","narrow"][s-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":n.day=["numeric","2-digit"][s-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":n.weekday=s===4?"long":s===5?"narrow":"short";break;case"e":if(s<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");n.weekday=["short","long","narrow","short"][s-4];break;case"c":if(s<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");n.weekday=["short","long","narrow","short"][s-4];break;case"a":n.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":n.hourCycle="h12",n.hour=["numeric","2-digit"][s-1];break;case"H":n.hourCycle="h23",n.hour=["numeric","2-digit"][s-1];break;case"K":n.hourCycle="h11",n.hour=["numeric","2-digit"][s-1];break;case"k":n.hourCycle="h24",n.hour=["numeric","2-digit"][s-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":n.minute=["numeric","2-digit"][s-1];break;case"s":n.second=["numeric","2-digit"][s-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":n.timeZoneName=s<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),n}return Ei.parseDateTimeSkeleton=e,Ei}var ss={},Di={},Zp;function LP(){return Zp||(Zp=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.WHITE_SPACE_REGEX=void 0,Di.WHITE_SPACE_REGEX=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i),Di}var Jp;function NP(){if(Jp)return ss;Jp=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.parseNumberSkeleton=ss.parseNumberSkeletonFromString=void 0;var r=xl.exports,e=LP();function t(d){if(d.length===0)throw new Error("Number skeleton cannot be empty");for(var p=d.split(e.WHITE_SPACE_REGEX).filter(function(F){return F.length>0}),h=[],b=0,$=p;b<$.length;b++){var k=$[b],T=k.split("/");if(T.length===0)throw new Error("Invalid number skeleton");for(var E=T[0],A=T.slice(1),P=0,O=A;P<O.length;P++){var R=O[P];if(R.length===0)throw new Error("Invalid number skeleton")}h.push({stem:E,options:A})}return h}ss.parseNumberSkeletonFromString=t;function n(d){return d.replace(/^(.*?)-/,"")}var l=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,s=/^(@+)?(\+|#+)?[rs]?$/g,i=/(\*)(0+)|(#+)(0+)|(0+)/g,o=/^(0+)$/;function a(d){var p={};return d[d.length-1]==="r"?p.roundingPriority="morePrecision":d[d.length-1]==="s"&&(p.roundingPriority="lessPrecision"),d.replace(s,function(h,b,$){return typeof $!="string"?(p.minimumSignificantDigits=b.length,p.maximumSignificantDigits=b.length):$==="+"?p.minimumSignificantDigits=b.length:b[0]==="#"?p.maximumSignificantDigits=b.length:(p.minimumSignificantDigits=b.length,p.maximumSignificantDigits=b.length+(typeof $=="string"?$.length:0)),""}),p}function u(d){switch(d){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function c(d){var p;if(d[0]==="E"&&d[1]==="E"?(p={notation:"engineering"},d=d.slice(2)):d[0]==="E"&&(p={notation:"scientific"},d=d.slice(1)),p){var h=d.slice(0,2);if(h==="+!"?(p.signDisplay="always",d=d.slice(2)):h==="+?"&&(p.signDisplay="exceptZero",d=d.slice(2)),!o.test(d))throw new Error("Malformed concise eng/scientific notation");p.minimumIntegerDigits=d.length}return p}function f(d){var p={},h=u(d);return h||p}function m(d){for(var p={},h=0,b=d;h<b.length;h++){var $=b[h];switch($.stem){case"percent":case"%":p.style="percent";continue;case"%x100":p.style="percent",p.scale=100;continue;case"currency":p.style="currency",p.currency=$.options[0];continue;case"group-off":case",_":p.useGrouping=!1;continue;case"precision-integer":case".":p.maximumFractionDigits=0;continue;case"measure-unit":case"unit":p.style="unit",p.unit=n($.options[0]);continue;case"compact-short":case"K":p.notation="compact",p.compactDisplay="short";continue;case"compact-long":case"KK":p.notation="compact",p.compactDisplay="long";continue;case"scientific":p=r.__assign(r.__assign(r.__assign({},p),{notation:"scientific"}),$.options.reduce(function(A,P){return r.__assign(r.__assign({},A),f(P))},{}));continue;case"engineering":p=r.__assign(r.__assign(r.__assign({},p),{notation:"engineering"}),$.options.reduce(function(A,P){return r.__assign(r.__assign({},A),f(P))},{}));continue;case"notation-simple":p.notation="standard";continue;case"unit-width-narrow":p.currencyDisplay="narrowSymbol",p.unitDisplay="narrow";continue;case"unit-width-short":p.currencyDisplay="code",p.unitDisplay="short";continue;case"unit-width-full-name":p.currencyDisplay="name",p.unitDisplay="long";continue;case"unit-width-iso-code":p.currencyDisplay="symbol";continue;case"scale":p.scale=parseFloat($.options[0]);continue;case"integer-width":if($.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");$.options[0].replace(i,function(A,P,O,R,F,L){if(P)p.minimumIntegerDigits=O.length;else{if(R&&F)throw new Error("We currently do not support maximum integer digits");if(L)throw new Error("We currently do not support exact integer digits")}return""});continue}if(o.test($.stem)){p.minimumIntegerDigits=$.stem.length;continue}if(l.test($.stem)){if($.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");$.stem.replace(l,function(A,P,O,R,F,L){return O==="*"?p.minimumFractionDigits=P.length:R&&R[0]==="#"?p.maximumFractionDigits=R.length:F&&L?(p.minimumFractionDigits=F.length,p.maximumFractionDigits=F.length+L.length):(p.minimumFractionDigits=P.length,p.maximumFractionDigits=P.length),""});var k=$.options[0];k==="w"?p=r.__assign(r.__assign({},p),{trailingZeroDisplay:"stripIfInteger"}):k&&(p=r.__assign(r.__assign({},p),a(k)));continue}if(s.test($.stem)){p=r.__assign(r.__assign({},p),a($.stem));continue}var T=u($.stem);T&&(p=r.__assign(r.__assign({},p),T));var E=c($.stem);E&&(p=r.__assign(r.__assign({},p),E))}return p}return ss.parseNumberSkeleton=m,ss}(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=xl.exports;e.__exportStar(OP(),r),e.__exportStar(NP(),r)})(q6);var $u={},vu={};Object.defineProperty(vu,"__esModule",{value:!0});vu.timeData=void 0;vu.timeData={"001":["H","h"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["H","h","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["H","hB","h","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["H","h","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["H","hB","h","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["H","h","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["H","h","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["H","h","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["H","h","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["H","hB","h","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["H","h","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["H","h","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["H","h","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};Object.defineProperty($u,"__esModule",{value:!0});$u.getBestPattern=void 0;var Xo=vu;function FP(r,e){for(var t="",n=0;n<r.length;n++){var l=r.charAt(n);if(l==="j"){for(var s=0;n+1<r.length&&r.charAt(n+1)===l;)s++,n++;var i=1+(s&1),o=s<2?1:3+(s>>1),a="a",u=HP(e);for((u=="H"||u=="k")&&(o=0);o-- >0;)t+=a;for(;i-- >0;)t=u+t}else l==="J"?t+="H":t+=l}return t}$u.getBestPattern=FP;function HP(r){var e=r.hourCycle;if(e===void 0&&r.hourCycles&&r.hourCycles.length&&(e=r.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var t=r.language,n;t!=="root"&&(n=r.maximize().region);var l=Xo.timeData[n||""]||Xo.timeData[t||""]||Xo.timeData["".concat(t,"-001")]||Xo.timeData["001"];return l[0]}var gc;Object.defineProperty(bu,"__esModule",{value:!0});bu.Parser=void 0;var zP=xl.exports,Ut=Co,Zn=zt,B6=Ys,hc=q6,VP=$u,qP=new RegExp("^".concat(B6.SPACE_SEPARATOR_REGEX.source,"*")),BP=new RegExp("".concat(B6.SPACE_SEPARATOR_REGEX.source,"*$"));function Ht(r,e){return{start:r,end:e}}var UP=!!String.prototype.startsWith&&"_a".startsWith("a",1),WP=!!String.fromCodePoint,jP=!!Object.fromEntries,YP=!!String.prototype.codePointAt,GP=!!String.prototype.trimStart,KP=!!String.prototype.trimEnd,XP=!!Number.isSafeInteger,QP=XP?Number.isSafeInteger:function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r&&Math.abs(r)<=9007199254740991},Qc=!0;try{var ZP=W6("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Qc=((gc=ZP.exec("a"))===null||gc===void 0?void 0:gc[0])==="a"}catch(r){Qc=!1}var xp=UP?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Zc=WP?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",l=e.length,s=0,i;l>s;){if(i=e[s++],i>1114111)throw RangeError(i+" is not a valid code point");n+=i<65536?String.fromCharCode(i):String.fromCharCode(((i-=65536)>>10)+55296,i%1024+56320)}return n},e1=jP?Object.fromEntries:function(e){for(var t={},n=0,l=e;n<l.length;n++){var s=l[n],i=s[0],o=s[1];t[i]=o}return t},U6=YP?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var l=e.charCodeAt(t),s;return l<55296||l>56319||t+1===n||(s=e.charCodeAt(t+1))<56320||s>57343?l:(l-55296<<10)+(s-56320)+65536}},JP=GP?function(e){return e.trimStart()}:function(e){return e.replace(qP,"")},xP=KP?function(e){return e.trimEnd()}:function(e){return e.replace(BP,"")};function W6(r,e){return new RegExp(r,e)}var Jc;if(Qc){var t1=W6("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Jc=function(e,t){var n;t1.lastIndex=t;var l=t1.exec(e);return(n=l[1])!==null&&n!==void 0?n:""}}else Jc=function(e,t){for(var n=[];;){var l=U6(e,t);if(l===void 0||j6(l)||rR(l))break;n.push(l),t+=l>=65536?2:1}return Zc.apply(void 0,n)};var eR=function(){function r(e,t){t===void 0&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return r.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},r.prototype.parseMessage=function(e,t,n){for(var l=[];!this.isEOF();){var s=this.char();if(s===123){var i=this.parseArgument(e,n);if(i.err)return i;l.push(i.val)}else{if(s===125&&e>0)break;if(s===35&&(t==="plural"||t==="selectordinal")){var o=this.clonePosition();this.bump(),l.push({type:Zn.TYPE.pound,location:Ht(o,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(n)break;return this.error(Ut.ErrorKind.UNMATCHED_CLOSING_TAG,Ht(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&xc(this.peek()||0)){var i=this.parseTag(e,t);if(i.err)return i;l.push(i.val)}else{var i=this.parseLiteral(e,t);if(i.err)return i;l.push(i.val)}}}return{val:l,err:null}},r.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var l=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Zn.TYPE.literal,value:"<".concat(l,"/>"),location:Ht(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,t,!0);if(s.err)return s;var i=s.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!xc(this.char()))return this.error(Ut.ErrorKind.INVALID_TAG,Ht(o,this.clonePosition()));var a=this.clonePosition(),u=this.parseTagName();return l!==u?this.error(Ut.ErrorKind.UNMATCHED_CLOSING_TAG,Ht(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Zn.TYPE.tag,value:l,children:i,location:Ht(n,this.clonePosition())},err:null}:this.error(Ut.ErrorKind.INVALID_TAG,Ht(o,this.clonePosition())))}else return this.error(Ut.ErrorKind.UNCLOSED_TAG,Ht(n,this.clonePosition()))}else return this.error(Ut.ErrorKind.INVALID_TAG,Ht(n,this.clonePosition()))},r.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&nR(this.char());)this.bump();return this.message.slice(e,this.offset())},r.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),l="";;){var s=this.tryParseQuote(t);if(s){l+=s;continue}var i=this.tryParseUnquoted(e,t);if(i){l+=i;continue}var o=this.tryParseLeftAngleBracket();if(o){l+=o;continue}break}var a=Ht(n,this.clonePosition());return{val:{type:Zn.TYPE.literal,value:l,location:a},err:null}},r.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!tR(this.peek()||0))?(this.bump(),"<"):null},r.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(n===39)if(this.peek()===39)t.push(39),this.bump();else{this.bump();break}else t.push(n);this.bump()}return Zc.apply(void 0,t)},r.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return n===60||n===123||n===35&&(t==="plural"||t==="selectordinal")||n===125&&e>0?null:(this.bump(),Zc(n))},r.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Ut.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Ht(n,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(Ut.ErrorKind.EMPTY_ARGUMENT,Ht(n,this.clonePosition()));var l=this.parseIdentifierIfPossible().value;if(!l)return this.error(Ut.ErrorKind.MALFORMED_ARGUMENT,Ht(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Ut.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Ht(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Zn.TYPE.argument,value:l,location:Ht(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Ut.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Ht(n,this.clonePosition())):this.parseArgumentOptions(e,t,l,n);default:return this.error(Ut.ErrorKind.MALFORMED_ARGUMENT,Ht(n,this.clonePosition()))}},r.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Jc(this.message,t),l=t+n.length;this.bumpTo(l);var s=this.clonePosition(),i=Ht(e,s);return{value:n,location:i}},r.prototype.parseArgumentOptions=function(e,t,n,l){var s,i=this.clonePosition(),o=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(o){case"":return this.error(Ut.ErrorKind.EXPECT_ARGUMENT_TYPE,Ht(i,a));case"number":case"date":case"time":{this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition(),f=this.parseSimpleArgStyleIfPossible();if(f.err)return f;var m=xP(f.val);if(m.length===0)return this.error(Ut.ErrorKind.EXPECT_ARGUMENT_STYLE,Ht(this.clonePosition(),this.clonePosition()));var d=Ht(c,this.clonePosition());u={style:m,styleLocation:d}}var p=this.tryParseArgumentClose(l);if(p.err)return p;var h=Ht(l,this.clonePosition());if(u&&xp(u==null?void 0:u.style,"::",0)){var b=JP(u.style.slice(2));if(o==="number"){var f=this.parseNumberSkeletonFromString(b,u.styleLocation);return f.err?f:{val:{type:Zn.TYPE.number,value:n,location:h,style:f.val},err:null}}else{if(b.length===0)return this.error(Ut.ErrorKind.EXPECT_DATE_TIME_SKELETON,h);var $=b;this.locale&&($=(0,VP.getBestPattern)(b,this.locale));var m={type:Zn.SKELETON_TYPE.dateTime,pattern:$,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?(0,hc.parseDateTimeSkeleton)($):{}},k=o==="date"?Zn.TYPE.date:Zn.TYPE.time;return{val:{type:k,value:n,location:h,style:m},err:null}}}return{val:{type:o==="number"?Zn.TYPE.number:o==="date"?Zn.TYPE.date:Zn.TYPE.time,value:n,location:h,style:(s=u==null?void 0:u.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var T=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Ut.ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS,Ht(T,zP.__assign({},T)));this.bumpSpace();var E=this.parseIdentifierIfPossible(),A=0;if(o!=="select"&&E.value==="offset"){if(!this.bumpIf(":"))return this.error(Ut.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ht(this.clonePosition(),this.clonePosition()));this.bumpSpace();var f=this.tryParseDecimalInteger(Ut.ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Ut.ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(f.err)return f;this.bumpSpace(),E=this.parseIdentifierIfPossible(),A=f.val}var P=this.tryParsePluralOrSelectOptions(e,o,t,E);if(P.err)return P;var p=this.tryParseArgumentClose(l);if(p.err)return p;var O=Ht(l,this.clonePosition());return o==="select"?{val:{type:Zn.TYPE.select,value:n,options:e1(P.val),location:O},err:null}:{val:{type:Zn.TYPE.plural,value:n,options:e1(P.val),offset:A,pluralType:o==="plural"?"cardinal":"ordinal",location:O},err:null}}default:return this.error(Ut.ErrorKind.INVALID_ARGUMENT_TYPE,Ht(i,a))}},r.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(Ut.ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE,Ht(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},r.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n=this.char();switch(n){case 39:{this.bump();var l=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Ut.ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Ht(l,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(t.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(t.offset,this.offset()),err:null}},r.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=(0,hc.parseNumberSkeletonFromString)(e)}catch(l){return this.error(Ut.ErrorKind.INVALID_NUMBER_SKELETON,t)}return{val:{type:Zn.SKELETON_TYPE.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?(0,hc.parseNumberSkeleton)(n):{}},err:null}},r.prototype.tryParsePluralOrSelectOptions=function(e,t,n,l){for(var s,i=!1,o=[],a=new Set,u=l.value,c=l.location;;){if(u.length===0){var f=this.clonePosition();if(t!=="select"&&this.bumpIf("=")){var m=this.tryParseDecimalInteger(Ut.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ut.ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);if(m.err)return m;c=Ht(f,this.clonePosition()),u=this.message.slice(f.offset,this.offset())}else break}if(a.has(u))return this.error(t==="select"?Ut.ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Ut.ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);u==="other"&&(i=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error(t==="select"?Ut.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Ut.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Ht(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var h=this.tryParseArgumentClose(d);if(h.err)return h;o.push([u,{value:p.val,location:Ht(d,this.clonePosition())}]),a.add(u),this.bumpSpace(),s=this.parseIdentifierIfPossible(),u=s.value,c=s.location}return o.length===0?this.error(t==="select"?Ut.ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR:Ut.ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR,Ht(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(Ut.ErrorKind.MISSING_OTHER_CLAUSE,Ht(this.clonePosition(),this.clonePosition())):{val:o,err:null}},r.prototype.tryParseDecimalInteger=function(e,t){var n=1,l=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var s=!1,i=0;!this.isEOF();){var o=this.char();if(o>=48&&o<=57)s=!0,i=i*10+(o-48),this.bump();else break}var a=Ht(l,this.clonePosition());return s?(i*=n,QP(i)?{val:i,err:null}:this.error(t,a)):this.error(e,a)},r.prototype.offset=function(){return this.position.offset},r.prototype.isEOF=function(){return this.offset()===this.message.length},r.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},r.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=U6(this.message,e);if(t===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},r.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},r.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},r.prototype.bumpIf=function(e){if(xp(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},r.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},r.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},r.prototype.bumpSpace=function(){for(;!this.isEOF()&&j6(this.char());)this.bump()},r.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return n!=null?n:null},r}();bu.Parser=eR;function xc(r){return r>=97&&r<=122||r>=65&&r<=90}function tR(r){return xc(r)||r===47}function nR(r){return r===45||r===46||r>=48&&r<=57||r===95||r>=97&&r<=122||r>=65&&r<=90||r==183||r>=192&&r<=214||r>=216&&r<=246||r>=248&&r<=893||r>=895&&r<=8191||r>=8204&&r<=8205||r>=8255&&r<=8256||r>=8304&&r<=8591||r>=11264&&r<=12271||r>=12289&&r<=55295||r>=63744&&r<=64975||r>=65008&&r<=65533||r>=65536&&r<=983039}function j6(r){return r>=9&&r<=13||r===32||r===133||r>=8206&&r<=8207||r===8232||r===8233}function rR(r){return r>=33&&r<=35||r===36||r>=37&&r<=39||r===40||r===41||r===42||r===43||r===44||r===45||r>=46&&r<=47||r>=58&&r<=59||r>=60&&r<=62||r>=63&&r<=64||r===91||r===92||r===93||r===94||r===96||r===123||r===124||r===125||r===126||r===161||r>=162&&r<=165||r===166||r===167||r===169||r===171||r===172||r===174||r===176||r===177||r===182||r===187||r===191||r===215||r===247||r>=8208&&r<=8213||r>=8214&&r<=8215||r===8216||r===8217||r===8218||r>=8219&&r<=8220||r===8221||r===8222||r===8223||r>=8224&&r<=8231||r>=8240&&r<=8248||r===8249||r===8250||r>=8251&&r<=8254||r>=8257&&r<=8259||r===8260||r===8261||r===8262||r>=8263&&r<=8273||r===8274||r===8275||r>=8277&&r<=8286||r>=8592&&r<=8596||r>=8597&&r<=8601||r>=8602&&r<=8603||r>=8604&&r<=8607||r===8608||r>=8609&&r<=8610||r===8611||r>=8612&&r<=8613||r===8614||r>=8615&&r<=8621||r===8622||r>=8623&&r<=8653||r>=8654&&r<=8655||r>=8656&&r<=8657||r===8658||r===8659||r===8660||r>=8661&&r<=8691||r>=8692&&r<=8959||r>=8960&&r<=8967||r===8968||r===8969||r===8970||r===8971||r>=8972&&r<=8991||r>=8992&&r<=8993||r>=8994&&r<=9e3||r===9001||r===9002||r>=9003&&r<=9083||r===9084||r>=9085&&r<=9114||r>=9115&&r<=9139||r>=9140&&r<=9179||r>=9180&&r<=9185||r>=9186&&r<=9254||r>=9255&&r<=9279||r>=9280&&r<=9290||r>=9291&&r<=9311||r>=9472&&r<=9654||r===9655||r>=9656&&r<=9664||r===9665||r>=9666&&r<=9719||r>=9720&&r<=9727||r>=9728&&r<=9838||r===9839||r>=9840&&r<=10087||r===10088||r===10089||r===10090||r===10091||r===10092||r===10093||r===10094||r===10095||r===10096||r===10097||r===10098||r===10099||r===10100||r===10101||r>=10132&&r<=10175||r>=10176&&r<=10180||r===10181||r===10182||r>=10183&&r<=10213||r===10214||r===10215||r===10216||r===10217||r===10218||r===10219||r===10220||r===10221||r===10222||r===10223||r>=10224&&r<=10239||r>=10240&&r<=10495||r>=10496&&r<=10626||r===10627||r===10628||r===10629||r===10630||r===10631||r===10632||r===10633||r===10634||r===10635||r===10636||r===10637||r===10638||r===10639||r===10640||r===10641||r===10642||r===10643||r===10644||r===10645||r===10646||r===10647||r===10648||r>=10649&&r<=10711||r===10712||r===10713||r===10714||r===10715||r>=10716&&r<=10747||r===10748||r===10749||r>=10750&&r<=11007||r>=11008&&r<=11055||r>=11056&&r<=11076||r>=11077&&r<=11078||r>=11079&&r<=11084||r>=11085&&r<=11123||r>=11124&&r<=11125||r>=11126&&r<=11157||r===11158||r>=11159&&r<=11263||r>=11776&&r<=11777||r===11778||r===11779||r===11780||r===11781||r>=11782&&r<=11784||r===11785||r===11786||r===11787||r===11788||r===11789||r>=11790&&r<=11798||r===11799||r>=11800&&r<=11801||r===11802||r===11803||r===11804||r===11805||r>=11806&&r<=11807||r===11808||r===11809||r===11810||r===11811||r===11812||r===11813||r===11814||r===11815||r===11816||r===11817||r>=11818&&r<=11822||r===11823||r>=11824&&r<=11833||r>=11834&&r<=11835||r>=11836&&r<=11839||r===11840||r===11841||r===11842||r>=11843&&r<=11855||r>=11856&&r<=11857||r===11858||r>=11859&&r<=11903||r>=12289&&r<=12291||r===12296||r===12297||r===12298||r===12299||r===12300||r===12301||r===12302||r===12303||r===12304||r===12305||r>=12306&&r<=12307||r===12308||r===12309||r===12310||r===12311||r===12312||r===12313||r===12314||r===12315||r===12316||r===12317||r>=12318&&r<=12319||r===12320||r===12336||r===64830||r===64831||r>=65093&&r<=65094}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r._Parser=r.parse=void 0;var e=xl.exports,t=Co,n=bu,l=zt;function s(o){o.forEach(function(a){if(delete a.location,(0,l.isSelectElement)(a)||(0,l.isPluralElement)(a))for(var u in a.options)delete a.options[u].location,s(a.options[u].value);else(0,l.isNumberElement)(a)&&(0,l.isNumberSkeleton)(a.style)||((0,l.isDateElement)(a)||(0,l.isTimeElement)(a))&&(0,l.isDateTimeSkeleton)(a.style)?delete a.style.location:(0,l.isTagElement)(a)&&s(a.children)})}function i(o,a){a===void 0&&(a={}),a=e.__assign({shouldParseSkeletons:!0,requiresOtherClause:!0},a);var u=new n.Parser(o,a).parse();if(u.err){var c=SyntaxError(t.ErrorKind[u.err.kind]);throw c.location=u.err.location,c.originalMessage=u.err.message,c}return a!=null&&a.captureLocation||s(u.val),u.val}r.parse=i,e.__exportStar(zt,r),r._Parser=n.Parser})(Uf);function lR(r,e){var t=e&&e.cache?e.cache:cR,n=e&&e.serializer?e.serializer:uR,l=e&&e.strategy?e.strategy:iR;return l(r,{cache:t,serializer:n})}function sR(r){return r==null||typeof r=="number"||typeof r=="boolean"}function Y6(r,e,t,n){var l=sR(n)?n:t(n),s=e.get(l);return typeof s>"u"&&(s=r.call(this,n),e.set(l,s)),s}function G6(r,e,t){var n=Array.prototype.slice.call(arguments,3),l=t(n),s=e.get(l);return typeof s>"u"&&(s=r.apply(this,n),e.set(l,s)),s}function Wf(r,e,t,n,l){return t.bind(e,r,n,l)}function iR(r,e){var t=r.length===1?Y6:G6;return Wf(r,this,t,e.cache.create(),e.serializer)}function oR(r,e){return Wf(r,this,G6,e.cache.create(),e.serializer)}function aR(r,e){return Wf(r,this,Y6,e.cache.create(),e.serializer)}var uR=function(){return JSON.stringify(arguments)};function jf(){this.cache=Object.create(null)}jf.prototype.get=function(r){return this.cache[r]};jf.prototype.set=function(r,e){this.cache[r]=e};var cR={create:function(){return new jf}},fR={variadic:oR,monadic:aR};const mR=Object.freeze(Object.defineProperty({__proto__:null,memoize:lR,strategies:fR},Symbol.toStringTag,{value:"Module"})),dR=h7(mR);var gl={},_r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.MissingValueError=_r.InvalidValueTypeError=_r.InvalidValueError=_r.FormatError=_r.ErrorCode=void 0;var wu=xl.exports,lo;(function(r){r.MISSING_VALUE="MISSING_VALUE",r.INVALID_VALUE="INVALID_VALUE",r.MISSING_INTL_API="MISSING_INTL_API"})(lo||(_r.ErrorCode=lo={}));var ku=function(r){wu.__extends(e,r);function e(t,n,l){var s=r.call(this,t)||this;return s.code=n,s.originalMessage=l,s}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error);_r.FormatError=ku;var _R=function(r){wu.__extends(e,r);function e(t,n,l,s){return r.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(l).join('", "'),'"'),lo.INVALID_VALUE,s)||this}return e}(ku);_r.InvalidValueError=_R;var pR=function(r){wu.__extends(e,r);function e(t,n,l){return r.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),lo.INVALID_VALUE,l)||this}return e}(ku);_r.InvalidValueTypeError=pR;var gR=function(r){wu.__extends(e,r);function e(t,n){return r.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),lo.MISSING_VALUE,n)||this}return e}(ku);_r.MissingValueError=gR;Object.defineProperty(gl,"__esModule",{value:!0});gl.formatToParts=gl.isFormatXMLElementFn=gl.PART_TYPE=void 0;var mr=Uf,Is=_r,rr;(function(r){r[r.literal=0]="literal",r[r.object=1]="object"})(rr||(gl.PART_TYPE=rr={}));function hR(r){return r.length<2?r:r.reduce(function(e,t){var n=e[e.length-1];return!n||n.type!==rr.literal||t.type!==rr.literal?e.push(t):n.value+=t.value,e},[])}function K6(r){return typeof r=="function"}gl.isFormatXMLElementFn=K6;function oa(r,e,t,n,l,s,i){if(r.length===1&&(0,mr.isLiteralElement)(r[0]))return[{type:rr.literal,value:r[0].value}];for(var o=[],a=0,u=r;a<u.length;a++){var c=u[a];if((0,mr.isLiteralElement)(c)){o.push({type:rr.literal,value:c.value});continue}if((0,mr.isPoundElement)(c)){typeof s=="number"&&o.push({type:rr.literal,value:t.getNumberFormat(e).format(s)});continue}var f=c.value;if(!(l&&f in l))throw new Is.MissingValueError(f,i);var m=l[f];if((0,mr.isArgumentElement)(c)){(!m||typeof m=="string"||typeof m=="number")&&(m=typeof m=="string"||typeof m=="number"?String(m):""),o.push({type:typeof m=="string"?rr.literal:rr.object,value:m});continue}if((0,mr.isDateElement)(c)){var d=typeof c.style=="string"?n.date[c.style]:(0,mr.isDateTimeSkeleton)(c.style)?c.style.parsedOptions:void 0;o.push({type:rr.literal,value:t.getDateTimeFormat(e,d).format(m)});continue}if((0,mr.isTimeElement)(c)){var d=typeof c.style=="string"?n.time[c.style]:(0,mr.isDateTimeSkeleton)(c.style)?c.style.parsedOptions:n.time.medium;o.push({type:rr.literal,value:t.getDateTimeFormat(e,d).format(m)});continue}if((0,mr.isNumberElement)(c)){var d=typeof c.style=="string"?n.number[c.style]:(0,mr.isNumberSkeleton)(c.style)?c.style.parsedOptions:void 0;d&&d.scale&&(m=m*(d.scale||1)),o.push({type:rr.literal,value:t.getNumberFormat(e,d).format(m)});continue}if((0,mr.isTagElement)(c)){var p=c.children,h=c.value,b=l[h];if(!K6(b))throw new Is.InvalidValueTypeError(h,"function",i);var $=oa(p,e,t,n,l,s),k=b($.map(function(A){return A.value}));Array.isArray(k)||(k=[k]),o.push.apply(o,k.map(function(A){return{type:typeof A=="string"?rr.literal:rr.object,value:A}}))}if((0,mr.isSelectElement)(c)){var T=c.options[m]||c.options.other;if(!T)throw new Is.InvalidValueError(c.value,m,Object.keys(c.options),i);o.push.apply(o,oa(T.value,e,t,n,l));continue}if((0,mr.isPluralElement)(c)){var T=c.options["=".concat(m)];if(!T){if(!Intl.PluralRules)throw new Is.FormatError(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Is.ErrorCode.MISSING_INTL_API,i);var E=t.getPluralRules(e,{type:c.pluralType}).select(m-(c.offset||0));T=c.options[E]||c.options.other}if(!T)throw new Is.InvalidValueError(c.value,m,Object.keys(c.options),i);o.push.apply(o,oa(T.value,e,t,n,l,m-(c.offset||0)));continue}}return hR(o)}gl.formatToParts=oa;Object.defineProperty(ro,"__esModule",{value:!0});ro.IntlMessageFormat=void 0;var Tr=xl.exports,bR=Uf,Ms=dR,n1=gl;function $R(r,e){return e?Tr.__assign(Tr.__assign(Tr.__assign({},r||{}),e||{}),Object.keys(r).reduce(function(t,n){return t[n]=Tr.__assign(Tr.__assign({},r[n]),e[n]||{}),t},{})):r}function vR(r,e){return e?Object.keys(r).reduce(function(t,n){return t[n]=$R(r[n],e[n]),t},Tr.__assign({},r)):r}function bc(r){return{create:function(){return{get:function(e){return r[e]},set:function(e,t){r[e]=t}}}}}function wR(r){return r===void 0&&(r={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,Ms.memoize)(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Tr.__spreadArray([void 0],t,!1)))},{cache:bc(r.number),strategy:Ms.strategies.variadic}),getDateTimeFormat:(0,Ms.memoize)(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Tr.__spreadArray([void 0],t,!1)))},{cache:bc(r.dateTime),strategy:Ms.strategies.variadic}),getPluralRules:(0,Ms.memoize)(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Tr.__spreadArray([void 0],t,!1)))},{cache:bc(r.pluralRules),strategy:Ms.strategies.variadic})}}var kR=function(){function r(e,t,n,l){var s=this;if(t===void 0&&(t=r.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(a){var u=s.formatToParts(a);if(u.length===1)return u[0].value;var c=u.reduce(function(f,m){return!f.length||m.type!==n1.PART_TYPE.literal||typeof f[f.length-1]!="string"?f.push(m.value):f[f.length-1]+=m.value,f},[]);return c.length<=1?c[0]||"":c},this.formatToParts=function(a){return(0,n1.formatToParts)(s.ast,s.locales,s.formatters,s.formats,a,void 0,s.message)},this.resolvedOptions=function(){var a;return{locale:((a=s.resolvedLocale)===null||a===void 0?void 0:a.toString())||Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},this.locales=t,this.resolvedLocale=r.resolveLocale(t),typeof e=="string"){if(this.message=e,!r.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var i=l||{};i.formatters;var o=Tr.__rest(i,["formatters"]);this.ast=r.__parse(e,Tr.__assign(Tr.__assign({},o),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=vR(r.formats,n),this.formatters=l&&l.formatters||wR(this.formatterCache)}return Object.defineProperty(r,"defaultLocale",{get:function(){return r.memoizedDefaultLocale||(r.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),r.memoizedDefaultLocale},enumerable:!1,configurable:!0}),r.memoizedDefaultLocale=null,r.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},r.__parse=bR.parse,r.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},r}();ro.IntlMessageFormat=kR;(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=xl.exports,t=ro;e.__exportStar(gl,r),e.__exportStar(ro,r),e.__exportStar(_r,r),r.default=t.IntlMessageFormat})(Bf);function yR(r,e){if(e==null)return;if(e in r)return r[e];const t=e.split(".");let n=r;for(let l=0;l<t.length;l++)if(typeof n=="object"){if(l>0){const s=t.slice(l,t.length).join(".");if(s in n){n=n[s];break}}n=n[t[l]]}else n=void 0;return n}const zl={},SR=(r,e,t)=>t&&(e in zl||(zl[e]={}),r in zl[e]||(zl[e][r]=t),t),X6=(r,e)=>{if(e==null)return;if(e in zl&&r in zl[e])return zl[e][r];const t=To(e);for(let n=0;n<t.length;n++){const l=t[n],s=TR(l,r);if(s)return SR(r,e,s)}};let Yf;const gi=xe({});function CR(r){return Yf[r]||null}function Gf(r){return r in Yf}function TR(r,e){if(!Gf(r))return null;const t=CR(r);return yR(t,e)}function ER(r){if(r==null)return;const e=To(r);for(let t=0;t<e.length;t++){const n=e[t];if(Gf(n))return n}}function Q6(r,...e){delete zl[r],gi.update(t=>(t[r]=vP.all([t[r]||{},...e]),t))}at([gi],([r])=>Object.keys(r));gi.subscribe(r=>Yf=r);const Bi={};function DR(r){Bi[r]=new Set}function IR(r,e){Bi[r].delete(e),Bi[r].size===0&&delete Bi[r]}function Ui(r){return Bi[r]}function MR(r){return To(r).map(e=>{const t=Ui(e);return[e,t?[...t]:[]]}).filter(([,e])=>e.length>0)}function ka(r){return r==null?!1:To(r).some(e=>{var t;return(t=Ui(e))==null?void 0:t.size})}function AR(r,e){return Promise.all(e.map(n=>(IR(r,n),n().then(l=>l.default||l)))).then(n=>Q6(r,...n))}const Ii={};function Z6(r){if(!ka(r))return r in Ii?Ii[r]:Promise.resolve();const e=MR(r);return Ii[r]=Promise.all(e.map(([t,n])=>AR(t,n))).then(()=>{if(ka(r))return Z6(r);delete Ii[r]}),Ii[r]}function r1(r,e){Ui(r)||DR(r);const t=Ui(r);Ui(r).has(e)||(Gf(r)||gi.update(n=>(n[r]={},n)),t.add(e))}var l1=Object.getOwnPropertySymbols,PR=Object.prototype.hasOwnProperty,RR=Object.prototype.propertyIsEnumerable,OR=(r,e)=>{var t={};for(var n in r)PR.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&l1)for(var n of l1(r))e.indexOf(n)<0&&RR.call(r,n)&&(t[n]=r[n]);return t};const LR={number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}};function NR({locale:r,id:e}){console.warn(`[svelte-i18n] The message "${e}" was not found in "${To(r).join('", "')}".${ka(es())?`

Note: there are at least one loader still registered to this locale that wasn't executed.`:""}`)}const FR={fallbackLocale:null,loadingDelay:200,formats:LR,warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0},Oi=FR;function Gs(){return Oi}function HR(r){const e=r,{formats:t}=e,n=OR(e,["formats"]);let l=r.fallbackLocale;if(r.initialLocale)try{Bf.IntlMessageFormat.resolveLocale(r.initialLocale)&&(l=r.initialLocale)}catch(s){console.warn(`[svelte-i18n] The initial locale "${r.initialLocale}" is not a valid locale.`)}return n.warnOnMissingMessages&&(delete n.warnOnMissingMessages,n.handleMissingMessage==null?n.handleMissingMessage=NR:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(Oi,n,{initialLocale:l}),t&&("number"in t&&Object.assign(Oi.formats.number,t.number),"date"in t&&Object.assign(Oi.formats.date,t.date),"time"in t&&Object.assign(Oi.formats.time,t.time)),ts.set(l)}const aa=xe(!1);var zR=Object.defineProperty,VR=Object.defineProperties,qR=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertySymbols,BR=Object.prototype.hasOwnProperty,UR=Object.prototype.propertyIsEnumerable,i1=(r,e,t)=>e in r?zR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,WR=(r,e)=>{for(var t in e||(e={}))BR.call(e,t)&&i1(r,t,e[t]);if(s1)for(var t of s1(e))UR.call(e,t)&&i1(r,t,e[t]);return r},jR=(r,e)=>VR(r,qR(e));let ef;const ya=xe(null);function o1(r){return r.split("-").map((e,t,n)=>n.slice(0,t+1).join("-")).reverse()}function To(r,e=Gs().fallbackLocale){const t=o1(r);return e?[...new Set([...t,...o1(e)])]:t}function es(){return ef!=null?ef:void 0}ya.subscribe(r=>{ef=r!=null?r:void 0,typeof window<"u"&&r!=null&&document.documentElement.setAttribute("lang",r)});const YR=r=>{if(r&&ER(r)&&ka(r)){const{loadingDelay:e}=Gs();let t;return typeof window<"u"&&es()!=null&&e?t=window.setTimeout(()=>aa.set(!0),e):aa.set(!0),Z6(r).then(()=>{ya.set(r)}).finally(()=>{clearTimeout(t),aa.set(!1)})}return ya.set(r)},ts=jR(WR({},ya),{set:YR}),yu=r=>{const e=Object.create(null);return n=>{const l=JSON.stringify(n);return l in e?e[l]:e[l]=r(n)}};var GR=Object.defineProperty,Sa=Object.getOwnPropertySymbols,J6=Object.prototype.hasOwnProperty,x6=Object.prototype.propertyIsEnumerable,a1=(r,e,t)=>e in r?GR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kf=(r,e)=>{for(var t in e||(e={}))J6.call(e,t)&&a1(r,t,e[t]);if(Sa)for(var t of Sa(e))x6.call(e,t)&&a1(r,t,e[t]);return r},hi=(r,e)=>{var t={};for(var n in r)J6.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&Sa)for(var n of Sa(r))e.indexOf(n)<0&&x6.call(r,n)&&(t[n]=r[n]);return t};const so=(r,e)=>{const{formats:t}=Gs();if(r in t&&e in t[r])return t[r][e];throw new Error(`[svelte-i18n] Unknown "${e}" ${r} format.`)},KR=yu(r=>{var e=r,{locale:t,format:n}=e,l=hi(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(l=so("number",n)),new Intl.NumberFormat(t,l)}),XR=yu(r=>{var e=r,{locale:t,format:n}=e,l=hi(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?l=so("date",n):Object.keys(l).length===0&&(l=so("date","short")),new Intl.DateTimeFormat(t,l)}),QR=yu(r=>{var e=r,{locale:t,format:n}=e,l=hi(e,["locale","format"]);if(t==null)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?l=so("time",n):Object.keys(l).length===0&&(l=so("time","short")),new Intl.DateTimeFormat(t,l)}),ZR=(r={})=>{var e=r,{locale:t=es()}=e,n=hi(e,["locale"]);return KR(Kf({locale:t},n))},JR=(r={})=>{var e=r,{locale:t=es()}=e,n=hi(e,["locale"]);return XR(Kf({locale:t},n))},xR=(r={})=>{var e=r,{locale:t=es()}=e,n=hi(e,["locale"]);return QR(Kf({locale:t},n))},eO=yu((r,e=es())=>new Bf.IntlMessageFormat(r,e,Gs().formats,{ignoreTag:Gs().ignoreTag})),tO=(r,e={})=>{var t,n,l,s;let i=e;typeof r=="object"&&(i=r,r=i.id);const{values:o,locale:a=es(),default:u}=i;if(a==null)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let c=X6(r,a);if(!c)c=(s=(l=(n=(t=Gs()).handleMissingMessage)==null?void 0:n.call(t,{locale:a,id:r,defaultValue:u}))!=null?l:u)!=null?s:r;else if(typeof c!="string")return console.warn(`[svelte-i18n] Message with id "${r}" must be of type "string", found: "${typeof c}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),c;if(!o)return c;let f=c;try{f=eO(c,a).format(o)}catch(m){m instanceof Error&&console.warn(`[svelte-i18n] Message "${r}" has syntax error:`,m.message)}return f},nO=(r,e)=>xR(e).format(r),rO=(r,e)=>JR(e).format(r),lO=(r,e)=>ZR(e).format(r),sO=(r,e=es())=>X6(r,e),ge=at([ts,gi],()=>tO);at([ts],()=>nO);at([ts],()=>rO);at([ts],()=>lO);at([ts,gi],()=>sO);function iO(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("span"),l&&l.c(),D(e,"class","identifier svelte-xmbz32")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function oO(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class vr extends x{constructor(e){super(),J(this,e,oO,iO,Q,{})}}function u1(r){return{type:"text",content:r}}function c1(r,e){return{type:"slot",name:r,arg:e}}function aO(r){let e;const t=r.replace(/^\[(\w+)\]\((\w+)\)|^\[(\w+)\]/,(n,l,s,i)=>(l?e=c1(l,s):i&&(e=c1(i)),""));return e?{tokens:[e],remainder:t}:void 0}function uO({tokens:r,remainder:e}){const t=e[0],n=r[r.length-1];return{tokens:n&&n.type==="text"?[...r.slice(0,-1),u1(n.content+t)]:[...r,u1(t)],remainder:e.slice(1)}}function ek(r){if(r.remainder==="")return r;const e=aO(r.remainder),t=e?{tokens:[...r.tokens,...e.tokens],remainder:e.remainder}:uO(r);return ek(t)}function f1(r){return ek({tokens:[],remainder:r}).tokens}function m1(r,e,t){const n=r.slice();return n[3]=e[t],n}const cO=r=>({slotName:r&1,translatedArg:r&1}),d1=r=>({slotName:r[3].name,translatedArg:r[3].arg});function fO(r){let e=An(r[3])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=An(n[3])+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function mO(r){let e;const t=r[2].default,n=Ie(t,r,r[1],d1);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&3)&&Ae(n,t,l,l[1],e?Me(t,l[1],s,cO):Pe(l[1]),d1)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function dO(r){let e=r[3].content+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[3].content+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function _1(r){let e,t,n,l;const s=[dO,mO,fO],i=[];function o(a,u){return a[3].type==="text"?0:a[3].type==="slot"?1:2}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function _O(r){let e,t,n=f1(r[0]),l=[];for(let i=0;i<n.length;i+=1)l[i]=_1(m1(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=oe()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,[o]){if(o&3){n=f1(i[0]);let a;for(a=0;a<n.length;a+=1){const u=m1(i,n,a);l[a]?(l[a].p(u,o),_(l[a],1)):(l[a]=_1(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(G(),a=n.length;a<l.length;a+=1)s(a);K()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){jn(l,i),i&&v(e)}}}function pO(r,e,t){let{$$slots:n={},$$scope:l}=e,{text:s}=e;return r.$$set=i=>{"text"in i&&t(0,s=i.text),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class St extends x{constructor(e){super(),J(this,e,pO,_O,Q,{text:0})}}function p1(r){let e,t;return e=new vr({props:{$$slots:{default:[gO]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&9&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gO(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},d(t){t&&v(e)}}}function hO(r){let e,t,n=r[2]==="identifier"&&p1(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[2]==="identifier"?n?(n.p(l,s),s&4&&_(n,1)):(n=p1(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function bO(r){let e,t;return e=new St({props:{text:r[1],$$slots:{default:[hO,({slotName:n})=>({2:n}),({slotName:n})=>n?4:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.text=n[1]),l&13&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $O(r,e,t){let{identifier:n}=e,{wrappingString:l=""}=e;return r.$$set=s=>{"identifier"in s&&t(0,n=s.identifier),"wrappingString"in s&&t(1,l=s.wrappingString)},[n,l]}class tk extends x{constructor(e){super(),J(this,e,$O,bO,Q,{identifier:0,wrappingString:1})}}const vO={icon:[12,12,[],"","M4 0V1.33333H2V10.6667H4V12H0.666664V0H4ZM8 0H11.3333V12H8V10.6667H10V1.33333H8V0Z"]},wO={icon:[18,18,[],"","m7.387 0.4182c-0.141 0.3522-0.3215 0.7703-0.5131 1.13-0.2127 0.3993-0.738 0.9245-1.138 1.137-0.3605 0.1918-0.7797 0.3725-1.133 0.5136-0.4214 0.1684-0.4214 0.4069 1.816e-4 0.5754 0.353 0.1412 0.7722 0.322 1.133 0.514 0.3993 0.2126 0.9246 0.7379 1.137 1.137 0.1918 0.3602 0.3724 0.779 0.5134 1.132 0.1685 0.4214 0.4071 0.4214 0.5757-1.3e-4 0.1412-0.3528 0.3219-0.7716 0.5138-1.132 0.2127-0.3993 0.7379-0.9246 1.137-1.137 0.3597-0.1917 0.7778-0.3723 1.13-0.5133 0.4213-0.1688 0.4212-0.4076-2.47e-4 -0.5764-0.3522-0.1411-0.7703-0.3217-1.13-0.5134-0.3993-0.2128-0.9245-0.738-1.137-1.137-0.1916-0.3596-0.3722-0.7774-0.5133-1.129-0.1688-0.4213-0.4076-0.4211-0.5763 3.506e-4zm-4.805 6.427c-0.1056 0.2639-0.2409 0.5772-0.3845 0.8467-0.1594 0.2992-0.553 0.6928-0.8524 0.8521-0.2701 0.1438-0.5842 0.2792-0.8487 0.3849-0.3158 0.1262-0.3157 0.3049 1.36e-4 0.4312 0.2645 0.1058 0.5787 0.2413 0.8488 0.3851 0.2992 0.1593 0.6928 0.553 0.8521 0.8523 0.1437 0.2699 0.279 0.5837 0.3847 0.848 0.1263 0.3158 0.305 0.3157 0.4314-9.7e-5 0.1058-0.2643 0.2412-0.5782 0.385-0.8482 0.1594-0.2992 0.553-0.6929 0.8522-0.8523 0.2695-0.1436 0.5828-0.279 0.8467-0.3847 0.3157-0.1265 0.3156-0.3055-1.838e-4 -0.432-0.2639-0.1057-0.5772-0.241-0.8467-0.3847-0.2992-0.1594-0.6928-0.553-0.8523-0.8523-0.1436-0.2694-0.2789-0.5826-0.3846-0.8464-0.1265-0.3157-0.3054-0.3156-0.4318 2.627e-4zm9.262 0.691c-0.2263 0.5653-0.516 1.236-0.8235 1.814-0.3414 0.6409-1.185 1.484-1.826 1.825-0.5786 0.3079-1.251 0.598-1.818 0.8244-0.6765 0.2703-0.6763 0.6531 2.913e-4 0.9236 0.5667 0.2266 1.24 0.5169 1.818 0.825 0.641 0.3413 1.484 1.184 1.825 1.826 0.3078 0.5782 0.5977 1.25 0.8241 1.817 0.2705 0.6764 0.6534 0.6763 0.9241-2.09e-4 0.2266-0.5662 0.5167-1.239 0.8247-1.817 0.3414-0.641 1.184-1.484 1.826-1.826 0.5774-0.3077 1.248-0.5976 1.814-0.824 0.6763-0.2709 0.6761-0.6543-3.95e-4 -0.9253-0.5653-0.2264-1.236-0.5163-1.814-0.824-0.6408-0.3415-1.484-1.185-1.826-1.826-0.3076-0.5772-0.5974-1.248-0.8238-1.813-0.2709-0.6762-0.6542-0.676-0.925 5.627e-4z"]},kO={icon:[16,16,[],"",{fillRule:"evenodd",clipRule:"evenodd",path:"M15 1C15.5523 1 16 1.44771 16 2V13.5644C16 14.1166 15.5523 14.5644 15 14.5644H1C0.447715 14.5644 0 14.1166 0 13.5644V2C0 1.44772 0.447715 1 1 1H15ZM14.6 6.76282V9.3349C14.5517 9.32236 14.501 9.31568 14.4488 9.31568L11.4861 9.31568V6.78197L14.449 6.78197C14.5012 6.78197 14.5518 6.77532 14.6 6.76282ZM5.83926 9.31569L10.2861 9.31569V6.78197L5.83926 6.78196V9.31569ZM4.63926 9.31569L1.4 9.31569V6.78196L4.63926 6.78196V9.31569ZM4.63926 10.5157V13.1644H1.4V10.5157L4.63926 10.5157ZM5.83926 13.1644V10.5157L10.2861 10.5157V13.1644H5.83926ZM11.4861 10.5157V13.1644H14.6V10.4965C14.5517 10.509 14.501 10.5157 14.4488 10.5157L11.4861 10.5157ZM14.6 5.60112V2.4H1.4V5.58196L14.449 5.58197C14.5012 5.58197 14.5518 5.58862 14.6 5.60112Z"}]},yO={icon:[24,24,[],"",["M16.3776 8.27091C16.538 7.86412 16.1358 7.46189 15.729 7.62233L10.1173 9.83557C9.98843 9.88639 9.88643 9.98839 9.8356 10.1173L7.62237 15.729C7.46193 16.1358 7.86415 16.538 8.27094 16.3776L13.8827 14.1643C14.0115 14.1135 14.1135 14.0115 14.1644 13.8826L16.3776 8.27091Z",{fillRule:"evenodd",clipRule:"evenodd",path:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM22.5 12C22.5 17.799 17.799 22.5 12 22.5C6.20101 22.5 1.5 17.799 1.5 12C1.5 6.20101 6.20101 1.5 12 1.5C17.799 1.5 22.5 6.20101 22.5 12Z"}]]},SO={data:Kw},jt={data:$C},Qo={data:EC},g1={data:gC},qt={data:tS},h1={data:Af},vl={data:iS},Zo={data:TS},Ca={data:vC},b1={data:Gw},$1={data:lC},CO={data:_S},v1={data:Jw},Xf={data:eC},w1={data:uu},k1={data:uu},Ta={data:Yw},TO={data:cu},y1={data:Qw},ms={data:RS},EO={data:LS},Ks={data:BS},Ea={data:OC},nk={data:xw},Da={data:iC},Ia={data:AS},Xs={data:XS},DO={data:oS},IO={data:cS},MO={data:tC},AO={data:JS},Ma={data:bC},PO={data:Qw},RO={data:e6},S1={data:HS},C1={data:hC},Yl={data:gS},Qs={data:$S},wl={data:AC},zn={data:yO},Zs={data:Zw},Aa={data:Kw},Js={data:dC},tf={data:YS},OO={data:wO},xs={data:lS},ei={data:pC},Gl={data:QS},T1={data:vS},E1={data:NS},Kl={data:kO},ti={data:nS},io={data:uu},D1={data:GS},Pa={data:cu},ni={data:Yw},nf={data:pS},LO={data:WS},NO={data:OS},FO={data:IS},I1={data:kS},HO={data:uu},M1={data:dS},zO={data:mS},VO={data:PC},qO={data:rC},BO={data:hS},UO={data:Jw},WO={data:TC},jO={data:wS},YO={data:LC},GO={data:CC},rk={data:jS},KO={data:ZS},XO={data:FS},QO={data:Gw},A1={data:vO},Bn=new cM,Tt=gA(),ZO=Bn.spawnModalController(),{confirm:Ra,confirmationController:Qf}=aM({confirmationModal:ZO});function Rl(r){const e=r.identifierType;function t(){return r.identifierName?{component:tk,props:{identifier:r.identifierName,wrappingString:Ve(ge)("delete_item_question_with_identifier",{values:{item:e}})}}:Ve(ge)("delete_item_question",{values:{item:e}})}return Ra({title:t(),body:Ve(ge)("are_you_sure_to_proceed"),proceedButton:{label:Ve(ge)("delete_item",{values:{item:e}}),icon:qt},onError:n=>Tt.error(`${Ve(ge)("unable_to_delete_item",{values:{item:e}})} ${n.message}`),...r})}const lk=Symbol("ClipboardHandlerStore");function JO(){const r=xe(void 0);return xn(lk,r),r}function xO(){return Fn(lk)}/*! js-cookie v3.0.1 | MIT */function Jo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)r[n]=t[n]}return r}var eL={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function rf(r,e){function t(l,s,i){if(!(typeof document>"u")){i=Jo({},e,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),l=encodeURIComponent(l).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var a in i)!i[a]||(o+="; "+a,i[a]!==!0&&(o+="="+i[a].split(";")[0]));return document.cookie=l+"="+r.write(s,l)+o}}function n(l){if(!(typeof document>"u"||arguments.length&&!l)){for(var s=document.cookie?document.cookie.split("; "):[],i={},o=0;o<s.length;o++){var a=s[o].split("="),u=a.slice(1).join("=");try{var c=decodeURIComponent(a[0]);if(i[c]=r.read(u,c),l===c)break}catch(f){}}return l?i[l]:i}}return Object.create({set:t,get:n,remove:function(l,s){t(l,"",Jo({},s,{expires:-1}))},withAttributes:function(l){return rf(this.converter,Jo({},this.attributes,l))},withConverter:function(l){return rf(Jo({},this.converter,l),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(r)}})}var Zf=rf(eL,{path:"/"});function tL(r){if(Jl(r,"code")){const{code:e}=r;if(typeof e=="string"||typeof e=="number")return e}}function nL(r){return{message:en(r),code:tL(r),field:ou(r,"field")?r.field:void 0,detail:Jl(r,"detail")?r.detail:void 0}}class Jf extends Error{constructor(t){const n=nL(t);super(n.message);ce(this,"code");ce(this,"field");ce(this,"detail");this.name="ApiError",this.code=n.code,this.field=n.field,this.detail=n.detail}getSegregatedErrors(){return this.field?{commonErrors:[],fieldSpecificErrors:new yt([[this.field,[en(this)]]])}:{commonErrors:[en(this)],fieldSpecificErrors:new yt}}}class bi extends Error{constructor(t){const l=(Array.isArray(t)?t:[t]).map(s=>new Jf(s));super(l.map(s=>s.message).join(" "));ce(this,"errors");this.name="ApiMultiError",this.errors=l}getSegregatedErrors(){return this.errors.reduce((t,n)=>{const l=n.getSegregatedErrors();return{commonErrors:[...t.commonErrors,...l.commonErrors],fieldSpecificErrors:t.fieldSpecificErrors.withEntries(l.fieldSpecificErrors,(s,i)=>[...s,...i])}},{commonErrors:[],fieldSpecificErrors:new yt})}}function rL(r,e){if(r instanceof bi||r instanceof Jf){const{commonErrors:t,fieldSpecificErrors:n}=r.getSegregatedErrors();return e?{commonErrors:t,fieldSpecificErrors:new yt([...n.entries()].map(([l,s])=>{var i;return[(i=e[l])!=null?i:l,s]}))}:{commonErrors:t,fieldSpecificErrors:n}}return{commonErrors:[en(r)],fieldSpecificErrors:new yt}}function lL(r){return r instanceof bi?r.errors.map(e=>en(e)):[en(r)]}var rn=(r=>(r.Idle="idle",r.Loading="loading",r.Done="done",r.Error="error",r))(rn||{});const sk=["processing","failure","success"],sL=sk[0];function iL(r,e){for(const t of sk)if(r===t||e===t)return t;throw new Error("Invalid RequestStatus states.")}function oL(r){let e;for(const{state:t}of r){if(t===sL)return t;e=e?iL(t,e):t}return e}function ik(r){const e=Object.entries(r).map(([t,n])=>{const l=typeof n=="string"?n:JSON.stringify(n);return[t,l]});return new URLSearchParams(e).toString()}function Su(r,e){return e?`${r}?${ik(e)}`:r}const ok=204,ak=new Set([200,201,ok]),aL=401;function uL(r){if(r.status===ok)return;const e=String(r.response);if(e.trim().length!==0)return JSON.parse(String(e))}function Eo(r,e,t){const n=new XMLHttpRequest;n.open(r,e),n.setRequestHeader("Content-Type","application/json");const l=Zf.get("csrftoken");l&&n.setRequestHeader("X-CSRFToken",l),t?n.send(JSON.stringify(t)):n.send();let s=!1;return new ll((i,o)=>{n.addEventListener("load",()=>{if(ak.has(n.status))i(uL(n));else{if(n.status===aL){window.location.reload();return}try{o(new bi(JSON.parse(String(n.response))))}catch(a){const u=["When making an XHR request, the server responded with an","error, but the response body was not valid JSON."].join(" ");o(new Error(u))}}}),n.addEventListener("error",()=>{o(new Error("An unexpected error has occurred"))}),n.addEventListener("abort",()=>{s||o(new Error("Request was aborted"))})},()=>{s=!0,n.abort()})}function bn(r){return Eo("GET",r)}function cn(r,e){return Eo("POST",r,e)}function Ar(r,e){return Eo("PATCH",r,e)}function cL(r,e){return Eo("PUT",r,e)}function cl(r,e){return Eo("DELETE",r,e)}function fL(r,e,t){const n=new XMLHttpRequest;n.open("POST",r);const l=Zf.get("csrftoken");return l&&n.setRequestHeader("X-CSRFToken",l),n.upload.onprogress=s=>{const{loaded:i,total:o}=s,a=i/o*100;t==null||t({loaded:i,total:o,percentCompleted:a})},n.send(e),new ll((s,i)=>{n.addEventListener("load",()=>{if(ak.has(n.status))try{const o=JSON.parse(String(n.response));s(o)}catch(o){s(n.response)}else i(new Error("An error has occurred while uploading a file."))})},()=>{n.abort()})}async function mL(r){const e=await fetch(r,{mode:"cors"});if(!!e.ok)return await e.json()}function dL(){return bn("/api/ui/v0/users/")}function _L(r){return bn(`/api/ui/v0/users/${r}/`)}function pL(r){return cn("/api/ui/v0/users/",r)}function gL(r){return cl(`/api/ui/v0/users/${r}/`)}function hL(r,e){return Ar(`/api/ui/v0/users/${r}/`,e)}function bL(r,e){return cn("/api/ui/v0/users/password_change/",{password:e,old_password:r})}function $L(r,e){return cn(`/api/ui/v0/users/${r}/password_reset/`,{password:e})}function vL(r,e,t){return cn("/api/ui/v0/database_roles/",{user:r,database:e,role:t})}function wL(r){return cl(`/api/ui/v0/database_roles/${r}/`)}function kL(r,e,t){return cn("/api/ui/v0/schema_roles/",{user:r,schema:e,role:t})}function yL(r){return cl(`/api/ui/v0/schema_roles/${r}/`)}const Jr={list:dL,get:_L,add:pL,delete:gL,update:hL,changePassword:bL,resetPassword:$L,addDatabaseRole:vL,deleteDatabaseRole:wL,addSchemaRole:kL,deleteSchemaRole:yL},uk=new Set(["canViewLinkedEntities"]),SL=new Set([...uk,"canEditTableRecords","canEditMetadata"]);function CL(r,e){switch(r){case"manager":return!0;case"editor":return SL.has(e);case"viewer":return uk.has(e);default:throw new $l(r)}}function TL(r,e){return e.some(t=>CL(t,r))}function lf(r){switch(r){case"manager":return Ve(ge)("manager");case"editor":return Ve(ge)("editor");case"viewer":return Ve(ge)("viewer");default:throw new $l(r)}}function P1(r){switch(r){case"manager":return Ve(ge)("manager_access");case"editor":return Ve(ge)("editor_access");case"viewer":return Ve(ge)("readonly_access");default:throw new $l(r)}}const R1={viewer:1,editor:2,manager:3};function EL(r){const e=r.get("schema"),t=r.get("database");return e&&t?R1[e]>R1[t]?"schema":"database":e?"schema":(t,"database")}class zr{constructor(e){ce(this,"id");ce(this,"isSuperUser");ce(this,"fullName");ce(this,"email");ce(this,"username");ce(this,"displayLanguage");ce(this,"databaseRoles");ce(this,"schemaRoles");this.id=e.id,this.isSuperUser=e.is_superuser,this.databaseRoles=new Map(e.database_roles.map(t=>[t.database,t])),this.schemaRoles=new Map(e.schema_roles.map(t=>[t.schema,t])),this.fullName=e.full_name,this.email=e.email,this.username=e.username,this.displayLanguage=e.display_language}hasPermission(e,t){if(this.isSuperUser)return!0;const{database:n,schema:l}=e;if(l&&!n)throw new Error("Schema needs to be accompanied by the database for permission checks");const s=[];if(l){const i=this.schemaRoles.get(l.id);i&&s.push(i.role)}if(n){const i=this.databaseRoles.get(n.id);i&&s.push(i.role)}return TL(t,s)}getRoleForDb(e){return this.databaseRoles.get(e.id)}getRoleForSchema(e){return this.schemaRoles.get(e.id)}hasDirectDbAccess(e){return this.databaseRoles.has(e.id)}hasDbAccess(e){return this.hasDirectDbAccess(e)||this.isSuperUser}hasDirectSchemaAccess(e){return this.schemaRoles.has(e.id)}hasSchemaAccess(e,t){return this.hasDbAccess(e)||this.hasDirectSchemaAccess(t)}getDisplayName(){return this.username}getUser(){return{id:this.id,is_superuser:this.isSuperUser,username:this.username,database_roles:[...this.databaseRoles.values()],schema_roles:[...this.schemaRoles.values()],full_name:this.fullName,email:this.email,display_language:this.displayLanguage}}with(e){return new zr({...this.getUser(),...e})}withNewDatabaseRole(e){return new zr({...this.getUser(),database_roles:[...this.databaseRoles.values(),e]})}withoutDatabaseRole(e){return new zr({...this.getUser(),database_roles:[...this.databaseRoles.values()].filter(t=>t.database!==e.database)})}withNewSchemaRole(e){return new zr({...this.getUser(),schema_roles:[...this.schemaRoles.values(),e]})}withoutSchemaRole(e){return new zr({...this.getUser(),schema_roles:[...this.schemaRoles.values()].filter(t=>t.schema!==e.schema)})}}class DL extends zr{constructor(){super({id:0,is_superuser:!1,database_roles:[],schema_roles:[],username:"Anonymous",full_name:"Anonymous",email:null,display_language:"en"})}hasPermission(){return!1}}const ck=Symbol("users list store");class IL{constructor(){ce(this,"requestStatus",xe());ce(this,"users",xe([]));ce(this,"count",xe(0));ce(this,"request");this.fetchUsers()}async fetchUsersSilently(){var t;(t=this.request)==null||t.cancel(),this.request=Jr.list();const e=await this.request;this.users.set(e.results.map(n=>new zr(n))),this.count.set(e.count)}async fetchUsers(){try{this.requestStatus.set({state:"processing"}),await this.fetchUsersSilently(),this.requestStatus.set({state:"success"})}catch(e){this.requestStatus.set({state:"failure",errors:[en(e)]})}}async getUserDetails(e){const t=Ve(this.requestStatus);if((t==null?void 0:t.state)==="success")return Ve(this.users).find(n=>n.id===e);if((t==null?void 0:t.state)==="processing"){const n=await this.request,l=n==null?void 0:n.results.find(s=>s.id===e);if(l)return new zr(l)}}async delete(e){this.requestStatus.set({state:"processing"}),await Jr.delete(e),this.users.update(t=>t.filter(n=>n.id!==e)),this.count.update(t=>t-1),this.requestStatus.set({state:"success"}),this.fetchUsersSilently()}async addDatabaseRoleForUser(e,t,n){const l=await Jr.addDatabaseRole(e,t.id,n);this.users.update(s=>s.map(i=>i.id===e?i.withNewDatabaseRole(l):i)),this.fetchUsersSilently()}async removeDatabaseAccessForUser(e,t){const n=Ve(this.users).find(s=>s.id===e),l=n==null?void 0:n.getRoleForDb(t);l&&(await Jr.deleteDatabaseRole(l.id),this.users.update(s=>s.map(i=>i.id===e?i.withoutDatabaseRole(l):i)),this.fetchUsersSilently())}async addSchemaRoleForUser(e,t,n){const l=await Jr.addSchemaRole(e,t.id,n);this.users.update(s=>s.map(i=>i.id===e?i.withNewSchemaRole(l):i)),this.fetchUsersSilently()}async removeSchemaAccessForUser(e,t){const n=Ve(this.users).find(s=>s.id===e),l=n==null?void 0:n.getRoleForSchema(t);l&&(await Jr.deleteSchemaRole(l.id),this.users.update(s=>s.map(i=>i.id===e?i.withoutSchemaRole(l):i)),this.fetchUsersSilently())}getUsersWithAccessToDb(e){return at(this.users,t=>t.filter(n=>n.hasDbAccess(e)))}getUsersWithoutAccessToDb(e){return at(this.users,t=>t.filter(n=>!n.hasDbAccess(e)))}getNormalUsersWithDirectSchemaRole(e){return at(this.users,t=>t.filter(n=>!n.isSuperUser&&n.hasDirectSchemaAccess(e)))}getNormalUsersWithoutDirectSchemaRole(e){return at(this.users,t=>t.filter(n=>!n.isSuperUser&&!n.hasDirectSchemaAccess(e)))}getUsersWithAccessToSchema(e,t){return at(this.users,n=>n.filter(l=>l.hasSchemaAccess(e,t)))}}function Cu(){return Fn(ck)}function xf(){if(Cu()!==void 0)throw Error("UsersStore context has already been set");const r=new IL;return xn(ck,r),r}const fk=Symbol("UserProfileStore");function Zt(){return Fn(fk)}function ML(r){if(Zt()!==void 0)throw Error("User profile store context has already been set");const e=xe(r instanceof zr?r:new zr(r));return xn(fk,e),e}const AL="https://api.github.com/repos/centerofci/mathesar";function O1(r){return mL(`${AL}${r}`)}const L1={fetchLatest(){return O1("/releases/latest")},fetchByTagName(r){return O1(`/releases/tags/${r}`)}};function PL(r){try{return JSON.parse(r)}catch(e){return}}function N1(){return Date.now()}class RL{constructor(e){ce(this,"inputHash","");ce(this,"cacheKey");ce(this,"value");ce(this,"fetch");ce(this,"timeToLiveMs");ce(this,"serializeValue",JSON.stringify);ce(this,"deserializeValue",PL);ce(this,"writableLoading",xe(!1));ce(this,"loading",this.writableLoading);e.inputHash&&(this.inputHash=e.inputHash),this.value=xe(void 0),this.cacheKey=e.cacheKey,this.fetch=e.fetch,this.timeToLiveMs=e.timeToLiveMs,e.serialize&&(this.serializeValue=e.serialize),e.deserialize&&(this.deserializeValue=e.deserialize),this.cachedFetch()}serialize({inputHash:e,timestamp:t,value:n}){return JSON.stringify({inputHash:e,timestamp:t,value:this.serializeValue(n)})}deserialize(e){try{const t=JSON.parse(e),{inputHash:n,timestamp:l,value:s}=t;if(typeof n!="string"||typeof l!="number"||typeof s!="string")return;const i=this.deserializeValue(s);return i===void 0?void 0:{inputHash:n,timestamp:l,value:i}}catch(t){return}}fetchFromCache(){const e=localStorage.getItem(this.cacheKey);if(e===null)return"no-cache-found";const t=this.deserialize(e);return t===void 0?"no-cache-found":N1()-t.timestamp>this.timeToLiveMs?"cache-too-old":t.inputHash!==this.inputHash?"hash-change":(this.value.set(t),"cache-ok")}async forceFetch(){try{this.writableLoading.set(!0);const e=N1(),t=await this.fetch(),{inputHash:n}=this;localStorage.setItem(this.cacheKey,this.serialize({inputHash:n,timestamp:e,value:t})),this.value.set({inputHash:n,timestamp:e,value:t})}finally{this.writableLoading.set(!1)}}async cachedFetch(){if(this.fetchFromCache()!=="cache-ok")try{await this.forceFetch()}catch(t){}}subscribe(e){return this.value.subscribe(e)}}class em{constructor(e){ce(this,"store");ce(this,"key");ce(this,"defaultValue");ce(this,"serialize");ce(this,"deserialize");var t,n;this.key=e.key,this.defaultValue=e.defaultValue,this.serialize=(t=e.serialize)!=null?t:JSON.stringify,this.deserialize=(n=e.deserialize)!=null?n:JSON.parse,this.store=xe(this.getLocalStorageValue())}getLocalStorageValue(){const e=localStorage.getItem(this.key);if(e===null)return this.defaultValue;try{return this.deserialize(e)}catch(t){return this.defaultValue}}setLocalStorageValue(e){localStorage.setItem(this.key,this.serialize(e))}subscribe(e,t){return this.store.subscribe(e,t)}set(e){this.store.set(e),this.setLocalStorageValue(e)}update(e){this.store.update(t=>{const n=e(t);return this.setLocalStorageValue(n),n})}}const Tu={releaseData:"mathesar-release-data",tableInspectorWidth:"table-inspector-width",dataExplorerLeftSidebarWidth:"data-explorer-left-sidebar-width",dataExplorerRightSidebarWidth:"data-explorer-right-sidebar-width"},F1=new em({key:Tu.tableInspectorWidth,defaultValue:350}),H1=new em({key:Tu.dataExplorerLeftSidebarWidth,defaultValue:400}),z1=new em({key:Tu.dataExplorerRightSidebarWidth,defaultValue:350});function V1(r){if(r!==void 0)return{id:r.id,tagName:r.tag_name,date:r.published_at}}function q1(r){try{const[e,t,n]=r.split(".").map(l=>parseInt(l,10));return Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(n)?void 0:e*1e6+t*1e3+n}catch(e){return}}function OL(r,e){if(r===void 0||e===void 0)return;const t=q1(r.tagName),n=q1(e.tagName);return t&&n&&n>t?"upgradable":"up-to-date"}class Eu{constructor({current:e,latest:t}){ce(this,"current");ce(this,"latest");ce(this,"upgradeStatus");this.current=e,this.latest=t,this.upgradeStatus=OL(e,t)}serialize(){return JSON.stringify({current:this.current,latest:this.latest})}static deserialize(e){try{const t=JSON.parse(e),{current:n,latest:l}=t;return new Eu({current:n,latest:l})}catch(t){return}}}async function LL(r){return new Eu({current:V1(await L1.fetchByTagName(r)),latest:V1(await L1.fetchLatest())})}function NL(r){return new RL({inputHash:r,cacheKey:Tu.releaseData,timeToLiveMs:1e3*60*60*24,fetch:()=>LL(r),serialize:e=>e.serialize(),deserialize:e=>Eu.deserialize(e)})}const mk=Symbol("ReleaseDataStore");function Du(){return Fn(mk)}function FL(r){if(Du()!==void 0)throw Error("ReleaseDataStore context has already been set");xn(mk,NL(r))}class dk{constructor(e){ce(this,"onOpen");ce(this,"onClose");ce(this,"nestingLevel");ce(this,"purpose",xe("dataEntry"));ce(this,"isOpen",xe(!1));ce(this,"submit",()=>{});ce(this,"cancel",()=>{});ce(this,"tableId",xe(void 0));ce(this,"columnWithNestedSelectorOpen",xe(void 0));var t,n;this.onOpen=(t=e.onOpen)!=null?t:()=>{},this.onClose=(n=e.onClose)!=null?n:()=>{},this.nestingLevel=e.nestingLevel}open(){this.isOpen.set(!0),this.onOpen()}close(){this.submit=()=>{},this.cancel=()=>{},this.isOpen.set(!1),this.onClose()}acquireUserInput({tableId:e}){return this.tableId.set(e),this.purpose.set("dataEntry"),this.open(),new Promise(t=>{this.submit=n=>{t(n),this.close()},this.cancel=()=>{t(void 0),this.close()}})}navigateToRecordPage({tableId:e}){this.tableId.set(e),this.purpose.set("navigation"),this.open(),this.cancel=()=>{this.close()}}}const _k={};function pk(r){xn(_k,r)}function Do(){return Fn(_k)}function sl(r){return`/db/${r}/`}function br(r,e){return`${sl(r)}${e}/`}function gk(r,e){return`${br(r,e)}tables/`}function hk(r,e){return`${br(r,e)}explorations/`}function kl(r,e){return`${br(r,e)}import/`}const bk="inference";function HL(r){return new URLSearchParams({[bk]:JSON.stringify(r.useColumnTypeInference)}).toString()}function zL(r){return{useColumnTypeInference:r[bk]==="true"}}function Iu(r,e,t,n){const l=kl(r,e),s=HL(n);return`${l}${t}/?${s}`}function Mr(r,e){return`${br(r,e)}data-explorer/`}function Xl(r,e,t){return`${hk(r,e)}${t}/`}function yl(r,e,t){return`${Xl(r,e,t)}edit/`}function Ol(r,e,t){return`${gk(r,e)}${t}/`}function sf(r,e,t,n){return`${Ol(r,e,t)}${String(n)}`}const of="/profile/",ri="/administration/",Oa=`${ri}update/`,oo=`${ri}users/`,af=`${ri}users/new/`,VL="/auth/logout/",li="/connections/";function ao(r){return`${oo}${r}/`}function qL(r){return`/shares/tables/${r}/`}function BL(r){return`/shares/explorations/${r}/`}function $k(r){return`https://docs.mathesar.org${r}`}function UL(r){return`https://wiki.mathesar.org${r}`}function Mu(r){return r.import_verified===!1&&r.data_files!==void 0&&r.data_files.length>0}function vk(r,e){const t=[...r.values()];let n=[];const{settings:l}=e;if(l){const{column_order:s}=l;s&&(n=s)}return t.forEach(s=>{n.includes(s.id)||n.push(s.id)}),n}function WL(r,e){const t=[...r.values()],n=new Map;return vk(t,e).forEach(s=>{const i=t.map(o=>o.id).indexOf(s);if(i!==-1){const o=t.splice(i,1)[0];n.set(o.id,o)}}),n}function uf(r,e,t){return Mu(t)?Iu(r,e,t.id,{useColumnTypeInference:!0}):Ol(r,e,t.id)}function B1(r,e,t){const n=r.slice();return n[10]=e[t],n}function jL(r){let e,t,n=r[5],l=[];for(let i=0;i<n.length;i+=1)l[i]=U1(B1(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=oe()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,o){if(o&32){n=i[5];let a;for(a=0;a<n.length;a+=1){const u=B1(i,n,a);l[a]?(l[a].p(u,o),_(l[a],1)):(l[a]=U1(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(G(),a=n.length;a<l.length;a+=1)s(a);K()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){jn(l,i),i&&v(e)}}}function YL(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function U1(r){let e,t;const n=[r[10],{size:"min(1em, 0.75em + 0.25rem)"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&32?de(n,[$e(s[10]),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function GL(r){let e;const t=r[7].default,n=Ie(t,r,r[9],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&512)&&Ae(n,t,l,l[9],e?Me(t,l[9],s,null):Pe(l[9]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function KL(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},i:j,o:j,d(t){t&&v(e)}}}function XL(r){let e,t,n,l,s,i,o,a,u,c,f;const m=[YL,jL],d=[];function p(k,T){return k[1]?0:1}n=p(r),l=d[n]=m[n](r);const h=[KL,GL],b=[];function $(k,T){return k[0]?0:1}return o=$(r),a=b[o]=h[o](r),{c(){e=M("span"),t=M("span"),l.c(),s=q("\xA0"),i=M("span"),a.c(),D(t,"class","icon svelte-1byqy9q"),Cn(t,"white-space","nowrap"),D(i,"class","name svelte-1byqy9q"),D(e,"class","name-with-icon svelte-1byqy9q"),re(e,"boxed",r[2]),re(e,"bold",r[4])},m(k,T){w(k,e,T),I(e,t),d[n].m(t,null),I(e,s),I(e,i),b[o].m(i,null),u=!0,c||(f=He(e,"click",r[8]),c=!0)},p(k,T){let E=n;n=p(k),n===E?d[n].p(k,T):(G(),g(d[E],1,1,()=>{d[E]=null}),K(),l=d[n],l?l.p(k,T):(l=d[n]=m[n](k),l.c()),_(l,1),l.m(t,null));let A=o;o=$(k),o===A?b[o].p(k,T):(G(),g(b[A],1,1,()=>{b[A]=null}),K(),a=b[o],a?a.p(k,T):(a=b[o]=h[o](k),a.c()),_(a,1),a.m(i,null)),(!u||T&4)&&re(e,"boxed",k[2]),(!u||T&16)&&re(e,"bold",k[4])},i(k){u||(_(l),_(a),u=!0)},o(k){g(l),g(a),u=!1},d(k){k&&v(e),d[n].d(),b[o].d(),c=!1,f()}}}function QL(r){let e,t;return e=new pi({props:{passthrough:!r[3],$$slots:{default:[XL]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.passthrough=!n[3]),l&567&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ZL(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{icon:i}=e,{name:o=void 0}=e,{isLoading:a=!1}=e,{iconHasBox:u=!1}=e,{truncate:c=!0}=e,{bold:f=!1}=e;function m(d){ye.call(this,r,d)}return r.$$set=d=>{"icon"in d&&t(6,i=d.icon),"name"in d&&t(0,o=d.name),"isLoading"in d&&t(1,a=d.isLoading),"iconHasBox"in d&&t(2,u=d.iconHasBox),"truncate"in d&&t(3,c=d.truncate),"bold"in d&&t(4,f=d.bold),"$$scope"in d&&t(9,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&64&&t(5,n=Array.isArray(i)?i:[i])},[o,a,u,c,f,n,i,l,m,s]}class Rn extends x{constructor(e){super(),J(this,e,ZL,QL,Q,{icon:6,name:0,isLoading:1,iconHasBox:2,truncate:3,bold:4})}}const JL=r=>({tableName:r&1}),W1=r=>({tableName:r[0].name});function xL(r){let e=r[0].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function j1(r){let e;return{c(){e=q("*")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function eN(r){let e,t,n;const l=r[4].default,s=Ie(l,r,r[5],W1),i=s||xL(r);let o=r[2]&&j1();return{c(){i&&i.c(),e=N(),o&&o.c(),t=oe()},m(a,u){i&&i.m(a,u),w(a,e,u),o&&o.m(a,u),w(a,t,u),n=!0},p(a,u){s?s.p&&(!n||u&33)&&Ae(s,l,a,a[5],n?Me(l,a[5],u,JL):Pe(a[5]),W1):i&&i.p&&(!n||u&1)&&i.p(a,n?u:-1),a[2]?o||(o=j1(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i(a){n||(_(i,a),n=!0)},o(a){g(i,a),n=!1},d(a){i&&i.d(a),a&&v(e),o&&o.d(a),a&&v(t)}}}function tN(r){let e,t;const n=[{icon:Kl},{isLoading:r[1]},r[3]];let l={$$slots:{default:[eN]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Rn({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&10?de(n,[i&0&&{icon:Kl},i&2&&{isLoading:s[1]},i&8&&$e(s[3])]):{};i&37&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function nN(r,e,t){let n;const l=["table","isLoading"];let s=Ye(e,l),{$$slots:i={},$$scope:o}=e,{table:a}=e,{isLoading:u=!1}=e;return r.$$set=c=>{e=le(le({},e),_t(c)),t(3,s=Ye(e,l)),"table"in c&&t(0,a=c.table),"isLoading"in c&&t(1,u=c.isLoading),"$$scope"in c&&t(5,o=c.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=Mu(a))},[a,u,n,s,i,o]}class Sn extends x{constructor(e){super(),J(this,e,nN,tN,Q,{table:0,isLoading:1})}}const Ze={Boolean:"boolean",Date:"date",Time:"time",DateTime:"datetime",Duration:"duration",Email:"email",Money:"money",Number:"number",Text:"text",Uri:"uri",JsonArray:"jsonlist",JsonObject:"map",Array:"array",Other:"other"},Er={VARCHAR:"character varying",CHAR:"character",TEXT:"text"},rN={variables:{restrictFieldSize:{type:"boolean",default:!1},length:{type:"integer",default:255,validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"restrictFieldSize",label:"Set a maximum length"},{type:"if",variable:"restrictFieldSize",condition:"eq",value:!0,elements:[{type:"input",variable:"length",label:"Field Size Limit"}]}]}};function lN(r,e){if(r.restrictFieldSize){const{length:t}=r;return(typeof t=="string"||typeof t=="number")&&(typeof t=="string"?parseInt(t,10):t)>255?Er.VARCHAR:e===Er.CHAR?Er.CHAR:Er.VARCHAR}return Er.TEXT}function sN(r,e){const t=lN(r,e),n={};return(t===Er.CHAR||t===Er.VARCHAR)&&(n.length=r.length),{dbType:t,typeOptions:n}}function iN(r,e){var t;switch(r){case Er.CHAR:case Er.VARCHAR:return{length:(t=e==null?void 0:e.length)!=null?t:null,restrictFieldSize:!0};default:return{restrictFieldSize:!1}}}const oN={getIcon:()=>({...rk,label:"Text"}),defaultDbType:Er.VARCHAR,cellInfo:{type:"string",config:{multiLine:!0},conditionalConfig:{[Er.CHAR]:{multiLine:!1}}},getDbConfig:()=>({form:rN,determineDbTypeAndOptions:sN,constructDbFormValuesFromTypeOptions:iN})},mn={DECIMAL:"decimal",NUMERIC:"numeric",INTEGER:"integer",SMALLINT:"smallint",BIGINT:"bigint",REAL:"real",DOUBLE_PRECISION:"double precision"},aN={variables:{numberType:{type:"string",enum:["Integer","Decimal","Float"],default:"Decimal"},integerDataSize:{type:"string",enum:["default","bigInt","smallInt"],default:"default"},decimalPlaces:{type:"integer",default:null},maxDigits:{type:"integer",default:null},floatingPointType:{type:"string",enum:["real","doublePrecision"],default:"real"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"numberType",label:"Number Type"},{type:"switch",variable:"numberType",cases:{Integer:[{type:"input",variable:"integerDataSize",label:"Integer Data Size",interfaceType:"select",options:{default:{label:"Default (4 bytes)"},bigInt:{label:"Big Integer (8 bytes)"},smallInt:{label:"Small Integer (2 bytes)"}}}],Decimal:[{type:"layout",orientation:"horizontal",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"maxDigits",label:"Max Digits"}]}],Float:[{type:"input",variable:"floatingPointType",label:"Floating Point Type",interfaceType:"select",options:{real:{label:"Real (6 digits)"},doublePrecision:{label:"Double Precision (15 digits)"}}}]}}]}};function uN(r,e){switch(r.numberType){case"Integer":switch(r.integerDataSize){case"smallInt":return mn.SMALLINT;case"bigInt":return mn.BIGINT;default:return mn.INTEGER}case"Float":switch(r.floatingPointType){case"real":return mn.REAL;case"doublePrecision":default:return mn.DOUBLE_PRECISION}case"Decimal":default:return e===mn.DECIMAL?mn.DECIMAL:mn.NUMERIC}}function cN(r,e){const t=uN(r,e),n={};return(t===mn.DECIMAL||t===mn.NUMERIC)&&(r.maxDigits!==null&&(n.precision=r.maxDigits),r.decimalPlaces!==null&&(n.scale=r.decimalPlaces)),{dbType:t,typeOptions:n}}function fN(r,e){var t,n;switch(r){case mn.SMALLINT:return{numberType:"Integer",integerDataSize:"smallInt"};case mn.BIGINT:return{numberType:"Integer",integerDataSize:"bigInt"};case mn.REAL:return{numberType:"Float",floatingPointType:"real"};case mn.DOUBLE_PRECISION:return{numberType:"Float",floatingPointType:"doublePrecision"};case mn.INTEGER:return{numberType:"Integer",integerDataSize:"default"};case mn.DECIMAL:case mn.NUMERIC:default:return{numberType:"Decimal",maxDigits:(t=e==null?void 0:e.precision)!=null?t:null,decimalPlaces:(n=e==null?void 0:e.scale)!=null?n:null}}}const mN={variables:{decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"false"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function dN(r){var n;const e=r.decimalPlaces;return{number_format:r.numberFormat==="none"?void 0:r.numberFormat,use_grouping:(n=r.useGrouping)!=null?n:"false",minimum_fraction_digits:e!=null?e:void 0,maximum_fraction_digits:e!=null?e:void 0}}function wk(r,e){return r===null&&e===null?null:r===null?e:e===null?r:Math.max(r,e)}function _N(r){var l,s,i,o;const e=r,t=wk((l=e==null?void 0:e.minimum_fraction_digits)!=null?l:null,(s=e==null?void 0:e.maximum_fraction_digits)!=null?s:null);return{numberFormat:(i=e==null?void 0:e.number_format)!=null?i:"none",useGrouping:(o=e==null?void 0:e.use_grouping)!=null?o:"false",decimalPlaces:t}}const pN={getIcon:()=>({...GO,label:"Number"}),cellInfo:{type:"number",conditionalConfig:{[mn.DECIMAL]:{floatAllowanceStrategy:"scale-based"},[mn.NUMERIC]:{floatAllowanceStrategy:"scale-based"},[mn.INTEGER]:{floatAllowanceStrategy:"never"},[mn.SMALLINT]:{floatAllowanceStrategy:"never"},[mn.BIGINT]:{floatAllowanceStrategy:"never"},[mn.REAL]:{floatAllowanceStrategy:"always"},[mn.DOUBLE_PRECISION]:{floatAllowanceStrategy:"always"}}},defaultDbType:mn.NUMERIC,getDbConfig:()=>({form:aN,determineDbTypeAndOptions:cN,constructDbFormValuesFromTypeOptions:fN}),getDisplayConfig:()=>({form:mN,determineDisplayOptions:dN,constructDisplayFormValuesFromDisplayOptions:_N})},gN={MONEY:"MONEY",MATHESAR_TYPES__MATHESAR_MONEY:"MATHESAR_TYPES.MATHESAR_MONEY"},hN={variables:{currencySymbol:{type:"string",default:"$"},currencySymbolLocation:{type:"string",enum:["after-minus","end-with-space"],default:"after-minus"},numberFormat:{type:"string",enum:["none","english","german","french","hindi","swiss"],default:"none"},decimalPlaces:{type:"integer",default:null},useGrouping:{type:"string",enum:["true","false"],default:"true"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"currencySymbol",label:"Currency Symbol"},{type:"input",variable:"currencySymbolLocation",label:"Currency Symbol Location",options:{"after-minus":{label:"Start"},"end-with-space":{label:"End"}}},{type:"input",variable:"decimalPlaces",label:"Decimal Places"},{type:"input",variable:"useGrouping",label:"Digit Grouping",options:{true:{label:"On"},false:{label:"Off"}}},{type:"input",variable:"numberFormat",label:"Number Format",options:{none:{label:"Use browser locale"},english:{label:"1,234,567.89"},german:{label:"1.234.567,89"},french:{label:"1 234 567,89"},hindi:{label:"12,34,567.89"},swiss:{label:"1'234'567.89"}}}]}};function bN(r){var n,l;const e=r;return{currency_symbol:e.currencySymbol,currency_symbol_location:e.currencySymbolLocation,number_format:e.numberFormat==="none"?null:e.numberFormat,use_grouping:e.useGrouping,minimum_fraction_digits:(n=e.decimalPlaces)!=null?n:void 0,maximum_fraction_digits:(l=e.decimalPlaces)!=null?l:void 0}}function $N(r){var l,s,i,o,a,u;const e=r,t=wk((l=e==null?void 0:e.minimum_fraction_digits)!=null?l:null,(s=e==null?void 0:e.maximum_fraction_digits)!=null?s:null);return{numberFormat:(i=e==null?void 0:e.number_format)!=null?i:"none",currencySymbol:(o=e==null?void 0:e.currency_symbol)!=null?o:"",decimalPlaces:t,currencySymbolLocation:(a=e==null?void 0:e.currency_symbol_location)!=null?a:"after-minus",useGrouping:(u=e==null?void 0:e.use_grouping)!=null?u:"true"}}const vN={getIcon:()=>YO,cellInfo:{type:"money"},defaultDbType:gN.MATHESAR_TYPES__MATHESAR_MONEY,getDisplayConfig:()=>({form:hN,determineDisplayOptions:bN,constructDisplayFormValuesFromDisplayOptions:$N})},wN={getIcon:()=>({...UO,label:"Email"}),defaultDbType:"mathesar_types.email",cellInfo:{type:"string"}},kN={variables:{displayAs:{type:"string",enum:["checkbox","dropdown"],default:"checkbox"},useCustomLabels:{type:"boolean",default:!1},trueLabel:{type:"string",default:"true",validation:{checks:["isEmpty"]}},falseLabel:{type:"string",default:"false",validation:{checks:["isEmpty"]}}},layout:{orientation:"vertical",elements:[{type:"input",variable:"displayAs",label:"Display as",options:{checkbox:{label:"Checkbox"},dropdown:{label:"Dropdown"}}},{type:"if",variable:"displayAs",condition:"eq",value:"dropdown",elements:[{type:"input",variable:"useCustomLabels",label:"Use Custom Labels"},{type:"if",variable:"useCustomLabels",condition:"eq",value:!0,elements:[{type:"input",variable:"trueLabel",label:"Label for TRUE"},{type:"input",variable:"falseLabel",label:"Label for FALSE"}]}]}]}};function yN(r){const e={input:r.displayAs};return r.displayAs==="dropdown"&&r.useCustomLabels&&(e.custom_labels={TRUE:r.trueLabel,FALSE:r.falseLabel}),e}function SN(r){var n;const e=r,t={displayAs:(n=e==null?void 0:e.input)!=null?n:"checkbox"};return typeof(e==null?void 0:e.custom_labels)=="object"&&e.custom_labels!==null&&(t.useCustomLabels=!0,t.trueLabel=e.custom_labels.TRUE,t.falseLabel=e.custom_labels.FALSE),t}const CN={getIcon:()=>({...zO,label:"Boolean"}),cellInfo:{type:"boolean"},getDisplayConfig:()=>({form:kN,determineDisplayOptions:yN,constructDisplayFormValuesFromDisplayOptions:SN})},TN={MATHESAR_TYPES__URI:"mathesar_types.uri"},EN={getIcon:()=>QO,defaultDbType:TN.MATHESAR_TYPES__URI,cellInfo:{type:"uri"}},Fl=["d","h","m","s","ms"],$c={max:"m",min:"s"},Y1={d:"D",h:"HH",m:"mm",s:"ss",ms:"SSS"};class uo{constructor(e){ce(this,"min");ce(this,"max");var t,n;this.min=(t=e==null?void 0:e.min)!=null?t:$c.min,this.max=(n=e==null?void 0:e.max)!=null?n:$c.max}getUnitsInRange(){return Fl.slice(Fl.indexOf(this.max),Fl.indexOf(this.min)+1)}getHigherUnit(e){const t=Fl[Fl.indexOf(e)-1];return!t||Fl.indexOf(t)<Fl.indexOf(this.max)?null:t}getFormattingString(){const e=this.getUnitsInRange().map(t=>Y1[t]);return e.length===1?e[0]:e[e.length-1]===Y1.ms?[e.slice(0,e.length-1).join(":"),e[e.length-1]].join("."):e.join(":")}static getAllUnits(){return Fl}static getDefaults(){return $c}}const DN=/^((\.?\d+)|(\d+(\.\d+)?))$/;function IN(r,e){var c,f,m,d;let t=r.getUnitsInRange();t[t.length-1]==="ms"&&(t=t.slice(0,t.length-1));let n=e.trim();if(n==="")return null;n[0]===":"&&(n=`0${n}`);const s=n[n.length-1];if((s===":"||s===".")&&(n=`${n}0`),n.split(":").length>t.length)throw new Error("Duration exceeds specified unit range");const o=n.split(":").map(p=>{let h=p;h.length>1&&h[h.length-1]==="."&&(h=`${h}0`);const b=parseFloat(h);if(Number.isNaN(b)||!DN.test(h))throw new Error("Unable to parse duration");return b}).slice(-t.length),a=t.slice(-o.length),u={};return a.forEach((p,h)=>{var b;u[p]=(b=o[h])!=null?b:0}),dn.duration({years:0,months:0,days:(c=u.d)!=null?c:0,hours:(f=u.h)!=null?f:0,minutes:(m=u.m)!=null?m:0,seconds:(d=u.s)!=null?d:0}).toISOString()}const vc={ms:{convert:r=>r.asMilliseconds(),unitName:"milliseconds",decimalCorrection:0},s:{convert:r=>r.asSeconds(),unitName:"seconds"},m:{convert:r=>r.asMinutes(),unitName:"minutes"},h:{convert:r=>r.asHours(),unitName:"hours"},d:{convert:r=>r.asDays(),unitName:"days"}};function MN(r,e){var o;const t={},n=dn.duration(r),l=e.getUnitsInRange().reverse();if(l.length===0)throw new Error("Invalid duration specification");let s=vc[l[0]],i=s.convert(n);for(const a of l){const u=e.getHigherUnit(a);let c=0;if(u){const f=vc[u];c=Math.floor(f.convert(dn.duration(i,s.unitName))),i-=s.convert(dn.duration(c,f.unitName))}t[s.unitName]=parseFloat(i.toFixed((o=s.decimalCorrection)!=null?o:3)),u&&(i=c,s=vc[u])}return dn.duration(t).format(e.getFormattingString())}class AN{constructor(e){ce(this,"specification");this.specification=e}parse(e){return{value:IN(this.specification,e),intermediateDisplay:e}}format(e){return MN(e,this.specification)}}const La=uo.getDefaults(),PN={variables:{durationConfig:{type:"custom",default:{max:La.max,min:La.min}}},layout:{orientation:"vertical",elements:[{type:"static",variable:"durationConfig",componentId:"duration-config-menu"}]}};function RN(r){return{...r.durationConfig,show_units:!1}}function ON(r){var n,l;const e=r;return{durationConfig:{max:(n=e==null?void 0:e.max)!=null?n:La.max,min:(l=e==null?void 0:e.min)!=null?l:La.min}}}const LN={getIcon:()=>({...BO,label:"Duration"}),cellInfo:{type:"duration"},getDisplayConfig:()=>({form:PN,determineDisplayOptions:RN,constructDisplayFormValuesFromDisplayOptions:ON})};function is(r,e,t){const n=[];return r.forEach(l=>{e.forEach(s=>{n.push(t(l,s))})}),n}function NN(){return{none:new Date("1999-12-25T00:00").toLocaleDateString().replace("25","DD").replace("12","MM").replace("1999","YYYY"),us:"MM/DD/YYYY",eu:"DD/MM/YYYY",friendly:"D MMM YYYY",iso:"YYYY-MM-DD"}}const xo=NN(),G1=new Map([["us",["M/D/YYYY","M/D/YY"]],["eu",["D/M/YYYY","D/M/YY"]],["friendly",["D MMM YY"]]]),wc={"24hr":"HH:mm","24hrLong":"HH:mm:ss","12hr":"hh:mm a","12hrLong":"hh:mm:ss a"},Na=["hh:mm:ss a","HH:mm:ss","hh:mm a","HH:mm"],K1=[...Na,...is(Na,[" Z",".Z","Z"],(r,e)=>`${r}${e}`)];class Io{constructor(e){ce(this,"type");ce(this,"isTimeZoneType");ce(this,"dateFormat");ce(this,"timeFormat");var t,n,l;this.type=(t=e==null?void 0:e.type)!=null?t:"timestamp",this.dateFormat=(n=e==null?void 0:e.dateFormat)!=null?n:"none",this.timeFormat=(l=e==null?void 0:e.timeFormat)!=null?l:"24hr",this.isTimeZoneType=this.type==="timeWithTZ"||this.type==="timestampWithTZ"}getFormattingString(){switch(this.type){case"date":return xo[this.dateFormat];case"time":case"timeWithTZ":return wc[this.timeFormat];case"timestamp":case"timestampWithTZ":default:return`${xo[this.dateFormat]} ${wc[this.timeFormat]}`}}getCommonFormattingStrings(){var t,n;const e=[xo[this.dateFormat],...(t=G1.get(this.dateFormat))!=null?t:[]];return this.type==="date"?(n=G1.get(this.dateFormat))!=null?n:[]:this.type==="time"?Na:this.type==="timeWithTZ"?K1:this.type==="timestamp"?is(e,Na,(l,s)=>`${l} ${s}`):this.type==="timestampWithTZ"?is(e,K1,(l,s)=>`${l} ${s}`):[]}getCanonicalFormattingStrings(){const e=["YYYY-MM-DD"],t=[...e,"YYYY-MM-DD [AD]","YYYY-MM-DD [BC]"],n=["HH:mm:ss"],l=["HH:mm:ss.Z","HH:mm:ss Z","HH:mm:ss.ZZ","HH:mm:ss ZZ"],s=is(e,n,(u,c)=>`${u} ${c}`),i=[...s,...is(s,["[AD]","[BC]"],(u,c)=>`${u} ${c}`)],o=is(e,l,(u,c)=>`${u}T${c}`),a=[...o,...is(o,["[AD]","[BC]"],(u,c)=>`${u}T${c}`)];switch(this.type){case"date":return t;case"time":return n;case"timeWithTZ":return l;case"timestamp":return i;case"timestampWithTZ":return a;default:return[]}}getCanonicalString(e){return this.type==="date"?dn(e).format("YYYY-MM-DD"):this.type==="time"?dn(e).format("HH:mm:ss"):this.type==="timeWithTZ"?dn(e).format("HH:mm:ss Z"):this.type==="timestamp"?dn(e).format("YYYY-MM-DD HH:mm:ss"):this.type==="timestampWithTZ"?dn(e).format("YYYY-MM-DD HH:mm:ss Z"):e.toISOString()}hasSecondsInTime(){return this.type==="date"?!1:this.timeFormat==="12hrLong"||this.timeFormat==="24hrLong"}isTime24Hr(){return this.type==="date"?!1:this.timeFormat==="24hr"||this.timeFormat==="24hrLong"}static getDateFormattingStringMap(){return xo}static getTimeFormattingStringMap(){return wc}}class tm{constructor(e){ce(this,"specification");this.specification=e}parse(e){const t=[this.specification.getFormattingString(),...this.specification.getCommonFormattingStrings(),...this.specification.getCanonicalFormattingStrings()];let n=dn(e,t,!0);return n.isValid()||(n=dn(e,this.specification.getCanonicalFormattingStrings())),{value:n.isValid()?this.specification.getCanonicalString(n.toDate()):e,intermediateDisplay:e}}format(e){const t=dn(e,this.specification.getCanonicalFormattingStrings());return t.isValid()?t.format(this.specification.getFormattingString()):e}parseAndFormat(e){const{value:t}=this.parse(e);return kn(t)?this.format(t):e}}function kk(){const r=dn("2001-12-31"),e=Io.getDateFormattingStringMap();return{none:{label:`Infer from browser (${r.format(e.none)})`},us:{label:`US (${r.format(e.us)})`},eu:{label:`European (${r.format(e.eu)})`},friendly:{label:`Friendly (${r.format(e.friendly)})`},iso:{label:`Standard (${r.format(e.iso)})`}}}function yk(){const r=dn(),e=Io.getTimeFormattingStringMap();return{"24hr":{label:`Short time 24 hr (${r.format(e["24hr"])})`},"24hrLong":{label:`Long time 24 hr (${r.format(e["24hrLong"])})`},"12hr":{label:`Short time 12 hr (${r.format(e["12hr"])})`},"12hrLong":{label:`Long time 12 hr (${r.format(e["12hrLong"])})`}}}const FN={variables:{format:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Date Format",options:kk()}]}};function HN(r){return{format:r.format}}function zN(r){var n;const e=r;return{format:(n=e==null?void 0:e.format)!=null?n:"none"}}const VN={getIcon:()=>({...VO,label:"Date"}),cellInfo:{type:"date"},getDisplayConfig:()=>({form:FN,determineDisplayOptions:HN,constructDisplayFormValuesFromDisplayOptions:zN})},zs={TIME_WITH_TZ:"time with time zone",TIME_WITHOUT_TZ:"time without time zone"},qN={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function BN(r){return{dbType:r.supportTimeZones?zs.TIME_WITH_TZ:zs.TIME_WITHOUT_TZ,typeOptions:{}}}function UN(r){return{supportTimeZones:r===zs.TIME_WITH_TZ}}const WN={variables:{format:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"format",label:"Time Format",options:yk()}]}};function jN(r){return{format:r.format}}function YN(r){var n;const e=r;return{format:(n=e==null?void 0:e.format)!=null?n:"24hr"}}const GN={getIcon:()=>({...KO,label:"Time"}),defaultDbType:zs.TIME_WITH_TZ,cellInfo:{type:"time",conditionalConfig:{[zs.TIME_WITH_TZ]:{supportTimeZone:!0},[zs.TIME_WITHOUT_TZ]:{supportTimeZone:!1}}},getDbConfig:()=>({form:qN,determineDbTypeAndOptions:BN,constructDbFormValuesFromTypeOptions:UN}),getDisplayConfig:()=>({form:WN,determineDisplayOptions:jN,constructDisplayFormValuesFromDisplayOptions:YN})},Vs={TIMESTAMP_WITH_TZ:"timestamp with time zone",TIMESTAMP_WITHOUT_TZ:"timestamp without time zone"},KN={variables:{supportTimeZones:{type:"boolean",default:!1}},layout:{orientation:"vertical",elements:[{type:"input",variable:"supportTimeZones",label:"Support Time Zones"}]}};function XN(r){return{dbType:r.supportTimeZones?Vs.TIMESTAMP_WITH_TZ:Vs.TIMESTAMP_WITHOUT_TZ,typeOptions:{}}}function QN(r){return{supportTimeZones:r===Vs.TIMESTAMP_WITH_TZ}}const ZN={variables:{dateFormat:{type:"string",enum:["none","us","eu","friendly","iso"],default:"none"},timeFormat:{type:"string",enum:["24hr","24hrLong","12hr","12hrLong"],default:"24hr"}},layout:{orientation:"vertical",elements:[{type:"input",variable:"dateFormat",label:"Date Format",options:kk()},{type:"input",variable:"timeFormat",label:"Time Format",options:yk()}]}};function JN(r){return{date_format:r.dateFormat,time_format:r.timeFormat}}function xN(r){var n,l;const e=r;return{dateFormat:(n=e==null?void 0:e.date_format)!=null?n:"none",timeFormat:(l=e==null?void 0:e.time_format)!=null?l:"24hr"}}const eF={getIcon:()=>({...qO,label:"Date & Time"}),defaultDbType:Vs.TIMESTAMP_WITH_TZ,cellInfo:{type:"datetime",conditionalConfig:{[Vs.TIMESTAMP_WITH_TZ]:{supportTimeZone:!0},[Vs.TIMESTAMP_WITHOUT_TZ]:{supportTimeZone:!1}}},getDbConfig:()=>({form:KN,determineDbTypeAndOptions:XN,constructDbFormValuesFromTypeOptions:QN}),getDisplayConfig:()=>({form:ZN,determineDisplayOptions:JN,constructDisplayFormValuesFromDisplayOptions:xN})},Sk={getIcon:()=>({...XO,label:"Unknown column type"}),cellInfo:{type:"string"}},tF=()=>({getIcon:()=>WO,defaultDbType:"mathesar_types.mathesar_json_array",cellInfo:{type:"string"}}),nF=()=>({getIcon:()=>jO,defaultDbType:"mathesar_types.mathesar_json_object",cellInfo:{type:"string"}}),Ck={name:"Other",identifier:"other",...Sk,dbTypes:new Set([])};function cf(r,e){let t;for(const[,n]of e)if(n.dbTypes.has(r)){t=n;break}return t}function $s(r,e){let t=cf(r,e);return t||(t=Ck),t}const rF=r=>({getIcon:e=>{const t={...A1,label:"Array"};if(e&&e.typeOptions){const n=e.typeOptions,l=$s(n.item_type,r);if(l){const s=l.getIcon(),i=Array.isArray(s)?s:[s];return[{...A1,label:"Array"},...i]}}return t},cellInfo:{type:"array"}}),lF={[Ze.Text]:oN,[Ze.Money]:vN,[Ze.Email]:wN,[Ze.Number]:pN,[Ze.Boolean]:CN,[Ze.Uri]:EN,[Ze.Duration]:LN,[Ze.Date]:VN,[Ze.Time]:GN,[Ze.DateTime]:eF},Tk={[Ze.Array]:rF,[Ze.JsonArray]:tF,[Ze.JsonObject]:nF},ff=Er.TEXT;function Ek(r){const e=new Map,t=[];r.forEach(l=>{if(l.identifier==="other")return;const s={identifier:l.identifier,name:l.name,dbTypes:new Set(l.db_types)},i=lF[l.identifier];if(i){e.set(l.identifier,{...s,...i});return}const o=Tk[l.identifier];if(o){t.push({...s,factory:o});return}e.set(l.identifier,{...s,...Sk})});const n=new Map(e);return t.forEach(l=>{n.set(l.identifier,{identifier:l.identifier,name:l.name,dbTypes:l.dbTypes,...l.factory(e)})}),n}function sF(r,e,t){const n=new Set,l=cf(r,t);l&&n.add(l),e.forEach(i=>{const o=cf(i,t);o&&n.add(o)});const s=[...n].sort((i,o)=>i.name.localeCompare(o.name));return l||s.push(Ck),s}function iF(r){return[...r.values()].filter(e=>!Tk[e.identifier]).sort((e,t)=>e.name.localeCompare(t.name))}function oF(r){return r.defaultDbType?r.defaultDbType:r.dbTypes.size>0?[...r.dbTypes][0]:ff}var Au={exports:{}},Dk={exports:{}};(function(r){var e=function(t){var n=Object.prototype,l=n.hasOwnProperty,s,i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(V,ee,ie){return Object.defineProperty(V,ee,{value:ie,enumerable:!0,configurable:!0,writable:!0}),V[ee]}try{c({},"")}catch(V){c=function(ee,ie,_e){return ee[ie]=_e}}function f(V,ee,ie,_e){var ae=ee&&ee.prototype instanceof k?ee:k,fe=Object.create(ae.prototype),Ue=new te(_e||[]);return fe._invoke=U(V,ie,Ue),fe}t.wrap=f;function m(V,ee,ie){try{return{type:"normal",arg:V.call(ee,ie)}}catch(_e){return{type:"throw",arg:_e}}}var d="suspendedStart",p="suspendedYield",h="executing",b="completed",$={};function k(){}function T(){}function E(){}var A={};A[o]=function(){return this};var P=Object.getPrototypeOf,O=P&&P(P(se([])));O&&O!==n&&l.call(O,o)&&(A=O);var R=E.prototype=k.prototype=Object.create(A);T.prototype=R.constructor=E,E.constructor=T,T.displayName=c(E,u,"GeneratorFunction");function F(V){["next","throw","return"].forEach(function(ee){c(V,ee,function(ie){return this._invoke(ee,ie)})})}t.isGeneratorFunction=function(V){var ee=typeof V=="function"&&V.constructor;return ee?ee===T||(ee.displayName||ee.name)==="GeneratorFunction":!1},t.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,E):(V.__proto__=E,c(V,u,"GeneratorFunction")),V.prototype=Object.create(R),V},t.awrap=function(V){return{__await:V}};function L(V,ee){function ie(fe,Ue,ve,Se){var ke=m(V[fe],V,Ue);if(ke.type==="throw")Se(ke.arg);else{var Fe=ke.arg,we=Fe.value;return we&&typeof we=="object"&&l.call(we,"__await")?ee.resolve(we.__await).then(function(Re){ie("next",Re,ve,Se)},function(Re){ie("throw",Re,ve,Se)}):ee.resolve(we).then(function(Re){Fe.value=Re,ve(Fe)},function(Re){return ie("throw",Re,ve,Se)})}}var _e;function ae(fe,Ue){function ve(){return new ee(function(Se,ke){ie(fe,Ue,Se,ke)})}return _e=_e?_e.then(ve,ve):ve()}this._invoke=ae}F(L.prototype),L.prototype[a]=function(){return this},t.AsyncIterator=L,t.async=function(V,ee,ie,_e,ae){ae===void 0&&(ae=Promise);var fe=new L(f(V,ee,ie,_e),ae);return t.isGeneratorFunction(ee)?fe:fe.next().then(function(Ue){return Ue.done?Ue.value:fe.next()})};function U(V,ee,ie){var _e=d;return function(fe,Ue){if(_e===h)throw new Error("Generator is already running");if(_e===b){if(fe==="throw")throw Ue;return B()}for(ie.method=fe,ie.arg=Ue;;){var ve=ie.delegate;if(ve){var Se=W(ve,ie);if(Se){if(Se===$)continue;return Se}}if(ie.method==="next")ie.sent=ie._sent=ie.arg;else if(ie.method==="throw"){if(_e===d)throw _e=b,ie.arg;ie.dispatchException(ie.arg)}else ie.method==="return"&&ie.abrupt("return",ie.arg);_e=h;var ke=m(V,ee,ie);if(ke.type==="normal"){if(_e=ie.done?b:p,ke.arg===$)continue;return{value:ke.arg,done:ie.done}}else ke.type==="throw"&&(_e=b,ie.method="throw",ie.arg=ke.arg)}}}function W(V,ee){var ie=V.iterator[ee.method];if(ie===s){if(ee.delegate=null,ee.method==="throw"){if(V.iterator.return&&(ee.method="return",ee.arg=s,W(V,ee),ee.method==="throw"))return $;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return $}var _e=m(ie,V.iterator,ee.arg);if(_e.type==="throw")return ee.method="throw",ee.arg=_e.arg,ee.delegate=null,$;var ae=_e.arg;if(!ae)return ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,$;if(ae.done)ee[V.resultName]=ae.value,ee.next=V.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=s);else return ae;return ee.delegate=null,$}F(R),c(R,u,"Generator"),R[o]=function(){return this},R.toString=function(){return"[object Generator]"};function H(V){var ee={tryLoc:V[0]};1 in V&&(ee.catchLoc=V[1]),2 in V&&(ee.finallyLoc=V[2],ee.afterLoc=V[3]),this.tryEntries.push(ee)}function z(V){var ee=V.completion||{};ee.type="normal",delete ee.arg,V.completion=ee}function te(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(H,this),this.reset(!0)}t.keys=function(V){var ee=[];for(var ie in V)ee.push(ie);return ee.reverse(),function _e(){for(;ee.length;){var ae=ee.pop();if(ae in V)return _e.value=ae,_e.done=!1,_e}return _e.done=!0,_e}};function se(V){if(V){var ee=V[o];if(ee)return ee.call(V);if(typeof V.next=="function")return V;if(!isNaN(V.length)){var ie=-1,_e=function ae(){for(;++ie<V.length;)if(l.call(V,ie))return ae.value=V[ie],ae.done=!1,ae;return ae.value=s,ae.done=!0,ae};return _e.next=_e}}return{next:B}}t.values=se;function B(){return{value:s,done:!0}}return te.prototype={constructor:te,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(z),!V)for(var ee in this)ee.charAt(0)==="t"&&l.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=s)},stop:function(){this.done=!0;var V=this.tryEntries[0],ee=V.completion;if(ee.type==="throw")throw ee.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var ee=this;function ie(Se,ke){return fe.type="throw",fe.arg=V,ee.next=Se,ke&&(ee.method="next",ee.arg=s),!!ke}for(var _e=this.tryEntries.length-1;_e>=0;--_e){var ae=this.tryEntries[_e],fe=ae.completion;if(ae.tryLoc==="root")return ie("end");if(ae.tryLoc<=this.prev){var Ue=l.call(ae,"catchLoc"),ve=l.call(ae,"finallyLoc");if(Ue&&ve){if(this.prev<ae.catchLoc)return ie(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return ie(ae.finallyLoc)}else if(Ue){if(this.prev<ae.catchLoc)return ie(ae.catchLoc,!0)}else if(ve){if(this.prev<ae.finallyLoc)return ie(ae.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(V,ee){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var _e=this.tryEntries[ie];if(_e.tryLoc<=this.prev&&l.call(_e,"finallyLoc")&&this.prev<_e.finallyLoc){var ae=_e;break}}ae&&(V==="break"||V==="continue")&&ae.tryLoc<=ee&&ee<=ae.finallyLoc&&(ae=null);var fe=ae?ae.completion:{};return fe.type=V,fe.arg=ee,ae?(this.method="next",this.next=ae.finallyLoc,$):this.complete(fe)},complete:function(V,ee){if(V.type==="throw")throw V.arg;return V.type==="break"||V.type==="continue"?this.next=V.arg:V.type==="return"?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):V.type==="normal"&&ee&&(this.next=ee),$},finish:function(V){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ie=this.tryEntries[ee];if(ie.finallyLoc===V)return this.complete(ie.completion,ie.afterLoc),z(ie),$}},catch:function(V){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ie=this.tryEntries[ee];if(ie.tryLoc===V){var _e=ie.completion;if(_e.type==="throw"){var ae=_e.arg;z(ie)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(V,ee,ie){return this.delegate={iterator:se(V),resultName:ee,nextLoc:ie},this.method==="next"&&(this.arg=s),$}},t}(r.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})(Dk);(function(r){r.exports=Dk.exports})(Au);var Xn={},Ik={exports:{}};(function(r){function e(t,n,l){return n in t?Object.defineProperty(t,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[n]=l,t}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Ik);var nm={exports:{}},Mk={exports:{}},rm={exports:{}};(function(r){function e(t,n){(n==null||n>t.length)&&(n=t.length);for(var l=0,s=new Array(n);l<n;l++)s[l]=t[l];return s}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(rm);(function(r){var e=rm.exports;function t(n){if(Array.isArray(n))return e(n)}r.exports=t,r.exports.default=r.exports,r.exports.__esModule=!0})(Mk);var Ak={exports:{}};(function(r){function e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Ak);var Pk={exports:{}};(function(r){var e=rm.exports;function t(n,l){if(!!n){if(typeof n=="string")return e(n,l);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return e(n,l)}}r.exports=t,r.exports.default=r.exports,r.exports.__esModule=!0})(Pk);var Rk={exports:{}};(function(r){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=e,r.exports.default=r.exports,r.exports.__esModule=!0})(Rk);(function(r){var e=Mk.exports,t=Ak.exports,n=Pk.exports,l=Rk.exports;function s(i){return e(i)||t(i)||n(i)||l()}r.exports=s,r.exports.default=r.exports,r.exports.__esModule=!0})(nm);var lm={},sm={};function aF(r){return typeof r<"u"}sm.notUndefined=aF;var uF=sm,cF=uF.notUndefined;function fF(r){return r!=null&&cF(r[Symbol.iterator])}lm.isIterable=fF;var Ok={};Ok.isLoopable=lm.isIterable;var Lk={},mF=sm,dF=mF.notUndefined;function _F(r){return r==null||dF(r[Symbol.iterator])}Lk.isWrappable=_F;var im={},Pu=Au.exports,pF=Pu.mark(Nk),gF=Pu.mark(Fk);function Nk(r){return Pu.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(r,"t0",1);case 1:case"end":return t.stop()}},pF)}im.wrap=Nk;function Fk(r){return Pu.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r==null){t.next=2;break}return t.delegateYield(r,"t0",2);case 2:case"end":return t.stop()}},gF)}im.nullableWrap=Fk;var om={},Fa=nm.exports;function Hk(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.length,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return function(){for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return e<=l.length?r.apply(void 0,Fa(t).concat(l)):Hk(r,e-l.length,[].concat(Fa(t),l))}}om.curry=Hk;function hF(r,e){var t=r.fn,n=r.validateArgs,l=r.variadic,s=r.reduces,i=r.growRight,o=r.minArgs,a=r.maxArgs,u=r.isIterable,c=r.iterableType,f=r.applyOnIterableArgs,m=r.IterableClass;if(e.length>o){var d=!0,p=l?e.findIndex(function(A,P){return u(A)&&P>=o}):Math.min(a,e.length-1),h=l?e.length:p+1;if(l)for(var b=p;b<e.length;b++)d=d&&u(e[b]);else d=u(e[p]);if(e.length>a&&(p===-1||!d)){var $=l?"...".concat(c,"s"):c,k="".concat(t.name," takes up to ").concat(a," arguments, followed by ").concat($,". ")+"You already passed ".concat(e.length," arguments");throw l?new Error("".concat(k," and the following arguments were not all ").concat(c,"s")):new Error("".concat(k," and the last argument was not ").concat(c))}if(p>=0&&d){for(var T=p;T<h;T++)e[T]=f(e[T]);var E=l?e.slice(p):e[p];return e.splice(p),i||e.reverse(),e.unshift(E),n(e),s?t.apply(void 0,Fa(e)):new m(t,e)}}return zk(r,e)}function zk(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];if(n.length===0)throw new Error("Cannot make a partial application with no arguments");return n.unshift.apply(n,Fa(e)),hF(r,n)}}om.variadicCurryWithValidation=zk;var Ru={},bF=Symbol.for("_");Ru._=bF;var $F=Symbol("__iterate");Ru.__iterate=$F;var vF=Symbol("split");Ru.split=vF;var Li=Ik.exports,Vk=nm.exports,As,wF=lm,qk=wF.isIterable,kF=Ok,yF=kF.isLoopable,SF=Lk,am=SF.isWrappable,CF=im,Bk=CF.nullableWrap,TF=om,EF=TF.variadicCurryWithValidation,Uk=Ru,Ni=Uk._,Fi=Uk.__iterate;Xn.wrap=Bk;Xn.isIterable=qk;Xn.isLoopable=yF;Xn.isWrappable=am;function Wk(r){if(am(r))return qk(r)?r:Bk(r);throw typeof r.next=="function"?new TypeError("iter-tools received a value that looked like an iterator but was not iterable. Get help fixing this: https://github.com/iter-tools/iter-tools/wiki/Making-iterators-iterable"):new TypeError("Expected an iterable, null, or undefined")}Xn.ensureIterable=Wk;function DF(r){"return"in r&&r.return()}Xn.callReturn=DF;function co(r,e){this[Ni]={fn:r,args:e,staticIterator:null}}Xn.BaseIterableIterator=co;Object.assign(co.prototype,(As={constructor:co},Li(As,Fi,function(){var r=this[Ni],e=r.fn,t=r.args;return e.apply(void 0,Vk(t))}),Li(As,"next",function(){var e=this[Ni];return e.staticIterator=e.staticIterator||this[Fi](),e.staticIterator.next()}),Li(As,"return",function(e){var t=this[Ni];return t.staticIterator=t.staticIterator||this[Fi](),t.staticIterator.return(e)}),Li(As,"throw",function(e){var t=this[Ni];return t.staticIterator=t.staticIterator||this[Fi](),t.staticIterator.throw(e)}),As));function fo(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];co.apply(this,e)}Xn.IterableIterator=fo;fo.prototype=Object.assign(Object.create(co.prototype),Li({constructor:fo},Symbol.iterator,function(){return this[Fi]()}));function IF(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.validateArgs,n=t===void 0?function(b){}:t,l=e.variadic,s=l===void 0?!1:l,i=e.reduces,o=i===void 0?!1:i,a=e.growRight,u=a===void 0?!1:a,c=e.minArgs,f=c===void 0?r.length-1:c,m=e.maxArgs,d=m===void 0?r.length-1:m,p=e.applyOnIterableArgs,h=p===void 0?Wk:p;return{fn:r,validateArgs:n,variadic:s,reduces:o,growRight:u,minArgs:f,maxArgs:d,isIterable:am,iterableType:"iterable",applyOnIterableArgs:h,IterableClass:fo}}function MF(r){return Vk(r)}Xn.cache=MF;function AF(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.validateArgs,n=t===void 0?function(l){return l}:t;return function(){for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return n(s),new fo(r,s)}}Xn.wrapWithIterableIterator=AF;var PF=function(e,t){return EF(IF(e,t))};Xn.iterableCurry=PF;var um={},jk=Au.exports,RF=jk.mark(cm);function OF(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=LF(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,l=function(){};return{s:l,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,i=!1,o;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return s=u.done,u},e:function(u){i=!0,o=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(i)throw o}}}}function LF(r,e){if(!!r){if(typeof r=="string")return X1(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return X1(r,e)}}function X1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var NF=Xn,FF=NF.iterableCurry;function cm(r,e){var t,n,l,s;return jk.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:t=0,n=OF(r),o.prev=2,n.s();case 4:if((l=n.n()).done){o.next=10;break}return s=l.value,o.next=8,e(s,t++);case 8:o.next=4;break;case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(2),n.e(o.t0);case 15:return o.prev=15,n.f(),o.finish(15);case 18:case"end":return o.stop()}},RF,null,[[2,12,15,18]])}um.__map=cm;var HF=FF(cm);um.map=HF;var fm={};function zF(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=VF(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,l=function(){};return{s:l,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,i=!1,o;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return s=u.done,u},e:function(u){i=!0,o=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(i)throw o}}}}function VF(r,e){if(!!r){if(typeof r=="string")return Q1(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q1(r,e)}}function Q1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var qF=Xn,BF=qF.iterableCurry;function Yk(r,e){var t=0,n=zF(r),l;try{for(n.s();!(l=n.n()).done;){var s=l.value;if(e(s,t++))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}fm.__some=Yk;var UF=BF(Yk,{reduces:!0});fm.some=UF;var mm={},Gk=Au.exports,WF=Gk.mark(dm),Kk=Xn,jF=Kk.wrapWithIterableIterator,YF=Kk.ensureIterable;function dm(){var r,e,t,n,l,s,i=arguments;return Gk.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:for(r=i.length,e=new Array(r),t=0;t<r;t++)e[t]=i[t];n=0,l=e;case 2:if(!(n<l.length)){a.next=8;break}return s=l[n],a.delegateYield(YF(s),"t0",5);case 5:n++,a.next=2;break;case 8:case"end":return a.stop()}},WF)}mm.__concat=dm;var GF=jF(dm);mm.concat=GF;var _m={},pm={};function KF(r,e){var t;if(typeof Symbol>"u"||r[Symbol.iterator]==null){if(Array.isArray(r)||(t=XF(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,l=function(){};return{s:l,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(u){throw u},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,i=!1,o;return{s:function(){t=r[Symbol.iterator]()},n:function(){var u=t.next();return s=u.done,u},e:function(u){i=!0,o=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(i)throw o}}}}function XF(r,e){if(!!r){if(typeof r=="string")return Z1(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Z1(r,e)}}function Z1(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var QF=Xn,ZF=QF.iterableCurry;function Xk(r,e){var t=e,n=KF(r),l;try{for(n.s();!(l=n.n()).done;){var s=l.value;t=s}}catch(i){n.e(i)}finally{n.f()}return t}pm.__takeLastOr=Xk;var JF=ZF(Xk,{reduces:!0});pm.takeLastOr=JF;var xF=Xn,eH=xF.iterableCurry,tH=pm,nH=tH.__takeLastOr;function Qk(r){return nH(r,void 0)}_m.__takeLast=Qk;var rH=eH(Qk,{reduces:!0});_m.takeLast=rH;var lH=mm.concat;const sH=lH;var iH=um.map;const gm=iH;var oH=fm.some;const aH=oH;var uH=_m.takeLast;const cH=uH;function fH(){return bn("/api/db/v0/connections/?limit=500")}const J1=["library_management","movie_collection"];function mH(r){return cn("/api/ui/v0/connections/create_from_known_connection/",r)}function dH(r){return cn("/api/ui/v0/connections/create_from_scratch/",r)}function _H(r){return cn("/api/ui/v0/connections/create_with_new_user/",r)}function pH(r,e){return Ar(`/api/db/v0/connections/${r}/`,e)}function gH(r,e=!1){const t={del_msar_schemas:e},n=Su(`/api/db/v0/connections/${r}/`,t);return cl(n)}const Mi={list:fH,createFromKnownConnection:mH,createFromScratch:dH,createWithNewUser:_H,update:pH,delete:gH},x1=ul();function hH(r){return[...r].sort((e,t)=>e.nickname.localeCompare(t.nickname))}function Zk(r,e){return!aH(t=>t.id!==r.id&&t.host===r.host&&t.port===r.port&&t.database===r.database,e)}class bH{constructor(){ce(this,"unsortedConnections",new as);ce(this,"connections");ce(this,"currentConnectionId",xe());ce(this,"currentConnection");var e;this.unsortedConnections.reconstruct(x1.connections.map(t=>[t.id,t])),this.connections=at(this.unsortedConnections,t=>new yt(hH(t.values()).map(n=>[n.id,n]))),this.currentConnectionId.set((e=x1.current_connection)!=null?e:void 0),this.currentConnection=at([this.connections,this.currentConnectionId],([t,n])=>Hw(n,l=>t.get(l)))}addConnection(e){this.unsortedConnections.set(e.id,e)}async createFromKnownConnection(e){const t=await Mi.createFromKnownConnection(e);return this.addConnection(t),t}async createFromScratch(e){const t=await Mi.createFromScratch(e);return this.addConnection(t),t}async createWithNewUser(e){const t=await Mi.createWithNewUser(e);return this.addConnection(t),t}setCurrentConnectionId(e){this.currentConnectionId.set(e)}clearCurrentConnectionId(){this.currentConnectionId.set(void 0)}async updateConnection(e,t){const n=await Mi.update(e,t);return this.unsortedConnections.set(e,n),n}async deleteConnection(e,t=!1){const n=Ve(this.connections),l=n.get(e);if(!l)return;const s=Zk(l,n.values());await Mi.delete(e,t&&s),this.unsortedConnections.delete(e)}}const Hn=new bH,On=Hn.currentConnection,eg=ul(),mf=new Map,tg=new Map;async function ng(r){var t;const e=mf.get(r);if(!e){console.error(`DB Types store for db: ${r} not found.`);return}try{e.update(i=>({...i,state:rn.Loading})),(t=tg.get(r))==null||t.cancel();const n=bn(`/api/ui/v0/connections/${r}/types/`);tg.set(r,n);const l=await n,s=Ek(l);return e.update(i=>({...i,state:rn.Done,data:s})),s}catch(n){e.update(l=>({...l,state:rn.Error,error:n instanceof Error?n.message:"Error in fetching schemas"}));return}}let rg=!0;function $H(r){let e=mf.get(r.id);return e?Ve(e).error&&ng(r.id):(e=xe({state:rn.Loading,data:new Map}),mf.set(r.id,e),rg&&eg.current_connection===r.id?e.update(t=>({...t,state:rn.Done,data:Ek(eg.abstract_types)})):ng(r.id),rg=!1),e}const wr=at(On,(r,e)=>{let t;return r?t=$H(r).subscribe(l=>{e(l)}):e({state:rn.Done,data:new Map}),()=>{t==null||t()}}),Hi=[Ze.Date,Ze.Time,Ze.DateTime],ea={[Ze.DateTime]:[Ze.DateTime],[Ze.Date]:[Ze.Date],[Ze.Time]:[Ze.Time],[Ze.Duration]:[Ze.Duration],[Ze.Number]:[Ze.Number],[Ze.Money]:[Ze.Money]};function zi(r,e){const t=new Map(r.map(n=>[n,e]));return Object.fromEntries(t)}function kc(r){const e=Object.values(Ze),t=new Map(e.map(n=>[n,r(n)]));return Object.fromEntries(t)}const Jk=[{id:"equal",name:"equals",aliases:zi(Hi,"is same as"),uiTypeParameterMap:kc(r=>[r]),hasParams:!0},{id:"null",name:"is empty",uiTypeParameterMap:kc(()=>[]),hasParams:!1},{id:"not_null",name:"is not empty",uiTypeParameterMap:kc(()=>[]),hasParams:!1}],xk=[...Jk,{id:"contains_case_insensitive",name:"contains",uiTypeParameterMap:{[Ze.Text]:[Ze.Text],[Ze.Email]:[Ze.Text],[Ze.Uri]:[Ze.Text]},hasParams:!0},{id:"starts_with_case_insensitive",name:"starts with",uiTypeParameterMap:{[Ze.Text]:[Ze.Text],[Ze.Email]:[Ze.Text],[Ze.Uri]:[Ze.Text]},hasParams:!0},{id:"uri_scheme_equals",name:"URI scheme is",uiTypeParameterMap:{[Ze.Uri]:[Ze.Text]},hasParams:!0},{id:"uri_authority_contains",name:"URI authority contains",uiTypeParameterMap:{[Ze.Uri]:[Ze.Text]},hasParams:!0},{id:"json_array_length_equals",name:"number of elements is",uiTypeParameterMap:{[Ze.JsonArray]:[Ze.Number]},hasParams:!0},{id:"json_array_length_greater_than",name:"number of elements >",uiTypeParameterMap:{[Ze.JsonArray]:[Ze.Number]},hasParams:!0},{id:"json_array_length_greater_or_equal",name:"number of elements >=",uiTypeParameterMap:{[Ze.JsonArray]:[Ze.Number]},hasParams:!0},{id:"json_array_length_less_than",name:"number of elements <",uiTypeParameterMap:{[Ze.JsonArray]:[Ze.Number]},hasParams:!0},{id:"json_array_length_less_or_equal",name:"number of elements <=",uiTypeParameterMap:{[Ze.JsonArray]:[Ze.Number]},hasParams:!0},{id:"json_array_not_empty",name:"array is not empty",uiTypeParameterMap:{[Ze.JsonArray]:[]},hasParams:!1},{id:"json_array_contains",name:"array contains",uiTypeParameterMap:{[Ze.JsonArray]:[Ze.Text]},hasParams:!0},{id:"email_domain_equals",name:"email domain is",uiTypeParameterMap:{[Ze.Email]:[Ze.Text]},hasParams:!0},{id:"email_domain_contains",name:"email domain contains",uiTypeParameterMap:{[Ze.Email]:[Ze.Text]},hasParams:!0},{id:"lesser",name:"is lesser than",aliases:zi(Hi,"is before"),uiTypeParameterMap:ea,hasParams:!0},{id:"greater",name:"is greater than",aliases:zi(Hi,"is after"),uiTypeParameterMap:ea,hasParams:!0},{id:"lesser_or_equal",name:"is lesser or equal to",aliases:zi(Hi,"is before or same as"),uiTypeParameterMap:ea,hasParams:!0},{id:"greater_or_equal",name:"is greater or equal to",aliases:zi(Hi,"is after or same as"),uiTypeParameterMap:ea,hasParams:!0}];function e5(r){const e=Object.values(Ze),t=new Map;return e.forEach(n=>{t.has(n)||t.set(n,[]);const l=t.get(n);r.forEach(s=>{var i,o,a;s.uiTypeParameterMap[n]&&(l==null||l.push({id:s.id,name:(o=(i=s.aliases)==null?void 0:i[n])!=null?o:s.name,parameters:(a=s.uiTypeParameterMap[n])!=null?a:[]}))})}),t}const vH=e5(Jk),wH=e5(xk);function kH(r){var t;const e=new Map;return(t=vH.get(r))==null||t.forEach(n=>{e.set(n.id,n)}),e}function t5(r){var t;const e=new Map;return(t=wH.get(r))==null||t.forEach(n=>{e.set(n.id,n)}),e}function yH(r){const e=xk.find(t=>t.id===r);if(e)return{id:e.id,name:e.name,hasAliases:!!e.aliases,hasParams:e.hasParams}}const SH=[{id:"truncate_to_day",name:"Year, Month, Day",appliesTo:[Ze.DateTime],returns:Ze.Text},{id:"truncate_to_year",name:"Year",appliesTo:[Ze.Date,Ze.DateTime],returns:Ze.Number},{id:"truncate_to_month",name:"Year, Month",appliesTo:[Ze.Date,Ze.DateTime],returns:Ze.Text},{id:"extract_uri_scheme",name:"URI scheme",appliesTo:[Ze.Uri],returns:Ze.Text},{id:"extract_uri_authority",name:"URI Authority",appliesTo:[Ze.Uri],returns:Ze.Text},{id:"extract_email_domain",name:"Domain",appliesTo:[Ze.Email],returns:Ze.Text}];function CH(){const r=Object.values(Ze),e=new Map;return r.forEach(t=>{e.has(t)||e.set(t,[]);const n=e.get(t);SH.forEach(l=>{l.appliesTo.includes(t)&&(n==null||n.push({id:l.id,name:l.name,returns:l.returns,possibleReturnValues:l.possibleReturnValues}))})}),e}const TH=CH();function n5(r){var e;return(e=TH.get(r))!=null?e:[]}const EH=["distinct_aggregate_to_array","count","sum","median","mode","percentage_true","max","min","mean","peak_time","peak_month"];function lg(r){return Object.fromEntries(Object.values(Ze).map(e=>[e,r]))}function ta(){return Object.fromEntries(Object.values(Ze).map(r=>[r,r]))}const DH={distinct_aggregate_to_array:{label:"List",inputOutputTypeMap:lg(Ze.Array)},count:{label:"Count",inputOutputTypeMap:lg(Ze.Number)},sum:{label:"Sum",inputOutputTypeMap:{[Ze.Number]:Ze.Number,[Ze.Money]:Ze.Money,[Ze.Duration]:Ze.Duration}},median:{label:"Median",inputOutputTypeMap:ta()},mode:{label:"Mode",inputOutputTypeMap:ta()},percentage_true:{label:"Percentage True",inputOutputTypeMap:{[Ze.Boolean]:Ze.Number}},max:{label:"Max",inputOutputTypeMap:ta()},min:{label:"Min",inputOutputTypeMap:ta()},mean:{label:"Mean",inputOutputTypeMap:{[Ze.Number]:Ze.Number,[Ze.Money]:Ze.Money,[Ze.Duration]:Ze.Duration}},peak_time:{label:"Peak time",inputOutputTypeMap:{[Ze.DateTime]:Ze.Time,[Ze.Time]:Ze.Time}},peak_month:{label:"Peak month",inputOutputTypeMap:{[Ze.DateTime]:Ze.Number,[Ze.Date]:Ze.Number}}};function IH(r){const e=[];for(const t of EH){const{label:n,inputOutputTypeMap:l}=DH[t],s=l[r];s&&e.push({id:t,label:n,inputType:r,outputType:s})}return e}function r5(r){return r.length>1?r.replace(/s$/i,""):r}function l5(r){var e,t;return((t=(e=r[0])==null?void 0:e.toLocaleUpperCase())!=null?t:"")+r.slice(1)}function MH(r){return r.split(" ").map(l5).join(" ")}function s5(r){if(typeof r=="number")return r;if(r instanceof Array)return r.length;if("size"in r)return r.size;if(typeof r=="object"&&typeof r[Symbol.iterator]=="function"){let e=0;for(const t of r)e+=1;return e}return 0}function AH(r,e="en-US"){return typeof Intl=="object"&&typeof Intl.PluralRules=="function"?new Intl.PluralRules(e).select(r):r===0?"zero":r===1?"one":r===2?"two":"many"}function PH(r,e="en-US"){return AH(s5(r),e)}function Sr(r,e){return{zero:e,one:r,two:e,few:e,many:e,other:e}}const RH={cells:Sr("cell","cells"),columns:Sr("column","columns"),explorations:Sr("exploration","explorations"),filters:Sr("filter","filters"),matches:Sr("match","matches"),records:Sr("record","records"),rows:Sr("row","rows"),results:Sr("result","results"),schemas:Sr("schema","schemas"),tables:Sr("table","tables"),times:Sr("time","times"),values:Sr("value","values")};function OH(r,e="lower"){switch(e){case"title":return MH(r);case"sentence":return l5(r);default:return r}}function i5(r,e,t="lower"){const n=RH[e][PH(r)];return OH(n,t)}function LH(r,e,t){if(r===0){if(e==="numeric")return String(r);if("word"in e)return e.word;An(e)}if(r===1){if(t==="numeric")return String(r);if(t==="hidden")return"";if("word"in t)return t.word;An(t)}return String(r)}function df(r,e,{casing:t,countWhenZero:n="numeric",countWhenSingular:l="numeric"}={}){const s=s5(r),i=LH(s,n,l),o=i5(s,e,t);return[i,o].filter(Boolean).join(" ")}const o5=new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],["'","&#39;"],['"',"&quot;"]]),NH=new RegExp(`[${[...o5.keys()].join("")}]`,"g");function FH(r){var e;return(e=o5.get(r))!=null?e:""}function HH(r){return r.replace(NH,FH)}const zH=/\{[0-9_a-z]+\}/g,a5="\uF000",u5=new RegExp(a5,"g");function c5(r){return r===void 0?"":r===null?a5:typeof r=="string"?r:JSON.stringify(r)}function f5(r,e){function t(n){var l;return(l=e.get(n.slice(1,-1)))!=null?l:n}return r.replace(zH,t)}function hm(r){const e=Object.entries(r);return new yt(e.map(([t,n])=>[t,c5(n)]))}function VH(r){const e=Object.entries(r.data);return new yt(e.map(([t,n])=>[t,f5(r.template,hm(n))]))}function qH(r,e){return r.withEntries(e)}function bm(r){return new yt(r.map(e=>[String(e.column),VH(e)]))}function sg(r,e){return r.withEntries(e,qH)}function m5(r,e=c5){return new yt([...r].map(([t,n])=>[String(t),e(n)]))}function Ou({template:r,inputData:e,transitiveData:t}){function n(l){var o;const s=e.get(l);if(s===void 0)return;const i=t.get(l);return i===void 0?s:(o=i.get(s))!=null?o:s}return f5(r,{get:n})}function BH({template:r,record:e,transitiveData:t}){const l=Object.entries(e).map(([i,o])=>[Number(i),o]),s=m5(l);return Ou({template:r,inputData:s,transitiveData:t})}const UH="NULL",WH='<span class="postgres-keyword">NULL</span>';function jH(r){return r.replace(u5,UH)}function ig(r){return HH(r).replace(u5,WH)}class d5{constructor(){ce(this,"fetched",xe(new yt));ce(this,"bespoke",xe(new yt));ce(this,"combined");this.combined=at([this.bespoke,this.fetched],([e,t])=>sg(e,t))}subscribe(e,t){return this.combined.subscribe(e,t)}setFetchedSummaries(e){this.fetched.set(e)}addBespokeRecordSummary({columnId:e,recordId:t,recordSummary:n}){const l=new yt([[e,new yt([[t,n]])]]);this.bespoke.update(s=>sg(s,l))}}const Ha=-1,_f=-2,pf="::";function za(r,e){return`${String(r)}${pf}${e}`}function Wi(r){return r.split(pf).slice(0,-1).join(pf)}const YH="This row contains a cell with an error.";function GH({cellClientSideErrors:r,cellModificationStatus:e,rowCreationStatus:t,rowDeletionStatus:n}){const l=[...r.keys()].map(Wi),s=[...e].reduce((c,[f,m])=>m.state==="failure"?c.with(Wi(f)):c,new rl),i=new yt([...l,...s].map(c=>[c,{errorsFromWholeRowAndCells:[YH]}])),o=t.withEntries(n).mapValues(c=>({wholeRowState:c.state,errorsFromWholeRowAndCells:c.state==="failure"?c.errors:[]}));function a(c,f){var m,d,p;return{wholeRowState:(m=c.wholeRowState)!=null?m:f.wholeRowState,errorsFromWholeRowAndCells:[...(d=c.errorsFromWholeRowAndCells)!=null?d:[],...(p=f.errorsFromWholeRowAndCells)!=null?p:[]]}}function u(c){return{errorsFromWholeRowAndCells:[],...c}}return i.withEntries(o,a).mapValues(u)}function KH(r){const e=sH(r.cellModificationStatus.values(),r.rowCreationStatus.values(),r.rowDeletionStatus.values());return oL(e)}function XH(r,e){const t=[];return r===null&&!e.nullable&&t.push("Cell value cannot be NULL for this column."),r===void 0&&!e.default&&t.push("This column requires an initial value."),t}function QH({cellValue:r,column:e,cellKey:t,cellClientSideErrors:n}){const l=XH(r,e);l.length?n.set(t,l):n.delete(t)}function ZH({row:r,rowKey:e,columns:t,cellClientSideErrors:n}){t.forEach(l=>{QH({cellValue:r.record[String(l.id)],column:l,cellKey:za(e,l.id),cellClientSideErrors:n})})}function JH(r){var n;const t={...{...r.pagination.recordsRequestParams(),...r.sorting.recordsRequestParamsIncludingGrouping(r.grouping),...r.grouping.recordsRequestParams(),...r.filtering.recordsRequestParams(),...r.searchFuzzy.recordsRequestParams()},...(n=r.shareConsumer)==null?void 0:n.getQueryParams()};return ik(t)}function xH(r){return{count:r.count,eqValue:r.eq_value,firstValue:r.first_value,lastValue:r.last_value,resultIndices:r.result_indices}}function ez(r){var e,t;return{columnIds:r.columns,preprocIds:(e=r.preproc)!=null?e:[],mode:r.mode,groups:((t=r.groups)!=null?t:[]).map(xH)}}function Br(r){return"record"in r}function $m(r){return"record"in r&&"isNew"in r&&r.isNew}function _5(r){return"isNewHelpText"in r}function ji(r){return"group"in r}function Ur(r){return"isAddPlaceholder"in r}function Os(r){return $m(r)&&!Ur(r)}function tz(r){return r.filter(e=>Br(e))}function og(r){return Br(r)&&Object.entries(r.record).length>0}function ml(r,e){if(Br(r)&&e!==void 0){const t=r.record[e];if(kn(t))return String(t)}return r.identifier}function vm(r,e){const t=e.find(l=>l.primary_key);if(!t)throw new Error("No primary key column found.");const n=r[t.id];if(!(typeof n=="string"||typeof n=="number"))throw new Error("Primary key value is not a string or number.");return n}function Va(r,e,t){return`__${e}_${r}_${t}`}function ag(r,e,t){return{record:r,identifier:Va("normal",t,e),rowIndex:e}}function nz({records:r,offset:e,grouping:t}){var s;if(((s=t==null?void 0:t.columnIds)!=null?s:[]).length>0){const i=[];let o=0;return t==null||t.groups.forEach((a,u)=>{const c={};t.columnIds.forEach(f=>{a.eqValue[f]!==void 0?c[f]=a.eqValue[f]:c[f]=a.firstValue[f]}),i.push({group:a,identifier:Va("groupHeader",e,u),groupValues:c}),a.resultIndices.forEach(f=>{const m=r[f];i.push(ag(m,o,e)),o+=1})}),i}return r.map((i,o)=>ag(i,o,e))}class rz{constructor({tableId:e,meta:t,columnsDataStore:n,contextualFilters:l,shareConsumer:s}){ce(this,"tableId");ce(this,"url");ce(this,"meta");ce(this,"columnsDataStore");ce(this,"state");ce(this,"savedRecords");ce(this,"savedRecordRowsWithGroupHeaders");ce(this,"newRecords");ce(this,"recordSummaries",new d5);ce(this,"grouping");ce(this,"totalCount");ce(this,"error");ce(this,"promise");ce(this,"createPromises");ce(this,"updatePromises");ce(this,"fetchCallback");ce(this,"requestParamsUnsubscriber");ce(this,"contextualFilters");ce(this,"shareConsumer");this.tableId=e,this.shareConsumer=s,this.state=xe(rn.Loading),this.savedRecordRowsWithGroupHeaders=xe([]),this.newRecords=xe([]),this.savedRecords=at(this.savedRecordRowsWithGroupHeaders,i=>i.filter(o=>!ji(o))),this.grouping=xe(void 0),this.totalCount=xe(void 0),this.error=xe(void 0),this.meta=t,this.columnsDataStore=n,this.contextualFilters=l,this.url=`/api/db/v0/tables/${this.tableId}/records/`,this.fetch(),this.requestParamsUnsubscriber=this.meta.recordsRequestParamsData.subscribe(()=>{this.fetch()})}async fetch(e=!1){var n,l;(n=this.promise)==null||n.cancel();const{offset:t}=Ve(this.meta.pagination);this.savedRecordRowsWithGroupHeaders.update(s=>{let i=[...s];i.length=Math.min(i.length,Ve(this.meta.pagination).size);let o=-1;return i=i.map(a=>(o+=1,!e||!a?{state:"loading",identifier:Va("dummy",t,o),rowIndex:o,record:{}}:a)),i}),this.error.set(void 0),e||(this.state.set(rn.Loading),this.newRecords.set([]),this.meta.clearAllStatusesAndErrors());try{const s=Ve(this.meta.recordsRequestParamsData),i=[...this.contextualFilters].map(([d,p])=>({columnId:d,conditionId:"equal",value:p})),o=JH({...s,filtering:s.filtering.withEntries(i),shareConsumer:this.shareConsumer});this.promise=bn(`${this.url}?${o}`);const a=await this.promise,u=a.count||0,c=a.grouping?ez(a.grouping):void 0;a.preview_data&&this.recordSummaries.setFetchedSummaries(bm(a.preview_data));const f=nz({records:a.results,offset:t,grouping:c}),m={state:rn.Done,savedRecordRowsWithGroupHeaders:f,grouping:c,totalCount:u};return this.savedRecordRowsWithGroupHeaders.set(f),this.state.set(rn.Done),this.grouping.set(c),this.totalCount.set(u),this.error.set(void 0),(l=this.fetchCallback)==null||l.call(this,m),m}catch(s){this.state.set(rn.Error),this.error.set(s instanceof Error?s.message:"Unable to load records")}}async deleteSelected(e){const t=this.getRecordRows(),n=Ve(this.columnsDataStore.pkColumn),l=[],s=[];e.forEach(d=>{const p=t[d];if(p){const h=ml(p,n==null?void 0:n.id);(n==null?void 0:n.id)&&kn(p.record[n==null?void 0:n.id])?l.push(h):s.push(h)}});const i=[...l,...s];if(i.length===0)return;this.meta.rowDeletionStatus.setMultiple(i,{state:"processing"});const o=new Set,a=new Map;s.length>0&&s.forEach(d=>o.add(d));const u=l;let c=o.size>0;if(u.length>0){const d=[...u],p=`/api/ui/v0/tables/${this.tableId}/records/delete/`;try{await cl(p,{pks:d}),u.forEach(h=>o.add(h))}catch(h){a.set(u.join(","),en(h))}c=!0}const f=Ve(this.savedRecords),m=new Set(f.map(d=>ml(d,n==null?void 0:n.id)));if(this.newRecords.set([]),c&&await this.fetch(!0),this.meta.rowCreationStatus.delete(Array.from(m,String)),this.meta.clearAllStatusesAndErrorsForRows([...o]),this.meta.rowDeletionStatus.setEntries([...a.entries()].map(([d,p])=>[d,{state:"failure",errors:[p]}])),this.meta.rowDeletionStatus.clear(),a.size>0){const d=`Unable to delete ${i5(u,"rows")}.`,p=[...a.values()].join(`
`);throw new Error(`${d} ${p}`)}}async updateCell(e,t){var u,c;const{record:n}=e,l=Ve(this.columnsDataStore.pkColumn);if(l===void 0)return console.error("Unable to update record for a row without a primary key"),e;const s=n[l.id];if(s===void 0)return console.error("Unable to update record for a row with a missing primary key value"),e;const i=ml(e,l.id),o=za(i,t.id);this.meta.cellModificationStatus.set(o,{state:"processing"}),(c=(u=this.updatePromises)==null?void 0:u.get(o))==null||c.cancel();const a=Ar(`${this.url}${String(s)}/`,{[t.id]:n[t.id]});this.updatePromises||(this.updatePromises=new Map),this.updatePromises.set(o,a);try{const f=await a;return this.meta.cellModificationStatus.set(o,{state:"success"}),{...e,record:f.results[0]}}catch(f){this.meta.cellModificationStatus.set(o,{state:"failure",errors:[`Unable to save cell. ${en(f)}`]})}finally{this.updatePromises.get(o)===a&&this.updatePromises.delete(o)}return e}getNewEmptyRecord(){const{offset:e}=Ve(this.meta.pagination),t=this.getRecordRows(),n=Va("new",e,Il());return{record:Object.fromEntries(Ve(this.columnsDataStore.columns).filter(i=>i.default===null).map(i=>[String(i.id),null])),identifier:n,isNew:!0,rowIndex:t.length}}async createRecord(e){var a,u;const t=Ve(this.columnsDataStore.pkColumn),n=Ve(this.columnsDataStore.columns),l=ml(e,t==null?void 0:t.id);if(ZH({row:e,rowKey:l,columns:n,cellClientSideErrors:this.meta.cellClientSideErrors}),Ve(this.meta.rowsWithClientSideErrors).has(l))return e;const s=ml(e,t==null?void 0:t.id);this.meta.rowCreationStatus.set(s,{state:"processing"}),(u=(a=this.createPromises)==null?void 0:a.get(s))==null||u.cancel();const i={...Object.fromEntries(this.contextualFilters),...e.record},o=cn(this.url,i);this.createPromises||(this.createPromises=new Map),this.createPromises.set(s,o);try{const f=(await o).results[0];let m={...e,record:f};if(Ur(m)){const{isAddPlaceholder:p,...h}=m;m=h}const d=ml(m,t==null?void 0:t.id);return this.meta.rowCreationStatus.delete(s),this.meta.rowCreationStatus.set(d,{state:"success"}),this.newRecords.update(p=>p.map(h=>h.identifier===e.identifier?m:h)),this.totalCount.update(p=>(p!=null?p:0)+1),m}catch(c){this.meta.rowCreationStatus.set(s,{state:"failure",errors:[en(c)]})}finally{this.createPromises.get(s)===o&&this.createPromises.delete(s)}return e}async createOrUpdateRecord(e,t){const n=Ve(this.columnsDataStore.pkColumn);!Ve(this.newRecords).find(i=>i.identifier===e.identifier)&&Ur(e)&&this.newRecords.update(i=>{const{isAddPlaceholder:o,...a}=e;return[...i,a]});let s;return(n==null?void 0:n.id)&&$m(e)&&e.record[n==null?void 0:n.id]===void 0?s=await this.createRecord(e):s=await this.updateCell(e,t),s}async addEmptyRecord(){const e=this.getNewEmptyRecord();this.newRecords.update(t=>t.concat(e)),await this.createRecord(e)}getRecordRows(){return[...Ve(this.savedRecords),...Ve(this.newRecords)]}destroy(){var e;(e=this.promise)==null||e.cancel(),this.promise=void 0,this.requestParamsUnsubscriber()}}function lz(r){return{get(e){const t=Su(r,e);return bn(t)},add(e){return cn(r,e)},remove(e){return cl(`${r}${e}/`)},update(e,t){return Ar(`${r}${e}/`,t)}}}class wm extends Rw{constructor({tableId:t,hiddenColumns:n,shareConsumer:l}){super();ce(this,"tableId");ce(this,"promise");ce(this,"api");ce(this,"fetchedColumns",xe([]));ce(this,"fetchStatus",xe(void 0));ce(this,"hiddenColumns");ce(this,"columns");ce(this,"pkColumn");ce(this,"shareConsumer");this.tableId=t,this.shareConsumer=l,this.api=lz(`/api/db/v0/tables/${this.tableId}/columns/`),this.hiddenColumns=new fa(n),this.columns=at([this.fetchedColumns,this.hiddenColumns],([s,i])=>s.filter(o=>!i.has(o.id))),this.pkColumn=at(this.fetchedColumns,s=>s.find(i=>i.primary_key)),this.fetch()}async fetch(){var t,n;try{this.fetchStatus.set({state:"processing"}),(t=this.promise)==null||t.cancel(),this.promise=this.api.get({limit:500,...(n=this.shareConsumer)==null?void 0:n.getQueryParams()});const s=(await this.promise).results;return this.fetchedColumns.set(s),this.fetchStatus.set({state:"success"}),await this.dispatch("columnsFetched",s),s}catch(l){this.fetchStatus.set({state:"failure",errors:[en(l)]});return}finally{this.promise=void 0}}async add(t){const n=await this.api.add(t);return await this.dispatch("columnAdded",n),await this.fetch(),n}async rename(t,n){await this.api.update(t,{name:n}),await this.dispatch("columnRenamed",t)}async updateDescription(t,n){await this.api.update(t,{description:n}),this.fetchedColumns.update(l=>l.map(s=>s.id===t?{...s,description:n}:s))}async setNullabilityOfColumn(t,n){if(t.primary_key)throw new Error(`Column "${t.name}" cannot allow NULL because it is a primary key.`);await this.api.update(t.id,{nullable:n}),await this.fetch()}async patch(t,n){const l=await this.api.update(t,{...n});return await this.fetch(),await this.dispatch("columnPatched",l),l}destroy(){var t;(t=this.promise)==null||t.cancel(),this.promise=void 0,super.destroy()}async deleteColumn(t){await this.api.remove(t),await this.dispatch("columnDeleted",t),await this.fetch()}}const sz=500;class Gr{constructor({page:e,size:t}={}){ce(this,"page");ce(this,"size");ce(this,"offset");ce(this,"leftBound");ce(this,"rightBound");this.page=e!=null?e:1,this.size=t!=null?t:sz,this.offset=(this.page-1)*this.size,this.leftBound=this.offset+1,this.rightBound=this.offset+this.size}recordsRequestParams(){return{limit:this.size,offset:this.offset}}terse(){return[this.page,this.size]}static fromTerse(e){return new Gr({page:e[0],size:e[1]})}}class Lu{static encode(e){return btoa(unescape(encodeURIComponent(e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}static decode(e){const t=e.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(escape(atob(t)))}}function iz(r){const e=[{column_id:[r.columnId]}];return typeof r.value<"u"&&e.push({literal:[r.value]}),{[r.conditionId]:e}}function oz(r){return[r.columnId,r.conditionId,r.value]}function az(r){return{columnId:r[0],conditionId:r[1],value:r[2]}}const km=["and","or"],gf=km[0];class _l{constructor({combination:e,entries:t}={}){ce(this,"combination");ce(this,"entries");this.combination=e!=null?e:gf,this.entries=t!=null?t:[]}withEntries(e){return new _l({combination:this.combination,entries:[...this.entries,...e]})}withEntry(e){return this.withEntries([e])}withoutEntry(e){return new _l({combination:this.combination,entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new _l({combination:this.combination,entries:this.entries.filter(t=>!e.includes(t.columnId))})}withCombination(e){return new _l({combination:e,entries:this.entries})}equals(e){if(this.entries.length!==e.entries.length||this.combination!==e.combination)return!1;for(let t=0;t<e.entries.length;t+=1){const n=this.entries[t],l=e.entries[t];if(n.columnId!==l.columnId||n.conditionId!==l.conditionId||n.value!==l.value)return!1}return!0}recordsRequestParams(){if(!this.entries.length)return{};const e=this.entries.map(iz);return e.length===1?{filter:e[0]}:{filter:this.combination==="and"?{and:e}:{or:e}}}terse(){return[this.combination,this.entries.map(oz)]}static fromTerse(e){var t;return new _l({combination:(t=km.find(n=>n===e[0]))!=null?t:gf,entries:e[1].map(az)})}}class dl{constructor({entries:e}={}){ce(this,"entries");this.entries=e!=null?e:[]}hasColumn(e){return this.entries.some(t=>t.columnId===e)}withEntry(e){return new dl({entries:[...this.entries,e]})}withReplacedEntry(e,t){return new dl({entries:this.entries.map((n,l)=>l===e?t:n)})}withoutEntry(e){return new dl({entries:[...this.entries.slice(0,e),...this.entries.slice(e+1)]})}withoutColumns(e){return new dl({entries:this.entries.filter(t=>!e.includes(t.columnId))})}withPreprocForColumn(e,t){return new dl({entries:this.entries.map(n=>n.columnId===e?{columnId:e,preprocFnId:t}:n)})}recordsRequestParams(){var t;if(!this.entries.length)return{};const e={columns:[],preproc:[]};return this.entries.forEach(n=>{var l,s;e.columns.push(n.columnId),(s=e.preproc)==null||s.push((l=n.preprocFnId)!=null?l:null)}),(t=e.preproc)!=null&&t.every(n=>!kn(n))&&(e.preproc=null),{grouping:e}}terse(){return this.entries.map(e=>e.preprocFnId?[e.columnId,e.preprocFnId]:[e.columnId])}static fromTerse(e){return new dl({entries:e.map(t=>{var n;return{columnId:t[0],preprocFnId:(n=t[1])!=null?n:void 0}})})}}const p5=["ASCENDING","DESCENDING"];function g5(r,e){return e?{ASCENDING:Ve(ge)("ascending_id"),DESCENDING:Ve(ge)("descending_id")}:["string","uri"].includes(r)?{ASCENDING:"A-Z",DESCENDING:"Z-A"}:["date","datetime","time"].includes(r)?{ASCENDING:Ve(ge)("oldest_to_newest_sort"),DESCENDING:Ve(ge)("newest_to_oldest_sort")}:["number"].includes(r)?{ASCENDING:"0-9",DESCENDING:"9-0"}:{ASCENDING:Ve(ge)("ascending"),DESCENDING:Ve(ge)("descending")}}function uz(r){return p5.includes(r)}const cz=new Map([["ASCENDING","asc"],["DESCENDING","desc"]]);function fz(r){const e=cz.get(r);if(!e)throw new Error(`Invalid sort direction: ${r}`);return e}class ds extends yt{constructor(e=[]){[...e].forEach(([,t])=>{if(!uz(t))throw new Error(`Invalid sort direction: ${t}`)}),super(e)}recordsRequestParams(){const e=[...this].map(([t,n])=>({field:t,direction:fz(n)}));return e.length?{order_by:e}:{}}recordsRequestParamsIncludingGrouping(e){return new ds(e.entries.map(n=>[n.columnId,"ASCENDING"])).withEntries(this).recordsRequestParams()}terse(){return[...this].map(([e,t])=>[e,t])}static fromTerse(e){return new ds(e.map(([t,n])=>[t,n]))}}function mz(r){return typeof r=="string"?r.trim().length>0:r!=null}class dz extends yt{constructor(e=[]){super(e),this.valueIsValid=mz}recordsRequestParams(){return this.size===0?{}:{search_fuzzy:[...this].map(([e,t])=>({field:e,literal:t}))}}}function ym(r){var e,t,n,l;return{pagination:(e=r==null?void 0:r.pagination)!=null?e:new Gr,sorting:(t=r==null?void 0:r.sorting)!=null?t:new ds,grouping:(n=r==null?void 0:r.grouping)!=null?n:new dl,filtering:(l=r==null?void 0:r.filtering)!=null?l:new _l}}function _z(r){return{pagination:Gr.fromTerse(r[0]),sorting:ds.fromTerse(r[1]),grouping:dl.fromTerse(r[2]),filtering:_l.fromTerse(r[3])}}function pz(r){const e=ym(r);return[e.pagination.terse(),e.sorting.terse(),e.grouping.terse(),e.filtering.terse()]}function h5(r){return Lu.encode(JSON.stringify(pz(r)))}function gz(r){return _z(JSON.parse(Lu.decode(r)))}const hz=h5(ym());class vs{constructor(e){ce(this,"pagination");ce(this,"sorting");ce(this,"grouping");ce(this,"filtering");ce(this,"searchFuzzy");ce(this,"cellClientSideErrors",new as);ce(this,"rowsWithClientSideErrors");ce(this,"cellModificationStatus",new as);ce(this,"rowDeletionStatus",new as);ce(this,"rowCreationStatus",new as);ce(this,"rowStatus");ce(this,"sheetState");ce(this,"serialization");ce(this,"recordsRequestParamsData");const t=ym(e);this.pagination=xe(t.pagination),this.sorting=xe(t.sorting),this.grouping=xe(t.grouping),this.filtering=xe(t.filtering),this.searchFuzzy=xe(new dz),this.rowsWithClientSideErrors=at(this.cellClientSideErrors,n=>new rl([...n.keys()].map(Wi))),this.rowStatus=at([this.cellClientSideErrors,this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],([n,l,s,i])=>GH({cellClientSideErrors:n,cellModificationStatus:l,rowDeletionStatus:s,rowCreationStatus:i})),this.sheetState=at([this.cellModificationStatus,this.rowDeletionStatus,this.rowCreationStatus],([n,l,s])=>KH({cellModificationStatus:n,rowDeletionStatus:l,rowCreationStatus:s})),this.serialization=at([this.pagination,this.sorting,this.grouping,this.filtering],([n,l,s,i])=>{const o=h5({pagination:n,sorting:l,grouping:s,filtering:i});return o===hz?"":o}),this.recordsRequestParamsData=at([this.pagination,this.sorting,this.grouping,this.filtering,this.searchFuzzy],([n,l,s,i,o])=>({pagination:n,sorting:l,grouping:s,filtering:i,searchFuzzy:o}))}clearAllStatusesAndErrorsForRows(e){this.rowCreationStatus.delete(e),this.rowDeletionStatus.delete(e);const t=new Set(e);this.cellClientSideErrors.delete([...this.cellClientSideErrors.getKeys()].filter(([n])=>t.has(Wi(n)))),this.cellModificationStatus.delete([...this.cellModificationStatus.getKeys()].filter(([n])=>t.has(Wi(n))))}clearAllStatusesAndErrors(){this.rowCreationStatus.clear(),this.rowDeletionStatus.clear(),this.cellClientSideErrors.clear(),this.cellModificationStatus.clear()}static fromSerialization(e){try{return new vs(gz(e))}catch(t){return}}}const bz=160;class $z{constructor(e,t,n){ce(this,"meta");ce(this,"columnsDataStore");ce(this,"recordsData");ce(this,"scrollOffset");ce(this,"horizontalScrollOffset");ce(this,"isTableInspectorVisible");ce(this,"customizedColumnWidths");ce(this,"columnPlacements");ce(this,"rowWidth");ce(this,"displayableRecords");this.meta=e,this.columnsDataStore=t,this.recordsData=n,this.horizontalScrollOffset=xe(0),this.scrollOffset=xe(0),this.isTableInspectorVisible=xe(!0),this.customizedColumnWidths=new as,this.columnPlacements=at([this.columnsDataStore.columns,this.customizedColumnWidths],([i,o])=>{let a=0;const u=new Map;return i.forEach(({id:c})=>{var m;const f=(m=o.get(c))!=null?m:bz;u.set(c,{width:f,left:a}),a+=f}),u}),this.rowWidth=at(this.columnPlacements,i=>[...i.values()].reduce((o,a)=>o+a.width,0));const{savedRecordRowsWithGroupHeaders:l,newRecords:s}=this.recordsData;this.displayableRecords=at([l,s],([i,o])=>{let a=i;const u=tz(a);return o.length>0&&(a=a.concat({identifier:"__new_help_text",isNewHelpText:!0}).concat(o)),a=a.concat({...this.recordsData.getNewEmptyRecord(),rowIndex:u.length+o.length,isAddPlaceholder:!0}),a})}}const b5=160,$5={};function vz(r,e,t,n){let l=0;const s=new Map;r.forEach(o=>{var c;const a=e(o),u=(c=t.get(a))!=null?c:b5;s.set(a,{left:l,width:u,styleString:`width: ${u}px; left: ${l}px;`}),l+=u});const i=l+n;return{columnStyleMap:s,rowWidth:i}}function wz(r){xn($5,r)}function $i(){return Fn($5)}function ug(r){let e;const t=r[17].default,n=Ie(t,r,r[16],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ae(n,t,l,l[16],e?Me(t,l[16],s,null):Pe(l[16]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function kz(r){let e,t,n,l,s=r[0].length&&ug(r);return{c(){e=M("div"),s&&s.c(),D(e,"class","sheet svelte-ldl9os"),D(e,"style",r[4]),re(e,"has-border",r[3]),re(e,"uses-virtual-list",r[1]),re(e,"set-to-row-width",r[2])},m(i,o){w(i,e,o),s&&s.m(e,null),t=!0,n||(l=[He(e,"click",r[18]),He(e,"focusin",r[5]),He(e,"focusout",r[6])],n=!0)},p(i,[o]){i[0].length?s?(s.p(i,o),o&1&&_(s,1)):(s=ug(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K()),(!t||o&16)&&D(e,"style",i[4]),(!t||o&8)&&re(e,"has-border",i[3]),(!t||o&2)&&re(e,"uses-virtual-list",i[1]),(!t||o&4)&&re(e,"set-to-row-width",i[2])},i(i){t||(_(s),t=!0)},o(i){g(s),t=!1},d(i){i&&v(e),s&&s.d(),n=!1,It(l)}}}function yz(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=xO();let{columns:u}=e,{usesVirtualList:c=!1}=e,{restrictWidthToRowWidth:f=!1}=e,{hasBorder:m=!1}=e,{hasPaddingRight:d=!1}=e,{clipboardHandler:p=void 0}=e,{getColumnIdentifier:h}=e,{scrollOffset:b=0}=e,{horizontalScrollOffset:$=0}=e,{paddingRight:k=d?100:0}=e,{columnWidths:T=new yt}=e;function E(L){const U=T.get(L);return typeof U<"u"?U:u.some(H=>h(H)===L)?b5:0}const A={getColumnWidth:E,setColumnWidth:(L,U)=>{t(9,T=T.with(L,U))},resetColumnWidth:L=>{t(9,T=T.without(L))},setHorizontalScrollOffset:L=>{t(8,$=L)},setScrollOffset:L=>{t(7,b=L)}},P={columnStyleMap:xe(n),rowWidth:xe(l),horizontalScrollOffset:xe($),scrollOffset:xe(b),paddingRight:xe(k)};wz({stores:P,api:A});function O(){a==null||a.set(p)}function R(){a==null||a.set(void 0)}function F(L){ye.call(this,r,L)}return r.$$set=L=>{"columns"in L&&t(0,u=L.columns),"usesVirtualList"in L&&t(1,c=L.usesVirtualList),"restrictWidthToRowWidth"in L&&t(2,f=L.restrictWidthToRowWidth),"hasBorder"in L&&t(3,m=L.hasBorder),"hasPaddingRight"in L&&t(10,d=L.hasPaddingRight),"clipboardHandler"in L&&t(11,p=L.clipboardHandler),"getColumnIdentifier"in L&&t(12,h=L.getColumnIdentifier),"scrollOffset"in L&&t(7,b=L.scrollOffset),"horizontalScrollOffset"in L&&t(8,$=L.horizontalScrollOffset),"paddingRight"in L&&t(13,k=L.paddingRight),"columnWidths"in L&&t(9,T=L.columnWidths),"$$scope"in L&&t(16,o=L.$$scope)},r.$$.update=()=>{r.$$.dirty&12801&&t(15,{columnStyleMap:n,rowWidth:l}=vz(u,h,T,k),n,(t(14,l),t(0,u),t(12,h),t(9,T),t(13,k))),r.$$.dirty&16384&&P.rowWidth.set(l),r.$$.dirty&32768&&P.columnStyleMap.set(n),r.$$.dirty&256&&P.horizontalScrollOffset.set($),r.$$.dirty&128&&P.scrollOffset.set(b),r.$$.dirty&8192&&P.paddingRight.set(k),r.$$.dirty&16388&&t(4,s=f?`width:${l}px;`:void 0)},[u,c,f,m,s,O,R,b,$,T,d,p,h,k,l,n,o,i,F]}class Sm extends x{constructor(e){super(),J(this,e,yz,kz,Q,{columns:0,usesVirtualList:1,restrictWidthToRowWidth:2,hasBorder:3,hasPaddingRight:10,clipboardHandler:11,getColumnIdentifier:12,scrollOffset:7,horizontalScrollOffset:8,paddingRight:13,columnWidths:9})}}function Sz(r){let e,t,n=`${r[2]}px`,l;const s=r[7].default,i=Ie(s,r,r[6],null);return{c(){e=M("div"),t=M("div"),i&&i.c(),D(t,"class","svelte-1w4nhl1"),Cn(t,"width",n,!1),D(e,"data-sheet-element","header"),D(e,"class","svelte-1w4nhl1"),re(e,"inherit-font-style",r[0])},m(o,a){w(o,e,a),I(e,t),i&&i.m(t,null),r[8](e),l=!0},p(o,[a]){i&&i.p&&(!l||a&64)&&Ae(i,s,o,o[6],l?Me(s,o[6],a,null):Pe(o[6]),null),a&4&&n!==(n=`${o[2]}px`)&&Cn(t,"width",n,!1),(!l||a&1)&&re(e,"inherit-font-style",o[0])},i(o){l||(_(i,o),l=!0)},o(o){g(i,o),l=!1},d(o){o&&v(e),i&&i.d(o),r[8](null)}}}function Cz(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const{stores:o,api:a}=$i(),{horizontalScrollOffset:u}=o;Z(r,u,b=>t(5,n=b));const{rowWidth:c}=o;Z(r,c,b=>t(2,l=b));let{inheritFontStyle:f=!1}=e,m;function d(b){m&&t(1,m.scrollLeft=b,m)}function p(b){n!==b&&a.setHorizontalScrollOffset(b)}_n(()=>{d(n);const b=$=>{const{scrollLeft:k}=$.target;p(k)};return m.addEventListener("scroll",b),()=>{m.removeEventListener("scroll",b)}});function h(b){Te[b?"unshift":"push"](()=>{m=b,t(1,m)})}return r.$$set=b=>{"inheritFontStyle"in b&&t(0,f=b.inheritFontStyle),"$$scope"in b&&t(6,i=b.$$scope)},r.$$.update=()=>{r.$$.dirty&32&&d(n)},[f,m,l,u,c,n,i,s,h]}class Cm extends x{constructor(e){super(),J(this,e,Cz,Sz,Q,{inheritFontStyle:0})}}const Tz=r=>({htmlAttributes:r&1,style:r&2}),cg=r=>{var e;return{htmlAttributes:r[0],style:(e=r[1])==null?void 0:e.styleString}};function Ez(r){let e;const t=r[8].default,n=Ie(t,r,r[7],cg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&131)&&Ae(n,t,l,l[7],e?Me(t,l[7],s,Tz):Pe(l[7]),cg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Dz(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const{stores:a}=$i(),{columnStyleMap:u}=a;Z(r,u,d=>t(6,s=d));let{columnIdentifierKey:c}=e,{isStatic:f=!1}=e,{isControlCell:m=!1}=e;return r.$$set=d=>{"columnIdentifierKey"in d&&t(3,c=d.columnIdentifierKey),"isStatic"in d&&t(4,f=d.isStatic),"isControlCell"in d&&t(5,m=d.isControlCell),"$$scope"in d&&t(7,o=d.$$scope)},r.$$.update=()=>{r.$$.dirty&72&&t(1,n=s.get(c)),r.$$.dirty&48&&t(0,l={"data-sheet-element":"cell","data-cell-static":f?!0:void 0,"data-cell-control":m?!0:void 0})},[l,n,u,c,f,m,s,o,i]}class Qr extends x{constructor(e){super(),J(this,e,Dz,Ez,Q,{columnIdentifierKey:3,isStatic:4,isControlCell:5})}}const Iz=r=>({htmlAttributes:r&1,style:r&2}),fg=r=>({htmlAttributes:r[0],style:r[1]});function Mz(r){let e;const t=r[8].default,n=Ie(t,r,r[7],fg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&131)&&Ae(n,t,l,l[7],e?Me(t,l[7],s,Iz):Pe(l[7]),fg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Az(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const{stores:a}=$i(),{columnStyleMap:u}=a;Z(r,u,p=>t(6,s=p));let{index:c}=e,{columnSpan:f=1}=e;function m(p,h,b){var P,O;const $=[...p.values()],k=$[c]?c:0,T=(O=(P=$[k])==null?void 0:P.left)!=null?O:0;let E=$[k+b-1];E=E!=null?E:$[$.length-1];const A=E?E.left+E.width-T:0;return`left: ${T}px; width: ${A}px`}let{isStatic:d=!1}=e;return r.$$set=p=>{"index"in p&&t(3,c=p.index),"columnSpan"in p&&t(4,f=p.columnSpan),"isStatic"in p&&t(5,d=p.isStatic),"$$scope"in p&&t(7,o=p.$$scope)},r.$$.update=()=>{r.$$.dirty&88&&t(1,n=m(s,c,f)),r.$$.dirty&32&&t(0,l={"data-sheet-element":"cell","data-cell-static":d?!0:void 0})},[l,n,u,c,f,d,s,o,i]}class v5 extends x{constructor(e){super(),J(this,e,Az,Mz,Q,{index:3,columnSpan:4,isStatic:5})}}function Pz(r){let e,t,n,l;return{c(){e=M("div"),e.innerHTML='<div class="indicator svelte-19pm5e"></div>',D(e,"class","column-resizer svelte-19pm5e"),re(e,"is-resizing",r[2])},m(s,i){w(s,e,i),n||(l=[Dn(t=jw.call(null,e,{getStartingValue:r[4],onMove:r[5],onStart:r[6],onStop:r[7],min:r[0]})),He(e,"dblclick",r[8])],n=!0)},p(s,[i]){t&&Pt(t.update)&&i&7&&t.update.call(null,{getStartingValue:s[4],onMove:s[5],onStart:s[6],onStop:s[7],min:s[0]}),i&4&&re(e,"is-resizing",s[2])},i:j,o:j,d(s){s&&v(e),n=!1,It(l)}}}function Rz(r,e,t){const{api:n}=$i();let{minColumnWidth:l=50}=e,{columnIdentifierKey:s}=e,i=!1;const o=()=>n.getColumnWidth(s),a=m=>n.setColumnWidth(s,m),u=()=>{t(2,i=!0)},c=()=>{t(2,i=!1)},f=()=>n.resetColumnWidth(s);return r.$$set=m=>{"minColumnWidth"in m&&t(0,l=m.minColumnWidth),"columnIdentifierKey"in m&&t(1,s=m.columnIdentifierKey)},[l,s,i,n,o,a,u,c,f]}class Tm extends x{constructor(e){super(),J(this,e,Rz,Pz,Q,{minColumnWidth:0,columnIdentifierKey:1})}}const Ql=32,Oz=24,Lz=64,w5=50;function Nz(){const r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return e=>r(e)}function Fz(){const r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return e=>r(e)}function yc(r){const e=r.__resizeTriggers__,t=e.firstElementChild,n=e.lastElementChild,l=t.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,l.style.width=t.offsetWidth+1+"px",l.style.height=t.offsetHeight+1+"px",t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight}function Hz(r){return r.offsetWidth!==r.__resizeLast__.width||r.offsetHeight!==r.__resizeLast__.height}function zz(){const r=Nz(),e=Fz();function t(b){var T,E,A,P;const $=b.target;if(((E=(T=$.className)==null?void 0:T.indexOf)==null?void 0:E.call(T,"contract-trigger"))<0&&((P=(A=$.className)==null?void 0:A.indexOf)==null?void 0:P.call(A,"expand-trigger"))<0)return;const k=this;yc(this),this.__resizeRAF__&&e(this.__resizeRAF__),this.__resizeRAF__=r(()=>{Hz(k)&&(k.__resizeLast__.width=k.offsetWidth,k.__resizeLast__.height=k.offsetHeight,k.__resizeListeners__.forEach(O=>{O.call(k,b)}))})}let n=!1,l="",s="animationstart",i="";const o="Webkit Moz O ms".split(" "),a="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(u.style.animationName!==void 0&&(n=!0),n===!1){for(let b=0;b<o.length;b+=1)if(u.style[o[b]+"AnimationName"]!==void 0){i=o[b],l="-"+i.toLowerCase()+"-",s=a[b],n=!0;break}}const c="resizeanim",f="@"+l+"keyframes "+c+" { from { opacity: 0; } to { opacity: 0; } } ",m=l+"animation: 1ms "+c+"; ";function d(b){if(!b.getElementById("detectElementResize")){const $=(f!=null?f:"")+".resize-triggers { "+(m!=null?m:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; }.resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',k=b.head||b.getElementsByTagName("head")[0],T=b.createElement("style");T.id="detectElementResize",T.type="text/css",T.styleSheet?T.styleSheet.cssText=$:T.appendChild(b.createTextNode($)),k.appendChild(T)}}function p(b,$){if(!b.__resizeTriggers__){const k=b.ownerDocument,T=window.getComputedStyle(b);T&&T.position==="static"&&(b.style.position="relative"),d(k),b.__resizeLast__={},b.__resizeListeners__=[],(b.__resizeTriggers__=k.createElement("div")).className="resize-triggers";const E=k.createElement("div");E.className="expand-trigger",E.appendChild(k.createElement("div"));const A=k.createElement("div");A.className="contract-trigger",b.__resizeTriggers__.appendChild(E),b.__resizeTriggers__.appendChild(A),b.appendChild(b.__resizeTriggers__),yc(b),b.addEventListener("scroll",t,!0),s&&(b.__resizeTriggers__.__animationListener__=function(O){O.animationName===c&&yc(b)},b.__resizeTriggers__.addEventListener(s,b.__resizeTriggers__.__animationListener__))}b.__resizeListeners__.push($)}function h(b,$){if(b.__resizeListeners__.splice(b.__resizeListeners__.indexOf($),1),!b.__resizeListeners__.length){b.removeEventListener("scroll",t,!0),b.__resizeTriggers__.__animationListener__&&(b.__resizeTriggers__.removeEventListener(s,b.__resizeTriggers__.__animationListener__),b.__resizeTriggers__.__animationListener__=null);try{b.__resizeTriggers__=!b.removeChild(b.__resizeTriggers__)}catch(k){}}}return{addResizeListener:p,removeResizeListener:h}}const Vz=r=>({height:r&1}),mg=r=>({height:r[0]});function dg(r){let e;const t=r[6].default,n=Ie(t,r,r[5],mg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&33)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,Vz):Pe(l[5]),mg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function qz(r){let e,t,n=!r[2]&&dg(r);return{c(){e=M("div"),n&&n.c(),D(e,"class",r[3])},m(l,s){w(l,e,s),n&&n.m(e,null),r[7](e),t=!0},p(l,[s]){l[2]?n&&(G(),g(n,1,1,()=>{n=null}),K()):n?(n.p(l,s),s&4&&_(n,1)):(n=dg(l),n.c(),_(n,1),n.m(e,null)),(!t||s&8)&&D(e,"class",l[3])},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){l&&v(e),n&&n.d(),r[7](null)}}}function Bz(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{class:i="default"}=e,o,a,u=!1,c=0;function f(){if(a){const p=a.offsetHeight||0,h=window.getComputedStyle(a)||{},b=parseInt(h.paddingTop,10)||0,$=parseInt(h.paddingBottom,10)||0,k=p-b-$;c!==k&&t(0,c=p-b-$)}}_n(()=>{let p;return o!=null&&o.parentNode&&(a=o.parentNode,p=zz(),p.addResizeListener(a,f),f()),()=>{p&&a&&p.removeResizeListener(a,f)}});function m(p){t(2,u=p===0)}function d(p){Te[p?"unshift":"push"](()=>{o=p,t(1,o)})}return r.$$set=p=>{"class"in p&&t(4,i=p.class),"$$scope"in p&&t(5,s=p.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&t(3,n=["virtual-list","resizer",i].join(" ")),r.$$.dirty&1&&m(c)},[c,o,u,n,i,s,l,d]}class Uz extends x{constructor(e){super(),J(this,e,Bz,qz,Q,{class:4})}}/*!
 * perfect-scrollbar v1.5.3
 * Copyright 2021 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */function nl(r){return getComputedStyle(r)}function or(r,e){for(var t in e){var n=e[t];typeof n=="number"&&(n=n+"px"),r.style[t]=n}return r}function na(r){var e=document.createElement("div");return e.className=r,e}var _g=typeof Element<"u"&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Vl(r,e){if(!_g)throw new Error("No element matching method supported");return _g.call(r,e)}function Ls(r){r.remove?r.remove():r.parentNode&&r.parentNode.removeChild(r)}function pg(r,e){return Array.prototype.filter.call(r.children,function(t){return Vl(t,e)})}var In={main:"ps",rtl:"ps__rtl",element:{thumb:function(r){return"ps__thumb-"+r},rail:function(r){return"ps__rail-"+r},consuming:"ps__child--consume"},state:{focus:"ps--focus",clicking:"ps--clicking",active:function(r){return"ps--active-"+r},scrolling:function(r){return"ps--scrolling-"+r}}},k5={x:null,y:null};function y5(r,e){var t=r.element.classList,n=In.state.scrolling(e);t.contains(n)?clearTimeout(k5[e]):t.add(n)}function S5(r,e){k5[e]=setTimeout(function(){return r.isAlive&&r.element.classList.remove(In.state.scrolling(e))},r.settings.scrollingThreshold)}function Wz(r,e){y5(r,e),S5(r,e)}var Mo=function(e){this.element=e,this.handlers={}},C5={isEmpty:{configurable:!0}};Mo.prototype.bind=function(e,t){typeof this.handlers[e]>"u"&&(this.handlers[e]=[]),this.handlers[e].push(t),this.element.addEventListener(e,t,!1)};Mo.prototype.unbind=function(e,t){var n=this;this.handlers[e]=this.handlers[e].filter(function(l){return t&&l!==t?!0:(n.element.removeEventListener(e,l,!1),!1)})};Mo.prototype.unbindAll=function(){for(var e in this.handlers)this.unbind(e)};C5.isEmpty.get=function(){var r=this;return Object.keys(this.handlers).every(function(e){return r.handlers[e].length===0})};Object.defineProperties(Mo.prototype,C5);var vi=function(){this.eventElements=[]};vi.prototype.eventElement=function(e){var t=this.eventElements.filter(function(n){return n.element===e})[0];return t||(t=new Mo(e),this.eventElements.push(t)),t};vi.prototype.bind=function(e,t,n){this.eventElement(e).bind(t,n)};vi.prototype.unbind=function(e,t,n){var l=this.eventElement(e);l.unbind(t,n),l.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(l),1)};vi.prototype.unbindAll=function(){this.eventElements.forEach(function(e){return e.unbindAll()}),this.eventElements=[]};vi.prototype.once=function(e,t,n){var l=this.eventElement(e),s=function(i){l.unbind(t,s),n(i)};l.bind(t,s)};function ra(r){if(typeof window.CustomEvent=="function")return new CustomEvent(r);var e=document.createEvent("CustomEvent");return e.initCustomEvent(r,!1,!1,void 0),e}function qa(r,e,t,n,l){n===void 0&&(n=!0),l===void 0&&(l=!1);var s;if(e==="top")s=["contentHeight","containerHeight","scrollTop","y","up","down"];else if(e==="left")s=["contentWidth","containerWidth","scrollLeft","x","left","right"];else throw new Error("A proper axis should be provided");jz(r,t,s,n,l)}function jz(r,e,t,n,l){var s=t[0],i=t[1],o=t[2],a=t[3],u=t[4],c=t[5];n===void 0&&(n=!0),l===void 0&&(l=!1);var f=r.element;r.reach[a]=null,f[o]<1&&(r.reach[a]="start"),f[o]>r[s]-r[i]-1&&(r.reach[a]="end"),e&&(f.dispatchEvent(ra("ps-scroll-"+a)),e<0?f.dispatchEvent(ra("ps-scroll-"+u)):e>0&&f.dispatchEvent(ra("ps-scroll-"+c)),n&&Wz(r,a)),r.reach[a]&&(e||l)&&f.dispatchEvent(ra("ps-"+a+"-reach-"+r.reach[a]))}function wn(r){return parseInt(r,10)||0}function Yz(r){return Vl(r,"input,[contenteditable]")||Vl(r,"select,[contenteditable]")||Vl(r,"textarea,[contenteditable]")||Vl(r,"button,[contenteditable]")}function Gz(r){var e=nl(r);return wn(e.width)+wn(e.paddingLeft)+wn(e.paddingRight)+wn(e.borderLeftWidth)+wn(e.borderRightWidth)}var Rs={isWebKit:typeof document<"u"&&"WebkitAppearance"in document.documentElement.style,supportsTouch:typeof window<"u"&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:typeof navigator<"u"&&navigator.msMaxTouchPoints,isChrome:typeof navigator<"u"&&/Chrome/i.test(navigator&&navigator.userAgent)};function Sl(r){var e=r.element,t=Math.floor(e.scrollTop),n=e.getBoundingClientRect();r.containerWidth=Math.round(n.width),r.containerHeight=Math.round(n.height),r.contentWidth=e.scrollWidth,r.contentHeight=e.scrollHeight,e.contains(r.scrollbarXRail)||(pg(e,In.element.rail("x")).forEach(function(l){return Ls(l)}),e.appendChild(r.scrollbarXRail)),e.contains(r.scrollbarYRail)||(pg(e,In.element.rail("y")).forEach(function(l){return Ls(l)}),e.appendChild(r.scrollbarYRail)),!r.settings.suppressScrollX&&r.containerWidth+r.settings.scrollXMarginOffset<r.contentWidth?(r.scrollbarXActive=!0,r.railXWidth=r.containerWidth-r.railXMarginWidth,r.railXRatio=r.containerWidth/r.railXWidth,r.scrollbarXWidth=gg(r,wn(r.railXWidth*r.containerWidth/r.contentWidth)),r.scrollbarXLeft=wn((r.negativeScrollAdjustment+e.scrollLeft)*(r.railXWidth-r.scrollbarXWidth)/(r.contentWidth-r.containerWidth))):r.scrollbarXActive=!1,!r.settings.suppressScrollY&&r.containerHeight+r.settings.scrollYMarginOffset<r.contentHeight?(r.scrollbarYActive=!0,r.railYHeight=r.containerHeight-r.railYMarginHeight,r.railYRatio=r.containerHeight/r.railYHeight,r.scrollbarYHeight=gg(r,wn(r.railYHeight*r.containerHeight/r.contentHeight)),r.scrollbarYTop=wn(t*(r.railYHeight-r.scrollbarYHeight)/(r.contentHeight-r.containerHeight))):r.scrollbarYActive=!1,r.scrollbarXLeft>=r.railXWidth-r.scrollbarXWidth&&(r.scrollbarXLeft=r.railXWidth-r.scrollbarXWidth),r.scrollbarYTop>=r.railYHeight-r.scrollbarYHeight&&(r.scrollbarYTop=r.railYHeight-r.scrollbarYHeight),Kz(e,r),r.scrollbarXActive?e.classList.add(In.state.active("x")):(e.classList.remove(In.state.active("x")),r.scrollbarXWidth=0,r.scrollbarXLeft=0,e.scrollLeft=r.isRtl===!0?r.contentWidth:0),r.scrollbarYActive?e.classList.add(In.state.active("y")):(e.classList.remove(In.state.active("y")),r.scrollbarYHeight=0,r.scrollbarYTop=0,e.scrollTop=0)}function gg(r,e){return r.settings.minScrollbarLength&&(e=Math.max(e,r.settings.minScrollbarLength)),r.settings.maxScrollbarLength&&(e=Math.min(e,r.settings.maxScrollbarLength)),e}function Kz(r,e){var t={width:e.railXWidth},n=Math.floor(r.scrollTop);e.isRtl?t.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth-e.contentWidth:t.left=r.scrollLeft,e.isScrollbarXUsingBottom?t.bottom=e.scrollbarXBottom-n:t.top=e.scrollbarXTop+n,or(e.scrollbarXRail,t);var l={top:n,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?l.right=e.contentWidth-(e.negativeScrollAdjustment+r.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:l.right=e.scrollbarYRight-r.scrollLeft:e.isRtl?l.left=e.negativeScrollAdjustment+r.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:l.left=e.scrollbarYLeft+r.scrollLeft,or(e.scrollbarYRail,l),or(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),or(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}function Xz(r){r.element,r.event.bind(r.scrollbarY,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarYRail,"mousedown",function(e){var t=e.pageY-window.pageYOffset-r.scrollbarYRail.getBoundingClientRect().top,n=t>r.scrollbarYTop?1:-1;r.element.scrollTop+=n*r.containerHeight,Sl(r),e.stopPropagation()}),r.event.bind(r.scrollbarX,"mousedown",function(e){return e.stopPropagation()}),r.event.bind(r.scrollbarXRail,"mousedown",function(e){var t=e.pageX-window.pageXOffset-r.scrollbarXRail.getBoundingClientRect().left,n=t>r.scrollbarXLeft?1:-1;r.element.scrollLeft+=n*r.containerWidth,Sl(r),e.stopPropagation()})}function Qz(r){hg(r,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),hg(r,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])}function hg(r,e){var t=e[0],n=e[1],l=e[2],s=e[3],i=e[4],o=e[5],a=e[6],u=e[7],c=e[8],f=r.element,m=null,d=null,p=null;function h(k){k.touches&&k.touches[0]&&(k[l]=k.touches[0].pageY),f[a]=m+p*(k[l]-d),y5(r,u),Sl(r),k.stopPropagation(),k.type.startsWith("touch")&&k.changedTouches.length>1&&k.preventDefault()}function b(){S5(r,u),r[c].classList.remove(In.state.clicking),r.event.unbind(r.ownerDocument,"mousemove",h)}function $(k,T){m=f[a],T&&k.touches&&(k[l]=k.touches[0].pageY),d=k[l],p=(r[n]-r[t])/(r[s]-r[o]),T?r.event.bind(r.ownerDocument,"touchmove",h):(r.event.bind(r.ownerDocument,"mousemove",h),r.event.once(r.ownerDocument,"mouseup",b),k.preventDefault()),r[c].classList.add(In.state.clicking),k.stopPropagation()}r.event.bind(r[i],"mousedown",function(k){$(k)}),r.event.bind(r[i],"touchstart",function(k){$(k,!0)})}function Zz(r){var e=r.element,t=function(){return Vl(e,":hover")},n=function(){return Vl(r.scrollbarX,":focus")||Vl(r.scrollbarY,":focus")};function l(s,i){var o=Math.floor(e.scrollTop);if(s===0){if(!r.scrollbarYActive)return!1;if(o===0&&i>0||o>=r.contentHeight-r.containerHeight&&i<0)return!r.settings.wheelPropagation}var a=e.scrollLeft;if(i===0){if(!r.scrollbarXActive)return!1;if(a===0&&s<0||a>=r.contentWidth-r.containerWidth&&s>0)return!r.settings.wheelPropagation}return!0}r.event.bind(r.ownerDocument,"keydown",function(s){if(!(s.isDefaultPrevented&&s.isDefaultPrevented()||s.defaultPrevented)&&!(!t()&&!n())){var i=document.activeElement?document.activeElement:r.ownerDocument.activeElement;if(i){if(i.tagName==="IFRAME")i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(Yz(i))return}var o=0,a=0;switch(s.which){case 37:s.metaKey?o=-r.contentWidth:s.altKey?o=-r.containerWidth:o=-30;break;case 38:s.metaKey?a=r.contentHeight:s.altKey?a=r.containerHeight:a=30;break;case 39:s.metaKey?o=r.contentWidth:s.altKey?o=r.containerWidth:o=30;break;case 40:s.metaKey?a=-r.contentHeight:s.altKey?a=-r.containerHeight:a=-30;break;case 32:s.shiftKey?a=r.containerHeight:a=-r.containerHeight;break;case 33:a=r.containerHeight;break;case 34:a=-r.containerHeight;break;case 36:a=r.contentHeight;break;case 35:a=-r.contentHeight;break;default:return}r.settings.suppressScrollX&&o!==0||r.settings.suppressScrollY&&a!==0||(e.scrollTop-=a,e.scrollLeft+=o,Sl(r),l(o,a)&&s.preventDefault())}})}function Jz(r){var e=r.element;function t(i,o){var a=Math.floor(e.scrollTop),u=e.scrollTop===0,c=a+e.offsetHeight===e.scrollHeight,f=e.scrollLeft===0,m=e.scrollLeft+e.offsetWidth===e.scrollWidth,d;return Math.abs(o)>Math.abs(i)?d=u||c:d=f||m,d?!r.settings.wheelPropagation:!0}function n(i){var o=i.deltaX,a=-1*i.deltaY;return(typeof o>"u"||typeof a>"u")&&(o=-1*i.wheelDeltaX/6,a=i.wheelDeltaY/6),i.deltaMode&&i.deltaMode===1&&(o*=10,a*=10),o!==o&&a!==a&&(o=0,a=i.wheelDelta),i.shiftKey?[-a,-o]:[o,a]}function l(i,o,a){if(!Rs.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(i))return!1;for(var u=i;u&&u!==e;){if(u.classList.contains(In.element.consuming))return!0;var c=nl(u);if(a&&c.overflowY.match(/(scroll|auto)/)){var f=u.scrollHeight-u.clientHeight;if(f>0&&(u.scrollTop>0&&a<0||u.scrollTop<f&&a>0))return!0}if(o&&c.overflowX.match(/(scroll|auto)/)){var m=u.scrollWidth-u.clientWidth;if(m>0&&(u.scrollLeft>0&&o<0||u.scrollLeft<m&&o>0))return!0}u=u.parentNode}return!1}function s(i){var o=n(i),a=o[0],u=o[1];if(!l(i.target,a,u)){var c=!1;r.settings.useBothWheelAxes?r.scrollbarYActive&&!r.scrollbarXActive?(u?e.scrollTop-=u*r.settings.wheelSpeed:e.scrollTop+=a*r.settings.wheelSpeed,c=!0):r.scrollbarXActive&&!r.scrollbarYActive&&(a?e.scrollLeft+=a*r.settings.wheelSpeed:e.scrollLeft-=u*r.settings.wheelSpeed,c=!0):(e.scrollTop-=u*r.settings.wheelSpeed,e.scrollLeft+=a*r.settings.wheelSpeed),Sl(r),c=c||t(a,u),c&&!i.ctrlKey&&(i.stopPropagation(),i.preventDefault())}}typeof window.onwheel<"u"?r.event.bind(e,"wheel",s):typeof window.onmousewheel<"u"&&r.event.bind(e,"mousewheel",s)}function xz(r){if(!Rs.supportsTouch&&!Rs.supportsIePointer)return;var e=r.element;function t(p,h){var b=Math.floor(e.scrollTop),$=e.scrollLeft,k=Math.abs(p),T=Math.abs(h);if(T>k){if(h<0&&b===r.contentHeight-r.containerHeight||h>0&&b===0)return window.scrollY===0&&h>0&&Rs.isChrome}else if(k>T&&(p<0&&$===r.contentWidth-r.containerWidth||p>0&&$===0))return!0;return!0}function n(p,h){e.scrollTop-=h,e.scrollLeft-=p,Sl(r)}var l={},s=0,i={},o=null;function a(p){return p.targetTouches?p.targetTouches[0]:p}function u(p){return p.pointerType&&p.pointerType==="pen"&&p.buttons===0?!1:!!(p.targetTouches&&p.targetTouches.length===1||p.pointerType&&p.pointerType!=="mouse"&&p.pointerType!==p.MSPOINTER_TYPE_MOUSE)}function c(p){if(!!u(p)){var h=a(p);l.pageX=h.pageX,l.pageY=h.pageY,s=new Date().getTime(),o!==null&&clearInterval(o)}}function f(p,h,b){if(!e.contains(p))return!1;for(var $=p;$&&$!==e;){if($.classList.contains(In.element.consuming))return!0;var k=nl($);if(b&&k.overflowY.match(/(scroll|auto)/)){var T=$.scrollHeight-$.clientHeight;if(T>0&&($.scrollTop>0&&b<0||$.scrollTop<T&&b>0))return!0}if(h&&k.overflowX.match(/(scroll|auto)/)){var E=$.scrollWidth-$.clientWidth;if(E>0&&($.scrollLeft>0&&h<0||$.scrollLeft<E&&h>0))return!0}$=$.parentNode}return!1}function m(p){if(u(p)){var h=a(p),b={pageX:h.pageX,pageY:h.pageY},$=b.pageX-l.pageX,k=b.pageY-l.pageY;if(f(p.target,$,k))return;n($,k),l=b;var T=new Date().getTime(),E=T-s;E>0&&(i.x=$/E,i.y=k/E,s=T),t($,k)&&p.preventDefault()}}function d(){r.settings.swipeEasing&&(clearInterval(o),o=setInterval(function(){if(r.isInitialized){clearInterval(o);return}if(!i.x&&!i.y){clearInterval(o);return}if(Math.abs(i.x)<.01&&Math.abs(i.y)<.01){clearInterval(o);return}if(!r.element){clearInterval(o);return}n(i.x*30,i.y*30),i.x*=.8,i.y*=.8},10))}Rs.supportsTouch?(r.event.bind(e,"touchstart",c),r.event.bind(e,"touchmove",m),r.event.bind(e,"touchend",d)):Rs.supportsIePointer&&(window.PointerEvent?(r.event.bind(e,"pointerdown",c),r.event.bind(e,"pointermove",m),r.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(r.event.bind(e,"MSPointerDown",c),r.event.bind(e,"MSPointerMove",m),r.event.bind(e,"MSPointerUp",d)))}var eV=function(){return{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1}},tV={"click-rail":Xz,"drag-thumb":Qz,keyboard:Zz,wheel:Jz,touch:xz},Ao=function(e,t){var n=this;if(t===void 0&&(t={}),typeof e=="string"&&(e=document.querySelector(e)),!e||!e.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");this.element=e,e.classList.add(In.main),this.settings=eV();for(var l in t)this.settings[l]=t[l];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var s=function(){return e.classList.add(In.state.focus)},i=function(){return e.classList.remove(In.state.focus)};this.isRtl=nl(e).direction==="rtl",this.isRtl===!0&&e.classList.add(In.rtl),this.isNegativeScroll=function(){var u=e.scrollLeft,c=null;return e.scrollLeft=-1,c=e.scrollLeft<0,e.scrollLeft=u,c}(),this.negativeScrollAdjustment=this.isNegativeScroll?e.scrollWidth-e.clientWidth:0,this.event=new vi,this.ownerDocument=e.ownerDocument||document,this.scrollbarXRail=na(In.element.rail("x")),e.appendChild(this.scrollbarXRail),this.scrollbarX=na(In.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",i),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var o=nl(this.scrollbarXRail);this.scrollbarXBottom=parseInt(o.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=wn(o.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=wn(o.borderLeftWidth)+wn(o.borderRightWidth),or(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=wn(o.marginLeft)+wn(o.marginRight),or(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=na(In.element.rail("y")),e.appendChild(this.scrollbarYRail),this.scrollbarY=na(In.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",i),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var a=nl(this.scrollbarYRail);this.scrollbarYRight=parseInt(a.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=wn(a.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?Gz(this.scrollbarY):null,this.railBorderYWidth=wn(a.borderTopWidth)+wn(a.borderBottomWidth),or(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=wn(a.marginTop)+wn(a.marginBottom),or(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:e.scrollLeft<=0?"start":e.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:e.scrollTop<=0?"start":e.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(u){return tV[u](n)}),this.lastScrollTop=Math.floor(e.scrollTop),this.lastScrollLeft=e.scrollLeft,this.event.bind(this.element,"scroll",function(u){return n.onScroll(u)}),Sl(this)};Ao.prototype.update=function(){!this.isAlive||(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,or(this.scrollbarXRail,{display:"block"}),or(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=wn(nl(this.scrollbarXRail).marginLeft)+wn(nl(this.scrollbarXRail).marginRight),this.railYMarginHeight=wn(nl(this.scrollbarYRail).marginTop)+wn(nl(this.scrollbarYRail).marginBottom),or(this.scrollbarXRail,{display:"none"}),or(this.scrollbarYRail,{display:"none"}),Sl(this),qa(this,"top",0,!1,!0),qa(this,"left",0,!1,!0),or(this.scrollbarXRail,{display:""}),or(this.scrollbarYRail,{display:""}))};Ao.prototype.onScroll=function(e){!this.isAlive||(Sl(this),qa(this,"top",this.element.scrollTop-this.lastScrollTop),qa(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)};Ao.prototype.destroy=function(){!this.isAlive||(this.event.unbindAll(),Ls(this.scrollbarX),Ls(this.scrollbarY),Ls(this.scrollbarXRail),Ls(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)};Ao.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(e){return!e.match(/^ps([-_].+|)$/)}).join(" ")};const nV=typeof performance=="object"&&typeof performance.now=="function",bg=nV?()=>performance.now():()=>Date.now();function $g(r){r.id!==void 0&&cancelAnimationFrame(r.id)}function rV(r,e){const t=bg(),n={id:void 0};function l(){bg()-t>=e?r.call(void 0):n.id=requestAnimationFrame(l)}return n.id=requestAnimationFrame(l),n}const lV=r=>r;function mo(r,e){const{itemSize:t,instanceProps:n}=r,{itemMetadataMap:l,lastMeasuredIndex:s}=n;if(e>s){let i=0;if(s>=0){const o=l[s];i=o.offset+o.size}for(let o=s+1;o<=e;o+=1){const a=t(o);l[o]={offset:i,size:a},i+=a}n.lastMeasuredIndex=e}return l[e]}function T5(r,e,t){const{scrollOffset:n}=r;let l=e,s=t;for(;s<=l;){const i=s+Math.floor((l-s)/2),o=mo(r,i).offset;if(o===n)return i;o<n?s=i+1:o>n&&(l=i-1)}return s>0?s-1:0}function sV(r,e){const{itemCount:t,scrollOffset:n}=r;let l=1,s=e;for(;s<t&&mo(r,s).offset<n;)s+=l,l*=2;return T5(r,Math.min(s,t-1),Math.floor(s/2))}function iV(r){const{instanceProps:e,scrollOffset:t}=r,{itemMetadataMap:n,lastMeasuredIndex:l}=e;return(l>0?n[l].offset:0)>=t?T5(r,l,0):sV(r,Math.max(0,l))}function oV(r,e){const{height:t,itemCount:n,scrollOffset:l}=r,s=mo(r,e),i=l+t;let o=s.offset+s.size,a=e;for(;a<n-1&&o<i;)a+=1,o+=mo(r,a).size;return a}function aV(r){const{isScrolling:e,scrollDirection:t,itemCount:n,overscanCount:l}=r;if(n===0)return[0,0,0,0];const s=iV(r),i=oV(r,s),o=!e||t==="backward"?Math.max(1,l):1,a=!e||t==="forward"?Math.max(1,l):1;return[Math.max(0,s-o),Math.max(0,Math.min(n-1,i+a)),s,i]}function uV(r,e){const{instanceProps:t}=r,{styleCache:n}=t;let l;if(Object.prototype.hasOwnProperty.call(n,e))l=n[e];else{const{offset:s}=mo(r,e),{size:i}=t.itemMetadataMap[e];l={position:"absolute",left:0,top:s,height:i,width:"100%"},n[e]=l}return l}function cV(r){const{itemKey:e,itemCount:t,isScrolling:n}=r,[l,s]=aV(r),i=[];if(t>0)for(let o=l;o<=s;o+=1)i.push({key:e(o),index:o,isScrolling:n,style:uV(r,o)});return{items:i,startIndex:l,stopIndex:s}}function fV(r){const{instanceProps:e,itemCount:t,estimatedItemSize:n}=r,{lastMeasuredIndex:l,itemMetadataMap:s}=e;let i=l,o=0;if(i>=t&&(i=t-1),i>=0){const c=s[i];o=c.offset+c.size}const u=(t-i-1)*n;return o+u}const Sc={defaultItemKey:lV,getItemsInfo:cV,getEstimatedTotalSize:fV};const mV=r=>({items:r[0]&2}),vg=r=>({items:r[1],api:r[5]});function dV(r){let e,t,n;const l=r[25].default,s=Ie(l,r,r[24],vg);return{c(){e=M("div"),t=M("div"),s&&s.c(),D(t,"style",r[3]),D(e,"class",r[4]),Cn(e,"height",r[0]+"px"),Cn(e,"width","100%"),Cn(e,"direction","ltr"),D(e,"data-sheet-body-element","list")},m(i,o){w(i,e,o),I(e,t),s&&s.m(t,null),r[26](e),n=!0},p(i,o){s&&s.p&&(!n||o[0]&16777218)&&Ae(s,l,i,i[24],n?Me(l,i[24],o,mV):Pe(i[24]),vg),(!n||o[0]&8)&&D(t,"style",i[3]),(!n||o[0]&16)&&D(e,"class",i[4]),(!n||o[0]&1)&&Cn(e,"height",i[0]+"px")},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(e),s&&s.d(i),r[26](null)}}}const _V=150,pV=30;function gV(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const o=ht();let{class:a="default"}=e,{estimatedItemSize:u=pV}=e,{height:c}=e,{scrollOffset:f=0}=e,{itemCount:m}=e,{overscanCount:d=2}=e,{itemSize:p=()=>u}=e,{paddingBottom:h=0}=e,{horizontalScrollOffset:b=0}=e,{itemKey:$=Sc.defaultItemKey}=e,{width:k=void 0}=e,T={lastMeasuredIndex:-1,itemMetadataMap:{},styleCache:{}},E=!1,A="forward",P=c,O=[],R,F,L=!1,U,W=!1,H,z;function te(ke){z=Sc.getItemsInfo(ke),t(1,O=z.items),t(23,R=Sc.getEstimatedTotalSize(ke)),P!==c&&(P=c,o("refetch",z))}function se(ke){F&&typeof ke=="number"&&F.scrollLeft!==ke&&t(2,F.scrollLeft=ke,F)}function B(ke){const{clientHeight:Fe,scrollHeight:we,scrollTop:Re,scrollLeft:Ge}=ke.target;if(L=!0,b!==Ge&&(t(7,b=Ge),o("h-scroll",b)),f!==Re){const Je=Math.max(0,Math.min(Re,we-Fe));t(21,E=!0),t(22,A=f<Je?"forward":"backward"),t(6,f=Je),o("scroll",f)}}function V(ke){const{scrollLeft:Fe}=ke.target;b!==Fe&&(t(7,b=Fe),o("h-scroll",b))}_n(()=>{typeof f=="number"&&t(2,F.scrollTop=f,F),se(b),H=new Ao(F,{minScrollbarLength:40,wheelPropagation:!1});const ke=we=>{B(we)},Fe=we=>{V(we)};return o("refetch",z),F.addEventListener("ps-scroll-y",ke),F.addEventListener("ps-scroll-x",Fe),()=>{F.removeEventListener("ps-scroll-y",ke),F.removeEventListener("ps-scroll-x",Fe),H==null||H.destroy()}});const ee=()=>{U=void 0,t(21,E=!1),W=!0,o("refetch",z)};function ie(){U!==void 0&&$g(U),U=rV(ee,_V)}Iw(()=>{L&&(L=!1,ie()),W&&(W=!1,t(20,T.styleCache={},T)),H&&H.update()}),Dl(()=>{U!==void 0&&$g(U)});function _e(ke){t(20,T={...T,lastMeasuredIndex:Math.min(T.lastMeasuredIndex,(ke!=null?ke:0)-1),styleCache:{}})}function ae(ke,Fe){if(F&&H){const we=Math.max(ke,0),Re=Math.max(Fe,0);let Ge=!1;f!==we&&(t(2,F.scrollTop=we,F),Ge=!0),b!==Re&&(t(2,F.scrollLeft=Re,F),Ge=!0),Ge&&H.update()}}function fe(){F&&H&&(t(2,F.scrollTop=F.scrollHeight,F),H.update())}function Ue(){F&&H&&(t(2,F.scrollTop=0,F),H.update())}const ve={scrollToTop:Ue,scrollToBottom:fe,scrollToPosition:ae,recalculateHeightsAfterIndex:_e};function Se(ke){Te[ke?"unshift":"push"](()=>{F=ke,t(2,F)})}return r.$$set=ke=>{"class"in ke&&t(8,a=ke.class),"estimatedItemSize"in ke&&t(9,u=ke.estimatedItemSize),"height"in ke&&t(0,c=ke.height),"scrollOffset"in ke&&t(6,f=ke.scrollOffset),"itemCount"in ke&&t(10,m=ke.itemCount),"overscanCount"in ke&&t(11,d=ke.overscanCount),"itemSize"in ke&&t(12,p=ke.itemSize),"paddingBottom"in ke&&t(13,h=ke.paddingBottom),"horizontalScrollOffset"in ke&&t(7,b=ke.horizontalScrollOffset),"itemKey"in ke&&t(14,$=ke.itemKey),"width"in ke&&t(15,k=ke.width),"$$scope"in ke&&t(24,i=ke.$$scope)},r.$$.update=()=>{r.$$.dirty[0]&256&&t(4,n=["virtual-list","outerElement",a].join(" ")),r.$$.dirty[0]&7364161&&te({itemSize:p,instanceProps:T,isScrolling:E,scrollDirection:A,itemCount:m,overscanCount:d,scrollOffset:f,height:c,itemKey:$,estimatedItemSize:u}),r.$$.dirty[0]&10526720&&t(3,l=`height:${R+h}px;width:${k?`${k}px`:"100%"};${E?"pointer-events:none;":""}`),r.$$.dirty[0]&128&&se(b)},[c,O,F,l,n,ve,f,b,a,u,m,d,p,h,$,k,_e,ae,fe,Ue,T,E,A,R,i,s,Se]}class hV extends x{constructor(e){super(),J(this,e,gV,dV,Q,{class:8,estimatedItemSize:9,height:0,scrollOffset:6,itemCount:10,overscanCount:11,itemSize:12,paddingBottom:13,horizontalScrollOffset:7,itemKey:14,width:15,recalculateHeightsAfterIndex:16,scrollToPosition:17,scrollToBottom:18,scrollToTop:19},null,[-1,-1])}get recalculateHeightsAfterIndex(){return this.$$.ctx[16]}get scrollToPosition(){return this.$$.ctx[17]}get scrollToBottom(){return this.$$.ctx[18]}get scrollToTop(){return this.$$.ctx[19]}}const bV=r=>({items:r&131072,api:r&262144}),wg=r=>({items:r[17],api:r[18]});function $V(r){let e;const t=r[11].default,n=Ie(t,r,r[14],wg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&409600)&&Ae(n,t,l,l[14],e?Me(t,l[14],s,bV):Pe(l[14]),wg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function vV(r){let e,t;return e=new hV({props:{horizontalScrollOffset:r[4],scrollOffset:r[5],height:r[16],width:r[6],itemCount:r[0],paddingBottom:r[2],itemSize:r[1],estimatedItemSize:Ql,itemKey:r[3],$$slots:{default:[$V,({items:n,api:l})=>({17:n,18:l}),({items:n,api:l})=>(n?131072:0)|(l?262144:0)]},$$scope:{ctx:r}}}),e.$on("scroll",r[12]),e.$on("h-scroll",r[13]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.horizontalScrollOffset=n[4]),l&32&&(s.scrollOffset=n[5]),l&65536&&(s.height=n[16]),l&64&&(s.width=n[6]),l&1&&(s.itemCount=n[0]),l&4&&(s.paddingBottom=n[2]),l&2&&(s.itemSize=n[1]),l&8&&(s.itemKey=n[3]),l&409600&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wV(r){let e,t,n;return t=new Uz({props:{$$slots:{default:[vV,({height:l})=>({16:l}),({height:l})=>l?65536:0]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"data-sheet-element","body"),D(e,"tabindex","-1"),D(e,"class","svelte-1sm73pn")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&82047&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function kV(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const{stores:a,api:u}=$i(),{rowWidth:c,horizontalScrollOffset:f,scrollOffset:m}=a;Z(r,c,T=>t(6,s=T)),Z(r,f,T=>t(4,n=T)),Z(r,m,T=>t(5,l=T));let{itemCount:d}=e,{itemSize:p}=e,{paddingBottom:h=0}=e,{itemKey:b=void 0}=e;const $=T=>{u.setScrollOffset(T.detail)},k=T=>{u.setHorizontalScrollOffset(T.detail)};return r.$$set=T=>{"itemCount"in T&&t(0,d=T.itemCount),"itemSize"in T&&t(1,p=T.itemSize),"paddingBottom"in T&&t(2,h=T.paddingBottom),"itemKey"in T&&t(3,b=T.itemKey),"$$scope"in T&&t(14,o=T.$$scope)},[d,p,h,b,n,l,s,u,c,f,m,i,$,k,o]}class E5 extends x{constructor(e){super(),J(this,e,kV,wV,Q,{itemCount:0,itemSize:1,paddingBottom:2,itemKey:3})}}const yV=r=>({styleString:r&1}),kg=r=>({htmlAttributes:r[2],styleString:r[0]});function SV(r){let e;const t=r[6].default,n=Ie(t,r,r[5],kg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&33)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,yV):Pe(l[5]),kg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function CV(r,e){return`position:${r.position};left:${r.left}px;top:${r.top}px;height:${r.height}px;width:${e}px`}function TV(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const{stores:o}=$i(),{rowWidth:a}=o;Z(r,a,f=>t(4,l=f));let{style:u}=e;const c={"data-sheet-element":"row","data-sheet-section":"body"};return r.$$set=f=>{"style"in f&&t(3,u=f.style),"$$scope"in f&&t(5,i=f.$$scope)},r.$$.update=()=>{r.$$.dirty&24&&t(0,n=CV(u,l))},[n,a,c,u,l,i,s]}class Em extends x{constructor(e){super(),J(this,e,TV,SV,Q,{style:3})}}function EV(r){const{key:e}=r,t=r.shiftKey;switch(!0){case(t&&e==="Tab"):return"left";case t:return;case e==="ArrowUp":return"up";case e==="ArrowDown":return"down";case e==="ArrowLeft":return"left";case e==="ArrowRight":case e==="Tab":return"right";default:return}}function DV(r){switch(r){case"left":return-1;case"right":return 1;default:return 0}}function IV(r){switch(r){case"up":return-1;case"down":return 1;default:return 0}}function D5(r,e,t){return r&&(r==null?void 0:r.columnId)===t.id&&r.rowIndex===e.rowIndex}function I5(r){const e=r==null?void 0:r.parentElement,t=document.querySelector('[data-sheet-body-element="list"]');if(!(!t||!e)){if(e.offsetTop+e.clientHeight+40>t.scrollTop+t.clientHeight){const n=t.getBoundingClientRect().bottom-e.getBoundingClientRect().bottom-40;t.scrollTop-=n}else e.offsetTop-30<t.scrollTop&&(t.scrollTop=e.offsetTop-30);if(r.offsetLeft+e.clientWidth+30>t.scrollLeft+t.clientWidth){const n=t.getBoundingClientRect().right-r.getBoundingClientRect().right-30;t.scrollLeft-=n}else r.offsetLeft-30<t.scrollLeft&&(t.scrollLeft=r.offsetLeft-30)}}function M5(){const r=document.querySelector('[data-sheet-element="cell"].is-active');I5(r)}function MV(){const r=document.querySelector('[data-sheet-element="cell"].is-selected');I5(r)}const Ba="-",A5=({rowIndex:r},{id:e})=>`${r}${Ba}${e}`,AV=(r,e)=>r.valuesArray().some(t=>t.startsWith(`${e.rowIndex}-`)),si=(r,e,t)=>e.has(t.id)||r.valuesArray().some(n=>n.endsWith(`-${t.id}`)),_o=(r,e,t)=>r.has(A5(e,t));function PV(r){return r.split(Ba).slice(1).join(Ba)}function yg(r){const e=PV(r),t=Number(e);return Number.isNaN(t)?e:t}function hf(r){return Number(r.split(Ba)[0])}class P5{constructor(e){ce(this,"getColumns");ce(this,"getColumnOrder");ce(this,"getRows");ce(this,"getMaxSelectionRowIndex");ce(this,"activeCell");ce(this,"selectionBounds");ce(this,"activeCellUnsubscriber");ce(this,"selectedCells");ce(this,"columnsSelectedWhenTheTableIsEmpty");ce(this,"freezeSelection");ce(this,"selectionInProgress");this.selectedCells=new fa,this.columnsSelectedWhenTheTableIsEmpty=new fa,this.getColumns=e.getColumns,this.getColumnOrder=e.getColumnOrder,this.getRows=e.getRows,this.getMaxSelectionRowIndex=e.getMaxSelectionRowIndex,this.freezeSelection=!1,this.selectionInProgress=xe(!1),this.activeCell=xe(void 0),document.addEventListener("mouseup",()=>{this.onEndSelection()}),this.activeCellUnsubscriber=this.activeCell.subscribe(t=>{if(t){const n=this.getRows().find(s=>s.rowIndex===t.rowIndex),l=this.getColumns().find(s=>s.id===t.columnId);n&&l?(this.selectionBounds=void 0,this.selectMultipleCells([[n,l]])):this.resetSelection()}else this.resetSelection()})}onStartSelection(e,t){if(this.freezeSelection)return;this.selectionInProgress.set(!0),this.selectionBounds={startColumnId:t.id,endColumnId:t.id,startRowIndex:e.rowIndex,endRowIndex:e.rowIndex};const n=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(n)}onMouseEnterCellWhileSelection(e,t){const{rowIndex:n}=e,{id:l}=t;if(!this.selectionBounds||this.freezeSelection)return;this.selectionBounds.endRowIndex=n,this.selectionBounds.endColumnId=l;const s=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(s)}onEndSelection(){if(this.selectionBounds){const e=this.getIncludedCells(this.selectionBounds);this.selectMultipleCells(e),this.selectionBounds=void 0}this.selectionInProgress.set(!1)}selectAndActivateFirstCellIfExists(){const e=this.getRows()[0],t=this.getColumns()[0];e&&t&&(this.selectMultipleCells([[e,t]]),this.activateCell(e,t))}selectAndActivateFirstDataEntryCellInLastRow(){const e=this.getRows(),t=this.getColumns();e.length>0&&t.length>1&&this.activateCell(e[e.length-1],t[1])}getIncludedCells(e){const{startRowIndex:t,endRowIndex:n,startColumnId:l,endColumnId:s}=e,i=Math.min(t,n),o=Math.max(t,n),a=this.getColumnOrder(),u=a.findIndex(b=>b===l),c=a.findIndex(b=>b===s),f=Math.min(u,c),m=Math.max(u,c),d=a.slice(f,m+1),p=this.getColumns(),h=[];return this.getRows().forEach(b=>{const{rowIndex:$}=b;$>=i&&$<=o&&d.forEach(k=>{const T=p.find(E=>E.id===k);T&&h.push([b,T])})}),h}selectMultipleCells(e){const t=e.map(([n,l])=>A5(n,l));this.selectedCells.reconstruct(t)}resetSelection(){this.selectionBounds=void 0,this.columnsSelectedWhenTheTableIsEmpty.clear(),this.selectedCells.clear()}isCompleteColumnSelected(e){return this.getRows().length?this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)||this.getRows().every(t=>_o(Ve(this.selectedCells),t,e)):this.columnsSelectedWhenTheTableIsEmpty.getHas(e.id)}isCompleteRowSelected(e){const t=this.getColumns();return t.length>0&&t.every(n=>_o(Ve(this.selectedCells),e,n))}isAnyColumnCompletelySelected(){const e=Ve(this.selectedCells).valuesArray(),t=[];for(const n of e){const l=yg(n);if(!t.includes(l)){if(this.isCompleteColumnSelected({id:l}))return!0;t.push(l)}}return!1}isAnyRowCompletelySelected(){const e=Ve(this.selectedCells).valuesArray(),t=[];for(const n of e){const l=hf(n);if(!t.includes(l)){if(this.isCompleteRowSelected({rowIndex:l}))return!0;t.push(l)}}return!1}intersectSelectedRowsWithGivenColumns(e){const t=this.getSelectedUniqueRowsId(new rl(this.selectedCells.getValues())),n=[];e.forEach(l=>{t.forEach(s=>{const i=this.getRows()[s];n.push([i,l])})}),this.selectMultipleCells(n)}toggleColumnSelection(e){const t=this.isCompleteColumnSelected(e);if(this.activateCell({rowIndex:0},e),t)return this.resetSelection(),!1;const n=this.getRows();if(n.length===0)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;const l=[];return n.forEach(s=>{l.push([s,e])}),this.resetSelection(),this.selectMultipleCells(l),!0}toggleRowSelection(e){if(this.isCompleteRowSelected(e))this.resetSelection();else{const n=[];this.getColumns().forEach(l=>{n.push([e,l])}),this.resetSelection(),this.selectMultipleCells(n)}}onColumnSelectionStart(e){if(!this.isCompleteColumnSelected(e)){this.activateCell({rowIndex:0},{id:e.id});const t=this.getRows();if(t.length===0)return this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0;this.onStartSelection(t[0],e),this.onMouseEnterCellWhileSelection(t[t.length-1],e)}return!0}onMouseEnterColumnHeaderWhileSelection(e){const t=this.getRows();return t.length===0?(this.resetSelection(),this.columnsSelectedWhenTheTableIsEmpty.add(e.id),!0):(this.onMouseEnterCellWhileSelection(t[t.length-1],e),!0)}onRowSelectionStart(e){const t=this.getColumns(),n=this.getColumnOrder();t.length;const l=n[0],s=n[n.length-1],i=t.find(a=>a.id===l),o=t.find(a=>a.id===s);return i&&o&&(this.activateCell(e,i),this.onStartSelection(e,i),this.onMouseEnterCellWhileSelection(e,o)),!0}onMouseEnterRowHeaderWhileSelection(e){const t=this.getColumns();t.length;const n=t[t.length-1];return this.onMouseEnterCellWhileSelection(e,n),!0}resetActiveCell(){this.activeCell.set(void 0)}activateCell(e,t){this.activeCell.set({rowIndex:e.rowIndex,columnId:t.id})}focusCell(e,t){var s;const l=document.querySelectorAll(`[data-column-identifier="${t.id}"]`).item(e.rowIndex);(s=l==null?void 0:l.querySelector(".cell-wrapper"))==null||s.focus()}getAdjacentCell(e,t){const n=this.getColumnOrder(),l=(()=>{const i=IV(t);if(i===0)return e.rowIndex;const o=0,a=this.getMaxSelectionRowIndex(),u=e.rowIndex+i;if(!(u<o||u>a))return u})();if(l===void 0)return;const s=(()=>{const i=DV(t);if(i===0)return e.columnId;if(e.columnId){const o=n.findIndex(u=>u===e.columnId);return n[o+i]}return""})();if(!!s)return{rowIndex:l,columnId:s}}handleKeyEventsOnActiveCell(e){const t=EV(e);if(!t)return;let n=!1;return this.activeCell.update(l=>{if(!l)return;const s=this.getAdjacentCell(l,t);return s?(n=!0,s):l}),n?"moved":void 0}activateFirstCellInSelectedColumn(){const e=Ve(this.activeCell);e&&this.activateCell({rowIndex:0},{id:e.columnId})}getSelectedUniqueColumnsId(e,t){const n=new Set([...[...e].map(yg),...t]);return Array.from(n)}getSelectedUniqueRowsId(e){const t=new Set([...[...e].map(hf)]);return Array.from(t)}destroy(){this.activeCellUnsubscriber()}}function RV(r,e){function t(n){return n.columns.length!==e.length?!1:n.columns.every(l=>e.includes(l))}return r.filter(t)}function OV(r){return at(r,({constraints:e})=>new Set(e.filter(t=>t.type==="unique"&&t.columns.length===1).map(t=>t.columns[0])))}function LV(r){return{get(e){const t=Su(r,e);return bn(t)},add(e){return cn(r,e)},remove(e){return cl(`${r}${e}/`)}}}class R5{constructor({tableId:e,shareConsumer:t}){ce(this,"tableId");ce(this,"store");ce(this,"promise");ce(this,"api");ce(this,"shareConsumer");ce(this,"uniqueColumns");this.tableId=e,this.shareConsumer=t,this.store=xe({state:rn.Loading,constraints:[]}),this.uniqueColumns=OV(this.store),this.api=LV(`/api/db/v0/tables/${this.tableId}/constraints/`),this.fetch()}set(e){this.store.set(e)}update(e){this.store.update(e)}subscribe(e){return this.store.subscribe(e)}get(){return Ve(this.store)}async fetch(){var e,t;this.update(n=>({...n,state:rn.Loading}));try{(e=this.promise)==null||e.cancel(),this.promise=this.api.get({limit:500,...(t=this.shareConsumer)==null?void 0:t.getQueryParams()});const n=await this.promise,l={state:rn.Done,constraints:n.results};return this.set(l),l}catch(n){this.set({state:rn.Error,error:n instanceof Error?n.message:void 0,constraints:[]})}finally{this.promise=void 0}}async add(e){const t=await this.api.add(e);return await this.fetch(),t}async remove(e){await this.api.remove(e),await this.fetch()}async setUniquenessOfColumn(e,t){if(e.primary_key){if(!t)throw new Error(`Column "${e.name}" must remain unique because it is a primary key.`);return}const n=Ve(this.uniqueColumns).has(e.id);if(t===n)return;if(t){await this.add({type:"unique",columns:[e.id]});return}const{constraints:l}=Ve(this.store),s=RV(l,[e.id]).filter(i=>i.type==="unique");await Promise.all(s.map(i=>this.api.remove(i.id))),await this.fetch()}destroy(){var e;(e=this.promise)==null||e.cancel(),this.promise=void 0}}function NV(r){let e,t,n,l;const s=[r[2]];function i(u){r[3](u)}function o(u){r[4](u)}let a={};for(let u=0;u<s.length;u+=1)a=le(a,s[u]);return r[0]!==void 0&&(a.value=r[0]),r[1]!==void 0&&(a.element=r[1]),e=new bs({props:a}),Te.push(()=>Oe(e,"value",i)),Te.push(()=>Oe(e,"element",o)),e.$on("input",r[5]),e.$on("change",r[6]),e.$on("focus",r[7]),e.$on("blur",r[8]),e.$on("keydown",r[9]),e.$on("processedKeyDown",r[10]),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),l=!0},p(u,[c]){const f=c&4?de(s,[$e(u[2])]):{};!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),!n&&c&2&&(n=!0,f.element=u[1],Ne(()=>n=!1)),e.$set(f)},i(u){l||(_(e.$$.fragment,u),l=!0)},o(u){g(e.$$.fragment,u),l=!1},d(u){S(e,u)}}}const FV=400;function HV(r,e,t){const n=["value"];let l=Ye(e,n),{value:s=""}=e,i,o="0px",a="0px";function u(){if(!i)return;const E=[`${Math.min(i.scrollHeight,FV)}px`,o,a];t(1,i.style.height=`calc(${E.join(" + ")})`,i)}function c(){if(!i)return;t(1,i.style.height="1em",i);const T=getComputedStyle(i);o=T.borderTopWidth,a=T.borderBottomWidth,u()}function f(T){s=T,t(0,s)}function m(T){i=T,t(1,i)}function d(T){ye.call(this,r,T)}function p(T){ye.call(this,r,T)}function h(T){ye.call(this,r,T)}function b(T){ye.call(this,r,T)}function $(T){ye.call(this,r,T)}function k(T){ye.call(this,r,T)}return r.$$set=T=>{e=le(le({},e),_t(T)),t(2,l=Ye(e,n)),"value"in T&&t(0,s=T.value)},r.$$.update=()=>{r.$$.dirty&2&&c(),r.$$.dirty&1&&u()},[s,i,l,f,m,d,p,h,b,$,k]}class zV extends x{constructor(e){super(),J(this,e,HV,NV,Q,{value:0})}}function VV(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("span"),l&&l.c(),D(e,"class","postgres-keyword")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function qV(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class O5 extends x{constructor(e){super(),J(this,e,qV,VV,Q,{})}}function BV(r){let e;return{c(){e=q("DEFAULT")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function UV(r){let e,t;return e=new O5({props:{$$slots:{default:[BV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class Nu extends x{constructor(e){super(),J(this,e,null,UV,Q,{})}}function WV(r){let e;return{c(){e=q("NULL")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function jV(r){let e,t;return e=new O5({props:{$$slots:{default:[WV]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}class wi extends x{constructor(e){super(),J(this,e,null,jV,Q,{})}}function YV(r){let e;const t=r[3].default,n=Ie(t,r,r[2],null),l=n||QV(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&4)&&Ae(n,t,s,s[2],e?Me(t,s[2],i,null):Pe(s[2]),null):l&&l.p&&(!e||i&1)&&l.p(s,e?i:-1)},i(s){e||(_(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function GV(r){let e,t;return e=new qf({props:{matchParts:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.matchParts=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function KV(r){let e,t;return e=new Nu({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XV(r){let e,t;return e=new wi({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function QV(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},d(t){t&&v(e)}}}function ZV(r){let e,t,n,l;const s=[XV,KV,GV,YV],i=[];function o(a,u){return a[0]===null?0:a[0]===void 0?1:a[1]?2:3}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function JV(r,e,t){let{$$slots:n={},$$scope:l}=e,{value:s}=e,{matchParts:i=void 0}=e;return r.$$set=o=>{"value"in o&&t(0,s=o.value),"matchParts"in o&&t(1,i=o.matchParts),"$$scope"in o&&t(2,l=o.$$scope)},[s,i,l,n]}class Po extends x{constructor(e){super(),J(this,e,JV,ZV,Q,{value:0,matchParts:1})}}function Sg(r){let e,t,n;return{c(){e=M("div"),D(e,"class",t=pd(`cell-background ${r[2]}`)+" svelte-hwy11c"),D(e,"style",n=`background-color: ${r[1]};`)},m(l,s){w(l,e,s)},p(l,s){s&4&&t!==(t=pd(`cell-background ${l[2]}`)+" svelte-hwy11c")&&D(e,"class",t),s&2&&n!==(n=`background-color: ${l[1]};`)&&D(e,"style",n)},d(l){l&&v(e)}}}function xV(r){let e,t=r[0]&&Sg(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,[l]){n[0]?t?t.p(n,l):(t=Sg(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:j,o:j,d(n){t&&t.d(n),n&&v(e)}}}function eq(r,e,t){let{when:n=!0}=e,{color:l}=e,{class:s=""}=e;return r.$$set=i=>{"when"in i&&t(0,n=i.when),"color"in i&&t(1,l=i.color),"class"in i&&t(2,s=i.class)},[n,l,s]}class Dr extends x{constructor(e){super(),J(this,e,eq,xV,Q,{when:0,color:1,class:2})}}function Cg(r){let e,t,n,l;return e=new Dr({props:{color:"rgba(14, 101, 235, 0.1)",when:r[2]}}),n=new Dr({props:{color:"var(--cell-background-color)",when:r[7]!=="noMatch"}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&4&&(o.when=s[2]),e.$set(o);const a={};i&128&&(a.when=s[7]!=="noMatch"),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function tq(r){let e,t,n,l,s,i,o=r[4]!=="edit"&&Cg(r);const a=r[16].default,u=Ie(a,r,r[15],null);let c=[{class:"cell-wrapper"},{tabindex:n=-1},r[14]],f={};for(let m=0;m<c.length;m+=1)f=le(f,c[m]);return{c(){e=M("div"),o&&o.c(),t=N(),u&&u.c(),ct(e,f),re(e,"is-active",r[1]),re(e,"is-focused",r[10]),re(e,"disabled",r[3]),re(e,"is-edit-mode",r[4]==="edit"),re(e,"truncate",r[5]&&!r[8]),re(e,"h-align-right",r[9]==="right"&&!r[8]),re(e,"has-padding",r[6]&&!r[8]),re(e,"exact-match",r[7]==="exactMatch"),re(e,"substring-match",r[7]==="substringMatch"),re(e,"no-match",r[7]==="noMatch"),re(e,"svelte-89fo8v",!0)},m(m,d){w(m,e,d),o&&o.m(e,null),I(e,t),u&&u.m(e,null),r[22](e),l=!0,s||(i=[He(e,"click",r[17]),He(e,"dblclick",r[18]),He(e,"mousedown",r[19]),He(e,"mouseenter",r[20]),He(e,"keydown",r[21]),He(e,"copy",r[13]),He(e,"focus",r[11]),He(e,"blur",r[12])],s=!0)},p(m,[d]){m[4]!=="edit"?o?(o.p(m,d),d&16&&_(o,1)):(o=Cg(m),o.c(),_(o,1),o.m(e,t)):o&&(G(),g(o,1,1,()=>{o=null}),K()),u&&u.p&&(!l||d&32768)&&Ae(u,a,m,m[15],l?Me(a,m[15],d,null):Pe(m[15]),null),ct(e,f=de(c,[{class:"cell-wrapper"},{tabindex:n},d&16384&&m[14]])),re(e,"is-active",m[1]),re(e,"is-focused",m[10]),re(e,"disabled",m[3]),re(e,"is-edit-mode",m[4]==="edit"),re(e,"truncate",m[5]&&!m[8]),re(e,"h-align-right",m[9]==="right"&&!m[8]),re(e,"has-padding",m[6]&&!m[8]),re(e,"exact-match",m[7]==="exactMatch"),re(e,"substring-match",m[7]==="substringMatch"),re(e,"no-match",m[7]==="noMatch"),re(e,"svelte-89fo8v",!0)},i(m){l||(_(o),_(u,m),l=!0)},o(m){g(o),g(u,m),l=!1},d(m){m&&v(e),o&&o.d(),u&&u.d(m),r[22](null),s=!1,It(i)}}}function nq(r,e,t){const n=["element","isActive","isSelectedInRange","disabled","mode","multiLineTruncate","hasPadding","valueComparisonOutcome","isIndependentOfSheet","horizontalAlignment"];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e,{element:o=void 0}=e,{isActive:a=!1}=e,{isSelectedInRange:u=!1}=e,{disabled:c=!1}=e,{mode:f="default"}=e,{multiLineTruncate:m=!1}=e,{hasPadding:d=!0}=e,{valueComparisonOutcome:p=void 0}=e,{isIndependentOfSheet:h=!1}=e,{horizontalAlignment:b="left"}=e,$=!1;function k(H,z){return!(!H||z==="edit"||!o||o.contains(document.activeElement))}async function T(H,z){await on(),k(H,z)&&(o==null||o.focus())}function E(){t(10,$=!0)}function A(){t(10,$=!1)}function P(H){H.target!==o&&H.stopPropagation()}function O(H){ye.call(this,r,H)}function R(H){ye.call(this,r,H)}function F(H){ye.call(this,r,H)}function L(H){ye.call(this,r,H)}function U(H){ye.call(this,r,H)}function W(H){Te[H?"unshift":"push"](()=>{o=H,t(0,o)})}return r.$$set=H=>{e=le(le({},e),_t(H)),t(14,l=Ye(e,n)),"element"in H&&t(0,o=H.element),"isActive"in H&&t(1,a=H.isActive),"isSelectedInRange"in H&&t(2,u=H.isSelectedInRange),"disabled"in H&&t(3,c=H.disabled),"mode"in H&&t(4,f=H.mode),"multiLineTruncate"in H&&t(5,m=H.multiLineTruncate),"hasPadding"in H&&t(6,d=H.hasPadding),"valueComparisonOutcome"in H&&t(7,p=H.valueComparisonOutcome),"isIndependentOfSheet"in H&&t(8,h=H.isIndependentOfSheet),"horizontalAlignment"in H&&t(9,b=H.horizontalAlignment),"$$scope"in H&&t(15,i=H.$$scope)},r.$$.update=()=>{r.$$.dirty&18&&T(a,f)},[o,a,u,c,f,m,d,p,h,b,$,E,A,P,l,i,s,O,R,F,L,U,W]}class ki extends x{constructor(e){super(),J(this,e,nq,tq,Q,{element:0,isActive:1,isSelectedInRange:2,disabled:3,mode:4,multiLineTruncate:5,hasPadding:6,valueComparisonOutcome:7,isIndependentOfSheet:8,horizontalAlignment:9})}}const rq=r=>({value:r&1,formatValue:r&32,matchParts:r&512}),Tg=r=>({value:r[0],formatValue:r[5],matchParts:r[9],handleInputBlur:r[17],handleInputKeydown:r[16]}),lq=r=>({}),Eg=r=>({handleInputBlur:r[17],handleInputKeydown:r[16]});function sq(r){let e,t,n;return t=new pi({props:{lines:r[1]&&r[4]?2:1,passthrough:!r[8],$$slots:{default:[aq]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","content svelte-kb88kg"),re(e,"nowrap",!r[1]&&!r[7]),re(e,"truncate",r[1]&&r[4]&&!r[7])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&18&&(i.lines=l[1]&&l[4]?2:1),s&256&&(i.passthrough=!l[8]),s&16785953&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&130)&&re(e,"nowrap",!l[1]&&!l[7]),(!n||s&146)&&re(e,"truncate",l[1]&&l[4]&&!l[7])},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function iq(r){let e;const t=r[21].default,n=Ie(t,r,r[24],Eg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16777216)&&Ae(n,t,l,l[24],e?Me(t,l[24],s,lq):Pe(l[24]),Eg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function oq(r){let e,t;return e=new Po({props:{value:r[13],matchParts:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8192&&(s.value=n[13]),l&512&&(s.matchParts=n[9]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aq(r){let e;const t=r[21].content,n=Ie(t,r,r[24],Tg),l=n||oq(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&16777761)&&Ae(n,t,s,s[24],e?Me(t,s[24],i,rq):Pe(s[24]),Tg):l&&l.p&&(!e||i&8704)&&l.p(s,e?i:-1)},i(s){e||(_(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function uq(r){let e,t,n,l;const s=[iq,sq],i=[];function o(a,u){return a[11]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function cq(r){let e,t,n;function l(i){r[22](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],mode:r[11]?"edit":"default",multiLineTruncate:r[4],horizontalAlignment:r[6],valueComparisonOutcome:r[12],isIndependentOfSheet:r[7],$$slots:{default:[uq]},$$scope:{ctx:r}};return r[10]!==void 0&&(s.element=r[10]),e=new ki({props:s}),Te.push(()=>Oe(e,"element",l)),e.$on("dblclick",r[14]),e.$on("keydown",r[15]),e.$on("mousedown",r[18]),e.$on("mouseenter",r[23]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&2048&&(a.mode=i[11]?"edit":"default"),o&16&&(a.multiLineTruncate=i[4]),o&64&&(a.horizontalAlignment=i[6]),o&4096&&(a.valueComparisonOutcome=i[12]),o&128&&(a.isIndependentOfSheet=i[7]),o&16788403&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1024&&(t=!0,a.element=i[10],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function fq(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e;const a=ht();let{isActive:u}=e,{isSelectedInRange:c}=e,{value:f}=e,{disabled:m}=e,{multiLineTruncate:d=!1}=e,{formatValue:p=void 0}=e,{horizontalAlignment:h=void 0}=e,{searchValue:b=void 0}=e,{isIndependentOfSheet:$=!1}=e,{showTruncationPopover:k=!1}=e,{highlightSubstringMatches:T=!0}=e,E,A=!1,P;function O(){m||t(11,A=!0)}function R(){t(11,A=!1)}function F(){t(0,f=P)}function L(){P=f}function U(V){switch(V.key){case"Enter":A?R():O(),V.preventDefault();break;case"Escape":F(),R();break;case"Tab":R(),a("movementKeyDown",{originalEvent:V,key:V.key});break;case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":A||a("movementKeyDown",{originalEvent:V,key:V.key});break}}function W(){f!==P&&(L(),a("update",{value:f}))}function H(V){switch(V.key){case"Escape":F();break;case"Enter":case"Tab":W();break}}function z(){W(),R()}function te(){u||a("activate")}_n(L);function se(V){E=V,t(10,E)}function B(V){ye.call(this,r,V)}return r.$$set=V=>{"isActive"in V&&t(1,u=V.isActive),"isSelectedInRange"in V&&t(2,c=V.isSelectedInRange),"value"in V&&t(0,f=V.value),"disabled"in V&&t(3,m=V.disabled),"multiLineTruncate"in V&&t(4,d=V.multiLineTruncate),"formatValue"in V&&t(5,p=V.formatValue),"horizontalAlignment"in V&&t(6,h=V.horizontalAlignment),"searchValue"in V&&t(19,b=V.searchValue),"isIndependentOfSheet"in V&&t(7,$=V.isIndependentOfSheet),"showTruncationPopover"in V&&t(8,k=V.showTruncationPopover),"highlightSubstringMatches"in V&&t(20,T=V.highlightSubstringMatches),"$$scope"in V&&t(24,o=V.$$scope)},r.$$.update=()=>{var V;r.$$.dirty&33&&t(13,n=(V=p==null?void 0:p(f))!=null?V:f),r.$$.dirty&1572865&&t(9,l=(()=>{if(!(!T||typeof f!="string"||typeof b!="string"))return D6(f,b)})()),r.$$.dirty&524833&&t(12,s=(()=>l?zM(l):Vf(b,f,ie=>{var _e;return ie==null?"":(_e=p==null?void 0:p(ie))!=null?_e:""}))())},[f,u,c,m,d,p,h,$,k,l,E,A,s,n,O,U,H,z,te,b,T,i,se,B,o]}class ws extends x{constructor(e){super(),J(this,e,fq,cq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,multiLineTruncate:4,formatValue:5,horizontalAlignment:6,searchValue:19,isIndependentOfSheet:7,showTruncationPopover:8,highlightSubstringMatches:20})}}function mq(r){let e,t,n;function l(o){r[8](o)}function s(...o){return r[9](r[16],...o)}let i={focusOnMount:!0,maxlength:Zi(r[7]),disabled:r[3],addNewLineOnEnterKeyCombinations:!0};return r[0]!==void 0&&(i.value=r[0]),e=new bs({props:i}),Te.push(()=>Oe(e,"value",l)),e.$on("blur",function(){Pt(r[15])&&r[15].apply(this,arguments)}),e.$on("processedKeyDown",s),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u={};a&128&&(u.maxlength=Zi(r[7])),a&8&&(u.disabled=r[3]),!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function dq(r){let e,t,n;function l(i){r[10](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[5],showTruncationPopover:r[6],multiLineTruncate:!0,$$slots:{default:[mq,({handleInputBlur:i,handleInputKeydown:o})=>({15:i,16:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?32768:0)|(o?65536:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[11]),e.$on("activate",r[12]),e.$on("mouseenter",r[13]),e.$on("update",r[14]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&64&&(a.showTruncationPopover=i[6]),o&229513&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function _q(r,e){const{type:t,originalEvent:n}=r;t==="newlineWithEnterKeyCombination"?n.stopPropagation():e(n)}function pq(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s=void 0}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e,{length:c=void 0}=e;function f(k){s=k,t(0,s)}const m=(k,T)=>_q(T.detail,k);function d(k){s=k,t(0,s)}function p(k){ye.call(this,r,k)}function h(k){ye.call(this,r,k)}function b(k){ye.call(this,r,k)}function $(k){ye.call(this,r,k)}return r.$$set=k=>{"isActive"in k&&t(1,n=k.isActive),"isSelectedInRange"in k&&t(2,l=k.isSelectedInRange),"value"in k&&t(0,s=k.value),"disabled"in k&&t(3,i=k.disabled),"searchValue"in k&&t(4,o=k.searchValue),"isIndependentOfSheet"in k&&t(5,a=k.isIndependentOfSheet),"showTruncationPopover"in k&&t(6,u=k.showTruncationPopover),"length"in k&&t(7,c=k.length)},[s,n,l,i,o,a,u,c,f,m,d,p,h,b,$]}class gq extends x{constructor(e){super(),J(this,e,pq,dq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}function hq(r){let e,t,n;function l(i){r[8](i)}let s={focusOnMount:!0,maxlength:Zi(r[7]),disabled:r[3]};return r[0]!==void 0&&(s.value=r[0]),e=new gn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("blur",function(){Pt(r[14])&&r[14].apply(this,arguments)}),e.$on("keydown",function(){Pt(r[15])&&r[15].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&128&&(a.maxlength=Zi(r[7])),o&8&&(a.disabled=r[3]),!t&&o&1&&(t=!0,a.value=r[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function bq(r){let e,t,n;function l(i){r[9](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[5],showTruncationPopover:r[6],$$slots:{default:[hq,({handleInputBlur:i,handleInputKeydown:o})=>({14:i,15:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?16384:0)|(o?32768:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[10]),e.$on("activate",r[11]),e.$on("mouseenter",r[12]),e.$on("update",r[13]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&64&&(a.showTruncationPopover=i[6]),o&114825&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function $q(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s=void 0}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e,{length:c=void 0}=e;function f($){s=$,t(0,s)}function m($){s=$,t(0,s)}function d($){ye.call(this,r,$)}function p($){ye.call(this,r,$)}function h($){ye.call(this,r,$)}function b($){ye.call(this,r,$)}return r.$$set=$=>{"isActive"in $&&t(1,n=$.isActive),"isSelectedInRange"in $&&t(2,l=$.isSelectedInRange),"value"in $&&t(0,s=$.value),"disabled"in $&&t(3,i=$.disabled),"searchValue"in $&&t(4,o=$.searchValue),"isIndependentOfSheet"in $&&t(5,a=$.isIndependentOfSheet),"showTruncationPopover"in $&&t(6,u=$.showTruncationPopover),"length"in $&&t(7,c=$.length)},[s,n,l,i,o,a,u,c,f,m,d,p,h,b]}class vq extends x{constructor(e){super(),J(this,e,$q,bq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6,length:7})}}const wq={initialInputValue:"",get:(r,e)=>{var l;const t=(l=r.type_options)!=null?l:{};return{component:e!=null&&e.multiLine?gq:vq,props:t}},getInput:(r,e)=>{var n;return{component:e!=null&&e.multiLine?zV:gn,props:{maxlength:Zi((n=r.type_options)==null?void 0:n.length)}}},getDisplayFormatter:()=>String};function kq(r){let e,t,n;function l(i){r[13](i)}let s={allowIndeterminate:!0,disabled:r[3]||r[4]};return r[0]!==void 0&&(s.checked=r[0]),e=new Al({props:s}),Te.push(()=>Oe(e,"checked",l)),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&24&&(a.disabled=i[3]||i[4]),!t&&o&1&&(t=!0,a.checked=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function yq(r){let e,t;return e=new Nu({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Sq(r){let e,t,n,l;const s=[yq,kq],i=[];function o(a,u){return a[0]===void 0?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Cq(r){let e,t,n;function l(i){r[14](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[5],valueComparisonOutcome:r[7],$$slots:{default:[Sq]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.element=r[6]),e=new ki({props:s}),Te.push(()=>Oe(e,"element",l)),e.$on("mouseenter",r[15]),e.$on("keydown",r[9]),e.$on("click",r[10]),e.$on("mousedown",r[11]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&32&&(a.isIndependentOfSheet=i[5]),o&128&&(a.valueComparisonOutcome=i[7]),o&262169&&(a.$$scope={dirty:o,ctx:i}),!t&&o&64&&(t=!0,a.element=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Tq(r,e,t){let n;const l=ht();let{isActive:s}=e,{isSelectedInRange:i}=e,{value:o=void 0}=e,{disabled:a}=e,{searchValue:u=void 0}=e,{isProcessing:c}=e,{isIndependentOfSheet:f}=e,m,d=!1;function p(){l("update",{value:o})}function h(A){switch(A.key){case"Enter":s&&(t(0,o=!o),p());break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":l("movementKeyDown",{originalEvent:A,key:A.key});break}}function b(A){!a&&s&&A.target===m&&!d&&(t(0,o=!o),p()),d=!1,m==null||m.focus()}function $(){s||(d=!0,l("activate"))}function k(A){o=A,t(0,o)}function T(A){m=A,t(6,m)}function E(A){ye.call(this,r,A)}return r.$$set=A=>{"isActive"in A&&t(1,s=A.isActive),"isSelectedInRange"in A&&t(2,i=A.isSelectedInRange),"value"in A&&t(0,o=A.value),"disabled"in A&&t(3,a=A.disabled),"searchValue"in A&&t(12,u=A.searchValue),"isProcessing"in A&&t(4,c=A.isProcessing),"isIndependentOfSheet"in A&&t(5,f=A.isIndependentOfSheet)},r.$$.update=()=>{r.$$.dirty&4097&&t(7,n=Vf(u,o))},[o,s,i,a,c,f,m,n,p,h,b,$,u,k,T,E]}class Eq extends x{constructor(e){super(),J(this,e,Tq,Cq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:12,isProcessing:4,isIndependentOfSheet:5})}}function Dq(r){var n;let e=r[6]((n=r[0])!=null?n:void 0)+"",t;return{c(){t=q(e)},m(l,s){w(l,t,s)},p(l,s){var i;s&65&&e!==(e=l[6]((i=l[0])!=null?i:void 0)+"")&&Y(t,e)},d(l){l&&v(t)}}}function Dg(r){let e,t,n;const l=[ar];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","icon svelte-j6pzvy")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?de(l,[$e(ar)]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function Iq(r){let e,t,n,l,s;n=new Po({props:{value:r[0],$$slots:{default:[Dq]},$$scope:{ctx:r}}});let i=r[1]&&Dg();return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),i&&i.c(),D(t,"class","value svelte-j6pzvy"),re(t,"active",r[1]),D(e,"class","cell svelte-j6pzvy")},m(o,a){w(o,e,a),I(e,t),y(n,t,null),I(e,l),i&&i.m(e,null),s=!0},p(o,a){const u={};a&1&&(u.value=o[0]),a&16777281&&(u.$$scope={dirty:a,ctx:o}),n.$set(u),(!s||a&2)&&re(t,"active",o[1]),o[1]?i?(i.p(o,a),a&2&&_(i,1)):(i=Dg(),i.c(),_(i,1),i.m(e,null)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(n.$$.fragment,o),_(i),s=!0)},o(o){g(n.$$.fragment,o),g(i),s=!1},d(o){o&&v(e),S(n),i&&i.d()}}}function Mq(r){let e,t;return e=new _i({props:{id:r[8]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Aq(r){let e,t,n,l,s;function i(f){r[14](f)}function o(){return r[16](r[22])}function a(...f){return r[17](r[22],r[23],...f)}let u={"aria-controls":r[8],"aria-haspopup":"listbox",isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[4],$$slots:{default:[Iq]},$$scope:{ctx:r}};r[7]!==void 0&&(u.element=r[7]),e=new ki({props:u}),Te.push(()=>Oe(e,"element",i)),e.$on("mousedown",r[10]),e.$on("mouseenter",r[15]),e.$on("click",o),e.$on("keydown",a);function c(){return r[18](r[22])}return l=new gs({props:{trigger:r[7],isOpen:r[23],class:"single-select-cell-dropdown retain-active-cell",$$slots:{default:[Mq]},$$scope:{ctx:r}}}),l.$on("close",c),{c(){C(e.$$.fragment),n=N(),C(l.$$.fragment)},m(f,m){y(e,f,m),w(f,n,m),y(l,f,m),s=!0},p(f,m){r=f;const d={};m&2&&(d.isActive=r[1]),m&4&&(d.isSelectedInRange=r[2]),m&8&&(d.disabled=r[3]),m&16&&(d.isIndependentOfSheet=r[4]),m&16777283&&(d.$$scope={dirty:m,ctx:r}),!t&&m&128&&(t=!0,d.element=r[7],Ne(()=>t=!1)),e.$set(d);const p={};m&128&&(p.trigger=r[7]),m&8388608&&(p.isOpen=r[23]),m&16777216&&(p.$$scope={dirty:m,ctx:r}),l.$set(p)},i(f){s||(_(e.$$.fragment,f),_(l.$$.fragment,f),s=!0)},o(f){g(e.$$.fragment,f),g(l.$$.fragment,f),s=!1},d(f){S(e,f),f&&v(n),S(l,f)}}}function Pq(r){let e,t;return e=new mu({props:{options:r[5],getLabel:r[6],disabled:r[3],selectionType:"single",value:kn(r[0])?[r[0]]:[],$$slots:{default:[Aq,({api:n,isOpen:l})=>({22:n,23:l}),({api:n,isOpen:l})=>(n?4194304:0)|(l?8388608:0)]},$$scope:{ctx:r}}}),e.$on("change",r[19]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&32&&(s.options=n[5]),l&64&&(s.getLabel=n[6]),l&8&&(s.disabled=n[3]),l&1&&(s.value=kn(n[0])?[n[0]]:[]),l&29360351&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rq(r,e,t){const n=ht(),l=Il();let{isActive:s}=e,{isSelectedInRange:i}=e,{value:o=void 0}=e,{disabled:a}=e,{isIndependentOfSheet:u}=e,{options:c=[]}=e,{getLabel:f=F=>ui(F)}=e,m,d=!1;function p(F){s&&!d&&F.toggle(),d=!1}function h(){s||(d=!0,n("activate"))}function b(F,L,U){if(["Tab","ArrowLeft","ArrowRight"].includes(F.key)){n("movementKeyDown",{originalEvent:F,key:F.key}),L.close();return}if(U){L.handleKeyDown(F);return}switch(F.key){case"Enter":a||L.handleKeyDown(F);break;case"ArrowDown":case"ArrowUp":n("movementKeyDown",{originalEvent:F,key:F.key});break}}function $(F){t(0,[o]=F,o),n("update",{value:o})}function k(F){F.close(),m==null||m.focus()}function T(F){m=F,t(7,m)}function E(F){ye.call(this,r,F)}const A=F=>p(F),P=(F,L,U)=>b(U,F,L),O=F=>k(F),R=F=>$(F.detail);return r.$$set=F=>{"isActive"in F&&t(1,s=F.isActive),"isSelectedInRange"in F&&t(2,i=F.isSelectedInRange),"value"in F&&t(0,o=F.value),"disabled"in F&&t(3,a=F.disabled),"isIndependentOfSheet"in F&&t(4,u=F.isIndependentOfSheet),"options"in F&&t(5,c=F.options),"getLabel"in F&&t(6,f=F.getLabel)},[o,s,i,a,u,c,f,m,l,p,h,b,$,k,T,E,A,P,O,R]}class Oq extends x{constructor(e){super(),J(this,e,Rq,Pq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,options:5,getLabel:6})}}function L5(r){var t,n,l;const e=(t=r==null?void 0:r.custom_labels)!=null?t:void 0;return[(n=e==null?void 0:e.TRUE)!=null?n:"true",(l=e==null?void 0:e.FALSE)!=null?l:"false"]}function N5(r,e){return kn(e)?e?r[0]:r[1]:""}function Ig(r){const e=L5(r.display_options);return{options:[null,!0,!1],getLabel:t=>N5(e,t)}}const Lq={initialInputValue:null,get:r=>{var t;const e=(t=r.display_options)!=null?t:void 0;return e&&e.input==="dropdown"?{component:Oq,props:Ig(r)}:{component:Eq,props:{}}},getInput:r=>({component:Tn,props:Ig(r)}),getDisplayFormatter(r){const e=L5(r.display_options);return t=>t==null||typeof t=="boolean"?N5(e,t):""}};function Nq(r){let e,t;const n=[r[3],{value:r[1]},{cssVariables:r[2]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new k6({props:l}),e.$on("blur",r[4]),e.$on("focus",r[5]),e.$on("keydown",r[6]),e.$on("artificialInput",r[7]),e.$on("artificialInput",r[8]),e.$on("artificialChange",r[9]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&14?de(n,[i&8&&$e(s[3]),i&2&&{value:s[1]},i&4&&{cssVariables:s[2]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Fq(r){return r==null?null:String(r)}function Hq(r,e,t){let n;const l=["value"];let s=Ye(e,l),{value:i=void 0}=e,o=null;function a(h){t(1,o=Fq(h))}function u(h){ye.call(this,r,h)}function c(h){ye.call(this,r,h)}function f(h){ye.call(this,r,h)}const m=({detail:h})=>{t(0,i=h)};function d(h){ye.call(this,r,h)}function p(h){ye.call(this,r,h)}return r.$$set=h=>{e=le(le({},e),_t(h)),t(3,s=Ye(e,l)),"value"in h&&t(0,i=h.value)},r.$$.update=()=>{r.$$.dirty&1&&a(i),t(2,n={"--input-element-text-align":"right",...s.cssVariables||{}})},[i,o,n,s,u,c,f,m,d,p]}class F5 extends x{constructor(e){super(),J(this,e,Hq,Nq,Q,{value:0})}}function zq(r){let e,t,n;const l=[{focusOnMount:!0},{disabled:r[3]},r[5]];function s(o){r[10](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new F5({props:i}),Te.push(()=>Oe(e,"value",s)),e.$on("blur",function(){Pt(r[16])&&r[16].apply(this,arguments)}),e.$on("keydown",function(){Pt(r[17])&&r[17].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u=a&40?de(l,[l[0],a&8&&{disabled:r[3]},a&32&&$e(r[5])]):{};!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function Vq(r){let e,t,n;function l(i){r[11](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[7],showTruncationPopover:r[8],searchValue:r[4],formatValue:r[9],horizontalAlignment:r[6],$$slots:{default:[zq,({handleInputBlur:i,handleInputKeydown:o})=>({16:i,17:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?65536:0)|(o?131072:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[12]),e.$on("activate",r[13]),e.$on("mouseenter",r[14]),e.$on("update",r[15]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&128&&(a.isIndependentOfSheet=i[7]),o&256&&(a.showTruncationPopover=i[8]),o&16&&(a.searchValue=i[4]),o&512&&(a.formatValue=i[9]),o&64&&(a.horizontalAlignment=i[6]),o&458793&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function qq(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{formatterOptions:a}=e,{horizontalAlignment:u="right"}=e,{isIndependentOfSheet:c}=e,{showTruncationPopover:f=!1}=e,{formatForDisplay:m}=e;function d(T){s=T,t(0,s)}function p(T){s=T,t(0,s)}function h(T){ye.call(this,r,T)}function b(T){ye.call(this,r,T)}function $(T){ye.call(this,r,T)}function k(T){ye.call(this,r,T)}return r.$$set=T=>{"isActive"in T&&t(1,n=T.isActive),"isSelectedInRange"in T&&t(2,l=T.isSelectedInRange),"value"in T&&t(0,s=T.value),"disabled"in T&&t(3,i=T.disabled),"searchValue"in T&&t(4,o=T.searchValue),"formatterOptions"in T&&t(5,a=T.formatterOptions),"horizontalAlignment"in T&&t(6,u=T.horizontalAlignment),"isIndependentOfSheet"in T&&t(7,c=T.isIndependentOfSheet),"showTruncationPopover"in T&&t(8,f=T.showTruncationPopover),"formatForDisplay"in T&&t(9,m=T.formatForDisplay)},[s,n,l,i,o,a,u,c,f,m,d,p,h,b,$,k]}class Bq extends x{constructor(e){super(),J(this,e,qq,Vq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,horizontalAlignment:6,isIndependentOfSheet:7,showTruncationPopover:8,formatForDisplay:9})}}const Uq=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function Wq(r,e){var t,n;return e==="scale-based"?((n=(t=r.type_options)==null?void 0:t.scale)!=null?n:1/0)!==0:e!=="never"}function H5(r){switch(r){case"true":return!0;case"false":default:return!1}}function z5(r,e){var u,c,f,m;const t=r.display_options,n=(u=t==null?void 0:t.number_format)!=null?u:null,l=(c=n&&Uq.get(n))!=null?c:void 0,s=H5((f=t==null?void 0:t.use_grouping)!=null?f:"false"),i=Wq(r,e==null?void 0:e.floatAllowanceStrategy),o=!0,a=(m=t==null?void 0:t.minimum_fraction_digits)!=null?m:void 0;return{locale:l,allowFloat:i,allowNegative:o,useGrouping:s,minimumFractionDigits:a}}function Mg(r,e){var o;const t=z5(r,e),n=r.display_options,l=(o=n==null?void 0:n.maximum_fraction_digits)!=null?o:void 0,s={...t,maximumFractionDigits:l},i=new Hf(s);return{formatterOptions:s,formatForDisplay:a=>kn(a)?i.format(String(a)):a}}const jq={get(r,e){return{component:Bq,props:Mg(r,e)}},getInput(r,e){return{component:F5,props:z5(r,e)}},getDisplayFormatter(r,e){return t=>Mg(r,e).formatForDisplay(String(t))}};function Yq(r){let e,t;const n=[r[3],{value:r[1]},{cssVariables:r[2]}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new k6({props:l}),e.$on("blur",r[4]),e.$on("focus",r[5]),e.$on("keydown",r[6]),e.$on("artificialInput",r[7]),e.$on("artificialInput",r[8]),e.$on("artificialChange",r[9]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&14?de(n,[i&8&&$e(s[3]),i&2&&{value:s[1]},i&4&&{cssVariables:s[2]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Gq(r){return r==null?null:String(r)}function Kq(r,e,t){let n;const l=["value"];let s=Ye(e,l),{value:i=void 0}=e,o=null;function a(h){t(1,o=Gq(h))}function u(h){ye.call(this,r,h)}function c(h){ye.call(this,r,h)}function f(h){ye.call(this,r,h)}const m=({detail:h})=>{t(0,i=h)};function d(h){ye.call(this,r,h)}function p(h){ye.call(this,r,h)}return r.$$set=h=>{e=le(le({},e),_t(h)),t(3,s=Ye(e,l)),"value"in h&&t(0,i=h.value)},r.$$.update=()=>{r.$$.dirty&1&&a(i),t(2,n={"--input-element-text-align":"right",...s.cssVariables||{}})},[i,o,n,s,u,c,f,m,d,p]}class V5 extends x{constructor(e){super(),J(this,e,Kq,Yq,Q,{value:0})}}function Xq(r){let e,t,n;const l=[{focusOnMount:!0},{disabled:r[3]},r[5]];function s(o){r[9](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new V5({props:i}),Te.push(()=>Oe(e,"value",s)),e.$on("blur",function(){Pt(r[15])&&r[15].apply(this,arguments)}),e.$on("keydown",function(){Pt(r[16])&&r[16].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u=a&40?de(l,[l[0],a&8&&{disabled:r[3]},a&32&&$e(r[5])]):{};!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function Qq(r){let e,t,n;function l(i){r[10](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[7],showTruncationPopover:r[8],formatValue:r[6],horizontalAlignment:"right",$$slots:{default:[Xq,({handleInputBlur:i,handleInputKeydown:o})=>({15:i,16:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?32768:0)|(o?65536:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[11]),e.$on("mouseenter",r[12]),e.$on("activate",r[13]),e.$on("update",r[14]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&128&&(a.isIndependentOfSheet=i[7]),o&256&&(a.showTruncationPopover=i[8]),o&64&&(a.formatValue=i[6]),o&229417&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Zq(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{formatterOptions:a}=e,{formatForDisplay:u}=e,{isIndependentOfSheet:c}=e,{showTruncationPopover:f=!1}=e;function m(k){s=k,t(0,s)}function d(k){s=k,t(0,s)}function p(k){ye.call(this,r,k)}function h(k){ye.call(this,r,k)}function b(k){ye.call(this,r,k)}function $(k){ye.call(this,r,k)}return r.$$set=k=>{"isActive"in k&&t(1,n=k.isActive),"isSelectedInRange"in k&&t(2,l=k.isSelectedInRange),"value"in k&&t(0,s=k.value),"disabled"in k&&t(3,i=k.disabled),"searchValue"in k&&t(4,o=k.searchValue),"formatterOptions"in k&&t(5,a=k.formatterOptions),"formatForDisplay"in k&&t(6,u=k.formatForDisplay),"isIndependentOfSheet"in k&&t(7,c=k.isIndependentOfSheet),"showTruncationPopover"in k&&t(8,f=k.showTruncationPopover)},[s,n,l,i,o,a,u,c,f,m,d,p,h,b,$]}class Jq extends x{constructor(e){super(),J(this,e,Zq,Qq,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,formatterOptions:5,formatForDisplay:6,isIndependentOfSheet:7,showTruncationPopover:8})}}const xq="$",eB="after-minus",tB=new Map([["english","en"],["german","de"],["french","fr"],["hindi","hi"],["swiss","de-CH"]]);function nB(r){var e,t;return((t=(e=r.type_options)==null?void 0:e.scale)!=null?t:1/0)===0}function q5(r){var n,l,s,i,o,a,u;const e=r.display_options,t=(n=e==null?void 0:e.number_format)!=null?n:null;return{locale:(l=t&&tB.get(t))!=null?l:void 0,useGrouping:H5((s=e==null?void 0:e.use_grouping)!=null?s:"true"),allowFloat:!nB(r),allowNegative:!0,minimumFractionDigits:(i=e==null?void 0:e.minimum_fraction_digits)!=null?i:void 0,maximumFractionDigits:(o=e==null?void 0:e.maximum_fraction_digits)!=null?o:void 0,currencySymbol:(a=e==null?void 0:e.currency_symbol)!=null?a:xq,currencySymbolLocation:(u=e==null?void 0:e.currency_symbol_location)!=null?u:eB}}function Ag(r){const e=q5(r),t=new Hf(e),n=(()=>{switch(e.currencySymbolLocation){case"after-minus":return l=>l.replace(/^(-?)/,`$1${e.currencySymbol}`);case"end-with-space":return l=>`${l} ${e.currencySymbol}`;default:return l=>l}})();return{formatterOptions:e,formatForDisplay:l=>kn(l)?n(t.format(String(l))):l}}const rB={get(r){return{component:Jq,props:Ag(r)}},getInput(r){return{component:V5,props:{...q5(r),maximumFractionDigits:void 0}}},getDisplayFormatter(r){return e=>Ag(r).formatForDisplay(String(e))}};function lB(r){let e,t;const n=r[4].default,l=Ie(n,r,r[3],null);let s=[r[1]],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("a"),l&&l.c(),ct(e,i),re(e,"link",r[0]),Cn(e,"pointer-events",r[0]?"auto":"none",!1),re(e,"svelte-1f5kace",!0)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&8)&&Ae(l,n,o,o[3],t?Me(n,o[3],a,null):Pe(o[3]),null),ct(e,i=de(s,[a&2&&o[1]])),re(e,"link",o[0]),Cn(e,"pointer-events",o[0]?"auto":"none",!1),re(e,"svelte-1f5kace",!0)},i(o){t||(_(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&v(e),l&&l.d(o)}}}function sB(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{isActive:i=!1}=e,{value:o}=e;return r.$$set=a=>{"isActive"in a&&t(0,i=a.isActive),"value"in a&&t(2,o=a.value),"$$scope"in a&&t(3,s=a.$$scope)},r.$$.update=()=>{r.$$.dirty&5&&t(1,n=i&&o?{href:o,target:"_blank"}:{})},[i,n,o,s,l]}class iB extends x{constructor(e){super(),J(this,e,sB,lB,Q,{isActive:0,value:2})}}function oB(r){let e,t,n;function l(i){r[7](i)}let s={focusOnMount:!0,disabled:r[3]};return r[0]!==void 0&&(s.value=r[0]),e=new gn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("blur",function(){Pt(r[13])&&r[13].apply(this,arguments)}),e.$on("keydown",function(){Pt(r[14])&&r[14].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&8&&(a.disabled=r[3]),!t&&o&1&&(t=!0,a.value=r[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function aB(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},i:j,o:j,d(t){t&&v(e)}}}function uB(r){let e,t;return e=new qf({props:{matchParts:r[15]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32768&&(s.matchParts=n[15]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cB(r){let e,t,n,l;const s=[uB,aB],i=[];function o(a,u){return a[15]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function fB(r){let e,t;return e=new iB({props:{value:r[0],isActive:r[1],$$slots:{default:[cB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.value=n[0]),l&2&&(s.isActive=n[1]),l&98305&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mB(r){let e,t,n;return t=new Po({props:{value:r[0],$$slots:{default:[fB]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","content")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.value=l[0]),s&98307&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function dB(r){let e,t,n;function l(i){r[8](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],searchValue:r[4],isIndependentOfSheet:r[5],showTruncationPopover:r[6],$$slots:{content:[mB,({matchParts:i,handleInputBlur:o,handleInputKeydown:a})=>({15:i,13:o,14:a}),({matchParts:i,handleInputBlur:o,handleInputKeydown:a})=>(i?32768:0)|(o?8192:0)|(a?16384:0)],default:[oB,({handleInputBlur:i,handleInputKeydown:o})=>({13:i,14:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?8192:0)|(o?16384:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[9]),e.$on("activate",r[10]),e.$on("mouseenter",r[11]),e.$on("update",r[12]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.searchValue=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&64&&(a.showTruncationPopover=i[6]),o&122891&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function _B(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s=void 0}=e,{disabled:i}=e,{searchValue:o=void 0}=e,{isIndependentOfSheet:a}=e,{showTruncationPopover:u=!1}=e;function c(b){s=b,t(0,s)}function f(b){s=b,t(0,s)}function m(b){ye.call(this,r,b)}function d(b){ye.call(this,r,b)}function p(b){ye.call(this,r,b)}function h(b){ye.call(this,r,b)}return r.$$set=b=>{"isActive"in b&&t(1,n=b.isActive),"isSelectedInRange"in b&&t(2,l=b.isSelectedInRange),"value"in b&&t(0,s=b.value),"disabled"in b&&t(3,i=b.disabled),"searchValue"in b&&t(4,o=b.searchValue),"isIndependentOfSheet"in b&&t(5,a=b.isIndependentOfSheet),"showTruncationPopover"in b&&t(6,u=b.showTruncationPopover)},[s,n,l,i,o,a,u,c,f,m,d,p,h]}class pB extends x{constructor(e){super(),J(this,e,_B,dB,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,searchValue:4,isIndependentOfSheet:5,showTruncationPopover:6})}}const gB={initialInputValue:"",get:()=>({component:pB}),getInput:()=>({component:gn}),getDisplayFormatter:()=>String};function hB(r){let e,t,n;const l=[{focusOnMount:!0},r[9],{formatter:r[6]},{cssVariables:r[8]}];function s(o){r[10](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new di({props:i}),Te.push(()=>Oe(e,"value",s)),e.$on("blur",function(){Pt(r[16])&&r[16].apply(this,arguments)}),e.$on("keydown",function(){Pt(r[17])&&r[17].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){r=o;const u=a&832?de(l,[l[0],a&512&&$e(r[9]),a&64&&{formatter:r[6]},a&256&&{cssVariables:r[8]}]):{};!t&&a&1&&(t=!0,u.value=r[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function bB(r){let e,t,n;function l(i){r[11](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],isIndependentOfSheet:r[4],showTruncationPopover:r[5],horizontalAlignment:"right",formatValue:r[7],$$slots:{default:[hB,({handleInputBlur:i,handleInputKeydown:o})=>({16:i,17:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?65536:0)|(o?131072:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[12]),e.$on("activate",r[13]),e.$on("mouseenter",r[14]),e.$on("update",r[15]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.isIndependentOfSheet=i[4]),o&32&&(a.showTruncationPopover=i[5]),o&128&&(a.formatValue=i[7]),o&459585&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function $B(r,e,t){let n;const l=["isActive","isSelectedInRange","value","disabled","isIndependentOfSheet","showTruncationPopover","formatter","formatForDisplay"];let s=Ye(e,l),{isActive:i}=e,{isSelectedInRange:o}=e,{value:a}=e,{disabled:u}=e,{isIndependentOfSheet:c}=e,{showTruncationPopover:f=!1}=e,{formatter:m}=e,{formatForDisplay:d}=e;function p(E){a=E,t(0,a)}function h(E){a=E,t(0,a)}function b(E){ye.call(this,r,E)}function $(E){ye.call(this,r,E)}function k(E){ye.call(this,r,E)}function T(E){ye.call(this,r,E)}return r.$$set=E=>{e=le(le({},e),_t(E)),t(9,s=Ye(e,l)),"isActive"in E&&t(1,i=E.isActive),"isSelectedInRange"in E&&t(2,o=E.isSelectedInRange),"value"in E&&t(0,a=E.value),"disabled"in E&&t(3,u=E.disabled),"isIndependentOfSheet"in E&&t(4,c=E.isIndependentOfSheet),"showTruncationPopover"in E&&t(5,f=E.showTruncationPopover),"formatter"in E&&t(6,m=E.formatter),"formatForDisplay"in E&&t(7,d=E.formatForDisplay)},r.$$.update=()=>{t(8,n={"--input-element-text-align":"right",...s.cssVariables||{}})},[a,i,o,u,c,f,m,d,n,s,p,h,b,$,k,T]}class vB extends x{constructor(e){super(),J(this,e,$B,bB,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,formatter:6,formatForDisplay:7})}}function Cc(r){var i,o,a,u;const e=uo.getDefaults(),t=(o=(i=r.display_options)==null?void 0:i.max)!=null?o:e.max,n=(u=(a=r.display_options)==null?void 0:a.min)!=null?u:e.min,l=new uo({max:t,min:n}),s=new AN(l);return{formatter:s,placeholder:l.getFormattingString(),formatForDisplay:c=>kn(c)?s.format(c):c}}const wB={get:r=>({component:vB,props:Cc(r)}),getInput:r=>({component:di,props:Cc(r)}),getDisplayFormatter(r){return e=>Cc(r).formatForDisplay(String(e))}};function Pg(r,e,t){const n=r.slice();return n[10]=e[t],n}function kB(r){let e,t=r[4][r[10]].absoluteDate+"",n,l,s,i,o=r[4][r[10]].label+"",a,u;return{c(){e=M("span"),n=q(t),l=N(),s=M("span"),i=q("("),a=q(o),u=q(")"),D(s,"class","tag-label absolute-date svelte-1kzbgml")},m(c,f){w(c,e,f),I(e,n),w(c,l,f),w(c,s,f),I(s,i),I(s,a),I(s,u)},p(c,f){f&4&&t!==(t=c[4][c[10]].absoluteDate+"")&&Y(n,t),f&4&&o!==(o=c[4][c[10]].label+"")&&Y(a,o)},d(c){c&&v(e),c&&v(l),c&&v(s)}}}function yB(r){let e,t=r[4][r[10]].label+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","tag-label")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=l[4][l[10]].label+"")&&Y(n,t)},d(l){l&&v(e)}}}function SB(r){let e;function t(s,i){return s[1]?yB:kB}let n=t(r),l=n(r);return{c(){l.c(),e=N()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function Rg(r,e){var i;let t,n,l;function s(){return e[7](e[10])}return n=new dt({props:{appearance:((i=e[0])==null?void 0:i.trim())===e[10]?"primary":"plain",$$slots:{default:[SB]},$$scope:{ctx:e}}}),n.$on("click",s),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){var c;e=o;const u={};a&5&&(u.appearance=((c=e[0])==null?void 0:c.trim())===e[10]?"primary":"plain"),a&8198&&(u.$$scope={dirty:a,ctx:e}),n.$set(u)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&v(t),S(n,o)}}}function CB(r){let e,t=[],n=new Map,l,s=r[2];const i=o=>o[10];for(let o=0;o<s.length;o+=1){let a=Pg(r,s,o),u=i(a);n.set(u,t[o]=Rg(u,a))}return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","presets svelte-1kzbgml"),re(e,"is-relative",r[1])},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&31&&(s=o[2],G(),t=gt(t,a,i,1,o,s,n,e,bt,Rg,null,Pg),K()),(!l||a&2)&&re(e,"is-relative",o[1])},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function TB(r,e,t){let n,l;Z(r,ge,d=>t(8,l=d));const s=ht();let{type:i}=e,{value:o}=e,{formattingString:a}=e,{isRelative:u=!1}=e;const c={now:{label:l("now"),absoluteDate:dn().format(a)},today:{label:l("today"),absoluteDate:dn().startOf("day").format(a)},yesterday:{label:l("yesterday"),absoluteDate:dn().startOf("day").subtract(1,"day").format(a)}},f={date:["today","yesterday"],datetime:["now","today"],time:["now"]},m=d=>{t(0,o=d),s("change",o)};return r.$$set=d=>{"type"in d&&t(5,i=d.type),"value"in d&&t(0,o=d.value),"formattingString"in d&&t(6,a=d.formattingString),"isRelative"in d&&t(1,u=d.isRelative)},r.$$.update=()=>{r.$$.dirty&32&&t(2,n=f[i])},[o,u,n,s,c,i,a,m]}class EB extends x{constructor(e){super(),J(this,e,TB,CB,Q,{type:5,value:0,formattingString:6,isRelative:1})}}function DB(r){let e,t,n,l,s;e=new AD({props:{type:r[1],value:r[9],format:r[2],timeShow24Hr:r[4],timeEnableSeconds:r[5]}}),e.$on("change",r[23]),e.$on("dateChange",r[11]);function i(a){r[24](a)}let o={isRelative:r[6],type:r[1],formattingString:r[2]};return r[0]!==void 0&&(o.value=r[0]),n=new EB({props:o}),Te.push(()=>Oe(n,"value",i)),n.$on("change",r[11]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),s=!0},p(a,u){const c={};u&2&&(c.type=a[1]),u&512&&(c.value=a[9]),u&4&&(c.format=a[2]),u&16&&(c.timeShow24Hr=a[4]),u&32&&(c.timeEnableSeconds=a[5]),e.$set(c);const f={};u&64&&(f.isRelative=a[6]),u&2&&(f.type=a[1]),u&4&&(f.formattingString=a[2]),!l&&u&1&&(l=!0,f.value=a[0],Ne(()=>l=!1)),n.$set(f)},i(a){s||(_(e.$$.fragment,a),_(n.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),s=!1},d(a){S(e,a),a&&v(t),S(n,a)}}}function IB(r){let e,t,n,l,s,i,o;const a=[r[16],{formatter:r[3]},{placeholder:r[2]}];function u(p){r[17](p)}function c(p){r[18](p)}let f={};for(let p=0;p<a.length;p+=1)f=le(f,a[p]);r[0]!==void 0&&(f.value=r[0]),r[7]!==void 0&&(f.element=r[7]),e=new di({props:f}),Te.push(()=>Oe(e,"value",u)),Te.push(()=>Oe(e,"element",c)),e.$on("focus",r[10]),e.$on("focus",r[19]),e.$on("blur",r[12]),e.$on("keydown",r[13]),e.$on("keydown",r[20]),e.$on("artificialInput",r[21]),e.$on("artificialChange",r[22]);function m(p){r[25](p)}let d={class:"retain-active-cell no-max-height",trigger:r[7],$$slots:{default:[DB]},$$scope:{ctx:r}};return r[8]!==void 0&&(d.isOpen=r[8]),s=new gs({props:d}),Te.push(()=>Oe(s,"isOpen",m)),s.$on("close",r[14]),{c(){C(e.$$.fragment),l=N(),C(s.$$.fragment)},m(p,h){y(e,p,h),w(p,l,h),y(s,p,h),o=!0},p(p,[h]){const b=h&65548?de(a,[h&65536&&$e(p[16]),h&8&&{formatter:p[3]},h&4&&{placeholder:p[2]}]):{};!t&&h&1&&(t=!0,b.value=p[0],Ne(()=>t=!1)),!n&&h&128&&(n=!0,b.element=p[7],Ne(()=>n=!1)),e.$set(b);const $={};h&128&&($.trigger=p[7]),h&268436087&&($.$$scope={dirty:h,ctx:p}),!i&&h&256&&(i=!0,$.isOpen=p[8],Ne(()=>i=!1)),s.$set($)},i(p){o||(_(e.$$.fragment,p),_(s.$$.fragment,p),o=!0)},o(p){g(e.$$.fragment,p),g(s.$$.fragment,p),o=!1},d(p){S(e,p),p&&v(l),S(s,p)}}}function MB(r,e,t){let n;const l=["type","formattingString","formatter","value","timeShow24Hr","timeEnableSeconds","allowRelativePresets"];let s=Ye(e,l);const i=ht();let{type:o}=e,{formattingString:a}=e,{formatter:u}=e,{value:c}=e,{timeShow24Hr:f=!0}=e,{timeEnableSeconds:m=!0}=e,{allowRelativePresets:d=!1}=e,p,h=!1;function b(se){if(kn(se)){const B=u.parseAndFormat(se);if(dn(B,a,!0).isValid())return B}}function $(){t(8,h=!0)}function k(){t(8,h=!1)}function T(){h||i("blur")}function E(se){se.key==="Tab"&&k()}function A(){i("blur")}function P(se){t(0,c=u.parse(se).value),i("artificialInput",c),i("artificialChange",c)}function O(se){c=se,t(0,c)}function R(se){p=se,t(7,p)}function F(se){ye.call(this,r,se)}function L(se){ye.call(this,r,se)}function U(se){ye.call(this,r,se)}function W(se){ye.call(this,r,se)}const H=se=>P(se.detail);function z(se){c=se,t(0,c)}function te(se){h=se,t(8,h)}return r.$$set=se=>{e=le(le({},e),_t(se)),t(16,s=Ye(e,l)),"type"in se&&t(1,o=se.type),"formattingString"in se&&t(2,a=se.formattingString),"formatter"in se&&t(3,u=se.formatter),"value"in se&&t(0,c=se.value),"timeShow24Hr"in se&&t(4,f=se.timeShow24Hr),"timeEnableSeconds"in se&&t(5,m=se.timeEnableSeconds),"allowRelativePresets"in se&&t(6,d=se.allowRelativePresets)},r.$$.update=()=>{r.$$.dirty&1&&t(9,n=b(c))},[c,o,a,u,f,m,d,p,h,n,$,k,T,E,A,P,s,O,R,F,L,U,W,H,z,te]}class Fu extends x{constructor(e){super(),J(this,e,MB,IB,Q,{type:1,formattingString:2,formatter:3,value:0,timeShow24Hr:4,timeEnableSeconds:5,allowRelativePresets:6})}}function AB(r){let e,t,n;function l(i){r[12](i)}let s={focusOnMount:!0,type:r[6],formattingString:r[7],formatter:r[8],timeShow24Hr:r[9],timeEnableSeconds:r[10]};return r[0]!==void 0&&(s.value=r[0]),e=new Fu({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("blur",function(){Pt(r[18])&&r[18].apply(this,arguments)}),e.$on("keydown",function(){Pt(r[19])&&r[19].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&64&&(a.type=r[6]),o&128&&(a.formattingString=r[7]),o&256&&(a.formatter=r[8]),o&512&&(a.timeShow24Hr=r[9]),o&1024&&(a.timeEnableSeconds=r[10]),!t&&o&1&&(t=!0,a.value=r[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function PB(r){let e,t,n;function l(i){r[13](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[3],highlightSubstringMatches:!1,isIndependentOfSheet:r[4],showTruncationPopover:r[5],formatValue:r[11],$$slots:{default:[AB,({handleInputBlur:i,handleInputKeydown:o})=>({18:i,19:o}),({handleInputBlur:i,handleInputKeydown:o})=>(i?262144:0)|(o?524288:0)]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new ws({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("movementKeyDown",r[14]),e.$on("activate",r[15]),e.$on("mouseenter",r[16]),e.$on("update",r[17]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&8&&(a.disabled=i[3]),o&16&&(a.isIndependentOfSheet=i[4]),o&32&&(a.showTruncationPopover=i[5]),o&2048&&(a.formatValue=i[11]),o&1836993&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function RB(r,e,t){let{isActive:n}=e,{isSelectedInRange:l}=e,{value:s}=e,{disabled:i}=e,{isIndependentOfSheet:o}=e,{showTruncationPopover:a=!1}=e,{type:u}=e,{formattingString:c}=e,{formatter:f}=e,{timeShow24Hr:m=!0}=e,{timeEnableSeconds:d=!0}=e,{formatForDisplay:p}=e;function h(A){s=A,t(0,s)}function b(A){s=A,t(0,s)}function $(A){ye.call(this,r,A)}function k(A){ye.call(this,r,A)}function T(A){ye.call(this,r,A)}function E(A){ye.call(this,r,A)}return r.$$set=A=>{"isActive"in A&&t(1,n=A.isActive),"isSelectedInRange"in A&&t(2,l=A.isSelectedInRange),"value"in A&&t(0,s=A.value),"disabled"in A&&t(3,i=A.disabled),"isIndependentOfSheet"in A&&t(4,o=A.isIndependentOfSheet),"showTruncationPopover"in A&&t(5,a=A.showTruncationPopover),"type"in A&&t(6,u=A.type),"formattingString"in A&&t(7,c=A.formattingString),"formatter"in A&&t(8,f=A.formatter),"timeShow24Hr"in A&&t(9,m=A.timeShow24Hr),"timeEnableSeconds"in A&&t(10,d=A.timeEnableSeconds),"formatForDisplay"in A&&t(11,p=A.formatForDisplay)},[s,n,l,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E]}class Dm extends x{constructor(e){super(),J(this,e,RB,PB,Q,{isActive:1,isSelectedInRange:2,value:0,disabled:3,isIndependentOfSheet:4,showTruncationPopover:5,type:6,formattingString:7,formatter:8,timeShow24Hr:9,timeEnableSeconds:10,formatForDisplay:11})}}function Tc(r){var s,i;const t=(i=((s=r.display_options)!=null?s:{}).format)!=null?i:"none",n=new Io({type:"date",dateFormat:t}),l=new tm(n);return{type:"date",formattingString:n.getFormattingString(),formatter:l,formatForDisplay:o=>kn(o)?l.parseAndFormat(o):o}}const OB={get:r=>({component:Dm,props:Tc(r)}),getInput:r=>({component:Fu,props:{...Tc(r),allowRelativePresets:!0}}),getDisplayFormatter(r){return e=>Tc(r).formatForDisplay(String(e))}};function Ec(r,e){var i,o;const n=(o=((i=r.display_options)!=null?i:{}).format)!=null?o:"24hr",l=new Io({type:e?"timeWithTZ":"time",timeFormat:n}),s=new tm(l);return{type:"time",formattingString:l.getFormattingString(),formatter:s,timeEnableSeconds:l.hasSecondsInTime(),timeShow24Hr:l.isTime24Hr(),formatForDisplay:a=>kn(a)?s.parseAndFormat(a):a}}const LB={get:(r,e)=>{var t;return{component:Dm,props:Ec(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1)}},getInput:(r,e)=>{var t;return{component:Fu,props:{...Ec(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1),allowRelativePresets:!0}}},getDisplayFormatter(r,e){var n;const t=(n=e==null?void 0:e.supportTimeZone)!=null?n:!1;return l=>Ec(r,t).formatForDisplay(String(l))}};function Dc(r,e){var o,a,u;const t=(o=r.display_options)!=null?o:{},n=(a=t.date_format)!=null?a:"none",l=(u=t.time_format)!=null?u:"24hr",s=new Io({type:e?"timestampWithTZ":"timestamp",dateFormat:n,timeFormat:l}),i=new tm(s);return{type:"datetime",formattingString:s.getFormattingString(),formatter:i,timeEnableSeconds:s.hasSecondsInTime(),timeShow24Hr:s.isTime24Hr(),formatForDisplay:c=>kn(c)?i.parseAndFormat(c):c}}const NB={get:(r,e)=>{var t;return{component:Dm,props:Dc(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1)}},getInput:(r,e)=>{var t;return{component:Fu,props:{...Dc(r,(t=e==null?void 0:e.supportTimeZone)!=null?t:!1),allowRelativePresets:!0}}},getDisplayFormatter(r,e){return t=>{var n;return Dc(r,(n=e==null?void 0:e.supportTimeZone)!=null?n:!1).formatForDisplay(String(t))}}};function Og(r,e,t){const n=r.slice();return n[10]=e[t],n}function Lg(r){let e,t,n,l=r[4]&&Ng(r),s=r[2],i=[];for(let a=0;a<s.length;a+=1)i[a]=Fg(Og(r,s,a));const o=a=>g(i[a],1,1,()=>{i[a]=null});return{c(){l&&l.c(),e=N(),t=M("div");for(let a=0;a<i.length;a+=1)i[a].c()},m(a,u){l&&l.m(a,u),w(a,e,u),w(a,t,u);for(let c=0;c<i.length;c+=1)i[c].m(t,null);n=!0},p(a,u){if(a[4]?l?l.p(a,u):(l=Ng(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),u&52){s=a[2];let c;for(c=0;c<s.length;c+=1){const f=Og(a,s,c);i[c]?(i[c].p(f,u),_(i[c],1)):(i[c]=Fg(f),i[c].c(),_(i[c],1),i[c].m(t,null))}for(G(),c=s.length;c<i.length;c+=1)o(c);K()}},i(a){if(!n){for(let u=0;u<s.length;u+=1)_(i[u]);n=!0}},o(a){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)g(i[u]);n=!1},d(a){l&&l.d(a),a&&v(e),a&&v(t),jn(i,a)}}}function Ng(r){let e,t=df(r[2],"values")+"",n;return{c(){e=M("div"),n=q(t),D(e,"class","count svelte-1gbu1gr")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=df(l[2],"values")+"")&&Y(n,t)},d(l){l&&v(e)}}}function FB(r){let e=r[5](r[10])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&36&&e!==(e=n[5](n[10])+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function HB(r){let e,t;return e=new wi({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zB(r){let e,t,n,l;const s=[HB,FB],i=[];function o(a,u){return a[10]===null?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=N()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Fg(r){let e,t;return e=new s6({props:{display:r[4]?"inline-block":"inline",background:"var(--slate-200)",$$slots:{default:[zB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.display=n[4]?"inline-block":"inline"),l&8228&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function VB(r){let e=kn(r[2]),t,n,l=e&&Lg(r);return{c(){l&&l.c(),t=oe()},m(s,i){l&&l.m(s,i),w(s,t,i),n=!0},p(s,i){i&4&&(e=kn(s[2])),e?l?(l.p(s,i),i&4&&_(l,1)):(l=Lg(s),l.c(),_(l,1),l.m(t.parentNode,t)):l&&(G(),g(l,1,1,()=>{l=null}),K())},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){l&&l.d(s),s&&v(t)}}}function qB(r){let e,t;return e=new Po({props:{value:r[2],$$slots:{default:[VB]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.value=n[2]),l&8244&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function BB(r){let e,t;return e=new ki({props:{isActive:r[0],isSelectedInRange:r[1],disabled:r[3],isIndependentOfSheet:r[4],$$slots:{default:[qB]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[8]),e.$on("keydown",r[6]),e.$on("mousedown",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.isActive=n[0]),l&2&&(s.isSelectedInRange=n[1]),l&8&&(s.disabled=n[3]),l&16&&(s.isIndependentOfSheet=n[4]),l&8244&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UB(r,e,t){const n=ht();let{isActive:l}=e,{isSelectedInRange:s}=e,{value:i=void 0}=e,{disabled:o}=e,{isIndependentOfSheet:a}=e,{formatElementForDisplay:u}=e;function c(d){switch(d.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":n("movementKeyDown",{originalEvent:d,key:d.key});break}}function f(){l||n("activate")}function m(d){ye.call(this,r,d)}return r.$$set=d=>{"isActive"in d&&t(0,l=d.isActive),"isSelectedInRange"in d&&t(1,s=d.isSelectedInRange),"value"in d&&t(2,i=d.value),"disabled"in d&&t(3,o=d.disabled),"isIndependentOfSheet"in d&&t(4,a=d.isIndependentOfSheet),"formatElementForDisplay"in d&&t(5,u=d.formatElementForDisplay)},[l,s,i,o,a,u,c,f,m]}class WB extends x{constructor(e){super(),J(this,e,UB,BB,Q,{isActive:0,isSelectedInRange:1,value:2,disabled:3,isIndependentOfSheet:4,formatElementForDisplay:5})}}function Hu(r){var t;const e=$s(r,(t=Ve(wr))==null?void 0:t.data);return e==null?void 0:e.cellInfo}function zu(r,e){var l,s,i;const t=(l=e==null?void 0:e.config)!=null?l:{},n=(i=(s=e==null?void 0:e.conditionalConfig)==null?void 0:s[r])!=null?i:{};return{...t,...n}}function Hg(r,e){var o,a;const t=(a=(o=e.type_options)==null?void 0:o.item_type)!=null?a:"string",n=Hu(t),l=zu(t,n),s=!n||n.type==="array"?"string":n.type,i=r[s];return u=>kn(u)&&i.getDisplayFormatter?i.getDisplayFormatter({type:t,type_options:null,display_options:e.display_options},l)(u):String(u)}function jB(r){return{get:e=>({component:WB,props:{formatElementForDisplay:Hg(r,e)}}),getInput:()=>({component:gn}),getDisplayFormatter:e=>{const t=Hg(r,e);return n=>Array.isArray(n)?n.map(t).join(", "):t(n)}}}const B5={string:wq,boolean:Lq,number:jq,money:rB,uri:gB,duration:wB,date:OB,time:LB,datetime:NB},YB={array:jB(B5)},Vu={...B5,...YB};function GB(r){let e,t=ig(r[0])+"",n;return{c(){e=new o7(!1),n=oe(),e.a=n},m(l,s){e.m(t,l,s),w(l,n,s)},p(l,[s]){s&1&&t!==(t=ig(l[0])+"")&&e.p(t)},i:j,o:j,d(l){l&&v(n),l&&e.d()}}}function KB(r,e,t){let{recordSummary:n}=e;return r.$$set=l=>{"recordSummary"in l&&t(0,n=l.recordSummary)},[n]}class qu extends x{constructor(e){super(),J(this,e,KB,GB,Q,{recordSummary:0})}}function XB(r){let e,t,n;return t=new qu({props:{recordSummary:r[6]}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","record-summary svelte-wsjoli")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&64&&(i.recordSummary=l[6]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function QB(r){let e,t,n,l,s,i;return t=new qu({props:{recordSummary:r[6]}}),{c(){e=M("a"),C(t.$$.fragment),D(e,"class","record-summary record-page-link svelte-wsjoli"),D(e,"title",n=r[7]("go_to_record")),D(e,"href",r[1]),D(e,"tabindex","-1")},m(o,a){w(o,e,a),y(t,e,null),l=!0,s||(i=[He(e,"mouseenter",r[12]),He(e,"mouseleave",r[13]),He(e,"click",JB)],s=!0)},p(o,a){const u={};a&64&&(u.recordSummary=o[6]),t.$set(u),(!l||a&128&&n!==(n=o[7]("go_to_record")))&&D(e,"title",n),(!l||a&2)&&D(e,"href",o[1])},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&v(e),S(t),s=!1,It(i)}}}function zg(r){let e,t,n,l,s,i,o;const a=[h1];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return t=new Be({props:u}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","delete-button svelte-wsjoli"),D(e,"role","button"),D(e,"tabindex","-1"),D(e,"aria-label",n=r[7]("clear_value")),D(e,"title",l=r[7]("clear_value"))},m(c,f){w(c,e,f),y(t,e,null),s=!0,i||(o=[He(e,"click",Hl(r[8])),He(e,"mouseenter",r[14]),He(e,"mouseleave",r[15])],i=!0)},p(c,f){const m=f&0?de(a,[$e(h1)]):{};t.$set(m),(!s||f&128&&n!==(n=c[7]("clear_value")))&&D(e,"aria-label",n),(!s||f&128&&l!==(l=c[7]("clear_value")))&&D(e,"title",l)},i(c){s||(_(t.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),s=!1},d(c){c&&v(e),S(t),i=!1,It(o)}}}function ZB(r){let e,t,n,l,s,i,o,a,u;const c=[QB,XB],f=[];function m(p,h){return p[1]?0:1}t=m(r),n=f[t]=c[t](r);let d=r[0]&&zg(r);return{c(){e=M("span"),n.c(),l=N(),d&&d.c(),s=N(),i=M("span"),D(i,"class","background svelte-wsjoli"),D(e,"class","linked-record svelte-wsjoli"),re(e,"is-hovering-delete",r[4]),re(e,"is-hovering-record-page-link",r[5]),re(e,"exact-match",r[2]==="exactMatch"),re(e,"no-match",r[2]==="noMatch"),re(e,"disabled",r[3])},m(p,h){w(p,e,h),f[t].m(e,null),I(e,l),d&&d.m(e,null),I(e,s),I(e,i),o=!0,a||(u=He(e,"click",r[11]),a=!0)},p(p,[h]){let b=t;t=m(p),t===b?f[t].p(p,h):(G(),g(f[b],1,1,()=>{f[b]=null}),K(),n=f[t],n?n.p(p,h):(n=f[t]=c[t](p),n.c()),_(n,1),n.m(e,l)),p[0]?d?(d.p(p,h),h&1&&_(d,1)):(d=zg(p),d.c(),_(d,1),d.m(e,s)):d&&(G(),g(d,1,1,()=>{d=null}),K()),(!o||h&16)&&re(e,"is-hovering-delete",p[4]),(!o||h&32)&&re(e,"is-hovering-record-page-link",p[5]),(!o||h&4)&&re(e,"exact-match",p[2]==="exactMatch"),(!o||h&4)&&re(e,"no-match",p[2]==="noMatch"),(!o||h&8)&&re(e,"disabled",p[3])},i(p){o||(_(n),_(d),o=!0)},o(p){g(n),g(d),o=!1},d(p){p&&v(e),f[t].d(),d&&d.d(),a=!1,u()}}}const JB=r=>r.stopPropagation();function xB(r,e,t){let n,l;Z(r,ge,E=>t(7,l=E));const s=ht();let{recordId:i=void 0}=e,{recordSummary:o=void 0}=e,{hasDeleteButton:a=!1}=e,{recordPageHref:u=void 0}=e,{valueComparisonOutcome:c=void 0}=e,{disabled:f=!1}=e,m=!1,d=!1;function p(){s("delete")}function h(E){ye.call(this,r,E)}const b=()=>{t(5,d=!0)},$=()=>{t(5,d=!1)},k=()=>{t(4,m=!0)},T=()=>{t(4,m=!1)};return r.$$set=E=>{"recordId"in E&&t(9,i=E.recordId),"recordSummary"in E&&t(10,o=E.recordSummary),"hasDeleteButton"in E&&t(0,a=E.hasDeleteButton),"recordPageHref"in E&&t(1,u=E.recordPageHref),"valueComparisonOutcome"in E&&t(2,c=E.valueComparisonOutcome),"disabled"in E&&t(3,f=E.disabled)},r.$$.update=()=>{r.$$.dirty&1536&&t(6,n=(()=>o||(i!==void 0?String(i):"(Unknown)"))())},[a,u,c,f,m,d,n,l,p,i,o,h,b,$,k,T]}class Bu extends x{constructor(e){super(),J(this,e,xB,ZB,Q,{recordId:9,recordSummary:10,hasDeleteButton:0,recordPageHref:1,valueComparisonOutcome:2,disabled:3})}}function eU(r){let e,t;return e=new wi({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tU(r){let e,t;return e=new Nu({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nU(r){let e,t;return e=new Bu({props:{recordId:r[0],recordSummary:r[3],valueComparisonOutcome:r[7]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.recordId=n[0]),l&8&&(s.recordSummary=n[3]),l&128&&(s.valueComparisonOutcome=n[7]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vg(r){let e,t,n,l,s,i,o;const a=[ar];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return t=new Be({props:u}),{c(){e=M("button"),C(t.$$.fragment),D(e,"class","dropdown-button passthrough svelte-161jfap"),D(e,"aria-label",n=r[9]("pick_record")),D(e,"title",l=r[9]("pick_record"))},m(c,f){w(c,e,f),y(t,e,null),s=!0,i||(o=He(e,"click",r[10]),i=!0)},p(c,f){const m=f&0?de(a,[$e(ar)]):{};t.$set(m),(!s||f&512&&n!==(n=c[9]("pick_record")))&&D(e,"aria-label",n),(!s||f&512&&l!==(l=c[9]("pick_record")))&&D(e,"title",l)},i(c){s||(_(t.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),s=!1},d(c){c&&v(e),S(t),i=!1,o()}}}function rU(r){let e,t,n,l,s,i;const o=[nU,tU,eU],a=[];function u(f,m){return f[8]?0:f[0]===void 0?1:2}n=u(r),l=a[n]=o[n](r);let c=!r[4]&&Vg(r);return{c(){e=M("div"),t=M("div"),l.c(),s=N(),c&&c.c(),D(t,"class","value svelte-161jfap"),D(e,"class","linked-record-cell svelte-161jfap"),re(e,"disabled",r[4])},m(f,m){w(f,e,m),I(e,t),a[n].m(t,null),I(e,s),c&&c.m(e,null),i=!0},p(f,m){let d=n;n=u(f),n===d?a[n].p(f,m):(G(),g(a[d],1,1,()=>{a[d]=null}),K(),l=a[n],l?l.p(f,m):(l=a[n]=o[n](f),l.c()),_(l,1),l.m(t,null)),f[4]?c&&(G(),g(c,1,1,()=>{c=null}),K()):c?(c.p(f,m),m&16&&_(c,1)):(c=Vg(f),c.c(),_(c,1),c.m(e,null)),(!i||m&16)&&re(e,"disabled",f[4])},i(f){i||(_(l),_(c),i=!0)},o(f){g(l),g(c),i=!1},d(f){f&&v(e),a[n].d(),c&&c.d()}}}function lU(r){let e,t,n;function l(i){r[18](i)}let s={isActive:r[1],isSelectedInRange:r[2],disabled:r[4],isIndependentOfSheet:r[5],hasPadding:!1,$$slots:{default:[rU]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.element=r[6]),e=new ki({props:s}),Te.push(()=>Oe(e,"element",l)),e.$on("mouseenter",r[19]),e.$on("keydown",r[11]),e.$on("mousedown",r[12]),e.$on("click",r[13]),e.$on("dblclick",r[10]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.isActive=i[1]),o&4&&(a.isSelectedInRange=i[2]),o&16&&(a.disabled=i[4]),o&32&&(a.isIndependentOfSheet=i[5]),o&8389529&&(a.$$scope={dirty:o,ctx:i}),!t&&o&64&&(t=!0,a.element=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function sU(r,e,t){let n,l,s;Z(r,ge,L=>t(9,s=L));const i=ht(),o=Do();let{isActive:a}=e,{columnFabric:u}=e,{isSelectedInRange:c}=e,{value:f=void 0}=e,{searchValue:m=void 0}=e,{recordSummary:d=void 0}=e,{setRecordSummary:p=()=>{}}=e,{disabled:h}=e,{tableId:b}=e,{isIndependentOfSheet:$}=e,k=!1,T;async function E(L){var H;if(h)return;L==null||L.stopPropagation();const U=await o.acquireUserInput({tableId:b}),W=(H=u.linkFk)==null?void 0:H.referent_columns[0];U&&(W?t(0,f=U.record[W]):t(0,f=U.recordId),p(String(U.recordId),U.recordSummary),i("update",{value:f})),T.focus()}function A(L){switch(L.key){case"Enter":a&&E();break;case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":i("movementKeyDown",{originalEvent:L,key:L.key});break}}function P(){k=a,i("activate")}function O(){k&&E()}function R(L){T=L,t(6,T)}function F(L){ye.call(this,r,L)}return r.$$set=L=>{"isActive"in L&&t(1,a=L.isActive),"columnFabric"in L&&t(14,u=L.columnFabric),"isSelectedInRange"in L&&t(2,c=L.isSelectedInRange),"value"in L&&t(0,f=L.value),"searchValue"in L&&t(15,m=L.searchValue),"recordSummary"in L&&t(3,d=L.recordSummary),"setRecordSummary"in L&&t(16,p=L.setRecordSummary),"disabled"in L&&t(4,h=L.disabled),"tableId"in L&&t(17,b=L.tableId),"isIndependentOfSheet"in L&&t(5,$=L.isIndependentOfSheet)},r.$$.update=()=>{r.$$.dirty&1&&t(8,n=f!=null),r.$$.dirty&32769&&t(7,l=Vf(m,f))},[f,a,c,d,h,$,T,l,n,s,E,A,P,O,u,m,p,b,R,F]}class iU extends x{constructor(e){super(),J(this,e,sU,lU,Q,{isActive:1,columnFabric:14,isSelectedInRange:2,value:0,searchValue:15,recordSummary:3,setRecordSummary:16,disabled:4,tableId:17,isIndependentOfSheet:5})}}function oU(r){return bn(`/api/db/v0/schemas/?connection_id=${r}&limit=500`)}function aU(r){return bn(`/api/db/v0/schemas/${r}/`)}function uU(r){return cn("/api/db/v0/schemas/",{name:r.name,description:r.description,connection_id:r.connectionId})}function cU(r){return Ar(`/api/db/v0/schemas/${r.id}/`,{name:r.name,description:r.description})}function fU(r){return cl(`/api/db/v0/schemas/${r}/`)}const Uu={list:oU,get:aU,add:uU,update:cU,delete:fU},bf=ul();var vw;const Wr=xe((vw=bf.current_schema)!=null?vw:void 0),Cl=new Map,qg=new Map;function mU(r){return[...Cl.values()].find(e=>Ve(e).data.has(r))}function U5(r,e){const t=new Map;e.forEach(s=>{t.set(s.id,s)});const n={requestStatus:{state:"success"},data:t};let l=Cl.get(r);return l?l.set(n):(l=xe(n),Cl.set(r,l)),l}function W5(r,e){const t=Cl.get(r);t&&t.update(n=>{var l;return(l=n.data)==null||l.set(e.id,e),{...n,data:new Map(n.data)}})}function dU(r,e){const t=Cl.get(r);t&&t.update(n=>{var l;return(l=n.data)==null||l.delete(e),{...n,data:new Map(n.data)}})}function j5(r,e,t){const n=Cl.get(r.id);n&&n.update(l=>{const s=l.data.get(e.id);return s&&(s.num_tables+=t,l.data.set(e.id,s)),{...l,data:new Map(l.data)}})}function Y5(r,e){const t=mU(r);t&&t.update(n=>{const l=n.data.get(r);return l&&(l.num_queries+=e,n.data.set(r,l)),{...n,data:new Map(n.data)}})}async function Bg(r){var t;const e=Cl.get(r);if(!e){console.error(`DB Schemas store for connection: ${r} not found.`);return}try{e.update(o=>({...o,requestStatus:{state:"processing"}})),(t=qg.get(r))==null||t.cancel();const n=Uu.list(r);qg.set(r,n);const l=await n,s=(l==null?void 0:l.results)||[],i=U5(r,s);return Ve(i)}catch(n){e.update(l=>({...l,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}}));return}}let Ug=!0;function _U(r){var t;let e=Cl.get(r);return e?Ve(e).requestStatus.state==="failure"&&Bg(r):(e=xe({requestStatus:{state:"processing"},data:new Map}),Cl.set(r,e),Ug&&bf.current_connection===r?e=U5(r,(t=bf.schemas)!=null?t:[]):Bg(r),Ug=!1),e}async function pU(r,e,t){const n=await Uu.add({name:e,description:t,connectionId:r});return W5(r,n),n}async function gU(r,e){const t=await Uu.update(e);return W5(r,t),t}async function hU(r,e){await Uu.delete(e),dU(r,e)}const Ro=at(Hn.currentConnectionId,(r,e)=>{let t;return r?t=_U(r).subscribe(l=>{e(l)}):e({requestStatus:{state:"success"},data:new Map}),()=>{t==null||t()}}),En=at([Wr,Ro],([r,e])=>r?e.data.get(r):void 0);function bU(r){return r.type==="invalid"}function $U(r){return r.type==="valid"}function Wu(){return{type:"valid"}}function Im(r){return{type:"invalid",errorMsg:r}}function yi(r,e){return t=>r(t)?Wu():Im(e)}function Oo(r,e){return t=>r(t)?Im(e):Wu()}function G5(r){return r!=null&&r!==""&&(Array.isArray(r)?r.length!==0:!0)}function vU(r,e){return Array.isArray(r)?r.includes(e):r.has(e)}function Lo(r,e=Ve(ge)("value_already_exists")){return Oo(t=>vU(r,t),e)}function wU(r,e){return yi(t=>!!t.match(r),e)}function kU(r,e){return yi(t=>t.length<=r,e!=null?e:Ve(ge)("value_maxlength_error",{values:{limit:r}}))}const yU=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function SU(r=Ve(ge)("email_address_invalid")){return yi(e=>!!e.toLowerCase().match(yU),r)}function CU(r=Ve(ge)("port_invalid")){return yi(e=>e<=65535&&e>=0,r)}function TU({value:r,isRequired:e,validators:t}){if(!G5(r))return e?[Ve(ge)("value_cannot_be_empty")]:[];if(!t)return[];const n=r;return t.map(l=>l(n)).filter(bU).map(({errorMsg:l})=>l)}function EU(r){return r.field.isRequired&&!G5(r.value)}function Mm(r,e){return t=>{const n=r.map(s=>{var i;return(i=t.find(o=>o.field===s))!=null?i:{field:s,value:Ve(s)}});if(n.map(EU).some(s=>s))return{outcome:Wu(),fields:r};const l=n.map(s=>s.value);return{outcome:e(l),fields:r}}}function DU(r,e,t){return Mm(r,Oo(e,t))}function IU(r,e,t){return Mm(r,yi(e,t))}function MU(r){let e=r[0];for(const t of r){if(t!==e)return!1;e=t}return!0}function AU(r,e){return IU(r,MU,e)}function Wg(r){let e,t,n;const l=[r[0]];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","icon svelte-n8w9ju")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&1?de(l,[$e(i[0])]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function PU(r){let e,t,n,l,s=r[0]&&Wg(r);const i=r[4].default,o=Ie(i,r,r[3],null);return{c(){e=M("div"),s&&s.c(),t=N(),n=M("div"),o&&o.c(),D(n,"class","content trim-child-margins"),D(e,"class","message-box svelte-n8w9ju"),D(e,"style",r[1]),re(e,"has-icon",!!r[0]),re(e,"full-width",r[2])},m(a,u){w(a,e,u),s&&s.m(e,null),I(e,t),I(e,n),o&&o.m(n,null),l=!0},p(a,[u]){a[0]?s?(s.p(a,u),u&1&&_(s,1)):(s=Wg(a),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K()),o&&o.p&&(!l||u&8)&&Ae(o,i,a,a[3],l?Me(i,a[3],u,null):Pe(a[3]),null),(!l||u&2)&&D(e,"style",a[1]),(!l||u&1)&&re(e,"has-icon",!!a[0]),(!l||u&4)&&re(e,"full-width",a[2])},i(a){l||(_(s),_(o,a),l=!0)},o(a){g(s),g(o,a),l=!1},d(a){a&&v(e),s&&s.d(),o&&o.d(a)}}}function RU(r,e,t){let{$$slots:n={},$$scope:l}=e,{icon:s=void 0}=e,{style:i=void 0}=e,{fullWidth:o=!1}=e;return r.$$set=a=>{"icon"in a&&t(0,s=a.icon),"style"in a&&t(1,i=a.style),"fullWidth"in a&&t(2,o=a.fullWidth),"$$scope"in a&&t(3,l=a.$$scope)},[s,i,o,l,n]}class ju extends x{constructor(e){super(),J(this,e,RU,PU,Q,{icon:0,style:1,fullWidth:2})}}function OU(r){let e;const t=r[1].default,n=Ie(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ae(n,t,l,l[2],e?Me(t,l[2],s,null):Pe(l[2]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function LU(r){let e,t,n;const l=[{icon:bl},r[0]];let s={$$slots:{default:[OU]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new ju({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","error-box svelte-1mnk8w0")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&1?de(l,[o&0&&{icon:bl},o&1&&$e(i[0])]):{};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function NU(r,e,t){const n=[];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(0,l=Ye(e,n)),"$$scope"in o&&t(2,i=o.$$scope)},[l,s,i]}class Yn extends x{constructor(e){super(),J(this,e,NU,LU,Q,{})}}function jg(r,e,t){const n=r.slice();return n[1]=e[t],n}function Yg(r){let e,t;return e=new Yn({props:{$$slots:{default:[zU]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&17&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function FU(r){let e,t=[],n=new Map,l=r[0];const s=i=>i[1];for(let i=0;i<l.length;i+=1){let o=jg(r,l,i),a=s(o);n.set(a,t[i]=Gg(a,o))}return{c(){e=M("ul");for(let i=0;i<t.length;i+=1)t[i].c();D(e,"class","list svelte-h6g81w")},m(i,o){w(i,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(i,o){o&1&&(l=i[0],t=gt(t,o,s,1,i,l,n,e,wo,Gg,null,jg))},d(i){i&&v(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function HU(r){let e=r[0][0]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0][0]+"")&&Y(t,e)},d(n){n&&v(t)}}}function Gg(r,e){let t,n=e[1]+"",l;return{key:r,first:null,c(){t=M("li"),l=q(n),this.first=t},m(s,i){w(s,t,i),I(t,l)},p(s,i){e=s,i&1&&n!==(n=e[1]+"")&&Y(l,n)},d(s){s&&v(t)}}}function zU(r){let e;function t(s,i){return s[0].length===1?HU:FU}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function VU(r){let e,t,n=r[0].length&&Yg(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0].length?n?(n.p(l,s),s&1&&_(n,1)):(n=Yg(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function qU(r,e,t){let{errors:n}=e;return r.$$set=l=>{"errors"in l&&t(0,n=l.errors)},[n]}class Yu extends x{constructor(e){super(),J(this,e,qU,VU,Q,{errors:0})}}function Kg(r){let e,t,n;return t=new Yu({props:{errors:r[4]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","field-errors svelte-1upnxsj"),re(e,"has-margin",r[0])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.errors=l[4]),t.$set(i),(!n||s&1)&&re(e,"has-margin",l[0])},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function BU(r){let e,t,n=r[3]&&Kg(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[3]?n?(n.p(l,s),s&8&&_(n,1)):(n=Kg(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function UU(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(l,d=>t(3,s=d)),l),a,u=j,c=()=>(u(),u=ue(n,d=>t(4,a=d)),n);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{field:f}=e,{hasMargin:m=!0}=e;return r.$$set=d=>{"field"in d&&t(5,f=d.field),"hasMargin"in d&&t(0,m=d.hasMargin)},r.$$.update=()=>{r.$$.dirty&32&&c(t(2,{errors:n,showsError:l}=f,n,o(t(1,l))))},[m,l,n,s,a,f]}class Am extends x{constructor(e){super(),J(this,e,UU,BU,Q,{field:5,hasMargin:0})}}function WU(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("span"),l&&l.c(),D(e,"class","field-help svelte-btm1l")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function jU(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class K5 extends x{constructor(e){super(),J(this,e,jU,WU,Q,{})}}function YU(r){let e,t;const n=r[2].default,l=Ie(n,r,r[1],null);let s=[{class:"field"},r[0]],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("span"),l&&l.c(),ct(e,i),re(e,"svelte-11cqsyc",!0)},m(o,a){w(o,e,a),l&&l.m(e,null),t=!0},p(o,[a]){l&&l.p&&(!t||a&2)&&Ae(l,n,o,o[1],t?Me(n,o[1],a,null):Pe(o[1]),null),ct(e,i=de(s,[{class:"field"},a&1&&o[0]])),re(e,"svelte-11cqsyc",!0)},i(o){t||(_(l,o),t=!0)},o(o){g(l,o),t=!1},d(o){o&&v(e),l&&l.d(o)}}}function GU(r,e,t){const n=[];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(0,l=Ye(e,n)),"$$scope"in o&&t(1,i=o.$$scope)},[l,i,s]}class Jn extends x{constructor(e){super(),J(this,e,GU,YU,Q,{})}}const KU=r=>({}),Xg=r=>({}),XU=r=>({}),Qg=r=>({slot:"label"}),QU=r=>({}),Zg=r=>({slot:"help"});function ZU(r){let e,t,n,l,s;const i=[{hasError:r[9]},{disabled:r[10]},r[6]];function o(f){r[15](f)}var a=r[7];function u(f){let m={$$slots:{default:[xU]},$$scope:{ctx:f}};for(let d=0;d<i.length;d+=1)m=le(m,i[d]);return f[8]!==void 0&&(m.value=f[8]),{props:m}}a&&(e=new a(u(r)),Te.push(()=>Oe(e,"value",o)));let c=(r[2]||r[11].help)&&Jg(r);return{c(){e&&C(e.$$.fragment),n=N(),c&&c.c(),l=oe()},m(f,m){e&&y(e,f,m),w(f,n,m),c&&c.m(f,m),w(f,l,m),s=!0},p(f,m){const d=m&1600?de(i,[m&512&&{hasError:f[9]},m&1024&&{disabled:f[10]},m&64&&$e(f[6])]):{};if(m&65536&&(d.$$scope={dirty:m,ctx:f}),!t&&m&256&&(t=!0,d.value=f[8],Ne(()=>t=!1)),a!==(a=f[7])){if(e){G();const p=e;g(p.$$.fragment,1,0,()=>{S(p,1)}),K()}a?(e=new a(u(f)),Te.push(()=>Oe(e,"value",o)),C(e.$$.fragment),_(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}else a&&e.$set(d);f[2]||f[11].help?c?(c.p(f,m),m&2052&&_(c,1)):(c=Jg(f),c.c(),_(c,1),c.m(l.parentNode,l)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){s||(e&&_(e.$$.fragment,f),_(c),s=!0)},o(f){e&&g(e.$$.fragment,f),g(c),s=!1},d(f){e&&S(e,f),f&&v(n),c&&c.d(f),f&&v(l)}}}function JU(r){let e,t;return e=new hn({props:{label:r[1],layout:r[3],help:r[2],$$slots:{help:[lW],label:[rW],default:[nW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.label=n[1]),l&8&&(s.layout=n[3]),l&4&&(s.help=n[2]),l&67520&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xU(r){let e;const t=r[13].default,n=Ie(t,r,r[16],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ae(n,t,l,l[16],e?Me(t,l[16],s,null):Pe(l[16]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Jg(r){let e,t;return e=new K5({props:{$$slots:{default:[tW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65540&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eW(r){let e;return{c(){e=q(r[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&Y(e,t[2])},d(t){t&&v(e)}}}function tW(r){let e;const t=r[13].help,n=Ie(t,r,r[16],Xg),l=n||eW(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&65536)&&Ae(n,t,s,s[16],e?Me(t,s[16],i,KU):Pe(s[16]),Xg):l&&l.p&&(!e||i&4)&&l.p(s,e?i:-1)},i(s){e||(_(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function nW(r){let e,t,n,l;const s=[{hasError:r[9]},{disabled:r[10]},r[6]];function i(u){r[14](u)}var o=r[7];function a(u){let c={};for(let f=0;f<s.length;f+=1)c=le(c,s[f]);return u[8]!==void 0&&(c.value=u[8]),{props:c}}return o&&(e=new o(a(r)),Te.push(()=>Oe(e,"value",i))),{c(){e&&C(e.$$.fragment),n=oe()},m(u,c){e&&y(e,u,c),w(u,n,c),l=!0},p(u,c){const f=c&1600?de(s,[c&512&&{hasError:u[9]},c&1024&&{disabled:u[10]},c&64&&$e(u[6])]):{};if(!t&&c&256&&(t=!0,f.value=u[8],Ne(()=>t=!1)),o!==(o=u[7])){if(e){G();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),K()}o?(e=new o(a(u)),Te.push(()=>Oe(e,"value",i)),C(e.$$.fragment),_(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){l||(e&&_(e.$$.fragment,u),l=!0)},o(u){e&&g(e.$$.fragment,u),l=!1},d(u){u&&v(n),e&&S(e,u)}}}function rW(r){let e;const t=r[13].label,n=Ie(t,r,r[16],Qg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ae(n,t,l,l[16],e?Me(t,l[16],s,XU):Pe(l[16]),Qg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function lW(r){let e;const t=r[13].help,n=Ie(t,r,r[16],Zg);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&65536)&&Ae(n,t,l,l[16],e?Me(t,l[16],s,QU):Pe(l[16]),Zg)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function sW(r){let e,t,n,l,s;const i=[JU,ZU],o=[];function a(u,c){return u[1]||u[11].label?0:1}return e=a(r),t=o[e]=i[e](r),l=new Am({props:{field:r[0]}}),{c(){t.c(),n=N(),C(l.$$.fragment)},m(u,c){o[e].m(u,c),w(u,n,c),y(l,u,c),s=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(G(),g(o[f],1,1,()=>{o[f]=null}),K(),t=o[e],t?t.p(u,c):(t=o[e]=i[e](u),t.c()),_(t,1),t.m(n.parentNode,n));const m={};c&1&&(m.field=u[0]),l.$set(m)},i(u){s||(_(t),_(l.$$.fragment,u),s=!0)},o(u){g(t),g(l.$$.fragment,u),s=!1},d(u){o[e].d(u),u&&v(n),S(l,u)}}}function iW(r){let e,t;return e=new Jn({props:{$$slots:{default:[sW]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&69583&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oW(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(T,L=>t(8,o=L)),T),c,f=j,m=()=>(f(),f=ue(s,L=>t(9,c=L)),s),d,p=j,h=()=>(p(),p=ue(i,L=>t(10,d=L)),i);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>p());let{$$slots:b={},$$scope:$}=e;const k=ur(b);let{field:T}=e;u();let{input:E=void 0}=e,{label:A=void 0}=e,{help:P=void 0}=e,{layout:O=void 0}=e;function R(L){o=L,T.set(o)}function F(L){o=L,T.set(o)}return r.$$set=L=>{"field"in L&&u(t(0,T=L.field)),"input"in L&&t(12,E=L.input),"label"in L&&t(1,A=L.label),"help"in L&&t(2,P=L.help),"layout"in L&&t(3,O=L.layout),"$$scope"in L&&t(16,$=L.$$scope)},r.$$.update=()=>{var L,U;r.$$.dirty&4096&&t(7,n=(L=E==null?void 0:E.component)!=null?L:gn),r.$$.dirty&4096&&t(6,l=(U=E==null?void 0:E.props)!=null?U:{}),r.$$.dirty&1&&m(t(5,{showsError:s,disabled:i}=T,s,h(t(4,i))))},[T,A,P,O,i,s,l,n,o,c,d,k,E,b,R,F,$]}class Vt extends x{constructor(e){super(),J(this,e,oW,iW,Q,{field:0,input:12,label:1,help:2,layout:3})}}function xg(r){let e,t;const n=[{onProceed:r[9]},{canProceed:r[1]&&r[6]},{onCancel:r[3]},r[10]];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Kr({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&1610?de(n,[i&512&&{onProceed:s[9]},i&66&&{canProceed:s[1]&&s[6]},i&8&&{onCancel:s[3]},i&1024&&$e(s[10])]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function eh(r){let e,t,n;return t=new Yu({props:{errors:r[5]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","errors svelte-eylvex")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i.errors=l[5]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function aW(r){let e,t,n,l=(!r[2]||r[7])&&xg(r),s=r[4]&&eh(r);return{c(){e=M("div"),l&&l.c(),t=N(),s&&s.c(),D(e,"class","form-submit svelte-eylvex")},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,[o]){!i[2]||i[7]?l?(l.p(i,o),o&132&&_(l,1)):(l=xg(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[4]?s?(s.p(i,o),o&16&&_(s,1)):(s=eh(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function uW(r,e,t){let n,l,s,i;const o=["form","canProceed","initiallyHidden","onProceed","onCancel","getErrorMessages","catchErrors"];let a=Ye(e,o),u,c=j,f=()=>(c(),c=ue(h,O=>t(13,u=O)),h),m,d=j,p=()=>(d(),d=ue(n,O=>t(14,m=O)),n);r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>d());let{form:h}=e;f();let{canProceed:b=!0}=e,{initiallyHidden:$=!1}=e,{onProceed:k=()=>{}}=e,{onCancel:T=()=>h.reset()}=e,{getErrorMessages:E=O=>[en(O)]}=e,{catchErrors:A=!1}=e;async function P(){h.clearServerErrors(),h.requestStatus.set({state:"processing"});const O=u.values;if(!A){await k(O),h.requestStatus.set(void 0);return}try{await k(O),h.requestStatus.set({state:"success"})}catch(R){h.requestStatus.set({state:"failure",errors:E(R)})}}return r.$$set=O=>{e=le(le({},e),_t(O)),t(10,a=Ye(e,o)),"form"in O&&f(t(0,h=O.form)),"canProceed"in O&&t(1,b=O.canProceed),"initiallyHidden"in O&&t(2,$=O.initiallyHidden),"onProceed"in O&&t(11,k=O.onProceed),"onCancel"in O&&t(3,T=O.onCancel),"getErrorMessages"in O&&t(12,E=O.getErrorMessages),"catchErrors"in O&&t(4,A=O.catchErrors)},r.$$.update=()=>{r.$$.dirty&1&&p(t(8,{requestStatus:n}=h,n)),r.$$.dirty&8192&&t(7,{hasChanges:l,canSubmit:s}=u,l,(t(6,s),t(13,u))),r.$$.dirty&16384&&t(5,i=(m==null?void 0:m.state)==="failure"?m.errors:[])},[h,b,$,T,A,i,s,l,n,P,a,k,E,u,m]}class Zr extends x{constructor(e){super(),J(this,e,uW,aW,Q,{form:0,canProceed:1,initiallyHidden:2,onProceed:11,onCancel:3,getErrorMessages:12,catchErrors:4})}}const $f=Symbol("comboErrors"),X5=Symbol("disabled");function Q5(r){const e=xe(r.initialValue),t=xe([]),n=at(e,d=>d!==r.initialValue),l=at(e,d=>(t.set([]),TU({...r,value:d}))),s=xe([]),i=xe(!1),o=at(s,d=>d),u=at([l,o,t],d=>d.flat()),c=at(u,d=>d.length===0),f=at([l,o],d=>d.flat().length===0),m=at([n,l,o,t],([d,p,h,b])=>h.length||b.length?!0:d?p.length>0:!1);return{isRequired:r.isRequired,initialValue:r.initialValue,hasChanges:n,fieldErrors:l,[$f]:s,[X5]:i,disabled:i,comboErrors:o,serverErrors:t,errors:u,isValid:c,canSubmit:f,showsError:m,subscribe(d,p){return e.subscribe(d,p)},set(d){e.set(d)},update(d){e.update(d)},reset(){e.set(r.initialValue)}}}function po(r,e=[]){return Q5({initialValue:r,validators:e,isRequired:!1})}function wt(r,e=[]){return Q5({initialValue:r,validators:e,isRequired:!0})}function cW(r,e){const t=new Map;e.forEach(n=>{const{outcome:l,fields:s}=n(r);s.forEach(i=>{var u;const o=(u=t.get(i))!=null?u:[],a=$U(l)?[]:[l.errorMsg];t.set(i,[...o,...a])})});for(const[n,l]of t){const s=Ve(n[$f]);JSON.stringify(s)!==JSON.stringify(l)&&n[$f].set(l)}}function Un(r,e=[]){const t=Ri(Object.entries(r).map(([d,p])=>at(p,h=>({name:d,field:p,value:h})))),n=at(t,d=>(cW(d,e),Object.fromEntries(d.map(({name:p,value:h})=>[p,h])))),l=xe(void 0),s=at(l,d=>(d==null?void 0:d.state)==="processing"),i=at(Ri(Object.values(r).map(d=>d.isValid)),d=>d.every(p=>p)),o=at(Ri(Object.values(r).map(d=>d.canSubmit)),d=>d.every(p=>p)),a=at(Ri(Object.values(r).map(d=>d.hasChanges)),d=>d.some(p=>p));function u(){l.update(d=>(d==null?void 0:d.state)==="failure"?void 0:d),Object.values(r).forEach(d=>{d.serverErrors.set([])})}function c(){u(),Object.values(r).forEach(d=>{d.reset()})}const f=at([n,i,o,a],([d,p,h,b])=>({values:d,isValid:p,canSubmit:h,hasChanges:b}));return{...E7(f,[()=>l.subscribe(d=>{Object.values(r).forEach(p=>{p[X5].set((d==null?void 0:d.state)==="processing")})})]),fields:r,reset:c,clearServerErrors:u,requestStatus:l,isSubmitting:s}}const th=ul(),il=new Map,nh=new Map;function Gu(r){return[...r].sort((e,t)=>e.name.localeCompare(t.name))}function Z5(r,e){const t=new Map;e&&Gu(e).forEach(s=>{t.set(s.id,s)});const n={data:t,requestStatus:{state:"success"}};let l=il.get(r);return l?l.set(n):(l=xe(n),il.set(r,l)),l}function fW(r){il.delete(r)}async function ii(r){var t;const e=il.get(r);if(!e){console.error(`Tables store for schema: ${r} not found.`);return}try{e.update(o=>({...o,requestStatus:{state:"processing"}})),(t=nh.get(r))==null||t.cancel();const n=bn(`/api/db/v0/tables/?schema=${r}&limit=500`);nh.set(r,n);const s=(await n).results||[],i=Z5(r,s);return Ve(i)}catch(n){e.update(l=>({...l,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}}));return}}let rh=!0;function mW(r){var t;let e=il.get(r);return e?Ve(e).requestStatus.state==="failure"&&ii(r):(e=xe({requestStatus:{state:"processing"},data:new Map}),il.set(r,e),rh&&th.current_schema===r?e=Z5(r,(t=th.tables)!=null?t:[]):ii(r),rh=!1),e}function J5(r){return[...il.values()].find(e=>Ve(e).data.has(r))}function x5(r,e){var t;(t=J5(r))==null||t.update(n=>{const l=n.data.get(r),s={...l!=null?l:{},...e};n.data.set(r,s);const i=new Map;return Gu([...n.data.values()]).forEach(o=>{i.set(o.id,o)}),{...n,data:i}})}function Ku(r,e,t){const n=cl(`/api/db/v0/tables/${t}/`);return new ll((l,s)=>{n.then(i=>{var o;return j5(r,e,-1),(o=il.get(e.id))==null||o.update(a=>(a.data.delete(t),{...a,data:new Map(a.data)})),l(i)},s)},()=>{n.cancel()})}function dW(r,e){const t=Ar(`/api/db/v0/tables/${r}/`,e);return new ll((n,l)=>{t.then(s=>(x5(r,s),n(s)),l)},()=>{t.cancel()})}function No(r,e,t){const n=cn("/api/db/v0/tables/",{schema:e.id,name:t.name,data_files:t.dataFiles});return new ll((l,s)=>{n.then(i=>{var o;return j5(r,e,1),(o=il.get(e.id))==null||o.update(a=>{const u=new Map;return Gu([...a.data.values(),i]).forEach(c=>{u.set(c.id,c)}),{...a,data:u}}),l(i)},s)},()=>{n.cancel()})}function _W(r,e){const t=Ar(`/api/db/v0/tables/${r}/`,e);return new ll((n,l)=>{t.then(s=>(x5(r,s),n(s)),l)},()=>{t.cancel()})}function ey(r){return bn(`/api/db/v0/tables/${r}/`)}function pW({id:r,idsOfColumnsToExtract:e,extractedTableName:t,newFkColumnName:n}){const l={extract_columns:e,extracted_table_name:t,relationship_fk_column_name:n};return cn(`/api/db/v0/tables/${r}/split_table/`,l)}function gW(r,e,t){return cn(`/api/db/v0/tables/${r}/move_columns/`,{move_columns:e,target_table:t})}function ty(r){const e=J5(r);if(e){const n=Ve(e).data.get(r);if(n)return new ll(l=>{l(n)})}const t=ey(r);return new ll((n,l)=>{t.then(s=>{const i=il.get(s.schema);return i&&i.update(o=>{const a=new Map,u=[...o.data.values(),s];return Gu(u).forEach(c=>{a.set(c.id,c)}),{...o,data:a}}),n(s)},l)},()=>{t.cancel()})}function hW(r){return bn(`/api/db/v0/tables/${r}/type_suggestions/?columns_might_have_defaults=false`)}function bW(r){const{columns:e,table:t}=r;return cn(`/api/db/v0/tables/${t.id}/previews/`,{columns:e})}const fn=at(Wr,(r,e)=>{let t;return r?t=mW(r).subscribe(l=>{e(l)}):e({data:new Map,requestStatus:{state:"success"}}),()=>{t==null||t()}}),Xu=at(fn,r=>new Map([...r.data.values()].filter(e=>!Mu(e)).map(e=>[e.id,e]))),ny=at(fn,r=>{const e=new Set([...r.data.values()].map(t=>t.name));return Oo(t=>e.has(t),"A table with that name already exists.")});function $W(r){var e;return(e=Ve(fn).data.get(r))==null?void 0:e.name}const ql=xe(void 0),ks=at([ql,fn],([r,e])=>r===void 0?void 0:e.data.get(r));function lh(r,e=1){return bn(`/api/db/v0/tables/${r}/joinable_tables/?max_depth=${e}`)}async function ry(r,e){const t=`/api/db/v0/tables/${r.id}/settings/${r.settings.id}/`;await Ar(t,e),await ii(r.schema)}function vW(r,e){const{customized:t}=e;return ry(r,{preview_settings:t?e:{customized:t}})}function wW(r,e){return ry(r,{column_order:[...new Set(e)]})}const ns=at([Hn.currentConnection,En,ks],([r,e,t])=>{function n({connectionId:l,schemaId:s,tableId:i,recordId:o}){const a=l!=null?l:r==null?void 0:r.id,u=s!=null?s:e==null?void 0:e.id,c=i!=null?i:t==null?void 0:t.id,f=o!=null?o:void 0;if(!(a===void 0||u===void 0||c===void 0||f===void 0))return sf(a,u,c,f)}return n}),Pm=at([Hn.currentConnection,En,ks],([r,e,t])=>{function n({connectionId:l,schemaId:s,tableId:i}){const o=l!=null?l:r==null?void 0:r.id,a=s!=null?s:e==null?void 0:e.id,u=i!=null?i:t==null?void 0:t.id;if(!(o===void 0||a===void 0||u===void 0))return Ol(o,a,u)}return n});function sh(r){let e,t;return e=new Bu({props:{recordId:r[1],recordSummary:r[2],hasDeleteButton:!r[4],recordPageHref:r[8],disabled:r[4]}}),e.$on("delete",r[10]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.recordId=n[1]),l&4&&(s.recordSummary=n[2]),l&16&&(s.hasDeleteButton=!n[4]),l&256&&(s.recordPageHref=n[8]),l&16&&(s.disabled=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ih(r){let e,t,n,l,s,i,o;const a=[ar];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return t=new Be({props:u}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","dropdown-button svelte-1lgzhz2"),D(e,"role","button"),D(e,"tabindex","-1"),D(e,"aria-label",n=r[9]("pick_record")),D(e,"title",l=r[9]("pick_record"))},m(c,f){w(c,e,f),y(t,e,null),s=!0,i||(o=He(e,"click",r[11]),i=!0)},p(c,f){const m=f&0?de(a,[$e(ar)]):{};t.$set(m),(!s||f&512&&n!==(n=c[9]("pick_record")))&&D(e,"aria-label",n),(!s||f&512&&l!==(l=c[9]("pick_record")))&&D(e,"title",l)},i(c){s||(_(t.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),s=!1},d(c){c&&v(e),S(t),i=!1,o()}}}function kW(r){let e,t,n,l,s,i,o,a,u,c,f,m;const d=[{disabled:r[4]},r[14]];function p(k){r[21](k)}let h={};for(let k=0;k<d.length;k+=1)h=le(h,d[k]);r[0]!==void 0&&(h.id=r[0]),e=new Ml({props:h}),Te.push(()=>Oe(e,"id",p));let b=r[5]&&sh(r),$=!r[4]&&ih(r);return{c(){C(e.$$.fragment),n=N(),l=M("span"),s=M("span"),b&&b.c(),i=N(),$&&$.c(),D(s,"class","content svelte-1lgzhz2"),D(l,"id",r[0]),D(l,"class",o="input-element linked-record-input "+r[3]+" svelte-1lgzhz2"),D(l,"tabindex",a=r[6]||r[4]?void 0:0),D(l,"role","listbox"),D(l,"aria-labelledby",u=ha(r[0])),re(l,"has-value",r[5]),re(l,"disabled",r[4]),re(l,"is-acquiring-input",r[6])},m(k,T){y(e,k,T),w(k,n,T),w(k,l,T),I(l,s),b&&b.m(s,null),I(l,i),$&&$.m(l,null),r[22](l),c=!0,f||(m=[He(l,"click",r[11]),He(l,"focus",r[12]),He(l,"focus",r[19]),He(l,"blur",r[13]),He(l,"blur",r[20])],f=!0)},p(k,[T]){const E=T&16400?de(d,[T&16&&{disabled:k[4]},T&16384&&$e(k[14])]):{};!t&&T&1&&(t=!0,E.id=k[0],Ne(()=>t=!1)),e.$set(E),k[5]?b?(b.p(k,T),T&32&&_(b,1)):(b=sh(k),b.c(),_(b,1),b.m(s,null)):b&&(G(),g(b,1,1,()=>{b=null}),K()),k[4]?$&&(G(),g($,1,1,()=>{$=null}),K()):$?($.p(k,T),T&16&&_($,1)):($=ih(k),$.c(),_($,1),$.m(l,null)),(!c||T&1)&&D(l,"id",k[0]),(!c||T&8&&o!==(o="input-element linked-record-input "+k[3]+" svelte-1lgzhz2"))&&D(l,"class",o),(!c||T&80&&a!==(a=k[6]||k[4]?void 0:0))&&D(l,"tabindex",a),(!c||T&1&&u!==(u=ha(k[0])))&&D(l,"aria-labelledby",u),(!c||T&40)&&re(l,"has-value",k[5]),(!c||T&24)&&re(l,"disabled",k[4]),(!c||T&72)&&re(l,"is-acquiring-input",k[6])},i(k){c||(_(e.$$.fragment,k),_(b),_($),c=!0)},o(k){g(e.$$.fragment,k),g(b),g($),c=!1},d(k){S(e,k),k&&v(n),k&&v(l),b&&b.d(),$&&$.d(),r[22](null),f=!1,It(m)}}}function yW(r,e,t){let n,l;const s=["id","value","recordSummary","setRecordSummary","tableId","class","allowsHyperlinks","disabled"];let i=Ye(e,s),o,a;Z(r,ns,B=>t(18,o=B)),Z(r,ge,B=>t(9,a=B));const u=r6(),c=Do(),f=Fn("dropdownAccompanyingElements"),m=ht();let{id:d=Il()}=e,{value:p=void 0}=e,{recordSummary:h=void 0}=e,{setRecordSummary:b=()=>{}}=e,{tableId:$}=e,{class:k=""}=e,{allowsHyperlinks:T=!0}=e,{disabled:E=!1}=e,A=!1,P;function O(){t(1,p=null),m("artificialChange",void 0),m("artificialInput",void 0),P.focus()}function R(){if(!f)return()=>{};const B=document.querySelector(".modal-record-selector");return B?f.add(B):()=>{}}async function F(){if(E)return;m("recordSelectorOpen"),t(6,A=!0);const B=c.acquireUserInput({tableId:$});await on();const V=R(),ee=await B;V(),t(6,A=!1),ee===void 0?m("recordSelectorCancel"):(t(1,p=ee.recordId),b(String(ee.recordId),ee.recordSummary),m("recordSelectorSubmit"),m("artificialChange",p),m("artificialInput",p)),await on(),P.focus()}function L(B){switch(B.key){case"Enter":F();break;case"Delete":O();break}}function U(){window.addEventListener("keydown",L)}function W(){window.removeEventListener("keydown",L)}_n(()=>{t(7,P.launchRecordSelector=F,P)});function H(B){ye.call(this,r,B)}function z(B){ye.call(this,r,B)}function te(B){d=B,t(0,d)}function se(B){Te[B?"unshift":"push"](()=>{P=B,t(7,P)})}return r.$$set=B=>{e=le(le({},e),_t(B)),t(14,i=Ye(e,s)),"id"in B&&t(0,d=B.id),"value"in B&&t(1,p=B.value),"recordSummary"in B&&t(2,h=B.recordSummary),"setRecordSummary"in B&&t(15,b=B.setRecordSummary),"tableId"in B&&t(16,$=B.tableId),"class"in B&&t(3,k=B.class),"allowsHyperlinks"in B&&t(17,T=B.allowsHyperlinks),"disabled"in B&&t(4,E=B.disabled)},r.$$.update=()=>{r.$$.dirty&2&&t(5,n=p!=null),r.$$.dirty&1&&(u==null||u.inputId.set(d)),r.$$.dirty&458786&&t(8,l=n&&T?o({tableId:$,recordId:p}):void 0)},[d,p,h,k,E,n,A,P,l,a,O,F,U,W,i,b,$,T,o,H,z,te,se]}class SW extends x{constructor(e){super(),J(this,e,yW,kW,Q,{id:0,value:1,recordSummary:2,setRecordSummary:15,tableId:16,class:3,allowsHyperlinks:17,disabled:4})}}function CW(r){let e;return{c(){e=q(r[2])},m(t,n){w(t,e,n)},p(t,n){n&4&&Y(e,t[2])},i:j,o:j,d(t){t&&v(e)}}}function TW(r){let e,t;return e=new Nu({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oh(r){let e,t,n,l,s,i;const o=[tf];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return t=new Be({props:a}),{c(){e=M("a"),C(t.$$.fragment),D(e,"href",r[6]),D(e,"class","link svelte-uum908"),D(e,"title",n=r[7]("go_to_record_with_value",{values:{value:r[2]}}))},m(u,c){w(u,e,c),y(t,e,null),l=!0,s||(i=He(e,"contextmenu",IW),s=!0)},p(u,c){const f=c&0?de(o,[$e(tf)]):{};t.$set(f),(!l||c&64)&&D(e,"href",u[6]),(!l||c&132&&n!==(n=u[7]("go_to_record_with_value",{values:{value:u[2]}})))&&D(e,"title",n)},i(u){l||(_(t.$$.fragment,u),l=!0)},o(u){g(t.$$.fragment,u),l=!1},d(u){u&&v(e),S(t),s=!1,i()}}}function EW(r){let e,t,n,l,s,i,o,a;const u=[TW,CW],c=[];function f(d,p){return d[2]===void 0?0:1}n=f(r),l=c[n]=u[n](r);let m=r[5]&&oh(r);return{c(){e=M("div"),t=M("span"),l.c(),s=N(),m&&m.c(),D(t,"class","value svelte-uum908"),D(e,"class","primary-key-cell svelte-uum908"),re(e,"is-independent-of-sheet",r[4])},m(d,p){w(d,e,p),I(e,t),c[n].m(t,null),I(e,s),m&&m.m(e,null),i=!0,o||(a=He(t,"mousedown",r[8]),o=!0)},p(d,p){let h=n;n=f(d),n===h?c[n].p(d,p):(G(),g(c[h],1,1,()=>{c[h]=null}),K(),l=c[n],l?l.p(d,p):(l=c[n]=u[n](d),l.c()),_(l,1),l.m(t,null)),d[5]?m?(m.p(d,p),p&32&&_(m,1)):(m=oh(d),m.c(),_(m,1),m.m(e,null)):m&&(G(),g(m,1,1,()=>{m=null}),K()),(!i||p&16)&&re(e,"is-independent-of-sheet",d[4])},i(d){i||(_(l),_(m),i=!0)},o(d){g(l),g(m),i=!1},d(d){d&&v(e),c[n].d(),m&&m.d(),o=!1,a()}}}function DW(r){let e,t;return e=new ki({props:{isActive:r[0],isSelectedInRange:r[1],disabled:r[3],isIndependentOfSheet:r[4],hasPadding:!1,$$slots:{default:[EW]},$$scope:{ctx:r}}}),e.$on("mouseenter",r[12]),e.$on("keydown",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.isActive=n[0]),l&2&&(s.isSelectedInRange=n[1]),l&8&&(s.disabled=n[3]),l&16&&(s.isIndependentOfSheet=n[4]),l&16628&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function IW(r){r.stopPropagation()}function MW(r,e,t){let n,l,s;Z(r,ns,$=>t(11,l=$)),Z(r,ge,$=>t(7,s=$));const i=ht();let{isActive:o}=e,{isSelectedInRange:a}=e,{value:u=void 0}=e,{disabled:c}=e,{tableId:f}=e,{isIndependentOfSheet:m}=e,{canViewLinkedEntities:d}=e;function p(){i("activate")}function h($){switch($.key){case"Tab":case"ArrowLeft":case"ArrowRight":case"ArrowDown":case"ArrowUp":i("movementKeyDown",{originalEvent:$,key:$.key});break}}function b($){ye.call(this,r,$)}return r.$$set=$=>{"isActive"in $&&t(0,o=$.isActive),"isSelectedInRange"in $&&t(1,a=$.isSelectedInRange),"value"in $&&t(2,u=$.value),"disabled"in $&&t(3,c=$.disabled),"tableId"in $&&t(10,f=$.tableId),"isIndependentOfSheet"in $&&t(4,m=$.isIndependentOfSheet),"canViewLinkedEntities"in $&&t(5,d=$.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&3076&&t(6,n=l({tableId:f,recordId:u}))},[o,a,u,c,m,d,n,s,p,h,f,l,b]}class AW extends x{constructor(e){super(),J(this,e,MW,DW,Q,{isActive:0,isSelectedInRange:1,value:2,disabled:3,tableId:10,isIndependentOfSheet:4,canViewLinkedEntities:5})}}function Rm({cellInfo:r,column:e,fkTargetTableId:t,pkTargetTableId:n}){var s;if(t)return{component:iU,props:{tableId:t}};if(n)return{component:AW,props:{tableId:n}};const l=zu(e.type,r);return Vu[(s=r==null?void 0:r.type)!=null?s:"string"].get(e,l)}function Om(r,e,t){var s;if(e)return{component:SW,props:{tableId:e}};const n=t!=null?t:Hu(r.type),l=zu(r.type,n);return Vu[(s=n==null?void 0:n.type)!=null?s:"string"].getInput(r,l)}function ly(r,e,t){var l;if(e)return;const n=t!=null?t:Hu(r.type);return Vu[(l=n==null?void 0:n.type)!=null?l:"string"].initialInputValue}function sy(r,e){var i;const t=Hu(r.type),n=zu(r.type,t),l=(i=t==null?void 0:t.type)!=null?i:"string",s=Vu[l].getDisplayFormatter(r,n);return(o,a)=>{var c;if(!a||e===void 0)return s(o);const u=(c=a.get(String(e)))==null?void 0:c.get(String(o));return u||s(o)}}const iy="filter-input";function Ua(r,e){if("hasParams"in r){if(!r.hasParams)return e===void 0}else if(r.parameters.length===0)return e===void 0;return kn(e)&&String(e)!==""}function PW(r,e){return e!==void 0?kH(r):t5(r)}function Lm(r){return r.type==="foreignkey"}function RW(r,e){return r.filter(Lm).filter(t=>t.columns.length===1&&t.columns.includes(e))}function oy({tableId:r,column:e,columnIndex:t,constraints:n,abstractTypeMap:l,hasEnhancedPrimaryKeyCell:s}){const i=$s(e.type,l),o=n.filter(d=>d.columns.includes(e.id)),a=o.filter(d=>d.columns.length===1),u=o.filter(d=>d.columns.length!==1),c=RW(a,e.id)[0],f=(s!=null?s:!0)&&e.primary_key,m=c?c.referent_table:void 0;return{id:e.id,column:e,columnIndex:t,exclusiveConstraints:a,sharedConstraints:u,linkFk:c,abstractType:i,initialInputValue:ly(e,void 0,i.cellInfo),cellComponentAndProps:Rm({cellInfo:i.cellInfo,column:e,fkTargetTableId:m,pkTargetTableId:f?r:void 0}),inputComponentAndProps:Om(e,m,i.cellInfo),allowedFiltersMap:PW(i.identifier,c),preprocFunctions:n5(i.identifier),formatCellValue:sy(e,e.id)}}class Qu{constructor(e){ce(this,"id");ce(this,"meta");ce(this,"columnsDataStore");ce(this,"processedColumns");ce(this,"constraintsDataStore");ce(this,"recordsData");ce(this,"display");ce(this,"isLoading");ce(this,"selection");ce(this,"table");ce(this,"shareConsumer");var n,l;const t=(n=e.contextualFilters)!=null?n:new Map;this.id=e.id,this.meta=(l=e.meta)!=null?l:new vs,this.shareConsumer=e.shareConsumer,this.columnsDataStore=new wm({tableId:this.id,hiddenColumns:t.keys(),shareConsumer:this.shareConsumer}),this.constraintsDataStore=new R5({tableId:this.id,shareConsumer:this.shareConsumer}),this.recordsData=new rz({tableId:this.id,meta:this.meta,columnsDataStore:this.columnsDataStore,contextualFilters:t,shareConsumer:this.shareConsumer}),this.display=new $z(this.meta,this.columnsDataStore,this.recordsData),this.processedColumns=at([this.columnsDataStore.columns,this.constraintsDataStore],([s,i])=>new Map(s.map((o,a)=>[o.id,oy({tableId:this.id,column:o,columnIndex:a,constraints:i.constraints,abstractTypeMap:e.abstractTypesMap,hasEnhancedPrimaryKeyCell:e.hasEnhancedPrimaryKeyCell})]))),this.table=e.table,this.selection=new P5({getColumns:()=>[...Ve(this.processedColumns).values()],getColumnOrder:()=>vk([...Ve(this.processedColumns).values()],this.table),getRows:()=>this.recordsData.getRecordRows(),getMaxSelectionRowIndex:()=>{var f;const s=(f=Ve(this.recordsData.totalCount))!=null?f:0,i=Ve(this.recordsData.savedRecords),o=Ve(this.recordsData.newRecords),a=Ve(this.meta.pagination),{offset:u}=a,c=a.size;return Math.min(c,s-u,i.length)+o.length}}),this.isLoading=at([this.columnsDataStore.fetchStatus,this.constraintsDataStore,this.recordsData.state],([s,i,o])=>(s==null?void 0:s.state)==="processing"||i.state===rn.Loading||o===rn.Loading),this.columnsDataStore.on("columnRenamed",async()=>{await this.refresh()}),this.columnsDataStore.on("columnAdded",async()=>{await this.recordsData.fetch()}),this.columnsDataStore.on("columnDeleted",async s=>{this.meta.sorting.update(i=>i.without(s)),this.meta.grouping.update(i=>i.withoutColumns([s])),this.meta.filtering.update(i=>i.withoutColumns([s])),await this.constraintsDataStore.fetch()}),this.columnsDataStore.on("columnPatched",async()=>{await this.recordsData.fetch()})}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.recordsData.fetch(),this.constraintsDataStore.fetch()])}refreshAfterColumnExtraction(e,t){return this.meta.sorting.update(n=>{const l=e.find(s=>n.has(s));if(l&&t&&!n.has(t)){const s=n.get(l);return n.without(e).with(t,s!=null?s:"ASCENDING")}return n.without(e)}),this.meta.filtering.update(n=>n.withoutColumns(e)),this.meta.grouping.update(n=>e.some(s=>n.hasColumn(s))&&t&&!n.hasColumn(t)?n.withoutColumns(e).withEntry({columnId:t}):n.withoutColumns(e)),this.refresh()}destroy(){this.recordsData.destroy(),this.constraintsDataStore.destroy(),this.columnsDataStore.destroy(),this.selection.destroy()}}const ay={};function Nm(r){const e=xe(r);return xn(ay,e),e}function Ft(){return Fn(ay)}class uy{constructor(e){ce(this,"id");ce(this,"columnsDataStore");ce(this,"constraintsDataStore");ce(this,"processedColumns");ce(this,"isLoading");this.id=e.id,this.columnsDataStore=new wm({tableId:this.id}),this.constraintsDataStore=new R5({tableId:this.id}),this.processedColumns=at([this.columnsDataStore.columns,this.constraintsDataStore],([t,n])=>new Map(t.map((l,s)=>[l.id,oy({tableId:this.id,column:l,columnIndex:s,constraints:n.constraints,abstractTypeMap:e.abstractTypesMap})]))),this.isLoading=at([this.columnsDataStore.fetchStatus,this.constraintsDataStore],([t,n])=>(t==null?void 0:t.state)==="processing"||n.state===rn.Loading)}refresh(){return Promise.all([this.columnsDataStore.fetch(),this.constraintsDataStore.fetch()])}destroy(){this.constraintsDataStore.destroy(),this.columnsDataStore.destroy()}}function vf(r,e=!1){return r=r.slice(r.startsWith("/#")?2:0,r.endsWith("/*")?-2:void 0),r.startsWith("/")||(r="/"+r),r==="/"&&(r=""),e&&!r.endsWith("/")&&(r+="/"),r}function cy(r,e){r=vf(r,!0),e=vf(e,!0);let t=[],n={},l=!0,s=r.split("/").map(o=>o.startsWith(":")?(t.push(o.slice(1)),"([^\\/]+)"):o).join("\\/"),i=e.match(new RegExp(`^${s}$`));return i||(l=!1,i=e.match(new RegExp(`^${s}`))),i?(t.forEach((o,a)=>n[o]=i[a+1]),{exact:l,params:n,part:i[0].slice(0,-1)}):null}function fy(r,e,t){if(t==="")return r;if(t[0]==="/")return t;let n=i=>i.split("/").filter(o=>o!==""),l=n(r),s=e?n(e):[];return"/"+s.map((i,o)=>l[o]).join("/")+"/"+t}function Yi(r,e,t,n){let l=[e,"data-"+e].reduce((s,i)=>{let o=r.getAttribute(i);return t&&r.removeAttribute(i),o===null?s:o},!1);return!n&&l===""?!0:l||n||!1}function OW(r){let e=r.split("&").map(t=>t.split("=")).reduce((t,n)=>{let l=n[0];if(!l)return t;let s=n.length>1?n[n.length-1]:!0;return typeof s=="string"&&s.includes(",")&&(s=s.split(",")),t[l]===void 0?t[l]=[s]:t[l].push(s),t},{});return Object.entries(e).reduce((t,n)=>(t[n[0]]=n[1].length>1?n[1]:n[1][0],t),{})}function LW(r){return Object.entries(r).map(([e,t])=>t?t===!0?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null).filter(e=>e).join("&")}function ah(r,e){return r?e+r:""}function my(r){throw new Error("[Tinro] "+r)}var Vr={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(r,e,t,n){return r===this.HISTORY?e&&e():r===this.HASH?t&&t():n&&n()},getDefault(){return!window||window.location.pathname==="srcdoc"?this.MEMORY:this.HISTORY}},Fm,dy,_y,Wa="",Hr=NW();function NW(){let r=Vr.getDefault(),e,t=i=>window.onhashchange=window.onpopstate=Fm=null,n=i=>e&&e(Ic(r)),l=i=>{i&&(r=i),t(),r!==Vr.OFF&&Vr.run(r,o=>window.onpopstate=n,o=>window.onhashchange=n)&&n()},s=i=>{let o=Object.assign(Ic(r),i);return o.path+ah(LW(o.query),"?")+ah(o.hash,"#")};return{mode:l,get:i=>Ic(r),go(i,o){FW(r,i,o),n()},start(i){e=i,l()},stop(){e=null,l(Vr.OFF)},set(i){this.go(s(i),!i.path)},methods(){return HW(this)},base:i=>Wa=i}}function FW(r,e,t){!t&&(dy=_y);let n=l=>history[`${t?"replace":"push"}State`]({},"",l);Vr.run(r,l=>n(Wa+e),l=>n(`#${e}`),l=>Fm=e)}function Ic(r){let e=window.location,t=Vr.run(r,l=>(Wa?e.pathname.replace(Wa,""):e.pathname)+e.search+e.hash,l=>String(e.hash.slice(1)||"/"),l=>Fm||"/"),n=t.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return _y=t,{url:t,from:dy,path:n[1]||"",query:OW(n[2]||""),hash:n[3]||""}}function HW(r){let e=()=>r.get().query,t=i=>r.set({query:i}),n=i=>t(i(e())),l=()=>r.get().hash,s=i=>r.set({hash:i});return{hash:{get:l,set:s,clear:()=>s("")},query:{replace:t,clear:()=>t(""),get(i){return i?e()[i]:e()},set(i,o){n(a=>(a[i]=o,a))},delete(i){n(o=>(o[i]&&delete o[i],o))}}}}var un=zW();function zW(){let{subscribe:r}=xe(Hr.get(),e=>{Hr.start(e);let t=VW(Hr.go);return()=>{Hr.stop(),t()}});return{subscribe:r,goto:Hr.go,params:qW,meta:py,useHashNavigation:e=>Hr.mode(e?Vr.HASH:Vr.HISTORY),mode:{hash:()=>Hr.mode(Vr.HASH),history:()=>Hr.mode(Vr.HISTORY),memory:()=>Hr.mode(Vr.MEMORY)},base:Hr.base,location:Hr.methods()}}function uh(r){let e,t,n,l,s=()=>{e=Yi(r,"href").replace(/^\/#|[?#].*$|\/$/g,""),t=Yi(r,"exact",!0),n=Yi(r,"active-class",!0,"active")},i=()=>{let o=cy(e,l);o&&(o.exact&&t||!t)?r.classList.add(n):r.classList.remove(n)};return s(),{destroy:un.subscribe(o=>{l=o.path,i()}),update:()=>{s(),i()}}}function VW(r){let e=t=>{let n=t.target.closest("a[href]"),l=n&&Yi(n,"target",!1,"_self"),s=n&&Yi(n,"tinro-ignore"),i=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if(l=="_self"&&!s&&!i&&n){let o=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(o)||(t.preventDefault(),r(o.startsWith("/")?o:n.href.replace(window.location.origin,"")))}};return addEventListener("click",e),()=>removeEventListener("click",e)}function qW(){return Fn("tinro").meta.params}var ja="tinro",BW=gy({pattern:"",matched:!0});function UW(r){let e=Fn(ja)||BW;(e.exact||e.fallback)&&my(`${r.fallback?"<Route fallback>":`<Route path="${r.path}">`}  can't be inside ${e.fallback?"<Route fallback>":`<Route path="${e.path||"/"}"> with exact path`}`);let t=r.fallback?"fallbacks":"childs",n=xe({}),l=gy({fallback:r.fallback,parent:e,update(s){l.exact=!s.path.endsWith("/*"),l.pattern=vf(`${l.parent.pattern||""}${s.path}`),l.redirect=s.redirect,l.firstmatch=s.firstmatch,l.breadcrumb=s.breadcrumb,l.match()},register:()=>(l.parent[t].add(l),async()=>{l.parent[t].delete(l),l.parent.activeChilds.delete(l),l.router.un&&l.router.un(),l.parent.match()}),show:()=>{r.onShow(),!l.fallback&&l.parent.activeChilds.add(l)},hide:()=>{r.onHide(),l.parent.activeChilds.delete(l)},match:async()=>{l.matched=!1;let{path:s,url:i,from:o,query:a}=l.router.location,u=cy(l.pattern,s);if(!l.fallback&&u&&l.redirect&&(!l.exact||l.exact&&u.exact)){let c=fy(s,l.parent.pattern,l.redirect);return un.goto(c,!0)}l.meta=u&&{from:o,url:i,query:a,match:u.part,pattern:l.pattern,breadcrumbs:l.parent.meta&&l.parent.meta.breadcrumbs.slice()||[],params:u.params,subscribe:n.subscribe},l.breadcrumb&&l.meta&&l.meta.breadcrumbs.push({name:l.breadcrumb,path:u.part}),n.set(l.meta),u&&!l.fallback&&(!l.exact||l.exact&&u.exact)&&(!l.parent.firstmatch||!l.parent.matched)?(r.onMeta(l.meta),l.parent.matched=!0,l.show()):l.hide(),u&&l.showFallbacks()}});return xn(ja,l),_n(()=>l.register()),l}function py(){return Mw(ja)?Fn(ja).meta:my("meta() function must be run inside any `<Route>` child component only")}function gy(r){let e={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await on(),this.childs.size>0&&this.activeChilds.size==0||this.childs.size==0&&this.fallbacks.size>0)){let t=this;for(;t.fallbacks.size==0;)if(t=t.parent,!t)return;t&&t.fallbacks.forEach(n=>{if(n.redirect){let l=fy("/",n.parent.pattern,n.redirect);un.goto(l,!0)}else n.show()})}},start(){this.router.un||(this.router.un=un.subscribe(t=>{this.router.location=t,this.pattern!==null&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(e,r),e.start(),e}const WW=r=>({params:r&2,meta:r&4}),ch=r=>({params:r[1],meta:r[2]});function fh(r){let e;const t=r[9].default,n=Ie(t,r,r[8],ch);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&262)&&Ae(n,t,l,l[8],e?Me(t,l[8],s,WW):Pe(l[8]),ch)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function jW(r){let e,t,n=r[0]&&fh(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&_(n,1)):(n=fh(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function YW(r,e,t){let{$$slots:n={},$$scope:l}=e,{path:s="/*"}=e,{fallback:i=!1}=e,{redirect:o=!1}=e,{firstmatch:a=!1}=e,{breadcrumb:u=null}=e,c=!1,f={},m={};const d=UW({fallback:i,onShow(){t(0,c=!0)},onHide(){t(0,c=!1)},onMeta(p){t(2,m=p),t(1,f=m.params)}});return r.$$set=p=>{"path"in p&&t(3,s=p.path),"fallback"in p&&t(4,i=p.fallback),"redirect"in p&&t(5,o=p.redirect),"firstmatch"in p&&t(6,a=p.firstmatch),"breadcrumb"in p&&t(7,u=p.breadcrumb),"$$scope"in p&&t(8,l=p.$$scope)},r.$$.update=()=>{r.$$.dirty&232&&d.update({path:s,redirect:o,firstmatch:a,breadcrumb:u})},[c,f,m,s,i,o,a,u,l,n]}class Wt extends x{constructor(e){super(),J(this,e,YW,jW,Q,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}function GW(){return{hasOverflowTop:xe(!1),hasOverflowLeft:xe(!1),hasOverflowBottom:xe(!1),hasOverflowRight:xe(!1)}}function KW(r,e){const{hasOverflowTop:t,hasOverflowLeft:n,hasOverflowBottom:l,hasOverflowRight:s}=e;function i(){const{scrollTop:a,scrollLeft:u,scrollHeight:c,scrollWidth:f,clientHeight:m,clientWidth:d}=r;t.set(a>0),n.set(u>0),l.set(Math.abs(c-m-a)>1),s.set(Math.abs(f-d-u)>1)}r.addEventListener("scroll",i);const o=new ResizeObserver(i);return o.observe(r),{destroy:()=>{r.removeEventListener("scroll",i),o.disconnect()}}}function XW(r){let e,t;const n=r[10].default,l=Ie(n,r,r[9],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","td svelte-1bmz4cl"),re(e,"column-header",r[0]==="columnHeaderRow"),re(e,"row-header",r[2]==="rowHeaderColumn"),re(e,"row-is-selected",r[1]),re(e,"table-overflow-top",r[6]),re(e,"table-overflow-left",r[7]),re(e,"show-above-overlay",r[3])},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&512)&&Ae(l,n,s,s[9],t?Me(n,s[9],i,null):Pe(s[9]),null),(!t||i&1)&&re(e,"column-header",s[0]==="columnHeaderRow"),(!t||i&4)&&re(e,"row-header",s[2]==="rowHeaderColumn"),(!t||i&2)&&re(e,"row-is-selected",s[1]),(!t||i&64)&&re(e,"table-overflow-top",s[6]),(!t||i&128)&&re(e,"table-overflow-left",s[7]),(!t||i&8)&&re(e,"show-above-overlay",s[3])},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function QW(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,k=>t(6,s=k)),n),a,u=j,c=()=>(u(),u=ue(l,k=>t(7,a=k)),l);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{$$slots:f={},$$scope:m}=e,{rowType:d}=e,{rowIsSelected:p=!1}=e,{columnType:h}=e,{overflowDetails:b=void 0}=e,{showAboveOverlay:$=!1}=e;return r.$$set=k=>{"rowType"in k&&t(0,d=k.rowType),"rowIsSelected"in k&&t(1,p=k.rowIsSelected),"columnType"in k&&t(2,h=k.columnType),"overflowDetails"in k&&t(8,b=k.overflowDetails),"showAboveOverlay"in k&&t(3,$=k.showAboveOverlay),"$$scope"in k&&t(9,m=k.$$scope)},r.$$.update=()=>{var k,T;r.$$.dirty&256&&o(t(5,n=lr((k=b==null?void 0:b.hasOverflowTop)!=null?k:!1))),r.$$.dirty&256&&c(t(4,l=lr((T=b==null?void 0:b.hasOverflowLeft)!=null?T:!1)))},[d,p,h,$,l,n,s,a,b,m,f]}class Zu extends x{constructor(e){super(),J(this,e,QW,XW,Q,{rowType:0,rowIsSelected:1,columnType:2,overflowDetails:8,showAboveOverlay:3})}}function Mc(r){let e,t,n,l;const s=r[9].default,i=Ie(s,r,r[8],null);let o=[{class:"passthrough tr svelte-rluf06"},{href:r[0]},{tabindex:"-1"}],a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return{c(){e=M(r[2]),i&&i.c(),ct(e,a),re(e,"selected",r[1])},m(u,c){w(u,e,c),i&&i.m(e,null),t=!0,n||(l=[He(e,"click",r[3]),He(e,"mousemove",r[4])],n=!0)},p(u,c){i&&i.p&&(!t||c&256)&&Ae(i,s,u,u[8],t?Me(s,u[8],c,null):Pe(u[8]),null),ct(e,a=de(o,[{class:"passthrough tr svelte-rluf06"},(!t||c&1)&&{href:u[0]},{tabindex:"-1"}])),re(e,"selected",u[1])},i(u){t||(_(i,u),t=!0)},o(u){g(i,u),t=!1},d(u){u&&v(e),i&&i.d(u),n=!1,It(l)}}}function ZW(r){let e=r[2],t,n,l=r[2]&&Mc(r);return{c(){l&&l.c(),t=oe()},m(s,i){l&&l.m(s,i),w(s,t,i),n=!0},p(s,[i]){s[2]?e?Q(e,s[2])?(l.d(1),l=Mc(s),l.c(),l.m(t.parentNode,t)):l.p(s,i):(l=Mc(s),l.c(),l.m(t.parentNode,t)):e&&(l.d(1),l=null),e=s[2]},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l&&l.d(s)}}}function JW(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e;const o=ht();let{href:a=void 0}=e,{index:u}=e,{selectionIndex:c=void 0}=e,{setSelectionIndex:f}=e;function m(p){p.preventDefault(),o("click")}function d(){c!==void 0&&f(u)}return r.$$set=p=>{"href"in p&&t(0,a=p.href),"index"in p&&t(5,u=p.index),"selectionIndex"in p&&t(6,c=p.selectionIndex),"setSelectionIndex"in p&&t(7,f=p.setSelectionIndex),"$$scope"in p&&t(8,i=p.$$scope)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a?"a":"div"),r.$$.dirty&96&&t(1,l=c===u)},[a,l,n,m,d,u,c,f,i,s]}class xW extends x{constructor(e){super(),J(this,e,JW,ZW,Q,{href:0,index:5,selectionIndex:6,setSelectionIndex:7})}}function ej(r){let e,t,n,l;const s=[r[3],r[2]];function i(u){r[4](u)}var o=r[1].component;function a(u){let c={};for(let f=0;f<s.length;f+=1)c=le(c,s[f]);return u[0]!==void 0&&(c.value=u[0]),{props:c}}return o&&(e=new o(a(r)),Te.push(()=>Oe(e,"value",i)),e.$on("input",r[5]),e.$on("artificialInput",r[6]),e.$on("change",r[7]),e.$on("artificialChange",r[8]),e.$on("focus",r[9]),e.$on("blur",r[10]),e.$on("recordSelectorOpen",r[11]),e.$on("recordSelectorCancel",r[12]),e.$on("recordSelectorSubmit",r[13])),{c(){e&&C(e.$$.fragment),n=oe()},m(u,c){e&&y(e,u,c),w(u,n,c),l=!0},p(u,[c]){const f=c&12?de(s,[c&8&&$e(u[3]),c&4&&$e(u[2])]):{};if(!t&&c&1&&(t=!0,f.value=u[0],Ne(()=>t=!1)),o!==(o=u[1].component)){if(e){G();const m=e;g(m.$$.fragment,1,0,()=>{S(m,1)}),K()}o?(e=new o(a(u)),Te.push(()=>Oe(e,"value",i)),e.$on("input",u[5]),e.$on("artificialInput",u[6]),e.$on("change",u[7]),e.$on("artificialChange",u[8]),e.$on("focus",u[9]),e.$on("blur",u[10]),e.$on("recordSelectorOpen",u[11]),e.$on("recordSelectorCancel",u[12]),e.$on("recordSelectorSubmit",u[13]),C(e.$$.fragment),_(e.$$.fragment,1),y(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){l||(e&&_(e.$$.fragment,u),l=!0)},o(u){e&&g(e.$$.fragment,u),l=!1},d(u){u&&v(n),e&&S(e,u)}}}function tj(r,e,t){let n;const l=["value","componentAndProps"];let s=Ye(e,l),{value:i}=e,{componentAndProps:o}=e;function a(k){i=k,t(0,i)}function u(k){ye.call(this,r,k)}function c(k){ye.call(this,r,k)}function f(k){ye.call(this,r,k)}function m(k){ye.call(this,r,k)}function d(k){ye.call(this,r,k)}function p(k){ye.call(this,r,k)}function h(k){ye.call(this,r,k)}function b(k){ye.call(this,r,k)}function $(k){ye.call(this,r,k)}return r.$$set=k=>{e=le(le({},e),_t(k)),t(3,s=Ye(e,l)),"value"in k&&t(0,i=k.value),"componentAndProps"in k&&t(1,o=k.componentAndProps)},r.$$.update=()=>{r.$$.dirty&2&&t(2,n=o.props)},[i,o,n,s,a,u,c,f,m,d,p,h,b,$]}class Ju extends x{constructor(e){super(),J(this,e,tj,ej,Q,{value:0,componentAndProps:1})}}function nj(r,e="_"){let t;const n=`${e}\\d{1,15}$`;return[r.replace(new RegExp(n),s=>(t=parseInt(s.slice(1),10),"")),t]}function Tl(r,e){if(!e.has(r))return r;const[t,n]=nj(r);let l=(n!=null?n:0)+1;function s(){return`${t}_${l}`}let i=s();for(;e.has(i);)l+=1,i=s();return i}function hy(r){var e,t,n;return(e=r.constraintsType)!=null&&e.includes("primary")?Qs:(t=r.constraintsType)!=null&&t.includes("foreignkey")?io:$s(r.type,(n=Ve(wr))==null?void 0:n.data).getIcon({dbType:r.type,typeOptions:r.type_options})}function Vi(r,e=[{name:"id"}]){const t=new Set(e.map(n=>n.name));return r?Tl(r5(r.name),t):""}function Ya(r){const e="A column with that name already exists";return Lo(r.map(t=>t.name),e)}function Zl(r,e){var l,s;const t=e.get(r);return Array.from(new Set([...(l=t==null?void 0:t.exclusiveConstraints)!=null?l:[],...(s=t==null?void 0:t.sharedConstraints)!=null?s:[]].filter(i=>!!i).map(i=>i.type)))}function rj(r){let e=r[0].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function lj(r){let e,t;const n=[{icon:r[1]},r[2]];let l={$$slots:{default:[rj]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Rn({props:l}),e.$on("click",r[3]),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&6?de(n,[i&2&&{icon:s[1]},i&4&&$e(s[2])]):{};i&17&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function sj(r,e,t){let n;const l=["column"];let s=Ye(e,l),{column:i}=e;function o(a){ye.call(this,r,a)}return r.$$set=a=>{e=le(le({},e),_t(a)),t(2,s=Ye(e,l)),"column"in a&&t(0,i=a.column)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=hy(i))},[i,n,s,o]}class er extends x{constructor(e){super(),J(this,e,sj,lj,Q,{column:0})}}function ij(r){let e,t;const n=[{column:r[0]},r[1]];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new er({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&3?de(n,[i&1&&{column:s[0]},i&2&&$e(s[1])]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function oj(r){return{...r.column,constraintsType:r.linkFk?[r.linkFk.type]:void 0}}function aj(r,e,t){let n;const l=["processedColumn"];let s=Ye(e,l),{processedColumn:i}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(1,s=Ye(e,l)),"processedColumn"in o&&t(2,i=o.processedColumn)},r.$$.update=()=>{r.$$.dirty&4&&t(0,n=oj(i))},[n,s,i]}class Si extends x{constructor(e){super(),J(this,e,aj,ij,Q,{processedColumn:2})}}function uj(r){let e,t;return e=new Si({props:{processedColumn:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.processedColumn=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cj(r){let e,t;function n(...o){return r[16](r[27],...o)}function l(...o){return r[17](r[27],...o)}function s(...o){return r[18](r[27],...o)}function i(...o){return r[19](r[27],...o)}return e=new Ju({props:{class:"record-selector-input column-"+r[5].id,componentAndProps:r[0].inputComponentAndProps,value:r[6],recordSummary:r[9],labelController:r[10],allowsHyperlinks:!1,setRecordSummary:r[15]}}),e.$on("input",n),e.$on("artificialInput",l),e.$on("change",s),e.$on("artificialChange",i),e.$on("focus",r[20]),e.$on("blur",r[21]),e.$on("recordSelectorOpen",r[22]),e.$on("recordSelectorSubmit",r[23]),e.$on("recordSelectorCancel",r[24]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),t=!0},p(o,a){r=o;const u={};a&32&&(u.class="record-selector-input column-"+r[5].id),a&1&&(u.componentAndProps=r[0].inputComponentAndProps),a&64&&(u.value=r[6]),a&512&&(u.recordSummary=r[9]),a&36&&(u.setRecordSummary=r[15]),e.$set(u)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){g(e.$$.fragment,o),t=!1},d(o){S(e,o)}}}function mh(r){let e;return{c(){e=M("div"),D(e,"class","overlay svelte-p6cy88")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function fj(r){let e,t,n,l,s,i,o,a,u,c;t=new fi({props:{controller:r[10],$$slots:{default:[uj]},$$scope:{ctx:r}}}),a=new vT({props:{$$slots:{default:[cj,({handleNewValue:m})=>({27:m}),({handleNewValue:m})=>m?134217728:0]},$$scope:{ctx:r}}}),a.$on("artificialChange",r[11]);let f=r[3]&&mh();return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div"),s=M("div"),i=q(r[8]),o=N(),C(a.$$.fragment),u=N(),f&&f.c(),D(s,"class","search-value svelte-p6cy88"),D(l,"class","input-wrapper"),D(e,"class","column-header-cell svelte-p6cy88"),re(e,"has-nested-selector-open",r[3])},m(m,d){w(m,e,d),y(t,e,null),I(e,n),I(e,l),I(l,s),I(s,i),I(l,o),y(a,l,null),r[25](l),I(e,u),f&&f.m(e,null),c=!0},p(m,d){const p={};d&268435457&&(p.$$scope={dirty:d,ctx:m}),t.$set(p),(!c||d&256)&&Y(i,m[8]);const h={};d&402653797&&(h.$$scope={dirty:d,ctx:m}),a.$set(h),m[3]?f||(f=mh(),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!c||d&8)&&re(e,"has-nested-selector-open",m[3])},i(m){c||(_(t.$$.fragment,m),_(a.$$.fragment,m),c=!0)},o(m){g(t.$$.fragment,m),g(a.$$.fragment,m),c=!1},d(m){m&&v(e),S(t),S(a),r[25](null),f&&f.d()}}}function mj(r){let e,t;return e=new Zu({props:{rowType:"columnHeaderRow",columnType:"dataColumn",overflowDetails:r[4],showAboveOverlay:r[3],$$slots:{default:[fj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&16&&(s.overflowDetails=n[4]),l&8&&(s.showAboveOverlay=n[3]),l&268436461&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dj(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(h,V=>t(13,i=V)),h),u,c=j,f=()=>(c(),c=ue(p,V=>t(14,u=V)),p);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>c());const m=new ko;let{processedColumn:d}=e,{searchFuzzy:p}=e;f();let{recordSummaryStore:h}=e;a();let{hasNestedSelectorOpen:b}=e,{overflowDetails:$=void 0}=e,k,T="",E;function A(V){const ee=V.detail;p.update(ie=>ie.with(n.id,ee))}async function P(){var V;await on(),t(8,T=(V=E==null?void 0:E.value)!=null?V:"")}_n(()=>{E=k.querySelector("input[type=text], textarea")});const O=(V,ee)=>h.addBespokeRecordSummary({columnId:String(n.id),recordId:V,recordSummary:ee}),R=(V,ee)=>{P(),V({value:vd(ee),debounce:!0})},F=(V,ee)=>{P(),V({value:wd(ee),debounce:!0})},L=(V,ee)=>V({value:vd(ee),debounce:!1}),U=(V,ee)=>V({value:wd(ee),debounce:!1});function W(V){ye.call(this,r,V)}function H(V){ye.call(this,r,V)}function z(V){ye.call(this,r,V)}function te(V){ye.call(this,r,V)}function se(V){ye.call(this,r,V)}function B(V){Te[V?"unshift":"push"](()=>{k=V,t(7,k)})}return r.$$set=V=>{"processedColumn"in V&&t(0,d=V.processedColumn),"searchFuzzy"in V&&f(t(1,p=V.searchFuzzy)),"recordSummaryStore"in V&&a(t(2,h=V.recordSummaryStore)),"hasNestedSelectorOpen"in V&&t(3,b=V.hasNestedSelectorOpen),"overflowDetails"in V&&t(4,$=V.overflowDetails)},r.$$.update=()=>{var V;r.$$.dirty&1&&t(5,{column:n}=d,n),r.$$.dirty&16416&&t(6,l=u.get(n.id)),r.$$.dirty&8288&&t(9,s=(V=i.get(String(n.id)))==null?void 0:V.get(String(l)))},[d,p,h,b,$,n,l,k,T,s,m,A,P,i,u,O,R,F,L,U,W,H,z,te,se,B]}class _j extends x{constructor(e){super(),J(this,e,dj,mj,Q,{processedColumn:0,searchFuzzy:1,recordSummaryStore:2,hasNestedSelectorOpen:3,overflowDetails:4})}}function Ac(r){let e,t,n,l,s,i,o,a,u;const c=[r[3]];let f={};for(let p=0;p<c.length;p+=1)f=le(f,c[p]);n=new Be({props:f});let m=[{class:"submit passthrough svelte-16wt450"}],d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return{c(){e=M(r[1]),t=M("span"),C(n.$$.fragment),l=N(),s=M("span"),i=q(r[2]),D(t,"class","icon"),D(s,"class","label"),ct(e,d),re(e,"hover",r[0])},m(p,h){w(p,e,h),I(e,t),y(n,t,null),I(e,l),I(e,s),I(s,i),o=!0,a||(u=He(e,"click",r[4]),a=!0)},p(p,h){const b=h&8?de(c,[$e(p[3])]):{};n.$set(b),(!o||h&4)&&Y(i,p[2]),ct(e,d=de(m,[{class:"submit passthrough svelte-16wt450"}])),re(e,"hover",p[0])},i(p){o||(_(n.$$.fragment,p),o=!0)},o(p){g(n.$$.fragment,p),o=!1},d(p){p&&v(e),S(n),a=!1,u()}}}function pj(r){let e=r[1],t,n=r[1]&&Ac(r);return{c(){n&&n.c(),t=oe()},m(l,s){n&&n.m(l,s),w(l,t,s)},p(l,[s]){l[1]?e?Q(e,l[1])?(n.d(1),n=Ac(l),n.c(),n.m(t.parentNode,t)):n.p(l,s):(n=Ac(l),n.c(),n.m(t.parentNode,t)):e&&(n.d(1),n=null),e=l[1]},i:j,o(l){g(n)},d(l){l&&v(t),n&&n.d(l)}}}function gj(r,e,t){let n,l,s,i;Z(r,ge,f=>t(6,i=f));const o=ht();let{purpose:a}=e,{isSelected:u}=e;function c(){a==="dataEntry"&&o("click")}return r.$$set=f=>{"purpose"in f&&t(5,a=f.purpose),"isSelected"in f&&t(0,u=f.isSelected)},r.$$.update=()=>{r.$$.dirty&32&&t(3,n=a==="dataEntry"?TO:tf),r.$$.dirty&96&&t(2,l=i(a==="dataEntry"?"pick":"open")),r.$$.dirty&32&&t(1,s=a==="dataEntry"?"button":"div")},[u,s,l,n,c,a,i]}class hj extends x{constructor(e){super(),J(this,e,gj,pj,Q,{purpose:5,isSelected:0})}}function bj({table:r,columns:e}){var l;function t(){var a,u;if(!r)return;const{template:s}=r.settings.preview_settings,i=(u=(a=s.match(/\{\d+\}/))==null?void 0:a[0])!=null?u:void 0;if(!i)return;const o=parseInt(i.slice(1,-1),10);if(!Number.isNaN(o))return o}function n(){const s=e.find(i=>!i.primary_key);if(!!s)return s.id}return(l=t())!=null?l:n()}function $j(r){let e,t,n,l,s,i,o,a,u;const c=[r[14],{columnFabric:r[1]},{isActive:r[4]},{isSelectedInRange:r[5]},{disabled:r[6]},{isIndependentOfSheet:r[11]},{horizontalAlignment:r[8]},{recordSummary:r[2]},{setRecordSummary:r[3]},{searchValue:r[9]},{isProcessing:r[10]},{showTruncationPopover:r[12]},{canViewLinkedEntities:r[13]}];function f(p){r[19](p)}var m=r[15];function d(p){let h={};for(let b=0;b<c.length;b+=1)h=le(h,c[b]);return p[0]!==void 0&&(h.value=p[0]),{props:h}}return m&&(t=new m(d(r)),Te.push(()=>Oe(t,"value",f)),t.$on("movementKeyDown",r[20]),t.$on("activate",r[21]),t.$on("update",r[22]),t.$on("mouseenter",r[23])),{c(){e=M("div"),t&&C(t.$$.fragment),l=N(),s=M("div"),s.innerHTML='<div class="bg svelte-v6dv5q"></div>',D(s,"class","loader svelte-v6dv5q"),D(e,"class","cell-fabric svelte-v6dv5q"),D(e,"data-column-identifier",i=r[1].id),re(e,"show-as-skeleton",r[7]),re(e,"is-independent",r[11])},m(p,h){w(p,e,h),t&&y(t,e,null),I(e,l),I(e,s),o=!0,a||(u=[He(e,"mousedown",r[16]),He(e,"mouseenter",r[17])],a=!0)},p(p,[h]){const b=h&32638?de(c,[h&16384&&$e(p[14]),h&2&&{columnFabric:p[1]},h&16&&{isActive:p[4]},h&32&&{isSelectedInRange:p[5]},h&64&&{disabled:p[6]},h&2048&&{isIndependentOfSheet:p[11]},h&256&&{horizontalAlignment:p[8]},h&4&&{recordSummary:p[2]},h&8&&{setRecordSummary:p[3]},h&512&&{searchValue:p[9]},h&1024&&{isProcessing:p[10]},h&4096&&{showTruncationPopover:p[12]},h&8192&&{canViewLinkedEntities:p[13]}]):{};if(!n&&h&1&&(n=!0,b.value=p[0],Ne(()=>n=!1)),m!==(m=p[15])){if(t){G();const $=t;g($.$$.fragment,1,0,()=>{S($,1)}),K()}m?(t=new m(d(p)),Te.push(()=>Oe(t,"value",f)),t.$on("movementKeyDown",p[20]),t.$on("activate",p[21]),t.$on("update",p[22]),t.$on("mouseenter",p[23]),C(t.$$.fragment),_(t.$$.fragment,1),y(t,e,l)):t=null}else m&&t.$set(b);(!o||h&2&&i!==(i=p[1].id))&&D(e,"data-column-identifier",i),(!o||h&128)&&re(e,"show-as-skeleton",p[7]),(!o||h&2048)&&re(e,"is-independent",p[11])},i(p){o||(t&&_(t.$$.fragment,p),o=!0)},o(p){t&&g(t.$$.fragment,p),o=!1},d(p){p&&v(e),t&&S(t),a=!1,It(u)}}}function vj(r,e,t){let n,l,s;const i=ht();let{columnFabric:o}=e,{value:a}=e,{recordSummary:u=void 0}=e,{setRecordSummary:c=void 0}=e,{isActive:f=!1}=e,{isSelectedInRange:m=!1}=e,{disabled:d=!1}=e,{showAsSkeleton:p=!1}=e,{horizontalAlignment:h=void 0}=e,{searchValue:b=void 0}=e,{isProcessing:$=!1}=e,{isIndependentOfSheet:k=!1}=e,{showTruncationPopover:T=!1}=e,{canViewLinkedEntities:E=!0}=e;function A(W){i("onSelectionStart",{e:W})}function P(W){i("onMouseEnterCellWhileSelection",{e:W})}function O(W){a=W,t(0,a)}function R(W){ye.call(this,r,W)}function F(W){ye.call(this,r,W)}function L(W){ye.call(this,r,W)}function U(W){ye.call(this,r,W)}return r.$$set=W=>{"columnFabric"in W&&t(1,o=W.columnFabric),"value"in W&&t(0,a=W.value),"recordSummary"in W&&t(2,u=W.recordSummary),"setRecordSummary"in W&&t(3,c=W.setRecordSummary),"isActive"in W&&t(4,f=W.isActive),"isSelectedInRange"in W&&t(5,m=W.isSelectedInRange),"disabled"in W&&t(6,d=W.disabled),"showAsSkeleton"in W&&t(7,p=W.showAsSkeleton),"horizontalAlignment"in W&&t(8,h=W.horizontalAlignment),"searchValue"in W&&t(9,b=W.searchValue),"isProcessing"in W&&t(10,$=W.isProcessing),"isIndependentOfSheet"in W&&t(11,k=W.isIndependentOfSheet),"showTruncationPopover"in W&&t(12,T=W.showTruncationPopover),"canViewLinkedEntities"in W&&t(13,E=W.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&2&&t(18,{cellComponentAndProps:n}=o,n),r.$$.dirty&262144&&t(15,{component:l}=n,l),r.$$.dirty&262144&&t(14,s=n.props)},[a,o,u,c,f,m,d,p,h,b,$,k,T,E,s,l,A,P,n,O,R,F,L,U]}class Ci extends x{constructor(e){super(),J(this,e,vj,$j,Q,{columnFabric:1,value:0,recordSummary:2,setRecordSummary:3,isActive:4,isSelectedInRange:5,disabled:6,showAsSkeleton:7,horizontalAlignment:8,searchValue:9,isProcessing:10,isIndependentOfSheet:11,showTruncationPopover:12,canViewLinkedEntities:13})}}function wj(r){let e,t;return e=new Ci({props:{columnFabric:r[1],value:r[4],recordSummary:r[5],disabled:!0,showAsSkeleton:!og(r[0]),searchValue:r[6],showTruncationPopover:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.columnFabric=n[1]),l&16&&(s.value=n[4]),l&32&&(s.recordSummary=n[5]),l&1&&(s.showAsSkeleton=!og(n[0])),l&64&&(s.searchValue=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kj(r){let e,t;return e=new Zu({props:{rowType:"dataRow",columnType:"dataColumn",$$slots:{default:[wj]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1139&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yj(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(h,$=>t(8,o=$)),h),c,f=j,m=()=>(f(),f=ue(b,$=>t(9,c=$)),b);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{row:d}=e,{processedColumn:p}=e,{recordSummaries:h}=e;u();let{searchFuzzy:b}=e;return m(),r.$$set=$=>{"row"in $&&t(0,d=$.row),"processedColumn"in $&&t(1,p=$.processedColumn),"recordSummaries"in $&&u(t(2,h=$.recordSummaries)),"searchFuzzy"in $&&m(t(3,b=$.searchFuzzy))},r.$$.update=()=>{var $,k;r.$$.dirty&2&&t(7,{column:n}=p,n),r.$$.dirty&640&&t(6,l=c.get(n.id)),r.$$.dirty&129&&t(4,s=($=d==null?void 0:d.record)==null?void 0:$[n.id]),r.$$.dirty&400&&t(5,i=(k=o.get(String(n.id)))==null?void 0:k.get(String(s)))},[d,p,h,b,s,i,l,n,o,c]}class Sj extends x{constructor(e){super(),J(this,e,yj,kj,Q,{row:0,processedColumn:1,recordSummaries:2,searchFuzzy:3})}}function dh(r,e,t){const n=r.slice();return n[67]=e[t],n[69]=t,n}function _h(r,e,t){const n=r.slice();return n[70]=e[t][0],n[71]=e[t][1],n}function ph(r,e,t){const n=r.slice();n[70]=e[t][0],n[71]=e[t][1];const l=n[71];return n[74]=l.column,n}function gh(r,e){let t,n,l;function s(){return e[46](e[74])}function i(){return e[48](e[74])}return n=new _j({props:{hasNestedSelectorOpen:e[74]===e[19],overflowDetails:e[24],processedColumn:e[71],searchFuzzy:e[4],recordSummaryStore:e[8]}}),n.$on("focus",s),n.$on("blur",e[47]),n.$on("recordSelectorOpen",i),n.$on("recordSelectorSubmit",e[49]),n.$on("recordSelectorCancel",e[50]),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a[0]&786432&&(u.hasNestedSelectorOpen=e[74]===e[19]),a[0]&262144&&(u.processedColumn=e[71]),a[0]&16&&(u.searchFuzzy=e[4]),a[0]&256&&(u.recordSummaryStore=e[8]),n.$set(u)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&v(t),S(n,o)}}}function Cj(r){let e,t;function n(){return r[51](r[69])}return e=new hj({props:{purpose:r[13],isSelected:r[2]===r[69]}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&8192&&(i.purpose=r[13]),s[0]&4&&(i.isSelected=r[2]===r[69]),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function hh(r,e){let t,n,l;return n=new Sj({props:{row:e[67],processedColumn:e[71],recordSummaries:e[8],searchFuzzy:e[4]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&2&&(o.row=e[67]),i[0]&262144&&(o.processedColumn=e[71]),i[0]&256&&(o.recordSummaries=e[8]),i[0]&16&&(o.searchFuzzy=e[4]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function Tj(r){let e,t,n=[],l=new Map,s,i;e=new Zu({props:{rowType:"dataRow",columnType:"rowHeaderColumn",rowIsSelected:r[2]===r[69],overflowDetails:r[24],$$slots:{default:[Cj]},$$scope:{ctx:r}}});let o=[...r[18]];const a=u=>u[70];for(let u=0;u<o.length;u+=1){let c=_h(r,o,u),f=a(c);l.set(f,n[u]=hh(f,c))}return{c(){C(e.$$.fragment),t=N();for(let u=0;u<n.length;u+=1)n[u].c();s=N()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c[0]&4&&(f.rowIsSelected=u[2]===u[69]),c[0]&8196|c[2]&32768&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c[0]&262418&&(o=[...u[18]],G(),n=gt(n,c,a,1,u,o,l,s.parentNode,bt,hh,s,_h),K())},i(u){if(!i){_(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)_(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&v(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&v(s)}}}function bh(r){let e,t;function n(){return r[53](r[69])}return e=new xW({props:{href:r[22](r[67]),index:r[69],selectionIndex:r[2],setSelectionIndex:r[52],$$slots:{default:[Tj]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&2&&(i.href=r[22](r[67])),s[0]&4&&(i.selectionIndex=r[2]),s[0]&1&&(i.setSelectionIndex=r[52]),s[0]&270614|s[2]&32768&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Ej(r){let e,t,n,l,s,i,o,a=[],u=new Map,c,f,m,d,p,h,b;i=new Zu({props:{rowType:"columnHeaderRow",columnType:"rowHeaderColumn",overflowDetails:r[24]}});let $=[...r[18]];const k=P=>P[70];for(let P=0;P<$.length;P+=1){let O=ph(r,$,P),R=k(O);u.set(R,a[P]=gh(R,O))}let T=r[1],E=[];for(let P=0;P<T.length;P+=1)E[P]=bh(dh(r,T,P));const A=P=>g(E[P],1,1,()=>{E[P]=null});return{c(){e=M("div"),t=M("div"),n=M("div"),l=M("div"),s=M("div"),C(i.$$.fragment),o=N();for(let P=0;P<a.length;P+=1)a[P].c();c=N(),f=M("div");for(let P=0;P<E.length;P+=1)E[P].c();m=N(),d=M("div"),D(s,"class","tr inputs svelte-1ymk5sc"),D(l,"class","thead svelte-1ymk5sc"),D(f,"class","tbody svelte-1ymk5sc"),D(n,"class","table svelte-1ymk5sc"),D(t,"class","scroll-container svelte-1ymk5sc"),D(d,"class","inset-shadow svelte-1ymk5sc"),D(e,"class","inset-shadow-positioner svelte-1ymk5sc"),re(e,"has-overflow-top",r[14]),re(e,"has-overflow-right",r[15]),re(e,"has-overflow-bottom",r[16]),re(e,"has-overflow-left",r[17])},m(P,O){w(P,e,O),I(e,t),I(t,n),I(n,l),I(l,s),y(i,s,null),I(s,o);for(let R=0;R<a.length;R+=1)a[R].m(s,null);I(n,c),I(n,f);for(let R=0;R<E.length;R+=1)E[R].m(f,null);I(e,m),I(e,d),p=!0,h||(b=Dn(KW.call(null,t,r[24])),h=!0)},p(P,O){if(O[0]&20709648&&($=[...P[18]],G(),a=gt(a,O,k,1,P,$,u,s,bt,gh,null,ph),K()),O[0]&29630743){T=P[1];let R;for(R=0;R<T.length;R+=1){const F=dh(P,T,R);E[R]?(E[R].p(F,O),_(E[R],1)):(E[R]=bh(F),E[R].c(),_(E[R],1),E[R].m(f,null))}for(G(),R=T.length;R<E.length;R+=1)A(R);K()}(!p||O[0]&16384)&&re(e,"has-overflow-top",P[14]),(!p||O[0]&32768)&&re(e,"has-overflow-right",P[15]),(!p||O[0]&65536)&&re(e,"has-overflow-bottom",P[16]),(!p||O[0]&131072)&&re(e,"has-overflow-left",P[17])},i(P){if(!p){_(i.$$.fragment,P);for(let O=0;O<$.length;O+=1)_(a[O]);for(let O=0;O<T.length;O+=1)_(E[O]);p=!0}},o(P){g(i.$$.fragment,P);for(let O=0;O<a.length;O+=1)g(a[O]);E=E.filter(Boolean);for(let O=0;O<E.length;O+=1)g(E[O]);p=!1},d(P){P&&v(e),S(i);for(let O=0;O<a.length;O+=1)a[O].d();jn(E,P),h=!1,b()}}}function Dj(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F,L=j,U=()=>(L(),L=ue($,Ce=>t(57,F=Ce)),$),W,H=j,z=()=>(H(),H=ue(b,Ce=>t(58,W=Ce)),b),te,se=j,B=()=>(se(),se=ue(m,Ce=>t(59,te=Ce)),m),V,ee,ie,_e=j,ae=()=>(_e(),_e=ue(l,Ce=>t(13,ie=Ce)),l),fe,Ue=j,ve=()=>(Ue(),Ue=ue(E,Ce=>t(43,fe=Ce)),E),Se,ke=j,Fe=()=>(ke(),ke=ue(s,Ce=>t(44,Se=Ce)),s),we,Re=j,Ge=()=>(Re(),Re=ue(d,Ce=>t(45,we=Ce)),d),Je,Ke,ot,lt,ze,Xe=j,pt=()=>(Xe(),Xe=ue(c,Ce=>t(18,ze=Ce)),c),rt,st=j,qe=()=>(st(),st=ue(n,Ce=>t(19,rt=Ce)),n);Z(r,fn,Ce=>t(42,V=Ce)),Z(r,ns,Ce=>t(60,ee=Ce)),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>se()),r.$$.on_destroy.push(()=>_e()),r.$$.on_destroy.push(()=>Ue()),r.$$.on_destroy.push(()=>ke()),r.$$.on_destroy.push(()=>Re()),r.$$.on_destroy.push(()=>Xe()),r.$$.on_destroy.push(()=>st());let{controller:et}=e,{tabularData:mt}=e,{nestedController:Ot}=e,{submitResult:Qe}=e,{isHoveringCreate:Nt=!1}=e;const Ct=Nm(mt);let Dt,Mt;function it(Ce){Ce?t(0,Mt=void 0):t(0,Mt=0)}function Yt(Ce){Ot.cancel(),t(34,Dt=Ce)}function tn(){t(34,Dt=void 0)}function $n(Ce){if(Mt===void 0)return;const Le=Mt+Ce;t(0,Mt=Math.min(Math.max(Le,0),P-1))}function ln(Ce){const{record:Le}=Ce;if(!(!Le||Object.keys(Le).length===0))return vm(Le,F)}function tt(Ce){if(ie==="dataEntry")return;const Le=ln(Ce);if(!!Le)return ee({tableId:a,recordId:Le})}function Jt(Ce){var Bt,nn,Lt;const Le=A[Ce];if(!Le)return;const{record:nt}=Le,ut=ln(Le);if(!nt||ut===void 0)return;const $t=V.data.get(a),vt=(Lt=(nn=(Bt=$t==null?void 0:$t.settings)==null?void 0:Bt.preview_settings)==null?void 0:nn.template)!=null?Lt:"",kt=Ou({template:vt,inputData:hm(nt),transitiveData:te});Qe({recordId:ut,recordSummary:kt,record:nt})}function Gn(){R!==void 0&&Jt(R)}function yr(Ce){if(W)return;let Le=!0;switch(Ce.key){case"ArrowUp":$n(-1);break;case"ArrowDown":$n(1);break;case"Enter":!O||Ce.shiftKey?Gn():Le=!1;break;default:Le=!1}Le&&(Ce.stopPropagation(),Ce.preventDefault())}_n(()=>(window.addEventListener("keydown",yr,{capture:!0}),()=>{window.removeEventListener("keydown",yr,{capture:!0})})),_n(async()=>{const Ce=bj({table:f,columns:F});if(Ce===void 0)return;await on();const Le=`.record-selector-input.column-${Ce}`,nt=document.querySelector(Le);nt&&nt.focus()});const Rr=GW(),{hasOverflowTop:ft,hasOverflowRight:Ln,hasOverflowBottom:be,hasOverflowLeft:he}=Rr;Z(r,ft,Ce=>t(14,Je=Ce)),Z(r,Ln,Ce=>t(15,Ke=Ce)),Z(r,be,Ce=>t(16,ot=Ce)),Z(r,he,Ce=>t(17,lt=Ce));const X=Ce=>Yt(Ce),ne=()=>tn(),me=Ce=>{an(n,rt=Ce,rt)},pe=()=>{an(n,rt=void 0,rt)},Ee=()=>{an(n,rt=void 0,rt)},De=Ce=>Jt(Ce),We=Ce=>{t(0,Mt=Ce)},je=Ce=>Jt(Ce);return r.$$set=Ce=>{"controller"in Ce&&t(29,et=Ce.controller),"tabularData"in Ce&&t(30,mt=Ce.tabularData),"nestedController"in Ce&&t(31,Ot=Ce.nestedController),"submitResult"in Ce&&t(32,Qe=Ce.submitResult),"isHoveringCreate"in Ce&&t(33,Nt=Ce.isHoveringCreate)},r.$$.update=()=>{r.$$.dirty[1]&1&&pk(Ot),r.$$.dirty[0]&536870912&&qe(t(12,{columnWithNestedSelectorOpen:n,purpose:l}=et,n,ae(t(11,l)))),r.$$.dirty[0]&1073741824&&Ct.set(mt),r.$$.dirty[0]&1073741824&&Fe(t(10,{constraintsDataStore:s,meta:i,columnsDataStore:o,id:a,recordsData:u,processedColumns:c}=mt,s,(t(40,i),t(30,mt)),(t(41,o),t(30,mt)),(t(35,a),t(30,mt)),(t(38,u),t(30,mt)),pt(t(9,c)))),r.$$.dirty[1]&2064&&(f=V.data.get(a)),r.$$.dirty[1]&128&&B(t(8,{recordSummaries:m,state:d}=u,m,Ge(t(7,d)))),r.$$.dirty[1]&16384&&t(36,p=we===rn.Loading),r.$$.dirty[1]&8192&&t(39,{constraints:h}=Se,h),r.$$.dirty[1]&1&&z(t(6,b=Ot.isOpen)),r.$$.dirty[1]&1024&&U(t(5,{columns:$}=o,$)),r.$$.dirty[1]&512&&t(4,{searchFuzzy:k}=i,k),r.$$.dirty[1]&256&&t(37,T=new rl(h.filter(Lm).filter(Ce=>Ce.columns.length===1).map(Ce=>Ce.columns[0]))),r.$$.dirty[1]&128&&ve(t(3,E=u.savedRecords)),r.$$.dirty[1]&4096&&t(1,A=fe),r.$$.dirty[0]&2&&(P=A.length),r.$$.dirty[1]&72&&(O=(()=>{if(Dt!==void 0)return T.has(Dt.id)?Dt:void 0})()),r.$$.dirty[1]&32&&it(p),r.$$.dirty[0]&1|r.$$.dirty[1]&4&&t(2,R=Nt?void 0:Mt)},[Mt,A,R,E,k,$,b,d,m,c,s,l,n,ie,Je,Ke,ot,lt,ze,rt,Yt,tn,tt,Jt,Rr,ft,Ln,be,he,et,mt,Ot,Qe,Nt,Dt,a,p,T,u,h,i,o,V,fe,Se,we,X,ne,me,pe,Ee,De,We,je]}class Ij extends x{constructor(e){super(),J(this,e,Dj,Ej,Q,{controller:29,tabularData:30,nestedController:31,submitResult:32,isHoveringCreate:33},null,[-1,-1,-1])}}function $h(r){let e,t,n=(r[4]||!r[10])&&vh();return{c(){e=M("div"),n&&n.c(),D(e,"class","content-loading svelte-nebr56"),re(e,"prevent-user-entry",r[4])},m(l,s){w(l,e,s),n&&n.m(e,null),t=!0},p(l,s){l[4]||!l[10]?n?s[0]&1040&&_(n,1):(n=vh(),n.c(),_(n,1),n.m(e,null)):n&&(G(),g(n,1,1,()=>{n=null}),K()),(!t||s[0]&16)&&re(e,"prevent-user-entry",l[4])},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){l&&v(e),n&&n.d()}}}function vh(r){let e,t;return e=new yn({props:{size:"2em"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wh(r){let e,t;return e=new Ij({props:{tabularData:r[2],controller:r[1],nestedController:r[3],submitResult:r[20],isHoveringCreate:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.tabularData=n[2]),l[0]&2&&(s.controller=n[1]),l[0]&8&&(s.nestedController=n[3]),l[0]&32&&(s.isHoveringCreate=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kh(r){let e,t,n,l;const s=[Aj,Mj],i=[];function o(a,u){return a[17]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Mj(r){let e;function t(s,i){return s[8]?Rj:Pj}let n=t(r),l=n(r);return{c(){e=M("div"),l.c(),D(e,"class","no-results svelte-nebr56")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},i:j,o:j,d(s){s&&v(e),l.d()}}}function Aj(r){let e,t,n;return t=new yn({props:{size:"2em"}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","results-loading svelte-nebr56")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Pj(r){let e=r[18]("no_existing_records")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&262144&&e!==(e=n[18]("no_existing_records")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Rj(r){let e=r[18]("no_matching_records")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&262144&&e!==(e=n[18]("no_matching_records")+"")&&Y(t,e)},d(n){n&&v(t)}}}function yh(r){let e,t,n;return t=new dt({props:{size:"small",appearance:"secondary",$$slots:{default:[Oj]},$$scope:{ctx:r}}}),t.$on("click",r[21]),t.$on("mouseenter",r[35]),t.$on("mouseleave",r[36]),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","button svelte-nebr56")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&262144|s[1]&8192&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Oj(r){let e,t,n,l=r[18]("create_record_from_search")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c[0]&262144)&&l!==(l=u[18]("create_record_from_search")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Sh(r){let e;function t(s,i){return s[8]?Nj:Lj}let n=t(r),l=n(r);return{c(){e=M("div"),l.c(),D(e,"class","message svelte-nebr56")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},d(s){s&&v(e),l.d()}}}function Lj(r){let e=r[18]("first_ten_records_shown")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&262144&&e!==(e=n[18]("first_ten_records_shown")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Nj(r){let e=r[18]("ten_best_matches_shown")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&262144&&e!==(e=n[18]("ten_best_matches_shown")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Fj(r){let e,t,n,l,s,i,o,a,u=(r[17]||r[4])&&$h(r),c=r[10]&&wh(r),f=r[10]&&!r[6].length&&kh(r),m=r[8]&&r[16]&&yh(r),d=r[6].length===10&&r[10]&&Sh(r);return{c(){e=M("div"),u&&u.c(),t=N(),c&&c.c(),n=N(),f&&f.c(),l=N(),s=M("div"),m&&m.c(),i=N(),d&&d.c(),D(s,"class","footer svelte-nebr56"),D(e,"class","record-selector-content svelte-nebr56"),pr(()=>r[37].call(e))},m(p,h){w(p,e,h),u&&u.m(e,null),I(e,t),c&&c.m(e,null),I(e,n),f&&f.m(e,null),I(e,l),I(e,s),m&&m.m(s,null),I(s,i),d&&d.m(s,null),o=Tw(e,r[37].bind(e)),a=!0},p(p,h){p[17]||p[4]?u?(u.p(p,h),h[0]&131088&&_(u,1)):(u=$h(p),u.c(),_(u,1),u.m(e,t)):u&&(G(),g(u,1,1,()=>{u=null}),K()),p[10]?c?(c.p(p,h),h[0]&1024&&_(c,1)):(c=wh(p),c.c(),_(c,1),c.m(e,n)):c&&(G(),g(c,1,1,()=>{c=null}),K()),p[10]&&!p[6].length?f?(f.p(p,h),h[0]&1088&&_(f,1)):(f=kh(p),f.c(),_(f,1),f.m(e,l)):f&&(G(),g(f,1,1,()=>{f=null}),K()),p[8]&&p[16]?m?(m.p(p,h),h[0]&65792&&_(m,1)):(m=yh(p),m.c(),_(m,1),m.m(s,i)):m&&(G(),g(m,1,1,()=>{m=null}),K()),p[6].length===10&&p[10]?d?d.p(p,h):(d=Sh(p),d.c(),d.m(s,null)):d&&(d.d(1),d=null)},i(p){a||(_(u),_(c),_(f),_(m),a=!0)},o(p){g(u),g(c),g(f),g(m),a=!1},d(p){p&&v(e),u&&u.d(),c&&c.d(),f&&f.d(),m&&m.d(),d&&d.d(),o()}}}function Hj(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O=j,R=()=>(O(),O=ue(d,Qe=>t(40,P=Qe)),d),F,L=j,U=()=>(L(),L=ue($,Qe=>t(28,F=Qe)),$),W,H,z=j,te=()=>(z(),z=ue(m,Qe=>t(42,H=Qe)),m),se,B=j,V=()=>(B(),B=ue(T,Qe=>t(29,se=Qe)),T),ee,ie=j,_e=()=>(ie(),ie=ue(p,Qe=>t(30,ee=Qe)),p),ae,fe=j,Ue=()=>(fe(),fe=ue(i,Qe=>t(31,ae=Qe)),i),ve,Se,ke,Fe,we=j,Re=()=>(we(),we=ue(a,Qe=>t(17,Fe=Qe)),a),Ge;Z(r,fn,Qe=>t(39,A=Qe)),Z(r,ns,Qe=>t(41,W=Qe)),Z(r,En,Qe=>t(33,Se=Qe)),Z(r,On,Qe=>t(34,ke=Qe)),Z(r,ge,Qe=>t(18,Ge=Qe)),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>z()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>we());const Je=Zt();Z(r,Je,Qe=>t(32,ve=Qe));let{controller:Ke}=e,{tabularData:ot}=e,{nestedController:lt}=e,{height:ze=0}=e,Xe=!1,pt=!1;function rt(Qe){if(H==="dataEntry")Ke.submit(Qe);else if(H==="navigation"){const{recordId:Nt}=Qe,Ct=W({tableId:f,recordId:Nt});Ct&&(un.goto(Ct),Ke.cancel())}}function st(){const Qe=P.filter(Nt=>Nt.primary_key).map(Nt=>Nt.id);return Object.fromEntries(F.without(Qe))}async function qe(){var Ct,Dt,Mt;const Qe=`/api/db/v0/tables/${f}/records/`,Nt=st();try{t(4,Xe=!0);const it=await cn(Qe,Nt),Yt=it.results[0],tn=vm(Yt,P),$n=(Ct=it.preview_data)!=null?Ct:[],ln=A.data.get(f),tt=(Mt=(Dt=ln==null?void 0:ln.settings)==null?void 0:Dt.preview_settings)==null?void 0:Mt.template;if(!tt)throw new Error("No record summary template found in API response.");const Jt=Ou({inputData:hm(Yt),template:tt,transitiveData:bm($n)});rt({recordId:tn,recordSummary:Jt,record:Yt})}catch(it){Tt.error(en(it))}finally{t(4,Xe=!1)}}const et=()=>{t(5,pt=!0)},mt=()=>{t(5,pt=!1)};function Ot(){ze=this.clientHeight,t(0,ze)}return r.$$set=Qe=>{"controller"in Qe&&t(1,Ke=Qe.controller),"tabularData"in Qe&&t(2,ot=Qe.tabularData),"nestedController"in Qe&&t(3,lt=Qe.nestedController),"height"in Qe&&t(0,ze=Qe.height)},r.$$.update=()=>{var Qe;r.$$.dirty[1]&8&&t(27,n=ke),r.$$.dirty[1]&4&&t(26,l=Se),r.$$.dirty[0]&201326592|r.$$.dirty[1]&2&&t(16,s=(Qe=ve==null?void 0:ve.hasPermission({database:n,schema:l},"canEditTableRecords"))!=null?Qe:!1),r.$$.dirty[0]&4&&Ue(t(15,{constraintsDataStore:i,meta:o,isLoading:a,columnsDataStore:u,recordsData:c,id:f}=ot,i,(t(23,o),t(2,ot)),Re(t(14,a)),(t(25,u),t(2,ot)),(t(22,c),t(2,ot)))),r.$$.dirty[0]&2&&te(t(13,{purpose:m}=Ke,m)),r.$$.dirty[0]&33554432&&R(t(12,{columns:d,fetchStatus:p}=u,d,_e(t(11,p)))),r.$$.dirty[1]&1&&t(24,{state:h}=ae,h),r.$$.dirty[0]&1090519040&&t(10,b=(ee==null?void 0:ee.state)!=="processing"&&h===rn.Done),r.$$.dirty[0]&8388608&&U(t(9,{searchFuzzy:$}=o,$)),r.$$.dirty[0]&268435456&&t(8,k=F.size>0),r.$$.dirty[0]&4194304&&V(t(7,T=c.savedRecords)),r.$$.dirty[0]&536870912&&t(6,E=se)},[ze,Ke,ot,lt,Xe,pt,E,T,k,$,b,p,d,m,a,i,s,Fe,Ge,Je,rt,qe,c,o,h,u,l,n,F,se,ee,ae,ve,Se,ke,et,mt,Ot]}class zj extends x{constructor(e){super(),J(this,e,Hj,Fj,Q,{controller:1,tabularData:2,nestedController:3,height:0},null,[-1,-1])}}const{window:Ch}=iu;function Th(r){let e,t,n;return t=new E6({props:{canScrollBody:!1,$$slots:{title:[Bj],default:[Vj]},$$scope:{ctx:r}}}),t.$on("close",r[20]),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","record-selector-window svelte-n6efra"),Cn(e,"margin-bottom",r[5])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&4200863&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&32)&&Cn(e,"margin-bottom",l[5])},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Eh(r){let e,t,n,l,s,i,o,a;return l=new by({props:{windowPositionerElement:r[1],controller:r[3]}}),{c(){e=M("div"),t=N(),n=M("div"),C(l.$$.fragment),D(e,"class","overlay svelte-n6efra"),D(n,"class","nested-record-selector")},m(u,c){w(u,e,c),w(u,t,c),w(u,n,c),y(l,n,null),i=!0,o||(a=Dn(s=ci.call(null,n,r[1])),o=!0)},p(u,c){const f={};c&2&&(f.windowPositionerElement=u[1]),c&8&&(f.controller=u[3]),l.$set(f),s&&Pt(s.update)&&c&2&&s.update.call(null,u[1])},i(u){i||(_(l.$$.fragment,u),i=!0)},o(u){g(l.$$.fragment,u),i=!1},d(u){u&&v(e),u&&v(t),u&&v(n),S(l),o=!1,a()}}}function Vj(r){let e,t,n,l,s;function i(u){r[19](u)}let o={tabularData:r[8],controller:r[0],nestedController:r[3]};r[2]!==void 0&&(o.height=r[2]),e=new zj({props:o}),Te.push(()=>Oe(e,"height",i));let a=r[4]&&Eh(r);return{c(){C(e.$$.fragment),n=N(),a&&a.c(),l=oe()},m(u,c){y(e,u,c),w(u,n,c),a&&a.m(u,c),w(u,l,c),s=!0},p(u,c){const f={};c&256&&(f.tabularData=u[8]),c&1&&(f.controller=u[0]),c&8&&(f.nestedController=u[3]),!t&&c&4&&(t=!0,f.height=u[2],Ne(()=>t=!1)),e.$set(f),u[4]?a?(a.p(u,c),c&16&&_(a,1)):(a=Eh(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){g(e.$$.fragment,u),g(a),s=!1},d(u){S(e,u),u&&v(n),a&&a.d(u),u&&v(l)}}}function Dh(r){let e,t;return e=new Sn({props:{table:{name:r[7]},truncate:!1}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.table={name:n[7]}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qj(r){let e,t,n=r[21]==="tableName"&&r[7]&&Dh(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[21]==="tableName"&&l[7]?n?(n.p(l,s),s&2097280&&_(n,1)):(n=Dh(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Bj(r){let e,t,n;return t=new St({props:{text:r[11]==="dataEntry"?r[12]("pick_table_record"):r[12]("open_table_record"),$$slots:{default:[qj,({slotName:l})=>({21:l}),({slotName:l})=>l?2097152:0]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","title")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&6144&&(i.text=l[11]==="dataEntry"?l[12]("pick_table_record"):l[12]("open_table_record")),s&6291584&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Uj(r){let e,t,n,l,s=r[8]&&Th(r);return{c(){s&&s.c(),e=oe()},m(i,o){s&&s.m(i,o),w(i,e,o),t=!0,n||(l=[He(Ch,"keydown",r[13]),He(Ch,"click",r[14],!0)],n=!0)},p(i,[o]){i[8]?s?(s.p(i,o),o&256&&_(s,1)):(s=Th(i),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){t||(_(s),t=!0)},o(i){g(s),t=!1},d(i){s&&s.d(i),i&&v(e),n=!1,It(l)}}}const Wj="2rem";function jj(r,e){let t=r;for(;t!==null;){if(t===e)return!0;t=t.parentNode}return!1}function Yj(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(u,z=>t(4,f=z)),u),p,h=j,b=()=>(h(),h=ue(l,z=>t(16,p=z)),l),$,k,T,E=j,A=()=>(E(),E=ue(s,z=>t(11,T=z)),s),P;Z(r,wr,z=>t(17,$=z)),Z(r,fn,z=>t(18,k=z)),Z(r,ge,z=>t(12,P=z)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>E());let{controller:O}=e,{windowPositionerElement:R}=e,F=0;function L(z){z.key==="Escape"&&!f&&O.cancel()}function U(z){var V;if(f)return;const se=(V=R.lastChild.firstChild)==null?void 0:V.firstChild;jj(z.target,se)||O.cancel()}function W(z){F=z,t(2,F)}const H=()=>O.cancel();return r.$$set=z=>{"controller"in z&&t(0,O=z.controller),"windowPositionerElement"in z&&t(1,R=z.windowPositionerElement)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=new dk({nestingLevel:O.nestingLevel+1})),r.$$.dirty&1&&b(t(10,{tableId:l,purpose:s}=O,l,A(t(9,s)))),r.$$.dirty&327680&&t(15,i=p&&k.data.get(p)),r.$$.dirty&229376&&t(8,o=p&&i?new Qu({id:p,abstractTypesMap:$.data,meta:new vs({pagination:new Gr({size:10})}),hasEnhancedPrimaryKeyCell:!1,table:i}):void 0),r.$$.dirty&65536&&t(7,a=p?$W(p):void 0),r.$$.dirty&8&&d(t(6,u=n.isOpen)),r.$$.dirty&20&&t(5,c=f?`calc(${Wj} - ${F}px)`:"0")},[O,R,F,n,f,c,u,a,o,s,l,T,P,L,U,i,p,$,k,W,H]}class by extends x{constructor(e){super(),J(this,e,Yj,Uj,Q,{controller:0,windowPositionerElement:1})}}function Ih(r){let e,t,n,l,s,i,o,a,u=r[2]&&Mh(r);return s=new by({props:{windowPositionerElement:r[3],controller:r[0]}}),{c(){e=M("div"),u&&u.c(),t=N(),n=M("div"),l=M("div"),C(s.$$.fragment),D(l,"class","root-record-selector svelte-2903t4"),D(n,"class","window-positioner svelte-2903t4"),D(e,"class","modal-record-selector svelte-2903t4")},m(c,f){w(c,e,f),u&&u.m(e,null),I(e,t),I(e,n),I(n,l),y(s,l,null),r[11](n),i=!0,o||(a=Dn(ci.call(null,e)),o=!0)},p(c,f){c[2]?u?(u.p(c,f),f&4&&_(u,1)):(u=Mh(c),u.c(),_(u,1),u.m(e,t)):u&&(G(),g(u,1,1,()=>{u=null}),K());const m={};f&8&&(m.windowPositionerElement=c[3]),f&1&&(m.controller=c[0]),s.$set(m)},i(c){i||(_(u),_(s.$$.fragment,c),i=!0)},o(c){g(u),g(s.$$.fragment,c),i=!1},d(c){c&&v(e),u&&u.d(),S(s),r[11](null),o=!1,a()}}}function Mh(r){let e,t,n,l,s,i;return{c(){e=M("div"),D(e,"class","overlay svelte-2903t4")},m(o,a){w(o,e,a),l=!0,s||(i=He(e,"click",r[7]),s=!0)},p:j,i(o){l||(pr(()=>{n&&n.end(1),t=lu(e,jl,{duration:150}),t.start()}),l=!0)},o(o){t&&t.invalidate(),n=vo(e,jl,{duration:150}),l=!1},d(o){o&&v(e),o&&n&&n.end(),s=!1,i()}}}function Gj(r){let e,t,n=r[1]&&Ih(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&_(n,1)):(n=Ih(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Kj(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(s,F=>t(1,a=F)),s),f,m=j,d=()=>(m(),m=ue(i,F=>t(2,f=F)),i),p,h=j,b=()=>(h(),h=ue(n,F=>t(10,p=F)),n);r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());const $=ht();let{recordSelectorController:k}=e,{modalController:T}=e,E;function A(){an(s,a=!1,a),k.cancel()}function P(){o&&A()}async function O(F){await on(),$(F?"open":"close")}function R(F){Te[F?"unshift":"push"](()=>{E=F,t(3,E)})}return r.$$set=F=>{"recordSelectorController"in F&&t(0,k=F.recordSelectorController),"modalController"in F&&t(8,T=F.modalController)},r.$$.update=()=>{r.$$.dirty&1&&b(t(6,{columnWithNestedSelectorOpen:n}=k,n)),r.$$.dirty&1024&&t(9,l=!!p),r.$$.dirty&256&&c(t(5,{isOpen:s,isOnTop:i}=T,s,d(t(4,i)))),r.$$.dirty&516&&(o=f&&!l),r.$$.dirty&2&&O(a)},[k,a,f,E,i,s,n,P,T,l,p,R]}class Xj extends x{constructor(e){super(),J(this,e,Kj,Gj,Q,{recordSelectorController:0,modalController:8})}}const $y=Symbol("breadcrumb items store");function Qj(r){xn($y,xe(r))}function vy(){return Fn($y)}function Zj(r,e){const t=ma(r.label),n=ma(e);return t.includes(n)}function Jj(r,e){let t=Array.from(r);return t=t.map(([n,l])=>[n,Array.from(l).filter(s=>Zj(s,e))]).filter(([,n])=>n.length>0),new Map(t)}function xj(r){let e,t,n,l,s,i,o,a,u,c;t=new CA({props:{entries:Tt.entries}}),l=new FM({props:{controller:Qf}}),i=new Xj({props:{recordSelectorController:r[1],modalController:r[0]}});const f=r[7].default,m=Ie(f,r,r[6],null);return{c(){e=N(),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),m&&m.c()},m(d,p){w(d,e,p),y(t,d,p),w(d,n,p),y(l,d,p),w(d,s,p),y(i,d,p),w(d,o,p),m&&m.m(d,p),a=!0,u||(c=He(document.body,"copy",r[3]),u=!0)},p(d,[p]){m&&m.p&&(!a||p&64)&&Ae(m,f,d,d[6],a?Me(f,d[6],p,null):Pe(d[6]),null)},i(d){a||(_(t.$$.fragment,d),_(l.$$.fragment,d),_(i.$$.fragment,d),_(m,d),a=!0)},o(d){g(t.$$.fragment,d),g(l.$$.fragment,d),g(i.$$.fragment,d),g(m,d),a=!1},d(d){d&&v(e),S(t,d),d&&v(n),S(l,d),d&&v(s),S(i,d),d&&v(o),m&&m.d(d),u=!1,c()}}}function eY(r,e,t){let n,l,{$$slots:s={},$$scope:i}=e,{commonData:o}=e;Qj([]);function a(){const d=o.routing_context==="anonymous"?new DL:o.user,p=ML(d),h=Ve(p);o.is_authenticated&&h.isSuperUser&&FL(o.current_release_tag_name)}const u=Bn.spawnModalController(),c=new dk({onOpen:()=>u.open(),onClose:()=>u.close(),nestingLevel:0});pk(c);const f=JO();Z(r,f,d=>t(5,l=d));function m(d){n&&(n.handleCopy(d),d.preventDefault())}return r.$$set=d=>{"commonData"in d&&t(4,o=d.commonData),"$$scope"in d&&t(6,i=d.$$scope)},r.$$.update=()=>{r.$$.dirty&16&&a(),r.$$.dirty&32&&(n=l)},[u,c,f,m,o,l,i,s]}class tY extends x{constructor(e){super(),J(this,e,eY,xj,Q,{commonData:4})}}function nY(r){let e=r[0].nickname+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].nickname+"")&&Y(t,e)},d(n){n&&v(t)}}}function rY(r){let e,t;return e=new Rn({props:{icon:wl,iconHasBox:r[1],$$slots:{default:[nY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.iconHasBox=n[1]),l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lY(r,e,t){let{database:n}=e,{iconHasBox:l=!1}=e;return r.$$set=s=>{"database"in s&&t(0,n=s.database),"iconHasBox"in s&&t(1,l=s.iconHasBox)},[n,l]}class sY extends x{constructor(e){super(),J(this,e,lY,rY,Q,{database:0,iconHasBox:1})}}function iY(r){let e=r[0].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function oY(r){let e,t,n;return t=new Rn({props:{icon:ei,iconHasBox:r[1],$$slots:{default:[iY]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","schema-name svelte-1a5ste4"),re(e,"is-locked",r[2])},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&2&&(i.iconHasBox=l[1]),s&9&&(i.$$scope={dirty:s,ctx:l}),t.$set(i),(!n||s&4)&&re(e,"is-locked",l[2])},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function aY(r,e,t){let n,{schema:l}=e,{iconHasBox:s=!1}=e;return r.$$set=i=>{"schema"in i&&t(0,l=i.schema),"iconHasBox"in i&&t(1,s=i.iconHasBox)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=l.name==="public")},[l,s,n]}class wy extends x{constructor(e){super(),J(this,e,aY,oY,Q,{schema:0,iconHasBox:1})}}function uY(r){let e,t,n;const l=r[2].default,s=Ie(l,r,r[1],null);return{c(){e=M("span"),t=M("a"),s&&s.c(),D(t,"href",r[0]),D(t,"class","svelte-1az8rx5"),D(e,"class","breadcrumb-link svelte-1az8rx5")},m(i,o){w(i,e,o),I(e,t),s&&s.m(t,null),n=!0},p(i,[o]){s&&s.p&&(!n||o&2)&&Ae(s,l,i,i[1],n?Me(l,i[1],o,null):Pe(i[1]),null),(!n||o&1)&&D(t,"href",i[0])},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(e),s&&s.d(i)}}}function cY(r,e,t){let{$$slots:n={},$$scope:l}=e,{href:s}=e;return r.$$set=i=>{"href"in i&&t(0,s=i.href),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class ys extends x{constructor(e){super(),J(this,e,cY,uY,Q,{href:0})}}function fY(r){let e,t,n,l,s;const i=[Ea];let o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return t=new Be({props:o}),{c(){e=M("button"),C(t.$$.fragment),D(e,"class","record-selector-navigation-button passthrough svelte-yoaubg"),D(e,"aria-label",r[0]),D(e,"title",r[0])},m(a,u){w(a,e,u),y(t,e,null),n=!0,l||(s=He(e,"click",r[1]),l=!0)},p(a,[u]){const c=u&0?de(i,[$e(Ea)]):{};t.$set(c),(!n||u&1)&&D(e,"aria-label",a[0]),(!n||u&1)&&D(e,"title",a[0])},i(a){n||(_(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&v(e),S(t),l=!1,s()}}}function mY(r,e,t){let n,l,s,i;Z(r,ge,f=>t(4,i=f));const o=Do(),a=ht();let{table:u}=e;function c(){o.navigateToRecordPage({tableId:n}),a("click")}return r.$$set=f=>{"table"in f&&t(2,u=f.table)},r.$$.update=()=>{r.$$.dirty&4&&t(3,{id:n,name:l}=u,l),r.$$.dirty&24&&t(0,s=l?i("navigate_to_table_record",{values:{tableName:l}}):i("navigate_to_record"))},[s,c,u,l,i]}class dY extends x{constructor(e){super(),J(this,e,mY,fY,Q,{table:2})}}function _Y(r){let e,t;return e=new Rn({props:{icon:r[4],$$slots:{default:[gY]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.icon=n[4]),l&138&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pY(r){let e,t;return e=new Sn({props:{table:r[0].table,$$slots:{default:[hY,({tableName:n})=>({6:n}),({tableName:n})=>n?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table=n[0].table),l&194&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gY(r){let e,t;return e=new M6({props:{text:r[3],substring:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.text=n[3]),l&2&&(s.substring=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hY(r){let e,t;return e=new M6({props:{text:r[6],substring:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.text=n[6]),l&2&&(s.substring=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ah(r){let e,t,n;return t=new dY({props:{table:r[0].table}}),t.$on("click",function(){Pt(r[2])&&r[2].apply(this,arguments)}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","record-selector svelte-1jdtdoc")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){r=l;const i={};s&1&&(i.table=r[0].table),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function bY(r){let e,t,n,l,s,i,o,a,u,c;const f=[pY,_Y],m=[];function d(h,b){return"table"in h[0]?0:1}n=d(r),l=m[n]=f[n](r);let p=r[0].type==="table"&&Ah(r);return{c(){e=M("li"),t=M("a"),l.c(),s=N(),p&&p.c(),i=N(),o=M("div"),D(t,"href",r[5]),D(t,"class","svelte-1jdtdoc"),D(o,"class","hover-indicator svelte-1jdtdoc"),D(e,"class","breadcrumb-selector-row svelte-1jdtdoc"),re(e,"active",r[0].isActive())},m(h,b){w(h,e,b),I(e,t),m[n].m(t,null),I(e,s),p&&p.m(e,null),I(e,i),I(e,o),a=!0,u||(c=He(t,"click",function(){Pt(r[2])&&r[2].apply(this,arguments)}),u=!0)},p(h,[b]){r=h;let $=n;n=d(r),n===$?m[n].p(r,b):(G(),g(m[$],1,1,()=>{m[$]=null}),K(),l=m[n],l?l.p(r,b):(l=m[n]=f[n](r),l.c()),_(l,1),l.m(t,null)),(!a||b&32)&&D(t,"href",r[5]),r[0].type==="table"?p?(p.p(r,b),b&1&&_(p,1)):(p=Ah(r),p.c(),_(p,1),p.m(e,i)):p&&(G(),g(p,1,1,()=>{p=null}),K()),(!a||b&1)&&re(e,"active",r[0].isActive())},i(h){a||(_(l),_(p),a=!0)},o(h){g(l),g(p),a=!1},d(h){h&&v(e),m[n].d(),p&&p.d(),u=!1,c()}}}function $Y(r,e,t){let n,l,s,{entry:i}=e,{filterString:o=""}=e,{closeSelector:a}=e;return r.$$set=u=>{"entry"in u&&t(0,i=u.entry),"filterString"in u&&t(1,o=u.filterString),"closeSelector"in u&&t(2,a=u.closeSelector)},r.$$.update=()=>{r.$$.dirty&1&&t(5,{href:n,icon:l,label:s}=i,n,(t(4,l),t(0,i)),(t(3,s),t(0,i)))},[i,o,a,s,l,n]}class ky extends x{constructor(e){super(),J(this,e,$Y,bY,Q,{entry:0,filterString:1,closeSelector:2})}}function Ph(r,e,t){const n=r.slice();return n[16]=e[t],n}function Rh(r,e,t){const n=r.slice();return n[19]=e[t][0],n[20]=e[t][1],n}function Oh(r,e,t){const n=r.slice();return n[16]=e[t],n}function vY(r){let e,t,n;const l=[Ca];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","trigger svelte-15f06xx")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?de(l,[$e(Ca)]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function Lh(r){let e,t,n=r[3].length>0&&Nh(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[3].length>0?n?(n.p(l,s),s&8&&_(n,1)):(n=Nh(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Nh(r){let e,t,n,l;return t=new St({props:{text:r[7]("no_matches"),$$slots:{default:[wY,({slotName:s})=>({25:s}),({slotName:s})=>s?33554432:0]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),D(e,"class","section-name svelte-15f06xx")},m(s,i){w(s,e,i),y(t,e,null),I(e,n),l=!0},p(s,i){const o={};i&128&&(o.text=s[7]("no_matches")),i&100663304&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&v(e),S(t)}}}function Fh(r){let e,t;return{c(){e=M("b"),t=q(r[3])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&8&&Y(t,n[3])},d(n){n&&v(e)}}}function wY(r){let e,t=r[25]==="searchValue"&&Fh(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[25]==="searchValue"?t?t.p(n,l):(t=Fh(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function Hh(r){let e,t,n,l,s,i=[],o=new Map,a,u;const c=[SY,yY,kY],f=[];function m(h,b){var $;return(($=h[3])==null?void 0:$.length)===0?0:h[6].size>1?1:2}t=m(r),n=f[t]=c[t](r);let d=r[20];const p=h=>h[16].href;for(let h=0;h<d.length;h+=1){let b=Oh(r,d,h),$=p(b);o.set($,i[h]=Vh($,b))}return{c(){e=M("div"),n.c(),l=N(),s=M("ul");for(let h=0;h<i.length;h+=1)i[h].c();a=N(),D(e,"class","section-name svelte-15f06xx"),D(s,"class","items svelte-15f06xx")},m(h,b){w(h,e,b),f[t].m(e,null),w(h,l,b),w(h,s,b);for(let $=0;$<i.length;$+=1)i[$].m(s,null);I(s,a),u=!0},p(h,b){let $=t;t=m(h),t===$?f[t].p(h,b):(G(),g(f[$],1,1,()=>{f[$]=null}),K(),n=f[t],n?n.p(h,b):(n=f[t]=c[t](h),n.c()),_(n,1),n.m(e,null)),b&76&&(d=h[20],G(),i=gt(i,b,p,1,h,d,o,s,bt,Vh,a,Oh),K())},i(h){if(!u){_(n);for(let b=0;b<d.length;b+=1)_(i[b]);u=!0}},o(h){g(n);for(let b=0;b<i.length;b+=1)g(i[b]);u=!1},d(h){h&&v(e),f[t].d(),h&&v(l),h&&v(s);for(let b=0;b<i.length;b+=1)i[b].d()}}}function kY(r){let e,t;return e=new St({props:{text:r[7]("number_of_matches",{values:{count:r[20].length}}),$$slots:{default:[CY,({slotName:n})=>({25:n}),({slotName:n})=>n?33554432:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&192&&(s.text=n[7]("number_of_matches",{values:{count:n[20].length}})),l&100663304&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yY(r){let e,t;return e=new St({props:{text:r[7]("number_of_matches_in_category",{values:{count:r[20].length}}),$$slots:{default:[DY,({slotName:n})=>({25:n}),({slotName:n})=>n?33554432:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&192&&(s.text=n[7]("number_of_matches_in_category",{values:{count:n[20].length}})),l&100663368&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SY(r){let e=r[19]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[19]+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function zh(r){let e,t;return{c(){e=M("b"),t=q(r[3])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&8&&Y(t,n[3])},d(n){n&&v(e)}}}function CY(r){let e,t=r[25]==="searchValue"&&zh(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[25]==="searchValue"?t?t.p(n,l):(t=zh(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function TY(r){let e=r[19]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[19]+"")&&Y(t,e)},d(n){n&&v(t)}}}function EY(r){let e,t;return{c(){e=M("b"),t=q(r[3])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&8&&Y(t,n[3])},d(n){n&&v(e)}}}function DY(r){let e;function t(s,i){if(s[25]==="searchValue")return EY;if(s[25]==="categoryName")return TY}let n=t(r),l=n&&n(r);return{c(){l&&l.c(),e=oe()},m(s,i){l&&l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l&&l.d(1),l=n&&n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l&&l.d(s),s&&v(e)}}}function Vh(r,e){let t,n,l;return n=new ky({props:{entry:e[16],filterString:e[3],closeSelector:e[13]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&64&&(o.entry=e[16]),i&8&&(o.filterString=e[3]),i&4&&(o.closeSelector=e[13]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function qh(r,e){let t,n,l,s=e[20].length>0&&Hh(e);return{key:r,first:null,c(){t=oe(),s&&s.c(),n=oe(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){e=i,e[20].length>0?s?(s.p(e,o),o&64&&_(s,1)):(s=Hh(e),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(s),l=!0)},o(i){g(s),l=!1},d(i){i&&v(t),s&&s.d(i),i&&v(n)}}}function Bh(r){let e,t=[],n=new Map,l,s=r[1];const i=o=>o[16].href;for(let o=0;o<s.length;o+=1){let a=Ph(r,s,o),u=i(a);n.set(u,t[o]=Uh(u,a))}return{c(){e=M("ul");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","actions svelte-15f06xx")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,a){a&6&&(s=o[1],G(),t=gt(t,a,i,1,o,s,n,e,bt,Uh,null,Ph),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Uh(r,e){let t,n,l;return n=new ky({props:{entry:e[16],closeSelector:e[14]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.entry=e[16]),i&4&&(o.closeSelector=e[14]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function IY(r){let e,t,n,l,s,i,o,a=[],u=new Map,c,f;function m(T){r[11](T)}function d(T){r[12](T)}let p={prefixIcon:da};r[3]!==void 0&&(p.value=r[3]),r[4]!==void 0&&(p.element=r[4]),n=new y6({props:p}),Te.push(()=>Oe(n,"value",m)),Te.push(()=>Oe(n,"element",d));let h=[...r[6]];const b=T=>T[19];for(let T=0;T<h.length;T+=1){let E=Rh(r,h,T),A=b(E);u.set(A,a[T]=qh(A,E))}let $=null;h.length||($=Lh(r));let k=r[1].length&&Bh(r);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),i=N(),o=M("div");for(let T=0;T<a.length;T+=1)a[T].c();$&&$.c(),c=N(),k&&k.c(),D(t,"class","search"),D(o,"class","results svelte-15f06xx"),D(e,"class","entity-switcher-content svelte-15f06xx")},m(T,E){w(T,e,E),I(e,t),y(n,t,null),I(e,i),I(e,o);for(let A=0;A<a.length;A+=1)a[A].m(o,null);$&&$.m(o,null),I(e,c),k&&k.m(e,null),f=!0},p(T,E){const A={};!l&&E&8&&(l=!0,A.value=T[3],Ne(()=>l=!1)),!s&&E&16&&(s=!0,A.element=T[4],Ne(()=>s=!1)),n.$set(A),E&33554636&&(h=[...T[6]],G(),a=gt(a,E,b,1,T,h,u,o,bt,qh,null,Rh),K(),!h.length&&$?$.p(T,E):h.length?$&&(G(),g($,1,1,()=>{$=null}),K()):($=Lh(T),$.c(),_($,1),$.m(o,null))),T[1].length?k?(k.p(T,E),E&2&&_(k,1)):(k=Bh(T),k.c(),_(k,1),k.m(e,null)):k&&(G(),g(k,1,1,()=>{k=null}),K())},i(T){if(!f){_(n.$$.fragment,T);for(let E=0;E<h.length;E+=1)_(a[E]);_(k),f=!0}},o(T){g(n.$$.fragment,T);for(let E=0;E<a.length;E+=1)g(a[E]);g(k),f=!1},d(T){T&&v(e),S(n);for(let E=0;E<a.length;E+=1)a[E].d();$&&$.d(),k&&k.d()}}}function MY(r){let e,t,n,l,s,i,o;function a(m){r[9](m)}let u={"aria-label":r[0],title:r[0],appearance:"ghost",class:"padding-zero",$$slots:{default:[vY]},$$scope:{ctx:r}};r[5]!==void 0&&(u.element=r[5]),t=new dt({props:u}),Te.push(()=>Oe(t,"element",a)),t.$on("click",r[10]);function c(m){r[15](m)}let f={trigger:r[5],class:"breadcrumb-selector-dropdown",$$slots:{default:[IY]},$$scope:{ctx:r}};return r[2]!==void 0&&(f.isOpen=r[2]),s=new gs({props:f}),Te.push(()=>Oe(s,"isOpen",c)),{c(){e=M("div"),C(t.$$.fragment),l=N(),C(s.$$.fragment),D(e,"class","entity-switcher svelte-15f06xx"),re(e,"is-open",r[2])},m(m,d){w(m,e,d),y(t,e,null),I(e,l),y(s,e,null),o=!0},p(m,[d]){const p={};d&1&&(p["aria-label"]=m[0]),d&1&&(p.title=m[0]),d&67108864&&(p.$$scope={dirty:d,ctx:m}),!n&&d&32&&(n=!0,p.element=m[5],Ne(()=>n=!1)),t.$set(p);const h={};d&32&&(h.trigger=m[5]),d&67109086&&(h.$$scope={dirty:d,ctx:m}),!i&&d&4&&(i=!0,h.isOpen=m[2],Ne(()=>i=!1)),s.$set(h),(!o||d&4)&&re(e,"is-open",m[2])},i(m){o||(_(t.$$.fragment,m),_(s.$$.fragment,m),o=!0)},o(m){g(t.$$.fragment,m),g(s.$$.fragment,m),o=!1},d(m){m&&v(e),S(t),S(s)}}}function AY(r,e,t){let n,l;Z(r,ge,T=>t(7,l=T));let{data:s}=e,{triggerLabel:i}=e,{persistentLinks:o=[]}=e,a,u=!1,c,f;function m(T){a=T,t(5,a)}const d=()=>{t(2,u=!u)};function p(T){c=T,t(3,c),t(2,u),t(4,f)}function h(T){f=T,t(4,f)}const b=()=>{t(2,u=!1)},$=()=>{t(2,u=!1)};function k(T){u=T,t(2,u)}return r.$$set=T=>{"data"in T&&t(8,s=T.data),"triggerLabel"in T&&t(0,i=T.triggerLabel),"persistentLinks"in T&&t(1,o=T.persistentLinks)},r.$$.update=()=>{r.$$.dirty&20&&(u?f==null||f.focus():t(3,c="")),r.$$.dirty&264&&t(6,n=c?Jj(s,c):s)},[i,o,u,c,f,a,n,l,s,m,d,p,h,b,$,k]}class Hm extends x{constructor(e){super(),J(this,e,AY,MY,Q,{data:8,triggerLabel:0,persistentLinks:1})}}function PY(r){let e,t;return e=new Hm({props:{data:new Map([[r[1]("connections"),r[0]]]),triggerLabel:r[1]("choose_connection"),persistentLinks:[{type:"simple",label:r[1]("manage_connections"),href:li,icon:Yl,isActive:Wh}]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.data=new Map([[n[1]("connections"),n[0]]])),l&2&&(s.triggerLabel=n[1]("choose_connection")),l&2&&(s.persistentLinks=[{type:"simple",label:n[1]("manage_connections"),href:li,icon:Yl,isActive:Wh}]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const Wh=()=>!1;function RY(r,e,t){let n,l,s,i;Z(r,ge,c=>t(1,i=c));const{connections:o,currentConnectionId:a}=Hn;Z(r,o,c=>t(4,l=c)),Z(r,a,c=>t(5,s=c));function u(c){return{type:"simple",label:c.nickname,href:sl(c.id),icon:wl,isActive:()=>c.id===s}}return r.$$.update=()=>{r.$$.dirty&16&&t(0,n=[...l.values()].map(u))},[n,i,o,a,l]}class yy extends x{constructor(e){super(),J(this,e,RY,PY,Q,{})}}class Sy{constructor(e,t){ce(this,"maxEntries",5);ce(this,"cache");this.maxEntries=e,this.cache=new Map(t!=null?t:[])}set(e,t){this.cache.delete(e),this.cache.set(e,t),this.cache.size>this.maxEntries&&this.cache.delete([...this.cache.keys()][0])}get(e){return this.cache.get(e)}}const OY="shared-link-uuid";class Cy{constructor(e){ce(this,"slug");ce(this,"queryParams");this.slug=e.slug,this.queryParams={[OY]:e.slug}}getQueryParams(){return this.queryParams}}const jh=ul(),oi=new Sy(3),Yh=new Map;function LY(r){return[...r].sort((e,t)=>{var n;return(n=e.name)==null?void 0:n.localeCompare(t.name)})}function zm(r,e){const t=new Map;e&&LY(e).forEach(s=>{t.set(s.id,s)});const n={schemaId:r,requestStatus:{state:"success"},data:t};let l=oi.get(r);return l?l.set(n):(l=xe(n),oi.set(r,l)),l}function NY(r){return[...oi.cache.values()].find(e=>Ve(e).data.has(r))}async function Ga(r){var t;const e=oi.get(r);if(!e){console.error(`Queries store for schema: ${r} not found.`);return}try{e.update(o=>({...o,requestStatus:{state:"processing"}})),(t=Yh.get(r))==null||t.cancel();const n=bn(`/api/db/v0/queries/?schema=${r}&limit=500`);Yh.set(r,n);const s=(await n).results||[],i=zm(r,s);return Ve(i)}catch(n){e.update(l=>({...l,requestStatus:{state:"failure",errors:[n instanceof Error?n.message:"Error in fetching schemas"]}}));return}}let Gh=!0;function Vm(r){var t;let e=oi.get(r);return e?Ve(e).requestStatus.state==="failure"&&Ga(r):(e=xe({schemaId:r,requestStatus:{state:"processing"},data:new Map}),oi.set(r,e),Gh&&jh.current_schema===r?e=zm(r,(t=jh.queries)!=null?t:[]):Ga(r),Gh=!1),e}const Ss=at(Wr,(r,e)=>{let t;return r?t=Vm(r).subscribe(l=>{e(l)}):e({requestStatus:{state:"success"},data:new Map}),()=>{t==null||t()}});function FY(r){const e=cn("/api/db/v0/queries/",r);return e.then(t=>(Y5(t.schema,1),Ga(t.schema),t)),e}function Ty(r){const e=cL(`/api/db/v0/queries/${r.id}/`,r);return e.then(t=>{const n=Ve(Wr);if(n){const l=Vm(n);Ve(l).data.set(r.id,t),zm(n,[...Ve(l).data.values()])}}),e}function HY(r){const e=Ve(Wr);let t;return e?new ll((n,l)=>{const s=Vm(e),i=Ve(s),o=i.data.get(r);if(o){n(o);return}i.requestStatus.state!=="success"?(t=bn(`/api/db/v0/queries/${r}/`),t.then(a=>n(a),a=>l(a))):l(new Error("Query not found"))},()=>{t==null||t.cancel()}):new ll(n=>n())}function zY(r){return cn("/api/db/v0/queries/run/",r)}function VY(r,e){const t=Su(`/api/db/v0/queries/${r}/results/`,e);return bn(t)}function qY(r){const e=cl(`/api/db/v0/queries/${r}/`);return e.then(()=>{const t=NY(r);t&&(t.update(n=>(n.data.delete(r),{...n,data:new Map(n.data)})),Y5(Ve(t).schemaId,-1))}),e}function BY(r){let e,t;return e=new Hm({props:{data:r[1],triggerLabel:r[0]("choose_table_or_exploration")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.data=n[1]),l&1&&(s.triggerLabel=n[0]("choose_table_or_exploration")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UY(r,e,t){let n,l,s,i,o,a,u,c;Z(r,ge,b=>t(0,i=b)),Z(r,Ss,b=>t(7,o=b)),Z(r,fn,b=>t(8,a=b)),Z(r,ql,b=>t(10,c=b));let{database:f}=e,{schema:m}=e;function d(b){return{type:"table",table:b,label:b.name,href:uf(f.id,m.id,b),icon:Kl,isActive(){return b.id===c}}}const p=py();Z(r,p,b=>t(9,u=b));function h(b){return{type:"simple",label:b.name,href:Xl(f.id,m.id,b.id),icon:Kl,isActive(){const $=Xl(f.id,m.id,b.id);return u.url.startsWith($)}}}return r.$$set=b=>{"database"in b&&t(3,f=b.database),"schema"in b&&t(4,m=b.schema)},r.$$.update=()=>{r.$$.dirty&256&&t(6,n=[...a.data.values()]),r.$$.dirty&128&&t(5,l=[...o.data.values()]),r.$$.dirty&97&&t(1,s=new Map([[i("tables"),n.map(d)],[i("explorations"),l.map(h)]]))},[i,s,p,f,m,l,n,o,a]}class Ey extends x{constructor(e){super(),J(this,e,UY,BY,Q,{database:3,schema:4})}}function WY(r){let e,t;return e=new Hm({props:{data:new Map([[r[1]("schemas"),r[0].map(r[2])]]),triggerLabel:r[1]("choose_schema")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.data=new Map([[n[1]("schemas"),n[0].map(n[2])]])),l&2&&(s.triggerLabel=n[1]("choose_schema")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jY(r,e,t){let n,l,s,i;Z(r,Ro,u=>t(4,l=u)),Z(r,Wr,u=>t(5,s=u)),Z(r,ge,u=>t(1,i=u));let{database:o}=e;function a(u){return{type:"simple",label:u.name,href:br(o.id,u.id),icon:ei,isActive(){return u.id===s}}}return r.$$set=u=>{"database"in u&&t(3,o=u.database)},r.$$.update=()=>{r.$$.dirty&16&&t(0,n=[...l.data.values()])},[n,i,a,o,l]}class YY extends x{constructor(e){super(),J(this,e,jY,WY,Q,{database:3})}}function GY(r){let e,t,n,l,s;const i=[da];let o={};for(let c=0;c<i.length;c+=1)o=le(o,i[c]);t=new Be({props:o});const a=[Ca,{class:"expand-right-icon"}];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return l=new Be({props:u}),{c(){e=M("span"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","trigger svelte-1q8ggx2")},m(c,f){w(c,e,f),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(c,f){const m=f&0?de(i,[$e(da)]):{};t.$set(m);const d=f&0?de(a,[$e(Ca),a[1]]):{};l.$set(d)},i(c){s||(_(t.$$.fragment,c),_(l.$$.fragment,c),s=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),s=!1},d(c){c&&v(e),S(t),S(l)}}}function KY(r){let e,t;return e=new dt({props:{appearance:"ghost",class:"padding-zero",$$slots:{default:[GY]},$$scope:{ctx:r}}}),e.$on("click",r[0]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XY(r,e,t){const n=Do();let{table:l}=e;function s(){n.navigateToRecordPage({tableId:l.id})}return r.$$set=i=>{"table"in i&&t(1,l=i.table)},[s,l]}class QY extends x{constructor(e){super(),J(this,e,XY,KY,Q,{table:1})}}function ZY(r){let e,t,n;const l=[I1];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","page-separator svelte-1gvj87j")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&0?de(l,[$e(I1)]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}class JY extends x{constructor(e){super(),J(this,e,null,ZY,Q,{})}}function xY(r){let e,t,n,l,s;return e=new JY({}),l=new ys({props:{href:r[0].href,$$slots:{default:[uG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.href=i[0].href),o&5&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(_(e.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&v(t),i&&v(n),S(l)}}}function eG(r){let e,t,n,l,s;return e=new Ey({props:{database:r[0].database,schema:r[0].schema}}),l=new ys({props:{href:Xl(r[0].database.id,r[0].schema.id,r[0].query.id),$$slots:{default:[fG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.database=i[0].database),o&1&&(a.schema=i[0].schema),e.$set(a);const u={};o&1&&(u.href=Xl(i[0].database.id,i[0].schema.id,i[0].query.id)),o&5&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(_(e.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&v(t),i&&v(n),S(l)}}}function tG(r){let e,t,n;return t=new ys({props:{href:sf(r[0].database.id,r[0].schema.id,r[0].table.id,r[0].record.pk),$$slots:{default:[dG]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","breadcrumb-item truncate svelte-56k5nq")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.href=sf(l[0].database.id,l[0].schema.id,l[0].table.id,l[0].record.pk)),s&5&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function nG(r){let e,t,n,l,s,i,o;return e=new Ey({props:{database:r[0].database,schema:r[0].schema}}),l=new ys({props:{href:uf(r[0].database.id,r[0].schema.id,r[0].table),$$slots:{default:[_G]},$$scope:{ctx:r}}}),i=new QY({props:{table:r[0].table}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),s=N(),C(i.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(a,u){y(e,a,u),w(a,t,u),w(a,n,u),y(l,n,null),w(a,s,u),y(i,a,u),o=!0},p(a,u){const c={};u&1&&(c.database=a[0].database),u&1&&(c.schema=a[0].schema),e.$set(c);const f={};u&1&&(f.href=uf(a[0].database.id,a[0].schema.id,a[0].table)),u&5&&(f.$$scope={dirty:u,ctx:a}),l.$set(f);const m={};u&1&&(m.table=a[0].table),i.$set(m)},i(a){o||(_(e.$$.fragment,a),_(l.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){S(e,a),a&&v(t),a&&v(n),S(l),a&&v(s),S(i,a)}}}function rG(r){let e,t,n,l,s;return e=new YY({props:{database:r[0].database}}),l=new ys({props:{href:br(r[0].database.id,r[0].schema.id),$$slots:{default:[pG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.database=i[0].database),e.$set(a);const u={};o&1&&(u.href=br(i[0].database.id,i[0].schema.id)),o&5&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(_(e.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&v(t),i&&v(n),S(l)}}}function lG(r){let e,t,n,l,s;return e=new yy({}),l=new ys({props:{href:sl(r[0].database.id),$$slots:{default:[gG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&1&&(a.href=sl(i[0].database.id)),o&5&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(_(e.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&v(t),i&&v(n),S(l)}}}function sG(r){let e,t,n,l,s;return e=new yy({}),l=new ys({props:{href:li,$$slots:{default:[bG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","breadcrumb-item truncate svelte-56k5nq")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&6&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(_(e.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&v(t),i&&v(n),S(l)}}}function iG(r){let e,t;return e=new ol({props:{arg:r[0].label}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.arg=n[0].label),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oG(r){let e,t;return e=new Rn({props:{icon:r[0].icon,$$slots:{default:[aG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.icon=n[0].icon),l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aG(r){let e,t;return e=new ol({props:{arg:r[0].label}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.arg=n[0].label),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function uG(r){let e,t,n,l;const s=[oG,iG],i=[];function o(a,u){return a[0].icon?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function cG(r){let e=r[0].query.name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].query.name+"")&&Y(t,e)},d(n){n&&v(t)}}}function fG(r){let e,t;return e=new Rn({props:{icon:zn,$$slots:{default:[cG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mG(r){let e,t;return e=new qu({props:{recordSummary:r[0].record.summary}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.recordSummary=n[0].record.summary),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dG(r){let e,t;return e=new Rn({props:{icon:xs,$$slots:{default:[mG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _G(r){let e,t;return e=new Sn({props:{table:r[0].table}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table=n[0].table),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pG(r){let e,t;return e=new wy({props:{schema:r[0].schema}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.schema=n[0].schema),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gG(r){let e,t;return e=new sY({props:{database:r[0].database}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0].database),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hG(r){let e=r[1]("connections")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("connections")+"")&&Y(t,e)},d(n){n&&v(t)}}}function bG(r){let e,t;return e=new Rn({props:{icon:Yl,$$slots:{default:[hG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&6&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $G(r){let e,t,n,l;const s=[sG,lG,rG,nG,tG,eG,xY],i=[];function o(a,u){return a[0].type==="connectionList"?0:a[0].type==="database"?1:a[0].type==="schema"?2:a[0].type==="table"?3:a[0].type==="record"?4:a[0].type==="exploration"?5:a[0].type==="simple"?6:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function vG(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{item:l}=e;return r.$$set=s=>{"item"in s&&t(0,l=s.item)},[l,n]}class wG extends x{constructor(e){super(),J(this,e,vG,$G,Q,{item:0})}}function kG(r){let e,t,n;return{c(){e=Rt("svg"),t=Rt("path"),n=Rt("path"),D(t,"class","outer svelte-1b88tpd"),D(t,"d","m18.35 0.09207c-1.152 7.807e-4 -2.635 0.3131-3.622 0.9921-0.9901 0.6812-0.5287 2.056 0.2266 2.585-1.007-0.2522-2.018-0.4122-2.988-0.4354-0.9699-0.02324-1.955 0.09245-2.821 0.4453-0.9198 0.3747-1.584 0.9451-1.962 1.716-0.3939 0.8021-0.4815 1.588-0.5129 2.392-0.8075 0.3468-2.145 0.8722-3.33 1.642-1.223 0.7943-2.502 1.987-2.871 3.777-0.2947 1.431-0.2396 3.742-0.03579 5.901 0.2055 2.176 0.6011 4.429 0.8927 5.336 0.298 0.9275 0.7092 1.372 1.443 1.392 1.074 0.02812 3.09-0.0077 3.575-0.01988 0.6369-0.01594 1.171-0.3577 1.431-0.7137 0.1977-0.2703 0.2631-0.5034 0.2883-0.9563 0.03325-0.599 0.2443-1.166 0.4016-1.718 0.4652 0.1986 1.167 0.1588 1.594-0.06362 0.03306 0.2464 0.08158 0.4963 0.1133 0.7436 0.1104 0.8597 0.3894 1.596 0.8112 2.235 0.1707 0.2586 0.6014 0.5661 1.187 0.5626v4e-3c2.139 0 4.277-3.08e-4 5.402 0 1.125 3.08e-4 1.283 9.62e-4 1.439-0.01391 0.9502-0.1075 1.289-0.5873 1.408-1.227 0.04104-0.2213-0.02173-0.6675-0.08748-0.8668-0.6462-1.671-1.305-3.309-1.441-5.09 0.4409-0.6919 0.8857-1.357 1.362-1.952 0.9547-1.193 1.948-2.208 2.505-3.002 0.3073-0.4385 0.1635-0.9533 0.1014-1.143 0.3457-0.2108 0.6778-0.4329 0.9364-0.7296 1.418-1.626 2.166-3.836 1.869-5.813-0.2771-1.846-1.04-3.11-2.326-4.193-1.611-1.357-3.126-1.787-4.988-1.785zm-0.4473 3.223c0.3671-6.552e-4 0.7317 0.04784 1.064 0.1471 0.4283 0.1281 0.7191 0.3172 0.8867 0.5109 0.1472 0.1702 0.2445 0.3894 0.2227 0.7316-1e-3 0.01566-0.0044 0.04149-0.01591 0.07754l-0.02982 0.09344-0.0676 0.09145c-0.02096 0.02825-0.04497 0.05756-0.07357 0.08549l-0.1233 0.1193-0.163 0.05169c-0.07692 0.0237-0.1726 0.03753-0.2883 0.02982h-2e-3c-0.1386-0.00996-0.3246-0.05301-0.5586-0.171h-2e-3c-0.9602-0.4858-2.021-0.9094-3.104-1.229 0.1707-0.00439 0.3584-0.0453 0.5527-0.1491h2e-3c0.4721-0.2529 1.088-0.3886 1.7-0.3897z"),D(n,"class","inner svelte-1b88tpd"),D(n,"d","m18.16 1.303c-0.97 0.03351-1.92 0.2781-2.71 0.7774-0.1753 0.1107 0.08091 0.6012 0.1829 0.5467 2.117-1.134 5.836-0.4821 5.668 2.155-0.0078 0.122-0.03177 0.2472-0.07157 0.3718 0.1697 0.03181 0.3368 0.06151 0.4931 0.05964 0.3673-0.0044 0.3792 0.5654-0.01198 0.5587-0.2708-0.00467-0.5129-0.03452-0.7595-0.07754-0.05986 0.0807-0.1288 0.1582-0.2028 0.2306 0.2214 0.06347 0.4212 0.1466 0.5964 0.2207 0.4015 0.1698 0.1072 0.7515-0.2485 0.6064-0.3522-0.1437-0.7434-0.2657-1.127-0.3618-0.2215 0.06824-0.4682 0.09971-0.7336 0.08151-0.3168-0.02215-0.6613-0.115-1.028-0.3002-1.934-0.9788-4.268-1.67-6.247-1.718-0.8814-0.021-1.687 0.08674-2.348 0.3559-1.355 0.552-1.648 1.574-1.722 2.827 0.1192 2.325 0.7394 3.941 1.596 4.986 0.6159 0.7511 1.356 1.207 2.117 1.422 0.7604 0.214 1.544 0.1881 2.249-0.02386 0.7359-0.2217 1.364-0.6598 1.819-1.211 0.3022-0.3661 0.8429 0.0763 0.5607 0.4354-0.533 0.6782-1.299 1.19-2.173 1.453-0.8265 0.249-1.749 0.2779-2.644 0.02585-0.894-0.2516-1.759-0.7823-2.475-1.656-0.8527-1.04-1.491-2.17-1.702-4.193-1.727 0.7486-5.022 1.93-5.567 4.577-0.51 2.476 0.1425 8.616 0.9702 11.05 0.02791 0.08224 0.1255 0.1104 0.2127 0.1113l3.437-0.01988c0.0566 7e-3 0.5772-0.0935 0.5467-0.3797-0.06438-0.6058 0.774-3.644 1.264-3.525 0.2822 0.06861 0.5672 0.8384 1.36 0.5984 0.8521-0.2582 0.9309-1.268 1.37-1.529 0.2796-0.1663 0.2146 0.1532 0.2604 0.6799 0.07441 0.86 0.3329 4.275 1.084 4.247h3.408c0.1622-4.07e-4 0.3114-0.05755 0.4274-0.1551 0.1151-0.0971 0.197-0.2353 0.2247-0.3956 0.2825-1.624 0.759-4.55 1.435-5.752l0.1272-0.2207c0.89-1.515 2.067-2.865 3.455-4.459 0.126-0.1445 0.3013-0.3629 0.4255-0.5189 0.08432-0.106 0.03431-0.2439-0.08151-0.2843-0.4965-0.1731-0.9139-0.3079-1.159-0.5189-0.02616-0.02219-0.03608-0.05598-0.02783-0.08947 0.0085-0.03318 0.03202-0.05629 0.06561-0.06363 2.26-0.4751 3.081-1.652 3.674-3.298 0.3251-0.9019 0.4278-1.814 0.3082-2.694-0.1189-0.8752-0.457-1.724-1.012-2.505-0.2803-0.3944-0.5855-0.7282-0.9086-1.008-1.088-0.9415-2.763-1.475-4.38-1.42zm-0.07953 6.09c0.2647-0.00889 0.5301 0.1034 0.7098 0.3261 0.3024 0.3746-0.4219 0.2323-0.7952 0.5328-0.373 0.3004-0.2544 0.9296-0.5567 0.5547-0.3025-0.3749-0.2437-0.9222 0.1292-1.223 0.1516-0.122 0.3319-0.1848 0.5129-0.1909zm-0.2843 12.33c-0.3926 0.8752-0.5883 3.463-0.7793 4.561-0.02677 0.1549-0.06552 0.2731-0.1372 0.4036h1.722c0.4474 0.0027 0.7397-0.0078 0.5766-0.503-0.3803-1.154-1.199-3.049-1.382-4.461z"),D(e,"width","1em"),D(e,"height","1em"),D(e,"viewBox","0 0 26 26")},m(l,s){w(l,e,s),I(e,t),I(e,n)},p:j,i:j,o:j,d(l){l&&v(e)}}}class Dy extends x{constructor(e){super(),J(this,e,null,kG,Q,{})}}function yG(r){let e,t,n,l,s=r[2]("mathesar")+"",i,o;return t=new Dy({}),{c(){e=M("a"),C(t.$$.fragment),n=N(),l=M("div"),i=q(s),D(l,"class","mathesar svelte-1t4pomd"),D(e,"href",r[1]),D(e,"class","home-link svelte-1t4pomd"),re(e,"has-responsive-abridgement",r[0])},m(a,u){w(a,e,u),y(t,e,null),I(e,n),I(e,l),I(l,i),o=!0},p(a,[u]){(!o||u&4)&&s!==(s=a[2]("mathesar")+"")&&Y(i,s),(!o||u&2)&&D(e,"href",a[1]),(!o||u&1)&&re(e,"has-responsive-abridgement",a[0])},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){g(t.$$.fragment,a),o=!1},d(a){a&&v(e),S(t)}}}function SG(r,e,t){let n;Z(r,ge,i=>t(2,n=i));let{hasResponsiveAbridgement:l=!1}=e,{href:s}=e;return r.$$set=i=>{"hasResponsiveAbridgement"in i&&t(0,l=i.hasResponsiveAbridgement),"href"in i&&t(1,s=i.href)},[l,s,n]}class CG extends x{constructor(e){super(),J(this,e,SG,yG,Q,{hasResponsiveAbridgement:0,href:1})}}function Kh(r,e,t){const n=r.slice();return n[3]=e[t],n}function Xh(r){let e,t;return e=new wG({props:{item:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.item=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function TG(r){let e,t,n,l;t=new CG({props:{href:"/",hasResponsiveAbridgement:r[1]}});let s=r[0],i=[];for(let a=0;a<s.length;a+=1)i[a]=Xh(Kh(r,s,a));const o=a=>g(i[a],1,1,()=>{i[a]=null});return{c(){e=M("div"),C(t.$$.fragment),n=N();for(let a=0;a<i.length;a+=1)i[a].c();D(e,"class","breadcrumb svelte-cheun3")},m(a,u){w(a,e,u),y(t,e,null),I(e,n);for(let c=0;c<i.length;c+=1)i[c].m(e,null);l=!0},p(a,[u]){const c={};if(u&2&&(c.hasResponsiveAbridgement=a[1]),t.$set(c),u&1){s=a[0];let f;for(f=0;f<s.length;f+=1){const m=Kh(a,s,f);i[f]?(i[f].p(m,u),_(i[f],1)):(i[f]=Xh(m),i[f].c(),_(i[f],1),i[f].m(e,null))}for(G(),f=s.length;f<i.length;f+=1)o(f);K()}},i(a){if(!l){_(t.$$.fragment,a);for(let u=0;u<s.length;u+=1)_(i[u]);l=!0}},o(a){g(t.$$.fragment,a),i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)g(i[u]);l=!1},d(a){a&&v(e),S(t),jn(i,a)}}}function EG(r,e,t){let n,l;const s=vy();return Z(r,s,i=>t(0,l=i)),r.$$.update=()=>{r.$$.dirty&1&&t(1,n=l.length>2)},[l,n,s]}class DG extends x{constructor(e){super(),J(this,e,EG,TG,Q,{})}}function Qh(r){let e,t,n,l=r[0]&&r[1]&&Zh(r),s=r[2]&&xh(r);return{c(){e=M("div"),l&&l.c(),t=N(),s&&s.c(),D(e,"class","right svelte-3vwngg")},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,o){i[0]&&i[1]?l?(l.p(i,o),o&3&&_(l,1)):(l=Zh(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[2]?s?(s.p(i,o),o&4&&_(s,1)):(s=xh(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function Zh(r){let e,t;return e=new Xr({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,icon:r[3]?gr:void 0,$$slots:{trigger:[RG],default:[PG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.icon=n[3]?gr:void 0),l&32963&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jh(r){let e,t,n,l;return e=new sn({props:{icon:jt,$$slots:{default:[IG]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new Ir({props:{icon:jt,href:kl(r[1].id,r[0].id),$$slots:{default:[MG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&32896&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&3&&(a.href=kl(s[1].id,s[0].id)),i&32896&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function IG(r){let e=r[7]("new_table_from_scratch")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("new_table_from_scratch")+"")&&Y(t,e)},d(n){n&&v(t)}}}function MG(r){let e=r[7]("new_table_from_data_import")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("new_table_from_data_import")+"")&&Y(t,e)},d(n){n&&v(t)}}}function AG(r){let e=r[7]("open_data_explorer")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("open_data_explorer")+"")&&Y(t,e)},d(n){n&&v(t)}}}function PG(r){let e,t,n,l=r[6]&&Jh(r);return t=new Ir({props:{icon:zn,href:Mr(r[1].id,r[0].id),$$slots:{default:[AG]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[6]?l?(l.p(s,i),i&64&&_(l,1)):(l=Jh(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K());const o={};i&3&&(o.href=Mr(s[1].id,s[0].id)),i&32896&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(_(l),_(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function RG(r){let e,t,n,l,s,i=r[7]("shortcuts")+"",o,a;const u=[T1];let c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return n=new Be({props:c}),{c(){e=M("span"),t=M("span"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),D(t,"class","icon svelte-3vwngg"),D(s,"class","text svelte-3vwngg"),D(e,"slot","trigger"),D(e,"class","shortcuts svelte-3vwngg")},m(f,m){w(f,e,m),I(e,t),y(n,t,null),I(e,l),I(e,s),I(s,o),a=!0},p(f,m){const d=m&0?de(u,[$e(T1)]):{};n.$set(d),(!a||m&128)&&i!==(i=f[7]("shortcuts")+"")&&Y(o,i)},i(f){a||(_(n.$$.fragment,f),a=!0)},o(f){g(n.$$.fragment,f),a=!1},d(f){f&&v(e),S(n)}}}function xh(r){let e,t;return e=new Xr({props:{triggerAppearance:"ghost",size:"small",closeOnInnerClick:!0,menuStyle:"--spacing-x: 0.3em;",$$slots:{trigger:[BG],default:[qG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32934&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eb(r){let e,t,n,l,s,i;return e=new So({props:{$$slots:{default:[OG]},$$scope:{ctx:r}}}),n=new Ir({props:{icon:wl,href:sl(r[1].id),$$slots:{default:[LG]},$$scope:{ctx:r}}}),s=new yo({}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&32896&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&2&&(c.href=sl(o[1].id)),a&32770&&(c.$$scope={dirty:a,ctx:o}),n.$set(c)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function OG(r){let e=r[7]("database")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("database")+"")&&Y(t,e)},d(n){n&&v(t)}}}function LG(r){let e=r[1].nickname+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].nickname+"")&&Y(t,e)},d(n){n&&v(t)}}}function NG(r){let e=r[7]("signed_in_as")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("signed_in_as")+"")&&Y(t,e)},d(n){n&&v(t)}}}function FG(r){let e=r[2].getDisplayName()+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2].getDisplayName()+"")&&Y(t,e)},d(n){n&&v(t)}}}function HG(r){let e=r[7]("database_connections")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("database_connections")+"")&&Y(t,e)},d(n){n&&v(t)}}}function tb(r){let e,t;return e=new Ir({props:{icon:Gl,href:ri,hasNotificationDot:r[5],$$slots:{default:[zG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.hasNotificationDot=n[5]),l&32896&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zG(r){let e=r[7]("administration")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("administration")+"")&&Y(t,e)},d(n){n&&v(t)}}}function VG(r){let e=r[7]("log_out")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("log_out")+"")&&Y(t,e)},d(n){n&&v(t)}}}function qG(r){let e,t,n,l,s,i,o,a,u,c,f,m,d=r[1]&&eb(r);t=new So({props:{$$slots:{default:[NG]},$$scope:{ctx:r}}}),l=new Ir({props:{icon:ni,href:of,$$slots:{default:[FG]},$$scope:{ctx:r}}}),i=new yo({}),a=new Ir({props:{icon:Yl,href:li,$$slots:{default:[HG]},$$scope:{ctx:r}}});let p=r[2].isSuperUser&&tb(r);return f=new Ir({props:{icon:IO,href:VL,"tinro-ignore":!0,$$slots:{default:[VG]},$$scope:{ctx:r}}}),{c(){d&&d.c(),e=N(),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment),u=N(),p&&p.c(),c=N(),C(f.$$.fragment)},m(h,b){d&&d.m(h,b),w(h,e,b),y(t,h,b),w(h,n,b),y(l,h,b),w(h,s,b),y(i,h,b),w(h,o,b),y(a,h,b),w(h,u,b),p&&p.m(h,b),w(h,c,b),y(f,h,b),m=!0},p(h,b){h[1]?d?(d.p(h,b),b&2&&_(d,1)):(d=eb(h),d.c(),_(d,1),d.m(e.parentNode,e)):d&&(G(),g(d,1,1,()=>{d=null}),K());const $={};b&32896&&($.$$scope={dirty:b,ctx:h}),t.$set($);const k={};b&32772&&(k.$$scope={dirty:b,ctx:h}),l.$set(k);const T={};b&32896&&(T.$$scope={dirty:b,ctx:h}),a.$set(T),h[2].isSuperUser?p?(p.p(h,b),b&4&&_(p,1)):(p=tb(h),p.c(),_(p,1),p.m(c.parentNode,c)):p&&(G(),g(p,1,1,()=>{p=null}),K());const E={};b&32896&&(E.$$scope={dirty:b,ctx:h}),f.$set(E)},i(h){m||(_(d),_(t.$$.fragment,h),_(l.$$.fragment,h),_(i.$$.fragment,h),_(a.$$.fragment,h),_(p),_(f.$$.fragment,h),m=!0)},o(h){g(d),g(t.$$.fragment,h),g(l.$$.fragment,h),g(i.$$.fragment,h),g(a.$$.fragment,h),g(p),g(f.$$.fragment,h),m=!1},d(h){d&&d.d(h),h&&v(e),S(t,h),h&&v(n),S(l,h),h&&v(s),S(i,h),h&&v(o),S(a,h),h&&v(u),p&&p.d(h),h&&v(c),S(f,h)}}}function BG(r){let e,t,n;const l=[Gl,{hasNotificationDot:r[5]}];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","user-switcher svelte-3vwngg"),D(e,"slot","trigger")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&32?de(l,[o&0&&$e(Gl),o&32&&{hasNotificationDot:i[5]}]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function UG(r){let e,t,n,l,s;n=new DG({});let i=r[4]&&Qh(r);return{c(){e=M("header"),t=M("div"),C(n.$$.fragment),l=N(),i&&i.c(),D(t,"class","left svelte-3vwngg"),D(e,"class","app-header svelte-3vwngg")},m(o,a){w(o,e,a),I(e,t),y(n,t,null),I(e,l),i&&i.m(e,null),s=!0},p(o,[a]){o[4]?i?(i.p(o,a),a&16&&_(i,1)):(i=Qh(o),i.c(),_(i,1),i.m(e,null)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(n.$$.fragment,o),_(i),s=!0)},o(o){g(n.$$.fragment,o),g(i),s=!1},d(o){o&&v(e),S(n),i&&i.d()}}}function WG(r,e,t){let n,l,s,i,o,a,u,c,f,m;Z(r,En,k=>t(12,c=k)),Z(r,On,k=>t(13,f=k)),Z(r,ge,k=>t(7,m=k));const d=ul(),p=Zt();Z(r,p,k=>t(2,u=k));const h=Du();Z(r,h,k=>t(11,a=k));let b=!1;async function $(){if(!l||!n)return;t(3,b=!0);const k=await No(n,l,{});t(3,b=!1),un.goto(Ol(n.id,l.id,k.id),!1)}return r.$$.update=()=>{var k;r.$$.dirty&8192&&t(1,n=f),r.$$.dirty&4096&&t(0,l=c),r.$$.dirty&7&&t(6,s=u==null?void 0:u.hasPermission({database:n,schema:l},"canExecuteDDL")),r.$$.dirty&2048&&t(5,i=((k=a==null?void 0:a.value)==null?void 0:k.upgradeStatus)==="upgradable")},t(4,o=d.routing_context==="normal"),[l,n,u,b,o,i,s,m,p,h,$,a,c,f]}class jG extends x{constructor(e){super(),J(this,e,WG,UG,Q,{})}}function nb(r){let e,t,n,l=r[1]("mathesar_demo_mode")+"",s,i,o,a,u,c,f,m,d=r[1]("join_email_list")+"",p,h,b,$,k,T;o=new $r({props:{$$slots:{default:[YG]},$$scope:{ctx:r}}});const E=[v1];let A={};for(let R=0;R<E.length;R+=1)A=le(A,E[R]);f=new Be({props:A});const P=[b1];let O={};for(let R=0;R<P.length;R+=1)O=le(O,P[R]);return $=new Be({props:O}),{c(){e=M("div"),t=M("div"),n=M("i"),s=q(l),i=N(),C(o.$$.fragment),a=N(),u=M("div"),c=M("a"),C(f.$$.fragment),m=N(),p=q(d),h=N(),b=M("a"),C($.$$.fragment),k=q(`
        Mathesar.org`),D(t,"class","side left svelte-1xbleub"),D(c,"href","https://mathesar.org/mailing-list.html"),D(c,"target","_blank"),D(c,"class","svelte-1xbleub"),D(b,"href","http://mathesar.org"),D(b,"target","_blank"),D(b,"class","svelte-1xbleub"),D(u,"class","side right svelte-1xbleub"),D(e,"class","demo-banner svelte-1xbleub")},m(R,F){w(R,e,F),I(e,t),I(t,n),I(n,s),I(t,i),y(o,t,null),I(e,a),I(e,u),I(u,c),y(f,c,null),I(c,m),I(c,p),I(u,h),I(u,b),y($,b,null),I(b,k),T=!0},p(R,F){(!T||F&2)&&l!==(l=R[1]("mathesar_demo_mode")+"")&&Y(s,l);const L={};F&10&&(L.$$scope={dirty:F,ctx:R}),o.$set(L);const U=F&0?de(E,[$e(v1)]):{};f.$set(U),(!T||F&2)&&d!==(d=R[1]("join_email_list")+"")&&Y(p,d);const W=F&0?de(P,[$e(b1)]):{};$.$set(W)},i(R){T||(_(o.$$.fragment,R),_(f.$$.fragment,R),_($.$$.fragment,R),T=!0)},o(R){g(o.$$.fragment,R),g(f.$$.fragment,R),g($.$$.fragment,R),T=!1},d(R){R&&v(e),S(o),S(f),S($)}}}function YG(r){let e=r[1]("mathesar_demo_mode_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("mathesar_demo_mode_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function GG(r){let e,t,n=r[0]&&nb(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&_(n,1)):(n=nb(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function KG(r,e,t){let n,l;Z(r,ge,i=>t(1,l=i));const s=ul();return t(0,n=!!s.live_demo_mode),[n,l]}class XG extends x{constructor(e){super(),J(this,e,KG,GG,Q,{})}}const QG=r=>({}),rb=r=>({});function ZG(r){let e,t,n,l,s,i,o,a,u;n=new XG({}),s=new jG({});const c=r[5]["secondary-header"],f=Ie(c,r,r[4],rb),m=r[5].default,d=Ie(m,r,r[4],null);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),f&&f.c(),o=N(),a=M("main"),d&&d.c(),D(t,"class","app-layout-header svelte-ld3foe"),D(a,"class","app-layout-content svelte-ld3foe"),re(a,"restrict-width",r[1]),D(e,"class","app-layout svelte-ld3foe"),D(e,"style",r[2]),re(e,"fit-viewport",r[0])},m(p,h){w(p,e,h),I(e,t),y(n,t,null),I(t,l),y(s,t,null),I(e,i),f&&f.m(e,null),I(e,o),I(e,a),d&&d.m(a,null),u=!0},p(p,[h]){f&&f.p&&(!u||h&16)&&Ae(f,c,p,p[4],u?Me(c,p[4],h,QG):Pe(p[4]),rb),d&&d.p&&(!u||h&16)&&Ae(d,m,p,p[4],u?Me(m,p[4],h,null):Pe(p[4]),null),(!u||h&2)&&re(a,"restrict-width",p[1]),(!u||h&4)&&D(e,"style",p[2]),(!u||h&1)&&re(e,"fit-viewport",p[0])},i(p){u||(_(n.$$.fragment,p),_(s.$$.fragment,p),_(f,p),_(d,p),u=!0)},o(p){g(n.$$.fragment,p),g(s.$$.fragment,p),g(f,p),g(d,p),u=!1},d(p){p&&v(e),S(n),S(s),f&&f.d(p),d&&d.d(p)}}}function JG(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{fitViewport:i=!1}=e,{restrictWidth:o=!1}=e,{cssVariables:a=void 0}=e;return r.$$set=u=>{"fitViewport"in u&&t(0,i=u.fitViewport),"restrictWidth"in u&&t(1,o=u.restrictWidth),"cssVariables"in u&&t(3,a=u.cssVariables),"$$scope"in u&&t(4,s=u.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=a?Ji(a):void 0)},[i,o,n,a,s,l]}class kr extends x{constructor(e){super(),J(this,e,JG,ZG,Q,{fitViewport:0,restrictWidth:1,cssVariables:3})}}function lb(r){let e,t;return e=new jr({props:{appearance:"primary",href:"/",$$slots:{default:[xG]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&10&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xG(r){let e=r[1]("go_to_homepage")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("go_to_homepage")+"")&&Y(t,e)},d(n){n&&v(t)}}}function eK(r){let e,t,n=r[1]("error")+"",l,s,i,o,a;const u=r[2].default,c=Ie(u,r,r[3],null);let f=r[0]&&lb(r);return{c(){e=M("div"),t=M("h1"),l=q(n),s=N(),i=M("div"),c&&c.c(),o=N(),f&&f.c(),D(e,"class","error-page-container svelte-1tmy8xu")},m(m,d){w(m,e,d),I(e,t),I(t,l),I(e,s),I(e,i),c&&c.m(i,null),I(e,o),f&&f.m(e,null),a=!0},p(m,d){(!a||d&2)&&n!==(n=m[1]("error")+"")&&Y(l,n),c&&c.p&&(!a||d&8)&&Ae(c,u,m,m[3],a?Me(u,m[3],d,null):Pe(m[3]),null),m[0]?f?(f.p(m,d),d&1&&_(f,1)):(f=lb(m),f.c(),_(f,1),f.m(e,null)):f&&(G(),g(f,1,1,()=>{f=null}),K())},i(m){a||(_(c,m),_(f),a=!0)},o(m){g(c,m),g(f),a=!1},d(m){m&&v(e),c&&c.d(m),f&&f.d()}}}function tK(r){let e,t;return e=new kr({props:{$$slots:{default:[eK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&11&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nK(r,e,t){let n;Z(r,ge,o=>t(1,n=o));let{$$slots:l={},$$scope:s}=e,{showGoToRoot:i=!0}=e;return r.$$set=o=>{"showGoToRoot"in o&&t(0,i=o.showGoToRoot),"$$scope"in o&&t(3,s=o.$$scope)},[i,n,l,s]}class Ll extends x{constructor(e){super(),J(this,e,nK,tK,Q,{showGoToRoot:0})}}function rK(r,e,t){const n=ht();let{meta:l=void 0}=e;return _n(()=>{if(l!=null&&l.subscribe){const s=l.subscribe(i=>{i&&n("load",i)});return()=>{s(),n("unload")}}return n("load"),()=>{n("unload")}}),r.$$set=s=>{"meta"in s&&t(0,l=s.meta)},[l]}class qm extends x{constructor(e){super(),J(this,e,rK,null,Q,{meta:0})}}function lK(r,e,t){let n,{item:l}=e;const s=vy();Z(r,s,c=>t(3,n=c));let i;function o(){an(s,n=n.filter(c=>c!==l),n)}function a(){an(s,n=n.filter(c=>c!==i),n)}function u(c){a(),an(s,n=[...n,c],n),i=l}return Dl(o),r.$$set=c=>{"item"in c&&t(1,l=c.item)},r.$$.update=()=>{r.$$.dirty&2&&u(l)},[s,l]}class Wn extends x{constructor(e){super(),J(this,e,lK,null,Q,{item:1})}}function sK(r){let e,t,n;const l=r[3].default,s=Ie(l,r,r[2],null);return{c(){e=M("div"),s&&s.c(),D(e,"class","grid-form svelte-zx1fio"),pr(()=>r[4].call(e)),re(e,"grid",r[1]>r[0])},m(i,o){w(i,e,o),s&&s.m(e,null),t=Tw(e,r[4].bind(e)),n=!0},p(i,[o]){s&&s.p&&(!n||o&4)&&Ae(s,l,i,i[2],n?Me(l,i[2],o,null):Pe(i[2]),null),(!n||o&3)&&re(e,"grid",i[1]>i[0])},i(i){n||(_(s,i),n=!0)},o(i){g(s,i),n=!1},d(i){i&&v(e),s&&s.d(i),t()}}}function iK(r,e,t){let{$$slots:n={},$$scope:l}=e,{breakpointPx:s=400}=e,i;function o(){i=this.clientWidth,t(1,i)}return r.$$set=a=>{"breakpointPx"in a&&t(0,s=a.breakpointPx),"$$scope"in a&&t(2,l=a.$$scope)},[s,i,l,n,o]}class oK extends x{constructor(e){super(),J(this,e,iK,sK,Q,{breakpointPx:0})}}function aK(r){let e,t,n;return{c(){e=M("div"),t=N(),n=M("div"),D(e,"class","divider svelte-eno9hk"),D(n,"class","divider svelte-eno9hk")},m(l,s){w(l,e,s),w(l,t,s),w(l,n,s)},p:j,i:j,o:j,d(l){l&&v(e),l&&v(t),l&&v(n)}}}class Pc extends x{constructor(e){super(),J(this,e,null,aK,Q,{})}}function uK(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},d(t){t&&v(e)}}}function cK(r){let e,t,n,l,s;t=new fi({props:{controller:r[1],$$slots:{default:[uK]},$$scope:{ctx:r}}});const i=r[2].default,o=Ie(i,r,r[3],null);return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div"),o&&o.c(),D(e,"class","label-cell svelte-h4bao7"),D(l,"class","input-cell")},m(a,u){w(a,e,u),y(t,e,null),w(a,n,u),w(a,l,u),o&&o.m(l,null),s=!0},p(a,[u]){const c={};u&9&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),o&&o.p&&(!s||u&8)&&Ae(o,i,a,a[3],s?Me(i,a[3],u,null):Pe(a[3]),null)},i(a){s||(_(t.$$.fragment,a),_(o,a),s=!0)},o(a){g(t.$$.fragment,a),g(o,a),s=!1},d(a){a&&v(e),S(t),a&&v(n),a&&v(l),o&&o.d(a)}}}function fK(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=new ko;Pf(s);let{label:i}=e;return r.$$set=o=>{"label"in o&&t(0,i=o.label),"$$scope"in o&&t(3,l=o.$$scope)},[i,s,n,l]}class qs extends x{constructor(e){super(),J(this,e,fK,cK,Q,{label:0})}}function mK(r){return r.type==="user_database"}function dK(){const r=ul();return r?[{type:"internal_database",connection:r.internal_db_connection}]:[]}const _K=at(Hn.connections,r=>[...dK(),...gm(([,e])=>({type:"user_database",connection:e}),r)]);function pK(r){if(r.length===0)return;const e=r.find(t=>t.type==="internal_database");return e||r.filter(mK).reduce((t,n)=>t.connection.id>n.connection.id?t:n)}function Iy({connection:r}){return"user"in r?r.user:r.username}function gK(r){return r.type==="internal_database"?{connection_type:"internal_database"}:{connection_type:"user_database",id:r.connection.id}}function hK(r){let e,t=r[5]("internal_database")+"",n,l;return{c(){e=q("("),n=q(t),l=q(")")},m(s,i){w(s,e,i),w(s,n,i),w(s,l,i)},p(s,i){i&32&&t!==(t=s[5]("internal_database")+"")&&Y(n,t)},d(s){s&&v(e),s&&v(n),s&&v(l)}}}function bK(r){let e=r[0].connection.nickname+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].connection.nickname+"")&&Y(t,e)},d(n){n&&v(t)}}}function $K(r){let e,t,n,l,s,i,o,a,u,c,f,m,d;function p($,k){return $[0].type==="user_database"?bK:hK}let h=p(r),b=h(r);return{c(){e=M("span"),t=M("span"),b.c(),n=N(),l=M("span"),s=q(r[4]),i=q("@"),o=M("wbr"),a=q(r[3]),u=q(":"),c=q(r[2]),f=q("/"),m=M("wbr"),d=q(r[1]),D(t,"class","name svelte-1qwnps"),D(l,"class","uri svelte-1qwnps"),D(e,"class","general-connection svelte-1qwnps"),re(e,"internal",r[0].type==="internal_database")},m($,k){w($,e,k),I(e,t),b.m(t,null),I(e,n),I(e,l),I(l,s),I(l,i),I(l,o),I(l,a),I(l,u),I(l,c),I(l,f),I(l,m),I(l,d)},p($,[k]){h===(h=p($))&&b?b.p($,k):(b.d(1),b=h($),b&&(b.c(),b.m(t,null))),k&16&&Y(s,$[4]),k&8&&Y(a,$[3]),k&4&&Y(c,$[2]),k&2&&Y(d,$[1]),k&1&&re(e,"internal",$[0].type==="internal_database")},i:j,o:j,d($){$&&v(e),b.d()}}}function vK(r,e,t){let n,l,s,i,o,a;Z(r,ge,c=>t(5,a=c));let{generalConnection:u}=e;return r.$$set=c=>{"generalConnection"in c&&t(0,u=c.generalConnection)},r.$$.update=()=>{r.$$.dirty&1&&t(6,{connection:n}=u,n),r.$$.dirty&1&&t(4,l=Iy(u)),r.$$.dirty&64&&t(3,{host:s,port:i,database:o}=n,s,(t(2,i),t(6,n),t(0,u)),(t(1,o),t(6,n),t(0,u)))},[u,o,i,s,l,a,n]}class wK extends x{constructor(e){super(),J(this,e,vK,$K,Q,{generalConnection:0})}}function sb(r){let e,t=r[11]("database_server_credentials")+"",n,l,s,i,o,a;function u(f){r[37](f)}let c={ariaLabel:r[11]("database_server_credentials"),options:[{reuse:!0,modifiable:!0},{reuse:!1,modifiable:!0}],valuesAreEqual:OK,getRadioLabel:r[22]};return r[13]!==void 0&&(c.value=r[13]),i=new hs({props:c}),Te.push(()=>Oe(i,"value",u)),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment)},m(f,m){w(f,e,m),I(e,n),w(f,l,m),w(f,s,m),y(i,s,null),a=!0},p(f,m){(!a||m[0]&2048)&&t!==(t=f[11]("database_server_credentials")+"")&&Y(n,t);const d={};m[0]&2048&&(d.ariaLabel=f[11]("database_server_credentials")),!o&&m[0]&8192&&(o=!0,d.value=f[13],Ne(()=>o=!1)),i.$set(d)},i(f){a||(_(i.$$.fragment,f),a=!0)},o(f){g(i.$$.fragment,f),a=!1},d(f){f&&v(e),f&&v(l),f&&v(s),S(i)}}}function kK(r){let e,t,n,l,s,i;return e=new qs({props:{label:r[11]("host_name"),$$slots:{default:[SK]},$$scope:{ctx:r}}}),n=new qs({props:{label:r[11]("user_name"),$$slots:{default:[CK]},$$scope:{ctx:r}}}),s=new qs({props:{label:r[11]("password"),$$slots:{default:[TK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a[0]&2048&&(u.label=o[11]("host_name")),a[0]&2096|a[1]&1048576&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a[0]&2048&&(c.label=o[11]("user_name")),a[0]&2056|a[1]&1048576&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a[0]&2048&&(f.label=o[11]("password")),a[0]&2052|a[1]&1048576&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function yK(r){let e,t;return e=new qs({props:{label:r[11]("known_connection"),$$slots:{default:[DK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2048&&(s.label=n[11]("known_connection")),l[0]&530432|l[1]&1048576&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SK(r){let e,t,n,l,s;return t=new Vt({props:{field:r[5]}}),l=new Vt({props:{field:r[4],input:{component:w6,props:{style:"width: 8ch;"}},label:r[11]("port")}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","host-and-port svelte-1x9hqqv")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,o){const a={};o[0]&32&&(a.field=i[5]),t.$set(a);const u={};o[0]&16&&(u.field=i[4]),o[0]&2048&&(u.label=i[11]("port")),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function CK(r){let e,t;return e=new Vt({props:{field:r[3],help:r[11]("existing_pg_user_privileges_help")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.field=n[3]),l[0]&2048&&(s.help=n[11]("existing_pg_user_privileges_help")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function TK(r){let e,t;return e=new Vt({props:{field:r[2],input:{component:Wl},help:r[11]("password_encryption_help")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.field=n[2]),l[0]&2048&&(s.help=n[11]("password_encryption_help")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function EK(r){let e=r[11]("the_credentials_will_be_copied_from_this_connection")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&2048&&e!==(e=n[11]("the_credentials_will_be_copied_from_this_connection")+"")&&Y(t,e)},d(n){n&&v(t)}}}function DK(r){let e,t,n,l,s;function i(a){r[39](a)}let o={options:r[19],getLabel:r[38]};return r[12]!==void 0&&(o.value=r[12]),e=new Tn({props:o}),Te.push(()=>Oe(e,"value",i)),l=new K5({props:{$$slots:{default:[EK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),n=N(),C(l.$$.fragment)},m(a,u){y(e,a,u),w(a,n,u),y(l,a,u),s=!0},p(a,u){const c={};u[0]&524288&&(c.options=a[19]),!t&&u[0]&4096&&(t=!0,c.value=a[12],Ne(()=>t=!1)),e.$set(c);const f={};u[0]&2048|u[1]&1048576&&(f.$$scope={dirty:u,ctx:a}),l.$set(f)},i(a){s||(_(e.$$.fragment,a),_(l.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),g(l.$$.fragment,a),s=!1},d(a){S(e,a),a&&v(n),S(l,a)}}}function ib(r){let e,t,n;return t=new hn({props:{label:r[11]("create_db_if_not_exists"),layout:"inline-input-first",help:r[11]("operation_requires_pg_user_have_createdb",{values:{username:r[14]}}),$$slots:{default:[IK]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","create-db-checkbox-field svelte-1x9hqqv")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&2048&&(i.label=l[11]("create_db_if_not_exists")),s[0]&18432&&(i.help=l[11]("operation_requires_pg_user_have_createdb",{values:{username:l[14]}})),s[0]&1048576|s[1]&1048576&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function IK(r){let e,t,n;function l(i){r[40](i)}let s={};return r[20]!==void 0&&(s.checked=r[20]),e=new Al({props:s}),Te.push(()=>Oe(e,"checked",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o[0]&1048576&&(t=!0,a.checked=i[20],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function MK(r){let e,t,n,l,s;t=new Vt({props:{field:r[10],help:r[15]}});let i=r[1]&&ib(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),i&&i.c(),l=oe()},m(o,a){w(o,e,a),y(t,e,null),w(o,n,a),i&&i.m(o,a),w(o,l,a),s=!0},p(o,a){const u={};a[0]&1024&&(u.field=o[10]),a[0]&32768&&(u.help=o[15]),t.$set(u),o[1]?i?(i.p(o,a),a[0]&2&&_(i,1)):(i=ib(o),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(t.$$.fragment,o),_(i),s=!0)},o(o){g(t.$$.fragment,o),g(i),s=!1},d(o){o&&v(e),S(t),o&&v(n),i&&i.d(o),o&&v(l)}}}function AK(r){let e,t;return e=new Vt({props:{field:r[8],help:r[11]("connection_nickname_help")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&256&&(s.field=n[8]),l[0]&2048&&(s.help=n[11]("connection_nickname_help")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function PK(r){let e,t,n,l,s,i,o,a,u,c,f,m=r[11]("schemas_to_install")+"",d,p,h,b,$,k,T,E,A,P,O=r[13].modifiable&&sb(r);const R=[yK,kK],F=[];function L(H,z){return H[13].reuse?0:1}t=L(r),n=F[t]=R[t](r),s=new Pc({}),o=new qs({props:{label:r[11]("database_name"),$$slots:{default:[MK]},$$scope:{ctx:r}}}),u=new Pc({});function U(H){r[43](H)}let W={ariaLabel:r[11]("schemas_to_install"),options:r[23],getCheckboxLabel:r[41],getCheckboxHelp:r[42],getCheckboxDisabled:LK};return r[21]!==void 0&&(W.values=r[21]),b=new J9({props:W}),Te.push(()=>Oe(b,"values",U)),T=new Pc({}),A=new qs({props:{label:r[11]("connection_nickname"),$$slots:{default:[AK]},$$scope:{ctx:r}}}),{c(){O&&O.c(),e=N(),n.c(),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment),a=N(),C(u.$$.fragment),c=N(),f=M("div"),d=q(m),p=N(),h=M("div"),C(b.$$.fragment),k=N(),C(T.$$.fragment),E=N(),C(A.$$.fragment)},m(H,z){O&&O.m(H,z),w(H,e,z),F[t].m(H,z),w(H,l,z),y(s,H,z),w(H,i,z),y(o,H,z),w(H,a,z),y(u,H,z),w(H,c,z),w(H,f,z),I(f,d),w(H,p,z),w(H,h,z),y(b,h,null),w(H,k,z),y(T,H,z),w(H,E,z),y(A,H,z),P=!0},p(H,z){H[13].modifiable?O?(O.p(H,z),z[0]&8192&&_(O,1)):(O=sb(H),O.c(),_(O,1),O.m(e.parentNode,e)):O&&(G(),g(O,1,1,()=>{O=null}),K());let te=t;t=L(H),t===te?F[t].p(H,z):(G(),g(F[te],1,1,()=>{F[te]=null}),K(),n=F[t],n?n.p(H,z):(n=F[t]=R[t](H),n.c()),_(n,1),n.m(l.parentNode,l));const se={};z[0]&2048&&(se.label=H[11]("database_name")),z[0]&1100802|z[1]&1048576&&(se.$$scope={dirty:z,ctx:H}),o.$set(se),(!P||z[0]&2048)&&m!==(m=H[11]("schemas_to_install")+"")&&Y(d,m);const B={};z[0]&2048&&(B.ariaLabel=H[11]("schemas_to_install")),!$&&z[0]&2097152&&($=!0,B.values=H[21],Ne(()=>$=!1)),b.$set(B);const V={};z[0]&2048&&(V.label=H[11]("connection_nickname")),z[0]&2304|z[1]&1048576&&(V.$$scope={dirty:z,ctx:H}),A.$set(V)},i(H){P||(_(O),_(n),_(s.$$.fragment,H),_(o.$$.fragment,H),_(u.$$.fragment,H),_(b.$$.fragment,H),_(T.$$.fragment,H),_(A.$$.fragment,H),P=!0)},o(H){g(O),g(n),g(s.$$.fragment,H),g(o.$$.fragment,H),g(u.$$.fragment,H),g(b.$$.fragment,H),g(T.$$.fragment,H),g(A.$$.fragment,H),P=!1},d(H){O&&O.d(H),H&&v(e),F[t].d(H),H&&v(l),S(s,H),H&&v(i),S(o,H),H&&v(a),S(u,H),H&&v(c),H&&v(f),H&&v(p),H&&v(h),S(b),H&&v(k),S(T,H),H&&v(E),S(A,H)}}}function RK(r){let e,t,n,l,s,i,o,a;return t=new oK({props:{$$slots:{default:[PK]},$$scope:{ctx:r}}}),s=new Zr({props:{form:r[16],catchErrors:!0,onCancel:r[0],onProceed:r[26],proceedButton:{label:r[11]("add_connection")},cancelButton:{label:r[11]("cancel")}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div"),C(s.$$.fragment),D(l,"class","footer"),D(e,"class","db-connection-form svelte-1x9hqqv")},m(u,c){w(u,e,c),y(t,e,null),I(e,n),I(e,l),y(s,l,null),i=!0,o||(a=Dn(F6.call(null,l)),o=!0)},p(u,c){const f={};c[0]&3734846|c[1]&1048576&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const m={};c[0]&65536&&(m.form=u[16]),c[0]&1&&(m.onCancel=u[0]),c[0]&2048&&(m.proceedButton={label:u[11]("add_connection")}),c[0]&2048&&(m.cancelButton={label:u[11]("cancel")}),s.$set(m)},i(u){i||(_(t.$$.fragment,u),_(s.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){u&&v(e),S(t),S(s),o=!1,a()}}}const OK=(r,e)=>(r==null?void 0:r.reuse)===(e==null?void 0:e.reuse),LK=r=>r==="internal";function NK(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F,L,U=j,W=()=>(U(),U=ue(k,ft=>t(44,L=ft)),k),H,z=j,te=()=>(z(),z=ue($,ft=>t(45,H=ft)),$),se,B=j,V=()=>(B(),B=ue(b,ft=>t(46,se=ft)),b),ee,ie=j,_e=()=>(ie(),ie=ue(h,ft=>t(47,ee=ft)),h),ae,fe=j,Ue=()=>(fe(),fe=ue(f,ft=>t(20,ae=ft)),f),ve,Se=j,ke=()=>(Se(),Se=ue(p,ft=>t(12,ve=ft)),p),Fe,we=j,Re=()=>(we(),we=ue(u,ft=>t(13,Fe=ft)),u),Ge,Je=j,Ke=()=>(Je(),Je=ue(d,ft=>t(48,Ge=ft)),d),ot,lt=j,ze=()=>(lt(),lt=ue(m,ft=>t(21,ot=ft)),m),Xe,pt=j,rt=()=>(pt(),pt=ue(c,ft=>t(34,Xe=ft)),c),st,qe,et=j,mt=()=>(et(),et=ue(s,ft=>t(36,qe=ft)),s);Z(r,ge,ft=>t(11,F=ft)),Z(r,_K,ft=>t(35,st=ft)),r.$$.on_destroy.push(()=>U()),r.$$.on_destroy.push(()=>z()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>we()),r.$$.on_destroy.push(()=>Je()),r.$$.on_destroy.push(()=>lt()),r.$$.on_destroy.push(()=>pt()),r.$$.on_destroy.push(()=>et());function Ot(ft){return ft.reuse?F("reuse_credentials_from_known_connection"):F("enter_new_credentials")}const Qe=["internal",...J1],Nt={internal:"mathesar_types, __msar, msar",library_management:"Library Management",movie_collection:"Movie Collection"},Ct={internal:F("internal_schema_help"),library_management:F("sample_data_library_help"),movie_collection:F("sample_data_movies_help")};let{onCancel:Dt}=e,{onSuccess:Mt}=e;function it(ft){an(d,Ge=Tl(ft,i),Ge)}function Yt(){const ft={database_name:Xe,sample_data:J1.filter(Ln=>ot.includes(Ln)),nickname:Ge};if(Fe.reuse){const Ln=ve;if(!Ln)throw new Error("Bug: $connectionToReuse is undefined");return Hn.createFromKnownConnection({...ft,credentials:{connection:gK(Ln)},create_database:ae})}return Hn.createFromScratch({...ft,credentials:{host:ee,port:String(se),user:H,password:L}})}async function tn(){try{const ft=await Yt();Mt(ft),Tt.success(F("connection_added_successfully"))}catch(ft){Tt.fromError(ft)}}function $n(ft){Fe=ft,u.set(Fe)}const ln=ft=>({component:wK,props:{generalConnection:ft}});function tt(ft){ve=ft,p.set(ve)}function Jt(ft){ae=ft,f.set(ae)}const Gn=ft=>Nt[ft],yr=ft=>Ct[ft];function Rr(ft){ot=ft,m.set(ot)}return r.$$set=ft=>{"onCancel"in ft&&t(0,Dt=ft.onCancel),"onSuccess"in ft&&t(27,Mt=ft.onSuccess)},r.$$.update=()=>{r.$$.dirty[1]&16&&t(19,n=st),r.$$.dirty[1]&16&&t(31,l=pK(st)),r.$$.dirty[1]&32&&t(28,i=new Set(gm(([,ft])=>ft.nickname,qe))),r.$$.dirty[1]&16&&t(33,o=st.some(ft=>ft.type==="user_database")),r.$$.dirty[1]&4&&t(32,a=o?"":"mathesar"),r.$$.dirty[1]&1&&Re(t(17,u=wt(l?{reuse:!0,modifiable:!0}:{reuse:!1,modifiable:!1}))),r.$$.dirty[1]&2&&rt(t(10,c=wt(a))),r.$$.dirty[0]&268435456&&Ke(t(8,d=wt("",[Lo(i)]))),r.$$.dirty[1]&1&&ke(t(7,p=wt(l))),r.$$.dirty[0]&1792&&t(30,T={databaseName:c,installationSchemas:m,connectionNickname:d}),r.$$.dirty[0]&1073750268&&t(29,E=Fe.reuse?{...T,connectionToReuse:p,createDatabase:f}:{...T,host:h,port:b,user:$,password:k}),r.$$.dirty[0]&536870912&&t(16,A=Un(E)),r.$$.dirty[0]&8192&&t(1,P=Fe.reuse),r.$$.dirty[0]&2050&&t(15,O=P?void 0:F("this_database_must_exist_already")),r.$$.dirty[0]&12288&&t(14,R=Fe.reuse?Hw(ve,Iy):void 0),r.$$.dirty[1]&8&&it(Xe)},mt(t(18,s=Hn.connections)),Ue(t(6,f=wt(!0))),ze(t(9,m=wt(["internal"]))),_e(t(5,h=wt("localhost"))),V(t(4,b=wt(5432))),te(t(3,$=wt(""))),W(t(2,k=wt(""))),[Dt,P,k,$,b,h,f,p,d,m,c,F,ve,Fe,R,O,A,u,s,n,ae,ot,Ot,Qe,Nt,Ct,tn,Mt,i,E,T,l,a,o,Xe,st,qe,$n,ln,tt,Jt,Gn,yr,Rr]}class FK extends x{constructor(e){super(),J(this,e,NK,RK,Q,{onCancel:0,onSuccess:27},null,[-1,-1])}}function HK(r){let e,t;return e=new FK({props:{onCancel:r[2],onSuccess:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zK(r){let e,t;return e=new al({props:{controller:r[0],size:"large",title:r[1]("new_postgresql_database_connection"),$$slots:{default:[HK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&2&&(s.title=n[1]("new_postgresql_database_connection")),l&16&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function VK(r,e,t){let n;Z(r,ge,o=>t(1,n=o));let{controller:l}=e;function s(){l.close()}function i(o){l.close();const a=sl(o.id);un.goto(a)}return r.$$set=o=>{"controller"in o&&t(0,l=o.controller)},[l,n,s,i]}class My extends x{constructor(e){super(),J(this,e,VK,zK,Q,{controller:0})}}function qK(r){let e,t,n,l,s,i=r[0]("no_database_connections_yet")+"",o,a,u,c=r[0]("setup_connections_help")+"",f,m;const d=[Yl,{size:"var(--size-super-ultra-large)"}];let p={};for(let h=0;h<d.length;h+=1)p=le(p,d[h]);return n=new Be({props:p}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("div"),o=q(i),a=N(),u=M("div"),f=q(c),D(t,"data-identifier","connection-icon"),D(t,"class","svelte-2szg0y"),D(s,"data-identifier","no-connections-text"),D(s,"class","svelte-2szg0y"),D(u,"data-identifier","no-connections-help"),D(u,"class","svelte-2szg0y"),D(e,"slot","body")},m(h,b){w(h,e,b),I(e,t),y(n,t,null),I(e,l),I(e,s),I(s,o),I(e,a),I(e,u),I(u,f),m=!0},p(h,b){const $=b&0?de(d,[$e(Yl),d[1]]):{};n.$set($),(!m||b&1)&&i!==(i=h[0]("no_database_connections_yet")+"")&&Y(o,i),(!m||b&1)&&c!==(c=h[0]("setup_connections_help")+"")&&Y(f,c)},i(h){m||(_(n.$$.fragment,h),m=!0)},o(h){g(n.$$.fragment,h),m=!1},d(h){h&&v(e),S(n)}}}function BK(r){let e,t,n,l=r[0]("add_database_connection")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&1)&&l!==(l=u[0]("add_database_connection")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function UK(r){let e,t;return e=new dt({props:{slot:"footer",appearance:"primary",$$slots:{default:[BK]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&9&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function WK(r){let e,t,n,l,s;return t=new au({props:{$$slots:{footer:[UK],body:[qK]},$$scope:{ctx:r}}}),l=new My({props:{controller:r[1]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","content svelte-2szg0y"),D(e,"data-identifier","connection-empty-text")},m(i,o){w(i,e,o),y(t,e,null),w(i,n,o),y(l,i,o),s=!0},p(i,[o]){const a={};o&9&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),i&&v(n),S(l,i)}}}function jK(r,e,t){let n;Z(r,ge,i=>t(0,n=i));const l=Bn.spawnModalController();return[n,l,()=>l.open()]}class Ay extends x{constructor(e){super(),J(this,e,jK,WK,Q,{})}}function YK(r){let e;const t=r[1].default,n=Ie(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ae(n,t,l,l[2],e?Me(t,l[2],s,null):Pe(l[2]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function GK(r){let e,t,n;const l=[{icon:Wc},r[0]];let s={$$slots:{default:[YK]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new ju({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","info-box svelte-1imv3fg")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&1?de(l,[o&0&&{icon:Wc},o&1&&$e(i[0])]):{};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function KK(r,e,t){const n=[];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(0,l=Ye(e,n)),"$$scope"in o&&t(2,i=o.$$scope)},[l,s,i]}class Cs extends x{constructor(e){super(),J(this,e,KK,GK,Q,{})}}function XK(r){let e,t,n,l,s,i,o;return n=new Vt({props:{label:r[12]("host"),field:r[9],layout:"stacked",input:{component:gn,props:{disabled:!0}}}}),i=new Vt({props:{label:r[12]("port"),field:r[8],layout:"stacked",input:{component:gn,props:{disabled:!0}}}}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("div"),C(i.$$.fragment),D(t,"data-identifier","host-config"),D(t,"class","svelte-1h4f37b"),D(s,"data-identifier","port-config"),D(s,"class","svelte-1h4f37b"),D(e,"data-identifier","host-port-config"),D(e,"class","svelte-1h4f37b")},m(a,u){w(a,e,u),I(e,t),y(n,t,null),I(e,l),I(e,s),y(i,s,null),o=!0},p(a,u){const c={};u&4096&&(c.label=a[12]("host")),u&512&&(c.field=a[9]),n.$set(c);const f={};u&4096&&(f.label=a[12]("port")),u&256&&(f.field=a[8]),i.$set(f)},i(a){o||(_(n.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(n.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&v(e),S(n),S(i)}}}function ob(r){let e,t=r[24]+"",n;return{c(){e=M("a"),n=q(t),D(e,"href","https://github.com/mathesar-foundation/mathesar/issues/3386"),D(e,"target","_blank")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&16777216&&t!==(t=l[24]+"")&&Y(n,t)},d(l){l&&v(e)}}}function QK(r){let e,t=r[23]==="issueLink"&&ob(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[23]==="issueLink"?t?t.p(n,l):(t=ob(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function ZK(r){let e,t;return e=new St({props:{text:r[12]("disabled_connection_edit_fields_help"),$$slots:{default:[QK,({slotName:n,translatedArg:l})=>({23:n,24:l}),({slotName:n,translatedArg:l})=>(n?8388608:0)|(l?16777216:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4096&&(s.text=n[12]("disabled_connection_edit_fields_help")),l&58720256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JK(r){let e,t,n;return t=new Cs({props:{$$slots:{default:[ZK]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","disabled-help svelte-1h4f37b")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&33558528&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function xK(r){let e,t,n;function l(i){r[18](i)}let s={};return r[6]!==void 0&&(s.checked=r[6]),e=new Al({props:s}),Te.push(()=>Oe(e,"checked",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&64&&(t=!0,a.checked=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function eX(r){let e,t;return e=new hn({props:{label:r[12]("change_password"),layout:"inline-input-first",$$slots:{default:[xK]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4096&&(s.label=n[12]("change_password")),l&33554496&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ab(r){let e,t;return e=new Vt({props:{label:r[12]("new_password"),field:r[2],input:{component:Wl,props:{autocomplete:"new-password"}},layout:"stacked",help:r[12]("password_encryption_help")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4096&&(s.label=n[12]("new_password")),l&4&&(s.field=n[2]),l&4096&&(s.help=n[12]("password_encryption_help")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tX(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k;t=new Vt({props:{label:r[12]("connection_name"),field:r[5],layout:"stacked"}}),i=new Vt({props:{label:r[12]("database_name"),field:r[10],layout:"stacked",input:{component:gn,props:{disabled:!0}}}}),a=new Jn({props:{$$slots:{default:[XK]},$$scope:{ctx:r}}}),c=new Jn({props:{$$slots:{default:[JK]},$$scope:{ctx:r}}}),p=new Vt({props:{label:r[12]("username"),field:r[4],layout:"stacked",help:r[12]("user_needs_create_connect_privileges")}}),b=new Jn({props:{$$slots:{default:[eX]},$$scope:{ctx:r}}});let T=r[6]&&ab(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("hr"),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment),u=N(),C(c.$$.fragment),f=N(),m=M("hr"),d=N(),C(p.$$.fragment),h=N(),C(b.$$.fragment),$=N(),T&&T.c(),D(l,"class","svelte-1h4f37b"),D(m,"class","svelte-1h4f37b")},m(E,A){w(E,e,A),y(t,e,null),I(e,n),I(e,l),I(e,s),y(i,e,null),I(e,o),y(a,e,null),I(e,u),y(c,e,null),I(e,f),I(e,m),I(e,d),y(p,e,null),I(e,h),y(b,e,null),I(e,$),T&&T.m(e,null),k=!0},p(E,A){const P={};A&4096&&(P.label=E[12]("connection_name")),A&32&&(P.field=E[5]),t.$set(P);const O={};A&4096&&(O.label=E[12]("database_name")),A&1024&&(O.field=E[10]),i.$set(O);const R={};A&33559296&&(R.$$scope={dirty:A,ctx:E}),a.$set(R);const F={};A&33558528&&(F.$$scope={dirty:A,ctx:E}),c.$set(F);const L={};A&4096&&(L.label=E[12]("username")),A&16&&(L.field=E[4]),A&4096&&(L.help=E[12]("user_needs_create_connect_privileges")),p.$set(L);const U={};A&33558592&&(U.$$scope={dirty:A,ctx:E}),b.$set(U),E[6]?T?(T.p(E,A),A&64&&_(T,1)):(T=ab(E),T.c(),_(T,1),T.m(e,null)):T&&(G(),g(T,1,1,()=>{T=null}),K())},i(E){k||(_(t.$$.fragment,E),_(i.$$.fragment,E),_(a.$$.fragment,E),_(c.$$.fragment,E),_(p.$$.fragment,E),_(b.$$.fragment,E),_(T),k=!0)},o(E){g(t.$$.fragment,E),g(i.$$.fragment,E),g(a.$$.fragment,E),g(c.$$.fragment,E),g(p.$$.fragment,E),g(b.$$.fragment,E),g(T),k=!1},d(E){E&&v(e),S(t),S(i),S(a),S(c),S(p),S(b),T&&T.d()}}}function ub(r){let e,t;return e=new vr({props:{$$slots:{default:[nX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&33554434&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nX(r){let e=r[1].nickname+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].nickname+"")&&Y(t,e)},d(n){n&&v(t)}}}function rX(r){let e,t,n=r[23]==="connectionName"&&ub(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[23]==="connectionName"?n?(n.p(l,s),s&8388608&&_(n,1)):(n=ub(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function lX(r){let e,t;return e=new St({props:{text:r[12]("edit_connection_with_name"),$$slots:{default:[rX,({slotName:n})=>({23:n}),({slotName:n})=>n?8388608:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4096&&(s.text=n[12]("edit_connection_with_name")),l&41943042&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sX(r){let e,t,n;return t=new Zr({props:{form:r[7],canCancel:r[13].hasChanges,canProceed:r[13].hasChanges,cancelButton:{label:r[12]("reset")},proceedButton:{label:r[12]("update_connection")},onCancel:r[17],onProceed:r[14]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","footer")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&128&&(i.form=l[7]),s&8192&&(i.canCancel=l[13].hasChanges),s&8192&&(i.canProceed=l[13].hasChanges),s&4096&&(i.cancelButton={label:l[12]("reset")}),s&4096&&(i.proceedButton={label:l[12]("update_connection")}),s&128&&(i.onCancel=l[17]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function iX(r){let e,t;return e=new al({props:{controller:r[0],$$slots:{footer:[sX],title:[lX],default:[tX]},$$scope:{ctx:r}}}),e.$on("open",r[19]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&33568758&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oX(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h=j,b=()=>(h(),h=ue(f,ae=>t(20,p=ae)),f),$,k=j,T=()=>(k(),k=ue(c,ae=>t(6,$=ae)),c),E,A=j,P=()=>(A(),A=ue(u,ae=>t(21,E=ae)),u),O,R=j,F=()=>(R(),R=ue(s,ae=>t(22,O=ae)),s),L,U=j,W=()=>(U(),U=ue(n,ae=>t(16,L=ae)),n),H,z=j,te=()=>(z(),z=ue(m,ae=>t(13,H=ae)),m);Z(r,ge,ae=>t(12,d=ae)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>R()),r.$$.on_destroy.push(()=>U()),r.$$.on_destroy.push(()=>z());let{controller:se}=e,{connection:B}=e;async function V(){try{await Hn.updateConnection(B.id,{nickname:O,username:E,...$?{password:p}:{}}),Tt.success(d("connection_updated_successfully")),se.close()}catch(ae){Tt.error(en(ae))}}const ee=()=>m.reset();function ie(ae){$=ae,c.set($)}const _e=()=>m.reset();return r.$$set=ae=>{"controller"in ae&&t(0,se=ae.controller),"connection"in ae&&t(1,B=ae.connection)},r.$$.update=()=>{var ae;r.$$.dirty&65538&&t(15,l=new Set(gm(([,fe])=>fe.nickname,L.without(B.id)))),r.$$.dirty&32770&&F(t(5,s=wt(B.nickname,[Lo(l)]))),r.$$.dirty&2&&t(10,i=wt(B.database)),r.$$.dirty&2&&t(9,o=wt(B.host)),r.$$.dirty&2&&t(8,a=wt((ae=B.port)!=null?ae:5432,[CU()])),r.$$.dirty&2&&P(t(4,u=wt(B.username))),r.$$.dirty&124&&te(t(7,m=Un({connectionName:s,username:u,changePassword:c,...$?{password:f}:{}})))},W(t(11,{connections:n}=Hn,n)),T(t(3,c=wt(!1))),b(t(2,f=wt(""))),[se,B,f,c,u,s,$,m,a,o,i,n,d,H,V,l,L,ee,ie,_e]}class Py extends x{constructor(e){super(),J(this,e,oX,iX,Q,{controller:0,connection:1})}}function aX(r){let e,t;const n=r[3].default,l=Ie(n,r,r[2],null);return{c(){e=M("a"),l&&l.c(),D(e,"href",r[0]),D(e,"target","_blank")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&4)&&Ae(l,n,s,s[2],t?Me(n,s[2],i,null):Pe(s[2]),null),(!t||i&1)&&D(e,"href",s[0])},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function uX(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{path:i}=e;return r.$$set=o=>{"path"in o&&t(1,i=o.path),"$$scope"in o&&t(2,s=o.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=$k(i))},[n,i,s,l]}class cX extends x{constructor(e){super(),J(this,e,uX,aX,Q,{path:1})}}function fX(r){let e;const t=r[1].default,n=Ie(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ae(n,t,l,l[2],e?Me(t,l[2],s,null):Pe(l[2]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function mX(r){let e,t,n;const l=[r[0],{icon:pa}];let s={$$slots:{default:[fX]},$$scope:{ctx:r}};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new ju({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","warning-box svelte-1p8cm9u")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,[o]){const a=o&1?de(l,[o&1&&$e(i[0]),o&0&&{icon:pa}]):{};o&4&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function dX(r,e,t){const n=[];let l=Ye(e,n),{$$slots:s={},$$scope:i}=e;return r.$$set=o=>{e=le(le({},e),_t(o)),t(0,l=Ye(e,n)),"$$scope"in o&&t(2,i=o.$$scope)},[l,s,i]}class Fo extends x{constructor(e){super(),J(this,e,dX,mX,Q,{})}}function cb(r){let e,t,n;return t=new hn({props:{layout:"inline-input-first",label:r[4]("delete_associated_mathesar_schemas_help"),$$slots:{default:[_X]},$$scope:{ctx:r}}}),{c(){e=M("p"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.label=l[4]("delete_associated_mathesar_schemas_help")),s&4100&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function _X(r){let e,t,n;function l(i){r[9](i)}let s={};return r[2]!==void 0&&(s.checked=r[2]),e=new Al({props:s}),Te.push(()=>Oe(e,"checked",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&4&&(t=!0,a.checked=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function pX(r){let e,t=r[4]("action_cannot_be_undone")+"",n,l,s,i=r[4]("delete_connection_info")+"",o,a,u,c=r[4]("delete_connection_db_delete_info")+"",f,m,d,p,h=r[3]&&cb(r);return{c(){e=M("p"),n=q(t),l=N(),s=M("p"),o=q(i),a=N(),u=M("p"),f=q(c),m=N(),h&&h.c(),d=oe()},m(b,$){w(b,e,$),I(e,n),w(b,l,$),w(b,s,$),I(s,o),w(b,a,$),w(b,u,$),I(u,f),w(b,m,$),h&&h.m(b,$),w(b,d,$),p=!0},p(b,$){(!p||$&16)&&t!==(t=b[4]("action_cannot_be_undone")+"")&&Y(n,t),(!p||$&16)&&i!==(i=b[4]("delete_connection_info")+"")&&Y(o,i),(!p||$&16)&&c!==(c=b[4]("delete_connection_db_delete_info")+"")&&Y(f,c),b[3]?h?(h.p(b,$),$&8&&_(h,1)):(h=cb(b),h.c(),_(h,1),h.m(d.parentNode,d)):h&&(G(),g(h,1,1,()=>{h=null}),K())},i(b){p||(_(h),p=!0)},o(b){g(h),p=!1},d(b){b&&v(e),b&&v(l),b&&v(s),b&&v(a),b&&v(u),b&&v(m),h&&h.d(b),b&&v(d)}}}function fb(r){let e,t;return e=new vr({props:{$$slots:{default:[gX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4098&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gX(r){let e=r[1].nickname+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].nickname+"")&&Y(t,e)},d(n){n&&v(t)}}}function hX(r){let e,t,n=r[11]==="connectionName"&&fb(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[11]==="connectionName"?n?(n.p(l,s),s&2048&&_(n,1)):(n=fb(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function bX(r){let e,t;return e=new St({props:{text:r[4]("delete_connection_with_name"),$$slots:{default:[hX,({slotName:n})=>({11:n}),({slotName:n})=>n?2048:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.text=n[4]("delete_connection_with_name")),l&6146&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $X(r){let e,t;return e=new Kr({props:{proceedButton:{icon:void 0,label:r[4]("delete_connection")},onCancel:r[7],onProceed:r[6],slot:"footer"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.proceedButton={icon:void 0,label:n[4]("delete_connection")}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vX(r){let e,t;return e=new al({props:{controller:r[0],$$slots:{footer:[$X],title:[bX],default:[pX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&4126&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wX(r,e,t){let n,l,s;Z(r,ge,p=>t(4,l=p));const{connections:i}=Hn;Z(r,i,p=>t(8,s=p));const o=ht();let{controller:a}=e,{connection:u}=e,c=!1;async function f(){try{await Hn.deleteConnection(u.id,c),Tt.success(l("connection_deleted_successfully")),a.close(),o("delete")}catch(p){Tt.error(en(p))}}function m(){a.close(),t(2,c=!1)}function d(p){c=p,t(2,c)}return r.$$set=p=>{"controller"in p&&t(0,a=p.controller),"connection"in p&&t(1,u=p.connection)},r.$$.update=()=>{r.$$.dirty&258&&t(3,n=Zk(u,s.values()))},[a,u,c,n,l,i,f,m,s,d]}class Ry extends x{constructor(e){super(),J(this,e,wX,vX,Q,{controller:0,connection:1})}}function kX(r){let e,t=r[1]("start_working_with_mathesar")+"",n,l,s,i;const o=[Zs];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return s=new Be({props:a}),{c(){e=M("span"),n=q(t),l=N(),C(s.$$.fragment)},m(u,c){w(u,e,c),I(e,n),w(u,l,c),y(s,u,c),i=!0},p(u,c){(!i||c&2)&&t!==(t=u[1]("start_working_with_mathesar")+"")&&Y(n,t);const f=c&0?de(o,[$e(Zs)]):{};s.$set(f)},i(u){i||(_(s.$$.fragment,u),i=!0)},o(u){g(s.$$.fragment,u),i=!1},d(u){u&&v(e),u&&v(l),S(s,u)}}}function yX(r){let e,t=r[1]("join_community_chat")+"",n,l,s,i;const o=[Zs];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return s=new Be({props:a}),{c(){e=M("span"),n=q(t),l=N(),C(s.$$.fragment)},m(u,c){w(u,e,c),I(e,n),w(u,l,c),y(s,u,c),i=!0},p(u,c){(!i||c&2)&&t!==(t=u[1]("join_community_chat")+"")&&Y(n,t);const f=c&0?de(o,[$e(Zs)]):{};s.$set(f)},i(u){i||(_(s.$$.fragment,u),i=!0)},o(u){g(s.$$.fragment,u),i=!1},d(u){u&&v(e),u&&v(l),S(s,u)}}}function SX(r){var Re;let e,t,n=r[1]("welcome_to_mathesar_user",{values:{user:(Re=r[0])==null?void 0:Re.getDisplayName()}})+"",l,s,i,o,a,u=r[1]("database_connections")+"",c,f,m,d,p,h,b,$,k=r[1]("documentation_and_resources")+"",T,E,A,P,O,R=r[1]("getting_started")+"",F,L,U,W=r[1]("getting_started_help")+"",H,z,te,se,B,V,ee,ie=r[1]("feel_stuck_or_feedback")+"",_e,ae,fe,Ue=r[1]("connect_with_community_help")+"",ve,Se,ke,Fe,we;return m=new Ay({}),se=new jr({props:{appearance:"secondary",href:$k("/"),target:"_blank",$$slots:{default:[kX]},$$scope:{ctx:r}}}),Fe=new jr({props:{appearance:"secondary",href:UL("/community/"),target:"_blank",$$slots:{default:[yX]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),i=M("div"),o=M("section"),a=M("div"),c=q(u),f=N(),C(m.$$.fragment),d=N(),p=M("hr"),h=N(),b=M("section"),$=M("div"),T=q(k),E=N(),A=M("div"),P=M("div"),O=M("div"),F=q(R),L=N(),U=M("div"),H=q(W),z=N(),te=M("div"),C(se.$$.fragment),B=N(),V=M("div"),ee=M("div"),_e=q(ie),ae=N(),fe=M("div"),ve=q(Ue),Se=N(),ke=M("div"),C(Fe.$$.fragment),D(t,"class","svelte-1htadje"),D(e,"data-identifier","welcome-header"),D(e,"class","svelte-1htadje"),D(a,"class","header svelte-1htadje"),D(o,"class","svelte-1htadje"),D(p,"class","svelte-1htadje"),D($,"class","header svelte-1htadje"),D(O,"class","header svelte-1htadje"),D(U,"class","content svelte-1htadje"),D(te,"class","footer svelte-1htadje"),D(P,"class","document-block svelte-1htadje"),D(ee,"class","header svelte-1htadje"),D(fe,"class","content svelte-1htadje"),D(ke,"class","footer svelte-1htadje"),D(V,"class","document-block svelte-1htadje"),D(A,"class","content svelte-1htadje"),D(A,"data-identifier","documentation-links"),D(b,"class","svelte-1htadje"),D(i,"data-identifier","welcome-container"),D(i,"class","svelte-1htadje")},m(Ge,Je){w(Ge,e,Je),I(e,t),I(t,l),w(Ge,s,Je),w(Ge,i,Je),I(i,o),I(o,a),I(a,c),I(o,f),y(m,o,null),I(i,d),I(i,p),I(i,h),I(i,b),I(b,$),I($,T),I(b,E),I(b,A),I(A,P),I(P,O),I(O,F),I(P,L),I(P,U),I(U,H),I(P,z),I(P,te),y(se,te,null),I(A,B),I(A,V),I(V,ee),I(ee,_e),I(V,ae),I(V,fe),I(fe,ve),I(V,Se),I(V,ke),y(Fe,ke,null),we=!0},p(Ge,Je){var lt;(!we||Je&3)&&n!==(n=Ge[1]("welcome_to_mathesar_user",{values:{user:(lt=Ge[0])==null?void 0:lt.getDisplayName()}})+"")&&Y(l,n),(!we||Je&2)&&u!==(u=Ge[1]("database_connections")+"")&&Y(c,u),(!we||Je&2)&&k!==(k=Ge[1]("documentation_and_resources")+"")&&Y(T,k),(!we||Je&2)&&R!==(R=Ge[1]("getting_started")+"")&&Y(F,R),(!we||Je&2)&&W!==(W=Ge[1]("getting_started_help")+"")&&Y(H,W);const Ke={};Je&18&&(Ke.$$scope={dirty:Je,ctx:Ge}),se.$set(Ke),(!we||Je&2)&&ie!==(ie=Ge[1]("feel_stuck_or_feedback")+"")&&Y(_e,ie),(!we||Je&2)&&Ue!==(Ue=Ge[1]("connect_with_community_help")+"")&&Y(ve,Ue);const ot={};Je&18&&(ot.$$scope={dirty:Je,ctx:Ge}),Fe.$set(ot)},i(Ge){we||(_(m.$$.fragment,Ge),_(se.$$.fragment,Ge),_(Fe.$$.fragment,Ge),we=!0)},o(Ge){g(m.$$.fragment,Ge),g(se.$$.fragment,Ge),g(Fe.$$.fragment,Ge),we=!1},d(Ge){Ge&&v(e),Ge&&v(s),Ge&&v(i),S(m),S(se),S(Fe)}}}function CX(r){let e,t;return e=new kr({props:{cssVariables:{"--page-padding":"0"},$$slots:{default:[SX]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&19&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function TX(r,e,t){let n,l,s;Z(r,ge,o=>t(1,s=o));const i=Zt();return Z(r,i,o=>t(3,l=o)),r.$$.update=()=>{r.$$.dirty&8&&t(0,n=l)},[n,s,i,l]}class EX extends x{constructor(e){super(),J(this,e,TX,CX,Q,{})}}const DX=r=>({}),mb=r=>({}),IX=r=>({}),db=r=>({});function _b(r){let e,t,n,l;const s=r[4].resultInfo,i=Ie(s,r,r[6],mb);return n=new dt({props:{appearance:"secondary",$$slots:{default:[MX]},$$scope:{ctx:r}}}),n.$on("click",r[3]),{c(){e=M("div"),i&&i.c(),t=N(),C(n.$$.fragment),D(e,"class","search-results-info svelte-13vmmh3")},m(o,a){w(o,e,a),i&&i.m(e,null),I(e,t),y(n,e,null),l=!0},p(o,a){i&&i.p&&(!l||a&64)&&Ae(i,s,o,o[6],l?Me(s,o[6],a,DX):Pe(o[6]),mb);const u={};a&68&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){l||(_(i,o),_(n.$$.fragment,o),l=!0)},o(o){g(i,o),g(n.$$.fragment,o),l=!1},d(o){o&&v(e),i&&i.d(o),S(n)}}}function MX(r){let e=r[2]("clear")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("clear")+"")&&Y(t,e)},d(n){n&&v(t)}}}function AX(r){let e,t,n,l,s,i,o,a;function u(p){r[5](p)}let c={placeholder:r[1],prefixIcon:da};r[0]!==void 0&&(c.value=r[0]),l=new y6({props:c}),Te.push(()=>Oe(l,"value",u));const f=r[4].action,m=Ie(f,r,r[6],db);let d=r[0]&&_b(r);return{c(){e=M("div"),t=M("div"),n=M("div"),C(l.$$.fragment),i=N(),m&&m.c(),o=N(),d&&d.c(),D(n,"class","search-container svelte-13vmmh3"),D(t,"class","actions-container svelte-13vmmh3"),D(e,"class","container svelte-13vmmh3")},m(p,h){w(p,e,h),I(e,t),I(t,n),y(l,n,null),I(t,i),m&&m.m(t,null),I(e,o),d&&d.m(e,null),a=!0},p(p,[h]){const b={};h&2&&(b.placeholder=p[1]),!s&&h&1&&(s=!0,b.value=p[0],Ne(()=>s=!1)),l.$set(b),m&&m.p&&(!a||h&64)&&Ae(m,f,p,p[6],a?Me(f,p[6],h,IX):Pe(p[6]),db),p[0]?d?(d.p(p,h),h&1&&_(d,1)):(d=_b(p),d.c(),_(d,1),d.m(e,null)):d&&(G(),g(d,1,1,()=>{d=null}),K())},i(p){a||(_(l.$$.fragment,p),_(m,p),_(d),a=!0)},o(p){g(l.$$.fragment,p),g(m,p),g(d),a=!1},d(p){p&&v(e),S(l),m&&m.d(p),d&&d.d()}}}function PX(r,e,t){let n;Z(r,ge,f=>t(2,n=f));let{$$slots:l={},$$scope:s}=e;const i=ht();let{searchQuery:o}=e,{placeholder:a}=e;function u(){i("clear")}function c(f){o=f,t(0,o)}return r.$$set=f=>{"searchQuery"in f&&t(0,o=f.searchQuery),"placeholder"in f&&t(1,a=f.placeholder),"$$scope"in f&&t(6,s=f.$$scope)},[o,a,n,u,l,c,s]}class RX extends x{constructor(e){super(),J(this,e,PX,AX,Q,{searchQuery:0,placeholder:1})}}const OX=r=>({}),pb=r=>({}),LX=r=>({}),gb=r=>({slot:"action"}),NX=r=>({}),hb=r=>({slot:"resultInfo"});function FX(r){let e;const t=r[2].action,n=Ie(t,r,r[5],gb);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,LX):Pe(l[5]),gb)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function HX(r){let e;const t=r[2].resultInfo,n=Ie(t,r,r[5],hb);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,NX):Pe(l[5]),hb)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function zX(r){let e,t,n,l,s;function i(c){r[3](c)}let o={placeholder:r[1],$$slots:{resultInfo:[HX],action:[FX]},$$scope:{ctx:r}};r[0]!==void 0&&(o.searchQuery=r[0]),t=new RX({props:o}),Te.push(()=>Oe(t,"searchQuery",i)),t.$on("clear",r[4]);const a=r[2].content,u=Ie(a,r,r[5],pb);return{c(){e=M("div"),C(t.$$.fragment),l=N(),u&&u.c(),D(e,"class","container svelte-1sw9gq")},m(c,f){w(c,e,f),y(t,e,null),I(e,l),u&&u.m(e,null),s=!0},p(c,[f]){const m={};f&2&&(m.placeholder=c[1]),f&32&&(m.$$scope={dirty:f,ctx:c}),!n&&f&1&&(n=!0,m.searchQuery=c[0],Ne(()=>n=!1)),t.$set(m),u&&u.p&&(!s||f&32)&&Ae(u,a,c,c[5],s?Me(a,c[5],f,OX):Pe(c[5]),pb)},i(c){s||(_(t.$$.fragment,c),_(u,c),s=!0)},o(c){g(t.$$.fragment,c),g(u,c),s=!1},d(c){c&&v(e),S(t),u&&u.d(c)}}}function VX(r,e,t){let{$$slots:n={},$$scope:l}=e,{searchPlaceholder:s}=e,{searchQuery:i}=e;function o(u){i=u,t(0,i)}function a(u){ye.call(this,r,u)}return r.$$set=u=>{"searchPlaceholder"in u&&t(1,s=u.searchPlaceholder),"searchQuery"in u&&t(0,i=u.searchQuery),"$$scope"in u&&t(5,l=u.$$scope)},[i,s,n,o,a,l]}class Ho extends x{constructor(e){super(),J(this,e,VX,zX,Q,{searchPlaceholder:1,searchQuery:0})}}const qX=" | ";function BX(r){const e=Ve(En),t=[...r];return e&&t.push(e.name),t.push(Ve(ge)("mathesar")),t.join(qX)}function Pn(r){return BX([r])}function bb(r){let e,t,n,l,s,i;return n=new dt({props:{appearance:"secondary",$$slots:{default:[UX]},$$scope:{ctx:r}}}),n.$on("click",r[8]),s=new dt({props:{appearance:"outline-primary",$$slots:{default:[WX]},$$scope:{ctx:r}}}),s.$on("click",r[9]),{c(){e=M("td"),t=M("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),D(t,"class","actions svelte-1dbjtxe"),D(e,"class","svelte-1dbjtxe")},m(o,a){w(o,e,a),I(e,t),y(n,t,null),I(t,l),y(s,t,null),i=!0},p(o,a){const u={};a&1028&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a&1028&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){o&&v(e),S(n),S(s)}}}function UX(r){let e,t,n,l=r[2]("edit")+"",s,i;const o=[vl];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(vl)]):{};e.$set(f),(!i||c&4)&&l!==(l=u[2]("edit")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function WX(r){let e,t,n,l=r[2]("delete")+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&4)&&l!==(l=u[2]("delete")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function jX(r){let e,t,n,l,s,i=r[0].nickname+"",o,a,u,c,f=r[0].database+"",m,d,p,h=r[0].username+"",b,$,k,T=r[0].host+"",E,A,P,O=r[0].port+"",R,F,L,U,W,H,z;const te=[Yl];let se={};for(let V=0;V<te.length;V+=1)se=le(se,te[V]);l=new Be({props:se});let B=r[1]&&bb(r);return U=new Py({props:{controller:r[4],connection:r[0]}}),H=new Ry({props:{controller:r[5],connection:r[0]}}),{c(){e=M("tr"),t=M("td"),n=M("a"),C(l.$$.fragment),s=N(),o=q(i),u=N(),c=M("td"),m=q(f),d=N(),p=M("td"),b=q(h),$=N(),k=M("td"),E=q(T),A=N(),P=M("td"),R=q(O),F=N(),B&&B.c(),L=N(),C(U.$$.fragment),W=N(),C(H.$$.fragment),D(n,"href",a=sl(r[0].id)),D(t,"class","svelte-1dbjtxe"),D(c,"class","svelte-1dbjtxe"),D(p,"class","svelte-1dbjtxe"),D(k,"class","svelte-1dbjtxe"),D(P,"class","svelte-1dbjtxe"),D(e,"data-identifier","connection-row"),D(e,"class","grid-row svelte-1dbjtxe")},m(V,ee){w(V,e,ee),I(e,t),I(t,n),y(l,n,null),I(n,s),I(n,o),I(e,u),I(e,c),I(c,m),I(e,d),I(e,p),I(p,b),I(e,$),I(e,k),I(k,E),I(e,A),I(e,P),I(P,R),I(e,F),B&&B.m(e,null),w(V,L,ee),y(U,V,ee),w(V,W,ee),y(H,V,ee),z=!0},p(V,[ee]){const ie=ee&0?de(te,[$e(Yl)]):{};l.$set(ie),(!z||ee&1)&&i!==(i=V[0].nickname+"")&&Y(o,i),(!z||ee&1&&a!==(a=sl(V[0].id)))&&D(n,"href",a),(!z||ee&1)&&f!==(f=V[0].database+"")&&Y(m,f),(!z||ee&1)&&h!==(h=V[0].username+"")&&Y(b,h),(!z||ee&1)&&T!==(T=V[0].host+"")&&Y(E,T),(!z||ee&1)&&O!==(O=V[0].port+"")&&Y(R,O),V[1]?B?(B.p(V,ee),ee&2&&_(B,1)):(B=bb(V),B.c(),_(B,1),B.m(e,null)):B&&(G(),g(B,1,1,()=>{B=null}),K());const _e={};ee&1&&(_e.connection=V[0]),U.$set(_e);const ae={};ee&1&&(ae.connection=V[0]),H.$set(ae)},i(V){z||(_(l.$$.fragment,V),_(B),_(U.$$.fragment,V),_(H.$$.fragment,V),z=!0)},o(V){g(l.$$.fragment,V),g(B),g(U.$$.fragment,V),g(H.$$.fragment,V),z=!1},d(V){V&&v(e),S(l),B&&B.d(),V&&v(L),S(U,V),V&&v(W),S(H,V)}}}function YX(r,e,t){let n,l,s,i;Z(r,ge,d=>t(2,i=d));const o=Zt();Z(r,o,d=>t(7,s=d));const a=Bn.spawnModalController(),u=Bn.spawnModalController();let{connection:c}=e;const f=()=>a.open(),m=()=>u.open();return r.$$set=d=>{"connection"in d&&t(0,c=d.connection)},r.$$.update=()=>{r.$$.dirty&128&&t(6,n=s),r.$$.dirty&64&&t(1,l=n==null?void 0:n.isSuperUser)},[c,l,i,o,a,u,n,s,f,m]}class GX extends x{constructor(e){super(),J(this,e,YX,jX,Q,{connection:0})}}function $b(r,e,t){const n=r.slice();return n[13]=e[t],n}function vb(r){let e,t=r[1].size+"",n,l;return{c(){e=q("("),n=q(t),l=q(")")},m(s,i){w(s,e,i),w(s,n,i),w(s,l,i)},p(s,i){i&2&&t!==(t=s[1].size+"")&&Y(n,t)},d(s){s&&v(e),s&&v(n),s&&v(l)}}}function KX(r){let e,t,n;function l(i){r[12](i)}let s={searchPlaceholder:r[5]("search_database_connections"),$$slots:{content:[eQ],resultInfo:[xX],action:[ZX]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.searchQuery=r[0]),e=new Ho({props:s}),Te.push(()=>Oe(e,"searchQuery",l)),e.$on("clear",r[8]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.searchPlaceholder=i[5]("search_database_connections")),o&131125&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.searchQuery=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function XX(r){let e,t;return e=new Ay({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wb(r){let e,t;return e=new dt({props:{appearance:"primary",$$slots:{default:[QX]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131104&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function QX(r){let e,t,n,l=r[5]("add_database_connection")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&32)&&l!==(l=u[5]("add_database_connection")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function ZX(r){let e,t,n=r[4]&&wb(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[4]?n?(n.p(l,s),s&16&&_(n,1)):(n=wb(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function kb(r){let e,t;return{c(){e=M("strong"),t=q(r[0])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&1&&Y(t,n[0])},d(n){n&&v(e)}}}function JX(r){let e,t=r[16]==="searchValue"&&kb(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[16]==="searchValue"?t?t.p(n,l):(t=kb(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function xX(r){let e,t,n;return t=new St({props:{text:r[5]("connections_matching_search",{values:{count:r[2].length}}),$$slots:{default:[JX,({slotName:l})=>({16:l}),({slotName:l})=>l?65536:0]},$$scope:{ctx:r}}}),{c(){e=M("p"),C(t.$$.fragment),D(e,"slot","resultInfo")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&36&&(i.text=l[5]("connections_matching_search",{values:{count:l[2].length}})),s&196609&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function yb(r){let e,t,n,l,s,i=r[5]("connection_name")+"",o,a,u,c=r[5]("database_name")+"",f,m,d,p=r[5]("username")+"",h,b,$,k=r[5]("host")+"",T,E,A,P=r[5]("port")+"",O,R,F,L,U=[],W=new Map,H,z=r[4]&&Sb(r),te=r[2];const se=B=>B[13].id;for(let B=0;B<te.length;B+=1){let V=$b(r,te,B),ee=se(V);W.set(ee,U[B]=Cb(ee,V))}return{c(){e=M("div"),t=M("table"),n=M("thead"),l=M("tr"),s=M("th"),o=q(i),a=N(),u=M("th"),f=q(c),m=N(),d=M("th"),h=q(p),b=N(),$=M("th"),T=q(k),E=N(),A=M("th"),O=q(P),R=N(),z&&z.c(),F=N(),L=M("tbody");for(let B=0;B<U.length;B+=1)U[B].c();D(s,"class","svelte-56otxr"),D(u,"class","svelte-56otxr"),D(d,"class","svelte-56otxr"),D($,"class","svelte-56otxr"),D(A,"class","svelte-56otxr"),D(n,"class","svelte-56otxr"),D(L,"class","svelte-56otxr"),D(t,"class","svelte-56otxr"),D(e,"data-identifier","connections-list-grid"),D(e,"class","svelte-56otxr")},m(B,V){w(B,e,V),I(e,t),I(t,n),I(n,l),I(l,s),I(s,o),I(l,a),I(l,u),I(u,f),I(l,m),I(l,d),I(d,h),I(l,b),I(l,$),I($,T),I(l,E),I(l,A),I(A,O),I(l,R),z&&z.m(l,null),I(t,F),I(t,L);for(let ee=0;ee<U.length;ee+=1)U[ee].m(L,null);H=!0},p(B,V){(!H||V&32)&&i!==(i=B[5]("connection_name")+"")&&Y(o,i),(!H||V&32)&&c!==(c=B[5]("database_name")+"")&&Y(f,c),(!H||V&32)&&p!==(p=B[5]("username")+"")&&Y(h,p),(!H||V&32)&&k!==(k=B[5]("host")+"")&&Y(T,k),(!H||V&32)&&P!==(P=B[5]("port")+"")&&Y(O,P),B[4]?z?z.p(B,V):(z=Sb(B),z.c(),z.m(l,null)):z&&(z.d(1),z=null),V&4&&(te=B[2],G(),U=gt(U,V,se,1,B,te,W,L,bt,Cb,null,$b),K())},i(B){if(!H){for(let V=0;V<te.length;V+=1)_(U[V]);H=!0}},o(B){for(let V=0;V<U.length;V+=1)g(U[V]);H=!1},d(B){B&&v(e),z&&z.d();for(let V=0;V<U.length;V+=1)U[V].d()}}}function Sb(r){let e,t=r[5]("actions")+"",n;return{c(){e=M("th"),n=q(t),D(e,"class","svelte-56otxr")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&32&&t!==(t=l[5]("actions")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Cb(r,e){let t,n,l;return n=new GX({props:{connection:e[13]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&4&&(o.connection=e[13]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function eQ(r){let e,t,n=r[2].length&&yb(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[2].length?n?(n.p(l,s),s&4&&_(n,1)):(n=yb(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function tQ(r){let e,t,n=r[5]("database_connections")+"",l,s,i,o,a,u,c,f=r[1].size&&vb(r);const m=[XX,KX],d=[];function p(h,b){return h[1].size===0?0:1}return a=p(r),u=d[a]=m[a](r),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),f&&f.c(),i=N(),o=M("section"),u.c(),D(t,"class","svelte-56otxr"),D(e,"data-identifier","connections-header"),D(e,"class","svelte-56otxr"),D(o,"data-identifier","connections-container"),D(o,"class","svelte-56otxr")},m(h,b){w(h,e,b),I(e,t),I(t,l),I(t,s),f&&f.m(t,null),w(h,i,b),w(h,o,b),d[a].m(o,null),c=!0},p(h,b){(!c||b&32)&&n!==(n=h[5]("database_connections")+"")&&Y(l,n),h[1].size?f?f.p(h,b):(f=vb(h),f.c(),f.m(t,null)):f&&(f.d(1),f=null);let $=a;a=p(h),a===$?d[a].p(h,b):(G(),g(d[$],1,1,()=>{d[$]=null}),K(),u=d[a],u?u.p(h,b):(u=d[a]=m[a](h),u.c()),_(u,1),u.m(o,null))},i(h){c||(_(u),c=!0)},o(h){g(u),c=!1},d(h){h&&v(e),f&&f.d(),h&&v(i),h&&v(o),d[a].d()}}}function nQ(r){let e,t,n,l,s,i;return document.title=e=Pn(r[5]("connections")),n=new kr({props:{restrictWidth:!0,cssVariables:{"--page-padding":"0","--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{default:[tQ]},$$scope:{ctx:r}}}),s=new My({props:{controller:r[6]}}),{c(){t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,[a]){(!i||a&32)&&e!==(e=Pn(o[5]("connections")))&&(document.title=e);const u={};a&131127&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){i||(_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function rQ(r,e){if(!e)return r;const t=e.trim().toLowerCase(),n=l=>l.toLowerCase().includes(t);return r.filter(l=>n(l.nickname)||n(l.database))}function lQ(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(s,k=>t(1,o=k)),s),c,f;Z(r,ge,k=>t(5,f=k)),r.$$.on_destroy.push(()=>a());const m=Bn.spawnModalController(),d=Zt();Z(r,d,k=>t(10,c=k));let p="";function h(){t(0,p="")}const b=()=>m.open();function $(k){p=k,t(0,p)}return r.$$.update=()=>{r.$$.dirty&1024&&t(9,n=c),r.$$.dirty&512&&t(4,l=n==null?void 0:n.isSuperUser),r.$$.dirty&3&&t(2,i=rQ([...o.values()],p))},u(t(3,{connections:s}=Hn,s)),[p,o,i,s,l,f,m,d,h,n,c,b,$]}class sQ extends x{constructor(e){super(),J(this,e,lQ,nQ,Q,{})}}function iQ(r,e){const t=r[Symbol.iterator](),n=t.next();return n.done?e.whenZero:t.next().done?e.whenOne(n.value):e.whenMany}const oQ=r=>({}),Tb=r=>({}),aQ=r=>({}),Eb=r=>({});function Db(r){let e,t;return{c(){e=M("span"),t=q(r[1]),D(e,"class","entity-type svelte-172pybh")},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&2&&Y(t,n[1])},d(n){n&&v(e)}}}function uQ(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p;const h=[r[0],{size:"2em"}];let b={};for(let P=0;P<h.length;P+=1)b=le(b,h[P]);i=new Be({props:b});let $=r[1]&&Db(r);const k=r[4].action,T=Ie(k,r,r[3],Eb),E=r[4].bottom,A=Ie(E,r,r[3],Tb);return{c(){e=M("div"),t=M("div"),n=M("div"),l=M("div"),s=M("div"),C(i.$$.fragment),o=N(),a=M("div"),$&&$.c(),u=N(),c=M("span"),f=q(r[2]),m=N(),T&&T.c(),d=N(),A&&A.c(),D(s,"class","entity-icon svelte-172pybh"),D(c,"class","entity-name svelte-172pybh"),D(a,"class","left-meta-container svelte-172pybh"),D(l,"class","entity-container svelte-172pybh"),D(n,"class","left"),D(t,"class","top svelte-172pybh"),D(e,"class","container svelte-172pybh")},m(P,O){w(P,e,O),I(e,t),I(t,n),I(n,l),I(l,s),y(i,s,null),I(l,o),I(l,a),$&&$.m(a,null),I(a,u),I(a,c),I(c,f),I(t,m),T&&T.m(t,null),I(e,d),A&&A.m(e,null),p=!0},p(P,[O]){const R=O&1?de(h,[$e(P[0]),h[1]]):{};i.$set(R),P[1]?$?$.p(P,O):($=Db(P),$.c(),$.m(a,u)):$&&($.d(1),$=null),(!p||O&4)&&Y(f,P[2]),T&&T.p&&(!p||O&8)&&Ae(T,k,P,P[3],p?Me(k,P[3],O,aQ):Pe(P[3]),Eb),A&&A.p&&(!p||O&8)&&Ae(A,E,P,P[3],p?Me(E,P[3],O,oQ):Pe(P[3]),Tb)},i(P){p||(_(i.$$.fragment,P),_(T,P),_(A,P),p=!0)},o(P){g(i.$$.fragment,P),g(T,P),g(A,P),p=!1},d(P){P&&v(e),S(i),$&&$.d(),T&&T.d(P),A&&A.d(P)}}}function cQ(r,e,t){let{$$slots:n={},$$scope:l}=e,{icon:s}=e,{type:i=void 0}=e,{name:o}=e;return r.$$set=a=>{"icon"in a&&t(0,s=a.icon),"type"in a&&t(1,i=a.type),"name"in a&&t(2,o=a.name),"$$scope"in a&&t(3,l=a.$$scope)},[s,i,o,l,n]}class fQ extends x{constructor(e){super(),J(this,e,cQ,uQ,Q,{icon:0,type:1,name:2})}}const mQ=r=>({}),Ib=r=>({slot:"action"}),dQ=r=>({}),Mb=r=>({slot:"bottom"});function _Q(r){let e;const t=r[3].action,n=Ie(t,r,r[4],Ib);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16)&&Ae(n,t,l,l[4],e?Me(t,l[4],s,mQ):Pe(l[4]),Ib)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function pQ(r){let e;const t=r[3].bottom,n=Ie(t,r,r[4],Mb);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16)&&Ae(n,t,l,l[4],e?Me(t,l[4],s,dQ):Pe(l[4]),Mb)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function gQ(r){let e,t,n,l,s;const i=[r[0]];let o={$$slots:{bottom:[pQ],action:[_Q]},$$scope:{ctx:r}};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return l=new fQ({props:o}),{c(){e=M("div"),t=M("div"),n=M("div"),C(l.$$.fragment),D(n,"class","page-title-and-meta-container"),D(t,"class","content svelte-1ah9c17"),re(t,"restrict-width",r[1]),D(e,"class","container svelte-1ah9c17"),re(e,"theme-dark",r[2]==="dark"),re(e,"theme-light",r[2]==="light")},m(a,u){w(a,e,u),I(e,t),I(t,n),y(l,n,null),s=!0},p(a,[u]){const c=u&1?de(i,[$e(a[0])]):{};u&16&&(c.$$scope={dirty:u,ctx:a}),l.$set(c),(!s||u&2)&&re(t,"restrict-width",a[1]),(!s||u&4)&&re(e,"theme-dark",a[2]==="dark"),(!s||u&4)&&re(e,"theme-light",a[2]==="light")},i(a){s||(_(l.$$.fragment,a),s=!0)},o(a){g(l.$$.fragment,a),s=!1},d(a){a&&v(e),S(l)}}}function hQ(r,e,t){let{$$slots:n={},$$scope:l}=e,{pageTitleAndMetaProps:s}=e,{restrictWidth:i=!0}=e,{theme:o=void 0}=e;return r.$$set=a=>{"pageTitleAndMetaProps"in a&&t(0,s=a.pageTitleAndMetaProps),"restrictWidth"in a&&t(1,i=a.restrictWidth),"theme"in a&&t(2,o=a.theme),"$$scope"in a&&t(4,l=a.$$scope)},[s,i,o,n,l]}class Bm extends x{constructor(e){super(),J(this,e,hQ,gQ,Q,{pageTitleAndMetaProps:0,restrictWidth:1,theme:2})}}function bQ(r){let e=An(r[0])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=An(n[0])+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function $Q(r){let e=r[4]("latest_availabe_version_not_installed")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("latest_availabe_version_not_installed")+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function vQ(r){let e,t,n=r[4]("currently_installed")+"",l,s;const i=[Pa];let o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return e=new Be({props:o}),{c(){C(e.$$.fragment),t=N(),l=q(n)},m(a,u){y(e,a,u),w(a,t,u),w(a,l,u),s=!0},p(a,u){const c=u&0?de(i,[$e(Pa)]):{};e.$set(c),(!s||u&16)&&n!==(n=a[4]("currently_installed")+"")&&Y(l,n)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),s=!1},d(a){S(e,a),a&&v(t),a&&v(l)}}}function wQ(r){let e,t,n=r[4]("running_latest_version")+"",l,s;const i=[Pa];let o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return e=new Be({props:o}),{c(){C(e.$$.fragment),t=N(),l=q(n)},m(a,u){y(e,a,u),w(a,t,u),w(a,l,u),s=!0},p(a,u){const c=u&0?de(i,[$e(Pa)]):{};e.$set(c),(!s||u&16)&&n!==(n=a[4]("running_latest_version")+"")&&Y(l,n)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),s=!1},d(a){S(e,a),a&&v(t),a&&v(l)}}}function kQ(r){let e,t,n=r[4]("new_version_available")+"",l,s;const i=[D1];let o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return e=new Be({props:o}),{c(){C(e.$$.fragment),t=N(),l=q(n)},m(a,u){y(e,a,u),w(a,t,u),w(a,l,u),s=!0},p(a,u){const c=u&0?de(i,[$e(D1)]):{};e.$set(c),(!s||u&16)&&n!==(n=a[4]("new_version_available")+"")&&Y(l,n)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){g(e.$$.fragment,a),s=!1},d(a){S(e,a),a&&v(t),a&&v(l)}}}function yQ(r){let e=r[4]("release_notes")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("release_notes")+"")&&Y(t,e)},d(n){n&&v(t)}}}function SQ(r){let e=r[4]("release_notes_and_upgrade_instructions")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("release_notes_and_upgrade_instructions")+"")&&Y(t,e)},d(n){n&&v(t)}}}function CQ(r){let e,t,n,l,s,i,o,a,u,c,f,m=r[4]("mathesar")+"",d,p,h,b=r[1].tagName+"",$,k,T,E,A=r[4]("released_date",{values:{date:r[3]}})+"",P,O,R,F,L,U;const W=[kQ,wQ,vQ,$Q,bQ],H=[];function z(ie,_e){return ie[0]==="available-upgrade"?0:ie[0]==="currently-installed-and-latest"?1:ie[0]==="current"?2:ie[0]==="latest"?3:4}n=z(r),l=H[n]=W[n](r),u=new Dy({});function te(ie,_e){return ie[0]==="available-upgrade"?SQ:yQ}let se=te(r),B=se(r);const V=[Zs];let ee={};for(let ie=0;ie<V.length;ie+=1)ee=le(ee,V[ie]);return L=new Be({props:ee}),{c(){e=M("div"),t=M("div"),l.c(),s=N(),i=M("div"),o=M("div"),a=M("div"),C(u.$$.fragment),c=N(),f=M("div"),d=q(m),p=N(),h=M("div"),$=q(b),k=N(),T=M("div"),E=M("div"),P=q(A),O=N(),R=M("a"),B.c(),F=N(),C(L.$$.fragment),D(t,"class","type svelte-rlmklc"),D(a,"class","logo svelte-rlmklc"),D(f,"class","name svelte-rlmklc"),D(h,"class","version svelte-rlmklc"),D(o,"class","left svelte-rlmklc"),D(E,"class","date"),D(R,"href",r[2]),D(R,"class","notes svelte-rlmklc"),D(R,"target","_blank"),D(T,"class","right svelte-rlmklc"),D(i,"class","details svelte-rlmklc"),D(e,"class","release svelte-rlmklc"),re(e,"available-upgrade",r[0]==="available-upgrade"),re(e,"currently-installed-and-latest",r[0]==="currently-installed-and-latest")},m(ie,_e){w(ie,e,_e),I(e,t),H[n].m(t,null),I(e,s),I(e,i),I(i,o),I(o,a),y(u,a,null),I(o,c),I(o,f),I(f,d),I(o,p),I(o,h),I(h,$),I(i,k),I(i,T),I(T,E),I(E,P),I(T,O),I(T,R),B.m(R,null),I(R,F),y(L,R,null),U=!0},p(ie,[_e]){let ae=n;n=z(ie),n===ae?H[n].p(ie,_e):(G(),g(H[ae],1,1,()=>{H[ae]=null}),K(),l=H[n],l?l.p(ie,_e):(l=H[n]=W[n](ie),l.c()),_(l,1),l.m(t,null)),(!U||_e&16)&&m!==(m=ie[4]("mathesar")+"")&&Y(d,m),(!U||_e&2)&&b!==(b=ie[1].tagName+"")&&Y($,b),(!U||_e&24)&&A!==(A=ie[4]("released_date",{values:{date:ie[3]}})+"")&&Y(P,A),se===(se=te(ie))&&B?B.p(ie,_e):(B.d(1),B=se(ie),B&&(B.c(),B.m(R,F)));const fe=_e&0?de(V,[$e(Zs)]):{};L.$set(fe),(!U||_e&4)&&D(R,"href",ie[2]),(!U||_e&1)&&re(e,"available-upgrade",ie[0]==="available-upgrade"),(!U||_e&1)&&re(e,"currently-installed-and-latest",ie[0]==="currently-installed-and-latest")},i(ie){U||(_(l),_(u.$$.fragment,ie),_(L.$$.fragment,ie),U=!0)},o(ie){g(l),g(u.$$.fragment,ie),g(L.$$.fragment,ie),U=!1},d(ie){ie&&v(e),H[n].d(),S(u),B.d(),S(L)}}}function TQ(r,e,t){let n,l,s,i;Z(r,ge,u=>t(4,i=u));let{type:o}=e,{release:a}=e;return r.$$set=u=>{"type"in u&&t(0,o=u.type),"release"in u&&t(1,a=u.release)},r.$$.update=()=>{r.$$.dirty&2&&t(5,n=new Date(a.date)),r.$$.dirty&32&&t(3,l=n.toLocaleDateString()),r.$$.dirty&2&&t(2,s=`https://docs.mathesar.org/releases/${a.tagName}/`)},[o,a,s,l,i,n]}class _s extends x{constructor(e){super(),J(this,e,TQ,CQ,Q,{type:0,release:1})}}function EQ(r){const e=r.slice(),t=e[1];e[10]=t.value;const n=e[10];return e[11]=n.current,e[12]=n.latest,e}function DQ(r){let e,t=r[6]("loading_release_data")+"",n,l,s,i,o;return i=new yn({}),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment)},m(a,u){w(a,e,u),I(e,n),w(a,l,u),w(a,s,u),y(i,s,null),o=!0},p(a,u){(!o||u&64)&&t!==(t=a[6]("loading_release_data")+"")&&Y(n,t)},i(a){o||(_(i.$$.fragment,a),o=!0)},o(a){g(i.$$.fragment,a),o=!1},d(a){a&&v(e),a&&v(l),a&&v(s),S(i)}}}function IQ(r){let e,t,n,l;const s=[NQ,LQ,OQ,RQ,PQ,AQ,MQ],i=[];function o(a,u){return a[5]?0:a[11]?a[3]==="up-to-date"?2:a[12]?a[3]==="upgradable"?4:a[3]===void 0?5:6:3:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","releases svelte-jzxcls")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function MQ(r){let e=An(r[3])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=An(n[3])+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function AQ(r){let e,t,n,l;return e=new _s({props:{release:r[11],type:"current"}}),n=new _s({props:{release:r[12],type:"latest"}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&2&&(o.release=s[11]),e.$set(o);const a={};i&2&&(a.release=s[12]),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function PQ(r){let e,t,n,l;return e=new _s({props:{release:r[12],type:"available-upgrade"}}),n=new _s({props:{release:r[11],type:"current"}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&2&&(o.release=s[12]),e.$set(o);const a={};i&2&&(a.release=s[11]),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function RQ(r){let e,t,n,l;return e=new _s({props:{release:r[11],type:"current"}}),n=new Yn({props:{$$slots:{default:[FQ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&2&&(o.release=s[11]),e.$set(o);const a={};i&16448&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function OQ(r){let e,t;return e=new _s({props:{release:r[11],type:"currently-installed-and-latest"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.release=n[11]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function LQ(r){let e,t,n,l;e=new Yn({props:{$$slots:{default:[zQ]},$$scope:{ctx:r}}});let s=r[12]&&Pb(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&16450&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[12]?s?(s.p(i,o),o&2&&_(s,1)):(s=Pb(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function NQ(r){let e,t=r[6]("loading_release_data")+"",n,l,s,i,o;return i=new yn({}),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment)},m(a,u){w(a,e,u),I(e,n),w(a,l,u),w(a,s,u),y(i,s,null),o=!0},p(a,u){(!o||u&64)&&t!==(t=a[6]("loading_release_data")+"")&&Y(n,t)},i(a){o||(_(i.$$.fragment,a),o=!0)},o(a){g(i.$$.fragment,a),o=!1},d(a){a&&v(e),a&&v(l),a&&v(s),S(i)}}}function FQ(r){let e=r[6]("unable_to_load_data_latest_release")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[6]("unable_to_load_data_latest_release")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Ab(r){let e,t=r[1].inputHash+"",n;return{c(){e=M("strong"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1].inputHash+"")&&Y(n,t)},d(l){l&&v(e)}}}function HQ(r){let e,t=r[13]==="version"&&Ab(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[13]==="version"?t?t.p(n,l):(t=Ab(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function zQ(r){let e,t;return e=new St({props:{text:r[6]("unable_to_load_release_data"),$$slots:{default:[HQ,({slotName:n})=>({13:n}),({slotName:n})=>n?8192:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.text=n[6]("unable_to_load_release_data")),l&24578&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pb(r){let e,t;return e=new _s({props:{release:r[12],type:"latest"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.release=n[12]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rb(r){let e=r[6]("last_checked")+"",t,n,l;return{c(){t=q(e),n=q(": "),l=q(r[2])},m(s,i){w(s,t,i),w(s,n,i),w(s,l,i)},p(s,i){i&64&&e!==(e=s[6]("last_checked")+"")&&Y(t,e),i&4&&Y(l,s[2])},d(s){s&&v(t),s&&v(n),s&&v(l)}}}function VQ(r){let e,t,n,l,s,i,o,a;const u=[IQ,DQ],c=[];function f(p,h){return p[1]?0:1}function m(p,h){return h===0?EQ(p):p}e=f(r),t=c[e]=u[e](m(r,e)),i=new Yr({props:{label:r[6]("check_for_updates"),appearance:"default",icon:ms,onClick:r[7]}});let d=r[2]&&Rb(r);return{c(){t.c(),n=N(),l=M("div"),s=M("div"),C(i.$$.fragment),o=N(),d&&d.c(),D(s,"class","check-button svelte-jzxcls"),D(l,"class","store-status svelte-jzxcls")},m(p,h){c[e].m(p,h),w(p,n,h),w(p,l,h),I(l,s),y(i,s,null),I(l,o),d&&d.m(l,null),a=!0},p(p,[h]){let b=e;e=f(p),e===b?c[e].p(m(p,e),h):(G(),g(c[b],1,1,()=>{c[b]=null}),K(),t=c[e],t?t.p(m(p,e),h):(t=c[e]=u[e](m(p,e)),t.c()),_(t,1),t.m(n.parentNode,n));const $={};h&64&&($.label=p[6]("check_for_updates")),i.$set($),p[2]?d?d.p(p,h):(d=Rb(p),d.c(),d.m(l,null)):d&&(d.d(1),d=null)},i(p){a||(_(t),_(i.$$.fragment,p),a=!0)},o(p){g(t),g(i.$$.fragment,p),a=!1},d(p){c[e].d(p),p&&v(n),p&&v(l),S(i),d&&d.d()}}}function qQ(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(h,$=>t(9,a=$)),h),f,m=j,d=()=>(m(),m=ue(l,$=>t(5,f=$)),l),p;Z(r,ge,$=>t(6,p=$)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{releaseDataStore:h}=e;c();async function b(){try{await h.forceFetch()}catch($){Tt.fromError($)}}return r.$$set=$=>{"releaseDataStore"in $&&c(t(0,h=$.releaseDataStore))},r.$$.update=()=>{r.$$.dirty&512&&t(1,n=a),r.$$.dirty&1&&d(t(4,{loading:l}=h,l)),r.$$.dirty&512&&t(8,s=a==null?void 0:a.value),r.$$.dirty&256&&t(3,i=s==null?void 0:s.upgradeStatus),r.$$.dirty&2&&t(2,o=(()=>{if(!!n)return new Date(n.timestamp).toLocaleString()})())},[h,n,o,i,l,f,p,b,s,a]}class BQ extends x{constructor(e){super(),J(this,e,qQ,VQ,Q,{releaseDataStore:0})}}function UQ(r){let e,t;return e=new Yn({props:{$$slots:{default:[jQ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function WQ(r){let e,t;return e=new BQ({props:{releaseDataStore:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jQ(r){let e=r[0]("release_data_store_not_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0]("release_data_store_not_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function YQ(r){let e,t,n,l=r[0]("software_update")+"",s,i,o,a,u,c;document.title=e=Pn(r[0]("software_update"));const f=[WQ,UQ],m=[];function d(p,h){return p[1]?0:1}return o=d(r),a=m[o]=f[o](r),{c(){t=N(),n=M("h1"),s=q(l),i=N(),a.c(),u=oe()},m(p,h){w(p,t,h),w(p,n,h),I(n,s),w(p,i,h),m[o].m(p,h),w(p,u,h),c=!0},p(p,[h]){(!c||h&1)&&e!==(e=Pn(p[0]("software_update")))&&(document.title=e),(!c||h&1)&&l!==(l=p[0]("software_update")+"")&&Y(s,l),a.p(p,h)},i(p){c||(_(a),c=!0)},o(p){g(a),c=!1},d(p){p&&v(t),p&&v(n),p&&v(i),m[o].d(p),p&&v(u)}}}function GQ(r,e,t){let n;Z(r,ge,s=>t(0,n=s));const l=Du();return[n,l]}class KQ extends x{constructor(e){super(),J(this,e,GQ,YQ,Q,{})}}function XQ(r){let e=r[1]("update")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("update")+"")&&Y(t,e)},d(n){n&&v(t)}}}function QQ(r){let e=r[1]("users")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("users")+"")&&Y(t,e)},d(n){n&&v(t)}}}function ZQ(r){let e,t,n,l,s,i,o,a;return t=new va({props:{icon:Gl,hasNotificationDot:r[0],$$slots:{default:[XQ]},$$scope:{ctx:r}}}),s=new va({props:{icon:nf,$$slots:{default:[QQ]},$$scope:{ctx:r}}}),{c(){e=M("a"),C(t.$$.fragment),n=N(),l=M("a"),C(s.$$.fragment),D(e,"role","menuitem"),D(e,"href",Oa),D(e,"class","menu-item menu-item-link"),D(l,"role","menuitem"),D(l,"href",oo),D(l,"class","menu-item menu-item-link")},m(u,c){w(u,e,c),y(t,e,null),w(u,n,c),w(u,l,c),y(s,l,null),i=!0,o||(a=[Dn(uh.call(null,e)),Dn(uh.call(null,l))],o=!0)},p(u,c){const f={};c&1&&(f.hasNotificationDot=u[0]),c&18&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const m={};c&18&&(m.$$scope={dirty:c,ctx:u}),s.$set(m)},i(u){i||(_(t.$$.fragment,u),_(s.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){u&&v(e),S(t),u&&v(n),u&&v(l),S(s),o=!1,It(a)}}}function JQ(r){let e,t,n;return t=new Rf({props:{$$slots:{default:[ZQ]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","admin-navigation svelte-gfwa81")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&19&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function xQ(r,e,t){let n,l,s;Z(r,ge,o=>t(1,s=o));const i=Du();return Z(r,i,o=>t(3,l=o)),r.$$.update=()=>{var o;r.$$.dirty&8&&t(0,n=((o=l==null?void 0:l.value)==null?void 0:o.upgradeStatus)==="upgradable")},[n,s,i,l]}class eZ extends x{constructor(e){super(),J(this,e,xQ,JQ,Q,{})}}const tZ=r=>({}),Ob=r=>({});function nZ(r){let e,t,n,l,s;const i=r[3].sidebar,o=Ie(i,r,r[2],Ob),a=r[3].default,u=Ie(a,r,r[2],null);return{c(){e=M("div"),t=M("aside"),o&&o.c(),n=N(),l=M("main"),u&&u.c(),D(t,"class","svelte-18prej4"),D(l,"class","svelte-18prej4"),D(e,"class","page-sidebar-layout svelte-18prej4"),D(e,"style",r[0])},m(c,f){w(c,e,f),I(e,t),o&&o.m(t,null),I(e,n),I(e,l),u&&u.m(l,null),s=!0},p(c,[f]){o&&o.p&&(!s||f&4)&&Ae(o,i,c,c[2],s?Me(i,c[2],f,tZ):Pe(c[2]),Ob),u&&u.p&&(!s||f&4)&&Ae(u,a,c,c[2],s?Me(a,c[2],f,null):Pe(c[2]),null),(!s||f&1)&&D(e,"style",c[0])},i(c){s||(_(o,c),_(u,c),s=!0)},o(c){g(o,c),g(u,c),s=!1},d(c){c&&v(e),o&&o.d(c),u&&u.d(c)}}}function rZ(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{cssVariables:i=void 0}=e;return r.$$set=o=>{"cssVariables"in o&&t(1,i=o.cssVariables),"$$scope"in o&&t(2,s=o.$$scope)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=i?Ji(i):void 0)},[n,i,s,l]}class lZ extends x{constructor(e){super(),J(this,e,rZ,nZ,Q,{cssVariables:1})}}function sZ(r){let e,t;const n=r[2].default,l=Ie(n,r,r[1],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","input-row svelte-13nb3a2"),Cn(e,"display","contents")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&2)&&Ae(l,n,s,s[1],t?Me(n,s[1],i,null):Pe(s[1]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function iZ(r){let e;const t=r[2].default,n=Ie(t,r,r[1],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&2)&&Ae(n,t,l,l[1],e?Me(t,l[1],s,null):Pe(l[1]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function oZ(r){let e,t,n,l;const s=[iZ,sZ],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function aZ(r,e,t){let{$$slots:n={},$$scope:l}=e,{bypass:s=!1}=e;return r.$$set=i=>{"bypass"in i&&t(0,s=i.bypass),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class xu extends x{constructor(e){super(),J(this,e,aZ,oZ,Q,{bypass:0})}}const uZ=r=>({}),Lb=r=>({});function cZ(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},d(t){t&&v(e)}}}function Nb(r){let e,t,n,l=r[6].help&&Fb(r),s=r[1]&&Hb(r);return{c(){e=M("div"),l&&l.c(),t=N(),s&&s.c(),D(e,"class","help svelte-ahkni0")},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,o){i[6].help?l?(l.p(i,o),o&64&&_(l,1)):(l=Fb(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[1]?s?s.p(i,o):(s=Hb(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i(i){n||(_(l),n=!0)},o(i){g(l),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function Fb(r){let e;const t=r[7].help,n=Ie(t,r,r[8],Lb);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&256)&&Ae(n,t,l,l[8],e?Me(t,l[8],s,uZ):Pe(l[8]),Lb)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Hb(r){let e;return{c(){e=q(r[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&Y(e,t[1])},d(t){t&&v(e)}}}function fZ(r){let e,t,n,l,s,i,o,a;t=new fi({props:{controller:r[5],$$slots:{default:[cZ]},$$scope:{ctx:r}}}),i=new Vt({props:{field:r[2],input:r[3]}});let u=(r[6].help||r[1])&&Nb(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div"),s=M("div"),C(i.$$.fragment),o=N(),u&&u.c(),D(e,"class","left cell svelte-ahkni0"),D(s,"class","input"),D(l,"class","right cell")},m(c,f){w(c,e,f),y(t,e,null),w(c,n,f),w(c,l,f),I(l,s),y(i,s,null),I(l,o),u&&u.m(l,null),a=!0},p(c,f){const m={};f&257&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f&4&&(d.field=c[2]),f&8&&(d.input=c[3]),i.$set(d),c[6].help||c[1]?u?(u.p(c,f),f&66&&_(u,1)):(u=Nb(c),u.c(),_(u,1),u.m(l,null)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){a||(_(t.$$.fragment,c),_(i.$$.fragment,c),_(u),a=!0)},o(c){g(t.$$.fragment,c),g(i.$$.fragment,c),g(u),a=!1},d(c){c&&v(e),S(t),c&&v(n),c&&v(l),S(i),u&&u.d()}}}function mZ(r){let e,t;return e=new xu({props:{bypass:r[4],$$slots:{default:[fZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&16&&(s.bypass=n[4]),l&335&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function dZ(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n),i=new ko;let{label:o}=e,{help:a=void 0}=e,{field:u}=e,{input:c=void 0}=e,{bypassRow:f=!1}=e;return r.$$set=m=>{"label"in m&&t(0,o=m.label),"help"in m&&t(1,a=m.help),"field"in m&&t(2,u=m.field),"input"in m&&t(3,c=m.input),"bypassRow"in m&&t(4,f=m.bypassRow),"$$scope"in m&&t(8,l=m.$$scope)},Pf(i),[o,a,u,c,f,i,s,n,l]}class xr extends x{constructor(e){super(),J(this,e,dZ,mZ,Q,{label:0,help:1,field:2,input:3,bypassRow:4})}}const _Z="modulepreload",pZ=function(r){return"/static/"+r},zb={},Vb=function(e,t,n){return!t||t.length===0?e():Promise.all(t.map(l=>{if(l=pZ(l),l in zb)return;zb[l]=!0;const s=l.endsWith(".css"),i=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${i}`))return;const o=document.createElement("link");if(o.rel=s?"stylesheet":_Z,s||(o.as="script",o.crossOrigin=""),o.href=l,document.head.appendChild(o),s)return new Promise((a,u)=>{o.addEventListener("load",a),o.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>e())},gZ={en:()=>Vb(()=>import("./en.f0e8b819.js"),["assets/en.f0e8b819.js","assets/utils.c7180a40.js"]),ja:()=>Vb(()=>import("./ja.e19bbc3e.js"),["assets/ja.e19bbc3e.js","assets/utils.c7180a40.js"])};async function qb(r){return{default:(await gZ[r]()).default.dictionary}}function Oy(r){Zf.set("display_language",r)}async function hZ(r){r1("en",()=>qb("en")),r1("ja",()=>qb("ja"));const{translations:e}=window.Mathesar||{},t=e&&r?e[r]:void 0,n=r&&t?{language:r,dictionary:t}:void 0;n&&Q6(n.language,n.dictionary),await HR({fallbackLocale:"en",initialLocale:r}),Oy(r)}async function bZ(r){await ts.set(r),Oy(r)}function $Z(r){let e,t,n;const l=[r[3],{options:r[1]},{getLabel:r[2]}];function s(o){r[4](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Tn({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&14?de(l,[a&8&&$e(o[3]),a&2&&{options:o[1]},a&4&&{getLabel:o[2]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function vZ(r,e,t){const n=["value"];let l=Ye(e,n),s;Z(r,ge,c=>t(5,s=c));const i=["standard","admin"];let{value:o=void 0}=e;function a(c){return c===void 0?"":s(c==="standard"?"standard":"admin")}function u(c){o=c,t(0,o)}return r.$$set=c=>{e=le(le({},e),_t(c)),t(3,l=Ye(e,n)),"value"in c&&t(0,o=c.value)},[o,i,a,l,u]}class Bb extends x{constructor(e){super(),J(this,e,vZ,$Z,Q,{value:0})}}function wZ(r){let e,t,n;const l=[r[3],{options:r[1]},{getLabel:r[2]}];function s(o){r[4](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new Tn({props:i}),Te.push(()=>Oe(e,"value",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&14?de(l,[a&8&&$e(o[3]),a&2&&{options:o[1]},a&4&&{getLabel:o[2]}]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function kZ(r,e,t){var f;const n=["value"];let l=Ye(e,n);const i=(f=ul().supported_languages)!=null?f:{},o=Object.keys(i);let{value:a=void 0}=e;function u(m){return m===void 0?"":`${i[m]} (${m})`}function c(m){a=m,t(0,a)}return r.$$set=m=>{e=le(le({},e),_t(m)),t(3,l=Ye(e,n)),"value"in m&&t(0,a=m.value)},[a,o,u,l,c]}class yZ extends x{constructor(e){super(),J(this,e,kZ,wZ,Q,{value:0})}}function Ub(r){let e,t;return e=new xr({props:{label:`${r[7]("password")} *`,field:r[11],input:{component:Wl,props:{autocomplete:r[1]?"new-password":"on"}}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&128&&(s.label=`${n[7]("password")} *`),l&2&&(s.input={component:Wl,props:{autocomplete:n[1]?"new-password":"on"}}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function SZ(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h;t=new xr({props:{label:r[7]("display_name"),field:r[6],input:{component:gn}}}),l=new xr({props:{label:r[7]("email"),field:r[4],input:{component:gn}}}),i=new xr({props:{label:`${r[7]("username")} *`,field:r[5],input:{component:gn,props:{autocomplete:r[1]?"new-username":"on"}}}});let b=r[1]&&Ub(r);return u=new xr({props:{label:`${r[7]("display_language")} *`,field:r[2],input:{component:yZ}}}),f=new xr({props:{label:`${r[7]("role")} *`,field:r[3],input:{component:Bb,props:{disabled:r[9]}}}}),p=new Zr({props:{form:r[8],catchErrors:!0,onProceed:r[12],proceedButton:{label:r[7]("save"),icon:Ks},cancelButton:{label:r[7]("discard_changes"),icon:Xs},getErrorMessages:r[13],initiallyHidden:!!r[0],hasCancelButton:!!r[0]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),b&&b.c(),a=N(),C(u.$$.fragment),c=N(),C(f.$$.fragment),m=N(),d=M("div"),C(p.$$.fragment),D(e,"class","user-details-form svelte-u50wk0"),D(d,"class","submit-section svelte-u50wk0")},m($,k){w($,e,k),y(t,e,null),I(e,n),y(l,e,null),I(e,s),y(i,e,null),I(e,o),b&&b.m(e,null),I(e,a),y(u,e,null),I(e,c),y(f,e,null),w($,m,k),w($,d,k),y(p,d,null),h=!0},p($,[k]){const T={};k&128&&(T.label=$[7]("display_name")),k&64&&(T.field=$[6]),t.$set(T);const E={};k&128&&(E.label=$[7]("email")),k&16&&(E.field=$[4]),l.$set(E);const A={};k&128&&(A.label=`${$[7]("username")} *`),k&32&&(A.field=$[5]),k&2&&(A.input={component:gn,props:{autocomplete:$[1]?"new-username":"on"}}),i.$set(A),$[1]?b?(b.p($,k),k&2&&_(b,1)):(b=Ub($),b.c(),_(b,1),b.m(e,a)):b&&(G(),g(b,1,1,()=>{b=null}),K());const P={};k&128&&(P.label=`${$[7]("display_language")} *`),k&4&&(P.field=$[2]),u.$set(P);const O={};k&128&&(O.label=`${$[7]("role")} *`),k&8&&(O.field=$[3]),k&512&&(O.input={component:Bb,props:{disabled:$[9]}}),f.$set(O);const R={};k&256&&(R.form=$[8]),k&128&&(R.proceedButton={label:$[7]("save"),icon:Ks}),k&128&&(R.cancelButton={label:$[7]("discard_changes"),icon:Xs}),k&1&&(R.initiallyHidden=!!$[0]),k&1&&(R.hasCancelButton=!!$[0]),p.$set(R)},i($){h||(_(t.$$.fragment,$),_(l.$$.fragment,$),_(i.$$.fragment,$),_(b),_(u.$$.fragment,$),_(f.$$.fragment,$),_(p.$$.fragment,$),h=!0)},o($){g(t.$$.fragment,$),g(l.$$.fragment,$),g(i.$$.fragment,$),g(b),g(u.$$.fragment,$),g(f.$$.fragment,$),g(p.$$.fragment,$),h=!1},d($){$&&v(e),S(t),S(l),S(i),b&&b.d(),S(u),S(f),$&&v(m),$&&v(d),S(p)}}}function CZ(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h=j,b=()=>(h(),h=ue(m,R=>t(17,p=R)),m),$;Z(r,ge,R=>t(7,d=R)),r.$$.on_destroy.push(()=>h());const k=ht(),T=Zt();Z(r,T,R=>t(16,$=R));let{user:E=void 0}=e;const A=wt("");async function P(){const R=p.values,F={full_name:R.fullName,username:R.username,email:R.email,is_superuser:R.userType==="admin",display_language:R.displayLanguage};if(s&&Jl(R,"password")){const L=await Jr.add({...F,password:R.password});k("create",L);return}if(E){if(await Jr.update(E.id,F),l&&T){T.update(U=>U.with(F));const L=F.display_language;await bZ(L)}k("update");return}throw new Error(d("unable_to_update_user"))}function O(R){const{commonErrors:F,fieldSpecificErrors:L}=rL(R,{user_name:"username",is_superuser:"userType"});for(const[U,W]of L){const z=m.fields[U];z?z.serverErrors.set(W):F.push(...W)}return F}return r.$$set=R=>{"user"in R&&t(0,E=R.user)},r.$$.update=()=>{var R,F,L,U;r.$$.dirty&65536&&t(15,n=$),r.$$.dirty&32769&&t(9,l=n&&n.id===(E==null?void 0:E.id)),r.$$.dirty&1&&t(1,s=E===void 0),r.$$.dirty&1&&t(6,i=po((R=E==null?void 0:E.full_name)!=null?R:"")),r.$$.dirty&129&&t(5,o=wt((F=E==null?void 0:E.username)!=null?F:"",[kU(150,d("username_max_length_error",{values:{maxLength:150}})),wU(/^[A-Za-z0-9_@.+-]*$/,d("username_restrict_chars_error"))])),r.$$.dirty&1&&t(4,a=po((L=E==null?void 0:E.email)!=null?L:"",[SU()])),r.$$.dirty&1&&t(2,u=wt((U=E==null?void 0:E.display_language)!=null?U:"en")),r.$$.dirty&1&&t(3,c=wt(E!=null&&E.is_superuser?"admin":"user")),r.$$.dirty&1&&A.reset(),r.$$.dirty&126&&t(14,f=(()=>{const W={fullName:i,username:o,email:a,userType:c,displayLanguage:u};return s?{...W,password:A}:W})()),r.$$.dirty&16384&&b(t(8,m=Un(f)))},[E,s,u,c,a,o,i,d,m,l,T,A,P,O,f,n,$]}class Um extends x{constructor(e){super(),J(this,e,CZ,SZ,Q,{user:0})}}function Wb(r){let e,t,n;return t=new Fo({props:{fullWidth:!0,$$slots:{default:[DZ]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","password-change-warning svelte-153pjf4")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&131077&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function TZ(r){let e=r[2]("prompt_new_password_next_login")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("prompt_new_password_next_login")+"")&&Y(t,e)},d(n){n&&v(t)}}}function EZ(r){let e=r[2]("redirected_login_page_password_change")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("redirected_login_page_password_change")+"")&&Y(t,e)},d(n){n&&v(t)}}}function DZ(r){let e;function t(s,i){return s[0]?EZ:TZ}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function IZ(r){let e,t;return e=new xu({props:{$$slots:{default:[PZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131084&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function MZ(r){let e,t,n,l=r[0]&&jb(r);return t=new xu({props:{$$slots:{default:[OZ]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[0]?l?(l.p(s,i),i&1&&_(l,1)):(l=jb(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K());const o={};i&131076&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(_(l),_(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function AZ(r){let e=r[2]("change_password")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("change_password")+"")&&Y(t,e)},d(n){n&&v(t)}}}function PZ(r){let e,t,n,l,s;return e=new xr({props:{label:r[2]("password"),field:r[8],input:{component:Wl,props:{disabled:!0}},bypassRow:!0}}),l=new dt({props:{appearance:"secondary",$$slots:{default:[AZ]},$$scope:{ctx:r}}}),l.$on("click",r[14]),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","change-password-button cell svelte-153pjf4")},m(i,o){y(e,i,o),w(i,t,o),w(i,n,o),y(l,n,null),s=!0},p(i,o){const a={};o&4&&(a.label=i[2]("password")),e.$set(a);const u={};o&131076&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(_(e.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){S(e,i),i&&v(t),i&&v(n),S(l)}}}function jb(r){let e,t;return e=new xu({props:{$$slots:{default:[RZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131076&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function RZ(r){let e,t,n,l,s,i;return e=new xr({props:{label:`${r[2]("old_password")} *`,field:r[5],input:{component:Wl},bypassRow:!0}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),l=N(),s=M("div")},m(o,a){y(e,o,a),w(o,t,a),w(o,n,a),w(o,l,a),w(o,s,a),i=!0},p(o,a){const u={};a&4&&(u.label=`${o[2]("old_password")} *`),e.$set(u)},i(o){i||(_(e.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),o&&v(n),o&&v(l),o&&v(s)}}}function OZ(r){let e,t,n,l;return e=new xr({props:{label:`${r[2]("new_password")} *`,field:r[6],input:{component:Wl,props:{autocomplete:"new-password"}},bypassRow:!0}}),n=new xr({props:{label:`${r[2]("confirm_password")} *`,field:r[7],input:{component:Wl,props:{autocomplete:"new-password"}},bypassRow:!0}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&4&&(o.label=`${s[2]("new_password")} *`),e.$set(o);const a={};i&4&&(a.label=`${s[2]("confirm_password")} *`),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function Yb(r){let e,t,n;return t=new Zr({props:{form:r[1],catchErrors:!0,onProceed:r[9],onCancel:r[15],proceedButton:{label:r[2]("save"),icon:Ks},cancelButton:{label:r[2]("cancel")}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","submit-section svelte-153pjf4")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2&&(i.form=l[1]),s&8&&(i.onCancel=l[15]),s&4&&(i.proceedButton={label:l[2]("save"),icon:Ks}),s&4&&(i.cancelButton={label:l[2]("cancel")}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function LZ(r){let e,t,n,l,s,i,o,a=r[3]&&Wb(r);const u=[MZ,IZ],c=[];function f(d,p){return d[3]?0:1}l=f(r),s=c[l]=u[l](r);let m=r[3]&&Yb(r);return{c(){e=M("div"),a&&a.c(),t=N(),n=M("div"),s.c(),i=N(),m&&m.c(),D(n,"class","password-inputs svelte-153pjf4"),D(e,"class","password-change-form svelte-153pjf4")},m(d,p){w(d,e,p),a&&a.m(e,null),I(e,t),I(e,n),c[l].m(n,null),I(e,i),m&&m.m(e,null),o=!0},p(d,[p]){d[3]?a?(a.p(d,p),p&8&&_(a,1)):(a=Wb(d),a.c(),_(a,1),a.m(e,t)):a&&(G(),g(a,1,1,()=>{a=null}),K());let h=l;l=f(d),l===h?c[l].p(d,p):(G(),g(c[h],1,1,()=>{c[h]=null}),K(),s=c[l],s?s.p(d,p):(s=c[l]=u[l](d),s.c()),_(s,1),s.m(n,null)),d[3]?m?(m.p(d,p),p&8&&_(m,1)):(m=Yb(d),m.c(),_(m,1),m.m(e,null)):m&&(G(),g(m,1,1,()=>{m=null}),K())},i(d){o||(_(a),_(s),_(m),o=!0)},o(d){g(a),g(s),g(m),o=!1},d(d){d&&v(e),a&&a.d(),c[l].d(),m&&m.d()}}}function NZ(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(i,P=>t(16,o=P)),i),c,f;Z(r,ge,P=>t(2,c=P)),r.$$.on_destroy.push(()=>a());const m=Zt();Z(r,m,P=>t(13,f=P));let{userId:d}=e;const p=wt(""),h=wt(""),b=wt(""),$=po("***************");let k=!1;async function T(){const P=o.values;l&&Jl(P,"oldPassword")?(await Jr.changePassword(P.oldPassword,P.password),window.location.reload()):(await Jr.resetPassword(d,P.password),t(3,k=!1))}const E=()=>{t(3,k=!0)},A=()=>{t(3,k=!1)};return r.$$set=P=>{"userId"in P&&t(10,d=P.userId)},r.$$.update=()=>{r.$$.dirty&8192&&t(12,n=f),r.$$.dirty&5120&&t(0,l=(n==null?void 0:n.id)===d),r.$$.dirty&1&&t(11,s=(()=>{const P={password:h,confirmPassword:b};return l?{...P,oldPassword:p}:P})()),r.$$.dirty&2052&&u(t(1,i=Un(s,[AU([h,b],c("passwords_do_not_match"))]))),r.$$.dirty&1026&&(t(3,k=!1),i.reset())},[l,i,c,k,m,p,h,b,$,T,d,s,n,f,E,A]}class Ly extends x{constructor(e){super(),J(this,e,NZ,LZ,Q,{userId:10})}}function Gb(r,e,t){const n=r.slice();n[17]=e[t][0],n[18]=e[t][1],n[22]=t;const l=n[4]&&n[3]!==n[17];n[19]=l;const s=n[4]&&n[22]===0||!n[4];return n[20]=s,n}function Kb(r){let e,t=r[0].fullName+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0].fullName+"")&&Y(n,t)},d(l){l&&v(e)}}}function Xb(r){let e;return{c(){e=M("span"),D(e,"class","divider svelte-q2wxdp")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function Qb(r){let e,t=r[0].email+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0].email+"")&&Y(n,t)},d(l){l&&v(e)}}}function FZ(r){let e=P1(r[18])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=P1(n[18])+"")&&Y(t,e)},d(n){n&&v(t)}}}function HZ(r){let e=r[5]("admin_access")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("admin_access")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Zb(r){let e=r[8](r[17],r[19])+"",t,n,l,s;return l=new $r({props:{$$slots:{default:[zZ]},$$scope:{ctx:r}}}),{c(){t=q(e),n=N(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o&26)&&e!==(e=i[8](i[17],i[19])+"")&&Y(t,e);const a={};o&8388634&&(a.$$scope={dirty:o,ctx:i}),l.$set(a)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(t),i&&v(n),S(l,i)}}}function zZ(r){let e=r[9](r[17],r[19])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&26&&e!==(e=n[9](n[17],n[19])+"")&&Y(t,e)},d(n){n&&v(t)}}}function VZ(r){let e,t,n,l,s=lf(r[18])+"",i,o;const a=[UZ,BZ],u=[];function c(f,m){return f[17]==="database"?0:f[17]==="schema"?1:-1}return~(e=c(r))&&(t=u[e]=a[e](r)),{c(){t&&t.c(),n=N(),l=M("span"),i=q(s)},m(f,m){~e&&u[e].m(f,m),w(f,n,m),w(f,l,m),I(l,i),o=!0},p(f,m){let d=e;e=c(f),e===d?~e&&u[e].p(f,m):(t&&(G(),g(u[d],1,1,()=>{u[d]=null}),K()),~e?(t=u[e],t?t.p(f,m):(t=u[e]=a[e](f),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),(!o||m&2)&&s!==(s=lf(f[18])+"")&&Y(i,s)},i(f){o||(_(t),o=!0)},o(f){g(t),o=!1},d(f){~e&&u[e].d(f),f&&v(n),f&&v(l)}}}function qZ(r){let e,t,n,l=r[5]("admin")+"",s,i;const o=[ni,{size:"0.8em"}];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(ni),o[1]]):{};e.$set(f),(!i||c&32)&&l!==(l=u[5]("admin")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function BZ(r){let e,t;const n=[ei,{size:"0.8em"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(ei),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function UZ(r){let e,t;const n=[wl,{size:"0.8em"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(wl),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function WZ(r){let e,t,n,l;const s=[qZ,VZ],i=[];function o(a,u){return a[17]==="admin"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function jZ(r){let e,t;return e=new Yr({props:{onClick:r[6],label:"",icon:{...qt,size:"0.75em"},appearance:"outline-primary"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function YZ(r){let e,t;return e=new Lf({props:{$$slots:{content:[XZ],trigger:[KZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388610&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function GZ(r){let e,t;const n=[qt,{size:"0.75em"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(qt),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function KZ(r){let e,t;return e=new dt({props:{slot:"trigger",disabled:!0,$$slots:{default:[GZ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388608&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function XZ(r){let e,t=r[10](r[17])+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","content")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[10](l[17])+"")&&Y(n,t)},d(l){l&&v(e)}}}function Jb(r,e){let t,n,l,s,i,o,a,u,c,f,m,d,p,h;function b(O,R){return O[17]==="admin"?HZ:FZ}let $=b(e),k=$(e),T=e[4]&&e[17]!=="admin"&&Zb(e);a=new s6({props:{background:"var(--slate-200)",display:"inline-flex",$$slots:{default:[WZ]},$$scope:{ctx:e}}});const E=[YZ,jZ],A=[];function P(O,R){return R&6&&(f=null),f==null&&(f=!!(O[17]==="admin"||O[7](O[17])||O[2])),f?0:1}return m=P(e,-1),d=A[m]=E[m](e),{key:r,first:null,c(){t=M("div"),n=M("div"),l=M("div"),k.c(),s=N(),T&&T.c(),i=N(),o=M("div"),C(a.$$.fragment),u=N(),c=M("div"),d.c(),p=N(),D(n,"class","cell access-level svelte-q2wxdp"),re(n,"disabled",e[19]),re(n,"has-border",e[20]),D(o,"class","cell access-level-chip svelte-q2wxdp"),re(o,"disabled",e[19]),re(o,"has-border",e[20]),D(c,"class","cell svelte-q2wxdp"),re(c,"has-border",e[20]),D(t,"class","access-wrapper svelte-q2wxdp"),this.first=t},m(O,R){w(O,t,R),I(t,n),I(n,l),k.m(l,null),I(l,s),T&&T.m(l,null),I(t,i),I(t,o),y(a,o,null),I(t,u),I(t,c),A[m].m(c,null),I(t,p),h=!0},p(O,R){e=O,$===($=b(e))&&k?k.p(e,R):(k.d(1),k=$(e),k&&(k.c(),k.m(l,s))),e[4]&&e[17]!=="admin"?T?(T.p(e,R),R&18&&_(T,1)):(T=Zb(e),T.c(),_(T,1),T.m(l,null)):T&&(G(),g(T,1,1,()=>{T=null}),K()),(!h||R&26)&&re(n,"disabled",e[19]),(!h||R&18)&&re(n,"has-border",e[20]);const F={};R&8388642&&(F.$$scope={dirty:R,ctx:e}),a.$set(F),(!h||R&26)&&re(o,"disabled",e[19]),(!h||R&18)&&re(o,"has-border",e[20]);let L=m;m=P(e,R),m===L?A[m].p(e,R):(G(),g(A[L],1,1,()=>{A[L]=null}),K(),d=A[m],d?d.p(e,R):(d=A[m]=E[m](e),d.c()),_(d,1),d.m(c,null)),(!h||R&18)&&re(c,"has-border",e[20])},i(O){h||(_(T),_(a.$$.fragment,O),_(d),h=!0)},o(O){g(T),g(a.$$.fragment,O),g(d),h=!1},d(O){O&&v(t),k.d(),T&&T.d(),S(a),A[m].d()}}}function QZ(r){let e,t,n,l,s=r[0].username+"",i,o,a,u,c,f=`span ${r[1].length}`,m,d=[],p=new Map,h,b=r[0].fullName&&Kb(r),$=r[0].fullName&&r[0].email&&Xb(),k=r[0].email&&Qb(r),T=r[1];const E=A=>`${A[17]}-${A[18]}`;for(let A=0;A<T.length;A+=1){let P=Gb(r,T,A),O=E(P);p.set(O,d[A]=Jb(O,P))}return{c(){e=M("div"),t=M("div"),n=M("div"),l=M("div"),i=q(s),o=N(),a=M("div"),b&&b.c(),u=N(),$&&$.c(),c=N(),k&&k.c(),m=N();for(let A=0;A<d.length;A+=1)d[A].c();D(l,"class","name svelte-q2wxdp"),D(a,"class","info svelte-q2wxdp"),D(n,"class","name-and-info svelte-q2wxdp"),D(t,"class","cell has-border svelte-q2wxdp"),Cn(t,"grid-row",f,!1),D(e,"class","wrapper svelte-q2wxdp")},m(A,P){w(A,e,P),I(e,t),I(t,n),I(n,l),I(l,i),I(n,o),I(n,a),b&&b.m(a,null),I(a,u),$&&$.m(a,null),I(a,c),k&&k.m(a,null),I(e,m);for(let O=0;O<d.length;O+=1)d[O].m(e,null);h=!0},p(A,[P]){(!h||P&1)&&s!==(s=A[0].username+"")&&Y(i,s),A[0].fullName?b?b.p(A,P):(b=Kb(A),b.c(),b.m(a,u)):b&&(b.d(1),b=null),A[0].fullName&&A[0].email?$||($=Xb(),$.c(),$.m(a,c)):$&&($.d(1),$=null),A[0].email?k?k.p(A,P):(k=Qb(A),k.c(),k.m(a,null)):k&&(k.d(1),k=null),P&2&&f!==(f=`span ${A[1].length}`)&&Cn(t,"grid-row",f,!1),P&2046&&(T=A[1],G(),d=gt(d,P,E,1,A,T,p,e,bt,Jb,null,Gb),K())},i(A){if(!h){for(let P=0;P<T.length;P+=1)_(d[P]);h=!0}},o(A){for(let P=0;P<d.length;P+=1)g(d[P]);h=!1},d(A){A&&v(e),b&&b.d(),$&&$.d(),k&&k.d();for(let P=0;P<d.length;P+=1)d[P].d()}}}function ZZ(r,e,t){let n,l,s,i,o,a,u;Z(r,ge,E=>t(5,u=E));let{userProfile:c}=e,{userModel:f}=e,{accessControlObject:m}=e,{getUserRoles:d}=e,{removeAccessForUser:p}=e;async function h(){await p(f)}function b(E){return m!==E}function $(E,A){const P=[];return b(E)&&P.push(u("inherited")),A&&P.push(u("overridden")),P.length>0?`(${P.join(", ")})`:""}function k(E,A){const P=u(E==="database"?"database":"schema"),O=u(E==="database"?"schema":"database"),R=b(E);return R&&A?u("access_level_inheritance_is_overridden_help",{values:{aclObject:P,comparedAclObject:O}}):R?u("access_level_inheritance_help",{values:{aclObject:P}}):A?u("access_level_is_overridden_help",{values:{comparedAclObject:O}}):u("access_level_overrides_help",{values:{comparedAclObject:O}})}function T(E){return E==="admin"?u("individual_permissions_admin_modify_warning"):a?u("cannot_modify_own_access_warning"):b(E)?u("inherited_access_level_cannot_remove_warning"):u("access_level_cannot_remove_warning")}return r.$$set=E=>{"userProfile"in E&&t(11,c=E.userProfile),"userModel"in E&&t(0,f=E.userModel),"accessControlObject"in E&&t(12,m=E.accessControlObject),"getUserRoles"in E&&t(13,d=E.getUserRoles),"removeAccessForUser"in E&&t(14,p=E.removeAccessForUser)},r.$$.update=()=>{r.$$.dirty&8193&&t(15,n=d(f)),r.$$.dirty&32768&&t(16,l=n&&n.size>0?[...n.entries()]:[]),r.$$.dirty&65537&&t(1,s=(()=>f.isSuperUser?[["admin","manager"]]:l)()),r.$$.dirty&2&&t(4,i=s.length>1),r.$$.dirty&32768&&t(3,o=n?EL(n):void 0),r.$$.dirty&2049&&t(2,a=(c==null?void 0:c.id)===f.id)},[f,s,a,o,i,u,h,b,$,k,T,c,m,d,p,n,l]}class JZ extends x{constructor(e){super(),J(this,e,ZZ,QZ,Q,{userProfile:11,userModel:0,accessControlObject:12,getUserRoles:13,removeAccessForUser:14})}}function xb(r,e,t){const n=r.slice();return n[22]=e[t],n}function e0(r){let e,t;return e=new dt({props:{appearance:"secondary",$$slots:{default:[xZ]},$$scope:{ctx:r}}}),e.$on("click",r[18]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67110912&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xZ(r){let e,t,n,l=r[11]("add")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&2048)&&l!==(l=u[11]("add")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function t0(r){let e,t,n,l,s,i,o,a,u,c;n=new hn({props:{label:r[11]("user"),layout:"stacked",$$slots:{default:[lJ]},$$scope:{ctx:r}}}),s=new hn({props:{label:r[11]("permission"),layout:"stacked",$$slots:{default:[sJ]},$$scope:{ctx:r}}}),a=new Yr({props:{disabled:!r[4]||r[6],onClick:r[14],icon:jt,label:r[11]("add"),appearance:"secondary"}});let f=r[8]&&n0(r);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),o=M("div"),C(a.$$.fragment),u=N(),f&&f.c(),D(o,"class","add-button svelte-v15h0w"),D(t,"class","add-user-form svelte-v15h0w"),D(e,"class","add-user svelte-v15h0w")},m(m,d){w(m,e,d),I(e,t),y(n,t,null),I(t,l),y(s,t,null),I(t,i),I(t,o),y(a,o,null),I(e,u),f&&f.m(e,null),c=!0},p(m,d){const p={};d&2048&&(p.label=m[11]("user")),d&67112016&&(p.$$scope={dirty:d,ctx:m}),n.$set(p);const h={};d&2048&&(h.label=m[11]("permission")),d&67111488&&(h.$$scope={dirty:d,ctx:m}),s.$set(h);const b={};d&80&&(b.disabled=!m[4]||m[6]),d&2048&&(b.label=m[11]("add")),a.$set(b),m[8]?f?(f.p(m,d),d&256&&_(f,1)):(f=n0(m),f.c(),_(f,1),f.m(e,null)):f&&(G(),g(f,1,1,()=>{f=null}),K())},i(m){c||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),_(f),c=!0)},o(m){g(n.$$.fragment,m),g(s.$$.fragment,m),g(a.$$.fragment,m),g(f),c=!1},d(m){m&&v(e),S(n),S(s),S(a),f&&f.d()}}}function eJ(r){let e,t=r[11]("select_user")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","placeholder svelte-v15h0w")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2048&&t!==(t=l[11]("select_user")+"")&&Y(n,t)},d(l){l&&v(e)}}}function tJ(r){let e=r[25].username+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&33554432&&e!==(e=n[25].username+"")&&Y(t,e)},d(n){n&&v(t)}}}function nJ(r){let e;function t(s,i){return s[25]?tJ:eJ}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function rJ(r){let e,t=r[11]("no_users_found")+"",n;return{c(){e=M("div"),n=q(t),D(e,"class","no-users svelte-v15h0w"),D(e,"slot","empty")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2048&&t!==(t=l[11]("no_users_found")+"")&&Y(n,t)},d(l){l&&v(e)}}}function lJ(r){let e,t,n;function l(i){r[19](i)}let s={autoSelect:"none",options:r[10],disabled:r[6],$$slots:{empty:[rJ,({option:i})=>({25:i}),({option:i})=>i?33554432:0],default:[nJ,({option:i})=>({25:i}),({option:i})=>i?33554432:0]},$$scope:{ctx:r}};return r[4]!==void 0&&(s.value=r[4]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1024&&(a.options=i[10]),o&64&&(a.disabled=i[6]),o&100665344&&(a.$$scope={dirty:o,ctx:i}),!t&&o&16&&(t=!0,a.value=i[4],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function sJ(r){let e,t,n;function l(i){r[21](i)}let s={options:r[12],getLabel:r[20],disabled:r[6]};return r[9]!==void 0&&(s.value=r[9]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&2048&&(a.getLabel=i[20]),o&64&&(a.disabled=i[6]),!t&&o&512&&(t=!0,a.value=i[9],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function n0(r){let e,t;return e=new Yn({props:{$$slots:{default:[iJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67109120&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function iJ(r){let e;return{c(){e=q(r[8])},m(t,n){w(t,e,n)},p(t,n){n&256&&Y(e,t[8])},d(t){t&&v(e)}}}function r0(r){let e,t;return e=new $r({props:{$$slots:{default:[oJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67110912&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oJ(r){let e=r[11]("access_level_precedence_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2048&&e!==(e=n[11]("access_level_precedence_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function l0(r,e){let t,n,l;return n=new JZ({props:{userProfile:e[5],getUserRoles:e[3],userModel:e[22],accessControlObject:e[2],removeAccessForUser:e[1]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&32&&(o.userProfile=e[5]),i&8&&(o.getUserRoles=e[3]),i&1&&(o.userModel=e[22]),i&4&&(o.accessControlObject=e[2]),i&2&&(o.removeAccessForUser=e[1]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function aJ(r){let e,t,n,l,s,i,o=r[11]("users_with_access")+"",a,u,c,f,m=[],d=new Map,p,h=!r[7]&&e0(r),b=r[7]&&t0(r),$=r[2]==="schema"&&r0(r),k=r[0];const T=E=>E[22].id;for(let E=0;E<k.length;E+=1){let A=xb(r,k,E),P=T(A);d.set(P,m[E]=l0(P,A))}return{c(){e=M("div"),h&&h.c(),t=N(),b&&b.c(),n=N(),l=M("div"),s=M("div"),i=M("span"),a=q(o),u=N(),$&&$.c(),c=N(),f=M("div");for(let E=0;E<m.length;E+=1)m[E].c();D(s,"class","header svelte-v15h0w"),D(f,"class","list svelte-v15h0w"),D(l,"class","users-with-access svelte-v15h0w")},m(E,A){w(E,e,A),h&&h.m(e,null),I(e,t),b&&b.m(e,null),w(E,n,A),w(E,l,A),I(l,s),I(s,i),I(i,a),I(s,u),$&&$.m(s,null),I(l,c),I(l,f);for(let P=0;P<m.length;P+=1)m[P].m(f,null);p=!0},p(E,[A]){E[7]?h&&(G(),g(h,1,1,()=>{h=null}),K()):h?(h.p(E,A),A&128&&_(h,1)):(h=e0(E),h.c(),_(h,1),h.m(e,t)),E[7]?b?(b.p(E,A),A&128&&_(b,1)):(b=t0(E),b.c(),_(b,1),b.m(e,null)):b&&(G(),g(b,1,1,()=>{b=null}),K()),(!p||A&2048)&&o!==(o=E[11]("users_with_access")+"")&&Y(a,o),E[2]==="schema"?$?($.p(E,A),A&4&&_($,1)):($=r0(E),$.c(),_($,1),$.m(s,null)):$&&(G(),g($,1,1,()=>{$=null}),K()),A&47&&(k=E[0],G(),m=gt(m,A,T,1,E,k,d,f,bt,l0,null,xb),K())},i(E){if(!p){_(h),_(b),_($);for(let A=0;A<k.length;A+=1)_(m[A]);p=!0}},o(E){g(h),g(b),g($);for(let A=0;A<m.length;A+=1)g(m[A]);p=!1},d(E){E&&v(e),h&&h.d(),b&&b.d(),E&&v(n),E&&v(l),$&&$.d();for(let A=0;A<m.length;A+=1)m[A].d()}}}function uJ(r,e,t){let n,l,s,i;Z(r,ge,F=>t(11,i=F));const o=["viewer","editor","manager"],a=Zt();Z(r,a,F=>t(17,s=F));let{usersWithAccess:u}=e,{usersWithoutAccess:c}=e,{addAccessForUser:f}=e,{removeAccessForUser:m}=e,{accessControlObject:d}=e,{getUserRoles:p}=e,h=!1,b=!1,$,k,T="viewer";async function E(){if(t(8,$=void 0),k)try{t(6,h=!0),await f(k,T),t(4,k=void 0)}catch(F){t(8,$=en(F))}finally{t(6,h=!1)}}const A=()=>{t(7,b=!0),t(8,$=void 0)};function P(F){k=F,t(4,k)}const O=F=>F?lf(F):i("select_permission");function R(F){T=F,t(9,T)}return r.$$set=F=>{"usersWithAccess"in F&&t(0,u=F.usersWithAccess),"usersWithoutAccess"in F&&t(15,c=F.usersWithoutAccess),"addAccessForUser"in F&&t(16,f=F.addAccessForUser),"removeAccessForUser"in F&&t(1,m=F.removeAccessForUser),"accessControlObject"in F&&t(2,d=F.accessControlObject),"getUserRoles"in F&&t(3,p=F.getUserRoles)},r.$$.update=()=>{r.$$.dirty&131072&&t(5,n=s),r.$$.dirty&32800&&t(10,l=c.filter(F=>F.id!==(n==null?void 0:n.id)))},[u,m,d,p,k,n,h,b,$,T,l,i,o,a,E,c,f,s,A,P,O,R]}class Ny extends x{constructor(e){super(),J(this,e,uJ,aJ,Q,{usersWithAccess:0,usersWithoutAccess:15,addAccessForUser:16,removeAccessForUser:1,accessControlObject:2,getUserRoles:3})}}function cJ(r){switch(r){case"admin":return"Admin";case"standard":return"Standard";default:throw new $l(r)}}function fJ(r){const e=r.isSuperUser?"admin":"standard",t=cJ(e);return{icon:r.isSuperUser?LO:ni,type:e,displayName:t}}function s0(r){let e,t,n,l=r[0].fullName&&i0(r),s=r[0].fullName&&r[0].email&&o0(),i=r[0].email&&a0(r);return{c(){e=M("div"),l&&l.c(),t=N(),s&&s.c(),n=N(),i&&i.c(),D(e,"class","user-detailed-info svelte-1a49wjf")},m(o,a){w(o,e,a),l&&l.m(e,null),I(e,t),s&&s.m(e,null),I(e,n),i&&i.m(e,null)},p(o,a){o[0].fullName?l?l.p(o,a):(l=i0(o),l.c(),l.m(e,t)):l&&(l.d(1),l=null),o[0].fullName&&o[0].email?s||(s=o0(),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o[0].email?i?i.p(o,a):(i=a0(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&v(e),l&&l.d(),s&&s.d(),i&&i.d()}}}function i0(r){let e,t=r[0].fullName+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0].fullName+"")&&Y(n,t)},d(l){l&&v(e)}}}function o0(r){let e;return{c(){e=M("span"),D(e,"class","divider svelte-1a49wjf")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function a0(r){let e,t=r[0].email+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0].email+"")&&Y(n,t)},d(l){l&&v(e)}}}function mJ(r){let e,t,n,l=r[0].username+"",s,i,o,a,u,c,f,m=r[2].displayName+"",d,p,h,b=r[1]&&s0(r);const $=[r[2].icon,{size:"0.9rem"}];let k={};for(let T=0;T<$.length;T+=1)k=le(k,$[T]);return u=new Be({props:k}),{c(){e=M("a"),t=M("div"),n=M("span"),s=q(l),i=N(),b&&b.c(),o=N(),a=M("div"),C(u.$$.fragment),c=N(),f=M("span"),d=q(m),D(t,"class","user-info svelte-1a49wjf"),D(a,"class","user-type svelte-1a49wjf"),D(e,"class","user-row passthrough svelte-1a49wjf"),D(e,"href",p=ao(r[0].id))},m(T,E){w(T,e,E),I(e,t),I(t,n),I(n,s),I(t,i),b&&b.m(t,null),I(e,o),I(e,a),y(u,a,null),I(a,c),I(a,f),I(f,d),h=!0},p(T,[E]){(!h||E&1)&&l!==(l=T[0].username+"")&&Y(s,l),T[1]?b?b.p(T,E):(b=s0(T),b.c(),b.m(t,null)):b&&(b.d(1),b=null);const A=E&4?de($,[$e(T[2].icon),$[1]]):{};u.$set(A),(!h||E&4)&&m!==(m=T[2].displayName+"")&&Y(d,m),(!h||E&1&&p!==(p=ao(T[0].id)))&&D(e,"href",p)},i(T){h||(_(u.$$.fragment,T),h=!0)},o(T){g(u.$$.fragment,T),h=!1},d(T){T&&v(e),b&&b.d(),S(u)}}}function dJ(r,e,t){let n,l,{user:s}=e;return r.$$set=i=>{"user"in i&&t(0,s=i.user)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=fJ(s)),r.$$.dirty&1&&t(1,l=s.email||s.fullName)},[s,l,n]}class _J extends x{constructor(e){super(),J(this,e,dJ,mJ,Q,{user:0})}}function pJ(r){let e,t,n;return t=new pu({props:{loading:!0}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","user-skeleton-container svelte-1ko2nwt")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}class gJ extends x{constructor(e){super(),J(this,e,null,pJ,Q,{})}}function u0(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function hJ(r){let e,t;return e=new Yu({props:{errors:r[6].errors}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.errors=n[6].errors),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bJ(r){let e,t,n;function l(i){r[9](i)}let s={searchPlaceholder:r[5]("search_users"),$$slots:{content:[TJ],resultInfo:[yJ],action:[wJ]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.searchQuery=r[0]),e=new Ho({props:s}),Te.push(()=>Oe(e,"searchQuery",l)),e.$on("clear",r[7]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.searchPlaceholder=i[5]("search_users")),o&32803&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.searchQuery=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function $J(r){let e,t;return e=new gJ({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vJ(r){let e,t,n,l=r[5]("add_user")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&32)&&l!==(l=u[5]("add_user")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function wJ(r){let e,t;return e=new jr({props:{appearance:"primary",href:af,$$slots:{default:[vJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32800&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function c0(r){let e,t;return{c(){e=M("strong"),t=q(r[0])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&1&&Y(t,n[0])},d(n){n&&v(e)}}}function kJ(r){let e,t=r[14]==="searchValue"&&c0(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[14]==="searchValue"?t?t.p(n,l):(t=c0(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function yJ(r){let e,t,n;return t=new St({props:{text:r[5]("users_matching_search",{values:{count:r[1].length}}),$$slots:{default:[kJ,({slotName:l})=>({14:l}),({slotName:l})=>l?16384:0]},$$scope:{ctx:r}}}),{c(){e=M("p"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&34&&(i.text=l[5]("users_matching_search",{values:{count:l[1].length}})),s&49153&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function SJ(r){let e,t=r[5]("no_users_found")+"",n;return{c(){e=M("p"),n=q(t),D(e,"class","no-users-found-text")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&32&&t!==(t=l[5]("no_users_found")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function CJ(r){let e,t=[],n=new Map,l,s=r[1];const i=o=>o[11].id;for(let o=0;o<s.length;o+=1){let a=u0(r,s,o),u=i(a);n.set(u,t[o]=m0(u,a))}return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","users-list svelte-pn1rjj")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,a){a&2&&(s=o[1],G(),t=gt(t,a,i,1,o,s,n,e,bt,m0,null,u0),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function f0(r){let e;return{c(){e=M("hr"),D(e,"class","svelte-pn1rjj")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function m0(r,e){let t,n,l,s,i=e[13]!==0&&f0();return l=new _J({props:{user:e[11]}}),{key:r,first:null,c(){t=oe(),i&&i.c(),n=N(),C(l.$$.fragment),this.first=t},m(o,a){w(o,t,a),i&&i.m(o,a),w(o,n,a),y(l,o,a),s=!0},p(o,a){e=o,e[13]!==0?i||(i=f0(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null);const u={};a&2&&(u.user=e[11]),l.$set(u)},i(o){s||(_(l.$$.fragment,o),s=!0)},o(o){g(l.$$.fragment,o),s=!1},d(o){o&&v(t),i&&i.d(o),o&&v(n),S(l,o)}}}function TJ(r){let e,t,n,l;const s=[CJ,SJ],i=[];function o(a,u){return a[1].length?0:a[1].length===0?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function EJ(r){let e,t,n,l=r[5]("users")+"",s,i,o,a,u,c,f,m;document.title=e=Pn(r[5]("users"));const d=[$J,bJ,hJ],p=[];function h(b,$){var k,T,E;return((k=b[6])==null?void 0:k.state)==="processing"?0:((T=b[6])==null?void 0:T.state)==="success"?1:((E=b[6])==null?void 0:E.state)==="failure"?2:-1}return~(c=h(r))&&(f=p[c]=d[c](r)),{c(){t=N(),n=M("h1"),s=q(l),i=N(),o=q(r[2]),a=N(),u=M("section"),f&&f.c(),D(u,"class","users-list-container svelte-pn1rjj")},m(b,$){w(b,t,$),w(b,n,$),I(n,s),I(n,i),I(n,o),w(b,a,$),w(b,u,$),~c&&p[c].m(u,null),m=!0},p(b,[$]){(!m||$&32)&&e!==(e=Pn(b[5]("users")))&&(document.title=e),(!m||$&32)&&l!==(l=b[5]("users")+"")&&Y(s,l),(!m||$&4)&&Y(o,b[2]);let k=c;c=h(b),c===k?~c&&p[c].p(b,$):(f&&(G(),g(p[k],1,1,()=>{p[k]=null}),K()),~c?(f=p[c],f?f.p(b,$):(f=p[c]=d[c](b),f.c()),_(f,1),f.m(u,null)):f=null)},i(b){m||(_(f),m=!0)},o(b){g(f),m=!1},d(b){b&&v(t),b&&v(n),b&&v(a),b&&v(u),~c&&p[c].d()}}}function DJ(r,e){const t=(n,l)=>{var s,i;return n.username.toLowerCase().includes(l)||((s=n.fullName)==null?void 0:s.toLowerCase().includes(l))||((i=n.email)==null?void 0:i.toLowerCase().includes(l))};return r==null?void 0:r.filter(n=>{if(e){const l=e.trim().toLowerCase();return t(n,l)}return!0})}function IJ(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(l,k=>t(8,o=k)),l),c,f,m=j,d=()=>(m(),m=ue(n,k=>t(6,f=k)),n);Z(r,ge,k=>t(5,c=k)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>m());let p="";const h=Cu();function b(){t(0,p="")}function $(k){p=k,t(0,p)}return r.$$.update=()=>{r.$$.dirty&257&&t(1,s=DJ(o!=null?o:[],p)),r.$$.dirty&2&&t(2,i=s.length?`(${s.length})`:"")},d(t(4,n=h==null?void 0:h.requestStatus)),u(t(3,l=h==null?void 0:h.users)),[p,s,i,l,n,c,f,b,o,$]}class MJ extends x{constructor(e){super(),J(this,e,IJ,EJ,Q,{})}}function AJ(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","form-box svelte-cgjg4v")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function PJ(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class Ka extends x{constructor(e){super(),J(this,e,PJ,AJ,Q,{})}}function RJ(r){let e,t;return e=new Um({}),e.$on("create",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function OJ(r){let e,t,n,l,s,i=r[0]("new_user")+"",o,a,u,c;e=new Wn({props:{item:{type:"simple",href:af,label:r[0]("new_user"),icon:Qo}}});const f=[Qo];let m={};for(let d=0;d<f.length;d+=1)m=le(m,f[d]);return l=new Be({props:m}),u=new Ka({props:{$$slots:{default:[RJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),n=M("h1"),C(l.$$.fragment),s=N(),o=q(i),a=N(),C(u.$$.fragment)},m(d,p){y(e,d,p),w(d,t,p),w(d,n,p),y(l,n,null),I(n,s),I(n,o),w(d,a,p),y(u,d,p),c=!0},p(d,[p]){const h={};p&1&&(h.item={type:"simple",href:af,label:d[0]("new_user"),icon:Qo}),e.$set(h);const b=p&0?de(f,[$e(Qo)]):{};l.$set(b),(!c||p&1)&&i!==(i=d[0]("new_user")+"")&&Y(o,i);const $={};p&16&&($.$$scope={dirty:p,ctx:d}),u.$set($)},i(d){c||(_(e.$$.fragment,d),_(l.$$.fragment,d),_(u.$$.fragment,d),c=!0)},o(d){g(e.$$.fragment,d),g(l.$$.fragment,d),g(u.$$.fragment,d),c=!1},d(d){S(e,d),d&&v(t),d&&v(n),S(l),d&&v(a),S(u,d)}}}function LJ(r,e,t){let n;Z(r,ge,o=>t(0,n=o));const l=Cu();function s(o){l==null||l.fetchUsers(),un.goto(ao(o.id),!0)}return[n,s,o=>s(o.detail)]}class NJ extends x{constructor(e){super(),J(this,e,LJ,OJ,Q,{})}}function FJ(r){return{c:j,m:j,p:j,i:j,o:j,d:j}}function HJ(r){let e,t,n,l;const s=[VJ,zJ],i=[];function o(a,u){return a[13]===void 0?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function zJ(r){let e,t,n,l,s,i=r[4]("edit_user")+"",o,a,u,c=r[13].username+"",f,m,d,p,h,b,$,k;e=new Wn({props:{item:{type:"simple",href:ao(r[0]),label:r[13].username,icon:Zo}}});const T=[Zo];let E={};for(let P=0;P<T.length;P+=1)E=le(E,T[P]);l=new Be({props:E}),d=new Ka({props:{$$slots:{default:[qJ]},$$scope:{ctx:r}}}),h=new Ka({props:{$$slots:{default:[BJ]},$$scope:{ctx:r}}});let A=!r[2]&&d0(r);return{c(){C(e.$$.fragment),t=N(),n=M("h1"),C(l.$$.fragment),s=N(),o=q(i),a=q(": "),u=M("strong"),f=q(c),m=N(),C(d.$$.fragment),p=N(),C(h.$$.fragment),b=N(),A&&A.c(),$=oe()},m(P,O){y(e,P,O),w(P,t,O),w(P,n,O),y(l,n,null),I(n,s),I(n,o),I(n,a),I(n,u),I(u,f),w(P,m,O),y(d,P,O),w(P,p,O),y(h,P,O),w(P,b,O),A&&A.m(P,O),w(P,$,O),k=!0},p(P,O){const R={};O&3&&(R.item={type:"simple",href:ao(P[0]),label:P[13].username,icon:Zo}),e.$set(R);const F=O&0?de(T,[$e(Zo)]):{};l.$set(F),(!k||O&16)&&i!==(i=P[4]("edit_user")+"")&&Y(o,i),(!k||O&2)&&c!==(c=P[13].username+"")&&Y(f,c);const L={};O&16386&&(L.$$scope={dirty:O,ctx:P}),d.$set(L);const U={};O&16385&&(U.$$scope={dirty:O,ctx:P}),h.$set(U),P[2]?A&&(G(),g(A,1,1,()=>{A=null}),K()):A?(A.p(P,O),O&4&&_(A,1)):(A=d0(P),A.c(),_(A,1),A.m($.parentNode,$))},i(P){k||(_(e.$$.fragment,P),_(l.$$.fragment,P),_(d.$$.fragment,P),_(h.$$.fragment,P),_(A),k=!0)},o(P){g(e.$$.fragment,P),g(l.$$.fragment,P),g(d.$$.fragment,P),g(h.$$.fragment,P),g(A),k=!1},d(P){S(e,P),P&&v(t),P&&v(n),S(l),P&&v(m),S(d,P),P&&v(p),S(h,P),P&&v(b),A&&A.d(P),P&&v($)}}}function VJ(r){let e,t,n,l;const s=[jJ,WJ],i=[];function o(a,u){var c;return((c=a[5])==null?void 0:c.state)==="failure"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function qJ(r){let e,t;return e=new Um({props:{user:r[13].getUser()}}),e.$on("update",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.user=n[13].getUser()),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function BJ(r){let e,t;return e=new Ly({props:{userId:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.userId=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function d0(r){let e,t;return e=new Ka({props:{$$slots:{default:[UJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16402&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function UJ(r){let e,t;function n(){return r[10](r[13])}function l(){return r[11](r[13])}return e=new Yr({props:{confirm:n,onClick:l,icon:qt,danger:!0,label:r[4]("delete_user"),appearance:"default"}}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){r=s;const o={};i&18&&(o.confirm=n),i&2&&(o.onClick=l),i&16&&(o.label=r[4]("delete_user")),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function WJ(r){let e,t;return e=new Yn({props:{$$slots:{default:[YJ]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16400&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jJ(r){let e=r[5].errors+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5].errors+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function YJ(r){let e=r[4]("user_not_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("user_not_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function GJ(r){let e=r[4]("fetching_user_details")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("fetching_user_details")+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function KJ(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!1,pending:GJ,then:HJ,catch:FJ,value:13,blocks:[,,,]};return Bl(t=r[1],l),{c(){e=oe(),l.block.c()},m(s,i){w(s,e,i),l.block.m(s,l.anchor=i),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(s,[i]){r=s,l.ctx=r,i&2&&t!==(t=r[1])&&Bl(t,l)||su(l,r,i)},i(s){n||(_(l.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const o=l.blocks[i];g(o)}n=!1},d(s){s&&v(e),l.block.d(s),l.token=null,l=null}}}function XJ(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(n,k=>t(5,a=k)),n);Z(r,ge,k=>t(4,o=k)),r.$$.on_destroy.push(()=>u());const f=Zt();Z(r,f,k=>t(9,i=k));const m=Cu();let{userId:d}=e;async function p(){await(m==null?void 0:m.fetchUsers()),t(1,l=m==null?void 0:m.getUserDetails(d))}async function h(k){if(!!m)try{await m.delete(k.id),un.goto(oo)}catch(T){Tt.fromError(T)}}const b=k=>Rl({identifierName:k.username,identifierType:o("user")}),$=k=>h(k);return r.$$set=k=>{"userId"in k&&t(0,d=k.userId)},r.$$.update=()=>{r.$$.dirty&1&&t(1,l=m==null?void 0:m.getUserDetails(d)),r.$$.dirty&513&&t(2,s=(i==null?void 0:i.id)===d)},c(t(3,n=m==null?void 0:m.requestStatus)),[d,l,s,n,o,a,f,p,h,i,b,$]}class QJ extends x{constructor(e){super(),J(this,e,XJ,KJ,Q,{userId:0})}}function ZJ(r){let e,t;return e=new MJ({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function JJ(r){let e,t;return e=new NJ({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xJ(r){let e,t;return e=new QJ({props:{userId:parseInt(r[1].params.userId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.userId=parseInt(n[1].params.userId,10)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ex(r){let e,t,n,l,s,i,o,a;return e=new Wn({props:{item:{type:"simple",href:oo,label:r[0]("users"),icon:nf}}}),n=new Wt({props:{path:"/",$$slots:{default:[ZJ]},$$scope:{ctx:r}}}),s=new Wt({props:{path:"/new",$$slots:{default:[JJ]},$$scope:{ctx:r}}}),o=new Wt({props:{path:"/:userId",$$slots:{default:[xJ,({meta:u})=>({1:u}),({meta:u})=>u?2:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,[c]){const f={};c&1&&(f.item={type:"simple",href:oo,label:u[0]("users"),icon:nf}),e.$set(f);const m={};c&4&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const d={};c&4&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const p={};c&6&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&v(t),S(n,u),u&&v(l),S(s,u),u&&v(i),S(o,u)}}}function tx(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),xf(),[n]}class nx extends x{constructor(e){super(),J(this,e,tx,ex,Q,{})}}function rx(r){let e,t,n,l;return e=new Wn({props:{item:{type:"simple",href:Oa,label:r[0]("software_update")}}}),n=new KQ({}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&1&&(o.item={type:"simple",href:Oa,label:s[0]("software_update")}),e.$set(o)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function lx(r){let e,t;return e=new nx({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sx(r){let e,t,n,l;return e=new Wt({props:{path:"/update",$$slots:{default:[rx]},$$scope:{ctx:r}}}),n=new Wt({props:{path:"/users/*",firstmatch:!0,$$slots:{default:[lx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&2&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function ix(r){let e,t;return e=new eZ({props:{slot:"sidebar"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ox(r){let e,t;return e=new lZ({props:{$$slots:{sidebar:[ix],default:[sx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ax(r){let e,t;return e=new Bm({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:r[0]("administration"),icon:Gl}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.pageTitleAndMetaProps={name:n[0]("administration"),icon:Gl}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ux(r){let e,t,n,l,s,i;return e=new Wn({props:{item:{type:"simple",href:ri,label:r[0]("administration"),icon:Gl}}}),n=new Wt({props:{path:"/",redirect:Oa}}),s=new kr({props:{cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)","--PageLayoutWithSidebar__sidebar-width":"15rem"},restrictWidth:!0,$$slots:{"secondary-header":[ax],default:[ox]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,[a]){const u={};a&1&&(u.item={type:"simple",href:ri,label:o[0]("administration"),icon:Gl}),e.$set(u);const c={};a&3&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function cx(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class fx extends x{constructor(e){super(),J(this,e,cx,ux,Q,{})}}const mx={reflect(){return cn("/api/ui/v0/reflect/",{})}};const dx=r=>({}),_0=r=>({}),_x=r=>({initialName:r&128}),p0=r=>({slot:"title",initialName:r[7]});function g0(r){let e,t=r[4].join(" ")+"",n;return{c(){e=M("p"),n=q(t),D(e,"class","error svelte-1komobi")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&16&&t!==(t=l[4].join(" ")+"")&&Y(n,t)},d(l){l&&v(e)}}}function px(r){let e,t,n,l,s,i;function o(f){r[20](f)}function a(f){r[21](f)}let u={"aria-label":r[11]("name"),disabled:r[5],placeholder:r[11]("name"),id:"name"};r[3]!==void 0&&(u.value=r[3]),r[6]!==void 0&&(u.element=r[6]),e=new gn({props:u}),Te.push(()=>Oe(e,"value",o)),Te.push(()=>Oe(e,"element",a)),e.$on("input",r[22]);let c=r[9]&&r[4].length&&g0(r);return{c(){C(e.$$.fragment),l=N(),c&&c.c(),s=oe()},m(f,m){y(e,f,m),w(f,l,m),c&&c.m(f,m),w(f,s,m),i=!0},p(f,m){const d={};m&2048&&(d["aria-label"]=f[11]("name")),m&32&&(d.disabled=f[5]),m&2048&&(d.placeholder=f[11]("name")),!t&&m&8&&(t=!0,d.value=f[3],Ne(()=>t=!1)),!n&&m&64&&(n=!0,d.element=f[6],Ne(()=>n=!1)),e.$set(d),f[9]&&f[4].length?c?c.p(f,m):(c=g0(f),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},i(f){i||(_(e.$$.fragment,f),i=!0)},o(f){g(e.$$.fragment,f),i=!1},d(f){S(e,f),f&&v(l),c&&c.d(f),f&&v(s)}}}function h0(r){let e,t,n;return t=new hn({props:{label:r[11]("description"),layout:"stacked",$$slots:{default:[gx]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","input-container svelte-1komobi")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2048&&(i.label=l[11]("description")),s&16779552&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function gx(r){let e,t,n;function l(i){r[23](i)}let s={"aria-label":r[11]("description"),disabled:r[5],placeholder:r[11]("description")};return r[8]!==void 0&&(s.value=r[8]),e=new bs({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&2048&&(a["aria-label"]=i[11]("description")),o&32&&(a.disabled=i[5]),o&2048&&(a.placeholder=i[11]("description")),!t&&o&256&&(t=!0,a.value=i[8],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function hx(r){let e,t,n,l,s,i;const o=r[18].helpText,a=Ie(o,r,r[24],_0);l=new hn({props:{label:r[11]("name"),layout:"stacked",$$slots:{default:[px]},$$scope:{ctx:r}}});let u=!r[2]&&h0(r);return{c(){e=M("div"),a&&a.c(),t=N(),n=M("div"),C(l.$$.fragment),s=N(),u&&u.c(),D(n,"class","input-container svelte-1komobi"),D(e,"class","form-container svelte-1komobi")},m(c,f){w(c,e,f),a&&a.m(e,null),I(e,t),I(e,n),y(l,n,null),I(e,s),u&&u.m(e,null),i=!0},p(c,f){a&&a.p&&(!i||f&16777216)&&Ae(a,o,c,c[24],i?Me(o,c[24],f,dx):Pe(c[24]),_0);const m={};f&2048&&(m.label=c[11]("name")),f&16779896&&(m.$$scope={dirty:f,ctx:c}),l.$set(m),c[2]?u&&(G(),g(u,1,1,()=>{u=null}),K()):u?(u.p(c,f),f&4&&_(u,1)):(u=h0(c),u.c(),_(u,1),u.m(e,null))},i(c){i||(_(a,c),_(l.$$.fragment,c),_(u),i=!0)},o(c){g(a,c),g(l.$$.fragment,c),g(u),i=!1},d(c){c&&v(e),a&&a.d(c),S(l),u&&u.d()}}}function bx(r){let e;const t=r[18].title,n=Ie(t,r,r[24],p0);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&16777344)&&Ae(n,t,l,l[24],e?Me(t,l[24],s,_x):Pe(l[24]),p0)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function $x(r){let e,t;return e=new Kr({props:{proceedButton:{label:r[0]},onCancel:r[19],onProceed:r[13],canProceed:r[10],slot:"footer"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.proceedButton={label:n[0]}),l&2&&(s.onCancel=n[19]),l&1024&&(s.canProceed=n[10]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vx(r){let e,t;return e=new al({props:{controller:r[1],allowClose:!r[5],closeOn:["button","esc","overlay"],$$slots:{footer:[$x],title:[bx],default:[hx]},$$scope:{ctx:r}}}),e.$on("open",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.controller=n[1]),l&32&&(s.allowClose=!n[5]),l&16781311&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wx(r,e,t){let n,l,s;Z(r,ge,W=>t(11,s=W));let{$$slots:i={},$$scope:o}=e,{saveButtonLabel:a=s("save")}=e,{controller:u}=e,{getNameValidationErrors:c}=e,{getInitialName:f=()=>""}=e,{getInitialDescription:m=()=>""}=e,{save:d}=e,{hideDescription:p=!1}=e,h=!1,b,$="",k="",T="",E=!1;async function A(){t(7,$=f()),t(3,k=$),t(8,T=m()),t(9,E=!1),b&&(await on(),b.focus(),b.setSelectionRange(0,b.value.length))}async function P(){try{t(5,h=!0),await d(k,T),u.close()}catch(W){Tt.fromError(W)}finally{t(5,h=!1)}}const O=()=>{u.close()};function R(W){k=W,t(3,k)}function F(W){b=W,t(6,b)}const L=()=>{t(9,E=!0)};function U(W){T=W,t(8,T)}return r.$$set=W=>{"saveButtonLabel"in W&&t(0,a=W.saveButtonLabel),"controller"in W&&t(1,u=W.controller),"getNameValidationErrors"in W&&t(14,c=W.getNameValidationErrors),"getInitialName"in W&&t(15,f=W.getInitialName),"getInitialDescription"in W&&t(16,m=W.getInitialDescription),"save"in W&&t(17,d=W.save),"hideDescription"in W&&t(2,p=W.hideDescription),"$$scope"in W&&t(24,o=W.$$scope)},r.$$.update=()=>{r.$$.dirty&16392&&t(4,n=c(k)),r.$$.dirty&16&&t(10,l=!n.length)},[a,u,p,k,n,h,b,$,T,E,l,s,A,P,c,f,m,d,i,O,R,F,L,U,o]}class Wm extends x{constructor(e){super(),J(this,e,wx,vx,Q,{saveButtonLabel:0,controller:1,getNameValidationErrors:14,getInitialName:15,getInitialDescription:16,save:17,hideDescription:2})}}function b0(r){let e,t;return e=new Cs({props:{$$slots:{default:[kx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4100&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kx(r){let e=r[2]("name_your_schema_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("name_your_schema_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function yx(r){let e,t,n=!r[1]&&b0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[1]?n&&(G(),g(n,1,1,()=>{n=null}),K()):n?(n.p(l,s),s&2&&_(n,1)):(n=b0(l),n.c(),_(n,1),n.m(e.parentNode,e))},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Sx(r){let e=r[2]("create_schema")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("create_schema")+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function Cx(r){let e,t;return e=new St({props:{text:r[2]("rename_schema"),$$slots:{default:[Ex,({slotName:n})=>({11:n}),({slotName:n})=>n?2048:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.text=n[2]("rename_schema")),l&7168&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $0(r){let e,t;return e=new vr({props:{$$slots:{default:[Tx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5120&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Tx(r){let e=r[10]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1024&&e!==(e=n[10]+"")&&Y(t,e)},d(n){n&&v(t)}}}function Ex(r){let e,t,n=r[11]==="schemaName"&&$0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[11]==="schemaName"?n?(n.p(l,s),s&2048&&_(n,1)):(n=$0(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Dx(r){let e,t,n,l;const s=[Cx,Sx],i=[];function o(a,u){return a[1]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("span"),n.c(),D(e,"slot","title")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function Ix(r){let e,t;return e=new Wm({props:{controller:r[0],save:r[4],getNameValidationErrors:r[3],getInitialName:r[6],getInitialDescription:r[7],saveButtonLabel:r[1]?r[2]("save"):r[2]("create_new_schema"),$$slots:{title:[Dx,({initialName:n})=>({10:n}),({initialName:n})=>n?1024:0],helpText:[yx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&2&&(s.getInitialName=n[6]),l&2&&(s.getInitialDescription=n[7]),l&6&&(s.saveButtonLabel=n[1]?n[2]("save"):n[2]("create_new_schema")),l&5126&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mx(r,e,t){let n,l;Z(r,ge,d=>t(2,n=d)),Z(r,Ro,d=>t(8,l=d));let{database:s}=e,{controller:i}=e,{schema:o=void 0}=e;function a(d){return o&&d.trim()===o.name?!1:Array.from((l==null?void 0:l.data)||[]).some(([,p])=>p.name.toLowerCase().trim()===d.trim())}function u(d){return d.trim()?a(d)?[n("schema_name_already_exists")]:[]:[n("schema_name_cannot_be_empty")]}async function c(d,p){try{o?await gU(s.id,{...o,name:d,description:p}):await pU(s.id,d,p)}catch(h){Tt.fromError(h)}}const f=()=>{var d;return(d=o==null?void 0:o.name)!=null?d:""},m=()=>{var d;return(d=o==null?void 0:o.description)!=null?d:""};return r.$$set=d=>{"database"in d&&t(5,s=d.database),"controller"in d&&t(0,i=d.controller),"schema"in d&&t(1,o=d.schema)},[i,o,n,u,c,s,f,m]}class Fy extends x{constructor(e){super(),J(this,e,Mx,Ix,Q,{database:5,controller:0,schema:1})}}function Ax(r){let e,t;return e=new Yn({props:{$$slots:{default:[Ox]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16416&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Px(r){let e,t=r[4]("loading")+"",n;return{c(){e=M("div"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&16&&t!==(t=l[4]("loading")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function Rx(r){let e,t;return e=new Ny({props:{accessControlObject:"database",usersWithAccess:r[6],usersWithoutAccess:r[7],addAccessForUser:r[9],removeAccessForUser:r[10],getUserRoles:r[11]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.usersWithAccess=n[6]),l&128&&(s.usersWithoutAccess=n[7]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ox(r){let e=r[5].errors.join(", ")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5].errors.join(", ")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Lx(r){let e,t,n,l;const s=[Rx,Px,Ax],i=[];function o(a,u){var c,f,m;return((c=a[5])==null?void 0:c.state)==="success"?0:((f=a[5])==null?void 0:f.state)==="processing"?1:((m=a[5])==null?void 0:m.state)==="failure"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function v0(r){let e,t;return e=new vr({props:{$$slots:{default:[Nx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16386&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Nx(r){let e=r[1].nickname+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].nickname+"")&&Y(t,e)},d(n){n&&v(t)}}}function Fx(r){let e,t,n=r[13]==="databaseName"&&v0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[13]==="databaseName"?n?(n.p(l,s),s&8192&&_(n,1)):(n=v0(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Hx(r){let e,t;return e=new St({props:{text:r[4]("manage_database_access"),$$slots:{default:[Fx,({slotName:n})=>({13:n}),({slotName:n})=>n?8192:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.text=n[4]("manage_database_access")),l&24578&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zx(r){let e,t;return e=new al({props:{controller:r[0],closeOn:["button","esc","overlay"],$$slots:{title:[Hx],default:[Lx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&16626&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vx(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(l,E=>t(6,o=E)),l),c,f=j,m=()=>(f(),f=ue(n,E=>t(7,c=E)),n);Z(r,ge,E=>t(4,s=E)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{controller:d}=e,{database:p}=e;const h=xf(),{requestStatus:b}=h;Z(r,b,E=>t(5,i=E));async function $(E,A){await h.addDatabaseRoleForUser(E.id,p,A)}async function k(E){await h.removeDatabaseAccessForUser(E.id,p)}function T(E){const A=E.getRoleForDb(p);return A?new Map([["database",A.role]]):void 0}return r.$$set=E=>{"controller"in E&&t(0,d=E.controller),"database"in E&&t(1,p=E.database)},r.$$.update=()=>{r.$$.dirty&2&&m(t(3,n=h.getUsersWithoutAccessToDb(p))),r.$$.dirty&2&&u(t(2,l=h.getUsersWithAccessToDb(p)))},[d,p,l,n,s,i,o,c,b,$,k,T]}class qx extends x{constructor(e){super(),J(this,e,Vx,zx,Q,{controller:0,database:1})}}function Bx(r){let e,t,n=r[1]("count_tables",{values:{count:r[0].num_tables}})+"",l,s,i,o,a,u=r[1]("count_explorations",{values:{count:r[0].num_queries}})+"",c;return{c(){e=M("div"),t=M("p"),l=q(n),s=N(),i=M("span"),o=N(),a=M("p"),c=q(u),D(t,"class","constituent svelte-1ybc0rc"),D(i,"class","divider svelte-1ybc0rc"),D(a,"class","constituent svelte-1ybc0rc"),D(e,"class","container svelte-1ybc0rc")},m(f,m){w(f,e,m),I(e,t),I(t,l),I(e,s),I(e,i),I(e,o),I(e,a),I(a,c)},p(f,[m]){m&3&&n!==(n=f[1]("count_tables",{values:{count:f[0].num_tables}})+"")&&Y(l,n),m&3&&u!==(u=f[1]("count_explorations",{values:{count:f[0].num_queries}})+"")&&Y(c,u)},i:j,o:j,d(f){f&&v(e)}}}function Ux(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{schema:l}=e;return r.$$set=s=>{"schema"in s&&t(0,l=s.schema)},[l,n]}class Wx extends x{constructor(e){super(),J(this,e,Ux,Bx,Q,{schema:0})}}function jx(r){let e,t,n;return t=new Xr({props:{showArrow:!1,triggerAppearance:"plain",preferredPlacement:"bottom-end",icon:Xf,menuStyle:"--spacing-y:0.8em;",$$slots:{default:[Xx]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","menu-trigger svelte-e4tbvr")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&65664&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Yx(r){let e,t,n;const l=[M1];let s={};for(let i=0;i<l.length;i+=1)s=le(s,l[i]);return t=new Be({props:s}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","lock svelte-e4tbvr")},m(i,o){w(i,e,o),y(t,e,null),n=!0},p(i,o){const a=o&0?de(l,[$e(M1)]):{};t.$set(a)},i(i){n||(_(t.$$.fragment,i),n=!0)},o(i){g(t.$$.fragment,i),n=!1},d(i){i&&v(e),S(t)}}}function Gx(r){let e=r[7]("edit_schema")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("edit_schema")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Kx(r){let e=r[7]("delete_schema")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("delete_schema")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Xx(r){let e,t,n,l,s,i;return e=new sn({props:{icon:vl,$$slots:{default:[Gx]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new yo({}),s=new sn({props:{danger:!0,icon:qt,$$slots:{default:[Kx]},$$scope:{ctx:r}}}),s.$on("click",r[11]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&65664&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&65664&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function w0(r){let e,t=r[0].description+"",n,l;return{c(){e=M("p"),n=q(t),D(e,"class","description svelte-e4tbvr"),D(e,"title",l=r[0].description)},m(s,i){w(s,e,i),I(e,n)},p(s,i){i&1&&t!==(t=s[0].description+"")&&Y(n,t),i&1&&l!==(l=s[0].description)&&D(e,"title",l)},d(s){s&&v(e)}}}function k0(r){let e,t;return e=new Cs({props:{$$slots:{default:[Qx]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65664&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qx(r){let e=r[7]("public_schema_info")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("public_schema_info")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Zx(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h,b,$;l=new wy({props:{schema:r[0],iconHasBox:!0}});const k=[Yx,jx],T=[];function E(O,R){return O[4]?0:O[1]?1:-1}~(i=E(r))&&(o=T[i]=k[i](r));let A=r[0].description&&w0(r);c=new Wx({props:{schema:r[0]}});let P=r[5]&&k0(r);return{c(){e=M("div"),t=M("div"),n=M("div"),C(l.$$.fragment),s=N(),o&&o.c(),a=N(),A&&A.c(),u=N(),C(c.$$.fragment),f=N(),P&&P.c(),m=N(),d=M("a"),D(n,"class","name svelte-e4tbvr"),D(t,"class","title-and-meta svelte-e4tbvr"),D(d,"href",r[6]),D(d,"class","hyperlink-overlay svelte-e4tbvr"),D(d,"aria-label",p=r[0].name),D(e,"class","schema-row svelte-e4tbvr"),re(e,"hover",r[2]),re(e,"focus",r[3]),re(e,"is-locked",r[4])},m(O,R){w(O,e,R),I(e,t),I(t,n),y(l,n,null),I(t,s),~i&&T[i].m(t,null),I(e,a),A&&A.m(e,null),I(e,u),y(c,e,null),I(e,f),P&&P.m(e,null),I(e,m),I(e,d),h=!0,b||($=[He(d,"mouseenter",r[12]),He(d,"mouseleave",r[13]),He(d,"focusin",r[14]),He(d,"focusout",r[15])],b=!0)},p(O,[R]){const F={};R&1&&(F.schema=O[0]),l.$set(F);let L=i;i=E(O),i===L?~i&&T[i].p(O,R):(o&&(G(),g(T[L],1,1,()=>{T[L]=null}),K()),~i?(o=T[i],o?o.p(O,R):(o=T[i]=k[i](O),o.c()),_(o,1),o.m(t,null)):o=null),O[0].description?A?A.p(O,R):(A=w0(O),A.c(),A.m(e,u)):A&&(A.d(1),A=null);const U={};R&1&&(U.schema=O[0]),c.$set(U),O[5]?P?(P.p(O,R),R&32&&_(P,1)):(P=k0(O),P.c(),_(P,1),P.m(e,m)):P&&(G(),g(P,1,1,()=>{P=null}),K()),(!h||R&64)&&D(d,"href",O[6]),(!h||R&1&&p!==(p=O[0].name))&&D(d,"aria-label",p),(!h||R&4)&&re(e,"hover",O[2]),(!h||R&8)&&re(e,"focus",O[3]),(!h||R&16)&&re(e,"is-locked",O[4])},i(O){h||(_(l.$$.fragment,O),_(o),_(c.$$.fragment,O),_(P),h=!0)},o(O){g(l.$$.fragment,O),g(o),g(c.$$.fragment,O),g(P),h=!1},d(O){O&&v(e),S(l),~i&&T[i].d(),A&&A.d(),S(c),P&&P.d(),b=!1,It($)}}}function Jx(r,e,t){let n,l,s,i;Z(r,ge,T=>t(7,i=T));const o=ht();let{database:a}=e,{schema:u}=e,{canExecuteDDL:c=!0}=e,f=!1,m=!1;const d=()=>o("edit"),p=()=>o("delete"),h=()=>{t(2,f=!0)},b=()=>{t(2,f=!1)},$=()=>{t(3,m=!0)},k=()=>{t(3,m=!1)};return r.$$set=T=>{"database"in T&&t(9,a=T.database),"schema"in T&&t(0,u=T.schema),"canExecuteDDL"in T&&t(1,c=T.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&513&&t(6,n=br(a.id,u.id)),r.$$.dirty&1&&t(5,l=u.name==="public"),r.$$.dirty&1&&t(4,s=u.name==="public")},[u,c,f,m,s,l,n,i,o,a,d,p,h,b,$,k]}class xx extends x{constructor(e){super(),J(this,e,Jx,Zx,Q,{database:9,schema:0,canExecuteDDL:1})}}function y0(r,e,t){const n=r.slice();return n[2]=e[t],n}function S0(r,e){let t,n,l,s;return n=new pu({props:{loading:!0}}),{key:r,first:null,c(){t=M("div"),C(n.$$.fragment),l=N(),D(t,"class","schema-skeleton svelte-188e21j"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),I(t,l),s=!0},p(i,o){},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&v(t),S(n)}}}function eee(r){let e,t=[],n=new Map,l,s=r[0];const i=o=>o[2];for(let o=0;o<s.length;o+=1){let a=y0(r,s,o),u=i(a);n.set(u,t[o]=S0(u))}return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","schema-skeleton-container svelte-188e21j")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&1&&(s=o[0],G(),t=gt(t,a,i,1,o,s,n,e,bt,S0,null,y0),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function tee(r,e,t){let n,{numTables:l=4}=e;return r.$$set=s=>{"numTables"in s&&t(1,l=s.numTables)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=Array.from({length:l},(s,i)=>i))},[n,l]}class nee extends x{constructor(e){super(),J(this,e,tee,eee,Q,{numTables:1})}}function C0(r,e,t){const n=r.slice();return n[33]=e[t],n}function T0(r,e,t){const n=r.slice();return n[30]=e[t],n}function E0(r){let e,t,n,l,s=r[7]&&D0(r);return n=new Xr({props:{showArrow:!1,triggerAppearance:"plain",label:"",closeOnInnerClick:!1,icon:Xf,preferredPlacement:"bottom-end",menuStyle:"--spacing-y:0.8em;",$$slots:{default:[aee]},$$scope:{ctx:r}}}),{c(){e=M("div"),s&&s.c(),t=N(),C(n.$$.fragment)},m(i,o){w(i,e,o),s&&s.m(e,null),I(e,t),y(n,e,null),l=!0},p(i,o){i[7]?s?(s.p(i,o),o[0]&128&&_(s,1)):(s=D0(i),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K());const a={};o[0]&1064|o[1]&64&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){l||(_(s),_(n.$$.fragment,i),l=!0)},o(i){g(s),g(n.$$.fragment,i),l=!1},d(i){i&&v(e),s&&s.d(),S(n)}}}function D0(r){let e,t;return e=new dt({props:{appearance:"secondary",$$slots:{default:[ree]},$$scope:{ctx:r}}}),e.$on("click",r[19]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ree(r){let e,t,n,l=r[10]("manage_access")+"",s,i;const o=[Ta];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(Ta)]):{};e.$set(f),(!i||c[0]&1024)&&l!==(l=u[10]("manage_access")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function lee(r){let e,t=r[10]("sync_external_changes_structure_help")+"",n,l,s,i=r[10]("sync_external_changes_data_help")+"",o;return{c(){e=M("p"),n=q(t),l=N(),s=M("p"),o=q(i)},m(a,u){w(a,e,u),I(e,n),w(a,l,u),w(a,s,u),I(s,o)},p(a,u){u[0]&1024&&t!==(t=a[10]("sync_external_changes_structure_help")+"")&&Y(n,t),u[0]&1024&&i!==(i=a[10]("sync_external_changes_data_help")+"")&&Y(o,i)},d(a){a&&v(e),a&&v(l),a&&v(s)}}}function see(r){let e,t=r[10]("sync_external_changes")+"",n,l,s,i;return s=new $r({props:{$$slots:{default:[lee]},$$scope:{ctx:r}}}),{c(){e=M("div"),n=q(t),l=N(),C(s.$$.fragment),D(e,"class","reflect")},m(o,a){w(o,e,a),I(e,n),I(e,l),y(s,e,null),i=!0},p(o,a){(!i||a[0]&1024)&&t!==(t=o[10]("sync_external_changes")+"")&&Y(n,t);const u={};a[0]&1024|a[1]&64&&(u.$$scope={dirty:a,ctx:o}),s.$set(u)},i(o){i||(_(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&v(e),S(s)}}}function I0(r){let e,t,n,l;return e=new sn({props:{icon:vl,$$slots:{default:[iee]},$$scope:{ctx:r}}}),e.$on("click",r[24]),n=new sn({props:{icon:qt,danger:!0,$$slots:{default:[oee]},$$scope:{ctx:r}}}),n.$on("click",r[25]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&1024|i[1]&64&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[0]&1024|i[1]&64&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function iee(r){let e=r[10]("edit_connection")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1024&&e!==(e=n[10]("edit_connection")+"")&&Y(t,e)},d(n){n&&v(t)}}}function oee(r){let e=r[10]("delete_connection")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1024&&e!==(e=n[10]("delete_connection")+"")&&Y(t,e)},d(n){n&&v(t)}}}function aee(r){var i;let e,t,n,l;e=new sn({props:{icon:{...ms,spin:r[5]},disabled:r[5],$$slots:{default:[see]},$$scope:{ctx:r}}}),e.$on("click",r[21]);let s=((i=r[3])==null?void 0:i.isSuperUser)&&I0(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(o,a){y(e,o,a),w(o,t,a),s&&s.m(o,a),w(o,n,a),l=!0},p(o,a){var c;const u={};a[0]&32&&(u.icon={...ms,spin:o[5]}),a[0]&32&&(u.disabled=o[5]),a[0]&1024|a[1]&64&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),(c=o[3])!=null&&c.isSuperUser?s?(s.p(o,a),a[0]&8&&_(s,1)):(s=I0(o),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(o){l||(_(e.$$.fragment,o),_(s),l=!0)},o(o){g(e.$$.fragment,o),g(s),l=!1},d(o){S(e,o),o&&v(t),s&&s.d(o),o&&v(n)}}}function uee(r){let e,t,n=(r[8]||r[7])&&E0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[8]||l[7]?n?(n.p(l,s),s[0]&384&&_(n,1)):(n=E0(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function M0(r){let e,t;return e=new dt({props:{appearance:"primary",$$slots:{default:[cee]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cee(r){let e,t,n,l=r[10]("create_schema")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c[0]&1024)&&l!==(l=u[10]("create_schema")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function fee(r){let e,t,n=r[8]&&M0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[8]?n?(n.p(l,s),s[0]&256&&_(n,1)):(n=M0(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function A0(r){let e,t;return{c(){e=M("strong"),t=q(r[1])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l[0]&2&&Y(t,n[1])},d(n){n&&v(e)}}}function mee(r){let e,t=r[36]==="searchValue"&&A0(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[36]==="searchValue"?t?t.p(n,l):(t=A0(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function dee(r){let e,t,n;return t=new St({props:{text:r[10]("schemas_matching_search",{values:{count:r[6].length}}),$$slots:{default:[mee,({slotName:l})=>({36:l}),({slotName:l})=>[0,l?32:0]]},$$scope:{ctx:r}}}),{c(){e=M("p"),C(t.$$.fragment),D(e,"slot","resultInfo")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&1088&&(i.text=l[10]("schemas_matching_search",{values:{count:l[6].length}})),s[0]&2|s[1]&96&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function _ee(r){let e,t;return e=new Yn({props:{fullWidth:!0,$$slots:{default:[hee]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&512|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pee(r){let e,t;return e=new nee({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gee(r){let e=[],t=new Map,n,l,s=r[6];const i=o=>o[30].id;for(let o=0;o<s.length;o+=1){let a=T0(r,s,o),u=i(a);t.set(u,e[o]=R0(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a[0]&393289&&(s=o[6],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,R0,n,T0),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function P0(r,e){let t,n=e[33]+"",l;return{key:r,first:null,c(){t=M("p"),l=q(n),this.first=t},m(s,i){w(s,t,i),I(t,l)},p(s,i){e=s,i[0]&512&&n!==(n=e[33]+"")&&Y(l,n)},d(s){s&&v(t)}}}function hee(r){let e=[],t=new Map,n,l=r[9].errors;const s=i=>i[33];for(let i=0;i<l.length;i+=1){let o=C0(r,l,i),a=s(o);t.set(a,e[i]=P0(a,o))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();n=oe()},m(i,o){for(let a=0;a<e.length;a+=1)e[a].m(i,o);w(i,n,o)},p(i,o){o[0]&512&&(l=i[9].errors,e=gt(e,o,s,1,i,l,t,n.parentNode,wo,P0,n,C0))},d(i){for(let o=0;o<e.length;o+=1)e[o].d(i);i&&v(n)}}}function R0(r,e){var a;let t,n,l,s;function i(){return e[26](e[30])}function o(){return e[27](e[30])}return n=new xx({props:{database:e[0],schema:e[30],canExecuteDDL:(a=e[3])==null?void 0:a.hasPermission({database:e[0],schema:e[30]},"canExecuteDDL")}}),n.$on("edit",i),n.$on("delete",o),{key:r,first:null,c(){t=M("li"),C(n.$$.fragment),l=N(),D(t,"class","schema-list-item svelte-ujdzkl"),this.first=t},m(u,c){w(u,t,c),y(n,t,null),I(t,l),s=!0},p(u,c){var m;e=u;const f={};c[0]&1&&(f.database=e[0]),c[0]&64&&(f.schema=e[30]),c[0]&73&&(f.canExecuteDDL=(m=e[3])==null?void 0:m.hasPermission({database:e[0],schema:e[30]},"canExecuteDDL")),n.$set(f)},i(u){s||(_(n.$$.fragment,u),s=!0)},o(u){g(n.$$.fragment,u),s=!1},d(u){u&&v(t),S(n)}}}function bee(r){let e,t,n,l;const s=[gee,pee,_ee],i=[];function o(a,u){return a[9].state==="success"?0:a[9].state==="processing"?1:a[9].state==="failure"?2:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=M("ul"),n&&n.c(),D(e,"class","schema-list svelte-ujdzkl"),D(e,"slot","content")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),~t&&i[t].d()}}}function $ee(r){let e,t,n,l,s,i=r[10]("schemas")+"",o,a,u=r[2].size+"",c,f,m,d,p,h,b,$,k,T,E,A,P,O;e=new Bm({props:{pageTitleAndMetaProps:{name:r[0].nickname,type:"database",icon:wl},$$slots:{action:[uee]},$$scope:{ctx:r}}});function R(L){r[28](L)}let F={searchPlaceholder:r[10]("search_schemas"),$$slots:{content:[bee],resultInfo:[dee],action:[fee]},$$scope:{ctx:r}};return r[1]!==void 0&&(F.searchQuery=r[1]),d=new Ho({props:F}),Te.push(()=>Oe(d,"searchQuery",R)),d.$on("clear",r[20]),b=new Fy({props:{controller:r[11],database:r[0],schema:r[4]}}),k=new qx({props:{controller:r[12],database:r[0]}}),E=new Py({props:{controller:r[13],connection:r[0]}}),P=new Ry({props:{controller:r[14],connection:r[0]}}),P.$on("delete",r[29]),{c(){C(e.$$.fragment),t=N(),n=M("div"),l=M("div"),s=M("h2"),o=q(i),a=q(" ("),c=q(u),f=q(")"),m=N(),C(d.$$.fragment),h=N(),C(b.$$.fragment),$=N(),C(k.$$.fragment),T=N(),C(E.$$.fragment),A=N(),C(P.$$.fragment),D(s,"class","schema-list-title svelte-ujdzkl"),D(l,"class","schema-list-title-container svelte-ujdzkl"),D(n,"class","schema-list-wrapper svelte-ujdzkl")},m(L,U){y(e,L,U),w(L,t,U),w(L,n,U),I(n,l),I(l,s),I(s,o),I(s,a),I(s,c),I(s,f),I(n,m),y(d,n,null),w(L,h,U),y(b,L,U),w(L,$,U),y(k,L,U),w(L,T,U),y(E,L,U),w(L,A,U),y(P,L,U),O=!0},p(L,U){const W={};U[0]&1&&(W.pageTitleAndMetaProps={name:L[0].nickname,type:"database",icon:wl}),U[0]&1448|U[1]&64&&(W.$$scope={dirty:U,ctx:L}),e.$set(W),(!O||U[0]&1024)&&i!==(i=L[10]("schemas")+"")&&Y(o,i),(!O||U[0]&4)&&u!==(u=L[2].size+"")&&Y(c,u);const H={};U[0]&1024&&(H.searchPlaceholder=L[10]("search_schemas")),U[0]&1867|U[1]&64&&(H.$$scope={dirty:U,ctx:L}),!p&&U[0]&2&&(p=!0,H.searchQuery=L[1],Ne(()=>p=!1)),d.$set(H);const z={};U[0]&1&&(z.database=L[0]),U[0]&16&&(z.schema=L[4]),b.$set(z);const te={};U[0]&1&&(te.database=L[0]),k.$set(te);const se={};U[0]&1&&(se.connection=L[0]),E.$set(se);const B={};U[0]&1&&(B.connection=L[0]),P.$set(B)},i(L){O||(_(e.$$.fragment,L),_(d.$$.fragment,L),_(b.$$.fragment,L),_(k.$$.fragment,L),_(E.$$.fragment,L),_(P.$$.fragment,L),O=!0)},o(L){g(e.$$.fragment,L),g(d.$$.fragment,L),g(b.$$.fragment,L),g(k.$$.fragment,L),g(E.$$.fragment,L),g(P.$$.fragment,L),O=!1},d(L){S(e,L),L&&v(t),L&&v(n),S(d),L&&v(h),S(b,L),L&&v($),S(k,L),L&&v(T),S(E,L),L&&v(A),S(P,L)}}}function vee(r,e){const t=[];return r.forEach(n=>{var l;(l=n.name)!=null&&l.toLowerCase().includes(e.toLowerCase())&&t.push(n)}),t}function wee(r,e,t){let n,l,s,i,o,a,u,c,f;Z(r,ge,B=>t(10,u=B)),Z(r,Ro,B=>t(22,c=B));const m=Bn.spawnModalController(),d=Bn.spawnModalController(),p=Bn.spawnModalController(),h=Bn.spawnModalController(),b=Zt();Z(r,b,B=>t(23,f=B));let{database:$}=e,k="",T,E=!1;function A(){t(4,T=void 0),m.open()}function P(B){t(4,T=B),m.open()}function O(B){Rl({identifierType:u("schema"),identifierName:B.name,body:[u("schema_delete_warning"),u("are_you_sure_to_proceed")],onProceed:async()=>{await hU($.id,B.id),fW(B.id)}})}function R(){d.open()}function F(){t(1,k="")}async function L(){try{t(5,E=!0),await mx.reflect(),window.location.reload()}catch(B){Tt.fromError(B)}finally{t(5,E=!1)}}const U=()=>p.open(),W=()=>h.open(),H=B=>P(B),z=B=>O(B);function te(B){k=B,t(1,k)}const se=()=>un.goto(li);return r.$$set=B=>{"database"in B&&t(0,$=B.database)},r.$$.update=()=>{r.$$.dirty[0]&8388608&&t(3,n=f),r.$$.dirty[0]&4194304&&t(2,l=c.data),r.$$.dirty[0]&4194304&&t(9,s=c.requestStatus),r.$$.dirty[0]&9&&t(8,i=n==null?void 0:n.hasPermission({database:$},"canExecuteDDL")),r.$$.dirty[0]&9&&t(7,o=n==null?void 0:n.hasPermission({database:$},"canEditPermissions")),r.$$.dirty[0]&6&&t(6,a=vee(l,k))},[$,k,l,n,T,E,a,o,i,s,u,m,d,p,h,b,A,P,O,R,F,L,c,f,U,W,H,z,te,se]}class kee extends x{constructor(e){super(),J(this,e,wee,$ee,Q,{database:0},null,[-1,-1])}}function O0(r){let e,t;return e=new kee({props:{database:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yee(r){let e=r[0].id,t,n,l=O0(r);return{c(){l.c(),t=oe()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&1&&Q(e,e=s[0].id)?(G(),g(l,1,1,j),K(),l=O0(s),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l.d(s)}}}function See(r){let e,t,n,l;return document.title=e=Pn(r[0].nickname),n=new kr({props:{restrictWidth:!0,cssVariables:{"--layout-background-color":"var(--sand-100)","--max-layout-width":"var(--max-layout-width-console-pages)","--AppSecondaryHeader__padding":"var(--size-x-large) 0"},$$slots:{default:[yee]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&1)&&e!==(e=Pn(s[0].nickname))&&(document.title=e);const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function Cee(r,e,t){let{database:n}=e;return r.$$set=l=>{"database"in l&&t(0,n=l.database)},[n]}class Tee extends x{constructor(e){super(),J(this,e,Cee,See,Q,{database:0})}}function Eee(r,e){window.dispatchEvent(new CustomEvent("userAction",{detail:{eventName:r,metadata:e}}))}const Dee=r=>({}),L0=r=>({});function N0(r){let e,t;const n=r[3].action,l=Ie(n,r,r[2],L0);return{c(){e=M("div"),l&&l.c(),D(e,"class","action-container svelte-1fewhnt")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&4)&&Ae(l,n,s,s[2],t?Me(n,s[2],i,Dee):Pe(s[2]),L0)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function Iee(r){let e,t,n,l,s,i=r[1].action&&N0(r);return{c(){e=M("div"),t=M("span"),n=q(r[0]),l=N(),i&&i.c(),D(t,"class","title svelte-1fewhnt"),D(e,"class","container svelte-1fewhnt")},m(o,a){w(o,e,a),I(e,t),I(t,n),I(e,l),i&&i.m(e,null),s=!0},p(o,[a]){(!s||a&1)&&Y(n,o[0]),o[1].action?i?(i.p(o,a),a&2&&_(i,1)):(i=N0(o),i.c(),_(i,1),i.m(e,null)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(i),s=!0)},o(o){g(i),s=!1},d(o){o&&v(e),i&&i.d()}}}function Mee(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n);let{title:i}=e;return r.$$set=o=>{"title"in o&&t(0,i=o.title),"$$scope"in o&&t(2,l=o.$$scope)},[i,s,l,n]}class wf extends x{constructor(e){super(),J(this,e,Mee,Iee,Q,{title:0})}}function Aee(r){let e,t,n,l,s;const i=[r[0]];let o={};for(let c=0;c<i.length;c+=1)o=le(o,i[c]);n=new Be({props:o});const a=r[2].default,u=Ie(a,r,r[1],null);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),u&&u.c(),D(t,"class","empty-entity svelte-99ol3q"),D(e,"class","container svelte-99ol3q")},m(c,f){w(c,e,f),I(e,t),y(n,t,null),I(t,l),u&&u.m(t,null),s=!0},p(c,[f]){const m=f&1?de(i,[$e(c[0])]):{};n.$set(m),u&&u.p&&(!s||f&2)&&Ae(u,a,c,c[1],s?Me(a,c[1],f,null):Pe(c[1]),null)},i(c){s||(_(n.$$.fragment,c),_(u,c),s=!0)},o(c){g(n.$$.fragment,c),g(u,c),s=!1},d(c){c&&v(e),S(n),u&&u.d(c)}}}function Pee(r,e,t){let{$$slots:n={},$$scope:l}=e,{icon:s}=e;return r.$$set=i=>{"icon"in i&&t(0,s=i.icon),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class Hy extends x{constructor(e){super(),J(this,e,Pee,Aee,Q,{icon:0})}}function Ree(r){let e,t,n;return t=new Sn({props:{table:{name:r[4]("select_table")}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","placeholder svelte-jwojwi")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.table={name:l[4]("select_table")}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Oee(r){let e,t;return e=new Sn({props:{table:r[8]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.table=n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lee(r){let e,t,n,l;const s=[Oee,Ree],i=[];function o(a,u){return a[8]?0:a[1]?-1:1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function Nee(r){let e,t,n;function l(i){r[6](i)}let s={options:r[3],valuesAreEqual:Fee,autoSelect:r[2],$$slots:{default:[Lee,({option:i})=>({8:i}),({option:i})=>i?256:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&8&&(a.options=i[3]),o&4&&(a.autoSelect=i[2]),o&786&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}const Fee=(r,e)=>(r==null?void 0:r.id)===(e==null?void 0:e.id);function Hee(r,e,t){let n,l;Z(r,ge,f=>t(4,l=f));let{tables:s}=e,{value:i=void 0}=e,{prependBlank:o=!1}=e,{autoSelect:a="first"}=e;function u(f){i=f,t(0,i)}function c(f){ye.call(this,r,f)}return r.$$set=f=>{"tables"in f&&t(5,s=f.tables),"value"in f&&t(0,i=f.value),"prependBlank"in f&&t(1,o=f.prependBlank),"autoSelect"in f&&t(2,a=f.autoSelect)},r.$$.update=()=>{r.$$.dirty&34&&t(3,n=o?[void 0,...s]:s)},[i,o,a,n,l,s,u,c]}class go extends x{constructor(e){super(),J(this,e,Hee,Nee,Q,{tables:5,value:0,prependBlank:1,autoSelect:2})}}function zee(r){let e,t,n;function l(i){r[5](i)}let s={tables:r[3],prependBlank:r[1],autoSelect:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new go({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&8&&(a.tables=i[3]),o&2&&(a.prependBlank=i[1]),o&4&&(a.autoSelect=i[2]),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Vee(r,e,t){let n,l;Z(r,Xu,c=>t(4,l=c));let{value:s=void 0}=e,{prependBlank:i=!1}=e,{autoSelect:o="first"}=e;function a(c){s=c,t(0,s)}function u(c){ye.call(this,r,c)}return r.$$set=c=>{"value"in c&&t(0,s=c.value),"prependBlank"in c&&t(1,i=c.prependBlank),"autoSelect"in c&&t(2,o=c.autoSelect)},r.$$.update=()=>{r.$$.dirty&16&&t(3,n=[...l.values()])},[s,i,o,n,l,a,u]}class qee extends x{constructor(e){super(),J(this,e,Vee,zee,Q,{value:0,prependBlank:1,autoSelect:2})}}function Bee(r){let e,t;const n=[pa];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(pa)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Uee(r){let e,t;const n=[bl];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(bl)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Wee(r){let e,t;const n=[jc];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(jc)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function jee(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yee(r){var p;let e,t,n,l,s,i,o=((p=r[1][r[0]])!=null?p:"")+"",a,u,c;const f=[jee,Wee,Uee,Bee],m=[];function d(h,b){return h[0]==="processing"?0:h[0]==="success"?1:h[0]==="failure"?2:3}return n=d(r),l=m[n]=f[n](r),{c(){e=M("span"),t=M("span"),l.c(),s=N(),i=M("span"),a=q(o),D(t,"class","icon svelte-yh5co2"),D(e,"class",u="status-indicator "+r[0]+" "+r[2]+" svelte-yh5co2")},m(h,b){w(h,e,b),I(e,t),m[n].m(t,null),I(e,s),I(e,i),I(i,a),c=!0},p(h,[b]){var k;let $=n;n=d(h),n===$?m[n].p(h,b):(G(),g(m[$],1,1,()=>{m[$]=null}),K(),l=m[n],l?l.p(h,b):(l=m[n]=f[n](h),l.c()),_(l,1),l.m(t,null)),(!c||b&3)&&o!==(o=((k=h[1][h[0]])!=null?k:"")+"")&&Y(a,o),(!c||b&5&&u!==(u="status-indicator "+h[0]+" "+h[2]+" svelte-yh5co2"))&&D(e,"class",u)},i(h){c||(_(l),c=!0)},o(h){g(l),c=!1},d(h){h&&v(e),m[n].d()}}}function Gee(r,e,t){let{state:n}=e,{messages:l}=e,{class:s=""}=e;return r.$$set=i=>{"state"in i&&t(0,n=i.state),"messages"in i&&t(1,l=i.messages),"class"in i&&t(2,s=i.class)},[n,l,s]}class Kee extends x{constructor(e){super(),J(this,e,Gee,Yee,Q,{state:0,messages:1,class:2})}}function F0(r){let e,t,n,l;return t=new Kee({props:{state:r[1],messages:{processing:r[2]("saving_changes"),failure:r[2]("unable_to_save_changes"),warning:r[2]("unsaved_changes"),success:r[2]("all_changes_saved")}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","modification-status-indicator svelte-jrwjrw")},m(s,i){w(s,e,i),y(t,e,null),l=!0},p(s,i){r=s;const o={};i&2&&(o.state=r[1]),i&4&&(o.messages={processing:r[2]("saving_changes"),failure:r[2]("unable_to_save_changes"),warning:r[2]("unsaved_changes"),success:r[2]("all_changes_saved")}),t.$set(o)},i(s){l||(_(t.$$.fragment,s),n&&n.end(1),l=!0)},o(s){g(t.$$.fragment,s),s&&(n=vo(e,jl,{duration:r[0]})),l=!1},d(s){s&&v(e),S(t),s&&n&&n.end()}}}function Xee(r){let e,t,n=r[1]&&F0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&_(n,1)):(n=F0(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Qee(r,e,t){let n,l;Z(r,ge,d=>t(2,l=d));let{requestState:s}=e,{hasChanges:i=!1}=e,o,a,u=0;function c(){t(0,u=1e3),t(5,o=void 0)}function f(d){window.clearTimeout(a),a=void 0,t(0,u=0),t(5,o=d),o==="success"&&(a=window.setTimeout(c,5e3))}function m(d){!d&&o==="failure"&&t(5,o=void 0)}return Dl(()=>{window.clearTimeout(a)}),r.$$set=d=>{"requestState"in d&&t(3,s=d.requestState),"hasChanges"in d&&t(4,i=d.hasChanges)},r.$$.update=()=>{r.$$.dirty&8&&f(s),r.$$.dirty&16&&m(i),r.$$.dirty&48&&t(1,n=(()=>{if(o==="processing")return"processing";if(i&&o==="failure")return"failure";if(i)return"warning";if(o==="success")return"success"})())},[u,n,l,s,i,o]}class jm extends x{constructor(e){super(),J(this,e,Qee,Xee,Q,{requestState:3,hasChanges:4})}}const Zee=r=>({}),H0=r=>({});function z0(r){let e,t,n,l,s,i,o,a,u;const c=[r[0].icon,{class:"block"}];let f={};for(let d=0;d<c.length;d+=1)f=le(f,c[d]);n=new Be({props:f}),o=new pi({props:{$$slots:{default:[Jee]},$$scope:{ctx:r}}});let m=r[0].description&&V0(r);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("div"),i=M("h1"),C(o.$$.fragment),a=N(),m&&m.c(),D(t,"class","icon svelte-1txyryq"),D(i,"class","name svelte-1txyryq"),D(s,"class","text svelte-1txyryq"),D(e,"class","heading svelte-1txyryq")},m(d,p){w(d,e,p),I(e,t),y(n,t,null),I(e,l),I(e,s),I(s,i),y(o,i,null),I(s,a),m&&m.m(s,null),u=!0},p(d,p){const h=p&1?de(c,[$e(d[0].icon),c[1]]):{};n.$set(h);const b={};p&9&&(b.$$scope={dirty:p,ctx:d}),o.$set(b),d[0].description?m?(m.p(d,p),p&1&&_(m,1)):(m=V0(d),m.c(),_(m,1),m.m(s,null)):m&&(G(),g(m,1,1,()=>{m=null}),K())},i(d){u||(_(n.$$.fragment,d),_(o.$$.fragment,d),_(m),u=!0)},o(d){g(n.$$.fragment,d),g(o.$$.fragment,d),g(m),u=!1},d(d){d&&v(e),S(n),S(o),m&&m.d()}}}function Jee(r){let e=r[0].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function V0(r){let e,t,n;return t=new pi({props:{$$slots:{default:[xee]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","description svelte-1txyryq")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&9&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function xee(r){let e=r[0].description+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0].description+"")&&Y(t,e)},d(n){n&&v(t)}}}function q0(r){let e,t;const n=r[2].default,l=Ie(n,r,r[3],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","actions-left svelte-1txyryq")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&8)&&Ae(l,n,s,s[3],t?Me(n,s[3],i,null):Pe(s[3]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function B0(r){let e,t;const n=r[2]["actions-right"],l=Ie(n,r,r[3],H0);return{c(){e=M("div"),l&&l.c(),D(e,"class","actions-right svelte-1txyryq")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&8)&&Ae(l,n,s,s[3],t?Me(n,s[3],i,Zee):Pe(s[3]),H0)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function ete(r){let e,t,n,l,s,i=r[0]&&z0(r),o=r[1].default&&q0(r),a=r[1]["actions-right"]&&B0(r);return{c(){e=M("div"),i&&i.c(),t=N(),n=M("div"),o&&o.c(),l=N(),a&&a.c(),D(n,"class","actions svelte-1txyryq"),re(n,"has-right-actions",r[1]["actions-right"]),D(e,"class","entity-page-header svelte-1txyryq")},m(u,c){w(u,e,c),i&&i.m(e,null),I(e,t),I(e,n),o&&o.m(n,null),I(n,l),a&&a.m(n,null),s=!0},p(u,[c]){u[0]?i?(i.p(u,c),c&1&&_(i,1)):(i=z0(u),i.c(),_(i,1),i.m(e,t)):i&&(G(),g(i,1,1,()=>{i=null}),K()),u[1].default?o?(o.p(u,c),c&2&&_(o,1)):(o=q0(u),o.c(),_(o,1),o.m(n,l)):o&&(G(),g(o,1,1,()=>{o=null}),K()),u[1]["actions-right"]?a?(a.p(u,c),c&2&&_(a,1)):(a=B0(u),a.c(),_(a,1),a.m(n,null)):a&&(G(),g(a,1,1,()=>{a=null}),K()),(!s||c&2)&&re(n,"has-right-actions",u[1]["actions-right"])},i(u){s||(_(i),_(o),_(a),s=!0)},o(u){g(i),g(o),g(a),s=!1},d(u){u&&v(e),i&&i.d(),o&&o.d(),a&&a.d()}}}function tte(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n);let{title:i=void 0}=e;return r.$$set=o=>{"title"in o&&t(0,i=o.title),"$$scope"in o&&t(3,l=o.$$scope)},[i,s,n,l]}class Ym extends x{constructor(e){super(),J(this,e,tte,ete,Q,{title:0})}}function nte(r){let e,t;return e=new qee({props:{autoSelect:"none",value:r[8]}}),e.$on("change",r[26]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&256&&(s.value=n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rte(r){let e,t;return e=new Sn({props:{table:r[8]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&256&&(s.table=n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lte(r){let e=r[12]("base_table_exploration_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&4096&&e!==(e=n[12]("base_table_exploration_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function U0(r){let e,t;return e=new dt({props:{appearance:"secondary",$$slots:{default:[ste]},$$scope:{ctx:r}}}),e.$on("click",r[27]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4096|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ste(r){let e=r[12]("start_over")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&4096&&e!==(e=n[12]("start_over")+"")&&Y(t,e)},d(n){n&&v(t)}}}function W0(r){var n;let e,t;return e=new jm({props:{requestState:(n=r[4].saveState)==null?void 0:n.state,hasChanges:r[13]}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s[0]&16&&(i.requestState=(o=l[4].saveState)==null?void 0:o.state),s[0]&8192&&(i.hasChanges=l[13]),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function ite(r){let e,t,n=(r[7]?r[12]("based_on"):r[12]("exploring_from"))+"",l,s,i,o,a,u,c,f,m,d;const p=[rte,nte],h=[];function b(T,E){return T[8]?0:1}o=b(r),a=h[o]=p[o](r),c=new $r({props:{$$slots:{default:[lte]},$$scope:{ctx:r}}});let $=!r[7]&&r[8]&&U0(r),k=r[7]&&W0(r);return{c(){e=M("div"),t=M("div"),l=q(n),s=N(),i=M("div"),a.c(),u=N(),C(c.$$.fragment),f=N(),$&&$.c(),m=N(),k&&k.c(),D(t,"class","detail svelte-15jmytk"),D(i,"class","base-table-holder svelte-15jmytk"),re(i,"table-selected",r[8]),D(e,"class","detail-wrapper svelte-15jmytk")},m(T,E){w(T,e,E),I(e,t),I(t,l),I(e,s),I(e,i),h[o].m(i,null),I(i,u),y(c,i,null),I(e,f),$&&$.m(e,null),I(e,m),k&&k.m(e,null),d=!0},p(T,E){(!d||E[0]&4224)&&n!==(n=(T[7]?T[12]("based_on"):T[12]("exploring_from"))+"")&&Y(l,n);let A=o;o=b(T),o===A?h[o].p(T,E):(G(),g(h[A],1,1,()=>{h[A]=null}),K(),a=h[o],a?a.p(T,E):(a=h[o]=p[o](T),a.c()),_(a,1),a.m(i,u));const P={};E[0]&4096|E[1]&2&&(P.$$scope={dirty:E,ctx:T}),c.$set(P),(!d||E[0]&256)&&re(i,"table-selected",T[8]),!T[7]&&T[8]?$?($.p(T,E),E[0]&384&&_($,1)):($=U0(T),$.c(),_($,1),$.m(e,m)):$&&(G(),g($,1,1,()=>{$=null}),K()),T[7]?k?(k.p(T,E),E[0]&128&&_(k,1)):(k=W0(T),k.c(),_(k,1),k.m(e,null)):k&&(G(),g(k,1,1,()=>{k=null}),K())},i(T){d||(_(a),_(c.$$.fragment,T),_($),_(k),d=!0)},o(T){g(a),g(c.$$.fragment,T),g($),g(k),d=!1},d(T){T&&v(e),h[o].d(),S(c),$&&$.d(),k&&k.d()}}}function j0(r){let e,t,n,l,s,i=r[2]&&Y0(r);return t=new mi({props:{$$slots:{default:[dte]},$$scope:{ctx:r}}}),l=new dt({props:{appearance:"secondary",disabled:r[6],$$slots:{default:[_te]},$$scope:{ctx:r}}}),l.$on("click",r[25]),{c(){i&&i.c(),e=N(),C(t.$$.fragment),n=N(),C(l.$$.fragment)},m(o,a){i&&i.m(o,a),w(o,e,a),y(t,o,a),w(o,n,a),y(l,o,a),s=!0},p(o,a){o[2]?i?(i.p(o,a),a[0]&4&&_(i,1)):(i=Y0(o),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(G(),g(i,1,1,()=>{i=null}),K());const u={};a[0]&4114|a[1]&2&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a[0]&64&&(c.disabled=o[6]),a[0]&4096|a[1]&2&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(_(i),_(t.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){g(i),g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){i&&i.d(o),o&&v(e),S(t,o),o&&v(n),S(l,o)}}}function Y0(r){let e,t;return e=new mi({props:{$$slots:{default:[cte]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4328|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function G0(r){let e,t;return e=new Xr({props:{triggerAppearance:"primary",placements:["bottom-end"],closeOnInnerClick:!0,icon:{...ar,size:"0.8em"},showArrow:!1,$$slots:{default:[ute]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4096|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ote(r){let e=r[12]("save")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&4096&&e!==(e=n[12]("save")+"")&&Y(t,e)},d(n){n&&v(t)}}}function ate(r){let e=r[12]("save_and_close")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&4096&&e!==(e=n[12]("save_and_close")+"")&&Y(t,e)},d(n){n&&v(t)}}}function ute(r){let e,t,n,l;return e=new sn({props:{$$slots:{default:[ote]},$$scope:{ctx:r}}}),e.$on("click",r[17]),n=new sn({props:{$$slots:{default:[ate]},$$scope:{ctx:r}}}),n.$on("click",r[18]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&4096|i[1]&2&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[0]&4096|i[1]&2&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function cte(r){let e,t,n,l;e=new Yr({props:{label:r[5]==="processing"?r[12]("saving"):r[12]("save"),disabled:!r[3].base_table||r[6]||r[5]==="processing",onClick:r[20]}});let s=r[7]&&G0(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o[0]&4128&&(a.label=i[5]==="processing"?i[12]("saving"):i[12]("save")),o[0]&104&&(a.disabled=!i[3].base_table||i[6]||i[5]==="processing"),e.$set(a),i[7]?s?(s.p(i,o),o[0]&128&&_(s,1)):(s=G0(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function fte(r){let e,t,n,l=r[12]("undo")+"",s,i;const o=[Xs,{size:"0.8rem"}];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(Xs),o[1]]):{};e.$set(f),(!i||c[0]&4096)&&l!==(l=u[12]("undo")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function mte(r){let e,t,n,l=r[12]("redo")+"",s,i;const o=[y1,{size:"0.8rem"}];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(y1),o[1]]):{};e.$set(f),(!i||c[0]&4096)&&l!==(l=u[12]("redo")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function dte(r){let e,t,n,l;return e=new dt({props:{appearance:"secondary",disabled:!r[4].isUndoPossible,$$slots:{default:[fte]},$$scope:{ctx:r}}}),e.$on("click",r[23]),n=new dt({props:{appearance:"secondary",disabled:!r[4].isRedoPossible,$$slots:{default:[mte]},$$scope:{ctx:r}}}),n.$on("click",r[24]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&16&&(o.disabled=!s[4].isUndoPossible),i[0]&4096|i[1]&2&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[0]&16&&(a.disabled=!s[4].isRedoPossible),i[0]&4096|i[1]&2&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function _te(r){let e,t,n,l=r[12]("inspector")+"",s,i;const o=[ti,{size:"0.8rem"}];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(ti),o[1]]):{};e.$set(f),(!i||c[0]&4096)&&l!==(l=u[12]("inspector")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function pte(r){let e,t,n=r[8]&&j0(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[8]?n?(n.p(l,s),s[0]&256&&_(n,1)):(n=j0(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function gte(r){let e,t=r[12]("save_exploration")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","title")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s[0]&4096&&t!==(t=l[12]("save_exploration")+"")&&Y(n,t)},d(l){l&&v(e)}}}function hte(r){var i;let e,t,n,l,s;return t=new Ym({props:{title:r[7]?{name:(i=r[3].name)!=null?i:"",description:r[3].description,icon:zn}:void 0,$$slots:{"actions-right":[pte],default:[ite]},$$scope:{ctx:r}}}),l=new Wm({props:{controller:r[14],save:r[19],getNameValidationErrors:r[16],getInitialName:r[28],getInitialDescription:r[29],$$slots:{title:[gte]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","actions-pane")},m(o,a){w(o,e,a),y(t,e,null),w(o,n,a),y(l,o,a),s=!0},p(o,a){var f;const u={};a[0]&136&&(u.title=o[7]?{name:(f=o[3].name)!=null?f:"",description:o[3].description,icon:zn}:void 0),a[0]&12799|a[1]&2&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a[0]&8&&(c.getInitialName=o[28]),a[0]&8&&(c.getInitialDescription=o[29]),a[0]&4096|a[1]&2&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(_(t.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){o&&v(e),S(t),o&&v(n),S(l,o)}}}function bte(r,e,t){let n,l,s,i,o,a,u,c,f=j,m=()=>(f(),f=ue(n,ve=>t(3,c=ve)),n),d,p,h,b=j,$=()=>(b(),b=ue(l,ve=>t(4,h=ve)),l),k,T,E=j,A=()=>(E(),E=ue(s,ve=>t(13,T=ve)),s);Z(r,ge,ve=>t(12,d=ve)),Z(r,Ss,ve=>t(30,p=ve)),Z(r,fn,ve=>t(22,k=ve)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>E());const P=ht(),O=Bn.spawnModalController();let{queryManager:R}=e,{linkCollapsibleOpenState:F={}}=e,{isInspectorOpen:L}=e,{canEditMetadata:U}=e;function W(ve){R.update(Se=>Se.withBaseTable(ve?ve.id:void 0)),R.clearSelection(),t(21,F={})}function H(ve){var Fe;const Se=ve.trim();return Se?Array.from((Fe=p.data)!=null?Fe:[]).some(([,we])=>we.name.toLowerCase().trim()===Se)?[d("exploration_with_name_already_exists")]:[]:[d("exploration_name_cannot_be_empty")]}async function z(){try{return await R.save(),{success:!0}}catch(ve){return Tt.fromError(ve),{success:!1}}}async function te(){const{success:ve}=await z();ve&&P("close")}async function se(ve,Se){try{await R.update(ke=>ke.withName(ve).model.withDescription(Se)),await z()}catch(ke){Tt.fromError(ke)}}async function B(){c.isSaved()?await z():O.open()}const V=()=>R.undo(),ee=()=>R.redo(),ie=()=>{t(0,L=!L)},_e=ve=>W(ve.detail),ae=()=>W(void 0),fe=()=>{var ve;return(ve=c.name)!=null?ve:""},Ue=()=>{var ve;return(ve=c.description)!=null?ve:""};return r.$$set=ve=>{"queryManager"in ve&&t(1,R=ve.queryManager),"linkCollapsibleOpenState"in ve&&t(21,F=ve.linkCollapsibleOpenState),"isInspectorOpen"in ve&&t(0,L=ve.isInspectorOpen),"canEditMetadata"in ve&&t(2,U=ve.canEditMetadata)},r.$$.update=()=>{var ve;r.$$.dirty[0]&2&&m(t(11,{query:n,state:l,queryHasUnsavedChanges:s}=R,n,$(t(10,l)),A(t(9,s)))),r.$$.dirty[0]&4194312&&t(8,i=c.base_table?k.data.get(c.base_table):void 0),r.$$.dirty[0]&8&&t(7,o=c.isSaved()),r.$$.dirty[0]&8&&t(6,a=c.initial_columns.length===0),r.$$.dirty[0]&16&&t(5,u=(ve=h.saveState)==null?void 0:ve.state)},[L,R,U,c,h,u,a,o,i,s,l,n,d,T,O,W,H,z,te,se,B,F,k,V,ee,ie,_e,ae,fe,Ue]}class $te extends x{constructor(e){super(),J(this,e,bte,hte,Q,{queryManager:1,linkCollapsibleOpenState:21,isInspectorOpen:0,canEditMetadata:2},null,[-1,-1])}}function vte(r){let e,t;const n=r[1].default,l=Ie(n,r,r[0],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","form svelte-1enxz59")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,[i]){l&&l.p&&(!t||i&1)&&Ae(l,n,s,s[0],t?Me(n,s[0],i,null):Pe(s[0]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function wte(r,e,t){let{$$slots:n={},$$scope:l}=e;return r.$$set=s=>{"$$scope"in s&&t(0,l=s.$$scope)},[l,n]}class zy extends x{constructor(e){super(),J(this,e,wte,vte,Q,{})}}function K0(r,e,t){const n=r.slice();return n[3]=e[t],n}function X0(r){let e;function t(s,i){return s[0].length===1?yte:kte}let n=t(r),l=n(r);return{c(){e=M("div"),l.c(),D(e,"class","errors svelte-1e85mvz")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},d(s){s&&v(e),l.d()}}}function kte(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=Q0(K0(r,t,l));return{c(){e=M("ul");for(let l=0;l<n.length;l+=1)n[l].c();D(e,"class","svelte-1e85mvz")},m(l,s){w(l,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=K0(l,t,i);n[i]?n[i].p(o,s):(n[i]=Q0(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&v(e),jn(n,l)}}}function yte(r){let e=r[0][0]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0][0]+"")&&Y(t,e)},d(n){n&&v(t)}}}function Q0(r){let e,t=r[3]+"",n;return{c(){e=M("li"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[3]+"")&&Y(n,t)},d(l){l&&v(e)}}}function Ste(r){let e,t,n;const l=r[2].default,s=Ie(l,r,r[1],null);let i=r[0].length&&X0(r);return{c(){e=M("div"),s&&s.c(),t=N(),i&&i.c(),D(e,"class","form-field")},m(o,a){w(o,e,a),s&&s.m(e,null),I(e,t),i&&i.m(e,null),n=!0},p(o,[a]){s&&s.p&&(!n||a&2)&&Ae(s,l,o,o[1],n?Me(l,o[1],a,null):Pe(o[1]),null),o[0].length?i?i.p(o,a):(i=X0(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(o){n||(_(s,o),n=!0)},o(o){g(s,o),n=!1},d(o){o&&v(e),s&&s.d(o),i&&i.d()}}}function Cte(r,e,t){let{$$slots:n={},$$scope:l}=e,{errors:s=[]}=e;return r.$$set=i=>{"errors"in i&&t(0,s=i.errors),"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class ai extends x{constructor(e){super(),J(this,e,Cte,Ste,Q,{errors:0})}}function Z0(r){const e=r[3].get(r[47]);r[48]=e}function J0(r){let e,t;const n=r[31].default,l=Ie(n,r,r[39],null);return{c(){e=M("div"),l&&l.c(),D(e,"class","prefix svelte-1gbbni6")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i[1]&256)&&Ae(l,n,s,s[39],t?Me(n,s[39],i,null):Pe(s[39]),null)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function Tte(r){var n,l,s,i,o,a;Z0(r);let e,t;return e=new er({props:{column:{name:r[15](r[47]),type:(l=(n=r[48])==null?void 0:n.column.type)!=null?l:"unknown",type_options:(i=(s=r[48])==null?void 0:s.column.type_options)!=null?i:null,display_options:(a=(o=r[48])==null?void 0:o.column.display_options)!=null?a:null,constraintsType:r[16](r[47])}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,p,h,b,$;Z0(u);const f={};c[0]&8|c[1]&65536&&(f.column={name:u[15](u[47]),type:(d=(m=u[48])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(p=u[48])==null?void 0:p.column.type_options)!=null?h:null,display_options:($=(b=u[48])==null?void 0:b.column.display_options)!=null?$:null,constraintsType:u[16](u[47])}),e.$set(f)},i(u){t||(_(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function x0(r){let e,t,n;function l(i){r[33](i)}let s={options:r[12],getLabel:r[17],triggerClass:"filter-condition"};return r[1]!==void 0&&(s.value=r[1]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[34]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o[0]&4096&&(a.options=i[12]),!t&&o[0]&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function e2(r){var i;let e,t,n;function l(o){r[35](o)}let s={componentAndProps:r[10],class:iy,hasError:r[7]&&!r[11],recordSummary:(i=r[8].get(String(r[0])))==null?void 0:i.get(String(r[2])),setRecordSummary:r[21]};return r[2]!==void 0&&(s.value=r[2]),e=new Ju({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("input",r[36]),e.$on("blur",r[37]),e.$on("change",r[18]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,a){var c;const u={};a[0]&1024&&(u.componentAndProps=o[10]),a[0]&2176&&(u.hasError=o[7]&&!o[11]),a[0]&261&&(u.recordSummary=(c=o[8].get(String(o[0])))==null?void 0:c.get(String(o[2]))),!t&&a[0]&4&&(t=!0,u.value=o[2],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function t2(r){let e,t,n=r[10]&&e2(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[10]?n?(n.p(l,s),s[0]&1024&&_(n,1)):(n=e2(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function n2(r){let e,t;return e=new dt({props:{size:"small",class:"filter-remove",appearance:"secondary",$$slots:{default:[Ete]},$$scope:{ctx:r}}}),e.$on("click",r[38]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ete(r){let e,t;const n=[qt];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(qt)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Dte(r){let e,t,n,l=r[0],s,i=`${r[0]}${r[1]}`,o,a,u;function c(h){r[32](h)}let f={options:r[13],getLabel:r[15],triggerClass:"filter-column-id",disabled:r[5],$$slots:{default:[Tte,({option:h})=>({47:h}),({option:h})=>[0,h?65536:0]]},$$scope:{ctx:r}};r[0]!==void 0&&(f.value=r[0]),e=new Tn({props:f}),Te.push(()=>Oe(e,"value",c)),e.$on("change",r[19]);let m=x0(r),d=t2(r),p=r[6]&&n2(r);return{c(){C(e.$$.fragment),n=N(),m.c(),s=N(),d.c(),o=N(),p&&p.c(),a=oe()},m(h,b){y(e,h,b),w(h,n,b),m.m(h,b),w(h,s,b),d.m(h,b),w(h,o,b),p&&p.m(h,b),w(h,a,b),u=!0},p(h,b){const $={};b[0]&8192&&($.options=h[13]),b[0]&32&&($.disabled=h[5]),b[0]&8|b[1]&65792&&($.$$scope={dirty:b,ctx:h}),!t&&b[0]&1&&(t=!0,$.value=h[0],Ne(()=>t=!1)),e.$set($),b[0]&1&&Q(l,l=h[0])?(G(),g(m,1,1,j),K(),m=x0(h),m.c(),_(m,1),m.m(s.parentNode,s)):m.p(h,b),b[0]&3&&Q(i,i=`${h[0]}${h[1]}`)?(G(),g(d,1,1,j),K(),d=t2(h),d.c(),_(d,1),d.m(o.parentNode,o)):d.p(h,b),h[6]?p?(p.p(h,b),b[0]&64&&_(p,1)):(p=n2(h),p.c(),_(p,1),p.m(a.parentNode,a)):p&&(G(),g(p,1,1,()=>{p=null}),K())},i(h){u||(_(e.$$.fragment,h),_(m),_(d),_(p),u=!0)},o(h){g(e.$$.fragment,h),g(m),g(d),g(p),u=!1},d(h){S(e,h),h&&v(n),m.d(h),h&&v(s),d.d(h),h&&v(o),p&&p.d(h),h&&v(a)}}}function Ite(r){let e,t,n,l,s,i=r[22].default&&J0(r);return n=new mi({props:{class:r[4],$$slots:{default:[Dte]},$$scope:{ctx:r}}}),{c(){e=M("div"),i&&i.c(),t=N(),C(n.$$.fragment),D(e,"class",l="filter-entry "+r[4]+" svelte-1gbbni6")},m(o,a){w(o,e,a),i&&i.m(e,null),I(e,t),y(n,e,null),s=!0},p(o,a){o[22].default?i?(i.p(o,a),a[0]&4194304&&_(i,1)):(i=J0(o),i.c(),_(i,1),i.m(e,t)):i&&(G(),g(i,1,1,()=>{i=null}),K());const u={};a[0]&16&&(u.class=o[4]),a[0]&15855|a[1]&256&&(u.$$scope={dirty:a,ctx:o}),n.$set(u),(!s||a[0]&16&&l!==(l="filter-entry "+o[4]+" svelte-1gbbni6"))&&D(e,"class",l)},i(o){s||(_(i),_(n.$$.fragment,o),s=!0)},o(o){g(i),g(n.$$.fragment,o),s=!1},d(o){o&&v(e),i&&i.d(),S(n)}}}function Mte(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p=j,h=()=>(p(),p=ue(f,ze=>t(30,d=ze)),f);r.$$.on_destroy.push(()=>p());let{$$slots:b={},$$scope:$}=e;const k=ur(b),T=ht();let{columns:E}=e,{getColumnLabel:A}=e,{getColumnConstraintType:P=()=>{}}=e,{columnIdentifier:O}=e,{conditionIdentifier:R}=e,{value:F}=e,{layout:L="horizontal"}=e,{disableColumnChange:U=!1}=e,{allowDelete:W=!0}=e,{numberOfFilters:H=0}=e,{recordSummaryStore:z=void 0}=e;const te=H;let se=!1,B=F,V;Dl(()=>{window.clearTimeout(V)});function ee(ze){if(ze){const Xe=E.get(ze);if(Xe)return A(Xe)}return""}function ie(ze){if(ze){const Xe=E.get(ze);if(Xe)return P(Xe)}}function _e(ze){var Xe,pt;return ze&&(pt=(Xe=s.get(ze))==null?void 0:Xe.name)!=null?pt:""}function ae(ze){B!==ze&&(B=ze,T("update"))}function fe(ze){clearTimeout(V),V=window.setTimeout(()=>{ae(ze)},500)}function Ue(){clearTimeout(V),ae(F)}function ve(ze,Xe){const pt=ze==null?void 0:ze.parameters[0];return typeof pt>"u"?void 0:(Xe==null?void 0:Xe.abstractType.identifier)===pt&&a?a:Om({type:pt,type_options:{},display_options:{}})}function Se(){B=void 0,t(2,F=void 0),T("update")}function ke(ze){if(!ze)return;const Xe=s.get(ze);!Xe||(typeof(Xe==null?void 0:Xe.parameters[0])>"u"&&(B=void 0,t(2,F=void 0)),T("update"))}function Fe(ze,Xe){z&&z.addBespokeRecordSummary({columnId:String(O),recordId:ze,recordSummary:Xe})}function we(ze){O=ze,t(0,O)}function Re(ze){R=ze,t(1,R)}const Ge=ze=>ke(ze.detail);function Je(ze){F=ze,t(2,F)}const Ke=()=>{t(7,se=!0)},ot=()=>{t(7,se=!0)},lt=()=>T("removeFilter");return r.$$set=ze=>{"columns"in ze&&t(3,E=ze.columns),"getColumnLabel"in ze&&t(23,A=ze.getColumnLabel),"getColumnConstraintType"in ze&&t(24,P=ze.getColumnConstraintType),"columnIdentifier"in ze&&t(0,O=ze.columnIdentifier),"conditionIdentifier"in ze&&t(1,R=ze.conditionIdentifier),"value"in ze&&t(2,F=ze.value),"layout"in ze&&t(4,L=ze.layout),"disableColumnChange"in ze&&t(5,U=ze.disableColumnChange),"allowDelete"in ze&&t(6,W=ze.allowDelete),"numberOfFilters"in ze&&t(25,H=ze.numberOfFilters),"recordSummaryStore"in ze&&t(26,z=ze.recordSummaryStore),"$$scope"in ze&&t(39,$=ze.$$scope)},r.$$.update=()=>{var ze;r.$$.dirty[0]&8&&t(13,n=[...E.values()].map(Xe=>Xe.id)),r.$$.dirty[0]&9&&t(28,l=O?E.get(O):void 0),r.$$.dirty[0]&268435456&&t(27,s=(ze=l==null?void 0:l.allowedFiltersMap)!=null?ze:new Map),r.$$.dirty[0]&134217728&&t(12,i=[...s].map(([Xe])=>Xe)),r.$$.dirty[0]&134217730&&t(29,o=R?s.get(R):void 0),r.$$.dirty[0]&268435456&&(a=l==null?void 0:l.inputComponentAndProps),r.$$.dirty[0]&536870916&&t(11,u=o?Ua(o,F):!1),r.$$.dirty[0]&33554432&&H!==te&&t(7,se=!0),r.$$.dirty[0]&4&&fe(F),r.$$.dirty[0]&805306368&&t(10,c=ve(o,l)),r.$$.dirty[0]&67108864&&h(t(9,f=z!=null?z:Ul(new yt))),r.$$.dirty[0]&1073741824&&t(8,m=d)},[O,R,F,E,L,U,W,se,m,f,c,u,i,n,T,ee,ie,_e,Ue,Se,ke,Fe,k,A,P,H,z,s,l,o,d,b,we,Re,Ge,Je,Ke,ot,lt,$]}class Vy extends x{constructor(e){super(),J(this,e,Mte,Ite,Q,{columns:3,getColumnLabel:23,getColumnConstraintType:24,columnIdentifier:0,conditionIdentifier:1,value:2,layout:4,disableColumnChange:5,allowDelete:6,numberOfFilters:25,recordSummaryStore:26},null,[-1,-1])}}class qy{constructor(e){ce(this,"type","filter");ce(this,"name",Ve(ge)("filter"));ce(this,"columnIdentifier");ce(this,"conditionIdentifier");ce(this,"value");var t;"columnIdentifier"in e?(this.columnIdentifier=e.columnIdentifier,this.conditionIdentifier=e.conditionIdentifier,this.value=e.value):([this.conditionIdentifier]=Object.keys(e.spec),[this.columnIdentifier]=e.spec[this.conditionIdentifier][0].column_name,this.value=(t=e.spec[this.conditionIdentifier][1])==null?void 0:t.literal[0])}isValid(){const e=yH(this.conditionIdentifier);return e?Ua(e,this.value):!1}toJson(){const e={[this.conditionIdentifier]:[{column_name:[this.columnIdentifier]}]};return typeof this.value<"u"&&e[this.conditionIdentifier].push({literal:[this.value]}),{type:"filter",spec:e}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}class Gm{constructor(e){ce(this,"type","summarize");ce(this,"name",Ve(ge)("summarization"));ce(this,"columnIdentifier");ce(this,"preprocFunctionIdentifier");ce(this,"groups");ce(this,"aggregations");ce(this,"isValid",()=>!0);var t,n;if("columnIdentifier"in e)this.columnIdentifier=e.columnIdentifier,this.preprocFunctionIdentifier=e.preprocFunctionIdentifier,this.aggregations=e.aggregations,this.groups=e.groups;else{const l=e.spec.base_grouping_column,s=(t=e.spec.aggregation_expressions)!=null?t:[],i=(n=e.spec.grouping_expressions)!=null?n:[];this.columnIdentifier=l,this.aggregations=new yt(s.map(u=>[u.input_alias,{inputAlias:u.input_alias,outputAlias:u.output_alias,function:u.function}]));let o=new yt(i.map(u=>[u.input_alias,{inputAlias:u.input_alias,outputAlias:u.output_alias,preprocFunction:u.preproc}]));const a=o.get(l);a&&(this.preprocFunctionIdentifier=a.preprocFunction,o=o.without(l)),this.groups=o}}getBaseColumnOutputAlias(){return`${this.columnIdentifier}_grouped`}getOutputColumnAliases(){return[this.getBaseColumnOutputAlias(),...[...this.groups.values()].map(e=>e.outputAlias),...[...this.aggregations.values()].map(e=>e.outputAlias)]}toJson(){const e=[...this.aggregations.entries()],t=[...this.groups.entries()],n={base_grouping_column:this.columnIdentifier,grouping_expressions:[{input_alias:this.columnIdentifier,output_alias:this.getBaseColumnOutputAlias(),preproc:this.preprocFunctionIdentifier},...t.map(([l,s])=>({input_alias:l,output_alias:s.outputAlias,preproc:s.preprocFunction}))],aggregation_expressions:e.map(([l,s])=>({input_alias:l,output_alias:s.outputAlias,function:s.function}))};return{type:"summarize",spec:n}}isColumnUsedInTransformation(e){return this.getOutputColumnAliases().includes(e)}}class By{constructor(e){ce(this,"type","hide");ce(this,"name",Ve(ge)("hide_columns"));ce(this,"columnAliases");"columnAliases"in e?this.columnAliases=e.columnAliases:this.columnAliases=e.spec}isValid(){return this.columnAliases.length>0}toJson(){return{type:this.type,spec:this.columnAliases}}isColumnUsedInTransformation(e){return this.columnAliases.includes(e)}}class Uy{constructor(e){ce(this,"type","order");ce(this,"name",Ve(ge)("sort"));ce(this,"columnIdentifier");ce(this,"sortDirection");ce(this,"isValid",()=>!0);"columnIdentifier"in e?(this.columnIdentifier=e.columnIdentifier,this.sortDirection=e.sortDirection):(this.columnIdentifier=e.spec[0].field,this.sortDirection=e.spec[0].direction==="desc"?"DESCENDING":"ASCENDING")}toJson(){return{type:this.type,spec:[{field:this.columnIdentifier,direction:this.sortDirection==="DESCENDING"?"desc":"asc"}]}}isColumnUsedInTransformation(e){return this.columnIdentifier===e}}function Ate(r){switch(r.type){case"filter":return new qy(r);case"summarize":return new Gm(r);case"hide":return new By(r);case"order":return new Uy(r);default:throw new $l(r)}}function Pte(r){return r.base_table===void 0?{isValid:!1,isRunnable:!1}:{isValid:r.transformationModels.every(t=>t.isValid()),isRunnable:!0}}class qn{constructor(e){ce(this,"base_table");ce(this,"id");ce(this,"name");ce(this,"description");ce(this,"initial_columns");ce(this,"transformationModels");ce(this,"display_names");ce(this,"isValid");ce(this,"isRunnable");var l,s,i,o;this.base_table=e==null?void 0:e.base_table,this.id=e==null?void 0:e.id,this.name=e==null?void 0:e.name,this.description=e==null?void 0:e.description,this.initial_columns=(l=e==null?void 0:e.initial_columns)!=null?l:[];let t;e&&"transformationModels"in e?t=[...e.transformationModels]:t=(i=(s=e==null?void 0:e.transformations)==null?void 0:s.map(Ate))!=null?i:[],this.transformationModels=t,this.display_names=(o=e==null?void 0:e.display_names)!=null?o:{};const n=Pte({base_table:e==null?void 0:e.base_table,transformationModels:t});this.isValid=n.isValid,this.isRunnable=n.isRunnable}withBaseTable(e){return{model:new qn({base_table:e,id:this.id,name:this.name}),type:"baseTable",diff:{base_table:e}}}withId(e){return{model:new qn({...this,id:e}),type:"id",diff:{id:e}}}withName(e){return{model:new qn({...this,name:e}),type:"name",diff:{name:e}}}withDescription(e){return{model:new qn({...this,description:e}),type:"name",diff:{description:e}}}withInitialColumn(e){const t=[...this.initial_columns,e];return{model:new qn({...this,initial_columns:t,display_names:{...this.display_names,[e.alias]:e.alias}}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumns(e){const t=this.initial_columns.filter(l=>!e.includes(l.alias));return{model:new qn({...this,initial_columns:t}),type:"initialColumnsArray",diff:{initial_columns:t}}}withoutInitialColumn(e){return this.withoutInitialColumns([e])}withDisplayNameForColumn(e,t){const n={...this.display_names,[e]:t};return{model:new qn({...this,display_names:n}),type:"initialColumnName",diff:{display_names:n}}}addTransform(e){const t=new qn({...this,transformationModels:[...this.transformationModels,e]});return{model:t,type:"transformations",diff:{transformations:t.toJson().transformations}}}addFilterTransform(e){return this.addTransform(e)}addSummarizationTransform(e){if(this.hasSummarizationTransform())throw new Error("QueryModel currently allows only a single summarization transformation");return this.addTransform(e)}addHideTransform(e){return this.addTransform(e)}addSortTransform(e){return this.addTransform(e)}removeLastTransform(){const e=new qn({...this,transformationModels:this.transformationModels.slice(0,-1)});return{model:e,type:"transformations",diff:{transformations:e.toJson().transformations}}}updateTransform(e,t){const n=[...this.transformationModels];n[e]=t;const l=new qn({...this,transformationModels:n});return{model:l,type:"transformations",diff:{transformations:l.toJson().transformations}}}getInitialColumnsAndTransformsUtilizingThemByColumnIds(e){const t=this.initial_columns.filter(i=>e.includes(i.id)),n=t.map(i=>i.alias),l=[];let s=!1;return this.transformationModels.forEach((i,o)=>{if(s){l.push({index:o,transform:i});return}if(i.type==="summarize"){s=!0,l.push({index:o,transform:i});return}n.some(a=>i.isColumnUsedInTransformation(a))&&l.push({index:o,transform:i})}),{initialColumnsUsingColumnIds:t,transformsUsingColumnIds:l}}withoutColumnsById(e){const t=this.initial_columns.filter(a=>!e.includes(a.id));let n=this.transformationModels;const l=this.transformationModels.findIndex(a=>a.type==="summarize");l>-1&&(n=n.slice(0,l));const s=this.initial_columns.filter(a=>e.includes(a.id)).map(a=>a.alias),i=n.filter(a=>!s.some(u=>a.isColumnUsedInTransformation(u))),o=new qn({...this,initial_columns:t,transformationModels:i});return{model:o,type:"initialColumnsAndTransformations",diff:{initial_columns:t,transformations:o.toJson().transformations}}}getColumn(e){return this.initial_columns.find(t=>t.alias===e)}getSummarizationTransforms(){return this.transformationModels.filter(e=>e.type==="summarize")}isColumnUsedInTransformations(e){return this.transformationModels.some(t=>t.isColumnUsedInTransformation(e))}areColumnsUsedInTransformations(e){return e.some(t=>this.isColumnUsedInTransformations(t))}getOutputColumnAliases(){const e=this.getSummarizationTransforms();return e.length>0?e[e.length-1].getOutputColumnAliases():this.initial_columns.map(t=>t.alias)}getAllSortedColumns(){return this.transformationModels.filter(e=>e.type==="order").map(e=>e.columnIdentifier)}getAllSortableColumns(){const e=new Set(this.getAllSortedColumns());return this.getOutputColumnAliases().filter(t=>!e.has(t))}toRunRequestJson(){if(this.base_table===void 0)throw new Error("Cannot formulate run request since base_table is undefined");const e=this.isValid?this.transformationModels:this.transformationModels.filter(t=>t.isValid());return{base_table:this.base_table,initial_columns:this.initial_columns,transformations:e.map(t=>t.toJson()),display_names:this.display_names}}getColumnCount(e){return this.initial_columns.filter(t=>t.id===e).length}toJson(){return{id:this.id,name:this.name,description:this.description,base_table:this.base_table,initial_columns:this.initial_columns,transformations:this.transformationModels.map(e=>e.toJson()),display_names:this.display_names}}isSaved(){return!!this.id}hasSummarizationTransform(){return this.transformationModels.some(e=>e.type==="summarize")}}class r2{constructor(e,t){ce(this,"queryJSON");ce(this,"isValid");ce(this,"next");ce(this,"prev");this.queryJSON=e,this.isValid=t}}class Rte{constructor(e){ce(this,"current");if(e){const{query:t,isValid:n}=e,l=JSON.parse(JSON.stringify(t.toJson()));this.current=new r2(l,n)}}pushState(e,t){this.current&&this.current.next&&(this.current.next.prev=void 0);const n=JSON.parse(JSON.stringify(e.toJson())),l=new r2(n,t);return this.current&&!this.current.isValid?l.prev=this.current.prev:(l.prev=this.current,this.current&&(this.current.next=l)),this.current=l,l}isUndoPossible(){var e;return!!((e=this.current)!=null&&e.prev)}isRedoPossible(){var e;return!!((e=this.current)!=null&&e.next)}undo(){if(this.current&&this.current.prev)return this.current=this.current.prev,new qn(this.current.queryJSON)}redo(){if(this.current&&this.current.next)return this.current=this.current.next,new qn(this.current.queryJSON)}clear(){this.current=void 0}}const Km=(r,e)=>r[1].linksTo&&!e[1].linksTo?1:!r[1].linksTo&&e[1].linksTo?-1:0;function Xm(r,e,t,n=""){const l=r.joinable_tables.filter(f=>f.depth===t&&f.fk_path[t-1][1]===!1&&f.jp_path[t-1][0]===e&&f.jp_path.join(",").indexOf(n)===0);if(l.length===0)return;if(l.length>1)throw new Error(`Multiple links present for the same column: ${e}`);const s=l[0],i=r.tables[s.target],o={id:s.target,name:i.name},a=s.jp_path[t-1][1],u={id:a,name:r.columns[a].name},c=i.columns.map(f=>{const m=r.columns[f];return[f,{id:f,name:m.name,tableName:i.name,type:m.type,linksTo:Xm(r,f,t+1,s.jp_path.join(",")),jpPath:s.jp_path,producesMultipleResults:s.multiple_results}]});return{...o,linkedToColumn:u,columns:new Map(c.sort(Km))}}function Ote(r,e){const t=new Map;return e.columns.forEach(n=>{t.set(n.id,{id:n.id,name:n.name,type:n.type,tableId:e.id,tableName:e.name})}),Object.keys(r.tables).forEach(n=>{const l=parseInt(n,10),s=r.tables[l];s.columns.forEach(i=>{const o=r.columns[i];t.set(i,{id:i,name:o.name,type:o.type,tableId:l,tableName:s.name})})}),t}function Lte(r,e){const t=e.columns.map(n=>[n.id,{id:n.id,name:n.name,type:n.type,tableName:e.name,linksTo:Xm(r,n.id,1),producesMultipleResults:!1}]);return new Map(t.sort(Km))}function Nte(r,e){const t=r.joinable_tables.filter(l=>l.depth===1&&l.fk_path[0][1]===!0),n=[];return t.forEach(l=>{const s=l.target,i=r.tables[s],o=l.jp_path[0][0],a=e.columns.find(f=>f.id===o),u=l.jp_path[0][1];if(!a)return;const c=r.tables[l.target].columns.filter(f=>f!==u).map(f=>{const m=r.columns[f];return[f,{id:f,name:m.name,type:m.type,tableName:i.name,linksTo:Xm(r,f,2,l.jp_path.join(",")),jpPath:l.jp_path,producesMultipleResults:l.multiple_results}]});n.push({id:s,name:i.name,referencedViaColumn:{id:u,...r.columns[u]},linkedToColumn:a,columns:new Map(c.sort(Km))})}),n}function Gi(r,e){var s,i,o,a;const t={alias:r.alias,display_name:(s=r.display_name)!=null?s:r.alias,type:(i=r.type)!=null?i:"unknown",type_options:(o=r.type_options)!=null?o:null,display_options:(a=r.display_options)!=null?a:null},n=$s(t.type,e),l=r.is_initial_column?{is_initial_column:!0,input_column_name:r.input_column_name,input_table_name:r.input_table_name,input_table_id:r.input_table_id}:{is_initial_column:!1,input_alias:r.input_alias};return{id:t.alias,column:t,abstractType:n,cellComponentAndProps:Rm({cellInfo:n.cellInfo,column:t}),inputComponentAndProps:Om(t,void 0,n.cellInfo),initialInputValue:ly(t,void 0,n.cellInfo),allowedFiltersMap:t5(n.identifier),preprocFunctions:n5(n.identifier),summarizationFunctions:IH(n.identifier),source:l,formatCellValue:sy(t)}}function Fte(r,e){return new yt(Object.entries(r).map(([t,n])=>[t,Gi(n,e)]))}function Hte({currentProcessedColumnsMetaData:r,inputColumnInformationMap:e,queryModel:t,abstractTypeMap:n}){const l=t.initial_columns,s=t.getSummarizationTransforms(),i=l.filter(f=>!r.has(f.alias)),o=s.filter(f=>f.getOutputColumnAliases().some(m=>!r.has(m))),a=Object.entries(t.display_names).filter(([f,m])=>{var d;return r.has(f)&&((d=r.get(f))==null?void 0:d.column.display_name)!==m});let u=r,c=i.length>0||o.length>0;return i.length>0&&i.forEach(f=>{const m=e.get(f.id);u=u.with(f.alias,Gi({alias:f.alias,type:m==null?void 0:m.type,is_initial_column:!0,input_column_name:m==null?void 0:m.name,input_table_name:m==null?void 0:m.tableName,input_table_id:m==null?void 0:m.tableId},n))}),o.length>0&&o.forEach(f=>{[...f.groups.values()].forEach(m=>{var d,p,h,b;if(!u.has(m.outputAlias)){const $=(d=u.get(m.inputAlias))==null?void 0:d.column;u=u.with(m.outputAlias,Gi({alias:m.outputAlias,display_name:null,type:(p=$==null?void 0:$.type)!=null?p:"unknown",type_options:(h=$==null?void 0:$.type_options)!=null?h:null,display_options:(b=$==null?void 0:$.display_options)!=null?b:null,is_initial_column:!1,input_alias:m.inputAlias},n))}}),[...f.aggregations.values()].forEach(m=>{var d,p;u.has(m.outputAlias)||(u=u.with(m.outputAlias,Gi({alias:m.outputAlias,type:m.function==="distinct_aggregate_to_array"?"_array":"integer",type_options:m.function==="distinct_aggregate_to_array"?{type:(p=(d=u.get(m.inputAlias))==null?void 0:d.column.type)!=null?p:"unknown"}:null,display_options:null,is_initial_column:!1,input_alias:m.inputAlias},n)))})}),a.length>0&&a.forEach(([f,m])=>{const d=u.get(f);d&&(u=u.with(f,{...d,column:{...d.column,display_name:m}}),c=!0)}),c?new yt(u):r}function Xa(r,e){return new yt(r.map((t,n)=>{var l;return[t,{...(l=e.get(t))!=null?l:Gi({alias:t,is_initial_column:!0},new Map),columnIndex:n}]}))}class zte{constructor(e){ce(this,"tabs");ce(this,"activeTab");const t=[{id:"inspect-column",label:Ve(ge)("column")},{id:"inspect-cell",label:Ve(ge)("cell")}],n=[{id:"inspect-exploration",label:Ve(ge)("exploration")},...t];this.tabs=at(e,l=>l.isSaved()?n:t),this.activeTab=xe(Ve(this.tabs)[0])}selectColumnTab(){this.activeTab.set(Ve(this.tabs).find(e=>e.id==="inspect-column"))}selectCellTab(){this.activeTab.set(Ve(this.tabs).find(e=>e.id==="inspect-cell"))}}class Wy{constructor({query:e,abstractTypeMap:t,runMode:n,onRunWithObject:l,onRunWithId:s,shareConsumer:i}){ce(this,"query");ce(this,"abstractTypeMap");ce(this,"runState",xe());ce(this,"pagination",xe(new Gr({size:100})));ce(this,"rowsData",xe({totalCount:0,rows:[]}));ce(this,"columnsMetaData",xe(new yt));ce(this,"processedColumns",xe(new yt));ce(this,"selection");ce(this,"inspector");ce(this,"runPromise");ce(this,"runMode");ce(this,"onRunWithObjectCallback");ce(this,"onRunWithIdCallback");ce(this,"shareConsumer");this.abstractTypeMap=t,this.runMode=n!=null?n:"queryObject",this.query=xe(e),this.onRunWithObjectCallback=l,this.onRunWithIdCallback=s,this.shareConsumer=i,this.speculateProcessedColumns(),this.run(),this.selection=new P5({getColumns:()=>[...Ve(this.processedColumns).values()],getColumnOrder:()=>[...Ve(this.processedColumns).values()].map(o=>o.id),getRows:()=>Ve(this.rowsData).rows,getMaxSelectionRowIndex:()=>{var m;const o=Ve(this.rowsData).rows.length,a=(m=Ve(this.rowsData).totalCount)!=null?m:0,u=Ve(this.pagination),{offset:c}=u,f=u.size;return Math.min(f,a-c,o)-1}}),this.inspector=new zte(this.query)}speculateProcessedColumns(e){const t=Hte({currentProcessedColumnsMetaData:Ve(this.columnsMetaData),inputColumnInformationMap:e!=null?e:new Map,queryModel:this.getQueryModel(),abstractTypeMap:this.abstractTypeMap});this.columnsMetaData.set(t),this.processedColumns.set(Xa(this.getQueryModel().getOutputColumnAliases(),t))}async run(){var l,s,i;(l=this.runPromise)==null||l.cancel();const e=this.getQueryModel();if(e.base_table===void 0){const o={totalCount:0,rows:[]};this.columnsMetaData.set(new yt),this.processedColumns.set(new yt),this.rowsData.set(o),this.runState.set({state:"success"});return}let t,n;try{const o=Ve(this.pagination).recordsRequestParams();if(this.runState.set({state:"processing"}),this.runMode==="queryObject"){const u=zY({...e.toRunRequestJson(),parameters:{...o}});this.runPromise=u;const c=await u;t=c,n=()=>{var f;return(f=this.onRunWithObjectCallback)==null?void 0:f.call(this,c)}}else{if(!e.id){this.runState.set({state:"failure",errors:["Query does not contain an id"]});return}this.runPromise=VY(e.id,{...o,...(s=this.shareConsumer)==null?void 0:s.getQueryParams()}),t=await this.runPromise,n=()=>{var c;return(c=this.onRunWithIdCallback)==null?void 0:c.call(this,t)}}const a=Fte(t.column_metadata,this.abstractTypeMap);return this.columnsMetaData.set(a),this.processedColumns.set(new yt(Xa(t.output_columns,a))),this.rowsData.set({totalCount:t.records.count,rows:((i=t.records.results)!=null?i:[]).map((u,c)=>({record:u,rowIndex:c}))}),await n(),this.runState.set({state:"success"}),t}catch(o){if(o instanceof bi)this.runState.set({state:"failure",errors:o});else{const a=o instanceof Error?o.message:"Unable to run query due to an unknown reason";this.runState.set({state:"failure",errors:[a]})}}}async setPagination(e){this.pagination.set(e),await this.run(),this.selection.activateFirstCellInSelectedColumn()}resetPagination(){this.pagination.update(e=>new Gr({...e,page:1}))}resetResults(){var e;this.clearSelection(),(e=this.runPromise)==null||e.cancel(),this.resetPagination(),this.rowsData.set({totalCount:0,rows:[]}),this.processedColumns.set(new yt),this.runState.set(void 0)}async resetPaginationAndRun(){this.resetPagination(),await this.run(),this.selection.activateFirstCellInSelectedColumn()}selectColumn(e){const t=Ve(this.processedColumns).get(e);if(!t){this.selection.resetSelection(),this.selection.selectAndActivateFirstCellIfExists(),this.inspector.selectCellTab();return}if(this.selection.toggleColumnSelection(t)){this.inspector.selectColumnTab();return}this.selection.activateFirstCellInSelectedColumn(),this.inspector.selectCellTab()}clearSelection(){this.selection.resetSelection()}getRows(){return Ve(this.rowsData).rows}getQueryModel(){return Ve(this.query)}destroy(){var e;this.selection.destroy(),(e=this.runPromise)==null||e.cancel()}}class ec extends Wy{constructor({query:t,abstractTypeMap:n,onSave:l}){super({query:t,abstractTypeMap:n,onRunWithObject:i=>{this.checkAndUpdateSummarizationAfterRun(new qn(i.query))}});ce(this,"undoRedoManager");ce(this,"cacheManagers",{inputColumns:new Sy(5)});ce(this,"state",xe({isUndoPossible:!1,isRedoPossible:!1}));ce(this,"inputColumns",xe({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}));ce(this,"confirmationNeededForMultipleResults",xe(!0));ce(this,"queryHasUnsavedChanges",xe(!1));ce(this,"baseTableFetchPromise");ce(this,"joinableColumnsfetchPromise");ce(this,"querySavePromise");ce(this,"onSaveCallback");this.onSaveCallback=l!=null?l:()=>{};const s=new Rte;s.pushState(t,t.isValid),this.undoRedoManager=s,this.calculateInputColumnTree()}async calculateInputColumnTree(){var l,s;const t=Ve(this.query).base_table;if(!t){this.inputColumns.set({baseTableColumns:new Map,tablesThatReferenceBaseTable:[],inputColumnInformationMap:new Map}),this.state.update(i=>({...i,inputColumnsFetchState:{state:"success"}}));return}const n=this.cacheManagers.inputColumns.get(t);if(n){this.inputColumns.set({...n}),this.state.update(i=>({...i,inputColumnsFetchState:{state:"success"}})),this.speculateColumns();return}try{(l=this.baseTableFetchPromise)==null||l.cancel(),(s=this.joinableColumnsfetchPromise)==null||s.cancel(),this.state.update(m=>({...m,inputColumnsFetchState:{state:"processing"}})),this.baseTableFetchPromise=ey(t),this.joinableColumnsfetchPromise=bn(`/api/db/v0/tables/${t}/joinable_tables/`);const[i,o]=await Promise.all([this.baseTableFetchPromise,this.joinableColumnsfetchPromise]),a=Lte(o,i),u=Nte(o,i),c=Ote(o,i),f={baseTableColumns:a,tablesThatReferenceBaseTable:u,inputColumnInformationMap:c};this.cacheManagers.inputColumns.set(t,f),this.inputColumns.set(f),this.speculateColumns(),this.state.update(m=>({...m,inputColumnsFetchState:{state:"success"}}))}catch(i){const o=i instanceof Error?i.message:Ve(ge)("error_fetching_joinable_links");this.state.update(a=>({...a,inputColumnsFetchState:{state:"failure",errors:[o]}}))}}speculateColumns(){super.speculateProcessedColumns(Ve(this.inputColumns).inputColumnInformationMap)}async updateQuery(t){var n;return this.query.set(t),this.queryHasUnsavedChanges.set(!0),((n=Ve(this.state).inputColumnsFetchState)==null?void 0:n.state)!=="success"&&await this.calculateInputColumnTree(),{isValid:t.isValid,isRunnable:t.isRunnable}}setUndoRedoStates(){this.state.update(t=>({...t,isUndoPossible:this.undoRedoManager.isUndoPossible(),isRedoPossible:this.undoRedoManager.isRedoPossible()}))}checkAndUpdateSummarizationAfterRun(t){const n=this.getQueryModel();let l=n,s=!1;n.transformationModels.forEach((i,o)=>{const a=t.transformationModels[o];if(i.type==="summarize"&&a&&a.type==="summarize"){const u=a.groups.get(a.columnIdentifier);u&&(a.groups=a.groups.without(a.columnIdentifier),a.preprocFunctionIdentifier=u.preprocFunction),(a.aggregations.size!==i.aggregations.size||a.groups.size!==i.groups.size)&&(s=!0,l=l.updateTransform(o,a).model)}}),s&&this.query.set(l)}async update(t){var i;this.state.update(o=>({...o,saveState:void 0}));const n=t(this.getQueryModel()),{isValid:l,isRunnable:s}=await this.updateQuery(n.model);if(this.undoRedoManager.pushState(n.model,l),this.setUndoRedoStates(),s)switch(n.type){case"baseTable":this.resetResults(),this.undoRedoManager.clear(),this.setUndoRedoStates(),this.confirmationNeededForMultipleResults.set(!0),this.queryHasUnsavedChanges.set(!1),await this.calculateInputColumnTree();break;case"initialColumnName":this.speculateColumns();break;case"initialColumnsArray":(i=n.diff.initial_columns)!=null&&i.length?(this.speculateColumns(),await this.run()):this.resetResults();break;case"transformations":case"initialColumnsAndTransformations":await this.resetPaginationAndRun();break}}async performUndoRedoSync(t){if(t){const n=this.getQueryModel();let l=t;n!=null&&n.id&&(l=t.withId(n.id).model),this.query.set(l),this.speculateColumns(),await this.updateQuery(l),this.setUndoRedoStates(),await this.run()}else this.setUndoRedoStates()}async undo(){const t=this.undoRedoManager.undo();await this.performUndoRedoSync(t)}async redo(){const t=this.undoRedoManager.redo();await this.performUndoRedoSync(t)}async save(){var n;const t=this.getQueryModel().toJson();this.state.update(l=>({...l,saveState:{state:"processing"}}));try{(n=this.querySavePromise)==null||n.cancel(),t.id!==void 0?this.querySavePromise=Ty(t):this.querySavePromise=FY(t);const l=await this.querySavePromise;return this.query.update(s=>s.withId(l.id).model),await this.onSaveCallback(l),this.state.update(s=>({...s,saveState:{state:"success"}})),this.queryHasUnsavedChanges.set(!1),this.getQueryModel()}catch(l){const s=l instanceof Error?[l.message]:[Ve(ge)("error_saving_query")];throw this.state.update(i=>({...i,saveState:{state:"failure",errors:s}})),l}}getAutoSummarizationTransformModel(){const{baseTableColumns:t}=Ve(this.inputColumns),n=this.getQueryModel().initial_columns.find(l=>t.has(l.id));if(n)return new Gm({type:"summarize",spec:{base_grouping_column:n.alias}})}destroy(){var t,n,l;super.destroy(),(t=this.baseTableFetchPromise)==null||t.cancel(),(n=this.joinableColumnsfetchPromise)==null||n.cancel(),(l=this.querySavePromise)==null||l.cancel()}}function Vte(r){let e,t=r[6]("properties")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&64&&t!==(t=l[6]("properties")+"")&&Y(n,t)},d(l){l&&v(e)}}}function qte(r){let e,t;return e=new gn({props:{value:r[0],"aria-label":r[6]("name"),disabled:!r[2]}}),e.$on("change",r[8]),e.$on("input",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.value=n[0]),l&64&&(s["aria-label"]=n[6]("name")),l&4&&(s.disabled=!n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bte(r){let e,t;return e=new hn({props:{label:r[6]("name"),layout:"stacked",$$slots:{default:[qte]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.label=n[6]("name")),l&131141&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ute(r){let e,t;return e=new bs({props:{value:r[1],"aria-label":r[6]("description"),disabled:!r[2]}}),e.$on("change",r[9]),e.$on("input",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.value=n[1]),l&64&&(s["aria-label"]=n[6]("description")),l&4&&(s.disabled=!n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wte(r){let e,t;return e=new hn({props:{label:r[6]("description"),layout:"stacked",$$slots:{default:[Ute]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.label=n[6]("description")),l&131142&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function l2(r){let e,t;return e=new ai({props:{$$slots:{default:[jte]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131136&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jte(r){let e,t;return e=new Kr({props:{cancelButton:{icon:void 0},proceedButton:{icon:void 0,label:r[6]("save")},onCancel:r[10],onProceed:r[11]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.proceedButton={icon:void 0,label:n[6]("save")}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yte(r){let e,t,n,l,s,i;e=new ai({props:{$$slots:{default:[Bte]},$$scope:{ctx:r}}}),n=new ai({props:{$$slots:{default:[Wte]},$$scope:{ctx:r}}});let o=!r[5]&&r[3]&&r[2]&&l2(r);return{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),o&&o.c(),s=oe()},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u&131141&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&131142&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),!a[5]&&a[3]&&a[2]?o?(o.p(a,u),u&44&&_(o,1)):(o=l2(a),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(G(),g(o,1,1,()=>{o=null}),K())},i(a){i||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(o),i=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(o),i=!1},d(a){S(e,a),a&&v(t),S(n,a),a&&v(l),o&&o.d(a),a&&v(s)}}}function Gte(r){let e,t,n;return t=new zy({props:{$$slots:{default:[Yte]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","section-content")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&131183&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function s2(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Qte],header:[Kte]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&131136&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kte(r){let e,t=r[6]("actions")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&64&&t!==(t=l[6]("actions")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Xte(r){let e,t,n,l=r[6]("delete_exploration")+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&64)&&l!==(l=u[6]("delete_exploration")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Qte(r){let e,t,n;return t=new dt({props:{class:"delete-button",appearance:"outline-primary",$$slots:{default:[Xte]},$$scope:{ctx:r}}}),t.$on("click",r[12]),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","section-content actions")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&131136&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Zte(r){let e,t,n,l;e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Gte],header:[Vte]},$$scope:{ctx:r}}});let s=r[2]&&s2(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,[o]){const a={};o&131183&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[2]?s?(s.p(i,o),o&4&&_(s,1)):(s=s2(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function Jte(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,P=>t(14,s=P)),n),a,u;Z(r,ge,P=>t(6,a=P)),Z(r,Ss,P=>t(15,u=P)),r.$$.on_destroy.push(()=>i());const c=ht();let{queryHandler:f}=e,{name:m}=e,{description:d}=e,{canEditMetadata:p}=e,h=!1;function b(){t(3,h=!0)}function $(P){var R;const O=P.target;O.value.trim()===""&&(O.value=(R=s.name)!=null?R:Tl("New_Exploration",new Set([...u.data.values()].map(F=>F.name)))),t(0,m=O.value),"update"in f&&f.update(F=>F.withName(O.value))}function k(P){const O=P.target;t(1,d=O.value.trim()),"update"in f&&f.update(R=>R.withDescription(d!=null?d:""))}function T(){t(0,m=s.name),t(1,d=s.description),t(3,h=!1)}async function E(){try{const P=s.withName(m).model.withDescription(d).model;await Ty(P.toJson()),n.set(P)}catch(P){const O=P instanceof Error?P.message:a("unable_to_save_exploration");Tt.error(O)}}function A(){if(s.id!==void 0){const P=s.id;Rl({identifierType:"Exploration",onProceed:async()=>{await qY(P),c("delete")}})}}return r.$$set=P=>{"queryHandler"in P&&t(13,f=P.queryHandler),"name"in P&&t(0,m=P.name),"description"in P&&t(1,d=P.description),"canEditMetadata"in P&&t(2,p=P.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&8192&&o(t(4,{query:n}=f,n)),r.$$.dirty&8192&&t(5,l=f instanceof ec)},[m,d,p,h,n,l,a,b,$,k,T,E,A,f]}class xte extends x{constructor(e){super(),J(this,e,Jte,Zte,Q,{queryHandler:13,name:0,description:1,canEditMetadata:2})}}function i2(r){var c;let e,t,n=r[2]("aggregated_from")+"",l,s,i,o,a,u;return a=new er({props:{isLoading:!r[0].name,column:{...r[0],name:(c=r[0].name)!=null?c:""}}}),{c(){e=M("div"),t=M("h1"),l=q(n),s=N(),i=M("div"),o=M("span"),C(a.$$.fragment),D(o,"class","tag svelte-fnyv54"),D(i,"class","column-info svelte-fnyv54"),D(e,"data-identifier","aggregation-source"),D(e,"class","svelte-fnyv54")},m(f,m){w(f,e,m),I(e,t),I(t,l),I(e,s),I(e,i),I(i,o),y(a,o,null),u=!0},p(f,m){var p;(!u||m&4)&&n!==(n=f[2]("aggregated_from")+"")&&Y(l,n);const d={};m&1&&(d.isLoading=!f[0].name),m&1&&(d.column={...f[0],name:(p=f[0].name)!=null?p:""}),a.$set(d)},i(f){u||(_(a.$$.fragment,f),u=!0)},o(f){g(a.$$.fragment,f),u=!1},d(f){f&&v(e),S(a)}}}function o2(r){let e,t,n=r[2]("source_column")+"",l,s,i,o,a;return o=new St({props:{text:r[2]("column_from_table"),$$slots:{default:[rne,({slotName:u,translatedArg:c})=>({5:u,6:c}),({slotName:u,translatedArg:c})=>(u?32:0)|(c?64:0)]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("h1"),l=q(n),s=N(),i=M("div"),C(o.$$.fragment),D(i,"class","column-info svelte-fnyv54"),D(e,"data-identifier","column-source"),D(e,"class","svelte-fnyv54")},m(u,c){w(u,e,c),I(e,t),I(t,l),I(e,s),I(e,i),y(o,i,null),a=!0},p(u,c){(!a||c&4)&&n!==(n=u[2]("source_column")+"")&&Y(l,n);const f={};c&4&&(f.text=u[2]("column_from_table")),c&226&&(f.$$scope={dirty:c,ctx:u}),o.$set(f)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){g(o.$$.fragment,u),a=!1},d(u){u&&v(e),S(o)}}}function ene(r){var l;let e,t,n;return t=new Sn({props:{isLoading:!r[1].table.name,table:{name:(l=r[1].table.name)!=null?l:""}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","tag svelte-fnyv54")},m(s,i){w(s,e,i),y(t,e,null),n=!0},p(s,i){var a;const o={};i&2&&(o.isLoading=!s[1].table.name),i&2&&(o.table={name:(a=s[1].table.name)!=null?a:""}),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){s&&v(e),S(t)}}}function tne(r){let e,t=r[6]+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","from svelte-fnyv54")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&64&&t!==(t=l[6]+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function nne(r){var l;let e,t,n;return t=new er({props:{isLoading:!r[1].column.name,column:{...r[1].column,name:(l=r[1].column.name)!=null?l:""}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","tag svelte-fnyv54")},m(s,i){w(s,e,i),y(t,e,null),n=!0},p(s,i){var a;const o={};i&2&&(o.isLoading=!s[1].column.name),i&2&&(o.column={...s[1].column,name:(a=s[1].column.name)!=null?a:""}),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){s&&v(e),S(t)}}}function rne(r){let e,t,n,l;const s=[nne,tne,ene],i=[];function o(a,u){return a[5]==="columnName"?0:a[5]==="fromSlot"&&a[6]?1:a[5]==="tableName"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function lne(r){let e,t,n,l=r[0]&&i2(r),s=r[1]&&o2(r);return{c(){l&&l.c(),e=N(),s&&s.c(),t=oe()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,[o]){i[0]?l?(l.p(i,o),o&1&&_(l,1)):(l=i2(i),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[1]?s?(s.p(i,o),o&2&&_(s,1)):(s=o2(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&v(e),s&&s.d(i),i&&v(t)}}}function jy(r,e){if(r.source.is_initial_column)return{column:{...r.column,name:r.source.input_column_name},table:{name:r.source.input_table_name}};const n=r.source.input_alias,l=e.get(n);if(l)return jy(l,e)}function sne(r,e,t){let n,l,s;Z(r,ge,a=>t(2,s=a));let{columnInformation:i}=e,{columnsMetaData:o}=e;return r.$$set=a=>{"columnInformation"in a&&t(3,i=a.columnInformation),"columnsMetaData"in a&&t(4,o=a.columnsMetaData)},r.$$.update=()=>{r.$$.dirty&24&&t(1,n=jy(i,o)),r.$$.dirty&24&&t(0,l=(()=>{if(!i.source.is_initial_column){const u=i.source.input_alias,c=o.get(u);if(c)return{...c.column,name:c.column.display_name}}})())},[l,n,s,i,o]}class ine extends x{constructor(e){super(),J(this,e,sne,lne,Q,{columnInformation:3,columnsMetaData:4})}}function one(r){let e,t=r[5]("actions")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&32&&t!==(t=l[5]("actions")+"")&&Y(n,t)},d(l){l&&v(e)}}}function a2(r){let e,t,n;return t=new Fo({props:{$$slots:{default:[dne]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","warning svelte-1w7tyb3")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&4131&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function ane(r){let e=r[5]("multiple_column_delete_error_used_in_transformations")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("multiple_column_delete_error_used_in_transformations")+"")&&Y(t,e)},d(n){n&&v(t)}}}function une(r){let e=r[5]("multiple_column_delete_error_last_base_column")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("multiple_column_delete_error_last_base_column")+"")&&Y(t,e)},d(n){n&&v(t)}}}function cne(r){let e;function t(s,i){return s[1]?mne:fne}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function fne(r){let e=r[5]("single_column_delete_error_used_in_transformations")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("single_column_delete_error_used_in_transformations")+"")&&Y(t,e)},d(n){n&&v(t)}}}function mne(r){let e=r[5]("single_column_delete_error_last_base_column")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("single_column_delete_error_last_base_column")+"")&&Y(t,e)},d(n){n&&v(t)}}}function dne(r){let e;function t(s,i){return s[0].length===1?cne:s[1]?une:ane}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function _ne(r){let e,t,n,l=r[5]("delete_columns_count",{values:{count:r[0].length}})+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&33)&&l!==(l=u[5]("delete_columns_count",{values:{count:u[0].length}})+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function pne(r){let e,t,n,l,s=r[2]&&a2(r);return n=new dt({props:{class:"delete-button",appearance:"outline-primary",disabled:r[2],$$slots:{default:[_ne]},$$scope:{ctx:r}}}),n.$on("click",r[6]),{c(){e=M("div"),s&&s.c(),t=N(),C(n.$$.fragment),D(e,"slot","content"),D(e,"class","section-content actions")},m(i,o){w(i,e,o),s&&s.m(e,null),I(e,t),y(n,e,null),l=!0},p(i,o){i[2]?s?(s.p(i,o),o&4&&_(s,1)):(s=a2(i),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K());const a={};o&4&&(a.disabled=i[2]),o&4129&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){l||(_(s),_(n.$$.fragment,i),l=!0)},o(i){g(s),g(n.$$.fragment,i),l=!1},d(i){i&&v(e),s&&s.d(),S(n)}}}function gne(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[pne],header:[one]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&4135&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hne(r,e,t){let n,l,s,i,o,a,u,c=j,f=()=>(c(),c=ue(n,T=>t(10,u=T)),n),m,d=j,p=()=>(d(),d=ue(l,T=>t(11,m=T)),l),h;Z(r,ge,T=>t(5,h=T)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>d());let{selectedColumns:b}=e,{queryManager:$}=e;function k(){$.update(T=>T.withoutInitialColumns(s)),$.clearSelection()}return r.$$set=T=>{"selectedColumns"in T&&t(7,b=T.selectedColumns),"queryManager"in T&&t(8,$=T.queryManager)},r.$$.update=()=>{r.$$.dirty&256&&f(t(4,{query:n,columnsMetaData:l}=$,n,p(t(3,l)))),r.$$.dirty&128&&t(0,s=b.map(T=>T.column.alias)),r.$$.dirty&3073&&t(1,i=(()=>{if(u.hasSummarizationTransform())return!1;const T=u.initial_columns.filter(A=>!s.includes(A.alias));return!(T.length===0||T.some(A=>{var O;const P=(O=m.get(A.alias))==null?void 0:O.source;return(P==null?void 0:P.is_initial_column)&&P.input_table_id===u.base_table}))})()),r.$$.dirty&1025&&t(9,o=u.areColumnsUsedInTransformations(s)),r.$$.dirty&514&&t(2,a=i||o)},[s,i,a,l,n,h,k,b,$,o,u,m]}class bne extends x{constructor(e){super(),J(this,e,hne,gne,Q,{selectedColumns:7,queryManager:8})}}function $ne(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[yne],header:[wne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1049629&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vne(r){let e,t=r[10]("multiple_columns_selected",{values:{count:r[1].length}})+"",n;return{c(){e=M("div"),n=q(t),D(e,"class","section-content")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1026&&t!==(t=l[10]("multiple_columns_selected",{values:{count:l[1].length}})+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function wne(r){let e,t=r[10]("properties")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1024&&t!==(t=l[10]("properties")+"")&&Y(n,t)},d(l){l&&v(e)}}}function kne(r){let e,t;return e=new gn({props:{value:r[0].column.display_name,disabled:!r[3]}}),e.$on("input",r[12]),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.value=n[0].column.display_name),l&8&&(s.disabled=!n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function u2(r){let e,t;return e=new ine({props:{columnInformation:r[4],columnsMetaData:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.columnInformation=n[4]),l&4&&(s.columnsMetaData=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yne(r){let e,t,n,l;t=new hn({props:{label:r[10]("name"),layout:"stacked",$$slots:{default:[kne]},$$scope:{ctx:r}}});let s=r[4]&&u2(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),s&&s.c(),D(e,"slot","content"),D(e,"class","section-content")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),s&&s.m(e,null),l=!0},p(i,o){const a={};o&1024&&(a.label=i[10]("name")),o&1048585&&(a.$$scope={dirty:o,ctx:i}),t.$set(a),i[4]?s?(s.p(i,o),o&16&&_(s,1)):(s=u2(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(t.$$.fragment,i),_(s),l=!0)},o(i){g(t.$$.fragment,i),g(s),l=!1},d(i){i&&v(e),S(t),s&&s.d()}}}function c2(r){let e,t;return e=new bne({props:{selectedColumns:r[1],queryManager:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.selectedColumns=n[1]),l&8&&(s.queryManager=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function f2(r){let e,t=r[10]("select_columns_view_properties")+"",n;return{c(){e=M("div"),n=q(t),D(e,"class","section-content")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1024&&t!==(t=l[10]("select_columns_view_properties")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Sne(r){let e,t,n,l,s,i;const o=[vne,$ne],a=[];function u(m,d){return m[5]?0:m[0]?1:-1}~(e=u(r))&&(t=a[e]=o[e](r));let c=r[1].length>0&&r[3]&&c2(r),f=!r[0]&&f2(r);return{c(){t&&t.c(),n=N(),c&&c.c(),l=N(),f&&f.c(),s=oe()},m(m,d){~e&&a[e].m(m,d),w(m,n,d),c&&c.m(m,d),w(m,l,d),f&&f.m(m,d),w(m,s,d),i=!0},p(m,[d]){let p=e;e=u(m),e===p?~e&&a[e].p(m,d):(t&&(G(),g(a[p],1,1,()=>{a[p]=null}),K()),~e?(t=a[e],t?t.p(m,d):(t=a[e]=o[e](m),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),m[1].length>0&&m[3]?c?(c.p(m,d),d&10&&_(c,1)):(c=c2(m),c.c(),_(c,1),c.m(l.parentNode,l)):c&&(G(),g(c,1,1,()=>{c=null}),K()),m[0]?f&&(f.d(1),f=null):f?f.p(m,d):(f=f2(m),f.c(),f.m(s.parentNode,s))},i(m){i||(_(t),_(c),i=!0)},o(m){g(t),g(c),i=!1},d(m){~e&&a[e].d(m),m&&v(n),c&&c.d(m),m&&v(l),f&&f.d(m),m&&v(s)}}}function Cne(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p=j,h=()=>(p(),p=ue(s,te=>t(2,d=te)),s),b,$=j,k=()=>($(),$=ue(i,te=>t(15,b=te)),i),T,E=j,A=()=>(E(),E=ue(a,te=>t(16,T=te)),a),P,O=j,R=()=>(O(),O=ue(o,te=>t(17,P=te)),o),F;Z(r,ge,te=>t(10,F=te)),r.$$.on_destroy.push(()=>p()),r.$$.on_destroy.push(()=>$()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>O());let{queryHandler:L}=e,U;Dl(()=>{window.clearTimeout(U)});function W(te){if(window.clearTimeout(U),n&&f&&te!==f.column.display_name){const{alias:se}=f.column;n.update(B=>B.withDisplayNameForColumn(se,te))}}function H(te){const se=te.target;W(se.value)}function z(te){window.clearTimeout(U);const se=te.target;U=window.setTimeout(()=>{W(se.value)},500)}return r.$$set=te=>{"queryHandler"in te&&t(13,L=te.queryHandler)},r.$$.update=()=>{r.$$.dirty&8192&&t(3,n=L instanceof ec?L:void 0),r.$$.dirty&8192&&t(14,{selection:l,columnsMetaData:s,processedColumns:i}=L,l,h(t(9,s)),k(t(8,i))),r.$$.dirty&16384&&R(t(7,{selectedCells:o,columnsSelectedWhenTheTableIsEmpty:a}=l,o,A(t(6,a)))),r.$$.dirty&245760&&t(1,u=(()=>{const te=l.getSelectedUniqueColumnsId(P,T),se=[];for(const B of te){const V=b.get(B);V!==void 0&&se.push(V)}return se})()),r.$$.dirty&2&&t(5,c=u.length>1),r.$$.dirty&2&&t(0,f=u.length>0?u[0]:void 0),r.$$.dirty&5&&t(4,m=f?d.get(f.column.alias):void 0)},[f,u,d,n,m,c,a,o,i,s,F,H,z,L,l,b,T,P]}class Tne extends x{constructor(e){super(),J(this,e,Cne,Sne,Q,{queryHandler:13})}}function Ene(r){let e=r[4]("select_cell_view_properties")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("select_cell_view_properties")+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function Dne(r){let e,t,n=r[4]("content")+"",l,s,i,o,a=r[0]&&m2(r);return{c(){e=M("section"),t=M("header"),l=q(n),s=N(),i=M("div"),a&&a.c(),D(t,"class","svelte-19xlmcz"),D(i,"class","content svelte-19xlmcz"),D(e,"class","cell-content")},m(u,c){w(u,e,c),I(e,t),I(t,l),I(e,s),I(e,i),a&&a.m(i,null),o=!0},p(u,c){(!o||c&16)&&n!==(n=u[4]("content")+"")&&Y(l,n),u[0]?a?(a.p(u,c),c&1&&_(a,1)):(a=m2(u),a.c(),_(a,1),a.m(i,null)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){o||(_(a),o=!0)},o(u){g(a),o=!1},d(u){u&&v(e),a&&a.d()}}}function m2(r){let e,t;return e=new Ci({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:r[0],value:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.columnFabric=n[0]),l&2&&(s.value=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ine(r){let e,t,n,l;const s=[Dne,Ene],i=[];function o(a,u){return a[1]!==void 0?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","section-content svelte-19xlmcz"),re(e,"has-content",r[1]!==void 0)},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null)),(!l||u&2)&&re(e,"has-content",a[1]!==void 0)},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function Mne(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(l,b=>t(7,a=b)),l),f,m=j,d=()=>(m(),m=ue(s,b=>t(8,f=b)),s),p;Z(r,ge,b=>t(4,p=b)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m());let{queryHandler:h}=e;return r.$$set=b=>{"queryHandler"in b&&t(5,h=b.queryHandler)},r.$$.update=()=>{r.$$.dirty&32&&t(6,{selection:n,processedColumns:l}=h,n,c(t(3,l))),r.$$.dirty&64&&d(t(2,{activeCell:s}=n,s)),r.$$.dirty&288&&t(1,i=(()=>{const b=f;if(b){const $=h.getRows();if($[b.rowIndex])return $[b.rowIndex].record[b.columnId]}})()),r.$$.dirty&384&&t(0,o=(()=>{const b=f;if(b){const $=a.get(String(b.columnId));if($)return $}})())},[o,i,s,l,p,h,n,a,f]}class Ane extends x{constructor(e){super(),J(this,e,Mne,Ine,Q,{queryHandler:5})}}function Pne(r){let e,t;return e=new Ane({props:{queryHandler:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryHandler=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rne(r){let e,t;return e=new Tne({props:{queryHandler:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryHandler=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function One(r){let e,t;return e=new xte({props:{queryHandler:r[0],name:r[7].name,description:r[7].description,canEditMetadata:r[1]}}),e.$on("delete",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryHandler=n[0]),l&128&&(s.name=n[7].name),l&128&&(s.description=n[7].description),l&2&&(s.canEditMetadata=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lne(r){let e,t,n,l;const s=[One,Rne,Pne],i=[];function o(a,u){var c,f,m;return((c=a[6])==null?void 0:c.id)==="inspect-exploration"?0:((f=a[6])==null?void 0:f.id)==="inspect-column"?1:((m=a[6])==null?void 0:m.id)==="inspect-cell"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function Nne(r){let e,t,n,l;function s(o){r[10](o)}let i={tabStyle:"compact",tabs:r[5],fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[Lne]},$$scope:{ctx:r}};return r[6]!==void 0&&(i.activeTab=r[6]),t=new gu({props:i}),Te.push(()=>Oe(t,"activeTab",s)),{c(){e=M("aside"),C(t.$$.fragment),D(e,"class","exploration-inspector svelte-1kgdc5w")},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,[a]){const u={};a&32&&(u.tabs=o[5]),a&2243&&(u.$$scope={dirty:a,ctx:o}),!n&&a&64&&(n=!0,u.activeTab=o[6],Ne(()=>n=!1)),t.$set(u)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&v(e),S(t)}}}function Fne(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(s,E=>t(5,o=E)),s),c,f=j,m=()=>(f(),f=ue(i,E=>t(6,c=E)),i),d,p=j,h=()=>(p(),p=ue(l,E=>t(7,d=E)),l);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>p());let{queryHandler:b}=e,{canEditMetadata:$}=e;function k(E){ye.call(this,r,E)}function T(E){c=E,i.set(c)}return r.$$set=E=>{"queryHandler"in E&&t(0,b=E.queryHandler),"canEditMetadata"in E&&t(1,$=E.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&1&&t(8,{inspector:n,query:l}=b,n,h(t(4,l))),r.$$.dirty&256&&u(t(3,{tabs:s,activeTab:i}=n,s,m(t(2,i))))},[b,$,i,s,l,o,c,d,n,k,T]}class Hne extends x{constructor(e){super(),J(this,e,Fne,Nne,Q,{queryHandler:0,canEditMetadata:1})}}function zne(r){let e;const t=r[4].default,n=Ie(t,r,r[7],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&128)&&Ae(n,t,l,l[7],e?Me(t,l[7],s,null):Pe(l[7]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function Vne(r){let e,t;return e=new Hne({props:{slot:"panel",queryHandler:r[1],canEditMetadata:r[2]}}),e.$on("delete",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.queryHandler=n[1]),l&4&&(s.canEditMetadata=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qne(r){let e,t,n;function l(i){r[6](i)}let s={showPanel:r[0],minSizePx:250,maxSizePx:600,$$slots:{panel:[Vne],default:[zne]},$$scope:{ctx:r}};return r[3]!==void 0&&(s.sizePx=r[3]),e=new zf({props:s}),Te.push(()=>Oe(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&1&&(a.showPanel=i[0]),o&134&&(a.$$scope={dirty:o,ctx:i}),!t&&o&8&&(t=!0,a.sizePx=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Bne(r,e,t){let n;Z(r,z1,f=>t(3,n=f));let{$$slots:l={},$$scope:s}=e,{isInspectorOpen:i}=e,{queryHandler:o}=e,{canEditMetadata:a}=e;function u(f){ye.call(this,r,f)}function c(f){n=f,z1.set(n)}return r.$$set=f=>{"isInspectorOpen"in f&&t(0,i=f.isInspectorOpen),"queryHandler"in f&&t(1,o=f.queryHandler),"canEditMetadata"in f&&t(2,a=f.canEditMetadata),"$$scope"in f&&t(7,s=f.$$scope)},[i,o,a,n,l,u,c,s]}class Yy extends x{constructor(e){super(),J(this,e,Bne,qne,Q,{isInspectorOpen:0,queryHandler:1,canEditMetadata:2})}}function d2(r){let e,t;return e=new Lf({props:{$$slots:{content:[jne],trigger:[Wne]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&38&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Une(r){let e;return{c(){e=q(r[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&Y(e,t[1])},d(t){t&&v(e)}}}function Wne(r){let e,t;return e=new If({props:{slot:"trigger",$$slots:{default:[Une]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&34&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jne(r){let e=r[2]("column_added_number_of_times",{values:{count:r[1]}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&6&&e!==(e=n[2]("column_added_number_of_times",{values:{count:n[1]}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function Yne(r){let e,t,n,l,s,i=r[2]("add")+"",o,a,u,c,f;t=new er({props:{column:{...r[0],type:r[0].producesMultipleResults?"_array":r[0].type,type_options:r[0].producesMultipleResults?{item_type:r[0].type}:null,display_options:null}}});let m=r[1]>0&&d2(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("span"),s=M("span"),o=q(i),a=N(),m&&m.c(),u=N(),c=M("span"),c.textContent="+",D(e,"class","name svelte-13k4j7k"),D(s,"class","text svelte-13k4j7k"),D(l,"class","add svelte-13k4j7k")},m(d,p){w(d,e,p),y(t,e,null),w(d,n,p),w(d,l,p),I(l,s),I(s,o),I(l,a),m&&m.m(l,null),I(l,u),I(l,c),f=!0},p(d,p){const h={};p&1&&(h.column={...d[0],type:d[0].producesMultipleResults?"_array":d[0].type,type_options:d[0].producesMultipleResults?{item_type:d[0].type}:null,display_options:null}),t.$set(h),(!f||p&4)&&i!==(i=d[2]("add")+"")&&Y(o,i),d[1]>0?m?(m.p(d,p),p&2&&_(m,1)):(m=d2(d),m.c(),_(m,1),m.m(l,u)):m&&(G(),g(m,1,1,()=>{m=null}),K())},i(d){f||(_(t.$$.fragment,d),_(m),f=!0)},o(d){g(t.$$.fragment,d),g(m),f=!1},d(d){d&&v(e),S(t),d&&v(n),d&&v(l),m&&m.d()}}}function Gne(r){let e,t,n;return t=new dt({props:{$$slots:{default:[Yne]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","selectable-column svelte-13k4j7k")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&39&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Kne(r,e,t){let n;Z(r,ge,a=>t(2,n=a));const l=ht();let{column:s}=e,{usageCount:i=0}=e;const o=()=>l("add",s);return r.$$set=a=>{"column"in a&&t(0,s=a.column),"usageCount"in a&&t(1,i=a.usageCount)},[s,i,n,l,o]}class Gy extends x{constructor(e){super(),J(this,e,Kne,Gne,Q,{column:0,usageCount:1})}}function Xne(r){let e=r[3]("via_column",{values:{columnName:r[1].name}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&10&&e!==(e=n[3]("via_column",{values:{columnName:n[1].name}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function Qne(r){let e,t,n,l,s,i,o,a,u;const c=[ar,{size:"0.7rem"},{rotate:r[8]?void 0:270}];let f={};for(let m=0;m<c.length;m+=1)f=le(f,c[m]);return t=new Be({props:f}),s=new Sn({props:{table:{name:r[2]}}}),a=new pi({props:{$$slots:{default:[Xne]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),n=N(),l=M("span"),C(s.$$.fragment),i=N(),o=M("span"),C(a.$$.fragment),D(l,"class","svelte-18wa4a1"),D(e,"class","table-name svelte-18wa4a1"),D(o,"class","fk-column svelte-18wa4a1")},m(m,d){w(m,e,d),y(t,e,null),I(e,n),I(e,l),y(s,l,null),w(m,i,d),w(m,o,d),y(a,o,null),u=!0},p(m,d){const p=d&256?de(c,[d&0&&$e(ar),c[1],d&256&&{rotate:m[8]?void 0:270}]):{};t.$set(p);const h={};d&4&&(h.table={name:m[2]}),s.$set(h);const b={};d&74&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(_(t.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){g(t.$$.fragment,m),g(s.$$.fragment,m),g(a.$$.fragment,m),u=!1},d(m){m&&v(e),S(t),S(s),m&&v(i),m&&v(o),S(a)}}}function Zne(r){let e,t;return e=new dt({props:{appearance:"plain",class:"column-name",$$slots:{default:[Qne]},$$scope:{ctx:r}}}),e.$on("click",function(){Pt(r[7])&&r[7].apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){r=n;const s={};l&334&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jne(r){let e,t,n,l;const s=r[4].default,i=Ie(s,r,r[6],null);return{c(){e=M("div"),i&&i.c(),t=N(),n=M("div"),D(n,"class","line-down svelte-18wa4a1"),D(e,"class","column-list svelte-18wa4a1"),D(e,"slot","content")},m(o,a){w(o,e,a),i&&i.m(e,null),I(e,t),I(e,n),l=!0},p(o,a){i&&i.p&&(!l||a&64)&&Ae(i,s,o,o[6],l?Me(s,o[6],a,null):Pe(o[6]),null)},i(o){l||(_(i,o),l=!0)},o(o){g(i,o),l=!1},d(o){o&&v(e),i&&i.d(o)}}}function xne(r){let e,t,n,l;function s(o){r[5](o)}let i={$$slots:{content:[Jne],trigger:[Zne,({toggle:o,isOpen:a})=>({7:o,8:a}),({toggle:o,isOpen:a})=>(o?128:0)|(a?256:0)]},$$scope:{ctx:r}};return r[0][r[1].id]!==void 0&&(i.isOpen=r[0][r[1].id]),t=new Nn({props:i}),Te.push(()=>Oe(t,"isOpen",s)),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","table-group svelte-18wa4a1")},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,[a]){const u={};a&462&&(u.$$scope={dirty:a,ctx:o}),!n&&a&3&&(n=!0,u.isOpen=o[0][o[1].id],Ne(()=>n=!1)),t.$set(u)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&v(e),S(t)}}}function ere(r,e,t){let n;Z(r,ge,c=>t(3,n=c));let{$$slots:l={},$$scope:s}=e,{linkCollapsibleOpenState:i={}}=e,{column:o}=e,{tableName:a}=e;function u(c){r.$$.not_equal(i[o.id],c)&&(i[o.id]=c,t(0,i))}return r.$$set=c=>{"linkCollapsibleOpenState"in c&&t(0,i=c.linkCollapsibleOpenState),"column"in c&&t(1,o=c.column),"tableName"in c&&t(2,a=c.tableName),"$$scope"in c&&t(6,s=c.$$scope)},[i,o,a,n,l,u,s]}class Ky extends x{constructor(e){super(),J(this,e,ere,xne,Q,{linkCollapsibleOpenState:0,column:1,tableName:2})}}function _2(r,e,t){const n=r.slice();return n[6]=e[t][0],n[7]=e[t][1],n}function tre(r){let e,t;return e=new Gy({props:{column:r[7],usageCount:r[3].getColumnCount(r[6])}}),e.$on("add",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.column=n[7]),l&12&&(s.usageCount=n[3].getColumnCount(n[6])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nre(r){let e,t;return e=new Ky({props:{tableName:r[7].linksTo.name,column:r[7],linkCollapsibleOpenState:r[1],$$slots:{default:[rre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.tableName=n[7].linksTo.name),l&4&&(s.column=n[7]),l&2&&(s.linkCollapsibleOpenState=n[1]),l&1031&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rre(r){let e,t,n;return e=new Qm({props:{linkCollapsibleOpenState:r[1],columnsWithLinks:r[7].linksTo.columns,query:r[0]}}),e.$on("add",r[4]),{c(){C(e.$$.fragment),t=N()},m(l,s){y(e,l,s),w(l,t,s),n=!0},p(l,s){const i={};s&2&&(i.linkCollapsibleOpenState=l[1]),s&4&&(i.columnsWithLinks=l[7].linksTo.columns),s&1&&(i.query=l[0]),e.$set(i)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){S(e,l),l&&v(t)}}}function p2(r,e){let t,n,l,s,i;const o=[nre,tre],a=[];function u(c,f){return c[7].linksTo?0:1}return n=u(e),l=a[n]=o[n](e),{key:r,first:null,c(){t=oe(),l.c(),s=oe(),this.first=t},m(c,f){w(c,t,f),a[n].m(c,f),w(c,s,f),i=!0},p(c,f){e=c;let m=n;n=u(e),n===m?a[n].p(e,f):(G(),g(a[m],1,1,()=>{a[m]=null}),K(),l=a[n],l?l.p(e,f):(l=a[n]=o[n](e),l.c()),_(l,1),l.m(s.parentNode,s))},i(c){i||(_(l),i=!0)},o(c){g(l),i=!1},d(c){c&&v(t),a[n].d(c),c&&v(s)}}}function lre(r){let e,t=[],n=new Map,l,s=[...r[2]];const i=o=>o[6];for(let o=0;o<s.length;o+=1){let a=_2(r,s,o),u=i(a);n.set(u,t[o]=p2(u,a))}return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","selectable-column-tree")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&15&&(s=[...o[2]],G(),t=gt(t,a,i,1,o,s,n,e,bt,p2,null,_2),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function sre(r,e,t){let n,l=j,s=()=>(l(),l=ue(i,f=>t(3,n=f)),i);r.$$.on_destroy.push(()=>l());let{query:i}=e;s();let{linkCollapsibleOpenState:o={}}=e,{columnsWithLinks:a}=e;function u(f){ye.call(this,r,f)}function c(f){ye.call(this,r,f)}return r.$$set=f=>{"query"in f&&s(t(0,i=f.query)),"linkCollapsibleOpenState"in f&&t(1,o=f.linkCollapsibleOpenState),"columnsWithLinks"in f&&t(2,a=f.columnsWithLinks)},[i,o,a,n,u,c]}class Qm extends x{constructor(e){super(),J(this,e,sre,lre,Q,{query:0,linkCollapsibleOpenState:1,columnsWithLinks:2})}}const{Map:Xy}=iu;function g2(r,e,t){const n=r.slice();return n[16]=e[t],n}function h2(r,e,t){const n=r.slice();return n[19]=e[t][0],n[20]=e[t][1],n}function b2(r,e){let t,n,l;return n=new Gy({props:{column:e[20],usageCount:e[4].getColumnCount(e[19])}}),n.$on("add",e[13]),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&8&&(o.column=e[20]),i&24&&(o.usageCount=e[4].getColumnCount(e[19])),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function ire(r){let e,t,n,l=r[6]&&$2(r),s=r[5]&&v2(r);return{c(){l&&l.c(),e=N(),s&&s.c(),t=oe()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,o){i[6]?l?(l.p(i,o),o&64&&_(l,1)):(l=$2(i),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[5]?s?(s.p(i,o),o&32&&_(s,1)):(s=v2(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&v(e),s&&s.d(i),i&&v(t)}}}function ore(r){let e,t,n=r[10]("from_linked_tables")+"",l,s,i,o,a=r[10]("one_column_from_base_is_required")+"",u;return{c(){e=M("section"),t=M("header"),l=q(n),s=N(),i=M("div"),o=M("div"),u=q(a),D(t,"class","svelte-1fgd2mb"),D(o,"class","help-text svelte-1fgd2mb"),D(i,"class","content svelte-1fgd2mb")},m(c,f){w(c,e,f),I(e,t),I(t,l),I(e,s),I(e,i),I(i,o),I(o,u)},p(c,f){f&1024&&n!==(n=c[10]("from_linked_tables")+"")&&Y(l,n),f&1024&&a!==(a=c[10]("one_column_from_base_is_required")+"")&&Y(u,a)},i:j,o:j,d(c){c&&v(e)}}}function $2(r){let e,t,n=r[10]("linked_from_base_table")+"",l,s,i,o,a;return o=new Qm({props:{columnsWithLinks:r[2],linkCollapsibleOpenState:r[0],query:r[8]}}),o.$on("add",r[14]),{c(){e=M("section"),t=M("header"),l=q(n),s=N(),i=M("div"),C(o.$$.fragment),D(t,"class","svelte-1fgd2mb"),D(i,"class","content svelte-1fgd2mb")},m(u,c){w(u,e,c),I(e,t),I(t,l),I(e,s),I(e,i),y(o,i,null),a=!0},p(u,c){(!a||c&1024)&&n!==(n=u[10]("linked_from_base_table")+"")&&Y(l,n);const f={};c&4&&(f.columnsWithLinks=u[2]),c&1&&(f.linkCollapsibleOpenState=u[0]),c&256&&(f.query=u[8]),o.$set(f)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){g(o.$$.fragment,u),a=!1},d(u){u&&v(e),S(o)}}}function v2(r){let e,t,n=r[10]("linked_to_base_table")+"",l,s,i,o,a=r[7]&&w2(r);return{c(){e=M("section"),t=M("header"),l=q(n),s=N(),i=M("div"),a&&a.c(),D(t,"class","svelte-1fgd2mb"),D(i,"class","content svelte-1fgd2mb"),D(i,"data-identifier","referenced-by-tables")},m(u,c){w(u,e,c),I(e,t),I(t,l),I(e,s),I(e,i),a&&a.m(i,null),o=!0},p(u,c){(!o||c&1024)&&n!==(n=u[10]("linked_to_base_table")+"")&&Y(l,n),u[7]?a?(a.p(u,c),c&128&&_(a,1)):(a=w2(u),a.c(),_(a,1),a.m(i,null)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){o||(_(a),o=!0)},o(u){g(a),o=!1},d(u){u&&v(e),a&&a.d()}}}function w2(r){let e=[],t=new Xy,n,l,s=r[1];const i=o=>o[16];for(let o=0;o<s.length;o+=1){let a=g2(r,s,o),u=i(a);t.set(u,e[o]=k2(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&259&&(s=o[1],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,k2,n,g2),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function are(r){let e,t,n;return e=new Qm({props:{linkCollapsibleOpenState:r[0],columnsWithLinks:r[16].columns,query:r[8]}}),e.$on("add",r[15]),{c(){C(e.$$.fragment),t=N()},m(l,s){y(e,l,s),w(l,t,s),n=!0},p(l,s){const i={};s&1&&(i.linkCollapsibleOpenState=l[0]),s&2&&(i.columnsWithLinks=l[16].columns),s&256&&(i.query=l[8]),e.$set(i)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){g(e.$$.fragment,l),n=!1},d(l){S(e,l),l&&v(t)}}}function k2(r,e){let t,n,l;return n=new Ky({props:{tableName:e[16].name,column:e[16].referencedViaColumn,linkCollapsibleOpenState:e[0],$$slots:{default:[are]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.tableName=e[16].name),i&2&&(o.column=e[16].referencedViaColumn),i&1&&(o.linkCollapsibleOpenState=e[0]),i&8388867&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function ure(r){let e,t,n,l=r[10]("from_base_table")+"",s,i,o,a=[],u=new Xy,c,f,m,d,p=[...r[3]];const h=T=>T[19];for(let T=0;T<p.length;T+=1){let E=h2(r,p,T),A=h(E);u.set(A,a[T]=b2(A,E))}const b=[ore,ire],$=[];function k(T,E){return!T[7]&&(T[6]||T[5])?0:1}return f=k(r),m=$[f]=b[f](r),{c(){e=M("div"),t=M("section"),n=M("header"),s=q(l),i=N(),o=M("div");for(let T=0;T<a.length;T+=1)a[T].c();c=N(),m.c(),D(n,"class","svelte-1fgd2mb"),D(o,"class","content svelte-1fgd2mb"),D(e,"data-identifier","column-selection-list"),D(e,"class","svelte-1fgd2mb")},m(T,E){w(T,e,E),I(e,t),I(t,n),I(n,s),I(t,i),I(t,o);for(let A=0;A<a.length;A+=1)a[A].m(o,null);I(e,c),$[f].m(e,null),d=!0},p(T,[E]){(!d||E&1024)&&l!==(l=T[10]("from_base_table")+"")&&Y(s,l),E&24&&(p=[...T[3]],G(),a=gt(a,E,h,1,T,p,u,o,bt,b2,null,h2),K());let A=f;f=k(T),f===A?$[f].p(T,E):(G(),g($[A],1,1,()=>{$[A]=null}),K(),m=$[f],m?m.p(T,E):(m=$[f]=b[f](T),m.c()),_(m,1),m.m(e,null))},i(T){if(!d){for(let E=0;E<p.length;E+=1)_(a[E]);_(m),d=!0}},o(T){for(let E=0;E<a.length;E+=1)g(a[E]);g(m),d=!1},d(T){T&&v(e);for(let E=0;E<a.length;E+=1)a[E].d();$[f].d()}}}function cre(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(l,O=>t(4,f=O)),l),p,h=j,b=()=>(h(),h=ue(n,O=>t(12,p=O)),n),$;Z(r,ge,O=>t(10,$=O)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{queryManager:k}=e,{linkCollapsibleOpenState:T={}}=e;function E(O){ye.call(this,r,O)}function A(O){ye.call(this,r,O)}function P(O){ye.call(this,r,O)}return r.$$set=O=>{"queryManager"in O&&t(11,k=O.queryManager),"linkCollapsibleOpenState"in O&&t(0,T=O.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&2048&&b(t(9,{inputColumns:n,query:l}=k,n,d(t(8,l)))),r.$$.dirty&4096&&t(3,{baseTableColumns:s,tablesThatReferenceBaseTable:i}=p,s,(t(1,i),t(12,p))),r.$$.dirty&16&&t(7,o=f.initial_columns.length>0),r.$$.dirty&8&&t(2,a=new Map([...s].filter(([,O])=>O.linksTo!==void 0))),r.$$.dirty&4&&t(6,u=a.size>0),r.$$.dirty&2&&t(5,c=i.length>0)},[T,i,a,s,f,c,u,o,l,n,$,k,p,E,A,P]}class fre extends x{constructor(e){super(),J(this,e,cre,ure,Q,{queryManager:11,linkCollapsibleOpenState:0})}}function mre(r){let e,t,n,l,s;function i(c){r[6](c)}function o(c){r[7](c)}function a(c){r[8](c)}let u={allowDelete:!1,columns:r[1],getColumnLabel:r[5],disableColumnChange:r[3],layout:"vertical",numberOfFilters:r[2]};return r[0].columnIdentifier!==void 0&&(u.columnIdentifier=r[0].columnIdentifier),r[0].conditionIdentifier!==void 0&&(u.conditionIdentifier=r[0].conditionIdentifier),r[0].value!==void 0&&(u.value=r[0].value),e=new Vy({props:u}),Te.push(()=>Oe(e,"columnIdentifier",i)),Te.push(()=>Oe(e,"conditionIdentifier",o)),Te.push(()=>Oe(e,"value",a)),e.$on("update",r[4]),{c(){C(e.$$.fragment)},m(c,f){y(e,c,f),s=!0},p(c,[f]){const m={};f&2&&(m.columns=c[1]),f&2&&(m.getColumnLabel=c[5]),f&8&&(m.disableColumnChange=c[3]),f&4&&(m.numberOfFilters=c[2]),!t&&f&1&&(t=!0,m.columnIdentifier=c[0].columnIdentifier,Ne(()=>t=!1)),!n&&f&1&&(n=!0,m.conditionIdentifier=c[0].conditionIdentifier,Ne(()=>n=!1)),!l&&f&1&&(l=!0,m.value=c[0].value,Ne(()=>l=!1)),e.$set(m)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){g(e.$$.fragment,c),s=!1},d(c){S(e,c)}}}function dre(r,e,t){const n=ht();let{columns:l}=e,{model:s}=e,{totalTransformations:i}=e,{limitEditing:o=!1}=e;function a(){n("update")}const u=d=>{var p,h;return(h=(p=l.get(d.id))==null?void 0:p.column.display_name)!=null?h:""};function c(d){r.$$.not_equal(s.columnIdentifier,d)&&(s.columnIdentifier=d,t(0,s))}function f(d){r.$$.not_equal(s.conditionIdentifier,d)&&(s.conditionIdentifier=d,t(0,s))}function m(d){r.$$.not_equal(s.value,d)&&(s.value=d,t(0,s))}return r.$$set=d=>{"columns"in d&&t(1,l=d.columns),"model"in d&&t(0,s=d.model),"totalTransformations"in d&&t(2,i=d.totalTransformations),"limitEditing"in d&&t(3,o=d.limitEditing)},[s,l,i,o,a,u,c,f,m]}class _re extends x{constructor(e){super(),J(this,e,dre,mre,Q,{columns:1,model:0,totalTransformations:2,limitEditing:3})}}function pre(r,e,t){const n=[];let l=Xa(r.map(s=>s.alias),t);n.push(l);for(let s=1;s<e.length;s+=1){const i=e[s-1];i.type==="summarize"&&(l=Xa(i.getOutputColumnAliases(),t)),n.push(l)}return n}function y2(r){const e=r[2].get(r[23]);r[24]=e}function gre(r){var n,l,s,i,o,a;y2(r);let e,t;return e=new er({props:{column:{name:r[3](r[24]),type:(l=(n=r[24])==null?void 0:n.column.type)!=null?l:"unknown",type_options:(i=(s=r[24])==null?void 0:s.column.type_options)!=null?i:null,display_options:(a=(o=r[24])==null?void 0:o.column.display_options)!=null?a:null,constraintsType:r[11](r[23])}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,p,h,b,$;y2(u);const f={};c&8388620&&(f.column={name:u[3](u[24]),type:(d=(m=u[24])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(p=u[24])==null?void 0:p.column.type_options)!=null?h:null,display_options:($=(b=u[24])==null?void 0:b.column.display_options)!=null?$:null,constraintsType:u[11](u[23])}),e.$set(f)},i(u){t||(_(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function S2(r){let e,t,n;function l(i){r[20](i)}let s={options:r[7],autoSelect:"none",getLabel:r[19]};return r[1]!==void 0&&(s.value=r[1]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&128&&(a.options=i[7]),o&576&&(a.getLabel=i[19]),!t&&o&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function C2(r){let e,t;return e=new dt({props:{appearance:"secondary",$$slots:{default:[hre]},$$scope:{ctx:r}}}),e.$on("click",r[21]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&33554432&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hre(r){let e,t;const n=[{size:"0.8rem"},qt];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[n[0],$e(qt)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function bre(r){let e,t,n,l,s,i;function o(f){r[18](f)}let a={options:r[8],autoSelect:"none",disabled:r[4],getLabel:r[17],$$slots:{default:[gre,({option:f})=>({23:f}),({option:f})=>f?8388608:0]},$$scope:{ctx:r}};r[0]!==void 0&&(a.value=r[0]),e=new Tn({props:a}),Te.push(()=>Oe(e,"value",o)),e.$on("change",r[13]);let u=r[7].length>1&&S2(r),c=r[5]&&C2(r);return{c(){C(e.$$.fragment),n=N(),u&&u.c(),l=N(),c&&c.c(),s=oe()},m(f,m){y(e,f,m),w(f,n,m),u&&u.m(f,m),w(f,l,m),c&&c.m(f,m),w(f,s,m),i=!0},p(f,m){const d={};m&256&&(d.options=f[8]),m&16&&(d.disabled=f[4]),m&12&&(d.getLabel=f[17]),m&41943052&&(d.$$scope={dirty:m,ctx:f}),!t&&m&1&&(t=!0,d.value=f[0],Ne(()=>t=!1)),e.$set(d),f[7].length>1?u?(u.p(f,m),m&128&&_(u,1)):(u=S2(f),u.c(),_(u,1),u.m(l.parentNode,l)):u&&(G(),g(u,1,1,()=>{u=null}),K()),f[5]?c?(c.p(f,m),m&32&&_(c,1)):(c=C2(f),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){i||(_(e.$$.fragment,f),_(u),_(c),i=!0)},o(f){g(e.$$.fragment,f),g(u),g(c),i=!1},d(f){S(e,f),f&&v(n),u&&u.d(f),f&&v(l),c&&c.d(f),f&&v(s)}}}function $re(r){let e,t;return e=new mi({props:{$$slots:{default:[bre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&33555455&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vre(r,e,t){let n=t!=null?t:r;return n!=null&&n.some(l=>l===e)||(n=[e,...n]),n}function wre(r,e,t){let n,l,s,i,o;Z(r,ge,L=>t(9,o=L));const a=ht();let{columns:u}=e,{getColumnLabel:c}=e,{getColumnConstraintType:f=()=>{}}=e,{columnsAllowedForSelection:m=void 0}=e,{columnIdentifier:d}=e,{preprocFunctionIdentifier:p=void 0}=e,{disableColumnChange:h=!1}=e,{allowDelete:b=!0}=e;function $(L){if(L){const U=u.get(L);if(U)return f(U)}}async function k(){await on(),a("update",{columnIdentifier:d,preprocFunctionIdentifier:p})}async function T(){t(1,p=void 0),await k()}function E(L,U){return W=>{var H,z,te;return W===void 0?o("value"):(te=(z=(H=L.get(U))==null?void 0:H.preprocFunctions.find(se=>se.id===W))==null?void 0:z.name)!=null?te:W}}const A=L=>L?c(u.get(L)):"";function P(L){d=L,t(0,d)}const O=L=>L===void 0?o("value"):i(L);function R(L){p=L,t(1,p)}const F=()=>a("removeGroup");return r.$$set=L=>{"columns"in L&&t(2,u=L.columns),"getColumnLabel"in L&&t(3,c=L.getColumnLabel),"getColumnConstraintType"in L&&t(14,f=L.getColumnConstraintType),"columnsAllowedForSelection"in L&&t(15,m=L.columnsAllowedForSelection),"columnIdentifier"in L&&t(0,d=L.columnIdentifier),"preprocFunctionIdentifier"in L&&t(1,p=L.preprocFunctionIdentifier),"disableColumnChange"in L&&t(4,h=L.disableColumnChange),"allowDelete"in L&&t(5,b=L.allowDelete)},r.$$.update=()=>{var L,U;r.$$.dirty&4&&t(16,n=[...u.values()].map(W=>W.id)),r.$$.dirty&98305&&t(8,l=vre(n,d,m)),r.$$.dirty&5&&t(7,s=[void 0,...(U=(L=u.get(d))==null?void 0:L.preprocFunctions.map(W=>W.id))!=null?U:[]]),r.$$.dirty&5&&t(6,i=E(u,d))},[d,p,u,c,h,b,i,s,l,o,a,$,k,T,f,m,n,A,P,O,R,F]}class Qy extends x{constructor(e){super(),J(this,e,wre,$re,Q,{columns:2,getColumnLabel:3,getColumnConstraintType:14,columnsAllowedForSelection:15,columnIdentifier:0,preprocFunctionIdentifier:1,disableColumnChange:4,allowDelete:5})}}function kre(r){let e,t,n;function l(i){r[8](i)}let s={options:r[4],disabled:r[2],getLabel:r[7]};return r[0].function!==void 0&&(s.value=r[0].function),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[9]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&16&&(a.options=i[4]),o&4&&(a.disabled=i[2]),o&8&&(a.getLabel=i[7]),!t&&o&1&&(t=!0,a.value=i[0].function,Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function yre(r){let e,t,n,l;const s=[Cre,Sre],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Sre(r){let e,t=r[0].inputAlias+"",n;return{c(){e=M("div"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0].inputAlias+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function Cre(r){var n;let e,t;return e=new er({props:{column:{...r[1].column,name:(n=r[1].column.display_name)!=null?n:r[1].column.alias}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&2&&(i.column={...l[1].column,name:(o=l[1].column.display_name)!=null?o:l[1].column.alias}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Tre(r){let e,t,n,l;const s=[yre,kre],i=[];function o(a,u){return a[11]==="column"?0:a[11]==="function"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function Ere(r){let e,t;const n=[Us,{size:"0.8rem"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(Us),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Dre(r){let e,t,n,l,s;return t=new St({props:{text:r[5]("aggregate_column_as_function"),$$slots:{default:[Tre,({slotName:i})=>({11:i}),({slotName:i})=>i?2048:0]},$$scope:{ctx:r}}}),l=new dt({props:{disabled:r[2],appearance:"plain",$$slots:{default:[Ere]},$$scope:{ctx:r}}}),l.$on("click",r[10]),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","aggregation svelte-56xg2q")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,[o]){const a={};o&32&&(a.text=i[5]("aggregate_column_as_function")),o&6175&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o&4&&(u.disabled=i[2]),o&4096&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function Ire(r,e,t){let n,l,s;Z(r,ge,p=>t(5,s=p));const i=ht();let{processedColumn:o}=e,{aggregation:a}=e,{limitEditing:u=!1}=e;const c=p=>{var h,b;return(b=(h=n.find($=>$.id===p))==null?void 0:h.label)!=null?b:""};function f(p){r.$$.not_equal(a.function,p)&&(a.function=p,t(0,a))}const m=()=>i("update"),d=()=>i("remove");return r.$$set=p=>{"processedColumn"in p&&t(1,o=p.processedColumn),"aggregation"in p&&t(0,a=p.aggregation),"limitEditing"in p&&t(2,u=p.limitEditing)},r.$$.update=()=>{var p;r.$$.dirty&2&&t(3,n=(p=o==null?void 0:o.summarizationFunctions)!=null?p:[]),r.$$.dirty&8&&t(4,l=n.map(h=>h.id))},[a,o,u,n,l,s,i,c,f,m,d]}class Mre extends x{constructor(e){super(),J(this,e,Ire,Dre,Q,{processedColumn:1,aggregation:0,limitEditing:2})}}function T2(r,e,t){const n=r.slice();return n[15]=e[t],n}function E2(r){var t;const e=(t=r[1].get(r[18]))==null?void 0:t.column;r[19]=e}function D2(r){let e,t,n;return t=new hn({props:{label:r[5]("not_aggregated"),layout:"stacked",$$slots:{default:[Pre]},$$scope:{ctx:r}}}),{c(){e=M("section"),C(t.$$.fragment),D(e,"class","svelte-1a5pfoa")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i.label=l[5]("not_aggregated")),s&1048599&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Are(r){var n,l,s,i,o,a;E2(r);let e,t;return e=new er({props:{column:{name:(l=(n=r[19])==null?void 0:n.display_name)!=null?l:"",type:(i=(s=r[19])==null?void 0:s.type)!=null?i:"unknown",type_options:(a=(o=r[19])==null?void 0:o.type_options)!=null?a:null,display_options:null}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,p,h,b,$;E2(u);const f={};c&262146&&(f.column={name:(d=(m=u[19])==null?void 0:m.display_name)!=null?d:"",type:(h=(p=u[19])==null?void 0:p.type)!=null?h:"unknown",type_options:($=(b=u[19])==null?void 0:b.type_options)!=null?$:null,display_options:null}),e.$set(f)},i(u){t||(_(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function Pre(r){let e,t;return e=new du({props:{values:[...r[4].values()].map(A2),options:[...r[1].without(r[0].columnIdentifier).values()].map(P2),autoClearInvalidValues:!1,disabled:r[2],$$slots:{default:[Are,({option:n})=>({18:n}),({option:n})=>n?262144:0]},$$scope:{ctx:r}}}),e.$on("change",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.values=[...n[4].values()].map(A2)),l&3&&(s.options=[...n[1].without(n[0].columnIdentifier).values()].map(P2)),l&4&&(s.disabled=n[2]),l&1310722&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function I2(r){let e,t,n=r[5]("aggregate")+"",l,s,i=[],o=new Map,a,u=[...r[3].values()];const c=f=>f[15].inputAlias;for(let f=0;f<u.length;f+=1){let m=T2(r,u,f),d=c(m);o.set(d,i[f]=M2(d,m))}return{c(){e=M("section"),t=M("header"),l=q(n),s=N();for(let f=0;f<i.length;f+=1)i[f].c();D(e,"class","svelte-1a5pfoa")},m(f,m){w(f,e,m),I(e,t),I(t,l),I(e,s);for(let d=0;d<i.length;d+=1)i[d].m(e,null);a=!0},p(f,m){(!a||m&32)&&n!==(n=f[5]("aggregate")+"")&&Y(l,n),m&270&&(u=[...f[3].values()],G(),i=gt(i,m,c,1,f,u,o,e,bt,M2,null,T2),K())},i(f){if(!a){for(let m=0;m<u.length;m+=1)_(i[m]);a=!0}},o(f){for(let m=0;m<i.length;m+=1)g(i[m]);a=!1},d(f){f&&v(e);for(let m=0;m<i.length;m+=1)i[m].d()}}}function M2(r,e){let t,n,l;function s(){return e[13](e[15])}return n=new Mre({props:{processedColumn:e[1].get(e[15].inputAlias),aggregation:e[15],limitEditing:e[2]}}),n.$on("update",e[12]),n.$on("remove",s),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,o){e=i;const a={};o&10&&(a.processedColumn=e[1].get(e[15].inputAlias)),o&8&&(a.aggregation=e[15]),o&4&&(a.limitEditing=e[2]),n.$set(a)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&v(t),S(n,i)}}}function Rre(r){let e,t,n,l,s;t=new Qy({props:{allowDelete:!1,columns:r[1],getColumnLabel:r[9],disableColumnChange:r[2],columnIdentifier:r[0].columnIdentifier,preprocFunctionIdentifier:r[0].preprocFunctionIdentifier}}),t.$on("update",r[10]);let i=r[4].size>0&&D2(r),o=r[3].size>0&&I2(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),i&&i.c(),l=N(),o&&o.c(),D(e,"class","summarization svelte-1a5pfoa")},m(a,u){w(a,e,u),y(t,e,null),I(e,n),i&&i.m(e,null),I(e,l),o&&o.m(e,null),s=!0},p(a,[u]){const c={};u&2&&(c.columns=a[1]),u&2&&(c.getColumnLabel=a[9]),u&4&&(c.disableColumnChange=a[2]),u&1&&(c.columnIdentifier=a[0].columnIdentifier),u&1&&(c.preprocFunctionIdentifier=a[0].preprocFunctionIdentifier),t.$set(c),a[4].size>0?i?(i.p(a,u),u&16&&_(i,1)):(i=D2(a),i.c(),_(i,1),i.m(e,l)):i&&(G(),g(i,1,1,()=>{i=null}),K()),a[3].size>0?o?(o.p(a,u),u&8&&_(o,1)):(o=I2(a),o.c(),_(o,1),o.m(e,null)):o&&(G(),g(o,1,1,()=>{o=null}),K())},i(a){s||(_(t.$$.fragment,a),_(i),_(o),s=!0)},o(a){g(t.$$.fragment,a),g(i),g(o),s=!1},d(a){a&&v(e),S(t),i&&i.d(),o&&o.d()}}}const A2=r=>r.inputAlias,P2=r=>r.column.alias;function Ore(r,e,t){let n,l,s;Z(r,ge,k=>t(5,s=k));const i=ht();let{columns:o}=e,{model:a}=e,{limitEditing:u=!1}=e;function c(k){const{columnIdentifier:T,preprocFunctionIdentifier:E}=k;T!==a.columnIdentifier&&(t(4,l=new yt),t(3,n=new yt),t(0,a.aggregations=n,a),t(0,a.groups=l,a)),t(0,a.columnIdentifier=T,a),t(0,a.preprocFunctionIdentifier=E,a),i("update",a)}function f(k){let T=n;const E=new Set(k);[...o.values()].forEach(A=>{const P=A.column.alias;!E.has(P)&&a.columnIdentifier!==P&&(T=T.with(P,{inputAlias:P,outputAlias:`${P}_agged`,function:"distinct_aggregate_to_array"}))}),t(3,n=T),t(4,l=new yt(k.map(A=>[A,{inputAlias:A,outputAlias:`${A}_group`}]))),t(0,a.aggregations=n,a),t(0,a.groups=l,a),i("update",a)}function m(k){t(4,l=l.with(k.inputAlias,{inputAlias:k.inputAlias,outputAlias:`${k.inputAlias}_group`})),t(3,n=n.without(k.inputAlias)),t(0,a.groups=l,a),t(0,a.aggregations=n,a),i("update",a)}const d=k=>{var T,E;return(E=k&&((T=o.get(k.id))==null?void 0:T.column.display_name))!=null?E:""},p=k=>c(k.detail),h=k=>f(k.detail);function b(k){ye.call(this,r,k)}const $=k=>m(k);return r.$$set=k=>{"columns"in k&&t(1,o=k.columns),"model"in k&&t(0,a=k.model),"limitEditing"in k&&t(2,u=k.limitEditing)},r.$$.update=()=>{r.$$.dirty&1&&t(3,{aggregations:n,groups:l}=a,n,(t(4,l),t(0,a)))},[a,o,u,n,l,s,c,f,m,d,p,h,b,$]}class Lre extends x{constructor(e){super(),J(this,e,Ore,Rre,Q,{columns:1,model:0,limitEditing:2})}}function R2(r){var t;const e=(t=r[1].get(r[7]))==null?void 0:t.column;r[8]=e}function Nre(r){var n,l,s,i,o,a;R2(r);let e,t;return e=new er({props:{column:{name:(l=(n=r[8])==null?void 0:n.display_name)!=null?l:"",type:(i=(s=r[8])==null?void 0:s.type)!=null?i:"unknown",type_options:(a=(o=r[8])==null?void 0:o.type_options)!=null?a:null,display_options:null}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,p,h,b,$;R2(u);const f={};c&130&&(f.column={name:(d=(m=u[8])==null?void 0:m.display_name)!=null?d:"",type:(h=(p=u[8])==null?void 0:p.type)!=null?h:"unknown",type_options:($=(b=u[8])==null?void 0:b.type_options)!=null?$:null,display_options:null}),e.$set(f)},i(u){t||(_(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function Fre(r){let e,t;return e=new du({props:{values:r[0].columnAliases,options:[...r[1].values()].map(O2),autoClearInvalidValues:!1,disabled:r[2],$$slots:{default:[Nre,({option:n})=>({7:n}),({option:n})=>n?128:0]},$$scope:{ctx:r}}}),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.values=n[0].columnAliases),l&2&&(s.options=[...n[1].values()].map(O2)),l&4&&(s.disabled=n[2]),l&642&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Hre(r){let e,t;return e=new hn({props:{label:r[3]("select_columns_to_hide"),layout:"stacked",$$slots:{default:[Fre]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.label=n[3]("select_columns_to_hide")),l&519&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const O2=r=>r.column.alias;function zre(r,e,t){let n;Z(r,ge,c=>t(3,n=c));const l=ht();let{columns:s}=e,{model:i}=e,{limitEditing:o=!1}=e;function a(c){t(0,i.columnAliases=c,i),l("update",i)}const u=c=>a(c.detail);return r.$$set=c=>{"columns"in c&&t(1,s=c.columns),"model"in c&&t(0,i=c.model),"limitEditing"in c&&t(2,o=c.limitEditing)},[i,s,o,n,a,u]}class Vre extends x{constructor(e){super(),J(this,e,zre,Hre,Q,{columns:1,model:0,limitEditing:2})}}function L2(r){const e=r[2].get(r[19]);r[20]=e}function qre(r){var n,l,s,i,o,a;L2(r);let e,t;return e=new er({props:{column:{name:r[3](r[20]),type:(l=(n=r[20])==null?void 0:n.column.type)!=null?l:"unknown",type_options:(i=(s=r[20])==null?void 0:s.column.type_options)!=null?i:null,display_options:(a=(o=r[20])==null?void 0:o.column.display_options)!=null?a:null,constraintsType:r[8](r[19])}}}),{c(){C(e.$$.fragment)},m(u,c){y(e,u,c),t=!0},p(u,c){var m,d,p,h,b,$;L2(u);const f={};c&524300&&(f.column={name:u[3](u[20]),type:(d=(m=u[20])==null?void 0:m.column.type)!=null?d:"unknown",type_options:(h=(p=u[20])==null?void 0:p.column.type_options)!=null?h:null,display_options:($=(b=u[20])==null?void 0:b.column.display_options)!=null?$:null,constraintsType:u[8](u[19])}),e.$set(f)},i(u){t||(_(e.$$.fragment,u),t=!0)},o(u){g(e.$$.fragment,u),t=!1},d(u){S(e,u)}}}function N2(r){let e,t;return e=new dt({props:{size:"small",appearance:"secondary",$$slots:{default:[Bre]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2097152&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bre(r){let e,t;const n=[qt];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(qt)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ure(r){let e,t,n,l,s,i,o,a;function u(p){r[15](p)}let c={options:r[7],autoSelect:"none",disabled:r[4],getLabel:r[14],$$slots:{default:[qre,({option:p})=>({19:p}),({option:p})=>p?524288:0]},$$scope:{ctx:r}};r[0]!==void 0&&(c.value=r[0]),e=new Tn({props:c}),Te.push(()=>Oe(e,"value",u)),e.$on("change",r[10]);function f(p){r[16](p)}let m={options:p5,getLabel:r[6]};r[1]!==void 0&&(m.value=r[1]),l=new Tn({props:m}),Te.push(()=>Oe(l,"value",f)),l.$on("change",r[10]);let d=r[5]&&N2(r);return{c(){C(e.$$.fragment),n=N(),C(l.$$.fragment),i=N(),d&&d.c(),o=oe()},m(p,h){y(e,p,h),w(p,n,h),y(l,p,h),w(p,i,h),d&&d.m(p,h),w(p,o,h),a=!0},p(p,h){const b={};h&128&&(b.options=p[7]),h&16&&(b.disabled=p[4]),h&12&&(b.getLabel=p[14]),h&2621452&&(b.$$scope={dirty:h,ctx:p}),!t&&h&1&&(t=!0,b.value=p[0],Ne(()=>t=!1)),e.$set(b);const $={};h&64&&($.getLabel=p[6]),!s&&h&2&&(s=!0,$.value=p[1],Ne(()=>s=!1)),l.$set($),p[5]?d?(d.p(p,h),h&32&&_(d,1)):(d=N2(p),d.c(),_(d,1),d.m(o.parentNode,o)):d&&(G(),g(d,1,1,()=>{d=null}),K())},i(p){a||(_(e.$$.fragment,p),_(l.$$.fragment,p),_(d),a=!0)},o(p){g(e.$$.fragment,p),g(l.$$.fragment,p),g(d),a=!1},d(p){S(e,p),p&&v(n),S(l,p),p&&v(i),d&&d.d(p),p&&v(o)}}}function Wre(r){let e,t;return e=new mi({props:{$$slots:{default:[Ure]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2097407&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jre(r,e,t){let n,l,s;Z(r,ge,P=>t(17,s=P));const i=ht();let{columns:o}=e,{getColumnLabel:a}=e,{getColumnConstraintType:u=()=>{}}=e,{columnsAllowedForSelection:c=void 0}=e,{columnIdentifier:f}=e,{sortDirection:m="ASCENDING"}=e,{disableColumnChange:d=!1}=e,{allowDelete:p=!0}=e,{getSortDirectionLabel:h=P=>{const O=o.get(f);return O&&P?g5(O.abstractType.cellInfo.type)[P]:s(m==="DESCENDING"?"descending":"ascending")}}=e;function b(P){if(P){const O=o.get(P);if(O)return u(O)}}function $(){i("remove")}function k(){i("update",{columnIdentifier:f,sortDirection:m})}const T=P=>P?a(o.get(P)):"";function E(P){f=P,t(0,f)}function A(P){m=P,t(1,m)}return r.$$set=P=>{"columns"in P&&t(2,o=P.columns),"getColumnLabel"in P&&t(3,a=P.getColumnLabel),"getColumnConstraintType"in P&&t(11,u=P.getColumnConstraintType),"columnsAllowedForSelection"in P&&t(12,c=P.columnsAllowedForSelection),"columnIdentifier"in P&&t(0,f=P.columnIdentifier),"sortDirection"in P&&t(1,m=P.sortDirection),"disableColumnChange"in P&&t(4,d=P.disableColumnChange),"allowDelete"in P&&t(5,p=P.allowDelete),"getSortDirectionLabel"in P&&t(6,h=P.getSortDirectionLabel)},r.$$.update=()=>{r.$$.dirty&4&&t(13,n=[...o.values()].map(P=>P.id)),r.$$.dirty&12289&&t(7,l=(()=>{if(c){const P=[f,...c];return n.filter(O=>P.includes(O))}return n})())},[f,m,o,a,d,p,h,l,b,$,k,u,c,n,T,E,A]}class Zy extends x{constructor(e){super(),J(this,e,jre,Wre,Q,{columns:2,getColumnLabel:3,getColumnConstraintType:11,columnsAllowedForSelection:12,columnIdentifier:0,sortDirection:1,disableColumnChange:4,allowDelete:5,getSortDirectionLabel:6})}}function Yre(r){let e,t,n,l;function s(a){r[5](a)}function i(a){r[6](a)}let o={allowDelete:!1,columns:r[1],columnsAllowedForSelection:r[2],getColumnLabel:r[4],disableColumnChange:r[3]};return r[0].columnIdentifier!==void 0&&(o.columnIdentifier=r[0].columnIdentifier),r[0].sortDirection!==void 0&&(o.sortDirection=r[0].sortDirection),e=new Zy({props:o}),Te.push(()=>Oe(e,"columnIdentifier",s)),Te.push(()=>Oe(e,"sortDirection",i)),e.$on("update",r[7]),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,[u]){const c={};u&2&&(c.columns=a[1]),u&4&&(c.columnsAllowedForSelection=a[2]),u&2&&(c.getColumnLabel=a[4]),u&8&&(c.disableColumnChange=a[3]),!t&&u&1&&(t=!0,c.columnIdentifier=a[0].columnIdentifier,Ne(()=>t=!1)),!n&&u&1&&(n=!0,c.sortDirection=a[0].sortDirection,Ne(()=>n=!1)),e.$set(c)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function Gre(r,e,t){let{columns:n}=e,{model:l}=e,{columnsAllowedForSelection:s}=e,{limitEditing:i=!1}=e;const o=f=>{var m,d;return(d=f&&((m=n.get(f.id))==null?void 0:m.column.display_name))!=null?d:""};function a(f){r.$$.not_equal(l.columnIdentifier,f)&&(l.columnIdentifier=f,t(0,l))}function u(f){r.$$.not_equal(l.sortDirection,f)&&(l.sortDirection=f,t(0,l))}function c(f){ye.call(this,r,f)}return r.$$set=f=>{"columns"in f&&t(1,n=f.columns),"model"in f&&t(0,l=f.model),"columnsAllowedForSelection"in f&&t(2,s=f.columnsAllowedForSelection),"limitEditing"in f&&t(3,i=f.limitEditing)},[l,n,s,i,o,a,u,c]}class Kre extends x{constructor(e){super(),J(this,e,Gre,Yre,Q,{columns:1,model:0,columnsAllowedForSelection:2,limitEditing:3})}}function F2(r,e,t){const n=r.slice();return n[24]=e[t],n[26]=t,n}function H2(r){const e=r[3][r[26]].size===0;r[27]=e}function z2(r){let e=[],t=new Map,n,l,s=r[0];const i=o=>o[24];for(let o=0;o<s.length;o+=1){let a=F2(r,s,o),u=i(a);t.set(u,e[o]=q2(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&24587&&(s=o[0],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,q2,n,F2),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function V2(r){let e,t;return e=new dt({props:{appearance:"plain",class:"padding-zero",$$slots:{default:[Xre]},$$scope:{ctx:r}}}),e.$on("click",r[23]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&268435456&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xre(r){let e,t;const n=[qt,{size:"0.8rem"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(qt),n[1]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Qre(r){let e,t,n=r[26]+1+"",l,s,i,o=r[24].name+"",a,u,c,f,m=r[26]===r[0].length-1&&V2(r);return{c(){e=M("span"),t=M("span"),l=q(n),s=N(),i=M("span"),a=q(o),u=N(),m&&m.c(),c=N(),D(t,"class","number svelte-rh6p5m"),D(i,"class","title svelte-rh6p5m"),D(e,"slot","header"),D(e,"class","header svelte-rh6p5m")},m(d,p){w(d,e,p),I(e,t),I(t,l),I(e,s),I(e,i),I(i,a),I(e,u),m&&m.m(e,null),I(e,c),f=!0},p(d,p){(!f||p&1)&&n!==(n=d[26]+1+"")&&Y(l,n),(!f||p&1)&&o!==(o=d[24].name+"")&&Y(a,o),d[26]===d[0].length-1?m?(m.p(d,p),p&1&&_(m,1)):(m=V2(d),m.c(),_(m,1),m.m(e,c)):m&&(G(),g(m,1,1,()=>{m=null}),K())},i(d){f||(_(m),f=!0)},o(d){g(m),f=!1},d(d){d&&v(e),m&&m.d()}}}function Zre(r){let e,t;function n(){return r[22](r[26],r[24])}return e=new Kre({props:{columns:r[3][r[26]],columnsAllowedForSelection:[...r[3][r[26]].without(r[1].getAllSortedColumns()).values()].map(B2),model:r[24],limitEditing:r[27]}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[26]]),s&11&&(i.columnsAllowedForSelection=[...r[3][r[26]].without(r[1].getAllSortedColumns()).values()].map(B2)),s&1&&(i.model=r[24]),s&9&&(i.limitEditing=r[27]),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Jre(r){let e,t;function n(){return r[21](r[26],r[24])}return e=new Vre({props:{columns:r[3][r[26]],model:r[24],limitEditing:r[27]}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[26]]),s&1&&(i.model=r[24]),s&9&&(i.limitEditing=r[27]),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function xre(r){let e,t;function n(){return r[20](r[26],r[24])}return e=new Lre({props:{columns:r[3][r[26]],model:r[24],limitEditing:r[27]||r[26]<r[0].length-1}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[26]]),s&1&&(i.model=r[24]),s&9&&(i.limitEditing=r[27]||r[26]<r[0].length-1),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function ele(r){let e,t;function n(){return r[19](r[26],r[24])}return e=new _re({props:{columns:r[3][r[26]],model:r[24],limitEditing:r[27],totalTransformations:r[0].length}}),e.$on("update",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&9&&(i.columns=r[3][r[26]]),s&1&&(i.model=r[24]),s&9&&(i.limitEditing=r[27]),s&1&&(i.totalTransformations=r[0].length),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function tle(r){H2(r);let e,t,n,l,s;const i=[ele,xre,Jre,Zre],o=[];function a(u,c){return u[24].type==="filter"?0:u[24].type==="summarize"?1:u[24].type==="hide"?2:u[24].type==="order"?3:-1}return~(t=a(r))&&(n=o[t]=i[t](r)),{c(){e=M("div"),n&&n.c(),l=N(),D(e,"slot","content"),D(e,"class","content svelte-rh6p5m")},m(u,c){w(u,e,c),~t&&o[t].m(e,null),I(e,l),s=!0},p(u,c){H2(u);let f=t;t=a(u),t===f?~t&&o[t].p(u,c):(n&&(G(),g(o[f],1,1,()=>{o[f]=null}),K()),~t?(n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),_(n,1),n.m(e,l)):n=null)},i(u){s||(_(n),s=!0)},o(u){g(n),s=!1},d(u){u&&v(e),~t&&o[t].d()}}}function q2(r,e){let t,n,l;return n=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[tle],header:[Qre]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&268435467&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function nle(r){let e=r[8]("filter")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&256&&e!==(e=n[8]("filter")+"")&&Y(t,e)},d(n){n&&v(t)}}}function rle(r){let e=r[8]("sort")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&256&&e!==(e=n[8]("sort")+"")&&Y(t,e)},d(n){n&&v(t)}}}function lle(r){let e=r[8]("summarize")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&256&&e!==(e=n[8]("summarize")+"")&&Y(t,e)},d(n){n&&v(t)}}}function sle(r){let e=r[8]("hide_columns")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&256&&e!==(e=n[8]("hide_columns")+"")&&Y(t,e)},d(n){n&&v(t)}}}function ile(r){let e,t,n,l,s,i,o,a;return e=new sn({props:{$$slots:{default:[nle]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new sn({props:{disabled:!r[2],$$slots:{default:[rle]},$$scope:{ctx:r}}}),n.$on("click",r[12]),s=new sn({props:{disabled:r[1].hasSummarizationTransform(),$$slots:{default:[lle]},$$scope:{ctx:r}}}),s.$on("click",r[10]),o=new sn({props:{$$slots:{default:[sle]},$$scope:{ctx:r}}}),o.$on("click",r[11]),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,c){const f={};c&268435712&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const m={};c&4&&(m.disabled=!u[2]),c&268435712&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const d={};c&2&&(d.disabled=u[1].hasSummarizationTransform()),c&268435712&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const p={};c&268435712&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&v(t),S(n,u),u&&v(l),S(s,u),u&&v(i),S(o,u)}}}function ole(r){let e,t,n,l,s,i=r[0]&&r[3].length===r[0].length&&z2(r);return l=new Xr({props:{label:r[8]("add_transformation_step"),icon:jt,disabled:r[7].size===0,triggerAppearance:"secondary",$$slots:{default:[ile]},$$scope:{ctx:r}}}),{c(){e=M("div"),i&&i.c(),t=N(),n=M("div"),C(l.$$.fragment),D(n,"class","add-transform-control svelte-rh6p5m"),D(e,"class","transformations svelte-rh6p5m")},m(o,a){w(o,e,a),i&&i.m(e,null),I(e,t),I(e,n),y(l,n,null),s=!0},p(o,[a]){o[0]&&o[3].length===o[0].length?i?(i.p(o,a),a&9&&_(i,1)):(i=z2(o),i.c(),_(i,1),i.m(e,t)):i&&(G(),g(i,1,1,()=>{i=null}),K());const u={};a&256&&(u.label=o[8]("add_transformation_step")),a&128&&(u.disabled=o[7].size===0),a&268435718&&(u.$$scope={dirty:a,ctx:o}),l.$set(u)},i(o){s||(_(i),_(l.$$.fragment,o),s=!0)},o(o){g(i),g(l.$$.fragment,o),s=!1},d(o){o&&v(e),i&&i.d(),S(l)}}}const B2=r=>r.column.alias;function ale(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(l,B=>t(7,f=B)),l),p,h=j,b=()=>(h(),h=ue(n,B=>t(1,p=B)),n),$,k=j,T=()=>(k(),k=ue(s,B=>t(18,$=B)),s),E;Z(r,ge,B=>t(8,E=B)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k());let{queryManager:A}=e;async function P(){const B=[...f.values()][0];if(!B)return;const V=[...B.allowedFiltersMap.values()][0];if(!V)return;const ee=new qy({columnIdentifier:B.column.alias,conditionIdentifier:V.id,value:B.initialInputValue});await A.update(ie=>ie.addFilterTransform(ee))}async function O(){const V=[...f.values()][0];if(!V)return;const ee=new Gm({columnIdentifier:V.column.alias,groups:new yt,aggregations:new yt});await A.update(ie=>ie.addSummarizationTransform(ee))}async function R(){const B=new By({columnAliases:[]});await A.update(V=>V.addHideTransform(B))}async function F(){const B=u[0];if(!B)return;const V=new Uy({columnIdentifier:B,sortDirection:"ASCENDING"});await A.update(ee=>ee.addSortTransform(V))}async function L(){await A.update(B=>B.removeLastTransform())}async function U(B,V){await A.update(ee=>ee.updateTransform(B,V))}const W=(B,V)=>U(B,V),H=(B,V)=>U(B,V),z=(B,V)=>U(B,V),te=(B,V)=>U(B,V),se=()=>L();return r.$$set=B=>{"queryManager"in B&&t(15,A=B.queryManager)},r.$$.update=()=>{r.$$.dirty&32768&&b(t(6,{query:n,processedColumns:l,columnsMetaData:s}=A,n,d(t(5,l)),T(t(4,s)))),r.$$.dirty&2&&t(17,{initial_columns:i,transformationModels:o}=p,i,(t(0,o),t(1,p))),r.$$.dirty&393217&&t(3,a=pre(i,o,$)),r.$$.dirty&2&&t(16,u=p.getAllSortableColumns()),r.$$.dirty&65536&&t(2,c=u.length>0)},[o,p,c,a,s,l,n,f,E,P,O,R,F,L,U,A,u,i,$,W,H,z,te,se]}class ule extends x{constructor(e){super(),J(this,e,ale,ole,Q,{queryManager:15})}}function cle(r){let e,t;return e=new Yn({props:{$$slots:{default:[dle]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32904&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fle(r){let e,t,n,l;const s=[ple,_le],i=[];function o(a,u){var c,f;return((c=a[2])==null?void 0:c.id)==="column-selection"?0:((f=a[2])==null?void 0:f.id)==="transform-results"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function mle(r){let e,t,n;return t=new yn({}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","loading-state svelte-17rvnvg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function dle(r){var i;let e=r[7]("failed_to_fetch_column_information")+"",t,n,l=((i=r[3])==null?void 0:i.errors.join(";"))+"",s;return{c(){t=q(e),n=N(),s=q(l)},m(o,a){w(o,t,a),w(o,n,a),w(o,s,a)},p(o,a){var u;a&128&&e!==(e=o[7]("failed_to_fetch_column_information")+"")&&Y(t,e),a&8&&l!==(l=((u=o[3])==null?void 0:u.errors.join(";"))+"")&&Y(s,l)},d(o){o&&v(t),o&&v(n),o&&v(s)}}}function _le(r){let e,t=r[7]("transform_results_help")+"",n,l,s,i;return s=new ule({props:{queryManager:r[0]}}),{c(){e=M("div"),n=q(t),l=N(),C(s.$$.fragment),D(e,"class","help-text svelte-17rvnvg")},m(o,a){w(o,e,a),I(e,n),w(o,l,a),y(s,o,a),i=!0},p(o,a){(!i||a&128)&&t!==(t=o[7]("transform_results_help")+"")&&Y(n,t);const u={};a&1&&(u.queryManager=o[0]),s.$set(u)},i(o){i||(_(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&v(e),o&&v(l),S(s,o)}}}function ple(r){let e,t=r[7]("select_columns_for_exploration_help")+"",n,l,s,i;return s=new fre({props:{queryManager:r[0],linkCollapsibleOpenState:r[1]}}),s.$on("add",r[11]),{c(){e=M("div"),n=q(t),l=N(),C(s.$$.fragment),D(e,"class","help-text svelte-17rvnvg")},m(o,a){w(o,e,a),I(e,n),w(o,l,a),y(s,o,a),i=!0},p(o,a){(!i||a&128)&&t!==(t=o[7]("select_columns_for_exploration_help")+"")&&Y(n,t);const u={};a&1&&(u.queryManager=o[0]),a&2&&(u.linkCollapsibleOpenState=o[1]),s.$set(u)},i(o){i||(_(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&v(e),o&&v(l),S(s,o)}}}function gle(r){let e,t,n,l;const s=[mle,fle,cle],i=[];function o(a,u){var c,f,m;return((c=a[3])==null?void 0:c.state)==="processing"?0:((f=a[3])==null?void 0:f.state)==="success"?1:((m=a[3])==null?void 0:m.state)==="failure"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function hle(r){let e,t,n=r[7]("build_your_exploration")+"",l,s,i,o,a,u;function c(m){r[12](m)}let f={tabs:r[8],tabStyle:"compact",fillTabWidth:!0,fillContainerHeight:!0,$$slots:{default:[gle]},$$scope:{ctx:r}};return r[2]!==void 0&&(f.activeTab=r[2]),o=new gu({props:f}),Te.push(()=>Oe(o,"activeTab",c)),{c(){e=M("aside"),t=M("header"),l=q(n),s=N(),i=M("section"),C(o.$$.fragment),D(t,"class","svelte-17rvnvg"),D(i,"class","input-pane svelte-17rvnvg"),D(e,"class","input-sidebar svelte-17rvnvg")},m(m,d){w(m,e,d),I(e,t),I(t,l),I(e,s),I(e,i),y(o,i,null),u=!0},p(m,[d]){(!u||d&128)&&n!==(n=m[7]("build_your_exploration")+"")&&Y(l,n);const p={};d&32911&&(p.$$scope={dirty:d,ctx:m}),!a&&d&4&&(a=!0,p.activeTab=m[2],Ne(()=>a=!1)),o.$set(p)},i(m){u||(_(o.$$.fragment,m),u=!0)},o(m){g(o.$$.fragment,m),u=!1},d(m){m&&v(e),S(o)}}}function ble(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(s,R=>t(13,a=R)),s),f,m=j,d=()=>(m(),m=ue(n,R=>t(14,f=R)),n),p,h=j,b=()=>(h(),h=ue(l,R=>t(10,p=R)),l);Z(r,ge,R=>t(7,o=R)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());let{queryManager:$}=e,{linkCollapsibleOpenState:k={}}=e;const T=[{id:"column-selection",label:o("select_columns")},{id:"transform-results",label:o("transform_results")}];let E=T[0];async function A(R){const F=`${R.tableName}_${R.name}`,L=new Set(f.initial_columns.map(z=>z.alias)),U=Tl(F,L),W=!f.hasSummarizationTransform();let H=!1;R.producesMultipleResults&&a&&W&&(H=await Ra({title:{component:tk,props:{identifier:R.name,wrappingString:o("summarize_column_with_identifier")}},body:[o("summarize_column_recommendation"),o("summarize_column_configure")],proceedButton:{label:o("yes_summarize_as_list"),icon:void 0},cancelButton:{label:o("no_continue_without_summarization"),icon:void 0}})),await $.update(z=>{const te=z.withInitialColumn({alias:U,id:R.id,jp_path:R.jpPath});if(H){const se=$.getAutoSummarizationTransformModel();if(se)return te.model.addSummarizationTransform(se)}return te}),W&&$.selectColumn(U),H&&t(2,[,E]=T,E)}const P=R=>A(R.detail);function O(R){E=R,t(2,E)}return r.$$set=R=>{"queryManager"in R&&t(0,$=R.queryManager),"linkCollapsibleOpenState"in R&&t(1,k=R.linkCollapsibleOpenState)},r.$$.update=()=>{r.$$.dirty&1&&d(t(6,{query:n,state:l,confirmationNeededForMultipleResults:s}=$,n,b(t(5,l)),c(t(4,s)))),r.$$.dirty&1024&&t(3,{inputColumnsFetchState:i}=p,i)},[$,k,E,i,s,l,n,o,T,A,p,P,O]}class $le extends x{constructor(e){super(),J(this,e,ble,hle,Q,{queryManager:0,linkCollapsibleOpenState:1})}}function vle(r){let e;const t=r[3].default,n=Ie(t,r,r[5],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,null):Pe(l[5]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function wle(r){let e,t;return e=new $le({props:{slot:"panel",queryManager:r[0],linkCollapsibleOpenState:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryManager=n[0]),l&2&&(s.linkCollapsibleOpenState=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kle(r){let e,t,n;function l(i){r[4](i)}let s={placement:"left",minSizePx:250,maxSizePx:700,$$slots:{panel:[wle],default:[vle]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.sizePx=r[2]),e=new zf({props:s}),Te.push(()=>Oe(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&35&&(a.$$scope={dirty:o,ctx:i}),!t&&o&4&&(t=!0,a.sizePx=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function yle(r,e,t){let n;Z(r,H1,u=>t(2,n=u));let{$$slots:l={},$$scope:s}=e,{queryManager:i}=e,{linkCollapsibleOpenState:o={}}=e;function a(u){n=u,H1.set(n)}return r.$$set=u=>{"queryManager"in u&&t(0,i=u.queryManager),"linkCollapsibleOpenState"in u&&t(1,o=u.linkCollapsibleOpenState),"$$scope"in u&&t(5,s=u.$$scope)},[i,o,n,l,a,s]}class Sle extends x{constructor(e){super(),J(this,e,yle,kle,Q,{queryManager:0,linkCollapsibleOpenState:1})}}function U2(r){let e,t,n,l;t=new VI({props:{total:r[0],pageSize:r[2],currentPage:r[4]}}),t.$on("change",r[5]);let s=r[1].length&&W2(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),s&&s.c(),D(e,"class","pagination-group svelte-1e0lu03")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),s&&s.m(e,null),l=!0},p(i,o){const a={};o&1&&(a.total=i[0]),o&4&&(a.pageSize=i[2]),o&16&&(a.currentPage=i[4]),t.$set(a),i[1].length?s?(s.p(i,o),o&2&&_(s,1)):(s=W2(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(t.$$.fragment,i),_(s),l=!0)},o(i){g(t.$$.fragment,i),g(s),l=!1},d(i){i&&v(e),S(t),s&&s.d()}}}function W2(r){let e,t;return e=new Tn({props:{triggerAppearance:"secondary",options:r[1],value:r[2]}}),e.$on("change",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.options=n[1]),l&4&&(s.value=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Cle(r){let e,t,n=r[0]&&!r[3]&&U2(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[0]&&!l[3]?n?(n.p(l,s),s&9&&_(n,1)):(n=U2(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Tle(r,e,t){let n,l,s,i;const o=ht();let{pagination:a}=e,{totalCount:u}=e,{pageSizeOptions:c=[100,200,500]}=e,{hiddenWhenPossible:f=!1}=e;function m(p){t(7,a=new Gr({...a,page:p.detail.currentPage})),o("change",a)}function d(p){const h=p.detail;typeof h<"u"&&n!==h&&(t(7,a=new Gr({page:1,size:h})),o("change",a))}return r.$$set=p=>{"pagination"in p&&t(7,a=p.pagination),"totalCount"in p&&t(0,u=p.totalCount),"pageSizeOptions"in p&&t(1,c=p.pageSizeOptions),"hiddenWhenPossible"in p&&t(8,f=p.hiddenWhenPossible)},r.$$.update=()=>{r.$$.dirty&128&&t(2,{size:n,page:l}=a,n,(t(4,l),t(7,a))),r.$$.dirty&5&&t(9,s=n>=u),r.$$.dirty&768&&t(3,i=s&&f)},[u,c,n,i,l,m,d,a,f,s]}class Jy extends x{constructor(e){super(),J(this,e,Tle,Cle,Q,{pagination:7,totalCount:0,pageSizeOptions:1,hiddenWhenPossible:8})}}var xy={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,e){(function(t,n){r.exports=n()})(fs,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},l=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,i={},o=0,a={parse:function(R,F){var L=(F=F||{}).dynamicTyping||!1;if(O(L)&&(F.dynamicTypingFunction=L,L={}),F.dynamicTyping=L,F.transform=!!O(F.transform)&&F.transform,F.worker&&a.WORKERS_SUPPORTED){var U=function(){if(!a.WORKERS_SUPPORTED)return!1;var H=(te=n.URL||n.webkitURL||null,se=t.toString(),a.BLOB_URL||(a.BLOB_URL=te.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",se,")();"],{type:"text/javascript"})))),z=new n.Worker(H),te,se;return z.onmessage=k,z.id=o++,i[z.id]=z}();return U.userStep=F.step,U.userChunk=F.chunk,U.userComplete=F.complete,U.userError=F.error,F.step=O(F.step),F.chunk=O(F.chunk),F.complete=O(F.complete),F.error=O(F.error),delete F.worker,void U.postMessage({input:R,config:F,workerId:U.id})}var W=null;return a.NODE_STREAM_INPUT,typeof R=="string"?(R=function(H){return H.charCodeAt(0)===65279?H.slice(1):H}(R),W=F.download?new f(F):new d(F)):R.readable===!0&&O(R.read)&&O(R.on)?W=new p(F):(n.File&&R instanceof File||R instanceof Object)&&(W=new m(F)),W.stream(R)},unparse:function(R,F){var L=!1,U=!0,W=",",H=`\r
`,z='"',te=z+z,se=!1,B=null,V=!1;(function(){if(typeof F=="object"){if(typeof F.delimiter!="string"||a.BAD_DELIMITERS.filter(function(ae){return F.delimiter.indexOf(ae)!==-1}).length||(W=F.delimiter),(typeof F.quotes=="boolean"||typeof F.quotes=="function"||Array.isArray(F.quotes))&&(L=F.quotes),typeof F.skipEmptyLines!="boolean"&&typeof F.skipEmptyLines!="string"||(se=F.skipEmptyLines),typeof F.newline=="string"&&(H=F.newline),typeof F.quoteChar=="string"&&(z=F.quoteChar),typeof F.header=="boolean"&&(U=F.header),Array.isArray(F.columns)){if(F.columns.length===0)throw new Error("Option columns is empty");B=F.columns}F.escapeChar!==void 0&&(te=F.escapeChar+z),(typeof F.escapeFormulae=="boolean"||F.escapeFormulae instanceof RegExp)&&(V=F.escapeFormulae instanceof RegExp?F.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var ee=new RegExp(b(z),"g");if(typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(R)){if(!R.length||Array.isArray(R[0]))return ie(null,R,se);if(typeof R[0]=="object")return ie(B||Object.keys(R[0]),R,se)}else if(typeof R=="object")return typeof R.data=="string"&&(R.data=JSON.parse(R.data)),Array.isArray(R.data)&&(R.fields||(R.fields=R.meta&&R.meta.fields||B),R.fields||(R.fields=Array.isArray(R.data[0])?R.fields:typeof R.data[0]=="object"?Object.keys(R.data[0]):[]),Array.isArray(R.data[0])||typeof R.data[0]=="object"||(R.data=[R.data])),ie(R.fields||[],R.data||[],se);throw new Error("Unable to serialize unrecognized input");function ie(ae,fe,Ue){var ve="";typeof ae=="string"&&(ae=JSON.parse(ae)),typeof fe=="string"&&(fe=JSON.parse(fe));var Se=Array.isArray(ae)&&0<ae.length,ke=!Array.isArray(fe[0]);if(Se&&U){for(var Fe=0;Fe<ae.length;Fe++)0<Fe&&(ve+=W),ve+=_e(ae[Fe],Fe);0<fe.length&&(ve+=H)}for(var we=0;we<fe.length;we++){var Re=Se?ae.length:fe[we].length,Ge=!1,Je=Se?Object.keys(fe[we]).length===0:fe[we].length===0;if(Ue&&!Se&&(Ge=Ue==="greedy"?fe[we].join("").trim()==="":fe[we].length===1&&fe[we][0].length===0),Ue==="greedy"&&Se){for(var Ke=[],ot=0;ot<Re;ot++){var lt=ke?ae[ot]:ot;Ke.push(fe[we][lt])}Ge=Ke.join("").trim()===""}if(!Ge){for(var ze=0;ze<Re;ze++){0<ze&&!Je&&(ve+=W);var Xe=Se&&ke?ae[ze]:ze;ve+=_e(fe[we][Xe],ze)}we<fe.length-1&&(!Ue||0<Re&&!Je)&&(ve+=H)}}return ve}function _e(ae,fe){if(ae==null)return"";if(ae.constructor===Date)return JSON.stringify(ae).slice(1,25);var Ue=!1;V&&typeof ae=="string"&&V.test(ae)&&(ae="'"+ae,Ue=!0);var ve=ae.toString().replace(ee,te);return(Ue=Ue||L===!0||typeof L=="function"&&L(ae,fe)||Array.isArray(L)&&L[fe]||function(Se,ke){for(var Fe=0;Fe<ke.length;Fe++)if(-1<Se.indexOf(ke[Fe]))return!0;return!1}(ve,a.BAD_DELIMITERS)||-1<ve.indexOf(W)||ve.charAt(0)===" "||ve.charAt(ve.length-1)===" ")?z+ve+z:ve}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!l&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=$,a.ParserHandle=h,a.NetworkStreamer=f,a.FileStreamer=m,a.StringStreamer=d,a.ReadableStreamStreamer=p,n.jQuery){var u=n.jQuery;u.fn.parse=function(R){var F=R.config||{},L=[];return this.each(function(H){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)L.push({file:this.files[z],inputElem:this,instanceConfig:u.extend({},F)})}),U(),this;function U(){if(L.length!==0){var H,z,te,se,B=L[0];if(O(R.before)){var V=R.before(B.file,B.inputElem);if(typeof V=="object"){if(V.action==="abort")return H="AbortError",z=B.file,te=B.inputElem,se=V.reason,void(O(R.error)&&R.error({name:H},z,te,se));if(V.action==="skip")return void W();typeof V.config=="object"&&(B.instanceConfig=u.extend(B.instanceConfig,V.config))}else if(V==="skip")return void W()}var ee=B.instanceConfig.complete;B.instanceConfig.complete=function(ie){O(ee)&&ee(ie,B.file,B.inputElem),W()},a.parse(B.file,B.instanceConfig)}else O(R.complete)&&R.complete()}function W(){L.splice(0,1),U()}}}function c(R){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(F){var L=A(F);L.chunkSize=parseInt(L.chunkSize),F.step||F.chunk||(L.chunkSize=null),this._handle=new h(L),(this._handle.streamer=this)._config=L}.call(this,R),this.parseChunk=function(F,L){if(this.isFirstChunk&&O(this._config.beforeFirstChunk)){var U=this._config.beforeFirstChunk(F);U!==void 0&&(F=U)}this.isFirstChunk=!1,this._halted=!1;var W=this._partialLine+F;this._partialLine="";var H=this._handle.parse(W,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var z=H.meta.cursor;this._finished||(this._partialLine=W.substring(z-this._baseIndex),this._baseIndex=z),H&&H.data&&(this._rowCount+=H.data.length);var te=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)n.postMessage({results:H,workerId:a.WORKER_ID,finished:te});else if(O(this._config.chunk)&&!L){if(this._config.chunk(H,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);H=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(H.data),this._completeResults.errors=this._completeResults.errors.concat(H.errors),this._completeResults.meta=H.meta),this._completed||!te||!O(this._config.complete)||H&&H.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),te||H&&H.meta.paused||this._nextChunk(),H}this._halted=!0},this._sendError=function(F){O(this._config.error)?this._config.error(F):s&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:F,finished:!1})}}function f(R){var F;(R=R||{}).chunkSize||(R.chunkSize=a.RemoteChunkSize),c.call(this,R),this._nextChunk=l?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(F=new XMLHttpRequest,this._config.withCredentials&&(F.withCredentials=this._config.withCredentials),l||(F.onload=P(this._chunkLoaded,this),F.onerror=P(this._chunkError,this)),F.open(this._config.downloadRequestBody?"POST":"GET",this._input,!l),this._config.downloadRequestHeaders){var L=this._config.downloadRequestHeaders;for(var U in L)F.setRequestHeader(U,L[U])}if(this._config.chunkSize){var W=this._start+this._config.chunkSize-1;F.setRequestHeader("Range","bytes="+this._start+"-"+W)}try{F.send(this._config.downloadRequestBody)}catch(H){this._chunkError(H.message)}l&&F.status===0&&this._chunkError()}},this._chunkLoaded=function(){F.readyState===4&&(F.status<200||400<=F.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:F.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(L){var U=L.getResponseHeader("Content-Range");return U===null?-1:parseInt(U.substring(U.lastIndexOf("/")+1))}(F),this.parseChunk(F.responseText)))},this._chunkError=function(L){var U=F.statusText||L;this._sendError(new Error(U))}}function m(R){var F,L;(R=R||{}).chunkSize||(R.chunkSize=a.LocalChunkSize),c.call(this,R);var U=typeof FileReader<"u";this.stream=function(W){this._input=W,L=W.slice||W.webkitSlice||W.mozSlice,U?((F=new FileReader).onload=P(this._chunkLoaded,this),F.onerror=P(this._chunkError,this)):F=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var W=this._input;if(this._config.chunkSize){var H=Math.min(this._start+this._config.chunkSize,this._input.size);W=L.call(W,this._start,H)}var z=F.readAsText(W,this._config.encoding);U||this._chunkLoaded({target:{result:z}})},this._chunkLoaded=function(W){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(W.target.result)},this._chunkError=function(){this._sendError(F.error)}}function d(R){var F;c.call(this,R=R||{}),this.stream=function(L){return F=L,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var L,U=this._config.chunkSize;return U?(L=F.substring(0,U),F=F.substring(U)):(L=F,F=""),this._finished=!F,this.parseChunk(L)}}}function p(R){c.call(this,R=R||{});var F=[],L=!0,U=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(W){this._input=W,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){U&&F.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),F.length?this.parseChunk(F.shift()):L=!0},this._streamData=P(function(W){try{F.push(typeof W=="string"?W:W.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(F.shift()))}catch(H){this._streamError(H)}},this),this._streamError=P(function(W){this._streamCleanUp(),this._sendError(W)},this),this._streamEnd=P(function(){this._streamCleanUp(),U=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function h(R){var F,L,U,W=Math.pow(2,53),H=-W,z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,te=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,se=this,B=0,V=0,ee=!1,ie=!1,_e=[],ae={data:[],errors:[],meta:{}};if(O(R.step)){var fe=R.step;R.step=function(we){if(ae=we,Se())ve();else{if(ve(),ae.data.length===0)return;B+=we.data.length,R.preview&&B>R.preview?L.abort():(ae.data=ae.data[0],fe(ae,se))}}}function Ue(we){return R.skipEmptyLines==="greedy"?we.join("").trim()==="":we.length===1&&we[0].length===0}function ve(){return ae&&U&&(Fe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),U=!1),R.skipEmptyLines&&(ae.data=ae.data.filter(function(we){return!Ue(we)})),Se()&&function(){if(!ae)return;function we(Ge,Je){O(R.transformHeader)&&(Ge=R.transformHeader(Ge,Je)),_e.push(Ge)}if(Array.isArray(ae.data[0])){for(var Re=0;Se()&&Re<ae.data.length;Re++)ae.data[Re].forEach(we);ae.data.splice(0,1)}else ae.data.forEach(we)}(),function(){if(!ae||!R.header&&!R.dynamicTyping&&!R.transform)return ae;function we(Ge,Je){var Ke,ot=R.header?{}:[];for(Ke=0;Ke<Ge.length;Ke++){var lt=Ke,ze=Ge[Ke];R.header&&(lt=Ke>=_e.length?"__parsed_extra":_e[Ke]),R.transform&&(ze=R.transform(ze,lt)),ze=ke(lt,ze),lt==="__parsed_extra"?(ot[lt]=ot[lt]||[],ot[lt].push(ze)):ot[lt]=ze}return R.header&&(Ke>_e.length?Fe("FieldMismatch","TooManyFields","Too many fields: expected "+_e.length+" fields but parsed "+Ke,V+Je):Ke<_e.length&&Fe("FieldMismatch","TooFewFields","Too few fields: expected "+_e.length+" fields but parsed "+Ke,V+Je)),ot}var Re=1;return!ae.data.length||Array.isArray(ae.data[0])?(ae.data=ae.data.map(we),Re=ae.data.length):ae.data=we(ae.data,0),R.header&&ae.meta&&(ae.meta.fields=_e),V+=Re,ae}()}function Se(){return R.header&&_e.length===0}function ke(we,Re){return Ge=we,R.dynamicTypingFunction&&R.dynamicTyping[Ge]===void 0&&(R.dynamicTyping[Ge]=R.dynamicTypingFunction(Ge)),(R.dynamicTyping[Ge]||R.dynamicTyping)===!0?Re==="true"||Re==="TRUE"||Re!=="false"&&Re!=="FALSE"&&(function(Je){if(z.test(Je)){var Ke=parseFloat(Je);if(H<Ke&&Ke<W)return!0}return!1}(Re)?parseFloat(Re):te.test(Re)?new Date(Re):Re===""?null:Re):Re;var Ge}function Fe(we,Re,Ge,Je){var Ke={type:we,code:Re,message:Ge};Je!==void 0&&(Ke.row=Je),ae.errors.push(Ke)}this.parse=function(we,Re,Ge){var Je=R.quoteChar||'"';if(R.newline||(R.newline=function(lt,ze){lt=lt.substring(0,1048576);var Xe=new RegExp(b(ze)+"([^]*?)"+b(ze),"gm"),pt=(lt=lt.replace(Xe,"")).split("\r"),rt=lt.split(`
`),st=1<rt.length&&rt[0].length<pt[0].length;if(pt.length===1||st)return`
`;for(var qe=0,et=0;et<pt.length;et++)pt[et][0]===`
`&&qe++;return qe>=pt.length/2?`\r
`:"\r"}(we,Je)),U=!1,R.delimiter)O(R.delimiter)&&(R.delimiter=R.delimiter(we),ae.meta.delimiter=R.delimiter);else{var Ke=function(lt,ze,Xe,pt,rt){var st,qe,et,mt;rt=rt||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Ot=0;Ot<rt.length;Ot++){var Qe=rt[Ot],Nt=0,Ct=0,Dt=0;et=void 0;for(var Mt=new $({comments:pt,delimiter:Qe,newline:ze,preview:10}).parse(lt),it=0;it<Mt.data.length;it++)if(Xe&&Ue(Mt.data[it]))Dt++;else{var Yt=Mt.data[it].length;Ct+=Yt,et!==void 0?0<Yt&&(Nt+=Math.abs(Yt-et),et=Yt):et=Yt}0<Mt.data.length&&(Ct/=Mt.data.length-Dt),(qe===void 0||Nt<=qe)&&(mt===void 0||mt<Ct)&&1.99<Ct&&(qe=Nt,st=Qe,mt=Ct)}return{successful:!!(R.delimiter=st),bestDelimiter:st}}(we,R.newline,R.skipEmptyLines,R.comments,R.delimitersToGuess);Ke.successful?R.delimiter=Ke.bestDelimiter:(U=!0,R.delimiter=a.DefaultDelimiter),ae.meta.delimiter=R.delimiter}var ot=A(R);return R.preview&&R.header&&ot.preview++,F=we,L=new $(ot),ae=L.parse(F,Re,Ge),ve(),ee?{meta:{paused:!0}}:ae||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,L.abort(),F=O(R.chunk)?"":F.substring(L.getCharIndex())},this.resume=function(){se.streamer._halted?(ee=!1,se.streamer.parseChunk(F,!0)):setTimeout(se.resume,3)},this.aborted=function(){return ie},this.abort=function(){ie=!0,L.abort(),ae.meta.aborted=!0,O(R.complete)&&R.complete(ae),F=""}}function b(R){return R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(R){var F,L=(R=R||{}).delimiter,U=R.newline,W=R.comments,H=R.step,z=R.preview,te=R.fastMode,se=F=R.quoteChar===void 0||R.quoteChar===null?'"':R.quoteChar;if(R.escapeChar!==void 0&&(se=R.escapeChar),(typeof L!="string"||-1<a.BAD_DELIMITERS.indexOf(L))&&(L=","),W===L)throw new Error("Comment character same as delimiter");W===!0?W="#":(typeof W!="string"||-1<a.BAD_DELIMITERS.indexOf(W))&&(W=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var B=0,V=!1;this.parse=function(ee,ie,_e){if(typeof ee!="string")throw new Error("Input must be a string");var ae=ee.length,fe=L.length,Ue=U.length,ve=W.length,Se=O(H),ke=[],Fe=[],we=[],Re=B=0;if(!ee)return tn();if(R.header&&!ie){var Ge=ee.split(U)[0].split(L),Je=[],Ke={},ot=!1;for(var lt in Ge){var ze=Ge[lt];O(R.transformHeader)&&(ze=R.transformHeader(ze,lt));var Xe=ze,pt=Ke[ze]||0;for(0<pt&&(ot=!0,Xe=ze+"_"+pt),Ke[ze]=pt+1;Je.includes(Xe);)Xe=Xe+"_"+pt;Je.push(Xe)}if(ot){var rt=ee.split(U);rt[0]=Je.join(L),ee=rt.join(U)}}if(te||te!==!1&&ee.indexOf(F)===-1){for(var st=ee.split(U),qe=0;qe<st.length;qe++){if(we=st[qe],B+=we.length,qe!==st.length-1)B+=U.length;else if(_e)return tn();if(!W||we.substring(0,ve)!==W){if(Se){if(ke=[],Dt(we.split(L)),$n(),V)return tn()}else Dt(we.split(L));if(z&&z<=qe)return ke=ke.slice(0,z),tn(!0)}}return tn()}for(var et=ee.indexOf(L,B),mt=ee.indexOf(U,B),Ot=new RegExp(b(se)+b(F),"g"),Qe=ee.indexOf(F,B);;)if(ee[B]!==F)if(W&&we.length===0&&ee.substring(B,B+ve)===W){if(mt===-1)return tn();B=mt+Ue,mt=ee.indexOf(U,B),et=ee.indexOf(L,B)}else if(et!==-1&&(et<mt||mt===-1))we.push(ee.substring(B,et)),B=et+fe,et=ee.indexOf(L,B);else{if(mt===-1)break;if(we.push(ee.substring(B,mt)),Yt(mt+Ue),Se&&($n(),V))return tn();if(z&&ke.length>=z)return tn(!0)}else for(Qe=B,B++;;){if((Qe=ee.indexOf(F,Qe+1))===-1)return _e||Fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ke.length,index:B}),it();if(Qe===ae-1)return it(ee.substring(B,Qe).replace(Ot,F));if(F!==se||ee[Qe+1]!==se){if(F===se||Qe===0||ee[Qe-1]!==se){et!==-1&&et<Qe+1&&(et=ee.indexOf(L,Qe+1)),mt!==-1&&mt<Qe+1&&(mt=ee.indexOf(U,Qe+1));var Nt=Mt(mt===-1?et:Math.min(et,mt));if(ee.substr(Qe+1+Nt,fe)===L){we.push(ee.substring(B,Qe).replace(Ot,F)),ee[B=Qe+1+Nt+fe]!==F&&(Qe=ee.indexOf(F,B)),et=ee.indexOf(L,B),mt=ee.indexOf(U,B);break}var Ct=Mt(mt);if(ee.substring(Qe+1+Ct,Qe+1+Ct+Ue)===U){if(we.push(ee.substring(B,Qe).replace(Ot,F)),Yt(Qe+1+Ct+Ue),et=ee.indexOf(L,B),Qe=ee.indexOf(F,B),Se&&($n(),V))return tn();if(z&&ke.length>=z)return tn(!0);break}Fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ke.length,index:B}),Qe++}}else Qe++}return it();function Dt(ln){ke.push(ln),Re=B}function Mt(ln){var tt=0;if(ln!==-1){var Jt=ee.substring(Qe+1,ln);Jt&&Jt.trim()===""&&(tt=Jt.length)}return tt}function it(ln){return _e||(ln===void 0&&(ln=ee.substring(B)),we.push(ln),B=ae,Dt(we),Se&&$n()),tn()}function Yt(ln){B=ln,Dt(we),we=[],mt=ee.indexOf(U,B)}function tn(ln){return{data:ke,errors:Fe,meta:{delimiter:L,linebreak:U,aborted:V,truncated:!!ln,cursor:Re+(ie||0)}}}function $n(){H(tn()),ke=[],Fe=[]}},this.abort=function(){V=!0},this.getCharIndex=function(){return B}}function k(R){var F=R.data,L=i[F.workerId],U=!1;if(F.error)L.userError(F.error,F.file);else if(F.results&&F.results.data){var W={abort:function(){U=!0,T(F.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(O(L.userStep)){for(var H=0;H<F.results.data.length&&(L.userStep({data:F.results.data[H],errors:F.results.errors,meta:F.results.meta},W),!U);H++);delete F.results}else O(L.userChunk)&&(L.userChunk(F.results,W,F.file),delete F.results)}F.finished&&!U&&T(F.workerId,F.results)}function T(R,F){var L=i[R];O(L.userComplete)&&L.userComplete(F),L.terminate(),delete i[R]}function E(){throw new Error("Not implemented.")}function A(R){if(typeof R!="object"||R===null)return R;var F=Array.isArray(R)?[]:{};for(var L in R)F[L]=A(R[L]);return F}function P(R,F){return function(){R.apply(F,arguments)}}function O(R){return typeof R=="function"}return s&&(n.onmessage=function(R){var F=R.data;if(a.WORKER_ID===void 0&&F&&(a.WORKER_ID=F.workerId),typeof F.input=="string")n.postMessage({workerId:a.WORKER_ID,results:a.parse(F.input,F.config),finished:!0});else if(n.File&&F.input instanceof File||F.input instanceof Object){var L=a.parse(F.input,F.config);L&&n.postMessage({workerId:a.WORKER_ID,results:L,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(m.prototype=Object.create(c.prototype)).constructor=m,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(c.prototype)).constructor=p,a})})(xy);const Ele="text/plain",Dle="application/x-vnd.mathesar-sheet-clipboard";function Ile(r,e,t){var n;return(n=r.get(e))==null?void 0:n[String(t)]}function Mle(r,e,t,n){if(r==null)return"";const l=e.get(t);if(!l)return String(r);const s=l.formatCellValue(r,n);return s==null?"":s}function Ale(r){return xy.exports.unparse(r,{delimiter:"	",escapeFormulae:!0})}class e8{constructor(e){ce(this,"deps");this.deps=e}getColumnIds(e){return this.deps.selection.getSelectedUniqueColumnsId(e,new rl)}getRowIds(e){return this.deps.selection.getSelectedUniqueRowsId(e)}getCopyContent(){const e=Ve(this.deps.selection.selectedCells),t=new Map(this.deps.getRows().map(o=>[o.rowIndex,o.record])),n=this.deps.getColumnsMap(),l=this.deps.getRecordSummaries(),s=[],i=[];for(const o of this.getRowIds(e)){const a=[],u=[];for(const c of this.getColumnIds(e)){const f=n.get(c);if(!_o(e,{rowIndex:o},{id:c})||!f)continue;const m=Ile(t,o,c),d=Mle(m,n,c,l),p=f.abstractType.identifier;u.push({type:p,raw:m,formatted:d}),a.push(d)}s.push(a),i.push(u)}return this.deps.toast.info(`Copied ${df(e.size,"cells")}.`),{structured:JSON.stringify(i),tsv:Ale(s)}}handleCopy(e){if(e.clipboardData==null)return;const t=this.getCopyContent();e.clipboardData.setData(Ele,t.tsv),e.clipboardData.setData(Dle,t.structured)}}function Ple(r){let e=r[2]("refresh")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("refresh")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Rle(r){let e=r[2]("retry")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("retry")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Ole(r){let e=r[2]("loading")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("loading")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Lle(r){let e,t,n,l;const s=[r[0]&&!r[1]?bl:ms,{spin:r[1]}];let i={};for(let c=0;c<s.length;c+=1)i=le(i,s[c]);e=new Be({props:i});function o(c,f){return c[1]?Ole:c[0]?Rle:Ple}let a=o(r),u=a(r);return{c(){C(e.$$.fragment),t=N(),n=M("span"),u.c()},m(c,f){y(e,c,f),w(c,t,f),w(c,n,f),u.m(n,null),l=!0},p(c,f){const m=f&3?de(s,[$e(c[0]&&!c[1]?bl:ms),f&2&&{spin:c[1]}]):{};e.$set(m),a===(a=o(c))&&u?u.p(c,f):(u.d(1),u=a(c),u&&(u.c(),u.m(n,null)))},i(c){l||(_(e.$$.fragment,c),l=!0)},o(c){g(e.$$.fragment,c),l=!1},d(c){S(e,c),c&&v(t),c&&v(n),u.d()}}}function Nle(r){let e,t;return e=new dt({props:{class:"refresh-button",appearance:"secondary",size:"medium",disabled:r[1],$$slots:{default:[Lle]},$$scope:{ctx:r}}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.disabled=n[1]),l&39&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Fle(r,e,t){let n,l,s;Z(r,ge,a=>t(2,s=a));let{state:i=void 0}=e;function o(a){ye.call(this,r,a)}return r.$$set=a=>{"state"in a&&t(3,i=a.state)},r.$$.update=()=>{r.$$.dirty&8&&t(1,n=i==="loading"),r.$$.dirty&8&&t(0,l=i==="error")},[l,n,s,i,o]}class t8 extends x{constructor(e){super(),J(this,e,Fle,Nle,Q,{state:3})}}function Hle(r){let e,t;return e=new t8({props:{state:r[1]}}),e.$on("click",r[4]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.state=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zle(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,c=>t(3,s=c)),n);r.$$.on_destroy.push(()=>i());let{queryRunner:a}=e;const u=()=>a.run();return r.$$set=c=>{"queryRunner"in c&&t(0,a=c.queryRunner)},r.$$.update=()=>{r.$$.dirty&1&&o(t(2,{runState:n}=a,n)),r.$$.dirty&8&&t(1,l=(()=>{let c;const f=s==null?void 0:s.state;return f==="processing"&&(c="loading"),f==="failure"&&(c="error"),c})())},[a,l,n,s,u]}class n8 extends x{constructor(e){super(),J(this,e,zle,Hle,Q,{queryRunner:0})}}const Vle=4418;function j2(r,e,t){const n=r.slice();return n[23]=e[t],n}function Y2(r,e,t){const n=r.slice();return n[10]=e[t],n}function G2(r,e,t){const n=r.slice();return n[17]=e[t],n}function K2(r,e,t){const n=r.slice();return n[20]=e[t],n}function qle(r){const e=r.slice(),t=e[4].getInitialColumnsAndTransformsUtilizingThemByColumnIds([e[13]]);e[14]=t;const n=e[14].initialColumnsUsingColumnIds;e[15]=n;const l=e[14].transformsUsingColumnIds;return e[16]=l,e}function Ble(r){const e=r.slice(),t=Number(e[10].detail.column_id);return e[13]=t,e}function Ule(r){let e,t=r[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=X2(j2(r,t,l));return{c(){e=M("ul");for(let l=0;l<n.length;l+=1)n[l].c();D(e,"class","svelte-s7yd6j")},m(l,s){w(l,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(l,s){if(s&1){t=l[0];let i;for(i=0;i<t.length;i+=1){const o=j2(l,t,i);n[i]?n[i].p(o,s):(n[i]=X2(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},i:j,o:j,d(l){l&&v(e),jn(n,l)}}}function Wle(r){let e,t,n=r[0].errors,l=[];for(let i=0;i<n.length;i+=1)l[i]=e3(Y2(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=oe()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,o){if(o&251){n=i[0].errors;let a;for(a=0;a<n.length;a+=1){const u=Y2(i,n,a);l[a]?(l[a].p(u,o),_(l[a],1)):(l[a]=e3(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(G(),a=n.length;a<l.length;a+=1)s(a);K()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){jn(l,i),i&&v(e)}}}function X2(r){let e,t=r[23]+"",n;return{c(){e=M("li"),n=q(t),D(e,"class","error")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[23]+"")&&Y(n,t)},d(l){l&&v(e)}}}function jle(r){let e,t=r[10].message+"",n;return{c(){e=M("li"),n=q(t),D(e,"class","error")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[10].message+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function Yle(r){let e,t,n=r[3]("some_columns_in_query_missing")+"",l,s,i,o,a;const u=[Kle,Gle],c=[];function f(d,p){return d[1]?0:d[5]&&d[6]&&d[4].id?1:-1}function m(d,p){return p===0?qle(d):d}return~(i=f(r))&&(o=c[i]=u[i](m(r,i))),{c(){e=M("li"),t=M("p"),l=q(n),s=N(),o&&o.c(),D(t,"class","strong svelte-s7yd6j"),D(e,"class","error")},m(d,p){w(d,e,p),I(e,t),I(t,l),I(e,s),~i&&c[i].m(e,null),a=!0},p(d,p){(!a||p&8)&&n!==(n=d[3]("some_columns_in_query_missing")+"")&&Y(l,n);let h=i;i=f(d),i===h?~i&&c[i].p(m(d,i),p):(o&&(G(),g(c[h],1,1,()=>{c[h]=null}),K()),~i?(o=c[i],o?o.p(m(d,i),p):(o=c[i]=u[i](m(d,i)),o.c()),_(o,1),o.m(e,null)):o=null)},i(d){a||(_(o),a=!0)},o(d){g(o),a=!1},d(d){d&&v(e),~i&&c[i].d()}}}function Gle(r){let e,t=r[3]("edit_exploration_attempt_recovery")+"",n,l,s,i,o=r[3]("edit_in_data_explorer")+"",a,u;return{c(){e=M("p"),n=q(t),l=N(),s=M("p"),i=M("a"),a=q(o),D(e,"class","svelte-s7yd6j"),D(i,"class","btn btn-secondary"),D(i,"href",u=yl(r[5].id,r[6].id,r[4].id)),D(s,"class","svelte-s7yd6j")},m(c,f){w(c,e,f),I(e,n),w(c,l,f),w(c,s,f),I(s,i),I(i,a)},p(c,f){f&8&&t!==(t=c[3]("edit_exploration_attempt_recovery")+"")&&Y(n,t),f&8&&o!==(o=c[3]("edit_in_data_explorer")+"")&&Y(a,o),f&112&&u!==(u=yl(c[5].id,c[6].id,c[4].id))&&D(i,"href",u)},i:j,o:j,d(c){c&&v(e),c&&v(l),c&&v(s)}}}function Kle(r){let e,t=r[3]("recover_query_click_button")+"",n,l,s,i,o,a,u,c=r[15].length>0&&Q2(r),f=r[16].length>0&&J2(r);function m(){return r[9](r[13])}return a=new dt({props:{appearance:"secondary",$$slots:{default:[Xle]},$$scope:{ctx:r}}}),a.$on("click",m),{c(){e=M("p"),n=q(t),l=N(),c&&c.c(),s=N(),f&&f.c(),i=N(),o=M("p"),C(a.$$.fragment),D(e,"class","svelte-s7yd6j"),D(o,"class","svelte-s7yd6j")},m(d,p){w(d,e,p),I(e,n),w(d,l,p),c&&c.m(d,p),w(d,s,p),f&&f.m(d,p),w(d,i,p),w(d,o,p),y(a,o,null),u=!0},p(d,p){r=d,(!u||p&8)&&t!==(t=r[3]("recover_query_click_button")+"")&&Y(n,t),r[15].length>0?c?c.p(r,p):(c=Q2(r),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),r[16].length>0?f?f.p(r,p):(f=J2(r),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null);const h={};p&67108872&&(h.$$scope={dirty:p,ctx:r}),a.$set(h)},i(d){u||(_(a.$$.fragment,d),u=!0)},o(d){g(a.$$.fragment,d),u=!1},d(d){d&&v(e),d&&v(l),c&&c.d(d),d&&v(s),f&&f.d(d),d&&v(i),d&&v(o),S(a)}}}function Q2(r){let e,t=r[3]("this_will_remove_following_columns")+"",n,l,s,i=[],o=new Map,a=r[15];const u=c=>c[20].alias;for(let c=0;c<a.length;c+=1){let f=K2(r,a,c),m=u(f);o.set(m,i[c]=Z2(m,f))}return{c(){e=M("p"),n=q(t),l=N(),s=M("ul");for(let c=0;c<i.length;c+=1)i[c].c();D(e,"class","svelte-s7yd6j"),D(s,"class","removal-list svelte-s7yd6j")},m(c,f){w(c,e,f),I(e,n),w(c,l,f),w(c,s,f);for(let m=0;m<i.length;m+=1)i[m].m(s,null)},p(c,f){f&8&&t!==(t=c[3]("this_will_remove_following_columns")+"")&&Y(n,t),f&17&&(a=c[15],i=gt(i,f,u,1,c,a,o,s,wo,Z2,null,K2))},d(c){c&&v(e),c&&v(l),c&&v(s);for(let f=0;f<i.length;f+=1)i[f].d()}}}function Z2(r,e){var i;let t,n=((i=e[4].display_names[e[20].alias])!=null?i:e[20].alias)+"",l,s;return{key:r,first:null,c(){t=M("li"),l=q(n),s=N(),this.first=t},m(o,a){w(o,t,a),I(t,l),I(t,s)},p(o,a){var u;e=o,a&17&&n!==(n=((u=e[4].display_names[e[20].alias])!=null?u:e[20].alias)+"")&&Y(l,n)},d(o){o&&v(t)}}}function J2(r){let e,t=r[3]("this_will_remove_following_transformations")+"",n,l,s,i=[],o=new Map,a=r[16];const u=c=>c[17];for(let c=0;c<a.length;c+=1){let f=G2(r,a,c),m=u(f);o.set(m,i[c]=x2(m,f))}return{c(){e=M("p"),n=q(t),l=N(),s=M("ul");for(let c=0;c<i.length;c+=1)i[c].c();D(e,"class","svelte-s7yd6j"),D(s,"class","removal-list svelte-s7yd6j")},m(c,f){w(c,e,f),I(e,n),w(c,l,f),w(c,s,f);for(let m=0;m<i.length;m+=1)i[m].m(s,null)},p(c,f){f&8&&t!==(t=c[3]("this_will_remove_following_transformations")+"")&&Y(n,t),f&17&&(a=c[16],i=gt(i,f,u,1,c,a,o,s,wo,x2,null,G2))},d(c){c&&v(e),c&&v(l),c&&v(s);for(let f=0;f<i.length;f+=1)i[f].d()}}}function x2(r,e){let t,n=e[17].index+1+"",l,s,i=e[17].transform.name+"",o,a;return{key:r,first:null,c(){t=M("li"),l=q(n),s=q(": "),o=q(i),a=N(),this.first=t},m(u,c){w(u,t,c),I(t,l),I(t,s),I(t,o),I(t,a)},p(u,c){e=u,c&17&&n!==(n=e[17].index+1+"")&&Y(l,n),c&17&&i!==(i=e[17].transform.name+"")&&Y(o,i)},d(u){u&&v(t)}}}function Xle(r){let e=r[3]("attempt_exploration_recovery")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("attempt_exploration_recovery")+"")&&Y(t,e)},d(n){n&&v(t)}}}function e3(r){let e,t,n,l,s,i;const o=[Yle,jle],a=[];function u(f,m){return m&1&&(t=null),t==null&&(t=!!(f[10].code===Vle&&Jl(f[10].detail,"column_id"))),t?0:1}function c(f,m){return m===0?Ble(f):f}return n=u(r,-1),l=a[n]=o[n](c(r,n)),{c(){e=M("ul"),l.c(),s=N(),D(e,"class","svelte-s7yd6j")},m(f,m){w(f,e,m),a[n].m(e,null),I(e,s),i=!0},p(f,m){let d=n;n=u(f,m),n===d?a[n].p(c(f,n),m):(G(),g(a[d],1,1,()=>{a[d]=null}),K(),l=a[n],l?l.p(c(f,n),m):(l=a[n]=o[n](c(f,n)),l.c()),_(l,1),l.m(e,s))},i(f){i||(_(l),i=!0)},o(f){g(l),i=!1},d(f){f&&v(e),a[n].d()}}}function Qle(r){let e,t=r[3]("result_could_not_be_displayed")+"",n,l,s,i,o,a;const u=[Wle,Ule],c=[];function f(m,d){return m[0]instanceof bi?0:1}return s=f(r),i=c[s]=u[s](r),{c(){e=M("p"),n=q(t),l=N(),i.c(),o=oe(),D(e,"class","error-header svelte-s7yd6j")},m(m,d){w(m,e,d),I(e,n),w(m,l,d),c[s].m(m,d),w(m,o,d),a=!0},p(m,d){(!a||d&8)&&t!==(t=m[3]("result_could_not_be_displayed")+"")&&Y(n,t);let p=s;s=f(m),s===p?c[s].p(m,d):(G(),g(c[p],1,1,()=>{c[p]=null}),K(),i=c[s],i?i.p(m,d):(i=c[s]=u[s](m),i.c()),_(i,1),i.m(o.parentNode,o))},i(m){a||(_(i),a=!0)},o(m){g(i),a=!1},d(m){m&&v(e),m&&v(l),c[s].d(m),m&&v(o)}}}function Zle(r){let e,t,n;return t=new Yn({props:{fullWidth:!0,$$slots:{default:[Qle]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","query-run-errors svelte-s7yd6j")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&67108987&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Jle(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(l,h=>t(4,i=h)),l),u,c;Z(r,ge,h=>t(3,s=h)),Z(r,On,h=>t(5,u=h)),Z(r,En,h=>t(6,c=h)),r.$$.on_destroy.push(()=>o());let{queryHandler:f}=e,{errors:m}=e;function d(h){n&&n.update(b=>b.withoutColumnsById([h]))}const p=h=>d(h);return r.$$set=h=>{"queryHandler"in h&&t(8,f=h.queryHandler),"errors"in h&&t(0,m=h.errors)},r.$$.update=()=>{r.$$.dirty&256&&t(1,n=f instanceof ec?f:void 0),r.$$.dirty&256&&a(t(2,{query:l}=f,l))},[m,n,l,s,i,u,c,d,f,p]}class xle extends x{constructor(e){super(),J(this,e,Jle,Zle,Q,{queryHandler:8,errors:0})}}function ese(r){var n;let e,t;return e=new er({props:{isLoading:r[3]==="processing"&&r[1].column.type==="unknown",column:{...r[1].column,name:(n=r[1].column.display_name)!=null?n:r[1].column.alias}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&10&&(i.isLoading=l[3]==="processing"&&l[1].column.type==="unknown"),s&2&&(i.column={...l[1].column,name:(o=l[1].column.display_name)!=null?o:l[1].column.alias}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function tse(r){let e,t,n,l,s,i;t=new dt({props:{appearance:"plain",class:"column-name-wrapper "+(r[2]?"selected":""),$$slots:{default:[ese]},$$scope:{ctx:r}}}),t.$on("click",r[6]),l=new Tm({props:{columnIdentifierKey:r[1].id}});let o=[r[7],{style:s=r[8]}],a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),ct(e,a)},m(u,c){w(u,e,c),y(t,e,null),I(e,n),y(l,e,null),i=!0},p(u,c){const f={};c&4&&(f.class="column-name-wrapper "+(u[2]?"selected":"")),c&522&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const m={};c&2&&(m.columnIdentifierKey=u[1].id),l.$set(m),ct(e,a=de(o,[c&128&&u[7],(!i||c&256&&s!==(s=u[8]))&&{style:s}]))},i(u){i||(_(t.$$.fragment,u),_(l.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(l.$$.fragment,u),i=!1},d(u){u&&v(e),S(t),S(l)}}}function nse(r){let e,t;return e=new Qr({props:{columnIdentifierKey:r[1].id,$$slots:{default:[tse,({htmlAttributes:n,style:l})=>({7:n,8:l}),({htmlAttributes:n,style:l})=>(n?128:0)|(l?256:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.columnIdentifierKey=n[1].id),l&911&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rse(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,m=>t(5,s=m)),n);r.$$.on_destroy.push(()=>i());let{queryRunner:a}=e,{processedQueryColumn:u}=e,{isSelected:c}=e;const f=()=>{a.selectColumn(u.column.alias)};return r.$$set=m=>{"queryRunner"in m&&t(0,a=m.queryRunner),"processedQueryColumn"in m&&t(1,u=m.processedQueryColumn),"isSelected"in m&&t(2,c=m.isSelected)},r.$$.update=()=>{r.$$.dirty&1&&o(t(4,{runState:n}=a,n)),r.$$.dirty&32&&t(3,l=s==null?void 0:s.state)},[a,u,c,l,n,s,f]}class lse extends x{constructor(e){super(),J(this,e,rse,nse,Q,{queryRunner:0,processedQueryColumn:1,isSelected:2})}}function t3(r){var n;let e,t;return e=new Ci({props:{isActive:r[6],isSelectedInRange:r[5],columnFabric:r[0],value:(n=r[1])==null?void 0:n.record[r[0].id],showAsSkeleton:r[2]==="processing",disabled:!0}}),e.$on("movementKeyDown",r[9]),e.$on("activate",r[12]),e.$on("onSelectionStart",r[13]),e.$on("onMouseEnterCellWhileSelection",r[14]),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&64&&(i.isActive=l[6]),s&32&&(i.isSelectedInRange=l[5]),s&1&&(i.columnFabric=l[0]),s&3&&(i.value=(o=l[1])==null?void 0:o.record[l[0].id]),s&4&&(i.showAsSkeleton=l[2]==="processing"),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function sse(r){let e,t,n,l=(r[1]||r[2]==="processing")&&t3(r),s=[r[16],{style:t=r[17]},{class:"cell"}],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("div"),l&&l.c(),ct(e,i),re(e,"is-active",r[6]),re(e,"svelte-1aeptbx",!0)},m(o,a){w(o,e,a),l&&l.m(e,null),n=!0},p(o,a){o[1]||o[2]==="processing"?l?(l.p(o,a),a&6&&_(l,1)):(l=t3(o),l.c(),_(l,1),l.m(e,null)):l&&(G(),g(l,1,1,()=>{l=null}),K()),ct(e,i=de(s,[a&65536&&o[16],(!n||a&131072&&t!==(t=o[17]))&&{style:t},{class:"cell"}])),re(e,"is-active",o[6]),re(e,"svelte-1aeptbx",!0)},i(o){n||(_(l),n=!0)},o(o){g(l),n=!1},d(o){o&&v(e),l&&l.d()}}}function ise(r){let e,t;return e=new Qr({props:{columnIdentifierKey:r[0].id,$$slots:{default:[sse,({htmlAttributes:n,style:l})=>({16:n,17:l}),({htmlAttributes:n,style:l})=>(n?65536:0)|(l?131072:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.columnIdentifierKey=n[0].id),l&458879&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ose(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(l,O=>t(10,o=O)),l),c,f=j,m=()=>(f(),f=ue(n,O=>t(11,c=O)),n);r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{processedQueryColumn:d}=e,{row:p}=e,{recordRunState:h}=e,{selection:b}=e,{inspector:$}=e;async function k(O){O==="moved"&&(await on(),M5())}async function T(O){const{originalEvent:R}=O.detail,F=b.handleKeyEventsOnActiveCell(R);F&&(R.stopPropagation(),R.preventDefault(),await k(F))}const E=()=>{p&&(b.activateCell(p,d),$.selectCellTab())},A=()=>{p&&b.onStartSelection(p,d)},P=()=>{p&&b.onMouseEnterCellWhileSelection(p,d)};return r.$$set=O=>{"processedQueryColumn"in O&&t(0,d=O.processedQueryColumn),"row"in O&&t(1,p=O.row),"recordRunState"in O&&t(2,h=O.recordRunState),"selection"in O&&t(3,b=O.selection),"inspector"in O&&t(4,$=O.inspector)},r.$$.update=()=>{r.$$.dirty&8&&m(t(8,{activeCell:n,selectedCells:l}=b,n,u(t(7,l)))),r.$$.dirty&2051&&t(6,s=c&&p&&D5(c,p,d)),r.$$.dirty&1027&&t(5,i=p&&_o(o,p,d)&&o.size>1)},[d,p,h,b,$,i,s,l,n,T,o,c,E,A,P]}class ase extends x{constructor(e){super(),J(this,e,ose,ise,Q,{processedQueryColumn:0,row:1,recordRunState:2,selection:3,inspector:4})}}function n3(r,e,t){const n=r.slice();return n[33]=e[t],n}function r3(r,e,t){const n=r.slice();return n[38]=e[t],n}function l3(r,e,t){const n=r.slice();return n[38]=e[t],n}function use(r){let e,t,n,l,s,i,o,a;e=new Sm({props:{columns:r[11],getColumnIdentifier:wse,columnWidths:r[25],clipboardHandler:r[15],usesVirtualList:!0,$$slots:{default:[hse]},$$scope:{ctx:r}}});function u(d,p){if(d[10])return $se;if(d[4]==="success")return bse}let c=u(r),f=c&&c(r);i=new Jy({props:{pagination:r[24],totalCount:r[10]}}),i.$on("change",r[31]);let m=r[1]&&u3(r);return{c(){C(e.$$.fragment),t=N(),n=M("div"),f&&f.c(),l=N(),s=M("div"),C(i.$$.fragment),o=N(),m&&m.c(),D(s,"class","pagination-controls svelte-1rwxxuc"),D(n,"data-identifier","status-bar"),D(n,"class","svelte-1rwxxuc")},m(d,p){y(e,d,p),w(d,t,p),w(d,n,p),f&&f.m(n,null),I(n,l),I(n,s),y(i,s,null),I(s,o),m&&m.m(s,null),a=!0},p(d,p){const h={};p[0]&2048&&(h.columns=d[11]),p[0]&32768&&(h.clipboardHandler=d[15]),p[0]&29491837|p[1]&16384&&(h.$$scope={dirty:p,ctx:d}),e.$set(h),c===(c=u(d))&&f?f.p(d,p):(f&&f.d(1),f=c&&c(d),f&&(f.c(),f.m(n,l)));const b={};p[0]&16777216&&(b.pagination=d[24]),p[0]&1024&&(b.totalCount=d[10]),i.$set(b),d[1]?m?(m.p(d,p),p[0]&2&&_(m,1)):(m=u3(d),m.c(),_(m,1),m.m(s,null)):m&&(G(),g(m,1,1,()=>{m=null}),K())},i(d){a||(_(e.$$.fragment,d),_(i.$$.fragment,d),_(m),a=!0)},o(d){g(e.$$.fragment,d),g(i.$$.fragment,d),g(m),a=!1},d(d){S(e,d),d&&v(t),d&&v(n),f&&f.d(),S(i),m&&m.d()}}}function cse(r){let e,t,n;return t=new xle({props:{errors:r[12],queryHandler:r[0]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","empty-state svelte-1rwxxuc")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&4096&&(i.errors=l[12]),s[0]&1&&(i.queryHandler=l[0]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function fse(r){let e,t=r[21]("add_columns_to_exploration_empty_message")+"",n;return{c(){e=M("div"),n=q(t),D(e,"class","empty-state svelte-1rwxxuc")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s[0]&2097152&&t!==(t=l[21]("add_columns_to_exploration_empty_message")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function mse(r){let e,t,n=[r[36],{style:t=r[42]}],l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return{c(){e=M("div"),ct(e,l),re(e,"svelte-1rwxxuc",!0)},m(s,i){w(s,e,i)},p(s,i){ct(e,l=de(n,[i[1]&32&&s[36],i[1]&2048&&t!==(t=s[42])&&{style:t}])),re(e,"svelte-1rwxxuc",!0)},d(s){s&&v(e)}}}function s3(r,e){let t,n,l;return n=new lse({props:{processedQueryColumn:e[38],queryRunner:e[0],isSelected:si(e[22],e[23],e[38])}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&32&&(o.processedQueryColumn=e[38]),i[0]&1&&(o.queryRunner=e[0]),i[0]&12582944&&(o.isSelected=si(e[22],e[23],e[38])),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function dse(r){let e,t,n=[],l=new Map,s,i;e=new Qr({props:{columnIdentifierKey:Qa,isStatic:!0,isControlCell:!0,$$slots:{default:[mse,({htmlAttributes:u,style:c})=>({36:u,42:c}),({htmlAttributes:u,style:c})=>[0,(u?32:0)|(c?2048:0)]]},$$scope:{ctx:r}}});let o=r[5];const a=u=>u[38].id;for(let u=0;u<o.length;u+=1){let c=l3(r,o,u),f=a(c);l.set(f,n[u]=s3(f,c))}return{c(){C(e.$$.fragment),t=N();for(let u=0;u<n.length;u+=1)n[u].c();s=oe()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c[1]&18464&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c[0]&12582945&&(o=u[5],G(),n=gt(n,c,a,1,u,o,l,s.parentNode,bt,s3,s,l3),K())},i(u){if(!i){_(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)_(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&v(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&v(s)}}}function i3(r){let e,t;return e=new Em({props:{style:r[33].style,$$slots:{default:[pse,({htmlAttributes:n,styleString:l})=>({36:n,37:l}),({htmlAttributes:n,styleString:l})=>[0,(n?32:0)|(l?64:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&2&&(s.style=n[33].style),l[0]&16908404|l[1]&16482&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _se(r){let e,t,n,l=r[24].offset+r[33].index+1+"",s,i,o;t=new Dr({props:{color:"var(--cell-bg-color-header)"}});let a=[r[41],{style:i=r[42]}],u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return{c(){e=M("div"),C(t.$$.fragment),n=N(),s=q(l),ct(e,u),re(e,"svelte-1rwxxuc",!0)},m(c,f){w(c,e,f),y(t,e,null),I(e,n),I(e,s),o=!0},p(c,f){(!o||f[0]&16777216|f[1]&2)&&l!==(l=c[24].offset+c[33].index+1+"")&&Y(s,l),ct(e,u=de(a,[f[1]&1024&&c[41],(!o||f[1]&2048&&i!==(i=c[42]))&&{style:i}])),re(e,"svelte-1rwxxuc",!0)},i(c){o||(_(t.$$.fragment,c),o=!0)},o(c){g(t.$$.fragment,c),o=!1},d(c){c&&v(e),S(t)}}}function o3(r,e){let t,n,l;return n=new ase({props:{processedQueryColumn:e[38],row:e[2][e[33].index],recordRunState:e[4],selection:e[6],inspector:e[17]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&32&&(o.processedQueryColumn=e[38]),i[0]&4|i[1]&2&&(o.row=e[2][e[33].index]),i[0]&16&&(o.recordRunState=e[4]),i[0]&64&&(o.selection=e[6]),i[0]&131072&&(o.inspector=e[17]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function pse(r){let e,t,n,l=[],s=new Map,i,o,a;t=new Qr({props:{columnIdentifierKey:Qa,isStatic:!0,isControlCell:!0,$$slots:{default:[_se,({htmlAttributes:d,style:p})=>({41:d,42:p}),({htmlAttributes:d,style:p})=>[0,(d?1024:0)|(p?2048:0)]]},$$scope:{ctx:r}}});let u=r[5];const c=d=>d[38].id;for(let d=0;d<u.length;d+=1){let p=r3(r,u,d),h=c(p);s.set(h,l[d]=o3(h,p))}let f=[r[36],{style:i="--cell-height:"+(Ql-1)+"px;"+r[37]}],m={};for(let d=0;d<f.length;d+=1)m=le(m,f[d]);return{c(){e=M("div"),C(t.$$.fragment),n=N();for(let d=0;d<l.length;d+=1)l[d].c();o=N(),ct(e,m),re(e,"svelte-1rwxxuc",!0)},m(d,p){w(d,e,p),y(t,e,null),I(e,n);for(let h=0;h<l.length;h+=1)l[h].m(e,null);w(d,o,p),a=!0},p(d,p){const h={};p[0]&16777216|p[1]&19458&&(h.$$scope={dirty:p,ctx:d}),t.$set(h),p[0]&131188|p[1]&2&&(u=d[5],G(),l=gt(l,p,c,1,d,u,s,e,bt,o3,null,r3),K()),ct(e,m=de(f,[p[1]&32&&d[36],(!a||p[1]&64&&i!==(i="--cell-height:"+(Ql-1)+"px;"+d[37]))&&{style:i}])),re(e,"svelte-1rwxxuc",!0)},i(d){if(!a){_(t.$$.fragment,d);for(let p=0;p<u.length;p+=1)_(l[p]);a=!0}},o(d){g(t.$$.fragment,d);for(let p=0;p<l.length;p+=1)g(l[p]);a=!1},d(d){d&&v(e),S(t);for(let p=0;p<l.length;p+=1)l[p].d();d&&v(o)}}}function a3(r,e){let t,n,l,s=(e[2][e[33].index]||e[3])&&i3(e);return{key:r,first:null,c(){t=oe(),s&&s.c(),n=oe(),this.first=t},m(i,o){w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){e=i,e[2][e[33].index]||e[3]?s?(s.p(e,o),o[0]&12|o[1]&2&&_(s,1)):(s=i3(e),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(s),l=!0)},o(i){g(s),l=!1},d(i){i&&v(t),s&&s.d(i),i&&v(n)}}}function gse(r){let e=[],t=new Map,n,l,s=r[32];const i=o=>o[33].key;for(let o=0;o<s.length;o+=1){let a=n3(r,s,o),u=i(a);t.set(u,e[o]=a3(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a[0]&16908412|a[1]&3170&&(s=o[32],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,a3,n,n3),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function hse(r){let e,t,n,l;return e=new Cm({props:{$$slots:{default:[dse]},$$scope:{ctx:r}}}),n=new E5({props:{itemCount:r[9],paddingBottom:30,itemSize:r[30],$$slots:{default:[gse,({items:s})=>({32:s}),({items:s})=>[0,s?2:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&12582945|i[1]&16384&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i[0]&512&&(a.itemCount=s[9]),i[0]&16908412|i[1]&16386&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function bse(r){let e=r[21]("no_results_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&2097152&&e!==(e=n[21]("no_results_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function $se(r){let e,t=r[21]("showing_n_to_m_of_total",{values:{leftBound:r[24].leftBound,rightBound:Math.min(r[10],r[24].rightBound),totalCount:r[10]}})+"",n;return{c(){e=M("div"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s[0]&18875392&&t!==(t=l[21]("showing_n_to_m_of_total",{values:{leftBound:l[24].leftBound,rightBound:Math.min(l[10],l[24].rightBound),totalCount:l[10]}})+"")&&Y(n,t)},d(l){l&&v(e)}}}function u3(r){let e,t;return e=new n8({props:{queryRunner:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.queryRunner=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vse(r){let e,t,n,l;const s=[fse,cse,use],i=[];function o(a,u){return a[16].length?a[12]?1:2:0}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"data-identifier","query-run-result"),D(e,"class","svelte-1rwxxuc")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}const Qa="row-control",wse=r=>r.id;function kse(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O=j,R=()=>(O(),O=ue(s,Ke=>t(26,P=Ke)),s),F,L=j,U=()=>(L(),L=ue(l,Ke=>t(27,F=Ke)),l),W,H=j,z=()=>(H(),H=ue(o,Ke=>t(28,W=Ke)),o),te,se=j,B=()=>(se(),se=ue(n,Ke=>t(29,te=Ke)),n),V,ee,ie=j,_e=()=>(ie(),ie=ue(m,Ke=>t(22,ee=Ke)),m),ae,fe=j,Ue=()=>(fe(),fe=ue(d,Ke=>t(23,ae=Ke)),d),ve,Se=j,ke=()=>(Se(),Se=ue(i,Ke=>t(24,ve=Ke)),i);Z(r,ge,Ke=>t(21,V=Ke)),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>se()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>Se());let{queryHandler:Fe}=e,{isExplorationPage:we=!1}=e;const Re=new yt([[Qa,w5]]),Ge=()=>Ql,Je=Ke=>{Fe.setPagination(Ke.detail)};return r.$$set=Ke=>{"queryHandler"in Ke&&t(0,Fe=Ke.queryHandler),"isExplorationPage"in Ke&&t(1,we=Ke.isExplorationPage)},r.$$.update=()=>{r.$$.dirty[0]&1&&B(t(20,{query:n,processedColumns:l,rowsData:s,pagination:i,runState:o,selection:a,inspector:u}=Fe,n,U(t(7,l)),R(t(8,s)),ke(t(19,i)),z(t(18,o)),(t(6,a),t(0,Fe)),(t(17,u),t(0,Fe)))),r.$$.dirty[0]&536870912&&t(16,{initial_columns:c}=te,c),r.$$.dirty[0]&448&&t(15,f=new e8({selection:a,toast:Tt,getRows:()=>Ve(s).rows,getColumnsMap:()=>Ve(l),getRecordSummaries:()=>new yt})),r.$$.dirty[0]&64&&_e(t(14,{selectedCells:m,columnsSelectedWhenTheTableIsEmpty:d}=a,m,Ue(t(13,d)))),r.$$.dirty[0]&268435456&&t(4,p=W==null?void 0:W.state),r.$$.dirty[0]&268435456&&t(12,h=(W==null?void 0:W.state)==="failure"?W.errors:void 0),r.$$.dirty[0]&134217728&&t(5,b=[...F.values()]),r.$$.dirty[0]&32&&t(11,$=b.length?[{id:Qa},...b]:[]),r.$$.dirty[0]&67108864&&t(2,k=P.rows),r.$$.dirty[0]&67108864&&t(10,T=P.totalCount),r.$$.dirty[0]&20&&t(3,E=(p==="success"||p==="processing")&&!k.length),r.$$.dirty[0]&12&&t(9,A=E?1:k.length)},[Fe,we,k,E,p,b,a,l,s,A,T,$,h,d,m,f,c,u,o,i,n,V,ee,ae,ve,Re,P,F,W,te,Ge,Je]}class r8 extends x{constructor(e){super(),J(this,e,kse,vse,Q,{queryHandler:0,isExplorationPage:1},null,[-1,-1])}}function yse(r){let e,t,n,l=r[1]("result")+"",s,i,o,a,u,c,f;return a=new n8({props:{queryRunner:r[0]}}),c=new r8({props:{queryHandler:r[0]}}),{c(){e=M("section"),t=M("header"),n=M("span"),s=q(l),i=N(),o=M("div"),C(a.$$.fragment),u=N(),C(c.$$.fragment),D(n,"class","title svelte-1gzxbr"),D(o,"class","actions svelte-1gzxbr"),D(t,"class","svelte-1gzxbr"),D(e,"data-identifier","result"),D(e,"class","svelte-1gzxbr")},m(m,d){w(m,e,d),I(e,t),I(t,n),I(n,s),I(t,i),I(t,o),y(a,o,null),I(e,u),y(c,e,null),f=!0},p(m,[d]){(!f||d&2)&&l!==(l=m[1]("result")+"")&&Y(s,l);const p={};d&1&&(p.queryRunner=m[0]),a.$set(p);const h={};d&1&&(h.queryHandler=m[0]),c.$set(h)},i(m){f||(_(a.$$.fragment,m),_(c.$$.fragment,m),f=!0)},o(m){g(a.$$.fragment,m),g(c.$$.fragment,m),f=!1},d(m){m&&v(e),S(a),S(c)}}}function Sse(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{queryHandler:l}=e;return r.$$set=s=>{"queryHandler"in s&&t(0,l=s.queryHandler)},[l,n]}class Cse extends x{constructor(e){super(),J(this,e,Sse,yse,Q,{queryHandler:0})}}function Tse(r){let e,t,n;return t=new Sle({props:{queryManager:r[1],linkCollapsibleOpenState:r[0],$$slots:{default:[Ase]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","content-pane svelte-182edct")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&2&&(i.queryManager=l[1]),s&1&&(i.linkCollapsibleOpenState=l[0]),s&8502&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Ese(r){let e,t,n,l=r[8]("get_started_by_adding_table_and_columns")+"",s,i,o=r[7].requestStatus.state==="success"&&r[7].data.size===0&&c3(r);return{c(){e=M("div"),o&&o.c(),t=N(),n=M("div"),s=q(l),D(n,"class","help-text svelte-182edct"),D(e,"class","initial-content svelte-182edct")},m(a,u){w(a,e,u),o&&o.m(e,null),I(e,t),I(e,n),I(n,s),i=!0},p(a,u){a[7].requestStatus.state==="success"&&a[7].data.size===0?o?(o.p(a,u),u&128&&_(o,1)):(o=c3(a),o.c(),_(o,1),o.m(e,t)):o&&(G(),g(o,1,1,()=>{o=null}),K()),(!i||u&256)&&l!==(l=a[8]("get_started_by_adding_table_and_columns")+"")&&Y(s,l)},i(a){i||(_(o),i=!0)},o(a){g(o),i=!1},d(a){a&&v(e),o&&o.d()}}}function Dse(r){let e,t;return e=new Yy({props:{isInspectorOpen:r[4],queryHandler:r[1],canEditMetadata:r[2],$$slots:{default:[Mse]},$$scope:{ctx:r}}}),e.$on("delete",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.isInspectorOpen=n[4]),l&2&&(s.queryHandler=n[1]),l&4&&(s.canEditMetadata=n[2]),l&8194&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ise(r){let e,t=r[8]("get_started_by_adding_columns_from_left")+"",n;return{c(){e=M("div"),n=q(t),D(e,"class","help-text svelte-182edct")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&256&&t!==(t=l[8]("get_started_by_adding_columns_from_left")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function Mse(r){let e,t;return e=new Cse({props:{queryHandler:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.queryHandler=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ase(r){let e,t,n,l;const s=[Ise,Dse],i=[];function o(a,u){return a[5]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function c3(r){let e,t,n;return t=new au({props:{$$slots:{body:[Rse],title:[Pse]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","tutorial-holder svelte-182edct")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&8448&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Pse(r){let e,t=r[8]("create_share_explorations_of_your_data")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","title")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&256&&t!==(t=l[8]("create_share_explorations_of_your_data")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Rse(r){let e,t=r[8]("create_exploration_empty_state_help")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","body")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&256&&t!==(t=l[8]("create_exploration_empty_state_help")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Ose(r){let e,t,n,l,s,i,o,a;function u(h){r[9](h)}function c(h){r[10](h)}let f={queryManager:r[1],canEditMetadata:r[2]};r[0]!==void 0&&(f.linkCollapsibleOpenState=r[0]),r[4]!==void 0&&(f.isInspectorOpen=r[4]),t=new $te({props:f}),Te.push(()=>Oe(t,"linkCollapsibleOpenState",u)),Te.push(()=>Oe(t,"isInspectorOpen",c)),t.$on("close",r[11]);const m=[Ese,Tse],d=[];function p(h,b){return h[3].base_table?1:0}return i=p(r),o=d[i]=m[i](r),{c(){e=M("div"),C(t.$$.fragment),s=N(),o.c(),D(e,"class","data-explorer svelte-182edct")},m(h,b){w(h,e,b),y(t,e,null),I(e,s),d[i].m(e,null),a=!0},p(h,[b]){const $={};b&2&&($.queryManager=h[1]),b&4&&($.canEditMetadata=h[2]),!n&&b&1&&(n=!0,$.linkCollapsibleOpenState=h[0],Ne(()=>n=!1)),!l&&b&16&&(l=!0,$.isInspectorOpen=h[4],Ne(()=>l=!1)),t.$set($);let k=i;i=p(h),i===k?d[i].p(h,b):(G(),g(d[k],1,1,()=>{d[k]=null}),K(),o=d[i],o?o.p(h,b):(o=d[i]=m[i](h),o.c()),_(o,1),o.m(e,null))},i(h){a||(_(t.$$.fragment,h),_(o),a=!0)},o(h){g(t.$$.fragment,h),g(o),a=!1},d(h){h&&v(e),S(t),d[i].d()}}}function Lse(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,k=>t(3,s=k)),n),a,u;Z(r,Ss,k=>t(7,a=k)),Z(r,ge,k=>t(8,u=k)),r.$$.on_destroy.push(()=>i());let{queryManager:c}=e,{linkCollapsibleOpenState:f={}}=e,{canEditMetadata:m}=e,d=!0;function p(k){f=k,t(0,f)}function h(k){d=k,t(4,d)}function b(k){ye.call(this,r,k)}function $(k){ye.call(this,r,k)}return r.$$set=k=>{"queryManager"in k&&t(1,c=k.queryManager),"linkCollapsibleOpenState"in k&&t(0,f=k.linkCollapsibleOpenState),"canEditMetadata"in k&&t(2,m=k.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&2&&o(t(6,{query:n}=c,n)),r.$$.dirty&8&&t(5,l=s.initial_columns.length===0)},[f,c,m,s,d,l,n,a,u,p,h,b,$]}class Nse extends x{constructor(e){super(),J(this,e,Lse,Ose,Q,{queryManager:1,linkCollapsibleOpenState:0,canEditMetadata:2})}}class Za{static baseTable(e){return{id:e.id,name:e.name}}static terseSummarizedColumn(e){return{id:e.id,name:e.name}}static terseSummarization(e){return{baseTable:Za.baseTable(e.baseTable),columns:e.columns.map(t=>Za.terseSummarizedColumn(t)),terseGrouping:e.terseGrouping}}}function l8(r){return Lu.encode(JSON.stringify(Za.terseSummarization(r)))}function s8(r,e,t){const n=Mr(r,e),l=l8({baseTable:t,columns:[],terseGrouping:[]});return`${n}#${l}`}function Fse(r,e,t){const n=Mr(r,e),{columns:l,terseGrouping:s}=t;if(s.length>0&&l.length>0){const i=l8(t);return`${n}#${i}`}}function Hse(r){var $;const e=JSON.parse(Lu.decode(r));if(!e.baseTable)return;const{baseTable:t}=e;let n=[],l=[];if(!(($=e.terseGrouping)!=null&&$.length)||!e.columns)return{base_table:t.id};const s=new Map(e.columns.map(k=>[k.id,k])),i=e.terseGrouping.filter(k=>s.has(k[0])),o=i.map(k=>s.get(k[0])).filter(k=>k!==void 0);if(o.length===0)return{base_table:t.id};const a=o[0],u=i[0][1],c=e.columns.find(k=>!o.includes(k)),f=c?[c]:[];n=[...o,...f].map(k=>({alias:k.name,id:k.id}));const m=o.map((k,T)=>({input_alias:k.name,output_alias:`${k.name}_grouped`,preproc:T===0?u:void 0})),d=f.map(k=>({input_alias:k.name,output_alias:`${t.name}_agged`,function:"count"}));l=[{type:"summarize",spec:{base_grouping_column:a.name,grouping_expressions:m,aggregation_expressions:d}}];const h=m.reduce((k,T)=>({...k,[T.output_alias]:`${T.input_alias} group`}),{}),b=d.reduce((k,T)=>({...k,[T.output_alias]:`${t.name} count`}),h);return{base_table:t.id,initial_columns:n,transformations:l,display_names:b}}function f3(r){let e,t;return{c(){e=M("strong"),t=q(r[0])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&1&&Y(t,n[0])},d(n){n&&v(e)}}}function zse(r){let e,t=r[6]==="tableName"&&f3(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[6]==="tableName"?t?t.p(n,l):(t=f3(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function Vse(r){let e=r[2]("table_delete_permanent_warning")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("table_delete_permanent_warning")+"")&&Y(t,e)},d(n){n&&v(t)}}}function qse(r){let e,t,n,l,s,i,o,a,u;n=new St({props:{text:r[2]("confirm_delete_table"),$$slots:{default:[zse,({slotName:m})=>({6:m}),({slotName:m})=>m?64:0]},$$scope:{ctx:r}}});function c(m){r[4](m)}let f={autofocus:!0};return r[1]!==void 0&&(f.value=r[1]),s=new gn({props:f}),Te.push(()=>Oe(s,"value",c)),a=new Fo({props:{$$slots:{default:[Vse]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("p"),C(n.$$.fragment),l=N(),C(s.$$.fragment),o=N(),C(a.$$.fragment),D(t,"class","svelte-lbyl48"),D(e,"class","table-delete-confirmation-body svelte-lbyl48")},m(m,d){w(m,e,d),I(e,t),y(n,t,null),I(e,l),y(s,e,null),I(e,o),y(a,e,null),u=!0},p(m,[d]){const p={};d&4&&(p.text=m[2]("confirm_delete_table")),d&193&&(p.$$scope={dirty:d,ctx:m}),n.$set(p);const h={};!i&&d&2&&(i=!0,h.value=m[1],Ne(()=>i=!1)),s.$set(h);const b={};d&132&&(b.$$scope={dirty:d,ctx:m}),a.$set(b)},i(m){u||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){g(n.$$.fragment,m),g(s.$$.fragment,m),g(a.$$.fragment,m),u=!1},d(m){m&&v(e),S(n),S(s),S(a)}}}function Bse(r,e,t){let n,l;Z(r,ge,u=>t(2,l=u));let{tableName:s}=e,i="";const{canProceed:o}=Qf;Z(r,o,u=>t(5,n=u));function a(u){i=u,t(1,i)}return r.$$set=u=>{"tableName"in u&&t(0,s=u.tableName)},r.$$.update=()=>{r.$$.dirty&3&&an(o,n=i.trim().toLowerCase()===s.toLowerCase(),n)},[s,i,l,o,a]}class i8 extends x{constructor(e){super(),J(this,e,Bse,qse,Q,{tableName:0})}}const Use=r=>({}),m3=r=>({getNameValidationErrors:r[0],onUpdate:r[1]});function Wse(r){let e;const t=r[4].default,n=Ie(t,r,r[3],m3);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,[s]){n&&n.p&&(!e||s&8)&&Ae(n,t,l,l[3],e?Me(t,l[3],s,Use):Pe(l[3]),m3)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function jse(r,e,t){let n,l,s;Z(r,Wr,m=>t(5,n=m)),Z(r,ge,m=>t(6,l=m)),Z(r,fn,m=>t(7,s=m));let{$$slots:i={},$$scope:o}=e,{tableId:a}=e;function u(m){const p=[...s.data.values()].filter(h=>h.name===m);return p.length>0&&p[0].id!==a}function c(m){return m.trim()?u(m)?[l("table_with_name_already_exists")]:[]:[l("table_name_cannot_be_empty")]}async function f(m){await dW(a,m),n&&await ii(n)}return r.$$set=m=>{"tableId"in m&&t(2,a=m.tableId),"$$scope"in m&&t(3,o=m.$$scope)},[c,f,a,o,i]}class Zm extends x{constructor(e){super(),J(this,e,jse,Wse,Q,{tableId:2})}}function d3(r){let e,t;return e=new vr({props:{$$slots:{default:[Yse]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1280&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yse(r){let e=r[8]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&256&&e!==(e=n[8]+"")&&Y(t,e)},d(n){n&&v(t)}}}function Gse(r){let e,t,n=r[9]==="tableName"&&d3(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[9]==="tableName"?n?(n.p(l,s),s&512&&_(n,1)):(n=d3(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Kse(r){let e,t,n;return t=new St({props:{text:r[2]("edit_table_with_name"),$$slots:{default:[Gse,({slotName:l})=>({9:l}),({slotName:l})=>l?512:0]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","title")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&4&&(i.text=l[2]("edit_table_with_name")),s&1792&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Xse(r){let e,t;function n(...l){return r[3](r[7],...l)}return e=new Wm({props:{controller:r[1],save:n,getNameValidationErrors:r[6],getInitialName:r[4],getInitialDescription:r[5],$$slots:{title:[Kse,({initialName:l})=>({8:l}),({initialName:l})=>l?256:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&2&&(i.controller=r[1]),s&128&&(i.save=n),s&64&&(i.getNameValidationErrors=r[6]),s&1&&(i.getInitialName=r[4]),s&1&&(i.getInitialDescription=r[5]),s&1284&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Qse(r){let e,t;return e=new Zm({props:{tableId:r[0].id,$$slots:{default:[Xse,({getNameValidationErrors:n,onUpdate:l})=>({6:n,7:l}),({getNameValidationErrors:n,onUpdate:l})=>(n?64:0)|(l?128:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.tableId=n[0].id),l&1223&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Zse(r,e,t){let n;Z(r,ge,u=>t(2,n=u));let{table:l}=e,{modalController:s}=e;const i=(u,c,f)=>u({name:c,description:f}),o=()=>{var u;return(u=l.name)!=null?u:""},a=()=>{var u;return(u=l.description)!=null?u:""};return r.$$set=u=>{"table"in u&&t(0,l=u.table),"modalController"in u&&t(1,s=u.modalController)},[l,s,n,i,o,a]}class Jse extends x{constructor(e){super(),J(this,e,Zse,Qse,Q,{table:0,modalController:1})}}function _3(r){let e,t;return e=new pi({props:{lines:2,popoverPlacements:["bottom","left","top","right"],$$slots:{default:[xse]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388672&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xse(r){let e;return{c(){e=q(r[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&Y(e,t[6])},d(t){t&&v(e)}}}function p3(r){let e=r[9]("needs_import_confirmation")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&512&&e!==(e=n[9]("needs_import_confirmation")+"")&&Y(t,e)},d(n){n&&v(t)}}}function g3(r){let e,t,n,l;e=new Ir({props:{href:r[7],icon:zn,$$slots:{default:[eie]},$$scope:{ctx:r}}});let s=r[1]&&h3(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&128&&(a.href=i[7]),o&8389120&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[1]?s?(s.p(i,o),o&2&&_(s,1)):(s=h3(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function eie(r){let e=r[9]("explore_table")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&512&&e!==(e=n[9]("explore_table")+"")&&Y(t,e)},d(n){n&&v(t)}}}function h3(r){let e,t;return e=new sn({props:{icon:vl,$$slots:{default:[tie]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8389120&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tie(r){let e=r[9]("edit_table")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&512&&e!==(e=n[9]("edit_table")+"")&&Y(t,e)},d(n){n&&v(t)}}}function b3(r){let e,t;return e=new sn({props:{danger:!0,icon:qt,$$slots:{default:[nie]},$$scope:{ctx:r}}}),e.$on("click",r[11]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8389120&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nie(r){let e=r[9]("delete_table")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&512&&e!==(e=n[9]("delete_table")+"")&&Y(t,e)},d(n){n&&v(t)}}}function rie(r){let e,t,n,l=!r[2]&&g3(r),s=r[1]&&b3(r);return{c(){l&&l.c(),e=N(),s&&s.c(),t=oe()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,o){i[2]?l&&(G(),g(l,1,1,()=>{l=null}),K()):l?(l.p(i,o),o&4&&_(l,1)):(l=g3(i),l.c(),_(l,1),l.m(e.parentNode,e)),i[1]?s?(s.p(i,o),o&2&&_(s,1)):(s=b3(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&v(e),s&&s.d(i),i&&v(t)}}}function $3(r){let e,t,n,l,s=r[9]("find_record")+"",i,o,a,u;const c=[Ea];let f={};for(let m=0;m<c.length;m+=1)f=le(f,c[m]);return t=new Be({props:f}),{c(){e=M("button"),C(t.$$.fragment),n=N(),l=M("span"),i=q(s),D(l,"class","label svelte-6kr5rd"),D(e,"class","bottom-button passthrough svelte-6kr5rd")},m(m,d){w(m,e,d),y(t,e,null),I(e,n),I(e,l),I(l,i),o=!0,a||(u=[He(e,"mouseenter",r[20]),He(e,"mouseleave",r[21]),He(e,"click",r[13])],a=!0)},p(m,d){const p=d&0?de(c,[$e(Ea)]):{};t.$set(p),(!o||d&512)&&s!==(s=m[9]("find_record")+"")&&Y(i,s)},i(m){o||(_(t.$$.fragment,m),o=!0)},o(m){g(t.$$.fragment,m),o=!1},d(m){m&&v(e),S(t),a=!1,It(u)}}}function lie(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T;s=new Sn({props:{table:r[0]}});let E=r[6]&&_3(r),A=r[2]&&p3(r);d=new Xr({props:{showArrow:!1,triggerAppearance:"ghost",triggerClass:"dropdown-menu-button",closeOnInnerClick:!0,placements:["bottom-end","right-start","left-start"],label:"",icon:Xf,size:"small",$$slots:{default:[rie]},$$scope:{ctx:r}}});let P=!r[2]&&$3(r);return b=new Jse({props:{modalController:r[10],table:r[0]}}),{c(){e=M("div"),t=M("a"),n=M("div"),l=M("div"),C(s.$$.fragment),i=N(),o=M("div"),E&&E.c(),a=N(),u=M("div"),A&&A.c(),f=N(),m=M("div"),C(d.$$.fragment),p=N(),P&&P.c(),h=N(),C(b.$$.fragment),D(l,"class","top-content svelte-6kr5rd"),D(n,"class","top svelte-6kr5rd"),D(o,"class","description svelte-6kr5rd"),D(u,"class","bottom svelte-6kr5rd"),D(t,"class","link passthrough svelte-6kr5rd"),D(t,"href",r[8]),D(t,"aria-label",c=r[0].name),D(m,"class","menu-container svelte-6kr5rd"),D(e,"class","table-card svelte-6kr5rd"),re(e,"focus",r[5]),re(e,"hovering-menu-trigger",r[3]),re(e,"hovering-bottom-button",r[4]),re(e,"unconfirmed-import",r[2])},m(O,R){w(O,e,R),I(e,t),I(t,n),I(n,l),y(s,l,null),I(t,i),I(t,o),E&&E.m(o,null),I(t,a),I(t,u),A&&A.m(u,null),I(e,f),I(e,m),y(d,m,null),I(e,p),P&&P.m(e,null),w(O,h,R),y(b,O,R),$=!0,k||(T=[He(t,"focusin",r[16]),He(t,"focusout",r[17]),He(m,"mouseenter",r[18]),He(m,"mouseleave",r[19])],k=!0)},p(O,[R]){const F={};R&1&&(F.table=O[0]),s.$set(F),O[6]?E?(E.p(O,R),R&64&&_(E,1)):(E=_3(O),E.c(),_(E,1),E.m(o,null)):E&&(G(),g(E,1,1,()=>{E=null}),K()),O[2]?A?A.p(O,R):(A=p3(O),A.c(),A.m(u,null)):A&&(A.d(1),A=null),(!$||R&256)&&D(t,"href",O[8]),(!$||R&1&&c!==(c=O[0].name))&&D(t,"aria-label",c);const L={};R&8389254&&(L.$$scope={dirty:R,ctx:O}),d.$set(L),O[2]?P&&(G(),g(P,1,1,()=>{P=null}),K()):P?(P.p(O,R),R&4&&_(P,1)):(P=$3(O),P.c(),_(P,1),P.m(e,null)),(!$||R&32)&&re(e,"focus",O[5]),(!$||R&8)&&re(e,"hovering-menu-trigger",O[3]),(!$||R&16)&&re(e,"hovering-bottom-button",O[4]),(!$||R&4)&&re(e,"unconfirmed-import",O[2]);const U={};R&1&&(U.table=O[0]),b.$set(U)},i(O){$||(_(s.$$.fragment,O),_(E),_(d.$$.fragment,O),_(P),_(b.$$.fragment,O),$=!0)},o(O){g(s.$$.fragment,O),g(E),g(d.$$.fragment,O),g(P),g(b.$$.fragment,O),$=!1},d(O){O&&v(e),S(s),E&&E.d(),A&&A.d(),S(d),P&&P.d(),O&&v(h),S(b,O),k=!1,It(T)}}}function sie(r,e,t){let n,l,s,i,o;Z(r,ge,L=>t(9,o=L));const a=Do(),u=Bn.spawnModalController();let{table:c}=e,{database:f}=e,{schema:m}=e,{canExecuteDDL:d}=e,p=!1,h=!1,b=!1;function $(){Rl({identifierType:o("table"),body:{component:i8,props:{tableName:c.name}},onProceed:async()=>{await Ku(f,m,c.id)}})}function k(){u.open()}function T(){a.navigateToRecordPage({tableId:c.id})}const E=()=>{t(5,b=!0)},A=()=>{t(5,b=!1)},P=()=>{t(3,p=!0)},O=()=>{t(3,p=!1)},R=()=>{t(4,h=!0)},F=()=>{t(4,h=!1)};return r.$$set=L=>{"table"in L&&t(0,c=L.table),"database"in L&&t(14,f=L.database),"schema"in L&&t(15,m=L.schema),"canExecuteDDL"in L&&t(1,d=L.canExecuteDDL)},r.$$.update=()=>{var L;r.$$.dirty&1&&t(2,n=Mu(c)),r.$$.dirty&49157&&t(8,l=n?Iu(f.id,m.id,c.id,{useColumnTypeInference:!0}):Ol(f.id,m.id,c.id)),r.$$.dirty&49153&&t(7,s=s8(f.id,m.id,c)),r.$$.dirty&1&&t(6,i=(L=c.description)!=null?L:"")},[c,d,n,p,h,b,i,s,l,o,u,$,k,T,f,m,E,A,P,O,R,F]}class iie extends x{constructor(e){super(),J(this,e,sie,lie,Q,{table:0,database:14,schema:15,canExecuteDDL:1})}}function v3(r,e,t){const n=r.slice();return n[5]=e[t],n}function w3(r){let e,t;return e=new Hy({props:{icon:Kl,$$slots:{default:[oie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&272&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oie(r){let e,t=r[4]("no_tables")+"",n,l;return{c(){e=M("p"),n=q(t),l=N()},m(s,i){w(s,e,i),I(e,n),w(s,l,i)},p(s,i){i&16&&t!==(t=s[4]("no_tables")+"")&&Y(n,t)},d(s){s&&v(e),s&&v(l)}}}function k3(r,e){let t,n,l;return n=new iie({props:{canExecuteDDL:e[3],table:e[5],database:e[1],schema:e[2]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&8&&(o.canExecuteDDL=e[3]),i&1&&(o.table=e[5]),i&2&&(o.database=e[1]),i&4&&(o.schema=e[2]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function aie(r){let e,t=[],n=new Map,l,s=r[0];const i=a=>a[5].id;for(let a=0;a<s.length;a+=1){let u=v3(r,s,a),c=i(u);n.set(c,t[a]=k3(c,u))}let o=null;return s.length||(o=w3(r)),{c(){e=M("div");for(let a=0;a<t.length;a+=1)t[a].c();o&&o.c(),D(e,"class","container svelte-12ub9ef")},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);o&&o.m(e,null),l=!0},p(a,[u]){u&31&&(s=a[0],G(),t=gt(t,u,i,1,a,s,n,e,bt,k3,null,v3),K(),!s.length&&o?o.p(a,u):s.length?o&&(G(),g(o,1,1,()=>{o=null}),K()):(o=w3(a),o.c(),_(o,1),o.m(e,null)))},i(a){if(!l){for(let u=0;u<s.length;u+=1)_(t[u]);l=!0}},o(a){for(let u=0;u<t.length;u+=1)g(t[u]);l=!1},d(a){a&&v(e);for(let u=0;u<t.length;u+=1)t[u].d();o&&o.d()}}}function uie(r,e,t){let n;Z(r,ge,a=>t(4,n=a));let{tables:l}=e,{database:s}=e,{schema:i}=e,{canExecuteDDL:o}=e;return r.$$set=a=>{"tables"in a&&t(0,l=a.tables),"database"in a&&t(1,s=a.database),"schema"in a&&t(2,i=a.schema),"canExecuteDDL"in a&&t(3,o=a.canExecuteDDL)},[l,s,i,o,n]}class o8 extends x{constructor(e){super(),J(this,e,uie,aie,Q,{tables:0,database:1,schema:2,canExecuteDDL:3})}}function y3(r){let e,t,n=r[4]("based_on")+"",l,s,i,o,a;return o=new Sn({props:{table:r[3]}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),i=M("div"),C(o.$$.fragment),D(t,"class","meta svelte-1h6i4hz"),D(i,"class","horizontal-container svelte-1h6i4hz"),D(e,"class","horizontal-container svelte-1h6i4hz")},m(u,c){w(u,e,c),I(e,t),I(t,l),I(e,s),I(e,i),y(o,i,null),a=!0},p(u,c){(!a||c&16)&&n!==(n=u[4]("based_on")+"")&&Y(l,n);const f={};c&8&&(f.table=u[3]),o.$set(f)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){g(o.$$.fragment,u),a=!1},d(u){u&&v(e),S(o)}}}function cie(r){let e,t,n,l,s,i,o=r[0].name+"",a,u,c,f;const m=[zn];let d={};for(let h=0;h<m.length;h+=1)d=le(d,m[h]);l=new Be({props:d});let p=r[3]&&y3(r);return{c(){e=M("a"),t=M("div"),n=M("div"),C(l.$$.fragment),s=N(),i=M("span"),a=q(o),u=N(),p&&p.c(),D(n,"class","horizontal-container name-and-icon svelte-1h6i4hz"),D(t,"class","container svelte-1h6i4hz"),D(e,"class","link-container svelte-1h6i4hz"),D(e,"href",c=Xl(r[1].id,r[2].id,r[0].id))},m(h,b){w(h,e,b),I(e,t),I(t,n),y(l,n,null),I(n,s),I(n,i),I(i,a),I(t,u),p&&p.m(t,null),f=!0},p(h,[b]){const $=b&0?de(m,[$e(zn)]):{};l.$set($),(!f||b&1)&&o!==(o=h[0].name+"")&&Y(a,o),h[3]?p?(p.p(h,b),b&8&&_(p,1)):(p=y3(h),p.c(),_(p,1),p.m(t,null)):p&&(G(),g(p,1,1,()=>{p=null}),K()),(!f||b&7&&c!==(c=Xl(h[1].id,h[2].id,h[0].id)))&&D(e,"href",c)},i(h){f||(_(l.$$.fragment,h),_(p),f=!0)},o(h){g(l.$$.fragment,h),g(p),f=!1},d(h){h&&v(e),S(l),p&&p.d()}}}function fie(r,e,t){let n,l,s;Z(r,fn,u=>t(5,l=u)),Z(r,ge,u=>t(4,s=u));let{exploration:i}=e,{database:o}=e,{schema:a}=e;return r.$$set=u=>{"exploration"in u&&t(0,i=u.exploration),"database"in u&&t(1,o=u.database),"schema"in u&&t(2,a=u.schema)},r.$$.update=()=>{r.$$.dirty&33&&t(3,n=l.data.get(i.base_table))},[i,o,a,n,s,l]}class mie extends x{constructor(e){super(),J(this,e,fie,cie,Q,{exploration:0,database:1,schema:2})}}function S3(r,e,t){const n=r.slice();return n[5]=e[t],n[7]=t,n}function C3(r){let e,t;return e=new Hy({props:{icon:zn,$$slots:{default:[die]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&272&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function die(r){let e,t=r[4]("no_explorations")+"",n,l;return{c(){e=M("p"),n=q(t),l=N()},m(s,i){w(s,e,i),I(e,n),w(s,l,i)},p(s,i){i&16&&t!==(t=s[4]("no_explorations")+"")&&Y(n,t)},d(s){s&&v(e),s&&v(l)}}}function T3(r){let e;return{c(){e=M("div"),D(e,"class","divider svelte-15dd43z")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function E3(r,e){let t,n,l,s,i;n=new mie({props:{exploration:e[5],database:e[1],schema:e[2]}});let o=e[7]!==e[0].length-1&&T3();return{key:r,first:null,c(){t=oe(),C(n.$$.fragment),l=N(),o&&o.c(),s=oe(),this.first=t},m(a,u){w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){e=a;const c={};u&1&&(c.exploration=e[5]),u&2&&(c.database=e[1]),u&4&&(c.schema=e[2]),n.$set(c),e[7]!==e[0].length-1?o||(o=T3(),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},i(a){i||(_(n.$$.fragment,a),i=!0)},o(a){g(n.$$.fragment,a),i=!1},d(a){a&&v(t),S(n,a),a&&v(l),o&&o.d(a),a&&v(s)}}}function _ie(r){let e,t=[],n=new Map,l,s=r[0];const i=a=>a[5].id;for(let a=0;a<s.length;a+=1){let u=S3(r,s,a),c=i(u);n.set(c,t[a]=E3(c,u))}let o=null;return s.length||(o=C3(r)),{c(){e=M("div");for(let a=0;a<t.length;a+=1)t[a].c();o&&o.c(),D(e,"class","container svelte-15dd43z"),re(e,"bordered",r[0].length>0&&r[3])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);o&&o.m(e,null),l=!0},p(a,[u]){u&23&&(s=a[0],G(),t=gt(t,u,i,1,a,s,n,e,bt,E3,null,S3),K(),!s.length&&o?o.p(a,u):s.length?o&&(G(),g(o,1,1,()=>{o=null}),K()):(o=C3(a),o.c(),_(o,1),o.m(e,null))),(!l||u&9)&&re(e,"bordered",a[0].length>0&&a[3])},i(a){if(!l){for(let u=0;u<s.length;u+=1)_(t[u]);l=!0}},o(a){for(let u=0;u<t.length;u+=1)g(t[u]);l=!1},d(a){a&&v(e);for(let u=0;u<t.length;u+=1)t[u].d();o&&o.d()}}}function pie(r,e,t){let n;Z(r,ge,a=>t(4,n=a));let{explorations:l}=e,{database:s}=e,{schema:i}=e,{bordered:o=!0}=e;return r.$$set=a=>{"explorations"in a&&t(0,l=a.explorations),"database"in a&&t(1,s=a.database),"schema"in a&&t(2,i=a.schema),"bordered"in a&&t(3,o=a.bordered)},[l,s,i,o,n]}class a8 extends x{constructor(e){super(),J(this,e,pie,_ie,Q,{explorations:0,database:1,schema:2,bordered:3})}}function D3(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gie(r){let e,t,n=r[1]&&D3();const l=r[5].default,s=Ie(l,r,r[6],null);return{c(){n&&n.c(),e=N(),s&&s.c()},m(i,o){n&&n.m(i,o),w(i,e,o),s&&s.m(i,o),t=!0},p(i,o){i[1]?n?o&2&&_(n,1):(n=D3(),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K()),s&&s.p&&(!t||o&64)&&Ae(s,l,i,i[6],t?Me(l,i[6],o,null):Pe(i[6]),null)},i(i){t||(_(n),_(s,i),t=!0)},o(i){g(n),g(s,i),t=!1},d(i){n&&n.d(i),i&&v(e),s&&s.d(i)}}}function hie(r){let e,t;return e=new dt({props:{disabled:r[1],appearance:"plain-primary",class:r[0],$$slots:{default:[gie]},$$scope:{ctx:r}}}),e.$on("click",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.disabled=n[1]),l&1&&(s.class=n[0]),l&66&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bie(r,e,t){let{$$slots:n={},$$scope:l}=e,{database:s}=e,{schema:i}=e,{class:o=""}=e,a=!1;async function u(){t(1,a=!0);const c=await No(s,i,{});t(1,a=!1),un.goto(Ol(s.id,i.id,c.id),!1)}return r.$$set=c=>{"database"in c&&t(3,s=c.database),"schema"in c&&t(4,i=c.schema),"class"in c&&t(0,o=c.class),"$$scope"in c&&t(6,l=c.$$scope)},[o,a,u,s,i,n,l]}class $ie extends x{constructor(e){super(),J(this,e,bie,hie,Q,{database:3,schema:4,class:0})}}function vie(r){let e,t=r[2]("add_tables_to_new_schema")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","title")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=l[2]("add_tables_to_new_schema")+"")&&Y(n,t)},d(l){l&&v(e)}}}function wie(r){let e,t=r[2]("what_is_a_table")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","body")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=l[2]("what_is_a_table")+"")&&Y(n,t)},d(l){l&&v(e)}}}function kie(r){let e,t=r[2]("from_scratch")+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=l[2]("from_scratch")+"")&&Y(n,t)},d(l){l&&v(e)}}}function yie(r){let e=r[2]("import_from_file")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("import_from_file")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Sie(r){let e,t,n=r[2]("how_do_you_want_to_create_table")+"",l,s,i,o,a,u,c;return o=new $ie({props:{class:"padding-zero",database:r[0],schema:r[1],$$slots:{default:[kie]},$$scope:{ctx:r}}}),u=new jr({props:{href:kl(r[0].id,r[1].id),$$slots:{default:[yie]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),i=M("div"),C(o.$$.fragment),a=N(),C(u.$$.fragment),D(t,"class","svelte-doup50"),D(i,"class","new-table-tutorial-actions svelte-doup50"),D(e,"class","new-table-tutorial-footer svelte-doup50"),D(e,"slot","footer")},m(f,m){w(f,e,m),I(e,t),I(t,l),I(e,s),I(e,i),y(o,i,null),I(i,a),y(u,i,null),c=!0},p(f,m){(!c||m&4)&&n!==(n=f[2]("how_do_you_want_to_create_table")+"")&&Y(l,n);const d={};m&1&&(d.database=f[0]),m&2&&(d.schema=f[1]),m&12&&(d.$$scope={dirty:m,ctx:f}),o.$set(d);const p={};m&3&&(p.href=kl(f[0].id,f[1].id)),m&12&&(p.$$scope={dirty:m,ctx:f}),u.$set(p)},i(f){c||(_(o.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(o.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),S(o),S(u)}}}function Cie(r){let e,t;return e=new au({props:{$$slots:{footer:[Sie],body:[wie],title:[vie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&15&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Tie(r,e,t){let n;Z(r,ge,i=>t(2,n=i));let{database:l}=e,{schema:s}=e;return r.$$set=i=>{"database"in i&&t(0,l=i.database),"schema"in i&&t(1,s=i.schema)},[l,s,n]}class u8 extends x{constructor(e){super(),J(this,e,Tie,Cie,Q,{database:0,schema:1})}}function Eie(r){let e,t=r[2]("time_to_create_exploration")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","title")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=l[2]("time_to_create_exploration")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Die(r){let e,t=r[2]("what_is_an_exploration")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","body")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&4&&t!==(t=l[2]("what_is_an_exploration")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Iie(r){let e=r[2]("open_data_explorer")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("open_data_explorer")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Mie(r){let e,t;return e=new jr({props:{slot:"footer",href:Mr(r[0].id,r[1].id),$$slots:{default:[Iie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.href=Mr(n[0].id,n[1].id)),l&12&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Aie(r){let e,t;return e=new au({props:{$$slots:{footer:[Mie],body:[Die],title:[Eie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&15&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pie(r,e,t){let n;Z(r,ge,i=>t(2,n=i));let{database:l}=e,{schema:s}=e;return r.$$set=i=>{"database"in i&&t(0,l=i.database),"schema"in i&&t(1,s=i.schema)},[l,s,n]}class c8 extends x{constructor(e){super(),J(this,e,Pie,Aie,Q,{database:0,schema:1})}}function Rie(r){let e=r[3]("from_scratch")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("from_scratch")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Oie(r){let e=r[3]("from_data_import")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("from_data_import")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Lie(r){let e,t,n,l;return e=new sn({props:{$$slots:{default:[Rie]},$$scope:{ctx:r}}}),e.$on("click",r[4]),n=new Ir({props:{href:kl(r[0].id,r[1].id),$$slots:{default:[Oie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&40&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&3&&(a.href=kl(s[0].id,s[1].id)),i&40&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function Nie(r){let e,t;const n=[jt];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(jt)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Fie(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Hie(r){let e,t,n,l,s,i=r[3]("new_table")+"",o,a;const u=[Fie,Nie],c=[];function f(m,d){return m[2]?0:1}return t=f(r),n=c[t]=u[t](r),{c(){e=M("div"),n.c(),l=N(),s=M("span"),o=q(i),D(e,"slot","trigger")},m(m,d){w(m,e,d),c[t].m(e,null),I(e,l),I(e,s),I(s,o),a=!0},p(m,d){let p=t;t=f(m),t===p?c[t].p(m,d):(G(),g(c[p],1,1,()=>{c[p]=null}),K(),n=c[t],n?n.p(m,d):(n=c[t]=u[t](m),n.c()),_(n,1),n.m(e,l)),(!a||d&8)&&i!==(i=m[3]("new_table")+"")&&Y(o,i)},i(m){a||(_(n),a=!0)},o(m){g(n),a=!1},d(m){m&&v(e),c[t].d()}}}function zie(r){let e,t;return e=new Xr({props:{showArrow:!0,triggerAppearance:"primary",closeOnInnerClick:!0,label:r[3]("new_table"),$$slots:{trigger:[Hie],default:[Lie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.label=n[3]("new_table")),l&47&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vie(r,e,t){let n;Z(r,ge,a=>t(3,n=a));let{database:l}=e,{schema:s}=e,i=!1;async function o(){t(2,i=!0);const a=await No(l,s,{});t(2,i=!1),un.goto(Ol(l.id,s.id,a.id),!1)}return r.$$set=a=>{"database"in a&&t(0,l=a.database),"schema"in a&&t(1,s=a.schema)},[l,s,i,n,o]}class f8 extends x{constructor(e){super(),J(this,e,Vie,zie,Q,{database:0,schema:1})}}function I3(r,e,t){const n=r.slice();return n[2]=e[t],n}function M3(r,e){let t,n,l,s;return n=new pu({props:{loading:!0}}),{key:r,first:null,c(){t=M("div"),C(n.$$.fragment),l=N(),D(t,"class","table-skeleton svelte-urq83"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),I(t,l),s=!0},p(i,o){},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&v(t),S(n)}}}function qie(r){let e,t=[],n=new Map,l,s=r[0];const i=o=>o[2];for(let o=0;o<s.length;o+=1){let a=I3(r,s,o),u=i(a);n.set(u,t[o]=M3(u))}return{c(){e=M("div");for(let o=0;o<t.length;o+=1)t[o].c();D(e,"class","table-skeleton-container svelte-urq83")},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null);l=!0},p(o,[a]){a&1&&(s=o[0],G(),t=gt(t,a,i,1,o,s,n,e,bt,M3,null,I3),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(t[a]);l=!0}},o(o){for(let a=0;a<t.length;a+=1)g(t[a]);l=!1},d(o){o&&v(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Bie(r,e,t){let n,{numTables:l=9}=e;return r.$$set=s=>{"numTables"in s&&t(1,l=s.numTables)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=Array.from({length:l},(s,i)=>i))},[n,l]}class m8 extends x{constructor(e){super(),J(this,e,Bie,qie,Q,{numTables:1})}}function Uie(r){let e,t,n;return t=new pu({props:{loading:!0}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","exploration-skeleton-container svelte-1rmp9hx")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}class d8 extends x{constructor(e){super(),J(this,e,null,Uie,Q,{})}}function A3(r){let e,t;return e=new f8({props:{database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wie(r){let e,t,n=r[4]&&A3(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[4]?n?(n.p(l,s),s&16&&_(n,1)):(n=A3(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function jie(r){let e,t;return e=new o8({props:{canExecuteDDL:r[4],tables:[...r[0].values()],database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.canExecuteDDL=n[4]),l&1&&(s.tables=[...n[0].values()]),l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yie(r){let e,t;return e=new u8({props:{database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gie(r){let e,t;return e=new Yn({props:{$$slots:{default:[Qie]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&133188&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kie(r){let e,t;return e=new m8({props:{numTables:r[6].num_tables}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.numTables=n[6].num_tables),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xie(r){let e,t=r[11]("go_to_database")+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2048&&t!==(t=l[11]("go_to_database")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Qie(r){let e,t=r[2].errors[0]+"",n,l,s,i,o,a,u,c;return i=new Yr({props:{onClick:r[15],label:r[11]("retry"),icon:ms}}),u=new dt({props:{$$slots:{default:[Xie]},$$scope:{ctx:r}}}),{c(){e=M("p"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment),o=N(),a=M("a"),C(u.$$.fragment),D(a,"href","../")},m(f,m){w(f,e,m),I(e,n),w(f,l,m),w(f,s,m),y(i,s,null),I(s,o),I(s,a),y(u,a,null),c=!0},p(f,m){(!c||m&4)&&t!==(t=f[2].errors[0]+"")&&Y(n,t);const d={};m&64&&(d.onClick=f[15]),m&2048&&(d.label=f[11]("retry")),i.$set(d);const p={};m&133120&&(p.$$scope={dirty:m,ctx:f}),u.$set(p)},i(f){c||(_(i.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(i.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),f&&v(l),f&&v(s),S(i),S(u)}}}function Zie(r){let e,t;return e=new a8({props:{bordered:!1,explorations:[...r[1].values()],database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.explorations=[...n[1].values()]),l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jie(r){let e,t;return e=new c8({props:{database:r[5],schema:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.database=n[5]),l&64&&(s.schema=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xie(r){let e,t;return e=new Yn({props:{$$slots:{default:[noe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&133192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eoe(r){let e,t;return e=new d8({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function toe(r){let e,t=r[11]("go_to_database")+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2048&&t!==(t=l[11]("go_to_database")+"")&&Y(n,t)},d(l){l&&v(e)}}}function noe(r){let e,t=r[3].errors[0]+"",n,l,s,i,o,a,u,c;return i=new Yr({props:{onClick:r[16],label:r[11]("retry"),icon:ms}}),u=new dt({props:{$$slots:{default:[toe]},$$scope:{ctx:r}}}),{c(){e=M("p"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment),o=N(),a=M("a"),C(u.$$.fragment),D(a,"href","../")},m(f,m){w(f,e,m),I(e,n),w(f,l,m),w(f,s,m),y(i,s,null),I(s,o),I(s,a),y(u,a,null),c=!0},p(f,m){(!c||m&8)&&t!==(t=f[3].errors[0]+"")&&Y(n,t);const d={};m&64&&(d.onClick=f[16]),m&2048&&(d.label=f[11]("retry")),i.$set(d);const p={};m&133120&&(p.$$scope={dirty:m,ctx:f}),u.$set(p)},i(f){c||(_(i.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(i.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),f&&v(l),f&&v(s),S(i),S(u)}}}function P3(r){let e,t,n,l,s=r[11]("what_is_an_exploration_mini")+"",i,o,a,u,c;return t=new wf({props:{title:r[11]("explore_your_data")}}),u=new jr({props:{href:Mr(r[5].id,r[6].id),$$slots:{default:[roe]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("span"),i=q(s),o=N(),a=M("div"),C(u.$$.fragment),D(e,"class","vertical-container svelte-36ix5v")},m(f,m){w(f,e,m),y(t,e,null),I(e,n),I(e,l),I(l,i),I(e,o),I(e,a),y(u,a,null),c=!0},p(f,m){const d={};m&2048&&(d.title=f[11]("explore_your_data")),t.$set(d),(!c||m&2048)&&s!==(s=f[11]("what_is_an_exploration_mini")+"")&&Y(i,s);const p={};m&96&&(p.href=Mr(f[5].id,f[6].id)),m&133120&&(p.$$scope={dirty:m,ctx:f}),u.$set(p)},i(f){c||(_(t.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(t.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),S(t),S(u)}}}function roe(r){let e=r[11]("open_data_explorer")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2048&&e!==(e=n[11]("open_data_explorer")+"")&&Y(t,e)},d(n){n&&v(t)}}}function loe(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h;n=new wf({props:{title:r[11]("tables"),$$slots:{action:[Wie]},$$scope:{ctx:r}}});const b=[Kie,Gie,Yie,jie],$=[];function k(O,R){return O[2].state==="processing"?0:O[2].state==="failure"?1:O[10]?2:3}s=k(r),i=$[s]=b[s](r),c=new wf({props:{title:r[11]("saved_explorations")}});const T=[eoe,xie,Jie,Zie],E=[];function A(O,R){return O[7]?0:O[3].state==="failure"?1:O[9]?2:3}m=A(r),d=E[m]=T[m](r);let P=r[8]&&P3(r);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),i.c(),o=N(),a=M("div"),u=M("div"),C(c.$$.fragment),f=N(),d.c(),p=N(),P&&P.c(),D(t,"class","vertical-container tables svelte-36ix5v"),D(u,"class","vertical-container svelte-36ix5v"),D(a,"class","vertical-container explorations svelte-36ix5v"),D(e,"class","container svelte-36ix5v")},m(O,R){w(O,e,R),I(e,t),y(n,t,null),I(t,l),$[s].m(t,null),I(e,o),I(e,a),I(a,u),y(c,u,null),I(u,f),E[m].m(u,null),I(a,p),P&&P.m(a,null),h=!0},p(O,[R]){const F={};R&2048&&(F.title=O[11]("tables")),R&131184&&(F.$$scope={dirty:R,ctx:O}),n.$set(F);let L=s;s=k(O),s===L?$[s].p(O,R):(G(),g($[L],1,1,()=>{$[L]=null}),K(),i=$[s],i?i.p(O,R):(i=$[s]=b[s](O),i.c()),_(i,1),i.m(t,null));const U={};R&2048&&(U.title=O[11]("saved_explorations")),c.$set(U);let W=m;m=A(O),m===W?E[m].p(O,R):(G(),g(E[W],1,1,()=>{E[W]=null}),K(),d=E[m],d?d.p(O,R):(d=E[m]=T[m](O),d.c()),_(d,1),d.m(u,null)),O[8]?P?(P.p(O,R),R&256&&_(P,1)):(P=P3(O),P.c(),_(P,1),P.m(a,null)):P&&(G(),g(P,1,1,()=>{P=null}),K())},i(O){h||(_(n.$$.fragment,O),_(i),_(c.$$.fragment,O),_(d),_(P),h=!0)},o(O){g(n.$$.fragment,O),g(i),g(c.$$.fragment,O),g(d),g(P),h=!1},d(O){O&&v(e),S(n),$[s].d(),S(c),E[m].d(),P&&P.d()}}}function soe(r,e,t){let n,l,s,i,o,a,u;Z(r,ge,E=>t(11,u=E));let{tablesMap:c}=e,{explorationsMap:f}=e,{tablesRequestStatus:m}=e,{explorationsRequestStatus:d}=e,{canExecuteDDL:p}=e,{canEditMetadata:h}=e,{database:b}=e,{schema:$}=e;const k=async()=>{await ii($.id)},T=async()=>{await Ga($.id)};return r.$$set=E=>{"tablesMap"in E&&t(0,c=E.tablesMap),"explorationsMap"in E&&t(1,f=E.explorationsMap),"tablesRequestStatus"in E&&t(2,m=E.tablesRequestStatus),"explorationsRequestStatus"in E&&t(3,d=E.explorationsRequestStatus),"canExecuteDDL"in E&&t(4,p=E.canExecuteDDL),"canEditMetadata"in E&&t(12,h=E.canEditMetadata),"database"in E&&t(5,b=E.database),"schema"in E&&t(6,$=E.schema)},r.$$.update=()=>{r.$$.dirty&1&&t(14,n=c.size>0),r.$$.dirty&2&&t(13,l=f.size>0),r.$$.dirty&16400&&t(10,s=!n&&p),r.$$.dirty&28672&&t(9,i=n&&!l&&h),r.$$.dirty&8&&t(7,o=d.state==="processing"),r.$$.dirty&24704&&t(8,a=n&&l&&!o)},[c,f,m,d,p,b,$,o,a,i,s,u,h,l,n,k,T]}class ioe extends x{constructor(e){super(),J(this,e,soe,loe,Q,{tablesMap:0,explorationsMap:1,tablesRequestStatus:2,explorationsRequestStatus:3,canExecuteDDL:4,canEditMetadata:12,database:5,schema:6})}}function R3(r){let e,t;return e=new f8({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ooe(r){let e,t,n=r[2]&&R3(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[2]?n?(n.p(l,s),s&4&&_(n,1)):(n=R3(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function O3(r){let e,t;return{c(){e=M("strong"),t=q(r[3])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&8&&Y(t,n[3])},d(n){n&&v(e)}}}function aoe(r){let e,t=r[10]==="searchValue"&&O3(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[10]==="searchValue"?t?t.p(n,l):(t=O3(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function uoe(r){let e,t,n;return t=new St({props:{text:r[6]("tables_matching_search",{values:{count:r[4].length}}),$$slots:{default:[aoe,({slotName:l})=>({10:l}),({slotName:l})=>l?1024:0]},$$scope:{ctx:r}}}),{c(){e=M("p"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&80&&(i.text=l[6]("tables_matching_search",{values:{count:l[4].length}})),s&3080&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function coe(r){let e,t;return e=new o8({props:{canExecuteDDL:r[2],tables:r[4],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.canExecuteDDL=n[2]),l&16&&(s.tables=n[4]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function foe(r){let e,t;return e=new u8({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function moe(r){let e,t,n,l;const s=[foe,coe],i=[];function o(a,u){return a[5]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function doe(r){let e,t,n;function l(i){r[9](i)}let s={searchPlaceholder:r[6]("search_tables"),$$slots:{content:[moe],resultInfo:[uoe],action:[ooe]},$$scope:{ctx:r}};return r[3]!==void 0&&(s.searchQuery=r[3]),e=new Ho({props:s}),Te.push(()=>Oe(e,"searchQuery",l)),e.$on("clear",r[7]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&64&&(a.searchPlaceholder=i[6]("search_tables")),o&2175&&(a.$$scope={dirty:o,ctx:i}),!t&&o&8&&(t=!0,a.searchQuery=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function _oe(r,e){return[...r.values()].filter(t=>t.name.toLowerCase().includes(e.trim().toLowerCase()))}function poe(r,e,t){let n,l,s;Z(r,ge,d=>t(6,s=d));let{tablesMap:i}=e,{database:o}=e,{schema:a}=e,{canExecuteDDL:u}=e,c="";function f(){t(3,c="")}function m(d){c=d,t(3,c)}return r.$$set=d=>{"tablesMap"in d&&t(8,i=d.tablesMap),"database"in d&&t(0,o=d.database),"schema"in d&&t(1,a=d.schema),"canExecuteDDL"in d&&t(2,u=d.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&260&&t(5,n=i.size===0&&u),r.$$.dirty&264&&t(4,l=_oe(i,c))},[o,a,u,c,l,n,s,f,i,m]}class goe extends x{constructor(e){super(),J(this,e,poe,doe,Q,{tablesMap:8,database:0,schema:1,canExecuteDDL:2})}}function hoe(r){let e=r[5]("open_data_explorer")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("open_data_explorer")+"")&&Y(t,e)},d(n){n&&v(t)}}}function boe(r){let e,t;return e=new jr({props:{href:Mr(r[0].id,r[1].id),$$slots:{default:[hoe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.href=Mr(n[0].id,n[1].id)),l&4128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function L3(r){let e,t;return{c(){e=M("strong"),t=q(r[2])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&4&&Y(t,n[2])},d(n){n&&v(e)}}}function $oe(r){let e,t=r[11]==="searchValue"&&L3(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[11]==="searchValue"?t?t.p(n,l):(t=L3(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function voe(r){let e,t,n;return t=new St({props:{text:r[5]("explorations_matching_search",{values:{count:r[3].length}}),$$slots:{default:[$oe,({slotName:l})=>({11:l}),({slotName:l})=>l?2048:0]},$$scope:{ctx:r}}}),{c(){e=M("p"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&40&&(i.text=l[5]("explorations_matching_search",{values:{count:l[3].length}})),s&6148&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function woe(r){let e,t;return e=new a8({props:{explorations:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.explorations=n[3]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function koe(r){let e,t;return e=new c8({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yoe(r){let e,t,n,l;const s=[koe,woe],i=[];function o(a,u){return a[4]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Soe(r){let e,t,n;function l(i){r[10](i)}let s={searchPlaceholder:r[5]("search_explorations"),$$slots:{content:[yoe],resultInfo:[voe],action:[boe]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.searchQuery=r[2]),e=new Ho({props:s}),Te.push(()=>Oe(e,"searchQuery",l)),e.$on("clear",r[6]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&32&&(a.searchPlaceholder=i[5]("search_explorations")),o&4159&&(a.$$scope={dirty:o,ctx:i}),!t&&o&4&&(t=!0,a.searchQuery=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Coe(r,e){return[...r.values()].filter(t=>t.name.toLowerCase().includes(e.trim().toLowerCase()))}function Toe(r,e,t){let n,l,s;Z(r,ge,p=>t(5,s=p));let{database:i}=e,{schema:o}=e,{explorationsMap:a}=e,{hasTablesToExplore:u}=e,{canEditMetadata:c}=e,f="";function m(){t(2,f="")}function d(p){f=p,t(2,f)}return r.$$set=p=>{"database"in p&&t(0,i=p.database),"schema"in p&&t(1,o=p.schema),"explorationsMap"in p&&t(7,a=p.explorationsMap),"hasTablesToExplore"in p&&t(8,u=p.hasTablesToExplore),"canEditMetadata"in p&&t(9,c=p.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&896&&t(4,n=a.size===0&&u&&c),r.$$.dirty&132&&t(3,l=Coe(a,f))},[i,o,f,l,n,s,m,a,u,c,d]}class Eoe extends x{constructor(e){super(),J(this,e,Toe,Soe,Q,{database:0,schema:1,explorationsMap:7,hasTablesToExplore:8,canEditMetadata:9})}}function Doe(r){let e,t;return e=new Yn({props:{$$slots:{default:[Aoe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32800&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ioe(r){let e,t=r[4]("loading")+"",n;return{c(){e=M("div"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&16&&t!==(t=l[4]("loading")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function Moe(r){let e,t;return e=new Ny({props:{accessControlObject:"schema",usersWithAccess:r[6],usersWithoutAccess:r[7],addAccessForUser:r[9],removeAccessForUser:r[10],getUserRoles:r[11]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.usersWithAccess=n[6]),l&128&&(s.usersWithoutAccess=n[7]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Aoe(r){let e=r[5].errors.join(", ")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5].errors.join(", ")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Poe(r){let e,t,n,l;const s=[Moe,Ioe,Doe],i=[];function o(a,u){var c,f,m;return((c=a[5])==null?void 0:c.state)==="success"?0:((f=a[5])==null?void 0:f.state)==="processing"?1:((m=a[5])==null?void 0:m.state)==="failure"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function N3(r){let e,t;return e=new vr({props:{$$slots:{default:[Roe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32770&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Roe(r){let e=r[1].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function Ooe(r){let e,t,n=r[14]==="databaseName"&&N3(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[14]==="databaseName"?n?(n.p(l,s),s&16384&&_(n,1)):(n=N3(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Loe(r){let e,t;return e=new St({props:{text:r[4]("manage_schema_access"),$$slots:{default:[Ooe,({slotName:n})=>({14:n}),({slotName:n})=>n?16384:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.text=n[4]("manage_schema_access")),l&49154&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Noe(r){let e,t;return e=new al({props:{controller:r[0],size:"medium",closeOn:["button","esc","overlay"],$$slots:{title:[Loe],default:[Poe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&33010&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Foe(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(l,A=>t(6,o=A)),l),c,f=j,m=()=>(f(),f=ue(n,A=>t(7,c=A)),n);Z(r,ge,A=>t(4,s=A)),r.$$.on_destroy.push(()=>a()),r.$$.on_destroy.push(()=>f());let{controller:d}=e,{database:p}=e,{schema:h}=e;const b=xf(),{requestStatus:$}=b;Z(r,$,A=>t(5,i=A));async function k(A,P){await b.addSchemaRoleForUser(A.id,h,P)}async function T(A){await b.removeSchemaAccessForUser(A.id,h)}function E(A){const P=new Map,O=A.getRoleForDb(p);O&&P.set("database",O.role);const R=A.getRoleForSchema(h);return R&&P.set("schema",R.role),P.size?P:void 0}return r.$$set=A=>{"controller"in A&&t(0,d=A.controller),"database"in A&&t(12,p=A.database),"schema"in A&&t(1,h=A.schema)},r.$$.update=()=>{r.$$.dirty&2&&m(t(3,n=b.getNormalUsersWithoutDirectSchemaRole(h))),r.$$.dirty&4098&&u(t(2,l=b.getUsersWithAccessToSchema(p,h)))},[d,h,l,n,s,i,o,c,$,k,T,E,p]}class Hoe extends x{constructor(e){super(),J(this,e,Foe,Noe,Q,{controller:0,database:12,schema:1})}}function zoe(r){let e,t,n,l;const s=[Uoe,Boe],i=[];function o(a,u){return a[9].state==="processing"?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","tab-container svelte-jadtkf")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function Voe(r){let e,t,n,l;const s=[joe,Woe],i=[];function o(a,u){return a[10].state==="processing"?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","tab-container svelte-jadtkf")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function qoe(r){let e,t,n;return t=new ioe({props:{canExecuteDDL:r[5],canEditMetadata:r[12],tablesRequestStatus:r[10],tablesMap:r[4],explorationsMap:r[3],database:r[0],schema:r[1],explorationsRequestStatus:r[9]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","tab-container svelte-jadtkf")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&32&&(i.canExecuteDDL=l[5]),s&4096&&(i.canEditMetadata=l[12]),s&1024&&(i.tablesRequestStatus=l[10]),s&16&&(i.tablesMap=l[4]),s&8&&(i.explorationsMap=l[3]),s&1&&(i.database=l[0]),s&2&&(i.schema=l[1]),s&512&&(i.explorationsRequestStatus=l[9]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Boe(r){let e,t;return e=new Eoe({props:{canEditMetadata:r[12],hasTablesToExplore:!!r[4].size,explorationsMap:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4096&&(s.canEditMetadata=n[12]),l&16&&(s.hasTablesToExplore=!!n[4].size),l&8&&(s.explorationsMap=n[3]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Uoe(r){let e,t;return e=new d8({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Woe(r){let e,t;return e=new goe({props:{canExecuteDDL:r[5],tablesMap:r[4],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.canExecuteDDL=n[5]),l&16&&(s.tablesMap=n[4]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function joe(r){let e,t;return e=new m8({props:{numTables:r[1].num_tables}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.numTables=n[1].num_tables),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Yoe(r){let e,t,n,l;const s=[qoe,Voe,zoe],i=[];function o(a,u){var c,f,m;return((c=a[8])==null?void 0:c.id)==="overview"?0:((f=a[8])==null?void 0:f.id)==="tables"?1:((m=a[8])==null?void 0:m.id)==="explorations"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function F3(r){let e,t=r[24].count+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","count svelte-jadtkf")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&16777216&&t!==(t=l[24].count+"")&&Y(n,t)},d(l){l&&v(e)}}}function Goe(r){let e,t,n=r[24].label+"",l,s,i=r[24].count!==void 0&&F3(r);return{c(){e=M("div"),t=M("span"),l=q(n),s=N(),i&&i.c(),D(e,"slot","tab"),D(e,"class","tab-header-container svelte-jadtkf")},m(o,a){w(o,e,a),I(e,t),I(t,l),I(e,s),i&&i.m(e,null)},p(o,a){a&16777216&&n!==(n=o[24].label+"")&&Y(l,n),o[24].count!==void 0?i?i.p(o,a):(i=F3(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},d(o){o&&v(e),i&&i.d()}}}function Koe(r){let e,t;return e=new gu({props:{activeTab:r[8],tabs:r[2],uniformTabWidth:!1,$$slots:{tab:[Goe,({tab:n})=>({24:n}),({tab:n})=>n?16777216:0],default:[Yoe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.activeTab=n[8]),l&4&&(s.tabs=n[2]),l&50337595&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function H3(r){let e,t;return e=new dt({props:{appearance:"secondary",$$slots:{default:[Xoe]},$$scope:{ctx:r}}}),e.$on("click",r[16]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&33554496&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xoe(r){let e,t,n,l=r[6]("edit_schema")+"",s,i;const o=[vl];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(vl)]):{};e.$set(f),(!i||c&64)&&l!==(l=u[6]("edit_schema")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function z3(r){let e,t;return e=new dt({props:{appearance:"secondary",$$slots:{default:[Qoe]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&33554496&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qoe(r){let e,t,n,l=r[6]("manage_access")+"",s,i;const o=[Ta];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(Ta)]):{};e.$set(f),(!i||c&64)&&l!==(l=u[6]("manage_access")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Zoe(r){let e,t,n,l=!r[7]&&r[5]&&H3(r),s=r[11]&&z3(r);return{c(){e=M("div"),l&&l.c(),t=N(),s&&s.c(),D(e,"slot","action")},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,o){!i[7]&&i[5]?l?(l.p(i,o),o&160&&_(l,1)):(l=H3(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[11]?s?(s.p(i,o),o&2048&&_(s,1)):(s=z3(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function V3(r){let e,t=r[1].description+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","description")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1].description+"")&&Y(n,t)},d(l){l&&v(e)}}}function Joe(r){let e,t=r[1].description&&V3(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[1].description?t?t.p(n,l):(t=V3(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function xoe(r){let e,t;return e=new Bm({props:{slot:"secondary-header",theme:"light",pageTitleAndMetaProps:{name:r[1].name,type:"schema",icon:ei},$$slots:{bottom:[Joe],action:[Zoe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.pageTitleAndMetaProps={name:n[1].name,type:"schema",icon:ei}),l&33556706&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eae(r){let e,t,n,l,s,i,o,a;return document.title=e=Pn(r[1].name),n=new kr({props:{restrictWidth:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-console-pages)"},$$slots:{"secondary-header":[xoe],default:[Koe]},$$scope:{ctx:r}}}),s=new Fy({props:{controller:r[14],database:r[0],schema:r[1]}}),o=new Hoe({props:{controller:r[15],database:r[0],schema:r[1]}}),{c(){t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment)},m(u,c){w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,[c]){(!a||c&2)&&e!==(e=Pn(u[1].name))&&(document.title=e);const f={};c&33562623&&(f.$$scope={dirty:c,ctx:u}),n.$set(f);const m={};c&1&&(m.database=u[0]),c&2&&(m.schema=u[1]),s.$set(m);const d={};c&1&&(d.database=u[0]),c&2&&(d.schema=u[1]),o.$set(d)},i(u){a||(_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){u&&v(t),S(n,u),u&&v(l),S(s,u),u&&v(i),S(o,u)}}}function tae(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k;Z(r,ge,U=>t(6,p=U)),Z(r,Ss,U=>t(20,h=U)),Z(r,fn,U=>t(21,b=U)),Z(r,Xu,U=>t(22,$=U));let{database:T}=e,{schema:E}=e,{section:A}=e;const P=Zt();Z(r,P,U=>t(23,k=U));const O=Bn.spawnModalController(),R=Bn.spawnModalController();function F(){O.open()}function L(){R.open()}return Eee("opened_schema",{database_name:T.nickname,schema_name:E.name,source:"schema_page"}),r.$$set=U=>{"database"in U&&t(0,T=U.database),"schema"in U&&t(1,E=U.schema),"section"in U&&t(18,A=U.section)},r.$$.update=()=>{var U,W;r.$$.dirty&8388608&&t(19,n=k),r.$$.dirty&524291&&t(5,l=(U=n==null?void 0:n.hasPermission({database:T,schema:E},"canExecuteDDL"))!=null?U:!1),r.$$.dirty&524291&&t(12,s=(W=n==null?void 0:n.hasPermission({database:T,schema:E},"canEditMetadata"))!=null?W:!1),r.$$.dirty&524291&&t(11,i=n==null?void 0:n.hasPermission({database:T,schema:E},"canEditPermissions")),r.$$.dirty&6291488&&t(4,o=l?b.data:$),r.$$.dirty&1048576&&t(3,a=h.data),r.$$.dirty&2097152&&t(10,u=b.requestStatus),r.$$.dirty&1048576&&t(9,c=h.requestStatus),r.$$.dirty&91&&t(2,f=[{label:p("overview"),id:"overview",href:br(T.id,E.id)},{label:p("tables"),id:"tables",count:o.size,href:gk(T.id,E.id)},{label:p("explorations"),id:"explorations",count:a.size,href:hk(T.id,E.id)}]),r.$$.dirty&262148&&t(8,m=f.find(H=>H.id===A)||f[0]),r.$$.dirty&2&&t(7,d=E.name==="public")},[T,E,f,a,o,l,p,d,m,c,u,i,s,P,O,R,F,L,A,n,h,b,$,k]}class nae extends x{constructor(e){super(),J(this,e,tae,eae,Q,{database:0,schema:1,section:18})}}const rae=r=>({meta:r&64}),q3=r=>({meta:r[6]});function lae(r){let e,t,n;e=new qm({props:{meta:r[6]}}),e.$on("load",r[3]),e.$on("unload",r[4]);const l=r[2].default,s=Ie(l,r,r[5],q3);return{c(){C(e.$$.fragment),t=N(),s&&s.c()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),n=!0},p(i,o){const a={};o&64&&(a.meta=i[6]),e.$set(a),s&&s.p&&(!n||o&96)&&Ae(s,l,i,i[5],n?Me(l,i[5],o,rae):Pe(i[5]),q3)},i(i){n||(_(e.$$.fragment,i),_(s,i),n=!0)},o(i){g(e.$$.fragment,i),g(s,i),n=!1},d(i){S(e,i),i&&v(t),s&&s.d(i)}}}function sae(r){let e,t;return e=new Wt({props:{path:r[0],firstmatch:r[1],$$slots:{default:[lae,({meta:n})=>({6:n}),({meta:n})=>n?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.path=n[0]),l&2&&(s.firstmatch=n[1]),l&96&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function iae(r,e,t){let{$$slots:n={},$$scope:l}=e,{path:s}=e,{firstmatch:i=!1}=e;function o(u){ye.call(this,r,u)}function a(u){ye.call(this,r,u)}return r.$$set=u=>{"path"in u&&t(0,s=u.path),"firstmatch"in u&&t(1,i=u.firstmatch),"$$scope"in u&&t(5,l=u.$$scope)},[s,i,n,o,a,l]}class oae extends x{constructor(e){super(),J(this,e,iae,sae,Q,{path:0,firstmatch:1})}}const aae=r=>({meta:r&2,path:r&2}),B3=r=>({meta:r[1].meta,path:r[1].routePath.name});function U3(r,e,t){const n=r.slice();return n[8]=e[t],n}function W3(r,e){let t,n,l;function s(...o){return e[6](e[8],...o)}function i(){return e[7](e[8])}return n=new oae({props:{path:e[8].path,firstmatch:!0}}),n.$on("load",s),n.$on("unload",i),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a&1&&(u.path=e[8].path),n.$set(u)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&v(t),S(n,o)}}}function j3(r){let e;const t=r[5].default,n=Ie(t,r,r[4],B3);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&18)&&Ae(n,t,l,l[4],e?Me(t,l[4],s,aae):Pe(l[4]),B3)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function uae(r){let e=[],t=new Map,n,l,s,i=r[0];const o=u=>u[8].name;for(let u=0;u<i.length;u+=1){let c=U3(r,i,u),f=o(c);t.set(f,e[u]=W3(f,c))}let a=r[1]&&j3(r);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=N(),a&&a.c(),l=oe()},m(u,c){for(let f=0;f<e.length;f+=1)e[f].m(u,c);w(u,n,c),a&&a.m(u,c),w(u,l,c),s=!0},p(u,[c]){c&13&&(i=u[0],G(),e=gt(e,c,o,1,u,i,t,n.parentNode,bt,W3,n,U3),K()),u[1]?a?(a.p(u,c),c&2&&_(a,1)):(a=j3(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){if(!s){for(let c=0;c<i.length;c+=1)_(e[c]);_(a),s=!0}},o(u){for(let c=0;c<e.length;c+=1)g(e[c]);g(a),s=!1},d(u){for(let c=0;c<e.length;c+=1)e[c].d(u);u&&v(n),a&&a.d(u),u&&v(l)}}}function cae(r,e,t){let{$$slots:n={},$$scope:l}=e,{paths:s}=e,i;function o(f,m){t(1,i={routePath:f,meta:m})}async function a(f){await on(),(i==null?void 0:i.routePath)===f&&t(1,i=void 0)}const u=(f,m)=>o(f,m.detail),c=f=>a(f);return r.$$set=f=>{"paths"in f&&t(0,s=f.paths),"$$scope"in f&&t(4,l=f.$$scope)},[s,i,o,a,l,n,u,c]}class Y3 extends x{constructor(e){super(),J(this,e,cae,uae,Q,{paths:0})}}function fae(r){let e,t;return e=new Nse({props:{queryManager:r[0],canEditMetadata:r[1]}}),e.$on("close",r[7]),e.$on("delete",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.queryManager=n[0]),l&2&&(s.canEditMetadata=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mae(r){var s;let e,t,n,l;return document.title=e=Pn((s=r[3].name)!=null?s:r[4]("data_explorer")),n=new kr({props:{fitViewport:!0,$$slots:{default:[fae]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,[o]){var u;(!l||o&24)&&e!==(e=Pn((u=i[3].name)!=null?u:i[4]("data_explorer")))&&(document.title=e);const a={};o&2051&&(a.$$scope={dirty:o,ctx:i}),n.$set(a)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&v(t),S(n,i)}}}function dae(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,b=>t(3,s=b)),n),a,u;Z(r,ge,b=>t(4,u=b)),r.$$.on_destroy.push(()=>i());const c=Zt();Z(r,c,b=>t(10,a=b));let{database:f}=e,{schema:m}=e,{queryManager:d}=e;function p(){un.goto(br(f.id,m.id))}function h(){s.id&&un.goto(Xl(f.id,m.id,s.id))}return r.$$set=b=>{"database"in b&&t(8,f=b.database),"schema"in b&&t(9,m=b.schema),"queryManager"in b&&t(0,d=b.queryManager)},r.$$.update=()=>{var b;r.$$.dirty&1&&o(t(2,{query:n}=d,n)),r.$$.dirty&1792&&t(1,l=(b=a==null?void 0:a.hasPermission({database:f,schema:m},"canEditMetadata"))!=null?b:!1)},[d,l,n,s,u,c,p,h,f,m,a]}class _ae extends x{constructor(e){super(),J(this,e,dae,mae,Q,{database:8,schema:9,queryManager:0})}}function pae(r){let e,t;return e=new Wn({props:{item:{type:"simple",href:Mr(r[0].id,r[1].id),label:r[6]("data_explorer"),icon:zn}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&67&&(s.item={type:"simple",href:Mr(n[0].id,n[1].id),label:n[6]("data_explorer"),icon:zn}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gae(r){let e,t,n,l;const s=[bae,hae],i=[];function o(a,u){return a[5].name?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function hae(r){let e,t;return e=new Wn({props:{item:{type:"simple",href:yl(r[0].id,r[1].id,r[5].id),label:r[6]("data_explorer"),icon:zn}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&99&&(s.item={type:"simple",href:yl(n[0].id,n[1].id,n[5].id),label:n[6]("data_explorer"),icon:zn}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bae(r){let e,t,n,l;return e=new Wn({props:{item:{type:"exploration",database:r[0],schema:r[1],query:{id:r[5].id,name:r[5].name}}}}),n=new Wn({props:{item:{type:"simple",href:yl(r[0].id,r[1].id,r[5].id),label:r[6]("edit"),icon:vl}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&35&&(o.item={type:"exploration",database:s[0],schema:s[1],query:{id:s[5].id,name:s[5].name}}),e.$set(o);const a={};i&99&&(a.item={type:"simple",href:yl(s[0].id,s[1].id,s[5].id),label:s[6]("edit"),icon:vl}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function $ae(r){let e,t;return e=new Ll({props:{$$slots:{default:[wae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&65600&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vae(r){let e,t;return e=new _ae({props:{queryManager:r[3],database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.queryManager=n[3]),l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wae(r){let e=r[6]("exploration_not_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[6]("exploration_not_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function kae(r){let e,t,n,l,s,i,o;const a=[gae,pae],u=[];function c(p,h){var b;return(b=p[5])!=null&&b.id?0:1}e=c(r),t=u[e]=a[e](r);const f=[vae,$ae],m=[];function d(p,h){return p[3]?0:p[2]?1:-1}return~(l=d(r))&&(s=m[l]=f[l](r)),{c(){t.c(),n=N(),s&&s.c(),i=oe()},m(p,h){u[e].m(p,h),w(p,n,h),~l&&m[l].m(p,h),w(p,i,h),o=!0},p(p,[h]){let b=e;e=c(p),e===b?u[e].p(p,h):(G(),g(u[b],1,1,()=>{u[b]=null}),K(),t=u[e],t?t.p(p,h):(t=u[e]=a[e](p),t.c()),_(t,1),t.m(n.parentNode,n));let $=l;l=d(p),l===$?~l&&m[l].p(p,h):(s&&(G(),g(m[$],1,1,()=>{m[$]=null}),K()),~l?(s=m[l],s?s.p(p,h):(s=m[l]=f[l](p),s.c()),_(s,1),s.m(i.parentNode,i)):s=null)},i(p){o||(_(t),_(s),o=!0)},o(p){g(t),g(s),o=!1},d(p){u[e].d(p),p&&v(n),~l&&m[l].d(p),p&&v(i)}}}function yae(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(h,A=>t(5,s=A)),h),a;Z(r,un,A=>t(9,n=A)),Z(r,wr,A=>t(10,l=A)),Z(r,ge,A=>t(6,a=A)),r.$$.on_destroy.push(()=>i());let{database:u}=e,{schema:c}=e,{queryId:f}=e,m=!1,d,p,h=Ul(void 0);o();function b(A){d==null||d.destroy(),t(3,d=new ec({query:new qn(A),abstractTypeMap:l.data,onSave:async P=>{try{const O=yl(u.id,c.id,P.id);un.goto(O,!0)}catch(O){console.error("There was an error when updating the URL",O)}}})),o(t(4,h=d.query)),t(2,m=!1)}function $(){d==null||d.destroy(),t(2,m=!0),o(t(4,h=Ul(void 0))),t(3,d=void 0)}function k(){if(d&&typeof d.getQueryModel().id>"u")return;const{hash:A}=n;if(A)try{const P=Hse(A);un.location.hash.clear(),b(P!=null?P:{});return}catch(P){console.error("Unable to create query model from hash",A)}b({})}async function T(A){if(Number.isNaN(A)){$();return}if(!(d&&d.getQueryModel().id===A)){p==null||p.cancel(),p=HY(A);try{const P=await p;b(P)}catch(P){$()}}}function E(A){A?T(A):k()}return r.$$set=A=>{"database"in A&&t(0,u=A.database),"schema"in A&&t(1,c=A.schema),"queryId"in A&&t(7,f=A.queryId)},r.$$.update=()=>{r.$$.dirty&128&&E(f)},[u,c,m,d,h,s,a,f]}class Sae extends x{constructor(e){super(),J(this,e,yae,kae,Q,{database:0,schema:1,queryId:7})}}function Cae(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p=j,h=()=>(p(),p=ue(m,Re=>t(16,d=Re)),m),b,$=j,k=()=>($(),$=ue(o,Re=>t(17,b=Re)),o),T,E=j,A=()=>(E(),E=ue(i,Re=>t(27,T=Re)),i),P,O=j,R=()=>(O(),O=ue(c,Re=>t(18,P=Re)),c),F,L=j,U=()=>(L(),L=ue(f,Re=>t(19,F=Re)),f),W,H=j,z=()=>(H(),H=ue(u,Re=>t(20,W=Re)),u),te,se=j,B=()=>(se(),se=ue(a,Re=>t(21,te=Re)),a),V;r.$$.on_destroy.push(()=>p()),r.$$.on_destroy.push(()=>$()),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>se());const ee=Ft();Z(r,ee,Re=>t(22,V=Re));let{api:ie}=e,_e,ae,fe,Ue;d7(()=>{t(9,_e=te),t(10,ae=W),t(11,fe=P),t(12,Ue=F)});let ve=0,Se=0,ke,Fe;async function we(Re,Ge){var ot,lt;if(ke!==P||P.entries.length>0&&Fe!==Re){await on(),ie.recalculateHeightsAfterIndex(0),ke=P,Fe=Re;return}const Je=(ot=Ge.length)!=null?ot:0,Ke=(lt=T.length)!=null?lt:0;if(ve!==Ke){const ze=Math.max(Se-ve-3,0);await on(),ve<Ke&&ie.scrollToBottom(),ve=Ke,Se=Je,ie.recalculateHeightsAfterIndex(ze)}}return r.$$set=Re=>{"api"in Re&&t(8,ie=Re.api)},r.$$.update=()=>{r.$$.dirty&4194304&&t(15,{recordsData:n,display:l,meta:s}=V,n,(t(13,l),t(22,V)),(t(14,s),t(22,V))),r.$$.dirty&32768&&A(t(6,{newRecords:i,state:o}=n,i,k(t(5,o)))),r.$$.dirty&16384&&B(t(4,{sorting:a,filtering:u,grouping:c,pagination:f}=s,a,z(t(3,u)),R(t(2,c)),U(t(1,f)))),r.$$.dirty&8192&&h(t(0,{displayableRecords:m}=l,m)),r.$$.dirty&3940096&&(_e!==te||ae!==W||fe!==P||Ue!==F)&&ie.scrollToTop(),r.$$.dirty&196608&&we(b,d)},[m,f,c,u,a,o,i,ee,ie,_e,ae,fe,Ue,l,s,n,d,b,P,F,W,te,V]}class Tae extends x{constructor(e){super(),J(this,e,Cae,null,Q,{api:8})}}function Eae(r){let e,t=r[1]("new_records_reposition_refresh")+"",n,l,s=[{class:"new-record-message"},r[2],{style:l=r[3]+";min-width:400px;"}],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("div"),n=q(t),ct(e,i),re(e,"svelte-l483ej",!0)},m(o,a){w(o,e,a),I(e,n)},p(o,a){a&2&&t!==(t=o[1]("new_records_reposition_refresh")+"")&&Y(n,t),ct(e,i=de(s,[{class:"new-record-message"},a&4&&o[2],a&8&&l!==(l=o[3]+";min-width:400px;")&&{style:l}])),re(e,"svelte-l483ej",!0)},d(o){o&&v(e)}}}function Dae(r){let e,t;return e=new v5({props:{index:0,columnSpan:r[0]+1,$$slots:{default:[Eae,({htmlAttributes:n,style:l})=>({2:n,3:l}),({htmlAttributes:n,style:l})=>(n?4:0)|(l?8:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.columnSpan=n[0]+1),l&30&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Iae(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{columnCount:l}=e;return r.$$set=s=>{"columnCount"in s&&t(0,l=s.columnCount)},[l,n]}class Mae extends x{constructor(e){super(),J(this,e,Iae,Dae,Q,{columnCount:0})}}function G3(r){let e,t;return{c(){e=M("span"),t=q(r[2]),D(e,"class","preproc svelte-11781fh")},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&4&&Y(t,n[2])},d(n){n&&v(e)}}}function Aae(r){let e,t;return e=new Po({props:{value:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.value=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pae(r){let e,t;return e=new Bu({props:{recordSummary:r[6],recordId:r[4],recordPageHref:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.recordSummary=n[6]),l&16&&(s.recordId=n[4]),l&32&&(s.recordPageHref=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rae(r){var h,b;let e,t,n=((b=(h=r[0].get(r[1]))==null?void 0:h.column.name)!=null?b:"")+"",l,s,i,o,a,u,c,f=r[2]&&G3(r);const m=[Pae,Aae],d=[];function p($,k){return $[6]?0:1}return a=p(r),u=d[a]=m[a](r),{c(){e=M("span"),t=M("span"),l=q(n),s=N(),f&&f.c(),i=N(),o=M("span"),u.c(),D(t,"class","name svelte-11781fh"),D(o,"class","value svelte-11781fh"),D(e,"class","tag svelte-11781fh")},m($,k){w($,e,k),I(e,t),I(t,l),I(t,s),f&&f.m(t,null),I(e,i),I(e,o),d[a].m(o,null),c=!0},p($,[k]){var E,A;(!c||k&3)&&n!==(n=((A=(E=$[0].get($[1]))==null?void 0:E.column.name)!=null?A:"")+"")&&Y(l,n),$[2]?f?f.p($,k):(f=G3($),f.c(),f.m(t,null)):f&&(f.d(1),f=null);let T=a;a=p($),a===T?d[a].p($,k):(G(),g(d[T],1,1,()=>{d[T]=null}),K(),u=d[a],u?u.p($,k):(u=d[a]=m[a]($),u.c()),_(u,1),u.m(o,null))},i($){c||(_(u),c=!0)},o($){g(u),c=!1},d($){$&&v(e),f&&f.d(),d[a].d()}}}function Oae(r,e,t){let n,l,s,i;Z(r,ns,m=>t(8,i=m));let{processedColumnsMap:o}=e,{recordSummariesForSheet:a}=e,{columnId:u}=e,{preprocName:c=void 0}=e,{cellValue:f=void 0}=e;return r.$$set=m=>{"processedColumnsMap"in m&&t(0,o=m.processedColumnsMap),"recordSummariesForSheet"in m&&t(7,a=m.recordSummariesForSheet),"columnId"in m&&t(1,u=m.columnId),"preprocName"in m&&t(2,c=m.preprocName),"cellValue"in m&&t(3,f=m.cellValue)},r.$$.update=()=>{var m,d,p;r.$$.dirty&8&&t(4,n=String(f)),r.$$.dirty&146&&t(6,l=(m=a.get(String(u)))==null?void 0:m.get(n)),r.$$.dirty&275&&t(5,s=i({tableId:(p=(d=o==null?void 0:o.get(u))==null?void 0:d.linkFk)==null?void 0:p.referent_table,recordId:n}))},[o,u,c,f,n,s,l,a,i]}class Lae extends x{constructor(e){super(),J(this,e,Oae,Rae,Q,{processedColumnsMap:0,recordSummariesForSheet:7,columnId:1,preprocName:2,cellValue:3})}}function K3(r,e,t){const n=r.slice();return n[11]=e[t],n[13]=t,n}function X3(r,e){let t,n,l;return n=new Lae({props:{processedColumnsMap:e[0],cellValue:e[1].groupValues?e[1].groupValues[e[11]]:void 0,recordSummariesForSheet:e[3],columnId:e[11],preprocName:e[5][e[13]]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1&&(o.processedColumnsMap=e[0]),i&18&&(o.cellValue=e[1].groupValues?e[1].groupValues[e[11]]:void 0),i&8&&(o.recordSummariesForSheet=e[3]),i&16&&(o.columnId=e[11]),i&48&&(o.preprocName=e[5][e[13]]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function Nae(r){let e=r[2].count+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2].count+"")&&Y(t,e)},d(n){n&&v(t)}}}function Fae(r){let e,t,n,l,s=[],i=new Map,o,a,u,c,f;t=new Dr({props:{color:"var(--sand-200)"}});let m=r[4];const d=b=>b[11];for(let b=0;b<m.length;b+=1){let $=K3(r,m,b),k=d($);i.set(k,s[b]=X3(k,$))}u=new If({props:{$$slots:{default:[Nae]},$$scope:{ctx:r}}});let p=[r[9],{style:c=r[10]},{class:"group-header"}],h={};for(let b=0;b<p.length;b+=1)h=le(h,p[b]);return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div");for(let b=0;b<s.length;b+=1)s[b].c();o=N(),a=M("div"),C(u.$$.fragment),D(a,"class","count-container svelte-1755rd0"),D(l,"class","groups-data svelte-1755rd0"),ct(e,h),re(e,"svelte-1755rd0",!0)},m(b,$){w(b,e,$),y(t,e,null),I(e,n),I(e,l);for(let k=0;k<s.length;k+=1)s[k].m(l,null);I(l,o),I(l,a),y(u,a,null),f=!0},p(b,$){$&59&&(m=b[4],G(),s=gt(s,$,d,1,b,m,i,l,bt,X3,o,K3),K());const k={};$&16388&&(k.$$scope={dirty:$,ctx:b}),u.$set(k),ct(e,h=de(p,[$&512&&b[9],(!f||$&1024&&c!==(c=b[10]))&&{style:c},{class:"group-header"}])),re(e,"svelte-1755rd0",!0)},i(b){if(!f){_(t.$$.fragment,b);for(let $=0;$<m.length;$+=1)_(s[$]);_(u.$$.fragment,b),f=!0}},o(b){g(t.$$.fragment,b);for(let $=0;$<s.length;$+=1)g(s[$]);g(u.$$.fragment,b),f=!1},d(b){b&&v(e),S(t);for(let $=0;$<s.length;$+=1)s[$].d();S(u)}}}function Hae(r){let e,t;return e=new v5({props:{index:0,columnSpan:r[0].size+1,$$slots:{default:[Fae,({htmlAttributes:n,style:l})=>({9:n,10:l}),({htmlAttributes:n,style:l})=>(n?512:0)|(l?1024:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.columnSpan=n[0].size+1),l&17983&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zae(r,e,t){let n,l,s,i,{processedColumnsMap:o}=e,{row:a}=e,{grouping:u}=e,{group:c}=e,{recordSummariesForSheet:f}=e;return r.$$set=m=>{"processedColumnsMap"in m&&t(0,o=m.processedColumnsMap),"row"in m&&t(1,a=m.row),"grouping"in m&&t(6,u=m.grouping),"group"in m&&t(2,c=m.group),"recordSummariesForSheet"in m&&t(3,f=m.recordSummariesForSheet)},r.$$.update=()=>{r.$$.dirty&64&&t(4,{columnIds:n,preprocIds:l}=u,n,(t(8,l),t(6,u))),r.$$.dirty&17&&t(7,s=n.map(m=>{var d,p;return(p=(d=o.get(m))==null?void 0:d.preprocFunctions)!=null?p:[]})),r.$$.dirty&384&&t(5,i=l.map((m,d)=>{var p;return m?(p=s[d].find(h=>h.id===m))==null?void 0:p.name:void 0}))},[o,a,c,f,n,i,u,s,l]}class Vae extends x{constructor(e){super(),J(this,e,zae,Hae,Q,{processedColumnsMap:0,row:1,grouping:6,group:2,recordSummariesForSheet:3})}}function qae(r){let e,t,n,l,s,i,o,a;return e=new Dr({props:{when:r[0],color:"var(--cell-bg-color-row-selected)"}}),n=new Dr({props:{when:r[1],color:"var(--cell-bg-color-processing)"}}),s=new Dr({props:{when:r[2],color:"var(--cell-bg-color-error)"}}),o=new Dr({props:{class:"cell-bg-row-hover",color:"var(--cell-bg-color-row-hover, var(--cell-bg-color-base, white))"}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,[c]){const f={};c&1&&(f.when=u[0]),e.$set(f);const m={};c&2&&(m.when=u[1]),n.$set(m);const d={};c&4&&(d.when=u[2]),s.$set(d)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&v(t),S(n,u),u&&v(l),S(s,u),u&&v(i),S(o,u)}}}function Bae(r,e,t){let{isSelected:n=!1}=e,{isProcessing:l=!1}=e,{hasErrors:s=!1}=e;return r.$$set=i=>{"isSelected"in i&&t(0,n=i.isSelected),"isProcessing"in i&&t(1,l=i.isProcessing),"hasErrors"in i&&t(2,s=i.hasErrors)},[n,l,s]}class _8 extends x{constructor(e){super(),J(this,e,Bae,qae,Q,{isSelected:0,isProcessing:1,hasErrors:2})}}class Uae extends Rw{async beginAddingNewFilteringEntry(e){await this.dispatch("openDropdown"),await on(),await this.dispatch("addFilter",e),await on(),await this.dispatch("activateLastFilterInput")}onOpenDropdown(e){return this.on("openDropdown",e)}onAddFilter(e){return this.on("addFilter",e)}onActivateLastFilterInput(e){return this.on("activateLastFilterInput",e)}}const p8=Symbol("ImperativeFilterController");function Wae(){const r=new Uae;return xn(p8,r),r}function Jm(){return Fn(p8)}function Q3(r){let e,t;return e=new Ir({props:{icon:Kl,href:r[4],$$slots:{default:[Gae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16&&(s.href=n[4]),l[0]&1025|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z3(r){let e,t;return e=new vr({props:{$$slots:{default:[jae]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jae(r){let e=r[0].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1&&e!==(e=n[0].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function Yae(r){let e,t,n=r[36]==="tableName"&&Z3(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[36]==="tableName"?n?(n.p(l,s),s[1]&32&&_(n,1)):(n=Z3(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Gae(r){let e,t;return e=new St({props:{text:r[10]("open_named_table"),$$slots:{default:[Yae,({slotName:n})=>({36:n}),({slotName:n})=>[0,n?32:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024&&(s.text=n[10]("open_named_table")),l[0]&1|l[1]&96&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function J3(r){let e,t;return e=new sn({props:{icon:SO,$$slots:{default:[Qae]},$$scope:{ctx:r}}}),e.$on("click",r[13]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1280|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kae(r){let e=r[10]("filter_column")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1024&&e!==(e=n[10]("filter_column")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Xae(r){let e=r[10]("add_filter")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1024&&e!==(e=n[10]("add_filter")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Qae(r){let e;function t(s,i){return s[8]>0?Xae:Kae}let n=t(r),l=n(r);return{c(){l.c(),e=oe()},m(s,i){l.m(s,i),w(s,e,i)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e.parentNode,e)))},d(s){l.d(s),s&&v(e)}}}function x3(r){let e,t;return e=new sn({props:{icon:EO,$$slots:{default:[Zae]},$$scope:{ctx:r}}}),e.$on("click",r[14]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1280|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Zae(r){let e=r[10]("remove_filters",{values:{count:r[8]}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1280&&e!==(e=n[10]("remove_filters",{values:{count:n[8]}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function Jae(r){let e,t;return e=new sn({props:{icon:Da,$$slots:{default:[eue]},$$scope:{ctx:r}}}),e.$on("click",r[33]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1088|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xae(r){let e,t;return e=new sn({props:{icon:Da,$$slots:{default:[tue]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1088|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eue(r){let e=r[10]("sort_type",{values:{sortingType:r[6].ASCENDING}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1088&&e!==(e=n[10]("sort_type",{values:{sortingType:n[6].ASCENDING}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function tue(r){let e=r[10]("remove_sorting_type",{values:{sortingType:r[6].ASCENDING}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1088&&e!==(e=n[10]("remove_sorting_type",{values:{sortingType:n[6].ASCENDING}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function nue(r){let e,t;return e=new sn({props:{icon:Ia,$$slots:{default:[lue]},$$scope:{ctx:r}}}),e.$on("click",r[34]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1088|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function rue(r){let e,t;return e=new sn({props:{icon:Ia,$$slots:{default:[sue]},$$scope:{ctx:r}}}),e.$on("click",r[15]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1088|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lue(r){let e=r[10]("sort_type",{values:{sortingType:r[6].DESCENDING}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1088&&e!==(e=n[10]("sort_type",{values:{sortingType:n[6].DESCENDING}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function sue(r){let e=r[10]("remove_sorting_type",{values:{sortingType:r[6].DESCENDING}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1088&&e!==(e=n[10]("remove_sorting_type",{values:{sortingType:n[6].DESCENDING}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function iue(r){let e,t;return e=new sn({props:{icon:Js,$$slots:{default:[aue]},$$scope:{ctx:r}}}),e.$on("click",r[17]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oue(r){let e,t;return e=new sn({props:{icon:Js,$$slots:{default:[uue]},$$scope:{ctx:r}}}),e.$on("click",r[18]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024|l[1]&64&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function aue(r){let e=r[10]("group_by_column")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1024&&e!==(e=n[10]("group_by_column")+"")&&Y(t,e)},d(n){n&&v(t)}}}function uue(r){let e=r[10]("remove_grouping")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1024&&e!==(e=n[10]("remove_grouping")+"")&&Y(t,e)},d(n){n&&v(t)}}}function cue(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p=r[0]&&r[4]&&Q3(r),h=r[9]&&J3(r),b=r[8]>0&&x3(r);const $=[xae,Jae],k=[];function T(L,U){return L[7]==="ASCENDING"?0:1}l=T(r),s=k[l]=$[l](r);const E=[rue,nue],A=[];function P(L,U){return L[7]==="DESCENDING"?0:1}o=P(r),a=A[o]=E[o](r);const O=[oue,iue],R=[];function F(L,U){return L[5]?0:1}return c=F(r),f=R[c]=O[c](r),{c(){p&&p.c(),e=N(),h&&h.c(),t=N(),b&&b.c(),n=N(),s.c(),i=N(),a.c(),u=N(),f.c(),m=oe()},m(L,U){p&&p.m(L,U),w(L,e,U),h&&h.m(L,U),w(L,t,U),b&&b.m(L,U),w(L,n,U),k[l].m(L,U),w(L,i,U),A[o].m(L,U),w(L,u,U),R[c].m(L,U),w(L,m,U),d=!0},p(L,U){L[0]&&L[4]?p?(p.p(L,U),U[0]&17&&_(p,1)):(p=Q3(L),p.c(),_(p,1),p.m(e.parentNode,e)):p&&(G(),g(p,1,1,()=>{p=null}),K()),L[9]?h?(h.p(L,U),U[0]&512&&_(h,1)):(h=J3(L),h.c(),_(h,1),h.m(t.parentNode,t)):h&&(G(),g(h,1,1,()=>{h=null}),K()),L[8]>0?b?(b.p(L,U),U[0]&256&&_(b,1)):(b=x3(L),b.c(),_(b,1),b.m(n.parentNode,n)):b&&(G(),g(b,1,1,()=>{b=null}),K());let W=l;l=T(L),l===W?k[l].p(L,U):(G(),g(k[W],1,1,()=>{k[W]=null}),K(),s=k[l],s?s.p(L,U):(s=k[l]=$[l](L),s.c()),_(s,1),s.m(i.parentNode,i));let H=o;o=P(L),o===H?A[o].p(L,U):(G(),g(A[H],1,1,()=>{A[H]=null}),K(),a=A[o],a?a.p(L,U):(a=A[o]=E[o](L),a.c()),_(a,1),a.m(u.parentNode,u));let z=c;c=F(L),c===z?R[c].p(L,U):(G(),g(R[z],1,1,()=>{R[z]=null}),K(),f=R[c],f?f.p(L,U):(f=R[c]=O[c](L),f.c()),_(f,1),f.m(m.parentNode,m))},i(L){d||(_(p),_(h),_(b),_(s),_(a),_(f),d=!0)},o(L){g(p),g(h),g(b),g(s),g(a),g(f),d=!1},d(L){p&&p.d(L),L&&v(e),h&&h.d(L),L&&v(t),b&&b.d(L),L&&v(n),k[l].d(L),L&&v(i),A[o].d(L),L&&v(u),R[c].d(L),L&&v(m)}}}function fue(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E=j,A=()=>(E(),E=ue(i,we=>t(26,T=we)),i),P,O=j,R=()=>(O(),O=ue(s,we=>t(27,P=we)),s),F,L=j,U=()=>(L(),L=ue(o,we=>t(28,F=we)),o),W,H,z,te,se;Z(r,Pm,we=>t(24,$=we)),Z(r,fn,we=>t(25,k=we)),Z(r,En,we=>t(30,H=we)),Z(r,On,we=>t(31,z=we)),Z(r,ge,we=>t(10,se=we)),r.$$.on_destroy.push(()=>E()),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>L());const B=Zt();Z(r,B,we=>t(32,te=we));let{processedColumn:V}=e;const ee=Jm(),ie=Ft();Z(r,ie,we=>t(29,W=we));function _e(){ee==null||ee.beginAddingNewFilteringEntry(a)}function ae(){o.update(we=>we.withoutColumns([a]))}function fe(){s.update(we=>we.without(a))}function Ue(we){s.update(Re=>Re.with(a,we))}function ve(){i.update(we=>we.withEntry({columnId:a,preprocFnId:void 0}))}function Se(){i.update(we=>we.withoutColumns([a]))}const ke=()=>Ue("ASCENDING"),Fe=()=>Ue("DESCENDING");return r.$$set=we=>{"processedColumn"in we&&t(19,V=we.processedColumn)},r.$$.update=()=>{r.$$.dirty[0]&1073741824|r.$$.dirty[1]&3&&t(23,n=!!(te!=null&&te.hasPermission({database:z,schema:H},"canViewLinkedEntities"))),r.$$.dirty[0]&8912896&&t(9,l=V.linkFk?n:!0),r.$$.dirty[0]&536870912&&R(t(2,{meta:{sorting:s,grouping:i,filtering:o}}=W,s,A(t(1,i)),U(t(3,o)))),r.$$.dirty[0]&524288&&t(20,a=V.id),r.$$.dirty[0]&269484032&&t(22,u=F.entries.filter(we=>we.columnId===a)),r.$$.dirty[0]&4194304&&t(8,c=u.length),r.$$.dirty[0]&134742016&&t(7,f=P.get(V.id)),r.$$.dirty[0]&524288&&t(6,m=g5(V.abstractType.cellInfo.type,!!V.linkFk)),r.$$.dirty[0]&68157440&&t(5,d=T.hasColumn(a)),r.$$.dirty[0]&524288&&t(21,{linkFk:p}=V,p),r.$$.dirty[0]&35651584&&t(0,h=p?k.data.get(p.referent_table):void 0),r.$$.dirty[0]&16777217&&t(4,b=h?$({tableId:h.id}):void 0)},[h,i,s,o,b,d,m,f,c,l,se,B,ie,_e,ae,fe,Ue,ve,Se,V,a,p,u,n,$,k,T,P,F,W,H,z,te,ke,Fe]}class g8 extends x{constructor(e){super(),J(this,e,fue,cue,Q,{processedColumn:19},null,[-1,-1])}}function e4(r){let e,t=r[0].join(" ")+"",n,l,s,i;return{c(){e=M("div"),n=q(t),D(e,"class","errors svelte-ahiogm")},m(o,a){w(o,e,a),I(e,n),s||(i=[Dn(ci.call(null,e)),Dn(l=Df.call(null,e,{reference:r[3],options:{placement:"top-start"}}))],s=!0)},p(o,a){a&1&&t!==(t=o[0].join(" ")+"")&&Y(n,t),l&&Pt(l.update)&&a&8&&l.update.call(null,{reference:o[3],options:{placement:"top-start"}})},d(o){o&&v(e),s=!1,It(i)}}}function mue(r){let e,t,n,l,s=r[3]&&r[2]&&e4(r);return{c(){e=Rt("svg"),t=Rt("path"),n=N(),s&&s.c(),l=oe(),D(t,"d","M 0 0 L 10 0 L 10 10 Z"),D(t,"class","svelte-ahiogm"),D(e,"class","error-indicator svelte-ahiogm"),D(e,"viewBox","0 0 10 10")},m(i,o){w(i,e,o),I(e,t),r[6](e),w(i,n,o),s&&s.m(i,o),w(i,l,o)},p(i,[o]){i[3]&&i[2]?s?s.p(i,o):(s=e4(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},i:j,o:j,d(i){i&&v(e),r[6](null),i&&v(n),s&&s.d(i),i&&v(l)}}}function due(r,e,t){let n,l,{errors:s}=e,{forceShowErrors:i=!1}=e,o,a=!1;function u(){t(5,a=!0)}function c(){t(5,a=!1)}_n(()=>{const m=o==null?void 0:o.parentElement;return m?(m.addEventListener("mouseenter",u),m.addEventListener("mouseleave",c),()=>{m.removeEventListener("mouseenter",u),m.removeEventListener("mouseleave",c)}):()=>{}});function f(m){Te[m?"unshift":"push"](()=>{o=m,t(1,o)})}return r.$$set=m=>{"errors"in m&&t(0,s=m.errors),"forceShowErrors"in m&&t(4,i=m.forceShowErrors)},r.$$.update=()=>{r.$$.dirty&2&&t(3,n=o==null?void 0:o.parentElement),r.$$.dirty&48&&t(2,l=a||i)},[s,o,l,n,i,a,f]}class h8 extends x{constructor(e){super(),J(this,e,due,mue,Q,{errors:0,forceShowErrors:4})}}function t4(r){let e,t;return e=new Ir({props:{href:r[4]({recordId:r[0]})||"",icon:hl,$$slots:{default:[_ue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&17&&(s.href=n[4]({recordId:n[0]})||""),l&16392&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _ue(r){let e=r[3]("go_to_record_page")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("go_to_record_page")+"")&&Y(t,e)},d(n){n&&v(t)}}}function n4(r){let e,t;return e=new sn({props:{icon:qt,$$slots:{default:[pue]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16392&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function pue(r){let e=r[3]("delete_records",{values:{count:1}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("delete_records",{values:{count:1}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function gue(r){let e,t,n,l=r[1]&&t4(r),s=r[2]&&n4(r);return{c(){l&&l.c(),e=N(),s&&s.c(),t=oe()},m(i,o){l&&l.m(i,o),w(i,e,o),s&&s.m(i,o),w(i,t,o),n=!0},p(i,[o]){i[1]?l?(l.p(i,o),o&2&&_(l,1)):(l=t4(i),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[2]?s?(s.p(i,o),o&4&&_(s,1)):(s=n4(i),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){l&&l.d(i),i&&v(e),s&&s.d(i),i&&v(t)}}}function hue(r,e,t){let n,l,s,i,o,a,u,c,f;Z(r,ge,$=>t(3,o=$)),Z(r,En,$=>t(12,u=$)),Z(r,On,$=>t(13,c=$)),Z(r,ns,$=>t(4,f=$));let{row:m}=e,{recordPk:d}=e,{recordsData:p}=e;const h=Zt();Z(r,h,$=>t(11,a=$));async function b(){if(Br(m)){const $=[Number(m.rowIndex)];Rl({identifierType:o("record"),body:[o("deleted_records_cannot_be_recovered",{values:{count:1}}),o("are_you_sure_to_proceed")],onProceed:()=>p.deleteSelected($),onError:k=>Tt.fromError(k),onSuccess:()=>Tt.success({title:o("record_deleted_successfully")})})}}return r.$$set=$=>{"row"in $&&t(7,m=$.row),"recordPk"in $&&t(0,d=$.recordPk),"recordsData"in $&&t(8,p=$.recordsData)},r.$$.update=()=>{r.$$.dirty&8192&&t(10,n=c),r.$$.dirty&4096&&t(9,l=u),r.$$.dirty&3584&&t(2,s=!!(a!=null&&a.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty&3584&&t(1,i=!!(a!=null&&a.hasPermission({database:n,schema:l},"canViewLinkedEntities")))},[d,i,s,o,f,h,b,m,p,l,n,a,u,c]}class b8 extends x{constructor(e){super(),J(this,e,hue,gue,Q,{row:7,recordPk:0,recordsData:8})}}function r4(r){let e,t;return e=new _8({props:{hasErrors:r[4]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16&&(s.hasErrors=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function l4(r){let e,t,n,l,s,i;e=new So({props:{$$slots:{default:[bue]},$$scope:{ctx:r}}});let o=r[12]&&s4(r),a=r[16]&&r[11]&&i4(r);return s=new yo({}),{c(){C(e.$$.fragment),t=N(),o&&o.c(),n=N(),a&&a.c(),l=N(),C(s.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),o&&o.m(u,c),w(u,n,c),a&&a.m(u,c),w(u,l,c),y(s,u,c),i=!0},p(u,c){const f={};c[0]&536870912|c[1]&268435456&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),u[12]?o?(o.p(u,c),c[0]&4096&&_(o,1)):(o=s4(u),o.c(),_(o,1),o.m(n.parentNode,n)):o&&(G(),g(o,1,1,()=>{o=null}),K()),u[16]&&u[11]?a?(a.p(u,c),c[0]&67584&&_(a,1)):(a=i4(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){i||(_(e.$$.fragment,u),_(o),_(a),_(s.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),g(o),g(a),g(s.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),o&&o.d(u),u&&v(n),a&&a.d(u),u&&v(l),S(s,u)}}}function bue(r){let e=r[29]("cell")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&536870912&&e!==(e=n[29]("cell")+"")&&Y(t,e)},d(n){n&&v(t)}}}function s4(r){let e,t;return e=new sn({props:{icon:nk,disabled:!r[20],$$slots:{default:[$ue]},$$scope:{ctx:r}}}),e.$on("click",r[54]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1048576&&(s.disabled=!n[20]),l[0]&536870912|l[1]&268435456&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $ue(r){let e=r[29]("set_to")+"",t,n,l,s;return l=new wi({}),{c(){t=q(e),n=N(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o[0]&536870912)&&e!==(e=i[29]("set_to")+"")&&Y(t,e)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(t),i&&v(n),S(l,i)}}}function i4(r){let e,t;return e=new Ir({props:{icon:xs,href:r[11],$$slots:{default:[kue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2048&&(s.href=n[11]),l[0]&536903680|l[1]&268435456&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function o4(r){let e,t;return e=new vr({props:{$$slots:{default:[vue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&32768|l[1]&268435456&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function vue(r){let e;return{c(){e=q(r[15])},m(t,n){w(t,e,n)},p(t,n){n[0]&32768&&Y(e,t[15])},d(t){t&&v(e)}}}function wue(r){let e,t,n=r[58]==="recordName"&&o4(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[58]==="recordName"?n?(n.p(l,s),s[1]&134217728&&_(n,1)):(n=o4(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function kue(r){let e,t;return e=new St({props:{text:r[29]("open_named_record"),$$slots:{default:[wue,({slotName:n})=>({58:n}),({slotName:n})=>[0,n?134217728:0]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&536870912&&(s.text=n[29]("open_named_record")),l[0]&32768|l[1]&402653184&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yue(r){let e=r[29]("column")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&536870912&&e!==(e=n[29]("column")+"")&&Y(t,e)},d(n){n&&v(t)}}}function a4(r){let e,t,n,l,s,i;return e=new yo({}),n=new So({props:{$$slots:{default:[Sue]},$$scope:{ctx:r}}}),s=new b8({props:{recordPk:r[8],recordsData:r[1],row:r[3]}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a[0]&536870912|a[1]&268435456&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const c={};a[0]&256&&(c.recordPk=o[8]),a[0]&2&&(c.recordsData=o[1]),a[0]&8&&(c.row=o[3]),s.$set(c)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function Sue(r){let e=r[29]("row")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&536870912&&e!==(e=n[29]("row")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Cue(r){let e,t,n,l,s,i,o,a=(r[12]||r[16])&&l4(r);t=new So({props:{$$slots:{default:[yue]},$$scope:{ctx:r}}}),l=new g8({props:{processedColumn:r[6]}});let u=(r[12]||r[16])&&a4(r);return{c(){a&&a.c(),e=N(),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),u&&u.c(),i=oe()},m(c,f){a&&a.m(c,f),w(c,e,f),y(t,c,f),w(c,n,f),y(l,c,f),w(c,s,f),u&&u.m(c,f),w(c,i,f),o=!0},p(c,f){c[12]||c[16]?a?(a.p(c,f),f[0]&69632&&_(a,1)):(a=l4(c),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(G(),g(a,1,1,()=>{a=null}),K());const m={};f[0]&536870912|f[1]&268435456&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f[0]&64&&(d.processedColumn=c[6]),l.$set(d),c[12]||c[16]?u?(u.p(c,f),f[0]&69632&&_(u,1)):(u=a4(c),u.c(),_(u,1),u.m(i.parentNode,i)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){o||(_(a),_(t.$$.fragment,c),_(l.$$.fragment,c),_(u),o=!0)},o(c){g(a),g(t.$$.fragment,c),g(l.$$.fragment,c),g(u),o=!1},d(c){a&&a.d(c),c&&v(e),S(t,c),c&&v(n),S(l,c),c&&v(s),u&&u.d(c),c&&v(i)}}}function u4(r){let e,t;return e=new h8({props:{errors:r[14],forceShowErrors:r[22]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16384&&(s.errors=n[14]),l[0]&4194304&&(s.forceShowErrors=n[22]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Tue(r){let e,t,n,l,s,i,o,a,u,c,f,m;t=new Dr({props:{when:r[19],color:"var(--cell-bg-color-error)"}}),l=new Dr({props:{when:!r[17],color:"var(--cell-bg-color-disabled)"}});let d=!(r[17]&&r[22])&&r4(r);o=new Ci({props:{columnFabric:r[6],isActive:r[22],isSelectedInRange:r[21],value:r[0],isProcessing:r[18],canViewLinkedEntities:r[10],recordSummary:r[15],setRecordSummary:r[50],showAsSkeleton:r[28]===rn.Loading,disabled:!r[17],horizontalAlignment:r[9].primary_key?"left":void 0}}),o.$on("movementKeyDown",r[31]),o.$on("activate",r[51]),o.$on("update",r[33]),o.$on("onSelectionStart",r[52]),o.$on("onMouseEnterCellWhileSelection",r[53]),u=new Of({props:{$$slots:{default:[Cue]},$$scope:{ctx:r}}});let p=r[14].length&&u4(r),h=[{class:"cell editable-cell"},r[56],{style:f=r[57]}],b={};for(let $=0;$<h.length;$+=1)b=le(b,h[$]);return{c(){var $;e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),d&&d.c(),i=N(),C(o.$$.fragment),a=N(),C(u.$$.fragment),c=N(),p&&p.c(),ct(e,b),re(e,"error",r[19]),re(e,"modified",(($=r[13])==null?void 0:$.state)==="success"),re(e,"is-active",r[22]),re(e,"is-processing",r[18]),re(e,"is-pk",r[9].primary_key),re(e,"is-selected",r[21]),re(e,"svelte-6927nu",!0)},m($,k){w($,e,k),y(t,e,null),I(e,n),y(l,e,null),I(e,s),d&&d.m(e,null),I(e,i),y(o,e,null),I(e,a),y(u,e,null),I(e,c),p&&p.m(e,null),m=!0},p($,k){var O;const T={};k[0]&524288&&(T.when=$[19]),t.$set(T);const E={};k[0]&131072&&(E.when=!$[17]),l.$set(E),$[17]&&$[22]?d&&(G(),g(d,1,1,()=>{d=null}),K()):d?(d.p($,k),k[0]&4325376&&_(d,1)):(d=r4($),d.c(),_(d,1),d.m(e,i));const A={};k[0]&64&&(A.columnFabric=$[6]),k[0]&4194304&&(A.isActive=$[22]),k[0]&2097152&&(A.isSelectedInRange=$[21]),k[0]&1&&(A.value=$[0]),k[0]&262144&&(A.isProcessing=$[18]),k[0]&1024&&(A.canViewLinkedEntities=$[10]),k[0]&32768&&(A.recordSummary=$[15]),k[0]&100663296&&(A.setRecordSummary=$[50]),k[0]&268435456&&(A.showAsSkeleton=$[28]===rn.Loading),k[0]&131072&&(A.disabled=!$[17]),k[0]&512&&(A.horizontalAlignment=$[9].primary_key?"left":void 0),o.$set(A);const P={};k[0]&538024266|k[1]&268435456&&(P.$$scope={dirty:k,ctx:$}),u.$set(P),$[14].length?p?(p.p($,k),k[0]&16384&&_(p,1)):(p=u4($),p.c(),_(p,1),p.m(e,null)):p&&(G(),g(p,1,1,()=>{p=null}),K()),ct(e,b=de(h,[{class:"cell editable-cell"},k[1]&33554432&&$[56],(!m||k[1]&67108864&&f!==(f=$[57]))&&{style:f}])),re(e,"error",$[19]),re(e,"modified",((O=$[13])==null?void 0:O.state)==="success"),re(e,"is-active",$[22]),re(e,"is-processing",$[18]),re(e,"is-pk",$[9].primary_key),re(e,"is-selected",$[21]),re(e,"svelte-6927nu",!0)},i($){m||(_(t.$$.fragment,$),_(l.$$.fragment,$),_(d),_(o.$$.fragment,$),_(u.$$.fragment,$),_(p),m=!0)},o($){g(t.$$.fragment,$),g(l.$$.fragment,$),g(d),g(o.$$.fragment,$),g(u.$$.fragment,$),g(p),m=!1},d($){$&&v(e),S(t),S(l),d&&d.d(),S(o),S(u),p&&p.d()}}}function Eue(r){let e,t;return e=new Qr({props:{columnIdentifierKey:r[9].id,$$slots:{default:[Tue,({htmlAttributes:n,style:l})=>({56:n,57:l}),({htmlAttributes:n,style:l})=>[0,(n?33554432:0)|(l?67108864:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&512&&(s.columnIdentifierKey=n[9].id),l[0]&914358111|l[1]&369098752&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Due(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F,L,U,W,H=j,z=()=>(H(),H=ue(a,tt=>t(41,W=tt)),a),te,se,B=j,V=()=>(B(),B=ue(et,tt=>t(43,se=tt)),et),ee,ie=j,_e=()=>(ie(),ie=ue(st,tt=>t(44,ee=tt)),st),ae,fe=j,Ue=()=>(fe(),fe=ue(d,tt=>t(45,ae=tt)),d),ve,Se=j,ke=()=>(Se(),Se=ue(m,tt=>t(46,ve=tt)),m),Fe,we,Re,Ge,Je=j,Ke=()=>(Je(),Je=ue(o,tt=>t(28,Ge=tt)),o),ot;Z(r,ns,tt=>t(42,te=tt)),Z(r,En,tt=>t(48,we=tt)),Z(r,On,tt=>t(49,Re=tt)),Z(r,ge,tt=>t(29,ot=tt)),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>Je());let{recordsData:lt}=e,{selection:ze}=e,{row:Xe}=e,{rowHasErrors:pt=!1}=e,{key:rt}=e,{modificationStatusMap:st}=e;_e();let{processedColumn:qe}=e,{clientSideErrorMap:et}=e;V();let{value:mt=void 0}=e,{rowKey:Ot}=e;const Qe=Zt();Z(r,Qe,tt=>t(47,Fe=tt));async function Nt(tt){tt==="moved"&&(await on(),M5())}async function Ct(tt){const{originalEvent:Jt}=tt.detail,Gn=ze.handleKeyEventsOnActiveCell(Jt);Gn&&(Jt.stopPropagation(),Jt.preventDefault(),await Nt(Gn))}async function Dt(tt){var Gn,yr;if(tt===mt)return;t(0,mt=tt);const Jt=$m(Xe)?await lt.createOrUpdateRecord(Xe,u):await lt.updateCell(Xe,u);t(0,mt=(yr=(Gn=Jt.record)==null?void 0:Gn[u.id])!=null?yr:mt)}async function Mt(tt){await Dt(tt.detail.value)}const it=(tt,Jt)=>a.addBespokeRecordSummary({columnId:String(f),recordId:tt,recordSummary:Jt}),Yt=()=>{ze.activateCell(Xe,qe)},tn=()=>{ze.onStartSelection(Xe,qe)},$n=()=>{ze.onMouseEnterCellWhileSelection(Xe,qe)},ln=()=>Dt(null);return r.$$set=tt=>{"recordsData"in tt&&t(1,lt=tt.recordsData),"selection"in tt&&t(2,ze=tt.selection),"row"in tt&&t(3,Xe=tt.row),"rowHasErrors"in tt&&t(4,pt=tt.rowHasErrors),"key"in tt&&t(34,rt=tt.key),"modificationStatusMap"in tt&&_e(t(5,st=tt.modificationStatusMap)),"processedColumn"in tt&&t(6,qe=tt.processedColumn),"clientSideErrorMap"in tt&&V(t(7,et=tt.clientSideErrorMap)),"value"in tt&&t(0,mt=tt.value),"rowKey"in tt&&t(8,Ot=tt.rowKey)},r.$$.update=()=>{var tt,Jt;r.$$.dirty[1]&262144&&t(40,n=Re),r.$$.dirty[1]&131072&&t(39,l=we),r.$$.dirty[1]&66304&&t(12,s=!!(Fe!=null&&Fe.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty[1]&66304&&t(10,i=!!(Fe!=null&&Fe.hasPermission({database:n,schema:l},"canViewLinkedEntities"))),r.$$.dirty[0]&2&&Ke(t(27,o=lt.state)),r.$$.dirty[0]&2&&z(t(26,{recordSummaries:a}=lt,a)),r.$$.dirty[0]&64&&t(9,{column:u,linkFk:c}=qe,u,(t(35,c),t(6,qe))),r.$$.dirty[0]&512&&t(25,f=u.id),r.$$.dirty[0]&4&&ke(t(24,{activeCell:m,selectedCells:d}=ze,m,Ue(t(23,d)))),r.$$.dirty[0]&72|r.$$.dirty[1]&32768&&t(22,p=ve&&D5(ve,Xe,qe)),r.$$.dirty[0]&72|r.$$.dirty[1]&16384&&t(21,h=_o(ae,Xe,qe)&&ae.size>1),r.$$.dirty[1]&8200&&t(13,b=ee.get(rt)),r.$$.dirty[0]&8192&&t(38,$=(b==null?void 0:b.state)==="failure"?b==null?void 0:b.errors:[]),r.$$.dirty[1]&4104&&t(37,k=(tt=se.get(rt))!=null?tt:[]),r.$$.dirty[1]&192&&t(14,T=[...$,...k]),r.$$.dirty[0]&513&&t(20,E=u.nullable&&mt!==null),r.$$.dirty[0]&16384&&t(19,A=!!T.length),r.$$.dirty[0]&8192&&t(18,P=(b==null?void 0:b.state)==="processing"),r.$$.dirty[0]&4608&&t(17,O=!u.primary_key&&s),r.$$.dirty[1]&2048&&t(36,R=te),r.$$.dirty[0]&1|r.$$.dirty[1]&48&&t(11,F=c?R({tableId:c.referent_table,recordId:mt}):void 0),r.$$.dirty[0]&3072&&t(16,L=F&&i),r.$$.dirty[0]&513|r.$$.dirty[1]&1024&&t(15,U=(Jt=W.get(String(u.id)))==null?void 0:Jt.get(String(mt)))},[mt,lt,ze,Xe,pt,st,qe,et,Ot,u,i,F,s,b,T,U,L,O,P,A,E,h,p,d,m,f,a,o,Ge,ot,Qe,Ct,Dt,Mt,rt,c,R,k,$,l,n,W,te,se,ee,ae,ve,Fe,we,Re,it,Yt,tn,$n,ln]}class Iue extends x{constructor(e){super(),J(this,e,Due,Eue,Q,{recordsData:1,selection:2,row:3,rowHasErrors:4,key:34,modificationStatusMap:5,processedColumn:6,clientSideErrorMap:7,value:0,rowKey:8},null,[-1,-1])}}function Mue(r){var o;let e,t=r[0].rowIndex+(Os(r[0])?((o=r[10])!=null?o:0)-r[11].length-r[12].length:r[13].offset)+1+"",n,l,s=Os(r[0]),i=s&&c4();return{c(){e=M("span"),n=q(t),l=N(),i&&i.c(),D(e,"class","number")},m(a,u){w(a,e,u),I(e,n),I(e,l),i&&i.m(e,null)},p(a,u){var c;u&15361&&t!==(t=a[0].rowIndex+(Os(a[0])?((c=a[10])!=null?c:0)-a[11].length-a[12].length:a[13].offset)+1+"")&&Y(n,t),u&1&&(s=Os(a[0])),s?i||(i=c4(),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:j,o:j,d(a){a&&v(e),i&&i.d()}}}function Aue(r){let e,t;const n=[jt];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(jt)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function c4(r){let e;return{c(){e=q("*")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function f4(r){let e,t;const n=[{class:"mod-indicator"},{size:"0.9em"},gr];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[n[0],n[1],$e(gr)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function m4(r){let e,t;return e=new h8({props:{errors:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.errors=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pue(r){let e,t,n,l,s,i,o,a,u,c,f,m,d;e=new Dr({props:{color:"var(--cell-bg-color-header)"}}),n=new _8({props:{isSelected:r[1],hasErrors:r[2]}});const p=[Aue,Mue],h=[];function b(T,E){return E&1&&(i=null),E&1&&(o=null),i==null&&(i=!!Ur(T[0])),i?0:(o==null&&(o=!!Br(T[0])),o?1:-1)}~(a=b(r,-1))&&(u=h[a]=p[a](r));let $=r[4]==="processing"&&f4(),k=r[3].length&&m4(r);return{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),s=M("div"),u&&u.c(),c=N(),$&&$.c(),f=N(),k&&k.c(),m=oe(),D(s,"class","control svelte-7te4v7")},m(T,E){y(e,T,E),w(T,t,E),y(n,T,E),w(T,l,E),w(T,s,E),~a&&h[a].m(s,null),w(T,c,E),$&&$.m(T,E),w(T,f,E),k&&k.m(T,E),w(T,m,E),d=!0},p(T,[E]){const A={};E&2&&(A.isSelected=T[1]),E&4&&(A.hasErrors=T[2]),n.$set(A);let P=a;a=b(T,E),a===P?~a&&h[a].p(T,E):(u&&(G(),g(h[P],1,1,()=>{h[P]=null}),K()),~a?(u=h[a],u?u.p(T,E):(u=h[a]=p[a](T),u.c()),_(u,1),u.m(s,null)):u=null),T[4]==="processing"?$?($.p(T,E),E&16&&_($,1)):($=f4(),$.c(),_($,1),$.m(f.parentNode,f)):$&&(G(),g($,1,1,()=>{$=null}),K()),T[3].length?k?(k.p(T,E),E&8&&_(k,1)):(k=m4(T),k.c(),_(k,1),k.m(m.parentNode,m)):k&&(G(),g(k,1,1,()=>{k=null}),K())},i(T){d||(_(e.$$.fragment,T),_(n.$$.fragment,T),_(u),_($),_(k),d=!0)},o(T){g(e.$$.fragment,T),g(n.$$.fragment,T),g(u),g($),g(k),d=!1},d(T){S(e,T),T&&v(t),S(n,T),T&&v(l),T&&v(s),~a&&h[a].d(),T&&v(c),$&&$.d(T),T&&v(f),k&&k.d(T),T&&v(m)}}}function Rue(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=j,p=()=>(d(),d=ue(l,B=>t(19,m=B)),l),h,b=j,$=()=>(b(),b=ue(o,B=>t(10,h=B)),o),k,T=j,E=()=>(T(),T=ue(s,B=>t(11,k=B)),s),A,P=j,O=()=>(P(),P=ue(i,B=>t(12,A=B)),i),R,F=j,L=()=>(F(),F=ue(n,B=>t(13,R=B)),n);r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>F());let{primaryKeyColumnId:U=void 0}=e,{row:W}=e,{meta:H}=e,{recordsData:z}=e,{isSelected:te=!1}=e,{hasErrors:se=!1}=e;return r.$$set=B=>{"primaryKeyColumnId"in B&&t(14,U=B.primaryKeyColumnId),"row"in B&&t(0,W=B.row),"meta"in B&&t(15,H=B.meta),"recordsData"in B&&t(16,z=B.recordsData),"isSelected"in B&&t(1,te=B.isSelected),"hasErrors"in B&&t(2,se=B.hasErrors)},r.$$.update=()=>{var B;r.$$.dirty&32768&&L(t(9,{pagination:n,rowStatus:l}=H,n,p(t(8,l)))),r.$$.dirty&65536&&E(t(7,{savedRecords:s,newRecords:i,totalCount:o}=z,s,O(t(6,i)),$(t(5,o)))),r.$$.dirty&16385&&t(18,a=ml(W,U)),r.$$.dirty&786432&&t(17,u=m.get(a)),r.$$.dirty&131072&&t(4,c=u==null?void 0:u.wholeRowState),r.$$.dirty&131072&&t(3,f=(B=u==null?void 0:u.errorsFromWholeRowAndCells)!=null?B:[])},[W,te,se,f,c,o,i,s,l,n,h,k,A,R,U,H,z,u,a,m]}class Oue extends x{constructor(e){super(),J(this,e,Rue,Pue,Q,{primaryKeyColumnId:14,row:0,meta:15,recordsData:16,isSelected:1,hasErrors:2})}}function d4(r,e,t){const n=r.slice();return n[38]=e[t][0],n[39]=e[t][1],n[40]=e,n[41]=t,n}function _4(r){let e,t,n,l;return e=new Oue({props:{primaryKeyColumnId:r[6],row:r[0],meta:r[7],recordsData:r[3],isSelected:r[10],hasErrors:r[8]}}),n=new Of({props:{$$slots:{default:[Lue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&64&&(o.primaryKeyColumnId=s[6]),i[0]&1&&(o.row=s[0]),i[0]&128&&(o.meta=s[7]),i[0]&8&&(o.recordsData=s[3]),i[0]&1024&&(o.isSelected=s[10]),i[0]&256&&(o.hasErrors=s[8]),e.$set(o);const a={};i[0]&41|i[1]&8192&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function Lue(r){let e,t;return e=new b8({props:{recordPk:r[5],recordsData:r[3],row:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&32&&(s.recordPk=n[5]),l[0]&8&&(s.recordsData=n[3]),l[0]&1&&(s.row=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Nue(r){let e,t=Br(r[0]),n,l,s,i,o=t&&_4(r),a=[r[42],{style:n=r[43]}],u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return{c(){e=M("div"),o&&o.c(),ct(e,u),re(e,"svelte-1mjtdsh",!0)},m(c,f){w(c,e,f),o&&o.m(e,null),l=!0,s||(i=[He(e,"mousedown",r[26]),He(e,"mouseenter",r[27])],s=!0)},p(c,f){f[0]&1&&(t=Br(c[0])),t?o?(o.p(c,f),f[0]&1&&_(o,1)):(o=_4(c),o.c(),_(o,1),o.m(e,null)):o&&(G(),g(o,1,1,()=>{o=null}),K()),ct(e,u=de(a,[f[1]&2048&&c[42],(!l||f[1]&4096&&n!==(n=c[43]))&&{style:n}])),re(e,"svelte-1mjtdsh",!0)},i(c){l||(_(o),l=!0)},o(c){g(o),l=!1},d(c){c&&v(e),o&&o.d(),s=!1,It(i)}}}function Fue(r){let e=[],t=new Map,n,l,s=[...r[21]];const i=o=>o[38];for(let o=0;o<s.length;o+=1){let a=d4(r,s,o),u=i(a);t.set(u,e[o]=p4(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a[0]&2294317&&(s=[...o[21]],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,p4,n,d4),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function Hue(r){let e,t;return e=new Vae({props:{row:r[0],grouping:r[22],group:r[0].group,processedColumnsMap:r[21],recordSummariesForSheet:r[23]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.row=n[0]),l[0]&4194304&&(s.grouping=n[22]),l[0]&1&&(s.group=n[0].group),l[0]&2097152&&(s.processedColumnsMap=n[21]),l[0]&8388608&&(s.recordSummariesForSheet=n[23]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zue(r){let e,t;return e=new Mae({props:{columnCount:r[21].size}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2097152&&(s.columnCount=n[21].size),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function p4(r,e){let t,n,l,s;function i(a){e[35](a,e[38])}let o={selection:e[2],row:e[0],rowHasErrors:e[9],key:za(e[5],e[38]),modificationStatusMap:e[17],clientSideErrorMap:e[16],processedColumn:e[39],recordsData:e[3],rowKey:e[5]};return e[0].record[e[38]]!==void 0&&(o.value=e[0].record[e[38]]),n=new Iue({props:o}),Te.push(()=>Oe(n,"value",i)),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(a,u){w(a,t,u),y(n,a,u),s=!0},p(a,u){e=a;const c={};u[0]&4&&(c.selection=e[2]),u[0]&1&&(c.row=e[0]),u[0]&512&&(c.rowHasErrors=e[9]),u[0]&2097184&&(c.key=za(e[5],e[38])),u[0]&131072&&(c.modificationStatusMap=e[17]),u[0]&65536&&(c.clientSideErrorMap=e[16]),u[0]&2097152&&(c.processedColumn=e[39]),u[0]&8&&(c.recordsData=e[3]),u[0]&32&&(c.rowKey=e[5]),!l&&u[0]&2097153&&(l=!0,c.value=e[0].record[e[38]],Ne(()=>l=!1)),n.$set(c)},i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){g(n.$$.fragment,a),s=!1},d(a){a&&v(t),S(n,a)}}}function Vue(r){let e,t,n,l,s,i,o,a,u,c,f,m;t=new Qr({props:{columnIdentifierKey:Ha,isStatic:!0,isControlCell:!0,$$slots:{default:[Nue,({htmlAttributes:k,style:T})=>({42:k,43:T}),({htmlAttributes:k,style:T})=>[0,(k?2048:0)|(T?4096:0)]]},$$scope:{ctx:r}}});const d=[zue,Hue,Fue],p=[];function h(k,T){return T[0]&1&&(l=null),T[0]&4194305&&(s=null),T[0]&1&&(i=null),l==null&&(l=!!_5(k[0])),l?0:(s==null&&(s=!!(ji(k[0])&&k[22]&&k[0].group)),s?1:(i==null&&(i=!!Br(k[0])),i?2:-1))}~(o=h(r,[-1,-1]))&&(a=p[o]=d[o](r));let b=[{class:"row"},r[36],{style:u="--cell-height:"+(Ql-1)+"px;"+r[37]}],$={};for(let k=0;k<b.length;k+=1)$=le($,b[k]);return{c(){e=M("div"),C(t.$$.fragment),n=N(),a&&a.c(),ct(e,$),re(e,"selected",r[10]),re(e,"processing",r[4]==="processing"),re(e,"failed",r[9]),re(e,"created",r[12]==="success"),re(e,"is-new",Os(r[0])),re(e,"is-group-header",ji(r[0])),re(e,"is-add-placeholder",Ur(r[0])),re(e,"svelte-1mjtdsh",!0)},m(k,T){w(k,e,T),y(t,e,null),I(e,n),~o&&p[o].m(e,null),c=!0,f||(m=He(e,"mousedown",r[25]),f=!0)},p(k,T){const E={};T[0]&1513|T[1]&14336&&(E.$$scope={dirty:T,ctx:k}),t.$set(E);let A=o;o=h(k,T),o===A?~o&&p[o].p(k,T):(a&&(G(),g(p[A],1,1,()=>{p[A]=null}),K()),~o?(a=p[o],a?a.p(k,T):(a=p[o]=d[o](k),a.c()),_(a,1),a.m(e,null)):a=null),ct(e,$=de(b,[{class:"row"},T[1]&32&&k[36],(!c||T[1]&64&&u!==(u="--cell-height:"+(Ql-1)+"px;"+k[37]))&&{style:u}])),re(e,"selected",k[10]),re(e,"processing",k[4]==="processing"),re(e,"failed",k[9]),re(e,"created",k[12]==="success"),re(e,"is-new",Os(k[0])),re(e,"is-group-header",ji(k[0])),re(e,"is-add-placeholder",Ur(k[0])),re(e,"svelte-1mjtdsh",!0)},i(k){c||(_(t.$$.fragment,k),_(a),c=!0)},o(k){g(t.$$.fragment,k),g(a),c=!1},d(k){k&&v(e),S(t),~o&&p[o].d(),f=!1,m()}}}function que(r){let e,t;return e=new Em({props:{style:r[1],$$slots:{default:[Vue,({htmlAttributes:n,styleString:l})=>({36:n,37:l}),({htmlAttributes:n,styleString:l})=>[0,(n?32:0)|(l?64:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.style=n[1]),l[0]&14882813|l[1]&8288&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bue(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F=j,L=()=>(F(),F=ue(E,Xe=>t(30,R=Xe)),E),U,W=j,H=()=>(W(),W=ue(a,Xe=>t(31,U=Xe)),a),z,te=j,se=()=>(te(),te=ue(u,Xe=>t(32,z=Xe)),u),B,V=j,ee=()=>(V(),V=ue(p,Xe=>t(33,B=Xe)),p),ie,_e,ae=j,fe=()=>(ae(),ae=ue(i,Xe=>t(21,_e=Xe)),i),Ue,ve=j,Se=()=>(ve(),ve=ue(m,Xe=>t(22,Ue=Xe)),m),ke,Fe=j,we=()=>(Fe(),Fe=ue(d,Xe=>t(23,ke=Xe)),d);r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>ae()),r.$$.on_destroy.push(()=>ve()),r.$$.on_destroy.push(()=>Fe());let{row:Re}=e,{style:Ge}=e;const Je=Ft();Z(r,Je,Xe=>t(34,ie=Xe));function Ke(){Ur(Re)&&(n.addEmptyRecord(),o.selectAndActivateFirstDataEntryCellInLastRow())}const ot=()=>{Br(Re)&&!Ur(Re)&&o.onRowSelectionStart(Re)},lt=()=>{Br(Re)&&!Ur(Re)&&o.onMouseEnterRowHeaderWhileSelection(Re)};function ze(Xe,pt){r.$$.not_equal(Re.record[pt],Xe)&&(Re.record[pt]=Xe,t(0,Re))}return r.$$set=Xe=>{"row"in Xe&&t(0,Re=Xe.row),"style"in Xe&&t(1,Ge=Xe.style)},r.$$.update=()=>{var Xe,pt;r.$$.dirty[1]&8&&t(3,{recordsData:n,columnsDataStore:l,meta:s,processedColumns:i,selection:o}=ie,n,(t(29,l),t(34,ie)),(t(7,s),t(34,ie)),fe(t(20,i)),(t(2,o),t(34,ie))),r.$$.dirty[0]&128&&H(t(19,{rowStatus:a,rowCreationStatus:u,cellModificationStatus:c,cellClientSideErrors:f}=s,a,se(t(18,u)),(t(17,c),t(7,s),t(34,ie)),(t(16,f),t(7,s),t(34,ie)))),r.$$.dirty[0]&8&&Se(t(15,{grouping:m,recordSummaries:d}=n,m,we(t(14,d)))),r.$$.dirty[0]&536870912&&ee(t(13,{pkColumn:p}=l,p)),r.$$.dirty[1]&4&&t(6,h=B==null?void 0:B.id),r.$$.dirty[0]&65&&t(5,b=ml(Re,h)),r.$$.dirty[0]&32|r.$$.dirty[1]&2&&t(12,$=(Xe=z.get(b))==null?void 0:Xe.state),r.$$.dirty[0]&32|r.$$.dirty[1]&1&&t(28,k=U.get(b)),r.$$.dirty[0]&268435456&&t(4,T=k==null?void 0:k.wholeRowState),r.$$.dirty[0]&4&&L(t(11,{selectedCells:E}=o,E)),r.$$.dirty[0]&1073741825&&t(10,A=Br(Re)&&AV(R,Re)),r.$$.dirty[0]&16&&t(9,P=T==="failure"),r.$$.dirty[0]&268435456&&t(8,O=!!((pt=k==null?void 0:k.errorsFromWholeRowAndCells)!=null&&pt.length))},[Re,Ge,o,n,T,b,h,s,O,P,A,E,$,p,d,m,f,c,u,a,i,_e,Ue,ke,Je,Ke,ot,lt,k,l,R,U,z,B,ie,ze]}class $8 extends x{constructor(e){super(),J(this,e,Bue,que,Q,{row:0,style:1},null,[-1,-1])}}function g4(r,e,t){const n=r.slice();return n[27]=e[t],n}function h4(r,e,t){const n=r.slice();return n[24]=e[t],n[25]=e,n[26]=t,n}function Uue(r){let e=[],t=new Map,n,l,s=r[5];const i=o=>o[27];for(let o=0;o<s.length;o+=1){let a=g4(r,s,o),u=i(a);t.set(u,e[o]=b4(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&288&&(s=o[5],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,b4,n,g4),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function Wue(r){let e,t;return e=new E5({props:{itemCount:r[5].length,paddingBottom:30,itemSize:r[10],itemKey:r[20],$$slots:{default:[jue,({items:n,api:l})=>({22:n,23:l}),({items:n,api:l})=>(n?4194304:0)|(l?8388608:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.itemCount=n[5].length),l&32&&(s.itemKey=n[20]),l&1086324784&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function b4(r,e){let t,n,l;return n=new $8({props:{style:{position:"relative",height:e[8](e[27])},row:e[27]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&32&&(o.style={position:"relative",height:e[8](e[27])}),i&32&&(o.row=e[27]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function $4(r){let e,t,n;function l(i){r[19](i,r[24])}let s={style:r[24].style};return r[5][r[24].index]!==void 0&&(s.row=r[5][r[24].index]),e=new $8({props:s}),Te.push(()=>Oe(e,"row",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){r=i;const a={};o&4194304&&(a.style=r[24].style),!t&&o&4194336&&(t=!0,a.row=r[5][r[24].index],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function v4(r,e){let t,n=e[5][e[24].index]&&!(Ur(e[5][e[24].index])&&!e[4]),l,s,i=n&&$4(e);return{key:r,first:null,c(){t=oe(),i&&i.c(),l=oe(),this.first=t},m(o,a){w(o,t,a),i&&i.m(o,a),w(o,l,a),s=!0},p(o,a){e=o,a&4194352&&(n=e[5][e[24].index]&&!(Ur(e[5][e[24].index])&&!e[4])),n?i?(i.p(e,a),a&4194352&&_(i,1)):(i=$4(e),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(i),s=!0)},o(o){g(i),s=!1},d(o){o&&v(t),i&&i.d(o),o&&v(l)}}}function jue(r){let e,t,n=[],l=new Map,s,i;e=new Tae({props:{api:r[23]}});let o=r[22];const a=u=>u[24].key;for(let u=0;u<o.length;u+=1){let c=h4(r,o,u),f=a(c);l.set(f,n[u]=v4(f,c))}return{c(){C(e.$$.fragment),t=N();for(let u=0;u<n.length;u+=1)n[u].c();s=oe()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c&8388608&&(f.api=u[23]),e.$set(f),c&4194352&&(o=u[22],G(),n=gt(n,c,a,1,u,o,l,s.parentNode,bt,v4,s,h4),K())},i(u){if(!i){_(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)_(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&v(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&v(s)}}}function w4(r){let e,t,n,l;const s=[Wue,Uue],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Yue(r){let e=r[3],t,n,l=w4(r);return{c(){l.c(),t=oe()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,[i]){i&8&&Q(e,e=s[3])?(G(),g(l,1,1,j),K(),l=w4(s),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l.d(s)}}}function Gue(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(u,H=>t(5,f=H)),u),p,h=j,b=()=>(h(),h=ue(c,H=>t(21,p=H)),c),$,k,T,E;Z(r,En,H=>t(17,T=H)),Z(r,On,H=>t(18,E=H)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h());const A=Ft();Z(r,A,H=>t(15,$=H));const P=Zt();Z(r,P,H=>t(16,k=H));let{usesVirtualList:O=!1}=e;function R(H){return _5(H)?Oz:ji(H)?Lz:Ql}function F(H,z){return z?ml(z,p==null?void 0:p.id):`__index_${H}`}function L(H){const z=f,te=z==null?void 0:z[H];return te?R(te):Ql}function U(H,z){r.$$.not_equal(f[z.index],H)&&(f[z.index]=H,u.set(f))}const W=H=>F(H,f[H]);return r.$$set=H=>{"usesVirtualList"in H&&t(0,O=H.usesVirtualList)},r.$$.update=()=>{r.$$.dirty&262144&&t(14,n=E),r.$$.dirty&131072&&t(13,l=T),r.$$.dirty&90112&&t(4,s=!!(k!=null&&k.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty&32768&&t(3,{id:i,display:o,columnsDataStore:a}=$,i,(t(12,o),t(15,$)),(t(11,a),t(15,$))),r.$$.dirty&4096&&d(t(2,{displayableRecords:u}=o,u)),r.$$.dirty&2048&&b(t(1,{pkColumn:c}=a,c))},[O,c,u,i,s,f,A,P,R,F,L,a,o,l,n,$,k,T,E,U,W]}class Kue extends x{constructor(e){super(),J(this,e,Gue,Yue,Q,{usesVirtualList:0})}}function k4(r){let e,t,n,l,s=r[3]&&y4(r),i=r[4]&&S4(),o=r[2]&&C4();return{c(){e=M("div"),s&&s.c(),t=N(),i&&i.c(),n=N(),o&&o.c(),D(e,"class","indicator-icons svelte-16ujqv6")},m(a,u){w(a,e,u),s&&s.m(e,null),I(e,t),i&&i.m(e,null),I(e,n),o&&o.m(e,null),l=!0},p(a,u){a[3]?s?(s.p(a,u),u&8&&_(s,1)):(s=y4(a),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K()),a[4]?i?(i.p(a,u),u&16&&_(i,1)):(i=S4(),i.c(),_(i,1),i.m(e,n)):i&&(G(),g(i,1,1,()=>{i=null}),K()),a[2]?o?(o.p(a,u),u&4&&_(o,1)):(o=C4(),o.c(),_(o,1),o.m(e,null)):o&&(G(),g(o,1,1,()=>{o=null}),K())},i(a){l||(_(s),_(i),_(o),l=!0)},o(a){g(s),g(i),g(o),l=!1},d(a){a&&v(e),s&&s.d(),i&&i.d(),o&&o.d()}}}function y4(r){let e,t;const n=[r[3]==="ASCENDING"?Da:Ia];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&8?de(n,[$e(s[3]==="ASCENDING"?Da:Ia)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function S4(r){let e,t;const n=[Aa];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(Aa)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function C4(r){let e,t;const n=[Js];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(Js)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Xue(r){let e,t,n,l,s,i,o,a,u;t=new Dr({props:{when:r[1],color:"var(--cell-bg-color-row-selected)"}}),s=new Si({props:{processedColumn:r[0]}});let c=(r[3]||r[4]||r[2])&&k4(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div"),C(s.$$.fragment),i=N(),c&&c.c(),D(l,"class","header-cell-btn btn btn-ghost size-medium svelte-16ujqv6"),Cn(l,"cursor","inherit"),D(e,"class","header-cell-root svelte-16ujqv6")},m(f,m){w(f,e,m),y(t,e,null),I(e,n),I(e,l),y(s,l,null),I(l,i),c&&c.m(l,null),o=!0,a||(u=[He(l,"click",r[14]),He(l,"mousedown",r[15]),He(l,"mouseenter",r[16])],a=!0)},p(f,[m]){const d={};m&2&&(d.when=f[1]),t.$set(d);const p={};m&1&&(p.processedColumn=f[0]),s.$set(p),f[3]||f[4]||f[2]?c?(c.p(f,m),m&28&&_(c,1)):(c=k4(f),c.c(),_(c,1),c.m(l,null)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){o||(_(t.$$.fragment,f),_(s.$$.fragment,f),_(c),o=!0)},o(f){g(t.$$.fragment,f),g(s.$$.fragment,f),g(c),o=!1},d(f){f&&v(e),S(t),S(s),c&&c.d(),a=!1,It(u)}}}function Que(r,e,t){let n,l,s,i,o,a,u,c,f=j,m=()=>(f(),f=ue(i,L=>t(10,c=L)),i),d,p=j,h=()=>(p(),p=ue(s,L=>t(11,d=L)),s),b,$=j,k=()=>($(),$=ue(l,L=>t(12,b=L)),l),T;r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>p()),r.$$.on_destroy.push(()=>$());let{processedColumn:E}=e,{isSelected:A=!1}=e;const P=Ft();Z(r,P,L=>t(13,T=L));function O(L){ye.call(this,r,L)}function R(L){ye.call(this,r,L)}function F(L){ye.call(this,r,L)}return r.$$set=L=>{"processedColumn"in L&&t(0,E=L.processedColumn),"isSelected"in L&&t(1,A=L.isSelected)},r.$$.update=()=>{r.$$.dirty&8192&&t(9,{meta:n}=T,n),r.$$.dirty&512&&k(t(7,{filtering:l,sorting:s,grouping:i}=n,l,h(t(6,s)),m(t(5,i)))),r.$$.dirty&4097&&t(4,o=b.entries.some(L=>L.columnId===E.id)),r.$$.dirty&2049&&t(3,a=d.get(E.id)),r.$$.dirty&1025&&t(2,u=c.entries.some(L=>L.columnId===E.id))},[E,A,u,a,o,i,s,l,P,n,c,d,b,T,O,R,F]}class Zue extends x{constructor(e){super(),J(this,e,Que,Xue,Q,{processedColumn:0,isSelected:1})}}function Jue(r){let e=r[7]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]+"")&&Y(t,e)},d(n){n&&v(t)}}}function xue(r){let e,t;return e=new Rn({props:{icon:r[6].getIcon(),$$slots:{default:[Jue]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.icon=n[6].getIcon()),l&384&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ece(r){let e,t;return e=new GI({props:{options:r[2],getLabel:tce,value:r[3],valuesAreEqual:nce,offsetOnFocus:2,disabled:r[1],$$slots:{default:[xue,({option:n,label:l})=>({6:n,7:l}),({option:n,label:l})=>(n?64:0)|(l?128:0)]},$$scope:{ctx:r}}}),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&4&&(s.options=n[2]),l&8&&(s.value=n[3]),l&2&&(s.disabled=n[1]),l&448&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const tce=r=>{var e;return(e=r==null?void 0:r.name)!=null?e:""},nce=(r,e)=>(r==null?void 0:r.identifier)===(e==null?void 0:e.identifier);function rce(r,e,t){let n,l,s;Z(r,wr,u=>t(4,s=u));let{value:i=ff}=e,{disabled:o=!1}=e;const a=u=>{t(0,i=u.detail?oF(u.detail):ff)};return r.$$set=u=>{"value"in u&&t(0,i=u.value),"disabled"in u&&t(1,o=u.disabled)},r.$$.update=()=>{r.$$.dirty&17&&t(3,n=$s(i,s.data)),r.$$.dirty&16&&t(2,l=iF(s.data))},[i,o,l,n,s,a]}class lce extends x{constructor(e){super(),J(this,e,rce,ece,Q,{value:0,disabled:1})}}function sce(r){let e,t;const n=[{class:"opt"},jt,{size:"0.9em"}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[n[0],$e(jt),n[2]]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ice(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function oce(r){let e,t,n,l;const s=[ice,sce],i=[];function o(a,u){return a[5]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function ace(r){let e,t,n,l,s,i,o,a;t=new Vt({props:{field:r[1],label:r[4]("column_name"),layout:"stacked"}}),l=new Vt({props:{field:r[7],input:{component:lce},label:r[4]("select_type"),layout:"stacked"}});function u(){return r[12](r[15])}return o=new Zr({props:{form:r[0],proceedButton:{label:r[4]("add")},onProceed:u,onCancel:r[15],catchErrors:!0}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),i=M("div"),C(o.$$.fragment),D(i,"class","submit svelte-1ci5n5s"),D(e,"slot","content"),D(e,"class","new-column-dropdown svelte-1ci5n5s")},m(c,f){w(c,e,f),y(t,e,null),I(e,n),y(l,e,null),I(e,s),I(e,i),y(o,i,null),a=!0},p(c,f){r=c;const m={};f&2&&(m.field=r[1]),f&16&&(m.label=r[4]("column_name")),t.$set(m);const d={};f&16&&(d.label=r[4]("select_type")),l.$set(d);const p={};f&1&&(p.form=r[0]),f&16&&(p.proceedButton={label:r[4]("add")}),f&32768&&(p.onProceed=u),f&32768&&(p.onCancel=r[15]),o.$set(p)},i(c){a||(_(t.$$.fragment,c),_(l.$$.fragment,c),_(o.$$.fragment,c),a=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),g(o.$$.fragment,c),a=!1},d(c){c&&v(e),S(t),S(l),S(o)}}}function uce(r){let e,t;return e=new Pl({props:{closeOnInnerClick:!1,triggerAppearance:"secondary",showArrow:!1,ariaLabel:r[4]("new_column"),disabled:r[5],$$slots:{content:[ace,({close:n})=>({15:n}),({close:n})=>n?32768:0],trigger:[oce]},$$scope:{ctx:r}}}),e.$on("close",function(){Pt(r[0].reset)&&r[0].reset.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){r=n;const s={};l&16&&(s.ariaLabel=r[4]("new_column")),l&32&&(s.disabled=r[5]),l&98355&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cce(r,e,t){let n,l,s,i,o,a,u,c=j,f=()=>(c(),c=ue(s,R=>t(14,u=R)),s),m,d=j,p=()=>(d(),d=ue(l,R=>t(10,m=R)),l),h,b,$,k=j,T=()=>(k(),k=ue(o,R=>t(5,$=R)),o);Z(r,ge,R=>t(4,b=R)),r.$$.on_destroy.push(()=>c()),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>k());const E=Ft();Z(r,E,R=>t(11,h=R));const A=wt(void 0);Z(r,A,R=>t(13,a=R));async function P(R){const F={name:u,type:a,nullable:!0,primary_key:!1};await n.add(F),R()}const O=R=>P(R);return r.$$.update=()=>{r.$$.dirty&2048&&t(9,{columnsDataStore:n}=h,n),r.$$.dirty&512&&p(t(3,{columns:l}=n,l)),r.$$.dirty&1024&&f(t(1,s=wt("",[Ya(m)]))),r.$$.dirty&2&&t(0,i=Un({columnName:s,columnType:A})),r.$$.dirty&1&&T(t(2,{isSubmitting:o}=i,o))},[i,s,o,l,b,$,E,A,P,n,m,h,O]}class fce extends x{constructor(e){super(),J(this,e,cce,uce,Q,{})}}function mce(r){let e,t,n,l;const s=r[5].default,i=Ie(s,r,r[4],null);return{c(){e=M("div"),i&&i.c(),D(e,"class","draggable svelte-3gs1al"),D(e,"draggable",r[0]),re(e,"draggable_active",r[0])},m(o,a){w(o,e,a),i&&i.m(e,null),t=!0,n||(l=He(e,"dragstart",r[6]),n=!0)},p(o,[a]){i&&i.p&&(!t||a&16)&&Ae(i,s,o,o[4],t?Me(s,o[4],a,null):Pe(o[4]),null),(!t||a&1)&&D(e,"draggable",o[0]),(!t||a&1)&&re(e,"draggable_active",o[0])},i(o){t||(_(i,o),t=!0)},o(o){g(i,o),t=!1},d(o){o&&v(e),i&&i.d(o),n=!1,l()}}}function dce(r,e,t){let n,{$$slots:l={},$$scope:s}=e,{selection:i}=e,{selectionInProgress:o=!0}=e,{column:a}=e;function u(c){ye.call(this,r,c)}return r.$$set=c=>{"selection"in c&&t(1,i=c.selection),"selectionInProgress"in c&&t(2,o=c.selectionInProgress),"column"in c&&t(3,a=c.column),"$$scope"in c&&t(4,s=c.$$scope)},r.$$.update=()=>{r.$$.dirty&14&&t(0,n=!o&&i&&i.isCompleteColumnSelected(a))},[n,i,o,a,s,l,u]}class _ce extends x{constructor(e){super(),J(this,e,dce,mce,Q,{selection:1,selectionInProgress:2,column:3})}}const pce=r=>({}),T4=r=>({class:"drag-over"});function gce(r){let e,t,n,l;const s=r[10].default,i=Ie(s,r,r[9],T4);return{c(){e=M("div"),i&&i.c(),D(e,"class","droppable svelte-15893zs"),re(e,"is_selected",r[0]),re(e,"dragged_over",r[1]),re(e,"dragged_over_right",r[3]),re(e,"dragged_over_left",r[2])},m(o,a){w(o,e,a),i&&i.m(e,null),t=!0,n||(l=[He(e,"drop",r[11]),He(e,"dragover",hce),He(e,"dragenter",r[12]),He(e,"dragleave",r[13])],n=!0)},p(o,[a]){i&&i.p&&(!t||a&512)&&Ae(i,s,o,o[9],t?Me(s,o[9],a,pce):Pe(o[9]),T4),(!t||a&1)&&re(e,"is_selected",o[0]),(!t||a&2)&&re(e,"dragged_over",o[1]),(!t||a&8)&&re(e,"dragged_over_right",o[3]),(!t||a&4)&&re(e,"dragged_over_left",o[2])},i(o){t||(_(i,o),t=!0)},o(o){g(i,o),t=!1},d(o){o&&v(e),i&&i.d(o),n=!1,It(l)}}}const hce=r=>r.preventDefault();function bce(r,e,t){let n,l,s,{$$slots:i={},$$scope:o}=e,{locationOfFirstDraggedColumn:a}=e,{columnLocation:u}=e,{isSelected:c=!1}=e,f=0;function m($){$.preventDefault(),t(1,f+=1)}function d(){t(1,f-=1)}function p($){ye.call(this,r,$)}const h=$=>m($),b=()=>d();return r.$$set=$=>{"locationOfFirstDraggedColumn"in $&&t(6,a=$.locationOfFirstDraggedColumn),"columnLocation"in $&&t(7,u=$.columnLocation),"isSelected"in $&&t(0,c=$.isSelected),"$$scope"in $&&t(9,o=$.$$scope)},r.$$.update=()=>{r.$$.dirty&192&&t(8,n=a!==void 0?a-u:0),r.$$.dirty&256&&t(3,l=n<0),r.$$.dirty&256&&t(2,s=n>0),r.$$.dirty&64&&a===void 0&&t(1,f=0)},[c,f,s,l,m,d,a,u,n,o,i,p,h,b]}class v8 extends x{constructor(e){super(),J(this,e,bce,gce,Q,{locationOfFirstDraggedColumn:6,columnLocation:7,isSelected:0})}}function E4(r,e,t){const n=r.slice();return n[28]=e[t][0],n[29]=e[t][1],n}function $ce(r){let e,t,n=[r[26],{style:t=r[27]}],l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return{c(){e=M("div"),ct(e,l),re(e,"svelte-1vwp6b3",!0)},m(s,i){w(s,e,i)},p(s,i){ct(e,l=de(n,[i[0]&67108864&&s[26],i[0]&134217728&&t!==(t=s[27])&&{style:t}])),re(e,"svelte-1vwp6b3",!0)},d(s){s&&v(e)}}}function vce(r){let e,t;return e=new v8({props:{locationOfFirstDraggedColumn:0,columnLocation:-1,$$slots:{default:[$ce]},$$scope:{ctx:r}}}),e.$on("drop",r[18]),e.$on("dragover",Dce),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&201326592|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wce(r){let e,t;function n(){return r[19](r[29])}function l(){return r[20](r[29])}return e=new Zue({props:{processedColumn:r[29],isSelected:si(r[3],r[2],r[29])}}),e.$on("mousedown",n),e.$on("mouseenter",l),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){r=s;const o={};i[0]&1024&&(o.processedColumn=r[29]),i[0]&1036&&(o.isSelected=si(r[3],r[2],r[29])),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function kce(r){let e,t;function n(){return r[21](r[29])}return e=new v8({props:{locationOfFirstDraggedColumn:r[4],columnLocation:r[5].indexOf(r[28].toString()),isSelected:si(r[3],r[2],r[29]),$$slots:{default:[wce]},$$scope:{ctx:r}}}),e.$on("drop",n),e.$on("dragover",Ice),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s[0]&16&&(i.locationOfFirstDraggedColumn=r[4]),s[0]&1056&&(i.columnLocation=r[5].indexOf(r[28].toString())),s[0]&1036&&(i.isSelected=si(r[3],r[2],r[29])),s[0]&1038|s[1]&2&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function yce(r){let e,t;return e=new g8({props:{processedColumn:r[29]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1024&&(s.processedColumn=n[29]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Sce(r){let e,t,n,l,s,i,o,a,u;n=new _ce({props:{column:r[29],selection:r[1],selectionInProgress:r[11],$$slots:{default:[kce]},$$scope:{ctx:r}}}),n.$on("dragstart",r[22]),s=new Tm({props:{columnIdentifierKey:r[28]}}),o=new Of({props:{$$slots:{default:[yce]},$$scope:{ctx:r}}});let c=[r[26],{style:a=r[27]}],f={};for(let m=0;m<c.length;m+=1)f=le(f,c[m]);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment),ct(t,f),re(t,"svelte-1vwp6b3",!0)},m(m,d){w(m,e,d),I(e,t),y(n,t,null),I(t,l),y(s,t,null),I(t,i),y(o,t,null),u=!0},p(m,d){const p={};d[0]&1024&&(p.column=m[29]),d[0]&2&&(p.selection=m[1]),d[0]&2048&&(p.selectionInProgress=m[11]),d[0]&1086|d[1]&2&&(p.$$scope={dirty:d,ctx:m}),n.$set(p);const h={};d[0]&1024&&(h.columnIdentifierKey=m[28]),s.$set(h);const b={};d[0]&1024|d[1]&2&&(b.$$scope={dirty:d,ctx:m}),o.$set(b),ct(t,f=de(c,[d[0]&67108864&&m[26],(!u||d[0]&134217728&&a!==(a=m[27]))&&{style:a}])),re(t,"svelte-1vwp6b3",!0)},i(m){u||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(o.$$.fragment,m),u=!0)},o(m){g(n.$$.fragment,m),g(s.$$.fragment,m),g(o.$$.fragment,m),u=!1},d(m){m&&v(e),S(n),S(s),S(o)}}}function D4(r,e){let t,n,l;return n=new Qr({props:{columnIdentifierKey:e[28],$$slots:{default:[Sce,({htmlAttributes:s,style:i})=>({26:s,27:i}),({htmlAttributes:s,style:i})=>[(s?67108864:0)|(i?134217728:0)]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i[0]&1024&&(o.columnIdentifierKey=e[28]),i[0]&201329726|i[1]&2&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function I4(r){let e,t;return e=new Qr({props:{columnIdentifierKey:_f,$$slots:{default:[Cce,({htmlAttributes:n,style:l})=>({26:n,27:l}),({htmlAttributes:n,style:l})=>[(n?67108864:0)|(l?134217728:0)]]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&201326592|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Cce(r){let e,t,n,l;t=new fce({});let s=[r[26],{class:"new-column-cell"},{style:n=r[27]}],i={};for(let o=0;o<s.length;o+=1)i=le(i,s[o]);return{c(){e=M("div"),C(t.$$.fragment),ct(e,i),re(e,"svelte-1vwp6b3",!0)},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,a){ct(e,i=de(s,[a[0]&67108864&&o[26],{class:"new-column-cell"},(!l||a[0]&134217728&&n!==(n=o[27]))&&{style:n}])),re(e,"svelte-1vwp6b3",!0)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&v(e),S(t)}}}function Tce(r){let e,t,n=[],l=new Map,s,i,o;e=new Qr({props:{columnIdentifierKey:Ha,isStatic:!0,isControlCell:!0,$$slots:{default:[vce,({htmlAttributes:f,style:m})=>({26:f,27:m}),({htmlAttributes:f,style:m})=>[(f?67108864:0)|(m?134217728:0)]]},$$scope:{ctx:r}}});let a=[...r[10]];const u=f=>f[28];for(let f=0;f<a.length;f+=1){let m=E4(r,a,f),d=u(m);l.set(d,n[f]=D4(d,m))}let c=r[0]&&I4(r);return{c(){C(e.$$.fragment),t=N();for(let f=0;f<n.length;f+=1)n[f].c();s=N(),c&&c.c(),i=oe()},m(f,m){y(e,f,m),w(f,t,m);for(let d=0;d<n.length;d+=1)n[d].m(f,m);w(f,s,m),c&&c.m(f,m),w(f,i,m),o=!0},p(f,m){const d={};m[0]&201326592|m[1]&2&&(d.$$scope={dirty:m,ctx:f}),e.$set(d),m[0]&201354302&&(a=[...f[10]],G(),n=gt(n,m,u,1,f,a,l,s.parentNode,bt,D4,s,E4),K()),f[0]?c?(c.p(f,m),m[0]&1&&_(c,1)):(c=I4(f),c.c(),_(c,1),c.m(i.parentNode,i)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){if(!o){_(e.$$.fragment,f);for(let m=0;m<a.length;m+=1)_(n[m]);_(c),o=!0}},o(f){g(e.$$.fragment,f);for(let m=0;m<n.length;m+=1)g(n[m]);g(c),o=!1},d(f){S(e,f),f&&v(t);for(let m=0;m<n.length;m+=1)n[m].d(f);f&&v(s),c&&c.d(f),f&&v(i)}}}function Ece(r){let e,t;return e=new Cm({props:{$$slots:{default:[Tce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&3135|l[1]&2&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const Dce=r=>r.preventDefault(),Ice=r=>r.preventDefault();function Mce(r,e,t){let n,l,s,i,o,a,u,c,f=j,m=()=>(f(),f=ue(s,_e=>t(10,c=_e)),s),d,p=j,h=()=>(p(),p=ue(o,_e=>t(2,d=_e)),o),b,$=j,k=()=>($(),$=ue(i,_e=>t(3,b=_e)),i),T,E,A=j,P=()=>(A(),A=ue(a,_e=>t(11,E=_e)),a);r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>p()),r.$$.on_destroy.push(()=>$()),r.$$.on_destroy.push(()=>A());const O=Ft();Z(r,O,_e=>t(17,T=_e));let{hasNewColumnButton:R=!1}=e,{columnOrder:F}=e,{table:L}=e,U,W=[],H=[];function z(){for(const _e of c.keys()){const ae=_e.toString();t(5,n=[...new Set(n)]),n.includes(ae)||t(5,n=[...n,ae])}t(5,n),t(15,F);for(const _e of n)u.map(String).includes(_e)?(W.push(_e),U||t(4,U=n.indexOf(_e))):H.push(_e)}function te(_e){if(u.length>0&&_e&&u[0]===_e.id){t(4,U=void 0),W=[],H=[];return}_e?H.splice(n.indexOf(_e.id.toString()),0,...W):H.splice(0,0,...W),wW(L,H.map(Number)),t(4,U=void 0),W=[],H=[]}const se=()=>te(),B=_e=>l.onColumnSelectionStart(_e),V=_e=>l.onMouseEnterColumnHeaderWhileSelection(_e),ee=_e=>te(_e),ie=()=>z();return r.$$set=_e=>{"hasNewColumnButton"in _e&&t(0,R=_e.hasNewColumnButton),"columnOrder"in _e&&t(15,F=_e.columnOrder),"table"in _e&&t(16,L=_e.table)},r.$$.update=()=>{r.$$.dirty[0]&32768&&t(15,F=F!=null?F:[]),r.$$.dirty[0]&32768&&t(5,n=F.map(String)),r.$$.dirty[0]&131072&&t(1,{selection:l,processedColumns:s}=T,l,m(t(9,s))),r.$$.dirty[0]&2&&k(t(8,{selectedCells:i,columnsSelectedWhenTheTableIsEmpty:o,selectionInProgress:a}=l,i,h(t(7,o)),P(t(6,a)))),r.$$.dirty[0]&14&&(u=l.getSelectedUniqueColumnsId(b,d))},[R,l,d,b,U,n,a,o,i,s,c,E,O,z,te,F,L,T,se,B,V,ee,ie]}class Ace extends x{constructor(e){super(),J(this,e,Mce,Ece,Q,{hasNewColumnButton:0,columnOrder:15,table:16},null,[-1,-1])}}function M4(r){let e,t;return e=new dt({props:{disabled:r[3],size:"medium",appearance:"primary",$$slots:{default:[Pce]},$$scope:{ctx:r}}}),e.$on("click",r[39]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.disabled=n[3]),l[0]&524288|l[1]&1024&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pce(r){let e,t,n,l=r[19]("new_record")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c[0]&524288)&&l!==(l=u[19]("new_record")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Rce(r){let e=r[19]("no_records_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&524288&&e!==(e=n[19]("no_records_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Oce(r){let e=r[19]("showing_n_to_m_of_total_records",{values:{leftBound:r[14],rightBound:r[8],totalCount:r[4]}})+"",t,n,l,s=r[20].length>0&&A4(r);return{c(){t=q(e),n=N(),s&&s.c(),l=oe()},m(i,o){w(i,t,o),w(i,n,o),s&&s.m(i,o),w(i,l,o)},p(i,o){o[0]&540944&&e!==(e=i[19]("showing_n_to_m_of_total_records",{values:{leftBound:i[14],rightBound:i[8],totalCount:i[4]}})+"")&&Y(t,e),i[20].length>0?s?s.p(i,o):(s=A4(i),s.c(),s.m(l.parentNode,l)):s&&(s.d(1),s=null)},d(i){i&&v(t),i&&v(n),s&&s.d(i),i&&v(l)}}}function A4(r){let e,t=r[19]("count_new_records",{values:{count:r[20].length}})+"",n,l;return{c(){e=q("("),n=q(t),l=q(")")},m(s,i){w(s,e,i),w(s,n,i),w(s,l,i)},p(s,i){i[0]&1572864&&t!==(t=s[19]("count_new_records",{values:{count:s[20].length}})+"")&&Y(n,t)},d(s){s&&v(e),s&&v(n),s&&v(l)}}}function Lce(r){var k;let e,t,n,l,s,i,o,a,u,c,f,m=r[7]&&M4(r);function d(T,E){if(T[9]>0&&T[4])return Oce;if(T[1]!==rn.Loading)return Rce}let p=d(r),h=p&&p(r);function b(T){r[40](T)}let $={totalCount:(k=r[4])!=null?k:0,pageSizeOptions:r[0]==="widget"?[]:void 0,hiddenWhenPossible:r[0]==="widget"};return r[5]!==void 0&&($.pagination=r[5]),o=new Jy({props:$}),Te.push(()=>Oe(o,"pagination",b)),c=new t8({props:{state:r[6]}}),c.$on("click",r[23]),{c(){e=M("div"),t=M("div"),m&&m.c(),n=N(),l=M("div"),h&&h.c(),s=N(),i=M("div"),C(o.$$.fragment),u=N(),C(c.$$.fragment),D(l,"class","record-count"),D(t,"class","status-pane-items-section svelte-14gcgi5"),D(i,"class","status-pane-items-section svelte-14gcgi5"),D(e,"class","status-pane svelte-14gcgi5"),re(e,"context-widget",r[0]==="widget"),re(e,"context-page",r[0]==="page"),re(e,"context-shared-consumer-page",r[0]==="shared-consumer-page")},m(T,E){w(T,e,E),I(e,t),m&&m.m(t,null),I(t,n),I(t,l),h&&h.m(l,null),I(e,s),I(e,i),y(o,i,null),I(i,u),y(c,i,null),f=!0},p(T,E){var O;T[7]?m?(m.p(T,E),E[0]&128&&_(m,1)):(m=M4(T),m.c(),_(m,1),m.m(t,n)):m&&(G(),g(m,1,1,()=>{m=null}),K()),p===(p=d(T))&&h?h.p(T,E):(h&&h.d(1),h=p&&p(T),h&&(h.c(),h.m(l,null)));const A={};E[0]&16&&(A.totalCount=(O=T[4])!=null?O:0),E[0]&1&&(A.pageSizeOptions=T[0]==="widget"?[]:void 0),E[0]&1&&(A.hiddenWhenPossible=T[0]==="widget"),!a&&E[0]&32&&(a=!0,A.pagination=T[5],Ne(()=>a=!1)),o.$set(A);const P={};E[0]&64&&(P.state=T[6]),c.$set(P),(!f||E[0]&1)&&re(e,"context-widget",T[0]==="widget"),(!f||E[0]&1)&&re(e,"context-page",T[0]==="page"),(!f||E[0]&1)&&re(e,"context-shared-consumer-page",T[0]==="shared-consumer-page")},i(T){f||(_(m),_(o.$$.fragment,T),_(c.$$.fragment,T),f=!0)},o(T){g(m),g(o.$$.fragment,T),g(c.$$.fragment,T),f=!1},d(T){T&&v(e),m&&m.d(),h&&h.d(),S(o),S(c)}}}function Nce(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F,L,U,W=j,H=()=>(W(),W=ue(a,et=>t(3,U=et)),a),z,te=j,se=()=>(te(),te=ue(c,et=>t(33,z=et)),c),B,V=j,ee=()=>(V(),V=ue(E,et=>t(34,B=et)),E),ie,_e=j,ae=()=>(_e(),_e=ue(b,et=>t(4,ie=et)),b),fe,Ue=j,ve=()=>(Ue(),Ue=ue($,et=>t(35,fe=et)),$),Se,ke=j,Fe=()=>(ke(),ke=ue(m,et=>t(5,Se=et)),m),we,Re,Ge,Je,Ke,ot=j,lt=()=>(ot(),ot=ue(k,et=>t(20,Ke=et)),k);Z(r,En,et=>t(37,Re=et)),Z(r,On,et=>t(38,Ge=et)),Z(r,ge,et=>t(19,Je=et)),r.$$.on_destroy.push(()=>W()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>_e()),r.$$.on_destroy.push(()=>Ue()),r.$$.on_destroy.push(()=>ke()),r.$$.on_destroy.push(()=>ot());const ze=Ft();Z(r,ze,et=>t(32,L=et));const Xe=Zt();Z(r,Xe,et=>t(36,we=et));let{context:pt="page"}=e;function rt(){L.refresh()}const st=()=>{i.addEmptyRecord(),f.selectAndActivateFirstDataEntryCellInLastRow()};function qe(et){Se=et,m.set(Se)}return r.$$set=et=>{"context"in et&&t(0,pt=et.context)},r.$$.update=()=>{r.$$.dirty[1]&128&&t(31,n=Ge),r.$$.dirty[1]&64&&t(30,l=Re),r.$$.dirty[0]&1073741824|r.$$.dirty[1]&33&&t(25,s=!!(we!=null&&we.hasPermission({database:n,schema:l},"canEditTableRecords"))),r.$$.dirty[1]&2&&t(2,{recordsData:i,meta:o,isLoading:a,columnsDataStore:u,constraintsDataStore:c,selection:f}=L,i,(t(29,o),t(32,L)),H(t(18,a)),(t(28,u),t(32,L)),se(t(17,c)),(t(16,f),t(32,L))),r.$$.dirty[0]&536870912&&Fe(t(15,{pagination:m}=o,m)),r.$$.dirty[0]&32&&t(27,{size:d,leftBound:p,rightBound:h}=Se,d,(t(14,p),t(5,Se)),(t(26,h),t(5,Se))),r.$$.dirty[0]&4&&ae(t(13,{totalCount:b,state:$,newRecords:k}=i,b,ve(t(12,$)),lt(t(11,k)))),r.$$.dirty[1]&16&&t(1,T=fe),r.$$.dirty[0]&268435456&&ee(t(10,E=u.fetchStatus)),r.$$.dirty[0]&134217744&&t(9,A=Uw(ie!=null?ie:0,d)),r.$$.dirty[0]&67108880&&t(8,P=Math.min(ie!=null?ie:0,h)),r.$$.dirty[0]&2|r.$$.dirty[1]&12&&t(24,O=(B==null?void 0:B.state)==="failure"||T===rn.Error||z.state===rn.Error),r.$$.dirty[0]&33554433&&t(7,R=pt!=="widget"&&s),r.$$.dirty[0]&16777224&&t(6,F=(()=>{let et;return U&&(et="loading"),O&&(et="error"),et})())},[pt,T,i,U,ie,Se,F,R,P,A,E,k,$,b,p,m,f,c,a,Je,Ke,ze,Xe,rt,O,s,h,d,u,o,l,n,L,z,B,fe,we,Re,Ge,st,qe]}class Fce extends x{constructor(e){super(),J(this,e,Nce,Lce,Q,{context:0},null,[-1,-1])}}function w8(r){return!r.name.match(/[{}]/)}function k8(r,e){var l;const n=((l=e.match(/\{\d+\}/g))!=null?l:[]).map(s=>parseInt(s.slice(1,-1),10));return r.filter(s=>n.includes(s.id))}function Hce(r){return yi(e=>k8(r,e).length>0,Ve(ge)("template_refer_atleast_one_column_error"))}class zce{constructor(e){ce(this,"columns");this.columns=e.filter(w8)}getColumnName(e){var t;return(t=this.columns.find(n=>n.id===e))==null?void 0:t.name}getColumnId(e){var t;return(t=this.columns.find(n=>n.name===e))==null?void 0:t.id}format(e){const t=/\{\d+\}/g;return e.replace(t,n=>{const l=parseInt(n.slice(1,-1),10),s=this.getColumnName(l);return s===void 0?n:`{${s}}`})}parse(e){const t=/\{[^{}]+\}/g,n=e;return{value:e.replace(t,s=>{const i=s.slice(1,-1),o=this.getColumnId(i);return o===void 0?s:`{${o}}`}),intermediateDisplay:n}}}function P4(r,e,t){const n=r.slice();return n[10]=e[t],n}function R4(r,e){let t,n,l;function s(){return e[8](e[10])}return n=new sn({props:{label:e[10].name,icon:e[6](e[10])}}),n.$on("click",s),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,o){e=i;const a={};o&1&&(a.label=e[10].name),o&1&&(a.icon=e[6](e[10])),n.$set(a)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&v(t),S(n,i)}}}function Vce(r){let e=[],t=new Map,n,l,s=r[0];const i=o=>o[10].id;for(let o=0;o<s.length;o+=1){let a=P4(r,s,o),u=i(a);t.set(u,e[o]=R4(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&67&&(s=o[0],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,R4,n,P4),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function qce(r){let e,t;return e=new Xr({props:{label:r[4]("append_column"),icon:jt,disabled:r[2],$$slots:{default:[Vce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&16&&(s.label=n[4]("append_column")),l&4&&(s.disabled=n[2]),l&8195&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bce(r,e,t){let n,l,s=j,i=()=>(s(),s=ue(n,h=>t(9,l=h)),n),o,a;Z(r,ge,h=>t(4,a=h)),r.$$.on_destroy.push(()=>s());const u=Ft();Z(r,u,h=>t(7,o=h));let{columns:c}=e,{onSelect:f}=e,{disabled:m=!1}=e;function d(h){const b=Zl(h.id,l);if(b!=null&&b.includes("primary"))return Qs;if(b!=null&&b.includes("foreignkey"))return io;const $=hy(h);return Array.isArray($)?$[0]:$}const p=h=>f(h);return r.$$set=h=>{"columns"in h&&t(0,c=h.columns),"onSelect"in h&&t(1,f=h.onSelect),"disabled"in h&&t(2,m=h.disabled)},r.$$.update=()=>{r.$$.dirty&128&&i(t(3,{processedColumns:n}=o,n))},[c,f,m,n,a,u,d,o,p]}class Uce extends x{constructor(e){super(),J(this,e,Bce,qce,Q,{columns:0,onSelect:1,disabled:2})}}function Wce(r){let e,t,n,l,s,i;const o=[{formatter:r[3]},{disabled:r[2]},r[5]];function a(c){r[6](c)}let u={};for(let c=0;c<o.length;c+=1)u=le(u,o[c]);return r[0]!==void 0&&(u.value=r[0]),e=new di({props:u}),Te.push(()=>Oe(e,"value",a)),s=new Uce({props:{columns:r[1],onSelect:r[4],disabled:r[2]}}),{c(){C(e.$$.fragment),n=N(),l=M("span"),C(s.$$.fragment),D(l,"class","column-insert svelte-86c15b")},m(c,f){y(e,c,f),w(c,n,f),w(c,l,f),y(s,l,null),i=!0},p(c,[f]){const m=f&44?de(o,[f&8&&{formatter:c[3]},f&4&&{disabled:c[2]},f&32&&$e(c[5])]):{};!t&&f&1&&(t=!0,m.value=c[0],Ne(()=>t=!1)),e.$set(m);const d={};f&2&&(d.columns=c[1]),f&4&&(d.disabled=c[2]),s.$set(d)},i(c){i||(_(e.$$.fragment,c),_(s.$$.fragment,c),i=!0)},o(c){g(e.$$.fragment,c),g(s.$$.fragment,c),i=!1},d(c){S(e,c),c&&v(n),c&&v(l),S(s)}}}function jce(r,e,t){let n;const l=["value","columns","disabled"];let s=Ye(e,l),{value:i=void 0}=e,{columns:o}=e,{disabled:a=!1}=e;function u(f){t(0,i=`${i}{${f.id}}`)}function c(f){i=f,t(0,i)}return r.$$set=f=>{e=le(le({},e),_t(f)),t(5,s=Ye(e,l)),"value"in f&&t(0,i=f.value),"columns"in f&&t(1,o=f.columns),"disabled"in f&&t(2,a=f.disabled)},r.$$.update=()=>{r.$$.dirty&2&&t(3,n=new zce(o))},[i,o,a,n,u,s,c]}class O4 extends x{constructor(e){super(),J(this,e,jce,Wce,Q,{value:0,columns:1,disabled:2})}}function L4(r,e,t){const n=r.slice();return n[38]=e[t],n}function Yce(r){let e,t,n,l,s=r[1]&&N4(r),i=r[2]&&H4(r),o=r[6]&&B4(r);return{c(){s&&s.c(),e=N(),i&&i.c(),t=N(),o&&o.c(),n=oe()},m(a,u){s&&s.m(a,u),w(a,e,u),i&&i.m(a,u),w(a,t,u),o&&o.m(a,u),w(a,n,u),l=!0},p(a,u){a[1]?s?(s.p(a,u),u[0]&2&&_(s,1)):(s=N4(a),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(G(),g(s,1,1,()=>{s=null}),K()),a[2]?i?(i.p(a,u),u[0]&4&&_(i,1)):(i=H4(a),i.c(),_(i,1),i.m(t.parentNode,t)):i&&(G(),g(i,1,1,()=>{i=null}),K()),a[6]?o?o.p(a,u):(o=B4(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i(a){l||(_(s),_(i),l=!0)},o(a){g(s),g(i),l=!1},d(a){s&&s.d(a),a&&v(e),i&&i.d(a),a&&v(t),o&&o.d(a),a&&v(n)}}}function Gce(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function N4(r){let e,t=r[14]("preview")+"",n,l,s,i,o,a,u,c;return o=new St({props:{text:r[14]("record_summary_help"),$$slots:{default:[Xce,({slotName:f})=>({41:f}),({slotName:f})=>[0,f?1024:0]]},$$scope:{ctx:r}}}),u=new Bu({props:{recordSummary:r[1]}}),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),i=M("div"),C(o.$$.fragment),a=N(),C(u.$$.fragment),D(e,"class","heading svelte-1hlltog"),D(i,"class","help svelte-1hlltog"),D(s,"class","content svelte-1hlltog")},m(f,m){w(f,e,m),I(e,n),w(f,l,m),w(f,s,m),I(s,i),y(o,i,null),I(s,a),y(u,s,null),c=!0},p(f,m){(!c||m[0]&16384)&&t!==(t=f[14]("preview")+"")&&Y(n,t);const d={};m[0]&16384&&(d.text=f[14]("record_summary_help")),m[0]&1|m[1]&3072&&(d.$$scope={dirty:m,ctx:f}),o.$set(d);const p={};m[0]&2&&(p.recordSummary=f[1]),u.$set(p)},i(f){c||(_(o.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(o.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),f&&v(l),f&&v(s),S(o),S(u)}}}function F4(r){let e,t;return e=new vr({props:{$$slots:{default:[Kce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1|l[1]&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kce(r){let e=r[0].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&1&&e!==(e=n[0].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function Xce(r){let e,t,n=r[41]==="tableName"&&F4(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[41]==="tableName"?n?(n.p(l,s),s[1]&1024&&_(n,1)):(n=F4(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function H4(r){let e,t=r[14]("template")+"",n,l,s,i,o,a,u,c,f;function m(h){r[36](h)}let d={options:[!1,!0],getRadioLabel:r[35],ariaLabel:r[14]("template_type"),isInline:!0,disabled:r[17]};r[16]!==void 0&&(d.value=r[16]),i=new hs({props:d}),Te.push(()=>Oe(i,"value",m));let p=r[16]&&z4(r);return c=new Zr({props:{form:r[8],onProceed:r[19],onCancel:r[8].reset,proceedButton:{label:r[14]("save")},initiallyHidden:!0,size:"small"}}),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment),a=N(),p&&p.c(),u=N(),C(c.$$.fragment),D(e,"class","heading svelte-1hlltog"),D(s,"class","content svelte-1hlltog")},m(h,b){w(h,e,b),I(e,n),w(h,l,b),w(h,s,b),y(i,s,null),I(s,a),p&&p.m(s,null),I(s,u),y(c,s,null),f=!0},p(h,b){(!f||b[0]&16384)&&t!==(t=h[14]("template")+"")&&Y(n,t);const $={};b[0]&16384&&($.getRadioLabel=h[35]),b[0]&16384&&($.ariaLabel=h[14]("template_type")),b[0]&131072&&($.disabled=h[17]),!o&&b[0]&65536&&(o=!0,$.value=h[16],Ne(()=>o=!1)),i.$set($),h[16]?p?(p.p(h,b),b[0]&65536&&_(p,1)):(p=z4(h),p.c(),_(p,1),p.m(s,u)):p&&(G(),g(p,1,1,()=>{p=null}),K());const k={};b[0]&256&&(k.form=h[8]),b[0]&256&&(k.onCancel=h[8].reset),b[0]&16384&&(k.proceedButton={label:h[14]("save")}),c.$set(k)},i(h){f||(_(i.$$.fragment,h),_(p),_(c.$$.fragment,h),f=!0)},o(h){g(i.$$.fragment,h),g(p),g(c.$$.fragment,h),f=!1},d(h){h&&v(e),h&&v(l),h&&v(s),S(i),p&&p.d(),S(c)}}}function z4(r){let e,t,n,l;e=new Vt({props:{field:r[3],input:{component:O4,props:{columns:r[5]}}}});let s=r[7].length&&V4(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o[0]&8&&(a.field=i[3]),o[0]&32&&(a.input={component:O4,props:{columns:i[5]}}),e.$set(a),i[7].length?s?(s.p(i,o),o[0]&128&&_(s,1)):(s=V4(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function V4(r){let e,t;return e=new Cs({props:{$$slots:{default:[tfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16512|l[1]&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qce(r){let e,t;return e=new vr({props:{$$slots:{default:[Jce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&128|l[1]&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Zce(r){let e,t;return e=new vr({props:{$$slots:{default:[xce]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&128|l[1]&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Jce(r){let e=r[38].name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&128&&e!==(e=n[38].name+"")&&Y(t,e)},d(n){n&&v(t)}}}function xce(r){let e=r[38].id+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&128&&e!==(e=n[38].id+"")&&Y(t,e)},d(n){n&&v(t)}}}function efe(r){let e,t,n,l;const s=[Zce,Qce],i=[];function o(a,u){return a[41]==="columnId"?0:a[41]==="columnName"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function q4(r){let e,t,n,l;return t=new St({props:{text:r[14]("column_id_references_column_name"),$$slots:{default:[efe,({slotName:s})=>({41:s}),({slotName:s})=>[0,s?1024:0]]},$$scope:{ctx:r}}}),{c(){e=M("li"),C(t.$$.fragment),n=N()},m(s,i){w(s,e,i),y(t,e,null),I(e,n),l=!0},p(s,i){const o={};i[0]&16384&&(o.text=s[14]("column_id_references_column_name")),i[0]&128|i[1]&3072&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&v(e),S(t)}}}function tfe(r){let e,t,n=r[14]("record_summary_non_conformant_columns_help")+"",l,s,i,o,a,u=r[7],c=[];for(let m=0;m<u.length;m+=1)c[m]=q4(L4(r,u,m));const f=m=>g(c[m],1,1,()=>{c[m]=null});return{c(){e=M("div"),t=M("p"),l=q(n),s=q(":"),i=N(),o=M("ul");for(let m=0;m<c.length;m+=1)c[m].c();D(o,"class","svelte-1hlltog"),D(e,"class","nonconformant-columns svelte-1hlltog")},m(m,d){w(m,e,d),I(e,t),I(t,l),I(t,s),I(e,i),I(e,o);for(let p=0;p<c.length;p+=1)c[p].m(o,null);a=!0},p(m,d){if((!a||d[0]&16384)&&n!==(n=m[14]("record_summary_non_conformant_columns_help")+"")&&Y(l,n),d[0]&16512|d[1]&1024){u=m[7];let p;for(p=0;p<u.length;p+=1){const h=L4(m,u,p);c[p]?(c[p].p(h,d),_(c[p],1)):(c[p]=q4(h),c[p].c(),_(c[p],1),c[p].m(o,null))}for(G(),p=u.length;p<c.length;p+=1)f(p);K()}},i(m){if(!a){for(let d=0;d<u.length;d+=1)_(c[d]);a=!0}},o(m){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)g(c[d]);a=!1},d(m){m&&v(e),jn(c,m)}}}function B4(r){let e,t=r[14]("no_record_summary_available")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","null-text svelte-1hlltog")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s[0]&16384&&t!==(t=l[14]("no_record_summary_available")+"")&&Y(n,t)},d(l){l&&v(e)}}}function nfe(r){let e,t,n,l;const s=[Gce,Yce],i=[];function o(a,u){return a[15]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","record-summary-config")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function rfe(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F=j,L=()=>(F(),F=ue($,qe=>t(37,R=qe)),$),U,W,H=j,z=()=>(H(),H=ue(c,qe=>t(30,W=qe)),c),te,se=j,B=()=>(se(),se=ue(b,qe=>t(31,te=qe)),b),V,ee=j,ie=()=>(ee(),ee=ue(a,qe=>t(5,V=qe)),a),_e,ae=j,fe=()=>(ae(),ae=ue(u,qe=>t(32,_e=qe)),u),Ue,ve,Se,ke=j,Fe=()=>(ke(),ke=ue(o,qe=>t(15,Se=qe)),o),we,Re=j,Ge=()=>(Re(),Re=ue(p,qe=>t(16,we=qe)),p),Je,Ke=j,ot=()=>(Ke(),Ke=ue(h,qe=>t(17,Je=qe)),h);Z(r,ge,qe=>t(14,O=qe)),Z(r,En,qe=>t(33,Ue=qe)),Z(r,On,qe=>t(34,ve=qe)),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>se()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>ae()),r.$$.on_destroy.push(()=>ke()),r.$$.on_destroy.push(()=>Re()),r.$$.on_destroy.push(()=>Ke());let{table:lt}=e,{tabularData:ze}=e;const Xe=Zt();Z(r,Xe,qe=>t(29,U=qe));async function pt(){try{await vW(lt,R.values)}catch(qe){Tt.error(`${O("unable_to_save_changes")} ${en(qe)}`)}}const rt=qe=>O(qe?"custom":"default");function st(qe){we=qe,p.set(we)}return r.$$set=qe=>{"table"in qe&&t(0,lt=qe.table),"tabularData"in qe&&t(20,ze=qe.tabularData)},r.$$.update=()=>{var qe,et;r.$$.dirty[1]&8&&t(22,n=ve),r.$$.dirty[1]&4&&t(21,l=Ue),r.$$.dirty[0]&1048576&&t(27,{recordsData:s,columnsDataStore:i,isLoading:o}=ze,s,(t(28,i),t(20,ze)),Fe(t(13,o))),r.$$.dirty[0]&268435456&&ie(t(12,{columns:a}=i,a)),r.$$.dirty[0]&134217728&&fe(t(11,{savedRecords:u,recordSummaries:c}=s,u,z(t(10,c)))),r.$$.dirty[1]&2&&t(23,f=_e[0]),r.$$.dirty[0]&1&&t(26,m=(qe=lt.settings.preview_settings.customized)!=null?qe:!1),r.$$.dirty[0]&1&&t(25,d=(et=lt.settings.preview_settings.template)!=null?et:""),r.$$.dirty[0]&67108864&&Ge(t(4,p=wt(m))),r.$$.dirty[0]&16&&ot(t(9,h=p.disabled)),r.$$.dirty[0]&33554464&&B(t(3,b=po(d,[Hce(V)]))),r.$$.dirty[0]&24&&L(t(8,$=Un({customized:p,template:b}))),r.$$.dirty[0]&32|r.$$.dirty[1]&1&&t(24,k=k8(V,te)),r.$$.dirty[0]&16777216&&t(7,T=k.filter(mt=>!w8(mt))),r.$$.dirty[0]&1082130432|r.$$.dirty[1]&1&&t(1,E=(()=>{if(!f)return;const{record:mt}=f;return BH({template:te,record:mt,transitiveData:W})})()),r.$$.dirty[0]&543162368&&t(2,A=U==null?void 0:U.hasPermission({database:n,schema:l},"canEditMetadata")),r.$$.dirty[0]&6&&t(6,P=!A&&!E)},[lt,E,A,b,p,V,P,T,$,h,c,u,a,o,O,Se,we,Je,Xe,pt,ze,l,n,f,k,d,m,s,i,U,W,te,_e,Ue,ve,rt,st]}class y8 extends x{constructor(e){super(),J(this,e,rfe,nfe,Q,{table:0,tabularData:20},null,[-1,-1])}}function lfe(r){let e,t;return e=new y8({props:{table:r[0],tabularData:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.table=n[0]),l&2&&(s.tabularData=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sfe(r,e,t){let n,l,s;Z(r,wr,o=>t(3,s=o));let{table:i}=e;return r.$$set=o=>{"table"in o&&t(0,i=o.table)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=s.data),r.$$.dirty&5&&t(1,l=new Qu({id:i.id,abstractTypesMap:n,meta:new vs({pagination:new Gr({size:1})}),table:i}))},[i,l,n,s]}class ife extends x{constructor(e){super(),J(this,e,sfe,lfe,Q,{table:0})}}function U4(r,e,t){const n=r.slice();return n[16]=e[t],n}function ofe(r){let e,t,n,l,s,i,o;function a(m){r[15](m)}var u=r[6];function c(m){let d={disabled:m[5],autofocus:!0};return m[2]!==void 0&&(d.value=m[2]),{props:d}}u&&(t=new u(c(r)),Te.push(()=>Oe(t,"value",a)));let f=r[3].length&&W4(r);return i=new Kr({props:{onProceed:r[11],onCancel:r[10],isProcessing:r[5],canProceed:r[7],proceedButton:{label:r[8]("save")},size:"small"}}),{c(){e=M("div"),t&&C(t.$$.fragment),l=N(),f&&f.c(),s=N(),C(i.$$.fragment),D(e,"class","input-container svelte-1f8sel4")},m(m,d){w(m,e,d),t&&y(t,e,null),I(e,l),f&&f.m(e,null),I(e,s),y(i,e,null),o=!0},p(m,d){const p={};if(d&32&&(p.disabled=m[5]),!n&&d&4&&(n=!0,p.value=m[2],Ne(()=>n=!1)),u!==(u=m[6])){if(t){G();const b=t;g(b.$$.fragment,1,0,()=>{S(b,1)}),K()}u?(t=new u(c(m)),Te.push(()=>Oe(t,"value",a)),C(t.$$.fragment),_(t.$$.fragment,1),y(t,e,l)):t=null}else u&&t.$set(p);m[3].length?f?f.p(m,d):(f=W4(m),f.c(),f.m(e,s)):f&&(f.d(1),f=null);const h={};d&32&&(h.isProcessing=m[5]),d&128&&(h.canProceed=m[7]),d&256&&(h.proceedButton={label:m[8]("save")}),i.$set(h)},i(m){o||(t&&_(t.$$.fragment,m),_(i.$$.fragment,m),o=!0)},o(m){t&&g(t.$$.fragment,m),g(i.$$.fragment,m),o=!1},d(m){m&&v(e),t&&S(t),f&&f.d(),S(i)}}}function afe(r){let e,t,n;var l=r[6];function s(i){return{props:{value:i[0],disabled:i[1]}}}return l&&(e=new l(s(r)),e.$on("focus",r[9])),{c(){e&&C(e.$$.fragment),t=oe()},m(i,o){e&&y(e,i,o),w(i,t,o),n=!0},p(i,o){const a={};if(o&1&&(a.value=i[0]),o&2&&(a.disabled=i[1]),l!==(l=i[6])){if(e){G();const u=e;g(u.$$.fragment,1,0,()=>{S(u,1)}),K()}l?(e=new l(s(i)),e.$on("focus",i[9]),C(e.$$.fragment),_(e.$$.fragment,1),y(e,t.parentNode,t)):e=null}else l&&e.$set(a)},i(i){n||(e&&_(e.$$.fragment,i),n=!0)},o(i){e&&g(e.$$.fragment,i),n=!1},d(i){i&&v(t),e&&S(e,i)}}}function W4(r){let e,t=r[3],n=[];for(let l=0;l<t.length;l+=1)n[l]=j4(U4(r,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=oe()},m(l,s){for(let i=0;i<n.length;i+=1)n[i].m(l,s);w(l,e,s)},p(l,s){if(s&8){t=l[3];let i;for(i=0;i<t.length;i+=1){const o=U4(l,t,i);n[i]?n[i].p(o,s):(n[i]=j4(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){jn(n,l),l&&v(e)}}}function j4(r){let e,t=r[16]+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","error svelte-1f8sel4")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&8&&t!==(t=l[16]+"")&&Y(n,t)},d(l){l&&v(e)}}}function ufe(r){let e,t,n,l;const s=[afe,ofe],i=[];function o(a,u){return!a[4]||a[1]?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","editable-text svelte-1f8sel4")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function cfe(r,e,t){let n,l,s,i;Z(r,ge,T=>t(8,i=T));let{initialValue:o=""}=e,{onSubmit:a}=e,{getValidationErrors:u=()=>[]}=e,{isLongText:c=!1}=e,{disabled:f=!1}=e,m=!1,d="",p=!1;function h(){t(2,d=o),t(4,m=!0)}function b(){t(2,d=""),t(4,m=!1)}async function $(){t(5,p=!0);try{await a(d),t(2,d=""),t(4,m=!1)}catch(T){Tt.error(en(T))}finally{t(5,p=!1)}}function k(T){d=T,t(2,d)}return r.$$set=T=>{"initialValue"in T&&t(0,o=T.initialValue),"onSubmit"in T&&t(12,a=T.onSubmit),"getValidationErrors"in T&&t(13,u=T.getValidationErrors),"isLongText"in T&&t(14,c=T.isLongText),"disabled"in T&&t(1,f=T.disabled)},r.$$.update=()=>{r.$$.dirty&8197&&t(3,n=d===o?[]:u(d)),r.$$.dirty&13&&t(7,l=n.length===0&&d!==o),r.$$.dirty&16384&&t(6,s=c?bs:gn)},[o,f,d,n,m,p,s,l,i,h,b,$,a,u,c,k]}class Ja extends x{constructor(e){super(),J(this,e,cfe,ufe,Q,{initialValue:0,onSubmit:12,getValidationErrors:13,isLongText:14,disabled:1})}}function ffe(r){var h;let e,t,n=r[3]("name")+"",l,s,i,o,a,u,c=r[3]("description")+"",f,m,d,p;return i=new Ja({props:{initialValue:r[0].column.name,onSubmit:r[5],getValidationErrors:r[4],disabled:!r[1]}}),d=new Ja({props:{initialValue:(h=r[0].column.description)!=null?h:"",onSubmit:r[6],isLongText:!0,disabled:!r[1]}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),C(i.$$.fragment),o=N(),a=M("div"),u=M("span"),f=q(c),m=N(),C(d.$$.fragment),D(e,"class","column-property column-name svelte-1si0cj8"),D(a,"class","column-property column-description svelte-1si0cj8")},m(b,$){w(b,e,$),I(e,t),I(t,l),I(e,s),y(i,e,null),w(b,o,$),w(b,a,$),I(a,u),I(u,f),I(a,m),y(d,a,null),p=!0},p(b,[$]){var E;(!p||$&8)&&n!==(n=b[3]("name")+"")&&Y(l,n);const k={};$&1&&(k.initialValue=b[0].column.name),$&2&&(k.disabled=!b[1]),i.$set(k),(!p||$&8)&&c!==(c=b[3]("description")+"")&&Y(f,c);const T={};$&1&&(T.initialValue=(E=b[0].column.description)!=null?E:""),$&2&&(T.disabled=!b[1]),d.$set(T)},i(b){p||(_(i.$$.fragment,b),_(d.$$.fragment,b),p=!0)},o(b){g(i.$$.fragment,b),g(d.$$.fragment,b),p=!1},d(b){b&&v(e),S(i),b&&v(o),b&&v(a),S(d)}}}function mfe(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,p=>t(8,s=p)),n);Z(r,ge,p=>t(3,l=p)),r.$$.on_destroy.push(()=>i());let{column:a}=e,{columnsDataStore:u}=e,{canExecuteDDL:c}=e;function f(p){return p===a.column.name?[]:p?s.map(b=>b.name).includes(p)?[l("column_name_already_exists")]:[]:[l("column_name_cannot_be_empty")]}async function m(p){try{await u.rename(a.id,p)}catch(h){Tt.error(`${l("unable_to_rename_column")} ${en(h)}`)}}async function d(p){try{await u.updateDescription(a.id,p!=null?p:null)}catch(h){Tt.error(`${l("unable_to_update_column_desc")} ${en(h)}`)}}return r.$$set=p=>{"column"in p&&t(0,a=p.column),"columnsDataStore"in p&&t(7,u=p.columnsDataStore),"canExecuteDDL"in p&&t(1,c=p.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&128&&o(t(2,{columns:n}=u,n))},[a,c,n,l,f,m,d,u]}class dfe extends x{constructor(e){super(),J(this,e,mfe,ffe,Q,{column:0,columnsDataStore:7,canExecuteDDL:1})}}function _fe(r){let e;const t=r[1].default,n=Ie(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ae(n,t,l,l[2],e?Me(t,l[2],s,null):Pe(l[2]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function pfe(r){let e,t,n;return t=new ju({props:{icon:OO,fullWidth:r[0],$$slots:{default:[_fe]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","outcome-box svelte-siey9s")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&1&&(i.fullWidth=l[0]),s&4&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function gfe(r,e,t){let{$$slots:n={},$$scope:l}=e,{fullWidth:s=!0}=e;return r.$$set=i=>{"fullWidth"in i&&t(0,s=i.fullWidth),"$$scope"in i&&t(2,l=i.$$scope)},[s,n,l]}class S8 extends x{constructor(e){super(),J(this,e,gfe,pfe,Q,{fullWidth:0})}}function hfe(r){let e,t,n;function l(i){r[3](i)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.values=r[0]),e=new du({props:s}),Te.push(()=>Oe(e,"values",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.options=i[1]),!t&&o&1&&(t=!0,a.values=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function bfe(r,e,t){let{options:n}=e,{value:l=[]}=e;function s(o){return{component:Si,props:{processedColumn:o}}}function i(o){l=o,t(0,l)}return r.$$set=o=>{"options"in o&&t(1,n=o.options),"value"in o&&t(0,l=o.value)},[l,n,s,i]}class Y4 extends x{constructor(e){super(),J(this,e,bfe,hfe,Q,{options:1,value:0})}}function $fe({fkConstraint:r,columns:e,tables:t}){const n=t.get(r.referent_table);if(!!n)return{constraint:r,table:n,columns:r.columns.map(l=>e.get(l)).filter(kn)}}function vfe({constraints:r,columns:e,tables:t}){return r.map(n=>Lm(n)?$fe({fkConstraint:n,columns:e,tables:t}):void 0).filter(kn)}function wfe(r,e){const t=e.find(l=>r.columns.some(s=>s.id===l.id));return t?Im(((l,s)=>Ve(ge)("cannot_move_linked_column_to_linked_table",{values:{columnName:l,tableName:s}}))(t.column.name,r.table.name)):Wu()}function G4(r,e,t){const n=r.slice();return n[5]=e[t],n}function K4(r){let e,t,n=r[1],l=[];for(let i=0;i<n.length;i+=1)l[i]=X4(G4(r,n,i));const s=i=>g(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=oe()},m(i,o){for(let a=0;a<l.length;a+=1)l[a].m(i,o);w(i,e,o),t=!0},p(i,o){if(o&2){n=i[1];let a;for(a=0;a<n.length;a+=1){const u=G4(i,n,a);l[a]?(l[a].p(u,o),_(l[a],1)):(l[a]=X4(u),l[a].c(),_(l[a],1),l[a].m(e.parentNode,e))}for(G(),a=n.length;a<l.length;a+=1)s(a);K()}},i(i){if(!t){for(let o=0;o<n.length;o+=1)_(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)g(l[o]);t=!1},d(i){jn(l,i),i&&v(e)}}}function X4(r){let e,t;return e=new Si({props:{processedColumn:r[5],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.processedColumn=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kfe(r){let e,t,n=r[4]==="columnComponent"&&K4(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[4]==="columnComponent"?n?(n.p(l,s),s&16&&_(n,1)):(n=K4(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function yfe(r){let e,t,n,l,s,i,o;return n=new Sn({props:{table:r[0],bold:!0,truncate:!1}}),i=new St({props:{text:r[2]("via_column_component"),$$slots:{default:[kfe,({slotName:a})=>({4:a}),({slotName:a})=>a?16:0]},$$scope:{ctx:r}}}),{c(){e=M("span"),t=M("span"),C(n.$$.fragment),l=N(),s=M("span"),C(i.$$.fragment),D(t,"class","table"),D(s,"class","columns"),D(e,"class","linked-table-name")},m(a,u){w(a,e,u),I(e,t),y(n,t,null),I(e,l),I(e,s),y(i,s,null),o=!0},p(a,[u]){const c={};u&1&&(c.table=a[0]),n.$set(c);const f={};u&4&&(f.text=a[2]("via_column_component")),u&274&&(f.$$scope={dirty:u,ctx:a}),i.$set(f)},i(a){o||(_(n.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(n.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&v(e),S(n),S(i)}}}function Sfe(r,e,t){let n,l,s;Z(r,ge,o=>t(2,s=o));let{linkedTable:i}=e;return r.$$set=o=>{"linkedTable"in o&&t(3,i=o.linkedTable)},r.$$.update=()=>{r.$$.dirty&8&&t(1,{columns:n,table:l}=i,n,(t(0,l),t(3,i)))},[l,n,s,i]}class Cfe extends x{constructor(e){super(),J(this,e,Sfe,yfe,Q,{linkedTable:3})}}function Tfe(r){let e,t,n;function l(i){r[3](i)}let s={options:r[1],getLabel:r[2]};return r[0]!==void 0&&(s.value=r[0]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.options=i[1]),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Efe(r,e,t){let{linkedTables:n}=e,{value:l=void 0}=e;function s(o){return o===void 0?"":{component:Cfe,props:{linkedTable:o}}}function i(o){l=o,t(0,l)}return r.$$set=o=>{"linkedTables"in o&&t(1,n=o.linkedTables),"value"in o&&t(0,l=o.value)},[l,n,s,i]}class Q4 extends x{constructor(e){super(),J(this,e,Efe,Tfe,Q,{linkedTables:1,value:0})}}function Dfe(r){let e,t=r[1]("linked_via_foreign_key_column")+"",n,l,s,i,o;return i=new Rn({props:{icon:io,name:r[0],truncate:!1,bold:!0}}),{c(){e=M("span"),n=q(t),l=q(":"),s=N(),C(i.$$.fragment)},m(a,u){w(a,e,u),I(e,n),I(e,l),w(a,s,u),y(i,a,u),o=!0},p(a,[u]){(!o||u&2)&&t!==(t=a[1]("linked_via_foreign_key_column")+"")&&Y(n,t);const c={};u&1&&(c.name=a[0]),i.$set(c)},i(a){o||(_(i.$$.fragment,a),o=!0)},o(a){g(i.$$.fragment,a),o=!1},d(a){a&&v(e),a&&v(s),S(i,a)}}}function Ife(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{newFkColumnName:l}=e;return r.$$set=s=>{"newFkColumnName"in s&&t(0,l=s.newFkColumnName)},[l,n]}class Mfe extends x{constructor(e){super(),J(this,e,Ife,Dfe,Q,{newFkColumnName:0})}}function Afe(r){let e,t;return e=new Vt({props:{field:r[3],input:{component:Q4,props:{linkedTables:r[12]}},label:r[8]("linked_table"),layout:"stacked"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.field=n[3]),l[0]&4096&&(s.input={component:Q4,props:{linkedTables:n[12]}}),l[0]&256&&(s.label=n[8]("linked_table")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Pfe(r){let e,t;return e=new Vt({props:{field:r[5],label:r[8]("name_of_new_table"),layout:"stacked",$$slots:{help:[Ofe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&32&&(s.field=n[5]),l[0]&256&&(s.label=n[8]("name_of_new_table")),l[0]&131328|l[1]&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z4(r){let e,t;return e=new Sn({props:{table:r[17],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.table=n[17]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rfe(r){let e,t,n=r[37]==="tableName"&&Z4(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[37]==="tableName"?n?(n.p(l,s),s[1]&64&&_(n,1)):(n=Z4(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Ofe(r){let e,t,n;return t=new St({props:{text:r[8]("new_table_that_will_be_linked_to_table"),$$slots:{default:[Rfe,({slotName:l})=>({37:l}),({slotName:l})=>[0,l?64:0]]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","help")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&256&&(i.text=l[8]("new_table_that_will_be_linked_to_table")),s[0]&131072|s[1]&192&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function J4(r){let e,t;return e=new Sn({props:{table:{name:r[1]},truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.table={name:n[1]}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lfe(r){let e,t,n=r[37]==="targetTableName"&&J4(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[37]==="targetTableName"?n?(n.p(l,s),s[1]&64&&_(n,1)):(n=J4(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Nfe(r){let e,t,n;return t=new St({props:{text:r[11],$$slots:{default:[Lfe,({slotName:l})=>({37:l}),({slotName:l})=>[0,l?64:0]]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","help")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&2048&&(i.text=l[11]),s[0]&2|s[1]&192&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Ffe(r){let e,t;return e=new Sn({props:{table:{name:r[1]},truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.table={name:n[1]}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Hfe(r){let e,t;return e=new Sn({props:{table:r[17],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.table=n[17]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function zfe(r){let e,t,n,l;const s=[Hfe,Ffe],i=[];function o(a,u){return a[37]==="tableName"?0:a[37]==="targetTableName"&&a[1]?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function x4(r){let e,t,n,l,s;return t=new St({props:{text:r[8]("new_column_added_to_table"),$$slots:{default:[Vfe,({slotName:i})=>({37:i}),({slotName:i})=>[0,i?64:0]]},$$scope:{ctx:r}}}),l=new Vt({props:{field:r[4],label:r[8]("column_name")}}),{c(){e=M("p"),C(t.$$.fragment),n=N(),C(l.$$.fragment)},m(i,o){w(i,e,o),y(t,e,null),w(i,n,o),y(l,i,o),s=!0},p(i,o){const a={};o[0]&256&&(a.text=i[8]("new_column_added_to_table")),o[0]&131072|o[1]&192&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o[0]&16&&(u.field=i[4]),o[0]&256&&(u.label=i[8]("column_name")),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),i&&v(n),S(l,i)}}}function e$(r){let e,t;return e=new Sn({props:{table:r[17],truncate:!1,bold:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&131072&&(s.table=n[17]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vfe(r){let e,t,n=r[37]==="tableName"&&e$(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[37]==="tableName"?n?(n.p(l,s),s[1]&64&&_(n,1)):(n=e$(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function qfe(r){let e,t,n,l,s;t=new St({props:{text:r[1]?r[8]("columns_removed_from_table_added_to_target",{values:{count:r[9].length}}):r[8]("columns_removed_from_table_added_to_new_table",{values:{count:r[9].length}}),$$slots:{default:[zfe,({slotName:o})=>({37:o}),({slotName:o})=>[0,o?64:0]]},$$scope:{ctx:r}}});let i=r[7]==="newTable"&&x4(r);return{c(){e=M("p"),C(t.$$.fragment),n=N(),i&&i.c(),l=oe()},m(o,a){w(o,e,a),y(t,e,null),w(o,n,a),i&&i.m(o,a),w(o,l,a),s=!0},p(o,a){const u={};a[0]&770&&(u.text=o[1]?o[8]("columns_removed_from_table_added_to_target",{values:{count:o[9].length}}):o[8]("columns_removed_from_table_added_to_new_table",{values:{count:o[9].length}})),a[0]&131074|a[1]&192&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),o[7]==="newTable"?i?(i.p(o,a),a[0]&128&&_(i,1)):(i=x4(o),i.c(),_(i,1),i.m(l.parentNode,l)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(t.$$.fragment,o),_(i),s=!0)},o(o){g(t.$$.fragment,o),g(i),s=!1},d(o){o&&v(e),S(t),o&&v(n),i&&i.d(o),o&&v(l)}}}function Bfe(r){let e,t;return e=new S8({props:{$$slots:{default:[qfe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&131986|l[1]&128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ufe(r){let e,t,n,l,s,i,o;const a=[Pfe,Afe],u=[];function c(f,m){return f[7]==="newTable"?0:1}return e=c(r),t=u[e]=a[e](r),l=new Vt({props:{field:r[2],input:{component:Y4,props:{options:r[6]}},label:r[7]==="newTable"?r[8]("columns_to_extract"):r[8]("columns_to_move"),layout:"stacked",$$slots:{help:[Nfe]},$$scope:{ctx:r}}}),i=new Jn({props:{$$slots:{default:[Bfe]},$$scope:{ctx:r}}}),{c(){t.c(),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment)},m(f,m){u[e].m(f,m),w(f,n,m),y(l,f,m),w(f,s,m),y(i,f,m),o=!0},p(f,m){let d=e;e=c(f),e===d?u[e].p(f,m):(G(),g(u[d],1,1,()=>{u[d]=null}),K(),t=u[e],t?t.p(f,m):(t=u[e]=a[e](f),t.c()),_(t,1),t.m(n.parentNode,n));const p={};m[0]&4&&(p.field=f[2]),m[0]&64&&(p.input={component:Y4,props:{options:f[6]}}),m[0]&384&&(p.label=f[7]==="newTable"?f[8]("columns_to_extract"):f[8]("columns_to_move")),m[0]&2050|m[1]&128&&(p.$$scope={dirty:m,ctx:f}),l.$set(p);const h={};m[0]&131986|m[1]&128&&(h.$$scope={dirty:m,ctx:f}),i.$set(h)},i(f){o||(_(t),_(l.$$.fragment,f),_(i.$$.fragment,f),o=!0)},o(f){g(t),g(l.$$.fragment,f),g(i.$$.fragment,f),o=!1},d(f){u[e].d(f),f&&v(n),S(l,f),f&&v(s),S(i,f)}}}function Wfe(r){let e=r[8]("extract_columns_to_new_table",{values:{count:r[9].length}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&768&&e!==(e=n[8]("extract_columns_to_new_table",{values:{count:n[9].length}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function jfe(r){let e=r[8]("move_columns_to_linked_table",{values:{count:r[9].length}})+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&768&&e!==(e=n[8]("move_columns_to_linked_table",{values:{count:n[9].length}})+"")&&Y(t,e)},d(n){n&&v(t)}}}function Yfe(r){let e;function t(s,i){return s[7]==="existingTable"?jfe:Wfe}let n=t(r),l=n(r);return{c(){e=M("span"),l.c(),D(e,"slot","title")},m(s,i){w(s,e,i),l.m(e,null)},p(s,i){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null)))},d(s){s&&v(e),l.d()}}}function Gfe(r){let e,t;return e=new Zr({props:{form:r[14],slot:"footer",proceedButton:{label:r[13]},onProceed:r[20],onCancel:r[31]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16384&&(s.form=n[14]),l[0]&8192&&(s.proceedButton={label:n[13]}),l[0]&1&&(s.onCancel=n[31]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kfe(r){let e,t;return e=new al({props:{controller:r[0],$$slots:{footer:[Gfe],title:[Yfe],default:[Ufe]},$$scope:{ctx:r}}}),e.$on("close",function(){Pt(r[14].reset)&&r[14].reset.apply(this,arguments)}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){r=n;const s={};l[0]&1&&(s.controller=r[0]),l[0]&162815|l[1]&128&&(s.$$scope={dirty:l,ctx:r}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xfe(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O=j,R=()=>(O(),O=ue(u,st=>t(7,P=st)),u),F,L,U=j,W=()=>(U(),U=ue(p,st=>t(24,L=st)),p),H,z,te=j,se=()=>(te(),te=ue(b,st=>t(33,z=st)),b),B,V=j,ee=()=>(V(),V=ue(c,st=>t(9,B=st)),c),ie,_e=j,ae=()=>(_e(),_e=ue(h,st=>t(26,ie=st)),h),fe,Ue=j,ve=()=>(Ue(),Ue=ue(f,st=>t(34,fe=st)),f),Se,ke,Fe=j,we=()=>(Fe(),Fe=ue(n,st=>t(28,ke=st)),n),Re,Ge,Je=j,Ke=()=>(Je(),Je=ue(l,st=>t(30,Ge=st)),l);Z(r,ge,st=>t(8,F=st)),Z(r,fn,st=>t(27,Se=st)),Z(r,ny,st=>t(29,Re=st)),r.$$.on_destroy.push(()=>O()),r.$$.on_destroy.push(()=>U()),r.$$.on_destroy.push(()=>te()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>_e()),r.$$.on_destroy.push(()=>Ue()),r.$$.on_destroy.push(()=>Fe()),r.$$.on_destroy.push(()=>Je());const ot=Ft();Z(r,ot,st=>t(25,H=st));let{controller:lt}=e;function ze(st,qe){an(b,z=Vi({name:st},qe),z)}function Xe(st){!fe||st.length!==0&&s.intersectSelectedRowsWithGivenColumns(st)}async function pt(){var Qe,Nt;const st=z,qe=ie,et=[],mt=B,Ot=mt.map(Ct=>Ct.id);try{if(P==="existingTable"){const Ct=L==null?void 0:L.table.id;if(!Ct)throw new Error(F("no_target_table_selected"));await gW(H.id,Ot,Ct);const Dt=(Qe=L==null?void 0:L.columns)!=null?Qe:[];let Mt;Dt.length===1&&(Mt=Dt[0].column.id),et.push(H.refreshAfterColumnExtraction(Ot,Mt))}else{const Ct=await pW({id:H.id,idsOfColumnsToExtract:Ot,extractedTableName:qe,newFkColumnName:z});et.push(ty(Ct.extracted_table)),et.push(H.refreshAfterColumnExtraction(Ot,Ct.fk_column))}if(P==="newTable")Tt.success({title:F("new_table_created_with_extracted_column",{values:{count:mt.length,newTableName:qe}}),contentComponent:Mfe,contentComponentProps:{newFkColumnName:st}});else{const Ct=mt.map(it=>it.column.name),Dt=(Nt=L==null?void 0:L.table.name)!=null?Nt:"";let Mt;Ct.length===1?Mt=F("column_moved_to_table",{values:{columnName:Ct[0],tableName:Dt}}):Mt=F("columns_moved_to_table",{values:{columnNames:Ct.join(","),tableName:Dt}}),Tt.success(Mt)}if(lt.close(),await Promise.all(et),P==="newTable"){const Dt=[...Ve(n).values()].slice(-1)[0];s.toggleColumnSelection(Dt),await on(),MV()}}catch(Ct){Tt.error(en(Ct))}}const rt=()=>lt.close();return r.$$set=st=>{"controller"in st&&t(0,lt=st.controller)},r.$$.update=()=>{var st;r.$$.dirty[0]&33554432&&we(t(10,{processedColumns:n,constraintsDataStore:l,selection:s,table:i}=H,n,Ke(t(18,l)),(t(17,i),t(25,H)))),r.$$.dirty[0]&1073741824&&t(22,{constraints:o}=Ge,o),r.$$.dirty[0]&268435456&&t(6,a=[...ke.values()]),r.$$.dirty[0]&1&&R(t(16,{targetType:u,columns:c,isOpen:f}=lt,u,ee(t(2,c)),ve(t(15,f)))),r.$$.dirty[0]&512&&t(23,m=new Set(B.map(qe=>qe.column.name))),r.$$.dirty[0]&8388672&&t(21,d=a.map(qe=>qe.column).filter(qe=>!m.has(qe.name))),r.$$.dirty[0]&536870912&&ae(t(5,h=wt("",[Re]))),r.$$.dirty[0]&2097152&&se(t(4,b=wt("",[Ya(d)]))),r.$$.dirty[0]&83886208&&t(1,$=P==="newTable"?ie:(st=L==null?void 0:L.table.name)!=null?st:""),r.$$.dirty[0]&188&&t(14,k=P==="newTable"?Un({columns:c,tableName:h,newFkColumnName:b}):Un({columns:c,linkedTable:p},[Mm([p,c],qe=>wfe(...qe))])),r.$$.dirty[0]&384&&t(13,T=F(P==="existingTable"?"move_columns":"create_table_move_columns")),r.$$.dirty[0]&406847488&&t(12,E=vfe({constraints:o,columns:ke,tables:Se.data})),r.$$.dirty[0]&386&&t(11,A=(()=>F(P==="existingTable"?$?"select_columns_move_into_table":"select_columns_move":$?"select_columns_extract_into_table":"select_columns_extract"))()),r.$$.dirty[0]&69206016&&ze(ie,d),r.$$.dirty[0]&512&&Xe(B)},W(t(3,p=wt(void 0))),[lt,$,c,p,b,h,a,P,F,B,n,A,E,T,k,f,u,i,l,ot,pt,d,o,m,L,H,ie,Se,ke,Re,Ge,rt]}class Qfe extends x{constructor(e){super(),J(this,e,Xfe,Kfe,Q,{controller:0},null,[-1,-1])}}class Zfe extends T6{constructor(){super(...arguments);ce(this,"targetType",xe("newTable"));ce(this,"columns",wt([],[Oo(t=>t.some(n=>n.column.primary_key),Ve(ge)("primary_key_column_cannot_be_moved"))]))}}function Jfe(r){let e,t,n,l,s,i=r[4]("extract_columns_to_new_table",{values:{count:r[0].length}})+"",o,a,u,c;const f=[w1];let m={};for(let h=0;h<f.length;h+=1)m=le(m,f[h]);n=new Be({props:m});const d=[Ws];let p={};for(let h=0;h<d.length;h+=1)p=le(p,d[h]);return u=new Be({props:p}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),a=N(),C(u.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(h,b){w(h,e,b),I(e,t),y(n,t,null),I(t,l),I(t,s),I(s,o),I(e,a),y(u,e,null),c=!0},p(h,b){const $=b&0?de(f,[$e(w1)]):{};n.$set($),(!c||b&17)&&i!==(i=h[4]("extract_columns_to_new_table",{values:{count:h[0].length}})+"")&&Y(o,i);const k=b&0?de(d,[$e(Ws)]):{};u.$set(k)},i(h){c||(_(n.$$.fragment,h),_(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&v(e),S(n),S(u)}}}function t$(r){let e,t;return e=new dt({props:{$$slots:{default:[xfe]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16401&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xfe(r){let e,t,n,l,s,i=r[4]("move_columns_to_linked_table",{values:{count:r[0].length}})+"",o,a,u,c;const f=[k1];let m={};for(let h=0;h<f.length;h+=1)m=le(m,f[h]);n=new Be({props:m});const d=[Ws];let p={};for(let h=0;h<d.length;h+=1)p=le(p,d[h]);return u=new Be({props:p}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),a=N(),C(u.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m(h,b){w(h,e,b),I(e,t),y(n,t,null),I(t,l),I(t,s),I(s,o),I(e,a),y(u,e,null),c=!0},p(h,b){const $=b&0?de(f,[$e(k1)]):{};n.$set($),(!c||b&17)&&i!==(i=h[4]("move_columns_to_linked_table",{values:{count:h[0].length}})+"")&&Y(o,i);const k=b&0?de(d,[$e(Ws)]):{};u.$set(k)},i(h){c||(_(n.$$.fragment,h),_(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&v(e),S(n),S(u)}}}function n$(r){let e,t;return e=new dt({props:{appearance:"outline-primary",$$slots:{default:[eme]},$$scope:{ctx:r}}}),e.$on("click",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16400&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function eme(r){let e,t,n,l=r[4]("delete_column")+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&16)&&l!==(l=u[4]("delete_column")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function tme(r){let e,t,n,l,s,i,o;t=new dt({props:{$$slots:{default:[Jfe]},$$scope:{ctx:r}}}),t.$on("click",r[8]);let a=r[1]&&t$(r),u=r[2]&&n$(r);return i=new Qfe({props:{controller:r[6]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),a&&a.c(),l=N(),u&&u.c(),s=N(),C(i.$$.fragment),D(e,"class","actions-container svelte-lo2o6r")},m(c,f){w(c,e,f),y(t,e,null),I(e,n),a&&a.m(e,null),I(e,l),u&&u.m(e,null),w(c,s,f),y(i,c,f),o=!0},p(c,[f]){const m={};f&16401&&(m.$$scope={dirty:f,ctx:c}),t.$set(m),c[1]?a?(a.p(c,f),f&2&&_(a,1)):(a=t$(c),a.c(),_(a,1),a.m(e,l)):a&&(G(),g(a,1,1,()=>{a=null}),K()),c[2]?u?(u.p(c,f),f&4&&_(u,1)):(u=n$(c),u.c(),_(u,1),u.m(e,null)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){o||(_(t.$$.fragment,c),_(a),_(u),_(i.$$.fragment,c),o=!0)},o(c){g(t.$$.fragment,c),g(a),g(u),g(i.$$.fragment,c),o=!1},d(c){c&&v(e),S(t),a&&a.d(),u&&u.d(),c&&v(s),S(i,c)}}}function nme(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(n,T=>t(10,a=T)),n),f;Z(r,ge,T=>t(4,o=T)),r.$$.on_destroy.push(()=>u());const m=Ft();Z(r,m,T=>t(11,f=T));const d=new Zfe(Bn.getPropsForNewModal());let{columns:p}=e;function h(T){Rl({identifierType:o("column"),identifierName:T.column.name,body:[o("all_objects_related_to_column_affected"),o("could_break_tables_views"),o("are_you_sure_to_proceed")],onProceed:()=>l.deleteColumn(T.id)})}function b(){d.targetType.set("newTable"),d.columns.set(p),d.open()}function $(){d.targetType.set("existingTable"),d.columns.set(p),d.open()}const k=()=>s&&h(s);return r.$$set=T=>{"columns"in T&&t(0,p=T.columns)},r.$$.update=()=>{r.$$.dirty&2048&&c(t(3,{processedColumns:n,columnsDataStore:l}=f,n)),r.$$.dirty&1&&t(2,s=p.length===1?p[0]:void 0),r.$$.dirty&1024&&t(1,i=[...a].some(([,T])=>T.linkFk))},[p,i,s,n,o,m,d,h,b,$,a,f,k]}class rme extends x{constructor(e){super(),J(this,e,nme,tme,Q,{columns:0})}}function lme(r){let e,t;return e=new Al({props:{disabled:r[2]||!r[0],checked:!r[3]}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&5&&(s.disabled=n[2]||!n[0]),l&8&&(s.checked=!n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sme(r){let e,t;const n=[{class:"opt"},gr];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[n[0],$e(gr)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ime(r){let e,t,n,l;const s=[sme,lme],i=[];function o(a,u){return a[2]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function ome(r){let e=r[6]("restrict_to_unique_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[6]("restrict_to_unique_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function ame(r){let e,t=r[6]("restrict_to_unique")+"",n,l,s,i;return s=new $r({props:{$$slots:{default:[ome]},$$scope:{ctx:r}}}),{c(){e=M("span"),n=q(t),l=N(),C(s.$$.fragment),D(e,"slot","label")},m(o,a){w(o,e,a),I(e,n),I(e,l),y(s,e,null),i=!0},p(o,a){(!i||a&64)&&t!==(t=o[6]("restrict_to_unique")+"")&&Y(n,t);const u={};a&32832&&(u.$$scope={dirty:a,ctx:o}),s.$set(u)},i(o){i||(_(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&v(e),S(s)}}}function ume(r){let e,t;return e=new Al({props:{disabled:r[1]||!r[0],checked:!r[4]}}),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&3&&(s.disabled=n[1]||!n[0]),l&16&&(s.checked=!n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cme(r){let e,t;const n=[{class:"opt"},gr];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[n[0],$e(gr)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function fme(r){let e,t,n,l;const s=[cme,ume],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function r$(r){let e;return{c(){e=M("span"),e.textContent="NULL",D(e,"class","null svelte-v295ge")},m(t,n){w(t,e,n)},d(t){t&&v(e)}}}function mme(r){let e,t=r[14]==="null"&&r$();return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[14]==="null"?t||(t=r$(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function dme(r){let e=r[6]("disallow_null_values_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[6]("disallow_null_values_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function _me(r){let e,t,n,l,s;return t=new St({props:{text:r[6]("disallow_null_values"),$$slots:{default:[mme,({slotName:i})=>({14:i}),({slotName:i})=>i?16384:0]},$$scope:{ctx:r}}}),l=new $r({props:{$$slots:{default:[dme]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"slot","label")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&64&&(a.text=i[6]("disallow_null_values")),o&49152&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o&32832&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function pme(r){let e,t,n,l,s;return t=new hn({props:{layout:"inline-input-first",$$slots:{label:[ame],default:[ime]},$$scope:{ctx:r}}}),l=new hn({props:{layout:"inline-input-first",$$slots:{label:[_me],default:[fme]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","column-options svelte-v295ge")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,[o]){const a={};o&32845&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o&32851&&(u.$$scope={dirty:o,ctx:i}),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function gme(r,e,t){let n,l,s,i,o,a=j,u=()=>(a(),a=ue(l,T=>t(12,o=T)),l);Z(r,ge,T=>t(6,i=T)),r.$$.on_destroy.push(()=>a());let{column:c}=e,{columnsDataStore:f}=e,{constraintsDataStore:m}=e,{canExecuteDDL:d}=e,p=!1,h=!1;const b=ht();async function $(){t(1,p=!0);try{const T=!n;await f.setNullabilityOfColumn(c.column,T);const E=T?i("column_will_allow_null",{values:{columnName:c.column.name}}):i("column_will_not_allow_null",{values:{columnName:c.column.name}});Tt.success(E),b("close")}catch(T){const E=i("unable_to_update_allow_null_column",{values:{columnName:c.column.name}});Tt.error(`${E} ${en(T)}.`)}finally{t(1,p=!1)}}async function k(){t(2,h=!0);try{const T=!s;await m.setUniquenessOfColumn(c.column,!T);const E=T?i("column_will_allow_duplicates",{values:{columnName:c.column.name}}):i("column_will_not_allow_duplicates",{values:{columnName:c.column.name}});Tt.success(E),b("close")}catch(T){const E=i("unable_to_update_allow_duplicates_column",{values:{columnName:c.column.name}});Tt.error(`${E} ${en(T)}.`)}finally{t(2,h=!1)}}return r.$$set=T=>{"column"in T&&t(9,c=T.column),"columnsDataStore"in T&&t(10,f=T.columnsDataStore),"constraintsDataStore"in T&&t(11,m=T.constraintsDataStore),"canExecuteDDL"in T&&t(0,d=T.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&512&&t(4,n=c.column.nullable),r.$$.dirty&2048&&u(t(5,{uniqueColumns:l}=m,l)),r.$$.dirty&4608&&t(3,s=!(c.column.primary_key||o.has(c.id)))},[d,p,h,s,n,l,i,$,k,c,f,m,o]}class hme extends x{constructor(e){super(),J(this,e,gme,pme,Q,{column:9,columnsDataStore:10,constraintsDataStore:11,canExecuteDDL:0})}}function bme(r){let e,t;return e=new Tn({props:{options:r[4],value:r[1].max,getLabel:r[5]}}),e.$on("change",r[8]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.value=n[1].max),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $me(r){let e,t;return e=new Tn({props:{options:r[4],value:r[1].min,getLabel:r[5]}}),e.$on("change",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.value=n[1].min),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function l$(r){let e,t;return{c(){e=M("span"),t=q(r[2]),D(e,"class","svelte-pv7mr1")},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&4&&Y(t,n[2])},d(n){n&&v(e)}}}function vme(r){let e,t=r[11]==="format"&&l$(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[11]==="format"?t?t.p(n,l):(t=l$(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function wme(r){let e,t,n,l,s,i,o,a,u;return t=new hn({props:{label:r[3]("max_time_unit"),layout:"stacked",$$slots:{default:[bme]},$$scope:{ctx:r}}}),s=new hn({props:{label:r[3]("min_time_unit"),layout:"stacked",$$slots:{default:[$me]},$$scope:{ctx:r}}}),a=new St({props:{text:r[3]("format_displayer"),$$slots:{default:[vme,({slotName:c})=>({11:c}),({slotName:c})=>c?2048:0]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("div"),C(s.$$.fragment),i=N(),o=M("div"),C(a.$$.fragment),D(e,"class","form-element form-input"),D(l,"class","form-element form-input"),D(o,"class","form-element format svelte-pv7mr1")},m(c,f){w(c,e,f),y(t,e,null),w(c,n,f),w(c,l,f),y(s,l,null),w(c,i,f),w(c,o,f),y(a,o,null),u=!0},p(c,[f]){const m={};f&8&&(m.label=c[3]("max_time_unit")),f&4098&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f&8&&(d.label=c[3]("min_time_unit")),f&4098&&(d.$$scope={dirty:f,ctx:c}),s.$set(d);const p={};f&8&&(p.text=c[3]("format_displayer")),f&6148&&(p.$$scope={dirty:f,ctx:c}),a.$set(p)},i(c){u||(_(t.$$.fragment,c),_(s.$$.fragment,c),_(a.$$.fragment,c),u=!0)},o(c){g(t.$$.fragment,c),g(s.$$.fragment,c),g(a.$$.fragment,c),u=!1},d(c){c&&v(e),S(t),c&&v(n),c&&v(l),S(s),c&&v(i),c&&v(o),S(a)}}}function kme(r,e,t){let n,l,s=j,i=()=>(s(),s=ue(a,b=>t(1,l=b)),a),o;Z(r,ge,b=>t(3,o=b)),r.$$.on_destroy.push(()=>s());let{store:a}=e;i();const u=uo.getAllUnits(),c={d:o("days"),h:o("hours"),m:o("minutes"),s:o("seconds"),ms:o("milliseconds")},f=b=>{var $;return($=b&&c[b])!=null?$:""};function m(b){if(!b)return;let{min:$}=l;u.indexOf(b)>u.indexOf(l.min)&&($=b),an(a,l={...l,max:b,min:$},l)}function d(b){if(!b)return;let{max:$}=l;u.indexOf(b)<u.indexOf(l.max)&&($=b),an(a,l={...l,max:$,min:b},l)}const p=b=>m(b.detail),h=b=>d(b.detail);return r.$$set=b=>{"store"in b&&i(t(0,a=b.store))},r.$$.update=()=>{r.$$.dirty&2&&t(2,n=new uo(l).getFormattingString())},[a,l,n,o,u,f,m,d,p,h]}class yme extends x{constructor(e){super(),J(this,e,kme,wme,Q,{store:0})}}function C8(r){return r?r.values:Ul({})}function Sme(r,e,t){var i,o;const n=(o=(i=r.getDbConfig)==null?void 0:i.call(r))!=null?o:void 0;let l;if(n){const a=t.type===e?n.constructDbFormValuesFromTypeOptions(t.type,t.type_options):{};l=L6(n.form,a)}const s=C8(l);return{dbOptionsConfig:n,dbForm:l,dbFormValues:s}}function Cme(r,e,t){var i,o;const n=(o=(i=r.getDisplayConfig)==null?void 0:i.call(r))!=null?o:void 0;let l;if(n){const a=t.type===e?n.constructDisplayFormValuesFromDisplayOptions(t.display_options):{};l=L6(n.form,a,{"duration-config-menu":yme})}const s=C8(l);return{displayOptionsConfig:n,displayForm:l,displayFormValues:s}}function Tme(r,e){for(const t in e)if(Object.hasOwn(e,t)&&e[t]!==r[t])return!0;return!1}function Eme(r){var a;let e,t=r[1]("database_type")+"",n,l,s,i=((a=r[0])!=null?a:"UNKNOWN")+"",o;return{c(){e=M("div"),n=q(t),l=q(": "),s=M("span"),o=q(i),D(s,"class","svelte-og216j"),D(e,"class","svelte-og216j")},m(u,c){w(u,e,c),I(e,n),I(e,l),I(e,s),I(s,o)},p(u,[c]){var f;c&2&&t!==(t=u[1]("database_type")+"")&&Y(n,t),c&1&&i!==(i=((f=u[0])!=null?f:"UNKNOWN")+"")&&Y(o,i)},i:j,o:j,d(u){u&&v(e)}}}function Dme(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{type:l}=e;return r.$$set=s=>{"type"in s&&t(0,l=s.type)},[l,n]}class T8 extends x{constructor(e){super(),J(this,e,Dme,Eme,Q,{type:0})}}function Ime(r){let e,t;return e=new T8({props:{type:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.type=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mme(r){let e,t,n,l;t=new T8({props:{type:r[0]}});let s=r[1]&&s$(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),s&&s.c(),D(e,"class","type-options svelte-18383vq")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),s&&s.m(e,null),l=!0},p(i,o){const a={};o&1&&(a.type=i[0]),t.$set(a),i[1]?s?(s.p(i,o),o&2&&_(s,1)):(s=s$(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(t.$$.fragment,i),_(s),l=!0)},o(i){g(t.$$.fragment,i),g(s),l=!1},d(i){i&&v(e),S(t),s&&s.d()}}}function s$(r){let e,t,n,l;return n=new N6({props:{form:r[1]}}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),D(t,"class","content svelte-18383vq"),D(e,"class","option-form db-opts svelte-18383vq")},m(s,i){w(s,e,i),I(e,t),y(n,t,null),l=!0},p(s,i){const o={};i&2&&(o.form=s[1]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(e),S(n)}}}function Ame(r){let e,t,n,l;const s=[Mme,Ime],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Pme(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(s,h=>t(7,i=h)),s);r.$$.on_destroy.push(()=>o());let{selectedAbstractType:u}=e,{selectedDbType:c}=e,{typeOptions:f}=e,{column:m}=e;const d=qw();d.addValidator("AbstractTypeConfigValidator",()=>{let h=!0;if(l){const b=l.getValidationResult().isValid;h=h&&b}return h});function p(h,b){var $;if(b){const k=b.determineDbTypeAndOptions(h,m.type);t(3,f=($=k.typeOptions)!=null?$:{}),t(0,c=k.dbType),d.validate()}}return r.$$set=h=>{"selectedAbstractType"in h&&t(4,u=h.selectedAbstractType),"selectedDbType"in h&&t(0,c=h.selectedDbType),"typeOptions"in h&&t(3,f=h.typeOptions),"column"in h&&t(5,m=h.column)},r.$$.update=()=>{r.$$.dirty&49&&t(6,{dbOptionsConfig:n,dbForm:l,dbFormValues:s}=Sme(u,c,m),n,(t(1,l),t(4,u),t(0,c),t(5,m)),a(t(2,s))),r.$$.dirty&192&&p(i,n)},[c,l,s,f,u,m,n,i]}class Rme extends x{constructor(e){super(),J(this,e,Pme,Ame,Q,{selectedAbstractType:4,selectedDbType:0,typeOptions:3,column:5})}}function Ome(r){let e=r[10]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1024&&e!==(e=n[10]+"")&&Y(t,e)},d(n){n&&v(t)}}}function Lme(r){let e,t;return e=new Rn({props:{icon:r[9].getIcon(),$$slots:{default:[Ome]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.icon=n[9].getIcon()),l&3072&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Nme(r){let e,t;return e=new Tn({props:{options:r[2],value:r[0],getLabel:Hme,autoSelect:"none",disabled:r[1],$$slots:{default:[Lme,({option:n,label:l})=>({9:n,10:l}),({option:n,label:l})=>(n?512:0)|(l?1024:0)]},$$scope:{ctx:r}}}),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.options=n[2]),l&1&&(s.value=n[0]),l&2&&(s.disabled=n[1]),l&3584&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Fme(r){let e,t;return e=new hn({props:{label:r[3]("data_type"),layout:"stacked",$$slots:{default:[Nme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.label=n[3]("data_type")),l&2055&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const Hme=r=>{var e;return(e=r==null?void 0:r.name)!=null?e:""};function zme(r,e,t){let n,l,s;Z(r,wr,m=>t(6,l=m)),Z(r,ge,m=>t(3,s=m));const i=ht();let{column:o}=e,{selectedAbstractType:a}=e,{disabled:u=!1}=e;function c(m){if(!m){console.error("This should never occur. AbstractType is undefined");return}if(a!==m){if(m.identifier===o.abstractType.identifier)i("reset");else if(m.defaultDbType)i("change",{type:m.defaultDbType,abstractType:m});else if(m.dbTypes.size>0){const[d]=m.dbTypes;i("change",{type:d,abstractType:m})}t(0,a=m)}}const f=m=>c(m.detail);return r.$$set=m=>{"column"in m&&t(5,o=m.column),"selectedAbstractType"in m&&t(0,a=m.selectedAbstractType),"disabled"in m&&t(1,u=m.disabled)},r.$$.update=()=>{var m;r.$$.dirty&96&&t(2,n=sF(o.type,(m=o.valid_target_types)!=null?m:[],l.data).filter(d=>!["jsonlist","map"].includes(d.identifier)))},[a,u,n,s,c,o,l,f]}class E8 extends x{constructor(e){super(),J(this,e,zme,Fme,Q,{column:5,selectedAbstractType:0,disabled:1})}}function i$(r){let e=r[2],t,n,l=o$(r);return{c(){l.c(),t=oe()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&4&&Q(e,e=s[2])?(G(),g(l,1,1,j),K(),l=o$(s),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l.d(s)}}}function o$(r){let e,t,n,l;function s(a){r[18](a)}function i(a){r[19](a)}let o={selectedAbstractType:r[2],column:r[0]};return r[3]!==void 0&&(o.selectedDbType=r[3]),r[4]!==void 0&&(o.typeOptions=r[4]),e=new Rme({props:o}),Te.push(()=>Oe(e,"selectedDbType",s)),Te.push(()=>Oe(e,"typeOptions",i)),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,u){const c={};u&4&&(c.selectedAbstractType=a[2]),u&1&&(c.column=a[0]),!t&&u&8&&(t=!0,c.selectedDbType=a[3],Ne(()=>t=!1)),!n&&u&16&&(n=!0,c.typeOptions=a[4],Ne(()=>n=!1)),e.$set(c)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function a$(r){var i;let e,t,n,l,s=r[1]&&u$(r);return n=new Kr({props:{onProceed:r[13],onCancel:r[12],isProcessing:((i=r[5])==null?void 0:i.state)==="processing",canProceed:!r[6],proceedButton:{label:r[9]("save")},size:"small"}}),{c(){e=M("div"),s&&s.c(),t=N(),C(n.$$.fragment),D(e,"class","footer svelte-2rnxnh")},m(o,a){w(o,e,a),s&&s.m(e,null),I(e,t),y(n,e,null),l=!0},p(o,a){var c;o[1]?s?(s.p(o,a),a&2&&_(s,1)):(s=u$(o),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K());const u={};a&32&&(u.isProcessing=((c=o[5])==null?void 0:c.state)==="processing"),a&64&&(u.canProceed=!o[6]),a&512&&(u.proceedButton={label:o[9]("save")}),n.$set(u)},i(o){l||(_(s),_(n.$$.fragment,o),l=!0)},o(o){g(s),g(n.$$.fragment,o),l=!1},d(o){o&&v(e),s&&s.d(),S(n)}}}function u$(r){let e,t;return e=new Fo({props:{$$slots:{default:[Vme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4194816&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Vme(r){let e,t=r[9]("data_loss_warning_alert")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","warning-alert svelte-2rnxnh")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&512&&t!==(t=l[9]("data_loss_warning_alert")+"")&&Y(n,t)},d(l){l&&v(e)}}}function qme(r){var a;let e,t,n,l,s;e=new E8({props:{selectedAbstractType:r[2],column:r[0],disabled:((a=r[5])==null?void 0:a.state)==="processing"}}),e.$on("change",r[16]),e.$on("reset",r[17]);let i=r[2]&&r[3]&&i$(r),o=r[8]&&a$(r);return{c(){C(e.$$.fragment),t=N(),i&&i.c(),n=N(),o&&o.c(),l=oe()},m(u,c){y(e,u,c),w(u,t,c),i&&i.m(u,c),w(u,n,c),o&&o.m(u,c),w(u,l,c),s=!0},p(u,[c]){var m;const f={};c&4&&(f.selectedAbstractType=u[2]),c&1&&(f.column=u[0]),c&32&&(f.disabled=((m=u[5])==null?void 0:m.state)==="processing"),e.$set(f),u[2]&&u[3]?i?(i.p(u,c),c&12&&_(i,1)):(i=i$(u),i.c(),_(i,1),i.m(n.parentNode,n)):i&&(G(),g(i,1,1,()=>{i=null}),K()),u[8]?o?(o.p(u,c),c&256&&_(o,1)):(o=a$(u),o.c(),_(o,1),o.m(l.parentNode,l)):o&&(G(),g(o,1,1,()=>{o=null}),K())},i(u){s||(_(e.$$.fragment,u),_(i),_(o),s=!0)},o(u){g(e.$$.fragment,u),g(i),g(o),s=!1},d(u){S(e,u),u&&v(t),i&&i.d(u),u&&v(n),o&&o.d(u),u&&v(l)}}}function Bme(r,e,t){var U;let n,l,s,i,o=j,a=()=>(o(),o=ue(l,W=>t(15,i=W)),l),u;Z(r,ge,W=>t(9,u=W)),r.$$.on_destroy.push(()=>o());const c=ht();let{column:f}=e,{save:m}=e,{showWarnings:d=!0}=e,p=f.abstractType,h=f.type,b={...(U=f.type_options)!=null?U:{}},$;const k=Vw();_n(()=>{k.validate()});function T(W){var H;t(2,p=W.abstractType),t(3,h=W.type),t(4,b={...(H=W.type_options)!=null?H:{}})}function E(W){const{type:H,abstractType:z}=W;t(3,h=H),t(2,p=z),t(4,b={})}function A(){T(f),t(5,$={state:"success"}),c("cancel")}async function P(){t(5,$={state:"processing"});try{await m({type:h,type_options:{...b}}),t(5,$={state:"success"})}catch(W){const H=W instanceof Error?W.message:u("unable_to_change_column_type");Tt.error(H),t(5,$={state:"failure",errors:[H]})}}const O=W=>E(W.detail),R=()=>T(f);function F(W){h=W,t(3,h)}function L(W){b=W,t(4,b)}return r.$$set=W=>{"column"in W&&t(0,f=W.column),"save"in W&&t(14,m=W.save),"showWarnings"in W&&t(1,d=W.showWarnings)},r.$$.update=()=>{var W;r.$$.dirty&29&&t(8,n=p!==f.abstractType||h!==f.type||Tme((W=f.type_options)!=null?W:{},b!=null?b:{})),r.$$.dirty&1&&T(f),r.$$.dirty&32804&&t(6,s=!p||($==null?void 0:$.state)==="processing"||!i)},a(t(7,{validationResult:l}=k,l)),[f,d,p,h,b,$,s,l,n,u,T,E,A,P,m,i,O,R,F,L]}class D8 extends x{constructor(e){super(),J(this,e,Bme,qme,Q,{column:0,save:14,showWarnings:1})}}function Ume(r){let e=r[2],t,n,l=c$(r);return{c(){l.c(),t=oe()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&4&&Q(e,e=s[2])?(G(),g(l,1,1,j),K(),l=c$(s),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l.d(s)}}}function Wme(r){let e,t,n,l;e=new E8({props:{selectedAbstractType:r[0].abstractType,column:r[2],disabled:!0}});let s=r[1]&&f$(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&1&&(a.selectedAbstractType=i[0].abstractType),o&4&&(a.column=i[2]),e.$set(a),i[1]?s?(s.p(i,o),o&2&&_(s,1)):(s=f$(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function c$(r){let e,t;return e=new D8({props:{column:r[2],save:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.column=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function f$(r){let e,t;return e=new Cs({props:{$$slots:{default:[jme]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1026&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jme(r){let e,t;return{c(){e=M("span"),t=q(r[1]),D(e,"class","info-alert svelte-yz3a69")},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&2&&Y(t,n[1])},d(n){n&&v(e)}}}function Yme(r){let e,t,n,l;const s=[Wme,Ume],i=[];function o(a,u){return a[3]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Gme(r,e,t){let n,l,s,i,o,a;Z(r,ge,d=>t(7,o=d));const u=Ft();Z(r,u,d=>t(8,a=d));let{column:c}=e,{canExecuteDDL:f}=e;async function m(d){await n.patch(c.id,{type:d.type,type_options:d.type_options,display_options:null,default:null})}return r.$$set=d=>{"column"in d&&t(0,c=d.column),"canExecuteDDL"in d&&t(6,f=d.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&256&&({columnsDataStore:n}=a),r.$$.dirty&65&&t(3,l=c.column.primary_key||!!c.linkFk||!f),r.$$.dirty&1&&t(2,s={...c.column,abstractType:c.abstractType}),r.$$.dirty&129&&t(1,i=(()=>c.column.primary_key?o("data_type_pk_column_restricted"):c.linkFk?o("data_type_linked_column_restricted"):"")())},[c,i,s,l,u,m,f,o,a]}class Kme extends x{constructor(e){super(),J(this,e,Gme,Yme,Q,{column:0,canExecuteDDL:6})}}function m$(r){let e,t;const n=[wl,{title:r[2]("section_affects_database_config")}];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&4?de(n,[i&0&&$e(wl),i&4&&{title:s[2]("section_affects_database_config")}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Xme(r){let e,t,n,l,s,i=r[1]&&m$(r);return{c(){e=M("div"),t=M("span"),n=q(r[0]),l=N(),i&&i.c(),D(e,"class","collapsible-header-container svelte-ytz1il")},m(o,a){w(o,e,a),I(e,t),I(t,n),I(e,l),i&&i.m(e,null),s=!0},p(o,[a]){(!s||a&1)&&Y(n,o[0]),o[1]?i?(i.p(o,a),a&2&&_(i,1)):(i=m$(o),i.c(),_(i,1),i.m(e,null)):i&&(G(),g(i,1,1,()=>{i=null}),K())},i(o){s||(_(i),s=!0)},o(o){g(i),s=!1},d(o){o&&v(e),i&&i.d()}}}function Qme(r,e,t){let n;Z(r,ge,i=>t(2,n=i));let{title:l}=e,{isDbLevelConfiguration:s=!1}=e;return r.$$set=i=>{"title"in i&&t(0,l=i.title),"isDbLevelConfiguration"in i&&t(1,s=i.isDbLevelConfiguration)},[l,s,n]}class Pr extends x{constructor(e){super(),J(this,e,Qme,Xme,Q,{title:0,isDbLevelConfiguration:1})}}function Zme(r){let e,t,n,l,s=r[3]("primary_key")+"",i,o;const a=[Qs];let u={};for(let c=0;c<a.length;c+=1)u=le(u,a[c]);return t=new Be({props:u}),{c(){e=M("div"),C(t.$$.fragment),n=N(),l=M("span"),i=q(s),D(e,"class","specifier-tag svelte-sr6jyu")},m(c,f){w(c,e,f),y(t,e,null),I(e,n),I(e,l),I(l,i),o=!0},p(c,f){const m=f&0?de(a,[$e(Qs)]):{};t.$set(m),(!o||f&8)&&s!==(s=c[3]("primary_key")+"")&&Y(i,s)},i(c){o||(_(t.$$.fragment,c),o=!0)},o(c){g(t.$$.fragment,c),o=!1},d(c){c&&v(e),S(t)}}}function Jme(r){let e,t,n=r[3]("linked_to")+"",l,s,i,o,a,u,c,f;o=new Sn({props:{table:r[2]}});const m=[hl];let d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return u=new Be({props:d}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),i=M("a"),C(o.$$.fragment),a=N(),C(u.$$.fragment),D(i,"class","specifier-tag svelte-sr6jyu"),D(i,"href",c=r[4]({tableId:r[1]})),D(e,"class","fk-container svelte-sr6jyu")},m(p,h){w(p,e,h),I(e,t),I(t,l),I(e,s),I(e,i),y(o,i,null),I(i,a),y(u,i,null),f=!0},p(p,h){(!f||h&8)&&n!==(n=p[3]("linked_to")+"")&&Y(l,n);const b={};h&4&&(b.table=p[2]),o.$set(b);const $=h&0?de(m,[$e(hl)]):{};u.$set($),(!f||h&18&&c!==(c=p[4]({tableId:p[1]})))&&D(i,"href",c)},i(p){f||(_(o.$$.fragment,p),_(u.$$.fragment,p),f=!0)},o(p){g(o.$$.fragment,p),g(u.$$.fragment,p),f=!1},d(p){p&&v(e),S(o),S(u)}}}function xme(r){let e,t,n,l;const s=[Jme,Zme],i=[];function o(a,u){return a[0]==="foreignKey"&&a[2]?0:a[0]==="primaryKey"?1:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=M("div"),n&&n.c(),D(e,"class","specifier-tag-container svelte-sr6jyu")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),~t&&i[t].d()}}}function ede(r,e,t){let n,l,s,i,o;Z(r,fn,c=>t(6,s=c)),Z(r,ge,c=>t(3,i=c)),Z(r,Pm,c=>t(4,o=c));let{type:a}=e,{column:u}=e;return r.$$set=c=>{"type"in c&&t(0,a=c.type),"column"in c&&t(5,u=c.column)},r.$$.update=()=>{var c;r.$$.dirty&32&&t(1,n=(c=u.linkFk)==null?void 0:c.referent_table),r.$$.dirty&66&&t(2,l=n?s.data.get(n):void 0)},[a,n,l,i,o,u,s]}class I8 extends x{constructor(e){super(),J(this,e,ede,xme,Q,{type:0,column:5})}}function tde(r){let e,t,n,l,s;return l=new N6({props:{form:r[0],disabled:r[2]}}),{c(){e=M("div"),t=M("div"),n=M("div"),C(l.$$.fragment),D(n,"class","content"),D(t,"class","option-form display-opts"),D(e,"class","type-options")},m(i,o){w(i,e,o),I(e,t),I(t,n),y(l,n,null),s=!0},p(i,[o]){const a={};o&1&&(a.form=i[0]),o&4&&(a.disabled=i[2]),l.$set(a)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(l)}}}function nde(r,e,t){let n,l=j,s=()=>(l(),l=ue(u,d=>t(5,n=d)),u);r.$$.on_destroy.push(()=>l());let{displayOptions:i}=e,{displayOptionsConfig:o}=e,{displayForm:a}=e,{displayFormValues:u}=e;s();let{disabled:c=!1}=e;const f=qw();f.addValidator("AbstractTypeConfigValidator",()=>{let d=!0;if(a){const p=a.getValidationResult().isValid;d=d&&p}return d});function m(d,p){var h;p&&(t(3,i=(h=p==null?void 0:p.determineDisplayOptions(d))!=null?h:{}),f.validate())}return r.$$set=d=>{"displayOptions"in d&&t(3,i=d.displayOptions),"displayOptionsConfig"in d&&t(4,o=d.displayOptionsConfig),"displayForm"in d&&t(0,a=d.displayForm),"displayFormValues"in d&&s(t(1,u=d.displayFormValues)),"disabled"in d&&t(2,c=d.disabled)},r.$$.update=()=>{r.$$.dirty&48&&m(n,o)},[a,u,c,i,o,n]}class rde extends x{constructor(e){super(),J(this,e,nde,tde,Q,{displayOptions:3,displayOptionsConfig:4,displayForm:0,displayFormValues:1,disabled:2})}}function lde(r){let e,t=r[10]("no_formatting_option_data_type")+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1024&&t!==(t=l[10]("no_formatting_option_data_type")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function sde(r){let e,t,n,l,s,i,o;function a(f){r[19](f)}let u={displayOptionsConfig:r[8],displayForm:r[7],displayFormValues:r[6],disabled:r[3]};r[2]!==void 0&&(u.displayOptions=r[2]),t=new rde({props:u}),Te.push(()=>Oe(t,"displayOptions",a));let c=r[1]&&d$(r);return{c(){e=M("div"),C(t.$$.fragment),l=N(),c&&c.c()},m(f,m){w(f,e,m),y(t,e,null),I(e,l),c&&c.m(e,null),s=!0,i||(o=[He(e,"focus",r[14]),He(e,"mousedown",r[14])],i=!0)},p(f,m){const d={};m&256&&(d.displayOptionsConfig=f[8]),m&128&&(d.displayForm=f[7]),m&64&&(d.displayFormValues=f[6]),m&8&&(d.disabled=f[3]),!n&&m&4&&(n=!0,d.displayOptions=f[2],Ne(()=>n=!1)),t.$set(d),f[1]?c?(c.p(f,m),m&2&&_(c,1)):(c=d$(f),c.c(),_(c,1),c.m(e,null)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){s||(_(t.$$.fragment,f),_(c),s=!0)},o(f){g(t.$$.fragment,f),g(c),s=!1},d(f){f&&v(e),S(t),c&&c.d(),i=!1,It(o)}}}function d$(r){var l;let e,t,n;return t=new Kr({props:{onProceed:r[12],onCancel:r[13],isProcessing:((l=r[0])==null?void 0:l.state)==="processing",canProceed:!r[5],proceedButton:{label:r[10]("save")},size:"small"}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","footer svelte-7jo0h2")},m(s,i){w(s,e,i),y(t,e,null),n=!0},p(s,i){var a;const o={};i&1&&(o.isProcessing=((a=s[0])==null?void 0:a.state)==="processing"),i&32&&(o.canProceed=!s[5]),i&1024&&(o.proceedButton={label:s[10]("save")}),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){s&&v(e),S(t)}}}function ide(r){let e,t,n,l;const s=[sde,lde],i=[];function o(a,u){return a[8]&&a[7]&&!a[4]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function ode(r,e,t){var U;let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(l,W=>t(17,f=W)),l),p,h;Z(r,ge,W=>t(10,p=W)),r.$$.on_destroy.push(()=>m());let{column:b}=e,{canEditMetadata:$}=e,k=!1;const T=Ft();Z(r,T,W=>t(18,h=W));let E={...(U=b.column.display_options)!=null?U:{}},A;const P=Vw();async function O(){t(0,A={state:"processing"});try{await n.patch(b.id,{display_options:E}),t(1,k=!1),t(0,A={state:"success"})}catch(W){const H=W instanceof Error?W.message:p("unable_to_change_display_opts");Tt.error(H),t(0,A={state:"failure",errors:[H]})}}function R(){t(0,A={state:"success"}),t(2,E={}),t(1,k=!1)}function F(){t(1,k=!0)}function L(W){E=W,t(2,E)}return r.$$set=W=>{"column"in W&&t(15,b=W.column),"canEditMetadata"in W&&t(16,$=W.canEditMetadata)},r.$$.update=()=>{r.$$.dirty&262144&&({columnsDataStore:n}=h),r.$$.dirty&32768&&t(8,{displayOptionsConfig:s,displayForm:i,displayFormValues:o}=Cme(b.abstractType,b.column.type,{...b.column,abstractType:b.abstractType}),s,(t(7,i),t(15,b)),(t(6,o),t(15,b))),r.$$.dirty&131073&&t(5,a=(A==null?void 0:A.state)==="processing"||!f),r.$$.dirty&32768&&t(4,u=b.column.primary_key||!!b.linkFk),r.$$.dirty&65537&&t(3,c=(A==null?void 0:A.state)==="processing"||!$)},d(t(9,{validationResult:l}=P,l)),[A,k,E,c,u,a,o,i,s,l,p,T,O,R,F,b,$,f,h,L]}class ade extends x{constructor(e){super(),J(this,e,ode,ide,Q,{column:15,canEditMetadata:16})}}function ude(r){let e,t;return e=new _u({props:{checked:r[2]}}),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.checked=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cde(r){let e,t=r[8]("no_default_value")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","label")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&256&&t!==(t=l[8]("no_default_value")+"")&&Y(n,t)},d(l){l&&v(e)}}}function fde(r){let e,t;return e=new _u({props:{checked:!r[2]}}),e.$on("change",r[12]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.checked=!n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function mde(r){let e,t=r[8]("custom_default")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","label")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&256&&t!==(t=l[8]("custom_default")+"")&&Y(n,t)},d(l){l&&v(e)}}}function _$(r){let e,t,n;function l(i){r[19](i)}let s={componentAndProps:r[0].inputComponentAndProps,disabled:r[4],recordSummary:r[6],setRecordSummary:r[13]};return r[3]!==void 0&&(s.value=r[3]),e=new Ju({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1&&(a.componentAndProps=i[0].inputComponentAndProps),o&16&&(a.disabled=i[4]),o&64&&(a.recordSummary=i[6]),!t&&o&8&&(t=!0,a.value=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function p$(r){var n;let e,t;return e=new Kr({props:{onProceed:r[10],onCancel:r[11],isProcessing:((n=r[1])==null?void 0:n.state)==="processing",proceedButton:{label:r[8]("save")},size:"small"}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){var o;const i={};s&2&&(i.isProcessing=((o=l[1])==null?void 0:o.state)==="processing"),s&256&&(i.proceedButton={label:l[8]("save")}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function dde(r){let e,t,n,l,s,i,o;t=new hn({props:{layout:"inline-input-first",$$slots:{label:[cde],default:[ude]},$$scope:{ctx:r}}}),l=new hn({props:{layout:"inline-input-first",$$slots:{label:[mde],default:[fde]},$$scope:{ctx:r}}});let a=!r[2]&&_$(r),u=r[7]&&p$(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),a&&a.c(),i=N(),u&&u.c(),D(e,"class","default-value-container svelte-w6n0k")},m(c,f){w(c,e,f),y(t,e,null),I(e,n),y(l,e,null),I(e,s),a&&a.m(e,null),I(e,i),u&&u.m(e,null),o=!0},p(c,[f]){const m={};f&4194564&&(m.$$scope={dirty:f,ctx:c}),t.$set(m);const d={};f&4194564&&(d.$$scope={dirty:f,ctx:c}),l.$set(d),c[2]?a&&(G(),g(a,1,1,()=>{a=null}),K()):a?(a.p(c,f),f&4&&_(a,1)):(a=_$(c),a.c(),_(a,1),a.m(e,i)),c[7]?u?(u.p(c,f),f&128&&_(u,1)):(u=p$(c),u.c(),_(u,1),u.m(e,null)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){o||(_(t.$$.fragment,c),_(l.$$.fragment,c),_(a),_(u),o=!0)},o(c){g(t.$$.fragment,c),g(l.$$.fragment,c),g(a),g(u),o=!1},d(c){c&&v(e),S(t),S(l),a&&a.d(),u&&u.d()}}}function _de(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p=j,h=()=>(p(),p=ue(s,U=>t(17,d=U)),s),b;Z(r,ge,U=>t(8,m=U)),r.$$.on_destroy.push(()=>p());let{column:$}=e,{canExecuteDDL:k}=e;const T=Ft();Z(r,T,U=>t(18,b=U));let E;function A(){t(3,o=i)}async function P(){var W;t(1,E={state:"processing"});const U=a?null:{is_dynamic:!!((W=$.column.default)!=null&&W.is_dynamic),value:o};try{await n.patch($.id,{default:U}),t(1,E={state:"success"})}catch(H){const z=H instanceof Error?H.message:m("unable_to_change_display_options");Tt.error(z),t(1,E={state:"failure",errors:[z]})}}function O(){A(),t(1,E={state:"success"})}function R(){t(2,a=!a)}function F(U,W){s&&s.addBespokeRecordSummary({columnId:String($.id),recordId:U,recordSummary:W})}function L(U){o=U,t(3,o),t(15,i),t(0,$)}return r.$$set=U=>{"column"in U&&t(0,$=U.column),"canExecuteDDL"in U&&t(14,k=U.canExecuteDDL)},r.$$.update=()=>{var U,W,H;r.$$.dirty&262144&&t(16,{columnsDataStore:n,recordsData:l}=b,l),r.$$.dirty&65536&&h(t(5,{recordSummaries:s}=l,s)),r.$$.dirty&1&&t(15,i=(W=(U=$.column.default)==null?void 0:U.value)!=null?W:$.initialInputValue),r.$$.dirty&32768&&t(3,o=i),r.$$.dirty&1&&t(2,a=$.column.default===null),r.$$.dirty&32781&&t(7,u=(()=>a?$.column.default!==null:typeof o=="object"?JSON.stringify(o)!==JSON.stringify(i):String(o)!==String(i))()),r.$$.dirty&131081&&t(6,c=(H=d.get(String($.id)))==null?void 0:H.get(String(o))),r.$$.dirty&16386&&t(4,f=!k||(E==null?void 0:E.state)==="processing")},[$,E,a,o,f,s,c,u,m,T,P,O,R,F,k,i,l,d,b,L]}class pde extends x{constructor(e){super(),J(this,e,_de,dde,Q,{column:0,canExecuteDDL:14})}}function Rc(r){var l;const e=r.slice(),t=(l=e[4].linkFk)==null?void 0:l.referent_table;e[21]=t;const n=e[21]===void 0?void 0:e[9].data.get(e[21]);return e[22]=n,e}function gde(r){var b;let e,t,n,l,s,i,o,a,u=r[0].length>1&&g$(r),c=r[4]&&h$(r),f=r[4]&&v$(r),m=r[4]&&!((b=r[4].column.default)!=null&&b.is_dynamic)&&w$(r),d=r[4]&&k$(r),p=r[4]&&S$(Rc(r)),h=r[3]&&T$(r);return{c(){u&&u.c(),e=N(),c&&c.c(),t=N(),f&&f.c(),n=N(),m&&m.c(),l=N(),d&&d.c(),s=N(),p&&p.c(),i=N(),h&&h.c(),o=oe()},m($,k){u&&u.m($,k),w($,e,k),c&&c.m($,k),w($,t,k),f&&f.m($,k),w($,n,k),m&&m.m($,k),w($,l,k),d&&d.m($,k),w($,s,k),p&&p.m($,k),w($,i,k),h&&h.m($,k),w($,o,k),a=!0},p($,k){var T;$[0].length>1?u?u.p($,k):(u=g$($),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),$[4]?c?(c.p($,k),k&16&&_(c,1)):(c=h$($),c.c(),_(c,1),c.m(t.parentNode,t)):c&&(G(),g(c,1,1,()=>{c=null}),K()),$[4]?f?(f.p($,k),k&16&&_(f,1)):(f=v$($),f.c(),_(f,1),f.m(n.parentNode,n)):f&&(G(),g(f,1,1,()=>{f=null}),K()),$[4]&&!((T=$[4].column.default)!=null&&T.is_dynamic)?m?(m.p($,k),k&16&&_(m,1)):(m=w$($),m.c(),_(m,1),m.m(l.parentNode,l)):m&&(G(),g(m,1,1,()=>{m=null}),K()),$[4]?d?(d.p($,k),k&16&&_(d,1)):(d=k$($),d.c(),_(d,1),d.m(s.parentNode,s)):d&&(G(),g(d,1,1,()=>{d=null}),K()),$[4]?p?(p.p(Rc($),k),k&16&&_(p,1)):(p=S$(Rc($)),p.c(),_(p,1),p.m(i.parentNode,i)):p&&(G(),g(p,1,1,()=>{p=null}),K()),$[3]?h?(h.p($,k),k&8&&_(h,1)):(h=T$($),h.c(),_(h,1),h.m(o.parentNode,o)):h&&(G(),g(h,1,1,()=>{h=null}),K())},i($){a||(_(c),_(f),_(m),_(d),_(p),_(h),a=!0)},o($){g(c),g(f),g(m),g(d),g(p),g(h),a=!1},d($){u&&u.d($),$&&v(e),c&&c.d($),$&&v(t),f&&f.d($),$&&v(n),m&&m.d($),$&&v(l),d&&d.d($),$&&v(s),p&&p.d($),$&&v(i),h&&h.d($),$&&v(o)}}}function hde(r){let e,t=r[8]("select_columns_cells_view_properties")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","no-cell-selected svelte-isknfg")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&256&&t!==(t=l[8]("select_columns_cells_view_properties")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function g$(r){let e,t=r[8]("multiple_columns_selected",{values:{count:r[0].length}})+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","columns-selected-count svelte-isknfg")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&257&&t!==(t=l[8]("multiple_columns_selected",{values:{count:l[0].length}})+"")&&Y(n,t)},d(l){l&&v(e)}}}function h$(r){let e=r[4],t,n,l=$$(r);return{c(){l.c(),t=oe()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&16&&Q(e,e=s[4])?(G(),g(l,1,1,j),K(),l=$$(s),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l.d(s)}}}function bde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[8]("properties"),isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]("properties")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $de(r){let e,t,n,l=!!r[4].linkFk&&b$(r);return t=new hme({props:{column:r[4],columnsDataStore:r[1].columnsDataStore,constraintsDataStore:r[1].constraintsDataStore,canExecuteDDL:r[3]}}),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[4].linkFk?l?(l.p(s,i),i&16&&_(l,1)):(l=b$(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K());const o={};i&16&&(o.column=s[4]),i&2&&(o.columnsDataStore=s[1].columnsDataStore),i&2&&(o.constraintsDataStore=s[1].constraintsDataStore),i&8&&(o.canExecuteDDL=s[3]),t.$set(o)},i(s){n||(_(l),_(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function vde(r){let e,t;return e=new I8({props:{column:r[4],type:"primaryKey"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.column=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function b$(r){let e,t;return e=new I8({props:{column:r[4],type:"foreignKey"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.column=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function wde(r){let e,t,n,l,s,i;t=new dfe({props:{column:r[4],columnsDataStore:r[1].columnsDataStore,canExecuteDDL:r[3]}});const o=[vde,$de],a=[];function u(c,f){return c[4].column.primary_key?0:1}return l=u(r),s=a[l]=o[l](r),{c(){e=M("div"),C(t.$$.fragment),n=N(),s.c(),D(e,"slot","content"),D(e,"class","content-container column-properties svelte-isknfg")},m(c,f){w(c,e,f),y(t,e,null),I(e,n),a[l].m(e,null),i=!0},p(c,f){const m={};f&16&&(m.column=c[4]),f&2&&(m.columnsDataStore=c[1].columnsDataStore),f&8&&(m.canExecuteDDL=c[3]),t.$set(m);let d=l;l=u(c),l===d?a[l].p(c,f):(G(),g(a[d],1,1,()=>{a[d]=null}),K(),s=a[l],s?s.p(c,f):(s=a[l]=o[l](c),s.c()),_(s,1),s.m(e,null))},i(c){i||(_(t.$$.fragment,c),_(s),i=!0)},o(c){g(t.$$.fragment,c),g(s),i=!1},d(c){c&&v(e),S(t),a[l].d()}}}function $$(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[wde],header:[bde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388890&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function v$(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[yde],header:[kde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388888&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function kde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[8]("data_type"),isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]("data_type")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yde(r){let e,t,n;return t=new Kme({props:{column:r[4],canExecuteDDL:r[3]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-isknfg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.column=l[4]),s&8&&(i.canExecuteDDL=l[3]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function w$(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Cde],header:[Sde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388888&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Sde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[8]("default_value"),isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]("default_value")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Cde(r){let e,t,n;return t=new pde({props:{column:r[4],canExecuteDDL:r[3]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-isknfg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&16&&(i.column=l[4]),s&8&&(i.canExecuteDDL=l[3]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function k$(r){let e,t;return e=new Nn({props:{triggerAppearance:"plain",$$slots:{content:[Ede],header:[Tde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388884&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Tde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[8]("formatting")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]("formatting")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function y$(r){let e,t;return e=new ade({props:{column:r[4],canEditMetadata:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.column=n[4]),l&4&&(s.canEditMetadata=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ede(r){let e,t=r[4],n,l=y$(r);return{c(){e=M("div"),l.c(),D(e,"slot","content"),D(e,"class","content-container svelte-isknfg")},m(s,i){w(s,e,i),l.m(e,null),n=!0},p(s,i){i&16&&Q(t,t=s[4])?(G(),g(l,1,1,j),K(),l=y$(s),l.c(),_(l,1),l.m(e,null)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(e),l.d(s)}}}function S$(r){let e,t,n=r[22]!==void 0&&C$(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[22]!==void 0?n?(n.p(l,s),s&528&&_(n,1)):(n=C$(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function C$(r){let e,t;return e=new Nn({props:{triggerAppearance:"plain",$$slots:{content:[Ide],header:[Dde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8389392&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[8]("linked_record_summary")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]("linked_record_summary")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ide(r){let e,t,n;return t=new ife({props:{table:r[22]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-isknfg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&528&&(i.table=l[22]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function T$(r){let e,t;return e=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Ade],header:[Mde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8388865&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Mde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[8]("actions")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.title=n[8]("actions")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ade(r){let e,t,n;return t=new rme({props:{columns:r[0]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-isknfg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.columns=l[0]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Pde(r){let e,t,n,l;const s=[hde,gde],i=[];function o(a,u){return a[0].length===0?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","column-mode-container svelte-isknfg")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function Rde(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h=j,b=()=>(h(),h=ue(s,z=>t(16,p=z)),s),$,k=j,T=()=>(k(),k=ue(a,z=>t(17,$=z)),a),E,A=j,P=()=>(A(),A=ue(o,z=>t(18,E=z)),o),O,R,F,L,U;Z(r,En,z=>t(19,R=z)),Z(r,On,z=>t(20,F=z)),Z(r,ge,z=>t(8,L=z)),Z(r,fn,z=>t(9,U=z)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>A());const W=Ft();Z(r,W,z=>t(1,O=z));const H=Zt();return Z(r,H,z=>t(15,d=z)),r.$$.update=()=>{r.$$.dirty&1048576&&t(13,n=F),r.$$.dirty&524288&&t(12,l=R),r.$$.dirty&2&&b(t(7,{processedColumns:s,selection:i}=O,s,(t(14,i),t(1,O)))),r.$$.dirty&16384&&P(t(6,{selectedCells:o,columnsSelectedWhenTheTableIsEmpty:a}=i,o,T(t(5,a)))),r.$$.dirty&475136&&t(0,u=(()=>{const z=i.getSelectedUniqueColumnsId(E,$),te=[];for(const se of z){const B=p.get(se);B!==void 0&&te.push(B)}return te})()),r.$$.dirty&1&&t(4,c=u.length===1?u[0]:void 0),r.$$.dirty&45056&&t(3,f=!!(d!=null&&d.hasPermission({database:n,schema:l},"canExecuteDDL"))),r.$$.dirty&45056&&t(2,m=!!(d!=null&&d.hasPermission({database:n,schema:l},"canEditMetadata")))},[u,O,m,f,c,a,o,s,L,U,W,H,l,n,i,d,p,$,E,R,F]}class Ode extends x{constructor(e){super(),J(this,e,Rde,Pde,Q,{})}}function E$(r){let e,t;return e=new jr({props:{href:r[3],$$slots:{default:[Lde]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.href=n[3]),l&16448&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lde(r){let e,t,n,l,s,i=r[6]("open_record")+"",o,a,u,c;const f=[xs];let m={};for(let h=0;h<f.length;h+=1)m=le(m,f[h]);n=new Be({props:m});const d=[hl];let p={};for(let h=0;h<d.length;h+=1)p=le(p,d[h]);return u=new Be({props:p}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),a=N(),C(u.$$.fragment),D(e,"class","action-item svelte-if6g6v")},m(h,b){w(h,e,b),I(e,t),y(n,t,null),I(t,l),I(t,s),I(s,o),I(e,a),y(u,e,null),c=!0},p(h,b){const $=b&0?de(f,[$e(xs)]):{};n.$set($),(!c||b&64)&&i!==(i=h[6]("open_record")+"")&&Y(o,i);const k=b&0?de(d,[$e(hl)]):{};u.$set(k)},i(h){c||(_(n.$$.fragment,h),_(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&v(e),S(n),S(u)}}}function D$(r){let e,t;return e=new dt({props:{$$slots:{default:[Nde]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16449&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Nde(r){let e,t,n,l=r[6]("delete_records",{values:{count:r[0].length}})+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&65)&&l!==(l=u[6]("delete_records",{values:{count:u[0].length}})+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function I$(r){let e,t=r[6]("no_actions_selected_record")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","null-text svelte-if6g6v")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&64&&t!==(t=l[6]("no_actions_selected_record")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Fde(r){let e,t,n,l,s=r[1]&&E$(r),i=r[2]&&D$(r),o=r[4]&&I$(r);return{c(){e=M("div"),s&&s.c(),t=N(),i&&i.c(),n=N(),o&&o.c(),D(e,"class","actions-container svelte-if6g6v")},m(a,u){w(a,e,u),s&&s.m(e,null),I(e,t),i&&i.m(e,null),I(e,n),o&&o.m(e,null),l=!0},p(a,[u]){a[1]?s?(s.p(a,u),u&2&&_(s,1)):(s=E$(a),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K()),a[2]?i?(i.p(a,u),u&4&&_(i,1)):(i=D$(a),i.c(),_(i,1),i.m(e,n)):i&&(G(),g(i,1,1,()=>{i=null}),K()),a[4]?o?o.p(a,u):(o=I$(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(a){l||(_(s),_(i),l=!0)},o(a){g(s),g(i),l=!1},d(a){a&&v(e),s&&s.d(),i&&i.d(),o&&o.d()}}}function Hde(r,e,t){let n,l,s,i,o,a,u,c=j,f=()=>(c(),c=ue(n,T=>t(13,u=T)),n),m;Z(r,ns,T=>t(12,a=T)),Z(r,ge,T=>t(6,m=T)),r.$$.on_destroy.push(()=>c());let{selectedRowIndices:d}=e,{recordsData:p}=e,{selection:h}=e,{columnsDataStore:b}=e,{canEditTableRecords:$}=e;async function k(){Rl({identifierType:m("multiple_records",{values:{count:d.length}}),body:[m("deleted_records_cannot_be_recovered",{values:{count:d.length}}),m("are_you_sure_to_proceed")],onProceed:()=>p.deleteSelected(d),onError:T=>Tt.fromError(T),onSuccess:()=>{Tt.success({title:m("count_records_deleted_successfully",{values:{count:d.length}})}),h.resetSelection()}})}return r.$$set=T=>{"selectedRowIndices"in T&&t(0,d=T.selectedRowIndices),"recordsData"in T&&t(8,p=T.recordsData),"selection"in T&&t(9,h=T.selection),"columnsDataStore"in T&&t(10,b=T.columnsDataStore),"canEditTableRecords"in T&&t(11,$=T.canEditTableRecords)},r.$$.update=()=>{r.$$.dirty&1024&&f(t(5,{columns:n}=b,n)),r.$$.dirty&12545&&t(3,l=(()=>{const T=d[0],E=p.getRecordRows()[T];if(!E)return"";let A;try{A=vm(E.record,u)}catch(P){return""}return a({recordId:A})||""})()),r.$$.dirty&9&&t(1,s=d.length===1&&l),r.$$.dirty&2048&&t(2,i=$),r.$$.dirty&6&&t(4,o=!i&&!s)},[d,s,i,l,o,n,m,k,p,h,b,$,a,u]}class zde extends x{constructor(e){super(),J(this,e,Hde,Fde,Q,{selectedRowIndices:0,recordsData:8,selection:9,columnsDataStore:10,canEditTableRecords:11})}}function Vde(r){let e,t=r[6]("select_cells_view_record_props")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","no-records-selected svelte-1c2g5hx")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&64&&t!==(t=l[6]("select_cells_view_record_props")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function qde(r){let e,t,n,l=r[3].length>1&&M$(r);return t=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[Ude],header:[Bde]},$$scope:{ctx:r}}}),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[3].length>1?l?l.p(s,i):(l=M$(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const o={};i&65647&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function M$(r){let e,t=r[6]("multiple_records_selected",{values:{count:r[3].length}})+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","records-selected-count svelte-1c2g5hx")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&72&&t!==(t=l[6]("multiple_records_selected",{values:{count:l[3].length}})+"")&&Y(n,t)},d(l){l&&v(e)}}}function Bde(r){let e,t;return e=new Pr({props:{slot:"header",title:r[6]("actions")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.title=n[6]("actions")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ude(r){let e,t,n;return t=new zde({props:{selectedRowIndices:r[3],recordsData:r[5],selection:r[0],columnsDataStore:r[1].columnsDataStore,canEditTableRecords:r[2]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1c2g5hx")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&8&&(i.selectedRowIndices=l[3]),s&32&&(i.recordsData=l[5]),s&1&&(i.selection=l[0]),s&2&&(i.columnsDataStore=l[1].columnsDataStore),s&4&&(i.canEditTableRecords=l[2]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Wde(r){let e,t,n,l;const s=[qde,Vde],i=[];function o(a,u){return a[3].length?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","column-mode-container svelte-1c2g5hx")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function jde(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=j,p=()=>(d(),d=ue(o,A=>t(13,m=A)),o),h,b,$,k;Z(r,En,A=>t(14,b=A)),Z(r,On,A=>t(15,$=A)),Z(r,ge,A=>t(6,k=A)),r.$$.on_destroy.push(()=>d());const T=Ft();Z(r,T,A=>t(1,h=A));const E=Zt();return Z(r,E,A=>t(12,f=A)),r.$$.update=()=>{r.$$.dirty&32768&&t(10,n=$),r.$$.dirty&16384&&t(9,l=b),r.$$.dirty&2&&t(0,{selection:s,recordsData:i}=h,s,(t(5,i),t(1,h))),r.$$.dirty&1&&p(t(4,{selectedCells:o}=s,o)),r.$$.dirty&8192&&t(11,a=m.valuesArray().map(A=>hf(A))),r.$$.dirty&2048&&t(3,u=Array.from(new Set(a))),r.$$.dirty&5632&&t(2,c=!!(f!=null&&f.hasPermission({database:n,schema:l},"canEditTableRecords")))},[s,h,c,u,o,i,k,T,E,l,n,a,f,m,b,$]}class Yde extends x{constructor(e){super(),J(this,e,jde,Wde,Q,{})}}function Gde(r){let e=r[6]("select_cell_view_properties")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&64&&e!==(e=n[6]("select_cell_view_properties")+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function Kde(r){let e,t,n=r[6]("content")+"",l,s,i,o,a=r[1]&&A$(r);return{c(){e=M("section"),t=M("header"),l=q(n),s=N(),i=M("div"),a&&a.c(),D(t,"class","svelte-lis5j9"),D(i,"class","content svelte-lis5j9"),D(e,"class","cell-content")},m(u,c){w(u,e,c),I(e,t),I(t,l),I(e,s),I(e,i),a&&a.m(i,null),o=!0},p(u,c){(!o||c&64)&&n!==(n=u[6]("content")+"")&&Y(l,n),u[1]?a?(a.p(u,c),c&2&&_(a,1)):(a=A$(u),a.c(),_(a,1),a.m(i,null)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){o||(_(a),o=!0)},o(u){g(a),o=!1},d(u){u&&v(e),a&&a.d()}}}function A$(r){let e,t;return e=new Ci({props:{isIndependentOfSheet:!0,disabled:!0,columnFabric:r[1],value:r[0],recordSummary:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.columnFabric=n[1]),l&1&&(s.value=n[0]),l&4&&(s.recordSummary=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xde(r){let e,t,n,l;const s=[Kde,Gde],i=[];function o(a,u){return a[0]!==void 0?0:1}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","section-content svelte-lis5j9")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function Qde(r,e,t){let n,l,s,i,o,a,u,c,f,m,d=j,p=()=>(d(),d=ue(o,R=>t(11,m=R)),o),h,b=j,$=()=>(b(),b=ue(s,R=>t(12,h=R)),s),k,T=j,E=()=>(T(),T=ue(i,R=>t(13,k=R)),i),A,P;Z(r,ge,R=>t(6,P=R)),r.$$.on_destroy.push(()=>d()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T());const O=Ft();return Z(r,O,R=>t(14,A=R)),r.$$.update=()=>{var R;r.$$.dirty&16384&&t(10,{selection:n,recordsData:l,processedColumns:s}=A,n,(t(9,l),t(14,A)),$(t(5,s))),r.$$.dirty&1024&&E(t(4,{activeCell:i}=n,i)),r.$$.dirty&512&&p(t(3,{recordSummaries:o}=l,o)),r.$$.dirty&8192&&t(8,a=k),r.$$.dirty&768&&t(0,u=(()=>{if(a){const F=l.getRecordRows();if(F[a.rowIndex])return F[a.rowIndex].record[a.columnId]}})()),r.$$.dirty&4352&&t(1,c=(()=>{if(a){const F=h.get(Number(a.columnId));if(F)return F}})()),r.$$.dirty&2051&&t(2,f=c&&((R=m.get(String(c.id)))==null?void 0:R.get(String(u))))},[u,c,f,o,i,s,P,O,a,l,n,m,h,k,A]}class Zde extends x{constructor(e){super(),J(this,e,Qde,Xde,Q,{})}}function Jde(r){var u,c;let e,t,n=r[2]("name")+"",l,s,i,o;function a(...f){return r[5](r[7],...f)}return i=new Ja({props:{initialValue:(c=(u=r[3].data.get(r[1].id))==null?void 0:u.name)!=null?c:"",onSubmit:a,getValidationErrors:r[6],disabled:r[0]}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),C(i.$$.fragment),D(t,"class","label"),D(e,"class","rename-table-property-container svelte-1b3mauw")},m(f,m){w(f,e,m),I(e,t),I(t,l),I(e,s),y(i,e,null),o=!0},p(f,m){var p,h;r=f,(!o||m&4)&&n!==(n=r[2]("name")+"")&&Y(l,n);const d={};m&10&&(d.initialValue=(h=(p=r[3].data.get(r[1].id))==null?void 0:p.name)!=null?h:""),m&128&&(d.onSubmit=a),m&64&&(d.getValidationErrors=r[6]),m&1&&(d.disabled=r[0]),i.$set(d)},i(f){o||(_(i.$$.fragment,f),o=!0)},o(f){g(i.$$.fragment,f),o=!1},d(f){f&&v(e),S(i)}}}function xde(r){let e,t;return e=new Zm({props:{tableId:r[1].id,$$slots:{default:[Jde,({getNameValidationErrors:n,onUpdate:l})=>({6:n,7:l}),({getNameValidationErrors:n,onUpdate:l})=>(n?64:0)|(l?128:0)]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.tableId=n[1].id),l&463&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e_e(r,e,t){let n,l,s;Z(r,ge,u=>t(2,l=u)),Z(r,fn,u=>t(3,s=u));const i=Ft();Z(r,i,u=>t(1,n=u));let{disabled:o=!1}=e;const a=(u,c)=>u({name:c});return r.$$set=u=>{"disabled"in u&&t(0,o=u.disabled)},[o,n,l,s,i,a]}class t_e extends x{constructor(e){super(),J(this,e,e_e,xde,Q,{disabled:0})}}function P$(r){let e,t,n,l;e=new jr({props:{href:r[4],$$slots:{default:[r_e]},$$scope:{ctx:r}}});let s=r[3]&&R$(r);return{c(){C(e.$$.fragment),t=N(),s&&s.c(),n=oe()},m(i,o){y(e,i,o),w(i,t,o),s&&s.m(i,o),w(i,n,o),l=!0},p(i,o){const a={};o&16&&(a.href=i[4]),o&262272&&(a.$$scope={dirty:o,ctx:i}),e.$set(a),i[3]?s?(s.p(i,o),o&8&&_(s,1)):(s=R$(i),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){l||(_(e.$$.fragment,i),_(s),l=!0)},o(i){g(e.$$.fragment,i),g(s),l=!1},d(i){S(e,i),i&&v(t),s&&s.d(i),i&&v(n)}}}function n_e(r){let e=r[7]("open_table_in_data_explorer")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("open_table_in_data_explorer")+"")&&Y(t,e)},d(n){n&&v(t)}}}function r_e(r){let e,t,n,l,s,i=r[7]("explore_data")+"",o,a,u,c,f,m;const d=[zn];let p={};for(let $=0;$<d.length;$+=1)p=le(p,d[$]);n=new Be({props:p}),u=new $r({props:{$$slots:{default:[n_e]},$$scope:{ctx:r}}});const h=[hl];let b={};for(let $=0;$<h.length;$+=1)b=le(b,h[$]);return f=new Be({props:b}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),a=N(),C(u.$$.fragment),c=N(),C(f.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m($,k){w($,e,k),I(e,t),y(n,t,null),I(t,l),I(t,s),I(s,o),I(t,a),y(u,t,null),I(e,c),y(f,e,null),m=!0},p($,k){const T=k&0?de(d,[$e(zn)]):{};n.$set(T),(!m||k&128)&&i!==(i=$[7]("explore_data")+"")&&Y(o,i);const E={};k&262272&&(E.$$scope={dirty:k,ctx:$}),u.$set(E);const A=k&0?de(h,[$e(hl)]):{};f.$set(A)},i($){m||(_(n.$$.fragment,$),_(u.$$.fragment,$),_(f.$$.fragment,$),m=!0)},o($){g(n.$$.fragment,$),g(u.$$.fragment,$),g(f.$$.fragment,$),m=!1},d($){$&&v(e),S(n),S(u),S(f)}}}function R$(r){let e,t;return e=new jr({props:{href:r[3],$$slots:{default:[s_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.href=n[3]),l&262272&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function l_e(r){let e=r[7]("summarize_in_data_explorer_help")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&128&&e!==(e=n[7]("summarize_in_data_explorer_help")+"")&&Y(t,e)},d(n){n&&v(t)}}}function s_e(r){let e,t,n,l,s,i=r[7]("summarize_in_data_explorer")+"",o,a,u,c,f,m;const d=[zn];let p={};for(let $=0;$<d.length;$+=1)p=le(p,d[$]);n=new Be({props:p}),u=new $r({props:{$$slots:{default:[l_e]},$$scope:{ctx:r}}});const h=[hl];let b={};for(let $=0;$<h.length;$+=1)b=le(b,h[$]);return f=new Be({props:b}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),a=N(),C(u.$$.fragment),c=N(),C(f.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m($,k){w($,e,k),I(e,t),y(n,t,null),I(t,l),I(t,s),I(s,o),I(t,a),y(u,t,null),I(e,c),y(f,e,null),m=!0},p($,k){const T=k&0?de(d,[$e(zn)]):{};n.$set(T),(!m||k&128)&&i!==(i=$[7]("summarize_in_data_explorer")+"")&&Y(o,i);const E={};k&262272&&(E.$$scope={dirty:k,ctx:$}),u.$set(E);const A=k&0?de(h,[$e(hl)]):{};f.$set(A)},i($){m||(_(n.$$.fragment,$),_(u.$$.fragment,$),_(f.$$.fragment,$),m=!0)},o($){g(n.$$.fragment,$),g(u.$$.fragment,$),g(f.$$.fragment,$),m=!1},d($){$&&v(e),S(n),S(u),S(f)}}}function O$(r){let e,t;return e=new dt({props:{appearance:"outline-primary",$$slots:{default:[i_e]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&262272&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function i_e(r){let e,t,n,l=r[7]("delete_table")+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&128)&&l!==(l=u[7]("delete_table")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function o_e(r){let e,t,n,l=r[2]&&r[1]&&P$(r),s=r[0]&&O$(r);return{c(){e=M("div"),l&&l.c(),t=N(),s&&s.c(),D(e,"class","actions-container svelte-lo2o6r")},m(i,o){w(i,e,o),l&&l.m(e,null),I(e,t),s&&s.m(e,null),n=!0},p(i,[o]){i[2]&&i[1]?l?(l.p(i,o),o&6&&_(l,1)):(l=P$(i),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K()),i[0]?s?(s.p(i,o),o&1&&_(s,1)):(s=O$(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){n||(_(l),_(s),n=!0)},o(i){g(l),g(s),n=!1},d(i){i&&v(e),l&&l.d(),s&&s.d()}}}function a_e(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b=j,$=()=>(b(),b=ue(i,F=>t(15,h=F)),i),k,T=j,E=()=>(T(),T=ue(o,F=>t(16,k=F)),o),A;Z(r,En,F=>t(1,f=F)),Z(r,On,F=>t(2,m=F)),Z(r,ks,F=>t(14,d=F)),Z(r,ge,F=>t(7,p=F)),Z(r,fn,F=>t(17,A=F)),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>T());let{canExecuteDDL:P}=e;const O=Ft();Z(r,O,F=>t(13,c=F));function R(){Rl({identifierType:p("table"),body:{component:i8,props:{tableName:d==null?void 0:d.name}},onProceed:async()=>{const F=m,L=f;F&&L&&(await Ku(F,L,c.id),un.goto(br(F.id,L.id),!0))}})}return r.$$set=F=>{"canExecuteDDL"in F&&t(0,P=F.canExecuteDDL)},r.$$.update=()=>{var F,L;r.$$.dirty&8192&&t(10,{id:n,columnsDataStore:l,meta:s}=c,n,(t(11,l),t(13,c)),(t(12,s),t(13,c))),r.$$.dirty&4096&&$(t(6,{grouping:i}=s,i)),r.$$.dirty&2048&&E(t(5,{columns:o}=l,o)),r.$$.dirty&139270&&t(4,a=m&&f?s8(m==null?void 0:m.id,f.id,{id:c.id,name:(L=(F=A.data.get(c.id))==null?void 0:F.name)!=null?L:""}):""),r.$$.dirty&115718&&t(3,u=(()=>{if(!(!d||!m||!f))return Fse(m.id,f.id,{baseTable:{id:n,name:d.name},columns:k,terseGrouping:h.terse()})})())},[P,f,m,u,a,o,i,p,O,R,n,l,s,c,d,h,k,A]}class u_e extends x{constructor(e){super(),J(this,e,a_e,o_e,Q,{canExecuteDDL:0})}}function L$(r,e,t){const n=r.slice();return n[6]=e[t],n}function N$(r,e){let t,n,l,s;return n=new er({props:{column:e[6]}}),{key:r,first:null,c(){t=M("span"),C(n.$$.fragment),l=N(),D(t,"class","column-name-container svelte-t5b5db"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),I(t,l),s=!0},p(i,o){e=i;const a={};o&1&&(a.column=e[6]),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&v(t),S(n)}}}function c_e(r){let e,t,n=[],l=new Map,s,i=r[0];const o=a=>a[6].id;for(let a=0;a<i.length;a+=1){let u=L$(r,i,a),c=o(u);l.set(c,n[a]=N$(c,u))}return{c(){e=M("div"),t=M("div");for(let a=0;a<n.length;a+=1)n[a].c();D(t,"class","column-names svelte-t5b5db"),D(e,"class","column-names-header svelte-t5b5db")},m(a,u){w(a,e,u),I(e,t);for(let c=0;c<n.length;c+=1)n[c].m(t,null);s=!0},p(a,[u]){u&1&&(i=a[0],G(),n=gt(n,u,o,1,a,i,l,t,bt,N$,null,L$),K())},i(a){if(!s){for(let u=0;u<i.length;u+=1)_(n[u]);s=!0}},o(a){for(let u=0;u<n.length;u+=1)g(n[u]);s=!1},d(a){a&&v(e);for(let u=0;u<n.length;u+=1)n[u].d()}}}function f_e(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,f=>t(4,s=f)),n),a;r.$$.on_destroy.push(()=>i());let{constraint:u}=e;const c=Ft();return Z(r,c,f=>t(5,a=f)),r.$$set=f=>{"constraint"in f&&t(3,u=f.constraint)},r.$$.update=()=>{r.$$.dirty&32&&o(t(1,n=a.columnsDataStore.columns)),r.$$.dirty&24&&t(0,l=s.filter(f=>u.columns.includes(f.id)))},[l,n,c,u,s,a]}class m_e extends x{constructor(e){super(),J(this,e,f_e,c_e,Q,{constraint:3})}}function d_e(r){let e,t=r[0]("constraint_name_unique_help")+"",n,l,s,i=r[0]("constraint_name_unique_mathesar_relevance_help")+"",o;return{c(){e=M("p"),n=q(t),l=N(),s=M("p"),o=q(i)},m(a,u){w(a,e,u),I(e,n),w(a,l,u),w(a,s,u),I(s,o)},p(a,u){u&1&&t!==(t=a[0]("constraint_name_unique_help")+"")&&Y(n,t),u&1&&i!==(i=a[0]("constraint_name_unique_mathesar_relevance_help")+"")&&Y(o,i)},d(a){a&&v(e),a&&v(l),a&&v(s)}}}function __e(r){let e,t;return e=new $r({props:{$$slots:{default:[d_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function p_e(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class M8 extends x{constructor(e){super(),J(this,e,p_e,__e,Q,{})}}function g_e(r){let e,t;return e=new er({props:{column:{...r[29].column,constraintsType:Zl(r[29].column.id,r[4])}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&536870928&&(s.column={...n[29].column,constraintsType:Zl(n[29].column.id,n[4])}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function h_e(r){let e,t,n;function l(i){r[21](i)}let s={options:r[7],autoClearInvalidValues:!1,$$slots:{default:[g_e,({option:i})=>({29:i}),({option:i})=>i?536870912:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.values=r[0]),e=new du({props:s}),Te.push(()=>Oe(e,"values",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&128&&(a.options=i[7]),o&1610612752&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.values=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function b_e(r){let e,t;return e=new hn({props:{label:r[9]("columns"),layout:"stacked",$$slots:{default:[h_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.label=n[9]("columns")),l&1073741969&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $_e(r){let e=r[9]("set_constraint_name")+"",t,n,l,s;return l=new M8({}),{c(){t=q(e),n=N(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o&512)&&e!==(e=i[9]("set_constraint_name")+"")&&Y(t,e)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(t),i&&v(n),S(l,i)}}}function v_e(r){let e,t,n;function l(i){r[23](i)}let s={options:r[11],isInline:!0,getRadioLabel:r[22],$$slots:{default:[$_e]},$$scope:{ctx:r}};return r[1]!==void 0&&(s.value=r[1]),e=new hs({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[13]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1073742336&&(a.$$scope={dirty:o,ctx:i}),!t&&o&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function F$(r){let e,t;return e=new ai({props:{errors:r[3],$$slots:{default:[k_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.errors=n[3]),l&1073742348&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function w_e(r){let e,t,n;function l(i){r[24](i)}let s={hasError:r[3].length>0};return r[2]!==void 0&&(s.value=r[2]),e=new gn({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.hasError=i[3].length>0),!t&&o&4&&(t=!0,a.value=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function k_e(r){let e,t;return e=new hn({props:{label:r[9]("constraint_name"),layout:"stacked",$$slots:{default:[w_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.label=n[9]("constraint_name")),l&1073741836&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function y_e(r){let e,t,n,l,s,i;e=new ai({props:{$$slots:{default:[b_e]},$$scope:{ctx:r}}}),n=new ai({props:{$$slots:{default:[v_e]},$$scope:{ctx:r}}});let o=r[1]==="manual"&&F$(r);return{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),o&&o.c(),s=oe()},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u&1073742481&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&1073742338&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),a[1]==="manual"?o?(o.p(a,u),u&2&&_(o,1)):(o=F$(a),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(G(),g(o,1,1,()=>{o=null}),K())},i(a){i||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(o),i=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(o),i=!1},d(a){S(e,a),a&&v(t),S(n,a),a&&v(l),o&&o.d(a),a&&v(s)}}}function S_e(r){let e,t,n=r[9]("new_unique_constraint")+"",l,s,i,o,a,u;return i=new zy({props:{$$slots:{default:[y_e]},$$scope:{ctx:r}}}),a=new Kr({props:{onProceed:r[14],onCancel:r[15],proceedButton:{label:r[9]("add")},canProceed:r[6],size:"small"}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment),D(e,"class","add-new-unique-constraint svelte-154es72")},m(c,f){w(c,e,f),I(e,t),I(t,l),I(e,s),y(i,e,null),I(e,o),y(a,e,null),u=!0},p(c,[f]){(!u||f&512)&&n!==(n=c[9]("new_unique_constraint")+"")&&Y(l,n);const m={};f&1073742495&&(m.$$scope={dirty:f,ctx:c}),i.$set(m);const d={};f&512&&(d.proceedButton={label:c[9]("add")}),f&64&&(d.canProceed=c[6]),a.$set(d)},i(c){u||(_(i.$$.fragment,c),_(a.$$.fragment,c),u=!0)},o(c){g(i.$$.fragment,c),g(a.$$.fragment,c),u=!1},d(c){c&&v(e),S(i),S(a)}}}function C_e(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(i,ie=>t(4,f=ie)),i),p,h,b,$=j,k=()=>($(),$=ue(n,ie=>t(20,b=ie)),n);Z(r,ge,ie=>t(9,c=ie)),Z(r,fn,ie=>t(19,h=ie)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>$());let{onClose:T=void 0}=e;const E=new Map([["auto",c("automatically")],["manual",c("manually")]]),A=[...E.keys()],P=Ft();Z(r,P,ie=>t(18,p=ie));function O(ie,_e,ae){const fe=_e.map(ve=>ve.column.name),Ue=`${ie}_${fe.join("_")}`;return Tl(Ue,ae)}function R(ie,_e,ae){return ie==="auto"?[]:_e!=null&&_e.trim()?ae.has(_e==null?void 0:_e.trim())?[c("constraint_name_already_exists")]:[]:[c("constraint_name_cannot_be_empty")]}let F=[],L="auto",U;function W(){t(0,F=[]),t(1,L="auto"),t(2,U=void 0)}function H(){t(2,U=L==="manual"?O(s,F,l):void 0)}async function z(){try{await n.add({columns:F.map(ie=>ie.id),type:"unique",name:U}),W(),T==null||T()}catch(ie){Tt.error(`${c("unable_to_add_constraint")} ${en(ie)}`)}}function te(){T==null||T()}function se(ie){F=ie,t(0,F)}const B=ie=>{var _e;return(_e=E.get(ie))!=null?_e:""};function V(ie){L=ie,t(1,L)}function ee(ie){U=ie,t(2,U)}return r.$$set=ie=>{"onClose"in ie&&t(16,T=ie.onClose)},r.$$.update=()=>{var ie,_e;r.$$.dirty&262144&&k(t(5,n=p.constraintsDataStore)),r.$$.dirty&1048576&&t(17,l=new Set(b.constraints.map(ae=>ae.name))),r.$$.dirty&786432&&(s=(_e=(ie=h.data.get(p.id))==null?void 0:ie.name)!=null?_e:""),r.$$.dirty&262144&&d(t(8,{processedColumns:i}=p,i)),r.$$.dirty&16&&t(7,o=Array.from(f.values())),r.$$.dirty&131078&&t(3,a=R(L,U,l)),r.$$.dirty&9&&t(6,u=F.length>0&&!a.length)},[F,L,U,a,f,n,u,o,i,c,E,A,P,H,z,te,T,l,p,h,b,se,B,V,ee]}class T_e extends x{constructor(e){super(),J(this,e,C_e,S_e,Q,{onClose:16})}}function H$(r){let e,t;return e=new Si({props:{processedColumn:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.processedColumn=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function E_e(r){let e,t,n=r[5]&&H$(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[5]?n?(n.p(l,s),s&32&&_(n,1)):(n=H$(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function D_e(r){let e,t,n;function l(i){r[3](i)}let s={options:r[1],labelKey:"name",valuesAreEqual:I_e,disabled:r[2],$$slots:{default:[E_e,({option:i})=>({5:i}),({option:i})=>i?32:0]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[4]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.options=i[1]),o&4&&(a.disabled=i[2]),o&96&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}const I_e=(r,e)=>(r==null?void 0:r.id)===(e==null?void 0:e.id);function M_e(r,e,t){let{columns:n}=e,{value:l=void 0}=e,{disabled:s=!1}=e;function i(a){l=a,t(0,l)}function o(a){ye.call(this,r,a)}return r.$$set=a=>{"columns"in a&&t(1,n=a.columns),"value"in a&&t(0,l=a.value),"disabled"in a&&t(2,s=a.disabled)},[l,n,s,i,o]}class xa extends x{constructor(e){super(),J(this,e,M_e,D_e,Q,{columns:1,value:0,disabled:2})}}function z$(r){let e,t,n,l;const s=[P_e,A_e],i=[];function o(a,u){return a[17]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function A_e(r){let e,t;return e=new Vt({props:{field:r[3],input:{component:xa,props:{columns:r[10]}},layout:"stacked",$$slots:{label:[O_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.field=n[3]),l[0]&1024&&(s.input={component:xa,props:{columns:n[10]}}),l[0]&65664|l[1]&256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function P_e(r){let e,t;return e=new Jn({props:{$$slots:{default:[L_e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[1]&256&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function V$(r){let e,t;return e=new Sn({props:{table:r[7],bold:!0,truncate:!1}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&128&&(s.table=n[7]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function R_e(r){let e,t,n=r[38]==="tableName"&&V$(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[38]==="tableName"?n?(n.p(l,s),s[1]&128&&_(n,1)):(n=V$(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function O_e(r){let e,t,n;return t=new St({props:{text:r[16]("target_column_in_table"),$$slots:{default:[R_e,({slotName:l})=>({38:l}),({slotName:l})=>[0,l?128:0]]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","label")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&65536&&(i.text=l[16]("target_column_in_table")),s[0]&128|s[1]&384&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function L_e(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function N_e(r){let e=r[16]("set_constraint_name")+"",t,n,l,s;return l=new M8({}),{c(){t=q(e),n=N(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o[0]&65536)&&e!==(e=i[16]("set_constraint_name")+"")&&Y(t,e)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(t),i&&v(n),S(l,i)}}}function F_e(r){let e,t,n;function l(i){r[33](i)}let s={options:r[19],isInline:!0,getRadioLabel:r[32],$$slots:{default:[N_e]},$$scope:{ctx:r}};return r[6]!==void 0&&(s.value=r[6]),e=new hs({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[21]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o[0]&65536|o[1]&256&&(a.$$scope={dirty:o,ctx:i}),!t&&o[0]&64&&(t=!0,a.value=i[6],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function q$(r){let e,t;return e=new Vt({props:{field:r[1],layout:"stacked",label:r[16]("constraint_name")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.field=n[1]),l[0]&65536&&(s.label=n[16]("constraint_name")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function H_e(r){let e,t,n=r[16]("new_foreign_key_constraint")+"",l,s,i,o,a,u,c,f,m,d,p,h;i=new Vt({props:{field:r[5],input:{component:xa,props:{columns:r[13]}},layout:"stacked",label:r[16]("column_references_target_table")}}),a=new Vt({props:{field:r[4],input:{component:go,props:{autoSelect:"clear",tables:r[15]}},layout:"stacked",label:r[16]("target_table")}});let b=r[7]&&z$(r);f=new Jn({props:{$$slots:{default:[F_e]},$$scope:{ctx:r}}});let $=r[6]==="manual"&&q$(r);return p=new Zr({props:{form:r[8],catchErrors:!0,onProceed:r[22],onCancel:r[0],size:"small",proceedButton:{label:r[16]("add")}}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment),u=N(),b&&b.c(),c=N(),C(f.$$.fragment),m=N(),$&&$.c(),d=N(),C(p.$$.fragment),D(t,"class","title"),D(e,"class","add-new-fk-constraint svelte-1c0ahmy")},m(k,T){w(k,e,T),I(e,t),I(t,l),I(e,s),y(i,e,null),I(e,o),y(a,e,null),I(e,u),b&&b.m(e,null),I(e,c),y(f,e,null),I(e,m),$&&$.m(e,null),I(e,d),y(p,e,null),h=!0},p(k,T){(!h||T[0]&65536)&&n!==(n=k[16]("new_foreign_key_constraint")+"")&&Y(l,n);const E={};T[0]&32&&(E.field=k[5]),T[0]&8192&&(E.input={component:xa,props:{columns:k[13]}}),T[0]&65536&&(E.label=k[16]("column_references_target_table")),i.$set(E);const A={};T[0]&16&&(A.field=k[4]),T[0]&32768&&(A.input={component:go,props:{autoSelect:"clear",tables:k[15]}}),T[0]&65536&&(A.label=k[16]("target_table")),a.$set(A),k[7]?b?(b.p(k,T),T[0]&128&&_(b,1)):(b=z$(k),b.c(),_(b,1),b.m(e,c)):b&&(G(),g(b,1,1,()=>{b=null}),K());const P={};T[0]&65600|T[1]&256&&(P.$$scope={dirty:T,ctx:k}),f.$set(P),k[6]==="manual"?$?($.p(k,T),T[0]&64&&_($,1)):($=q$(k),$.c(),_($,1),$.m(e,d)):$&&(G(),g($,1,1,()=>{$=null}),K());const O={};T[0]&256&&(O.form=k[8]),T[0]&1&&(O.onCancel=k[0]),T[0]&65536&&(O.proceedButton={label:k[16]("add")}),p.$set(O)},i(k){h||(_(i.$$.fragment,k),_(a.$$.fragment,k),_(b),_(f.$$.fragment,k),_($),_(p.$$.fragment,k),h=!0)},o(k){g(i.$$.fragment,k),g(a.$$.fragment,k),g(b),g(f.$$.fragment,k),g($),g(p.$$.fragment,k),h=!1},d(k){k&&v(e),S(i),S(a),b&&b.d(),S(f),$&&$.d(),S(p)}}}function z_e(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A=j,P=()=>(A(),A=ue(s,qe=>t(35,E=qe)),s),O,R=j,F=()=>(R(),R=ue(a,qe=>t(6,O=qe)),a),L,U=j,W=()=>(U(),U=ue(u,qe=>t(36,L=qe)),u),H,z=j,te=()=>(z(),z=ue($,qe=>t(26,H=qe)),$),se,B,V=j,ee=()=>(V(),V=ue(i,qe=>t(7,B=qe)),i),ie,_e=j,ae=()=>(_e(),_e=ue(d,qe=>t(28,ie=qe)),d),fe,Ue,ve,Se=j,ke=()=>(Se(),Se=ue(n,qe=>t(31,ve=qe)),n),Fe,we,Re=j,Ge=()=>(Re(),Re=ue(b,qe=>t(17,we=qe)),b);Z(r,wr,qe=>t(27,se=qe)),Z(r,Xu,qe=>t(30,Ue=qe)),Z(r,ge,qe=>t(16,Fe=qe)),r.$$.on_destroy.push(()=>A()),r.$$.on_destroy.push(()=>R()),r.$$.on_destroy.push(()=>U()),r.$$.on_destroy.push(()=>z()),r.$$.on_destroy.push(()=>V()),r.$$.on_destroy.push(()=>_e()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>Re());let{onClose:Je=void 0}=e;const Ke=new Map([["auto",Fe("automatically")],["manual",Fe("manually")]]),ot=[...Ke.keys()],lt=Ft();Z(r,lt,qe=>t(29,fe=qe));function ze(qe,et,mt){var Qe;const Ot=`FK_${qe}_${(Qe=et==null?void 0:et.column.name)!=null?Qe:""}`;return Tl(Ot,mt)}function Xe(){an(u,L=O==="manual"?ze(m,E,l):void 0,L)}async function pt(qe){await n.add({columns:[qe.baseColumn.id],type:"foreignkey",name:qe.constraintName,referent_table:qe.targetTable.id,referent_columns:[qe.targetColumn.id]}),c.reset(),Je==null||Je()}const rt=qe=>{var et;return(et=Ke.get(qe))!=null?et:""};function st(qe){O=qe,a.set(O)}return r.$$set=qe=>{"onClose"in qe&&t(0,Je=qe.onClose)},r.$$.update=()=>{var qe,et;r.$$.dirty[0]&536870912&&ke(t(9,n=fe.constraintsDataStore)),r.$$.dirty[1]&1&&t(23,l=new Set(ve.constraints.map(mt=>mt.name))),r.$$.dirty[0]&8388608&&W(t(1,u=wt(void 0,[Lo(l)]))),r.$$.dirty[0]&126&&t(8,c=Un({baseColumn:s,targetTable:i,targetColumn:o,namingStrategy:a,...O==="auto"?{}:{constraintName:u}})),r.$$.dirty[0]&1073741824&&t(15,f=[...Ue.values()]),r.$$.dirty[0]&1610612736&&(m=(et=(qe=Ue.get(fe.id))==null?void 0:qe.name)!=null?et:""),r.$$.dirty[0]&536870912&&ae(t(14,{processedColumns:d}=fe,d)),r.$$.dirty[0]&268435456&&t(13,p=[...ie.values()]),r.$$.dirty[0]&134217856&&t(25,h=B?new uy({id:B.id,abstractTypesMap:se.data}):void 0),r.$$.dirty[0]&33554432&&Ge(t(12,b=lr(h==null?void 0:h.isLoading))),r.$$.dirty[0]&33554432&&te(t(11,$=lr(h==null?void 0:h.processedColumns))),r.$$.dirty[0]&67108864&&t(24,k=H!=null?H:new Map),r.$$.dirty[0]&16777216&&t(10,T=[...k.values()])},P(t(5,s=wt(void 0))),ee(t(4,i=wt(void 0))),t(3,o=wt(void 0)),F(t(2,a=wt("auto"))),[Je,u,a,o,i,s,O,B,c,n,T,$,b,p,d,f,Fe,we,Ke,ot,lt,Xe,pt,l,k,h,H,se,ie,fe,Ue,ve,rt,st]}class V_e extends x{constructor(e){super(),J(this,e,z_e,H_e,Q,{onClose:0},null,[-1,-1])}}function q_e(r){let e,t,n=r[1]("constraint_name")+"",l,s,i,o,a=r[0].name+"",u;return{c(){e=M("div"),t=M("span"),l=q(n),s=q(":"),i=N(),o=M("span"),u=q(a),D(e,"class","constraint-details svelte-ahl4tc")},m(c,f){w(c,e,f),I(e,t),I(t,l),I(t,s),I(e,i),I(e,o),I(o,u)},p(c,[f]){f&2&&n!==(n=c[1]("constraint_name")+"")&&Y(l,n),f&1&&a!==(a=c[0].name+"")&&Y(u,a)},i:j,o:j,d(c){c&&v(e)}}}function B_e(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{constraint:l}=e;return r.$$set=s=>{"constraint"in s&&t(0,l=s.constraint)},[l,n]}class U_e extends x{constructor(e){super(),J(this,e,B_e,q_e,Q,{constraint:0})}}function B$(r,e,t){const n=r.slice();return n[6]=e[t],n}function U$(r){let e,t,n=r[2]("target")+"",l,s,i,o,a,u,c,f,m;u=new Sn({props:{table:r[1]}});let d={ctx:r,current:null,token:null,hasCatch:!0,pending:Y_e,then:j_e,catch:W_e,value:5,blocks:[,,,]};return Bl(f=r[3](r[0]),d),{c(){e=M("div"),t=M("span"),l=q(n),s=q(":"),i=N(),o=M("div"),a=M("span"),C(u.$$.fragment),c=N(),d.block.c(),D(a,"class","entity-name-container svelte-1diy2q4"),D(o,"class","target-details svelte-1diy2q4"),D(e,"class","target svelte-1diy2q4")},m(p,h){w(p,e,h),I(e,t),I(t,l),I(t,s),I(e,i),I(e,o),I(o,a),y(u,a,null),I(o,c),d.block.m(o,d.anchor=null),d.mount=()=>o,d.anchor=null,m=!0},p(p,h){r=p,(!m||h&4)&&n!==(n=r[2]("target")+"")&&Y(l,n);const b={};h&2&&(b.table=r[1]),u.$set(b),d.ctx=r,h&1&&f!==(f=r[3](r[0]))&&Bl(f,d)||su(d,r,h)},i(p){m||(_(u.$$.fragment,p),_(d.block),m=!0)},o(p){g(u.$$.fragment,p);for(let h=0;h<3;h+=1){const b=d.blocks[h];g(b)}m=!1},d(p){p&&v(e),S(u),d.block.d(),d.token=null,d=null}}}function W_e(r){let e,t;const n=[bl];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(bl)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function j_e(r){let e=[],t=new Map,n,l,s=r[5];const i=o=>o[6].id;for(let o=0;o<s.length;o+=1){let a=B$(r,s,o),u=i(a);t.set(u,e[o]=W$(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&9&&(s=o[5],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,W$,n,B$),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function W$(r,e){let t,n,l,s;return n=new er({props:{column:e[6]}}),{key:r,first:null,c(){t=M("span"),C(n.$$.fragment),l=N(),D(t,"class","entity-name-container svelte-1diy2q4"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),I(t,l),s=!0},p(i,o){e=i;const a={};o&1&&(a.column=e[6]),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&v(t),S(n)}}}function Y_e(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function G_e(r){let e,t,n,l=r[2]("constraint_name")+"",s,i,o,a,u=r[0].name+"",c,f,m,d=r[1]&&U$(r);return{c(){e=M("div"),t=M("div"),n=M("span"),s=q(l),i=q(":"),o=N(),a=M("span"),c=q(u),f=N(),d&&d.c(),D(e,"class","constraint-details svelte-1diy2q4")},m(p,h){w(p,e,h),I(e,t),I(t,n),I(n,s),I(n,i),I(t,o),I(t,a),I(a,c),I(e,f),d&&d.m(e,null),m=!0},p(p,[h]){(!m||h&4)&&l!==(l=p[2]("constraint_name")+"")&&Y(s,l),(!m||h&1)&&u!==(u=p[0].name+"")&&Y(c,u),p[1]?d?(d.p(p,h),h&2&&_(d,1)):(d=U$(p),d.c(),_(d,1),d.m(e,null)):d&&(G(),g(d,1,1,()=>{d=null}),K())},i(p){m||(_(d),m=!0)},o(p){g(d),m=!1},d(p){p&&v(e),d&&d.d()}}}function K_e(r,e,t){let n,l,s;Z(r,fn,a=>t(4,l=a)),Z(r,ge,a=>t(2,s=a));let{constraint:i}=e;async function o(a){if(a.type!=="foreignkey")return[];const c=`/api/db/v0/tables/${a.referent_table}/columns/?limit=500`;return(await bn(c)).results.filter(m=>a.referent_columns.includes(m.id))}return r.$$set=a=>{"constraint"in a&&t(0,i=a.constraint)},r.$$.update=()=>{r.$$.dirty&17&&t(1,n=i.type==="foreignkey"?l.data.get(i.referent_table):void 0)},[i,n,s,o,l]}class X_e extends x{constructor(e){super(),J(this,e,K_e,G_e,Q,{constraint:0})}}function j$(r,e,t){const n=r.slice();return n[18]=e[t],n}function Q_e(r){let e=r[7][r[0]]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[7][n[0]]+"")&&Y(t,e)},d(n){n&&v(t)}}}function Y$(r){let e,t;return e=new dt({props:{appearance:"plain-primary",size:"small",$$slots:{default:[Z_e]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2097184&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z_e(r){let e=r[5]("add")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&32&&e!==(e=n[5]("add")+"")&&Y(t,e)},d(n){n&&v(t)}}}function G$(r){let e,t,n,l;const s=[x_e,J_e],i=[];function o(a,u){return a[0]==="foreignkey"?0:a[0]==="unique"?1:-1}return~(t=o(r))&&(n=i[t]=s[t](r)),{c(){e=M("div"),n&&n.c(),D(e,"class","add-constraint svelte-1gbuulg")},m(a,u){w(a,e,u),~t&&i[t].m(e,null),l=!0},p(a,u){let c=t;t=o(a),t===c?~t&&i[t].p(a,u):(n&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~t?(n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),~t&&i[t].d()}}}function J_e(r){let e,t;return e=new T_e({props:{onClose:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function x_e(r){let e,t;return e=new V_e({props:{onClose:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function K$(r){let e,t=!r[2]&&X$(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[2]?t&&(t.d(1),t=null):t?t.p(n,l):(t=X$(n),t.c(),t.m(e.parentNode,e))},d(n){t&&t.d(n),n&&v(e)}}}function X$(r){let e,t=r[5]("no_type_constraints",{values:{constraintType:r[8][r[0]]}})+"",n,l;return{c(){e=M("span"),n=q(t),l=N(),D(e,"class","null svelte-1gbuulg")},m(s,i){w(s,e,i),I(e,n),I(e,l)},p(s,i){i&33&&t!==(t=s[5]("no_type_constraints",{values:{constraintType:s[8][s[0]]}})+"")&&Y(n,t)},d(s){s&&v(e)}}}function epe(r){let e,t,n,l;return t=new m_e({props:{constraint:r[18]}}),{c(){e=M("span"),C(t.$$.fragment),n=N(),D(e,"slot","header")},m(s,i){w(s,e,i),y(t,e,null),I(e,n),l=!0},p(s,i){const o={};i&2&&(o.constraint=s[18]),t.$set(o)},i(s){l||(_(t.$$.fragment,s),l=!0)},o(s){g(t.$$.fragment,s),l=!1},d(s){s&&v(e),S(t)}}}function Q$(r){let e,t;function n(){return r[14](r[18])}return e=new dt({props:{size:"small",appearance:"plain",$$slots:{default:[tpe]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,s){r=l;const i={};s&2097152&&(i.$$scope={dirty:s,ctx:r}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function tpe(r){let e,t;const n=[qt];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(qt)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function npe(r){let e,t,n,l=r[3]&&Q$(r);return{c(){e=M("span"),l&&l.c(),t=N(),D(e,"slot","trigger-aside")},m(s,i){w(s,e,i),l&&l.m(e,null),I(e,t),n=!0},p(s,i){s[3]?l?(l.p(s,i),i&8&&_(l,1)):(l=Q$(s),l.c(),_(l,1),l.m(e,t)):l&&(G(),g(l,1,1,()=>{l=null}),K())},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(e),l&&l.d()}}}function rpe(r){let e,t;return e=new U_e({props:{constraint:r[18]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.constraint=n[18]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lpe(r){let e,t;return e=new X_e({props:{constraint:r[18]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.constraint=n[18]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function spe(r){let e,t,n,l,s;const i=[lpe,rpe],o=[];function a(u,c){return u[0]==="foreignkey"?0:1}return t=a(r),n=o[t]=i[t](r),{c(){e=M("div"),n.c(),l=N(),D(e,"slot","content")},m(u,c){w(u,e,c),o[t].m(e,null),I(e,l),s=!0},p(u,c){let f=t;t=a(u),t===f?o[t].p(u,c):(G(),g(o[f],1,1,()=>{o[f]=null}),K(),n=o[t],n?n.p(u,c):(n=o[t]=i[t](u),n.c()),_(n,1),n.m(e,l))},i(u){s||(_(n),s=!0)},o(u){g(n),s=!1},d(u){u&&v(e),o[t].d()}}}function Z$(r,e){let t,n,l;return n=new Nn({props:{triggerAppearance:"ghost",$$slots:{content:[spe],"trigger-aside":[npe],header:[epe]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2097163&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function ipe(r){let e,t,n,l=r[8][r[0]]+"",s,i,o,a,u,c,f=[],m=new Map,d;o=new $r({props:{$$slots:{default:[Q_e]},$$scope:{ctx:r}}});let p=r[4]&&Y$(r),h=r[2]&&G$(r),b=r[1];const $=T=>T[18].id;for(let T=0;T<b.length;T+=1){let E=j$(r,b,T),A=$(E);m.set(A,f[T]=Z$(A,E))}let k=null;return b.length||(k=K$(r)),{c(){e=M("div"),t=M("span"),n=M("span"),s=q(l),i=N(),C(o.$$.fragment),a=N(),p&&p.c(),u=N(),h&&h.c(),c=N();for(let T=0;T<f.length;T+=1)f[T].c();k&&k.c(),D(t,"class","title svelte-1gbuulg"),D(e,"class","constraint-type-section svelte-1gbuulg")},m(T,E){w(T,e,E),I(e,t),I(t,n),I(n,s),I(n,i),y(o,n,null),I(t,a),p&&p.m(t,null),I(e,u),h&&h.m(e,null),I(e,c);for(let A=0;A<f.length;A+=1)f[A].m(e,null);k&&k.m(e,null),d=!0},p(T,[E]){(!d||E&1)&&l!==(l=T[8][T[0]]+"")&&Y(s,l);const A={};E&2097153&&(A.$$scope={dirty:E,ctx:T}),o.$set(A),T[4]?p?(p.p(T,E),E&16&&_(p,1)):(p=Y$(T),p.c(),_(p,1),p.m(t,null)):p&&(G(),g(p,1,1,()=>{p=null}),K()),T[2]?h?(h.p(T,E),E&4&&_(h,1)):(h=G$(T),h.c(),_(h,1),h.m(e,c)):h&&(G(),g(h,1,1,()=>{h=null}),K()),E&2351&&(b=T[1],G(),f=gt(f,E,$,1,T,b,m,e,bt,Z$,null,j$),K(),!b.length&&k?k.p(T,E):b.length?k&&(k.d(1),k=null):(k=K$(T),k.c(),k.m(e,null)))},i(T){if(!d){_(o.$$.fragment,T),_(p),_(h);for(let E=0;E<b.length;E+=1)_(f[E]);d=!0}},o(T){g(o.$$.fragment,T),g(p),g(h);for(let E=0;E<f.length;E+=1)g(f[E]);d=!1},d(T){T&&v(e),S(o),p&&p.d(),h&&h.d();for(let E=0;E<f.length;E+=1)f[E].d();k&&k.d()}}}function ope(r,e,t){let n,l,s,i,o;Z(r,ge,A=>t(5,i=A));let{constraintType:a}=e,{constraints:u}=e,{canExecuteDDL:c}=e;const f=Ft();Z(r,f,A=>t(13,o=A));const m=["unique","foreignkey"],d=["unique","foreignkey"];let p=!1;const h={primary:i("primary_key_help"),foreignkey:i("foreign_key_help"),unique:i("unique_key_help"),check:"",exclude:""},b={primary:i("primary_keys"),foreignkey:i("foreign_keys"),unique:i("unique"),check:"",exclude:""};function $(){t(2,p=!0)}function k(){t(2,p=!1)}function T(A){Rl({identifierType:i("constraint"),identifierName:A.name,body:[i("are_you_sure_to_proceed")],onProceed:()=>n.remove(A.id)})}const E=A=>T(A);return r.$$set=A=>{"constraintType"in A&&t(0,a=A.constraintType),"constraints"in A&&t(1,u=A.constraints),"canExecuteDDL"in A&&t(12,c=A.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&8192&&(n=o.constraintsDataStore),r.$$.dirty&4097&&t(4,l=m.includes(a)&&c),r.$$.dirty&4097&&t(3,s=d.includes(a)&&c)},[a,u,p,s,l,i,f,h,b,$,k,T,c,o,E]}class Oc extends x{constructor(e){super(),J(this,e,ope,ipe,Q,{constraintType:0,constraints:1,canExecuteDDL:12})}}function ape(r){let e,t,n,l,s,i,o;return t=new Oc({props:{constraintType:"primary",constraints:r[4].get("primary")||[],canExecuteDDL:r[2]}}),l=new Oc({props:{constraintType:"foreignkey",constraints:r[4].get("foreignkey")||[],canExecuteDDL:r[2]}}),i=new Oc({props:{constraintType:"unique",constraints:r[4].get("unique")||[],canExecuteDDL:r[2]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),D(e,"class","constraints-list svelte-15s0oew")},m(a,u){w(a,e,u),y(t,e,null),I(e,n),y(l,e,null),I(e,s),y(i,e,null),o=!0},p(a,u){const c={};u&16&&(c.constraints=a[4].get("primary")||[]),u&4&&(c.canExecuteDDL=a[2]),t.$set(c);const f={};u&16&&(f.constraints=a[4].get("foreignkey")||[]),u&4&&(f.canExecuteDDL=a[2]),l.$set(f);const m={};u&16&&(m.constraints=a[4].get("unique")||[]),u&4&&(m.canExecuteDDL=a[2]),i.$set(m)},i(a){o||(_(t.$$.fragment,a),_(l.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(t.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&v(e),S(t),S(l),S(i)}}}function upe(r){let e,t=r[7]("no_constraints")+"",n;return{c(){e=M("div"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&128&&t!==(t=l[7]("no_constraints")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function cpe(r){let e,t=r[7]("unable_to_fetch_table_constraints")+"",n,l,s,i;return{c(){e=M("div"),n=q(t),l=N(),s=M("div"),i=q(r[5])},m(o,a){w(o,e,a),I(e,n),w(o,l,a),w(o,s,a),I(s,i)},p(o,a){a&128&&t!==(t=o[7]("unable_to_fetch_table_constraints")+"")&&Y(n,t),a&32&&Y(i,o[5])},i:j,o:j,d(o){o&&v(e),o&&v(l),o&&v(s)}}}function fpe(r){let e,t;const n=[gr];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(gr)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function mpe(r){let e,t,n,l;const s=[fpe,cpe,upe,ape],i=[];function o(a,u){return a[3]?0:a[1]===rn.Error?1:a[0]?2:3}return t=o(r),n=i[t]=s[t](r),{c(){e=M("div"),n.c(),D(e,"class","table-constraints")},m(a,u){w(a,e,u),i[t].m(e,null),l=!0},p(a,[u]){let c=t;t=o(a),t===c?i[t].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),n=i[t],n?n.p(a,u):(n=i[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){l||(_(n),l=!0)},o(a){g(n),l=!1},d(a){a&&v(e),i[t].d()}}}function dpe(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b=j,$=()=>(b(),b=ue(s,R=>t(15,h=R)),s),k,T,E,A;Z(r,En,R=>t(17,T=R)),Z(r,On,R=>t(18,E=R)),Z(r,ge,R=>t(7,A=R)),r.$$.on_destroy.push(()=>b());const P=Ft();Z(r,P,R=>t(16,k=R));const O=Zt();return Z(r,O,R=>t(14,p=R)),r.$$.update=()=>{r.$$.dirty&262144&&t(11,n=E),r.$$.dirty&131072&&t(10,l=T),r.$$.dirty&65536&&$(t(6,s=k.constraintsDataStore)),r.$$.dirty&32768&&t(1,i=h.state),r.$$.dirty&32768&&t(5,o=h.error),r.$$.dirty&32768&&t(13,a=h.constraints),r.$$.dirty&8192&&t(4,u=a.reduce((R,F)=>{const L=R.get(F.type);return Array.isArray(L)?(R.set(F.type,[...L,F]),R):(R.set(F.type,[F]),R)},new Map)),r.$$.dirty&8192&&t(0,c=a.length===0),r.$$.dirty&2&&t(12,f=i===rn.Idle||i===rn.Loading),r.$$.dirty&4097&&t(3,m=c&&f),r.$$.dirty&19456&&t(2,d=!!(p!=null&&p.hasPermission({database:n,schema:l},"canExecuteDDL")))},[c,i,d,m,u,o,s,A,P,O,l,n,f,a,p,h,k,T,E]}class _pe extends x{constructor(e){super(),J(this,e,dpe,mpe,Q,{})}}function ppe(r){let e,t=r[1]("constraints_info_help")+"",n,l,s,i;return s=new _pe({}),{c(){e=M("span"),n=q(t),l=N(),C(s.$$.fragment),D(e,"class","description svelte-1m3vjcg")},m(o,a){w(o,e,a),I(e,n),w(o,l,a),y(s,o,a),i=!0},p(o,a){(!i||a&2)&&t!==(t=o[1]("constraints_info_help")+"")&&Y(n,t)},i(o){i||(_(s.$$.fragment,o),i=!0)},o(o){g(s.$$.fragment,o),i=!1},d(o){o&&v(e),o&&v(l),S(s,o)}}}function gpe(r){let e,t=r[1]("constraints")+"",n;return{c(){e=M("span"),n=q(t),D(e,"slot","title")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1]("constraints")+"")&&Y(n,t)},d(l){l&&v(e)}}}function hpe(r){let e,t;return e=new al({props:{controller:r[0],$$slots:{title:[gpe],default:[ppe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&1&&(s.controller=n[0]),l&6&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bpe(r,e,t){let n;Z(r,ge,s=>t(1,n=s));let{controller:l}=e;return r.$$set=s=>{"controller"in s&&t(0,l=s.controller)},[l,n]}class $pe extends x{constructor(e){super(),J(this,e,bpe,hpe,Q,{controller:0})}}function vpe(r){let e=r[0]("constraints_info_help_mini")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0]("constraints_info_help_mini")+"")&&Y(t,e)},d(n){n&&v(t)}}}function wpe(r){let e,t,n,l,s,i=r[0]("constraints")+"",o,a,u,c,f,m;const d=[Qs];let p={};for(let $=0;$<d.length;$+=1)p=le(p,d[$]);n=new Be({props:p}),u=new $r({props:{$$slots:{default:[vpe]},$$scope:{ctx:r}}});const h=[Ws];let b={};for(let $=0;$<h.length;$+=1)b=le(b,h[$]);return f=new Be({props:b}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),s=M("span"),o=q(i),a=N(),C(u.$$.fragment),c=N(),C(f.$$.fragment),D(e,"class","action-item svelte-lo2o6r")},m($,k){w($,e,k),I(e,t),y(n,t,null),I(t,l),I(t,s),I(s,o),I(t,a),y(u,t,null),I(e,c),y(f,e,null),m=!0},p($,k){const T=k&0?de(d,[$e(Qs)]):{};n.$set(T),(!m||k&1)&&i!==(i=$[0]("constraints")+"")&&Y(o,i);const E={};k&9&&(E.$$scope={dirty:k,ctx:$}),u.$set(E);const A=k&0?de(h,[$e(Ws)]):{};f.$set(A)},i($){m||(_(n.$$.fragment,$),_(u.$$.fragment,$),_(f.$$.fragment,$),m=!0)},o($){g(n.$$.fragment,$),g(u.$$.fragment,$),g(f.$$.fragment,$),m=!1},d($){$&&v(e),S(n),S(u),S(f)}}}function kpe(r){let e,t,n,l,s;return t=new dt({props:{$$slots:{default:[wpe]},$$scope:{ctx:r}}}),t.$on("click",r[2]),l=new $pe({props:{controller:r[1]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","actions-container svelte-lo2o6r")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,[o]){const a={};o&9&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function ype(r,e,t){let n;Z(r,ge,i=>t(0,n=i));const l=Bn.spawnModalController();return[n,l,()=>l.open()]}class Spe extends x{constructor(e){super(),J(this,e,ype,kpe,Q,{})}}function Cpe(r){let e,t,n;return t=new Sn({props:{table:r[0]}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"class","table-pill svelte-1auv76y"),re(e,"base",r[1]==="base"),re(e,"target",r[1]==="target"),re(e,"mapping",r[1]==="mapping")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&1&&(i.table=l[0]),t.$set(i),(!n||s&2)&&re(e,"base",l[1]==="base"),(!n||s&2)&&re(e,"target",l[1]==="target"),(!n||s&2)&&re(e,"mapping",l[1]==="mapping")},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Tpe(r,e,t){let{table:n}=e,{which:l}=e;return r.$$set=s=>{"table"in s&&t(0,n=s.table),"which"in s&&t(1,l=s.which)},[n,l]}class tr extends x{constructor(e){super(),J(this,e,Tpe,Cpe,Q,{table:0,which:1})}}function Epe(r){let e,t;return e=new tr({props:{table:r[2],which:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.table=n[2]),l&8&&(s.which=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dpe(r){let e,t;return e=new tr({props:{table:r[0],which:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.table=n[0]),l&2&&(s.which=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ipe(r){let e,t,n,l;const s=[Dpe,Epe],i=[];function o(a,u){return a[7]==="baseTable"?0:a[7]==="targetTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function Mpe(r){let e,t;return e=new Vt({props:{field:r[4],label:A8}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.field=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ape(r){let e,t,n,l;return n=new yn({}),{c(){e=q(A8),t=N(),C(n.$$.fragment)},m(s,i){w(s,e,i),w(s,t,i),y(n,s,i),l=!0},p:j,i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(e),s&&v(t),S(n,s)}}}function Ppe(r){let e,t,n,l,s,i,o;t=new St({props:{text:r[6]("we_will_add_a_column_in_x_to_y"),$$slots:{default:[Ipe,({slotName:f})=>({7:f}),({slotName:f})=>f?128:0]},$$scope:{ctx:r}}});const a=[Ape,Mpe],u=[];function c(f,m){return f[5]?0:1}return l=c(r),s=u[l]=a[l](r),{c(){e=M("p"),C(t.$$.fragment),n=N(),s.c(),i=oe()},m(f,m){w(f,e,m),y(t,e,null),w(f,n,m),u[l].m(f,m),w(f,i,m),o=!0},p(f,[m]){const d={};m&64&&(d.text=f[6]("we_will_add_a_column_in_x_to_y")),m&399&&(d.$$scope={dirty:m,ctx:f}),t.$set(d);let p=l;l=c(f),l===p?u[l].p(f,m):(G(),g(u[p],1,1,()=>{u[p]=null}),K(),s=u[l],s?s.p(f,m):(s=u[l]=a[l](f),s.c()),_(s,1),s.m(i.parentNode,i))},i(f){o||(_(t.$$.fragment,f),_(s),o=!0)},o(f){g(t.$$.fragment,f),g(s),o=!1},d(f){f&&v(e),S(t),f&&v(n),u[l].d(f),f&&v(i)}}}const A8="Column Name";function Rpe(r,e,t){let n;Z(r,ge,c=>t(6,n=c));let{base:l}=e,{baseWhich:s="base"}=e,{target:i}=e,{targetWhich:o="target"}=e,{field:a}=e,{targetColumnsAreLoading:u=!1}=e;return r.$$set=c=>{"base"in c&&t(0,l=c.base),"baseWhich"in c&&t(1,s=c.baseWhich),"target"in c&&t(2,i=c.target),"targetWhich"in c&&t(3,o=c.targetWhich),"field"in c&&t(4,a=c.field),"targetColumnsAreLoading"in c&&t(5,u=c.targetColumnsAreLoading)},[l,s,i,o,a,u,n]}class eu extends x{constructor(e){super(),J(this,e,Rpe,Ppe,Q,{base:0,baseWhich:1,target:2,targetWhich:3,field:4,targetColumnsAreLoading:5})}}function Ope(r){let e,t,n,l,s,i,o,a=[r[2],{class:"target"},{x:"21.79"},{y:"107.4"}],u={};for(let p=0;p<a.length;p+=1)u=le(u,a[p]);let c=[r[2],{class:"target"},{x:"119.1"},{y:"107.4"}],f={};for(let p=0;p<c.length;p+=1)f=le(f,c[p]);let m=[r[2],{class:"base"},{x:"70.46"},{y:"1.236"}],d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return{c(){e=Rt("path"),t=Rt("path"),n=Rt("path"),l=Rt("path"),s=Rt("rect"),i=Rt("rect"),o=Rt("rect"),D(e,"d","m88 28.26c-4e-6 46.95-42.67 33.06-42.67 79.17"),D(e,"class","line svelte-bu21sy"),D(t,"d","m100 28.26c1e-5 46.95 42.67 33.06 42.67 79.17"),D(t,"class","line svelte-bu21sy"),D(n,"d","m88 20.05 4.172 8.213h-8.344z"),D(n,"class","arrow svelte-bu21sy"),D(l,"d","m100 20.05 4.172 8.213h-8.344z"),D(l,"class","arrow svelte-bu21sy"),pn(s,u),re(s,"svelte-bu21sy",!0),pn(i,f),re(i,"svelte-bu21sy",!0),pn(o,d),re(o,"svelte-bu21sy",!0)},m(p,h){w(p,e,h),w(p,t,h),w(p,n,h),w(p,l,h),w(p,s,h),w(p,i,h),w(p,o,h)},p(p,h){pn(s,u=de(a,[p[2],{class:"target"},{x:"21.79"},{y:"107.4"}])),re(s,"svelte-bu21sy",!0),pn(i,f=de(c,[p[2],{class:"target"},{x:"119.1"},{y:"107.4"}])),re(i,"svelte-bu21sy",!0),pn(o,d=de(m,[p[2],{class:"base"},{x:"70.46"},{y:"1.236"}])),re(o,"svelte-bu21sy",!0)},d(p){p&&v(e),p&&v(t),p&&v(n),p&&v(l),p&&v(s),p&&v(i),p&&v(o)}}}function Lpe(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E=[r[2],{class:"target"},{x:"105.1"},{y:"107.4"}],A={};for(let V=0;V<E.length;V+=1)A=le(A,E[V]);let P=[r[2],{class:"target"},{x:"35.79"},{y:"107.4"}],O={};for(let V=0;V<P.length;V+=1)O=le(O,P[V]);let R=[r[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}],F={};for(let V=0;V<R.length;V+=1)F=le(F,R[V]);let L=[r[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}],U={};for(let V=0;V<L.length;V+=1)U=le(U,L[V]);let W=[r[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}],H={};for(let V=0;V<W.length;V+=1)H=le(H,W[V]);let z=[r[2],{class:"base"},{x:"105.1"},{y:"1.25"}],te={};for(let V=0;V<z.length;V+=1)te=le(te,z[V]);let se=[r[2],{class:"base"},{x:"35.79"},{y:"1.25"}],B={};for(let V=0;V<se.length;V+=1)B=le(B,se[V]);return{c(){e=Rt("path"),t=Rt("path"),n=Rt("path"),l=Rt("path"),s=Rt("path"),i=Rt("path"),o=Rt("path"),a=Rt("path"),u=Rt("path"),c=Rt("path"),f=Rt("path"),m=Rt("path"),d=Rt("rect"),p=Rt("rect"),h=Rt("rect"),b=Rt("rect"),$=Rt("rect"),k=Rt("rect"),T=Rt("rect"),D(e,"d","m94 54.37c0-17.95 28.67-7.609 28.67-26.1"),D(e,"class","line svelte-bu21sy"),D(t,"d","m163.4 54.34c0-17.95-28.67-7.579-28.67-26.07"),D(t,"class","line svelte-bu21sy"),D(n,"d","m24.65 72.63c0 17.95 28.67 7.609 28.67 26.1"),D(n,"class","line svelte-bu21sy"),D(l,"d","m94 72.66c0 17.95-28.67 7.579-28.67 26.07"),D(l,"class","line svelte-bu21sy"),D(s,"d","m24.65 54.34c0-17.95 28.67-7.609 28.67-26.1"),D(s,"class","line svelte-bu21sy"),D(i,"d","m163.4 72.66c0 17.95-28.67 7.579-28.67 26.07"),D(i,"class","line svelte-bu21sy"),D(o,"d","m53.32 106.9 4.172-8.213h-8.344z"),D(o,"class","arrow svelte-bu21sy"),D(a,"d","m65.33 106.9 4.172-8.213h-8.344z"),D(a,"class","arrow svelte-bu21sy"),D(u,"d","m134.7 106.9 4.172-8.213h-8.344z"),D(u,"class","arrow svelte-bu21sy"),D(c,"d","m122.7 20.06 4.172 8.213h-8.344z"),D(c,"class","arrow svelte-bu21sy"),D(f,"d","m134.7 20.06 4.172 8.213h-8.344z"),D(f,"class","arrow svelte-bu21sy"),D(m,"d","m53.32 20.03 4.172 8.213h-8.344z"),D(m,"class","arrow svelte-bu21sy"),pn(d,A),re(d,"svelte-bu21sy",!0),pn(p,O),re(p,"svelte-bu21sy",!0),pn(h,F),re(h,"svelte-bu21sy",!0),pn(b,U),re(b,"svelte-bu21sy",!0),pn($,H),re($,"svelte-bu21sy",!0),pn(k,te),re(k,"svelte-bu21sy",!0),pn(T,B),re(T,"svelte-bu21sy",!0)},m(V,ee){w(V,e,ee),w(V,t,ee),w(V,n,ee),w(V,l,ee),w(V,s,ee),w(V,i,ee),w(V,o,ee),w(V,a,ee),w(V,u,ee),w(V,c,ee),w(V,f,ee),w(V,m,ee),w(V,d,ee),w(V,p,ee),w(V,h,ee),w(V,b,ee),w(V,$,ee),w(V,k,ee),w(V,T,ee)},p(V,ee){pn(d,A=de(E,[V[2],{class:"target"},{x:"105.1"},{y:"107.4"}])),re(d,"svelte-bu21sy",!0),pn(p,O=de(P,[V[2],{class:"target"},{x:"35.79"},{y:"107.4"}])),re(p,"svelte-bu21sy",!0),pn(h,F=de(R,[V[2],{class:"mapping"},{x:"139.8"},{y:"54.34"}])),re(h,"svelte-bu21sy",!0),pn(b,U=de(L,[V[2],{class:"mapping"},{x:"70.46"},{y:"54.34"}])),re(b,"svelte-bu21sy",!0),pn($,H=de(W,[V[2],{class:"mapping"},{x:"1.112"},{y:"54.34"}])),re($,"svelte-bu21sy",!0),pn(k,te=de(z,[V[2],{class:"base"},{x:"105.1"},{y:"1.25"}])),re(k,"svelte-bu21sy",!0),pn(T,B=de(se,[V[2],{class:"base"},{x:"35.79"},{y:"1.25"}])),re(T,"svelte-bu21sy",!0)},d(V){V&&v(e),V&&v(t),V&&v(n),V&&v(l),V&&v(s),V&&v(i),V&&v(o),V&&v(a),V&&v(u),V&&v(c),V&&v(f),V&&v(m),V&&v(d),V&&v(p),V&&v(h),V&&v(b),V&&v($),V&&v(k),V&&v(T)}}}function Npe(r){let e;function t(s,i){return s[0]==="manyToMany"?Lpe:Ope}let n=t(r),l=n(r);return{c(){e=Rt("svg"),l.c(),D(e,"viewBox","0 0 188 127"),D(e,"preserveAspectRatio","xMidYMid meet"),D(e,"class","svelte-bu21sy"),re(e,"flip",r[1])},m(s,i){w(s,e,i),l.m(e,null)},p(s,[i]){n===(n=t(s))&&l?l.p(s,i):(l.d(1),l=n(s),l&&(l.c(),l.m(e,null))),i&2&&re(e,"flip",s[1])},i:j,o:j,d(s){s&&v(e),l.d()}}}function Fpe(r,e,t){let n;const l={width:"47.07",height:"18.31",rx:9.157};let{linkType:s}=e;return r.$$set=i=>{"linkType"in i&&t(0,s=i.linkType)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=s==="manyToOne")},[s,n,l]}class Hpe extends x{constructor(e){super(),J(this,e,Fpe,Npe,Q,{linkType:0})}}function zpe(r){let e=An(r[0])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=An(n[0])+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function Vpe(r){let e,t,n,l;const s=[Wpe,Upe],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function qpe(r){let e,t;return e=new St({props:{text:r[5]("many_to_one_link_description"),$$slots:{default:[e1e,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5]("many_to_one_link_description")),l&3096&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Bpe(r){let e,t;return e=new St({props:{text:r[5]("one_to_many_link_desc"),$$slots:{default:[r1e,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5]("one_to_many_link_desc")),l&3096&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Upe(r){let e,t;return e=new St({props:{text:r[5]("many_to_many_link_description"),$$slots:{default:[Kpe,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5]("many_to_many_link_description")),l&3128&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wpe(r){let e,t;return e=new St({props:{text:r[5]("many_to_many_self_referential_link_description"),$$slots:{default:[Zpe,({slotName:n})=>({10:n}),({slotName:n})=>n?1024:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.text=n[5]("many_to_many_self_referential_link_description")),l&3112&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jpe(r){let e,t;return e=new tr({props:{table:{name:r[5]("linking_table")},which:"mapping"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.table={name:n[5]("linking_table")}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ype(r){let e,t;return e=new tr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.table=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gpe(r){let e,t;return e=new tr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kpe(r){let e,t,n,l;const s=[Gpe,Ype,jpe],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:a[10]==="mappingTable"?2:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function Xpe(r){let e,t;return e=new tr({props:{table:{name:r[5]("linking_table")},which:"mapping"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.table={name:n[5]("linking_table")}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Qpe(r){let e,t;return e=new tr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Zpe(r){let e,t,n,l;const s=[Qpe,Xpe],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="mappingTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function Jpe(r){let e,t;return e=new tr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.table=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function xpe(r){let e,t;return e=new tr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e1e(r){let e,t,n,l;const s=[xpe,Jpe],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function t1e(r){let e,t;return e=new tr({props:{table:r[4],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.table=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function n1e(r){let e,t;return e=new tr({props:{table:r[3],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.table=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function r1e(r){let e,t,n,l;const s=[n1e,t1e],i=[];function o(a,u){return a[10]==="baseTable"?0:a[10]==="targetTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function l1e(r){let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h;l=new _u({props:{checked:r[7]}}),l.$on("change",r[8]),c=new Hpe({props:{linkType:r[0]}});const b=[Bpe,qpe,Vpe,zpe],$=[];function k(T,E){return T[0]==="oneToMany"?0:T[0]==="manyToOne"?1:T[0]==="manyToMany"?2:3}return d=k(r),p=$[d]=b[d](r),{c(){e=M("div"),t=M("span"),n=M("span"),C(l.$$.fragment),s=N(),i=M("span"),o=q(r[6]),a=N(),u=M("span"),C(c.$$.fragment),f=N(),m=M("span"),p.c(),D(n,"class","input svelte-i576i"),D(i,"class","label svelte-i576i"),D(t,"class","top svelte-i576i"),D(u,"class","diagram svelte-i576i"),D(m,"class","description svelte-i576i"),D(e,"class","link-type-option svelte-i576i"),re(e,"checked",r[7])},m(T,E){w(T,e,E),I(e,t),I(t,n),y(l,n,null),I(t,s),I(t,i),I(i,o),I(e,a),I(e,u),y(c,u,null),I(e,f),I(e,m),$[d].m(m,null),h=!0},p(T,E){const A={};E&128&&(A.checked=T[7]),l.$set(A),(!h||E&64)&&Y(o,T[6]);const P={};E&1&&(P.linkType=T[0]),c.$set(P);let O=d;d=k(T),d===O?$[d].p(T,E):(G(),g($[O],1,1,()=>{$[O]=null}),K(),p=$[d],p?p.p(T,E):(p=$[d]=b[d](T),p.c()),_(p,1),p.m(m,null)),(!h||E&128)&&re(e,"checked",T[7])},i(T){h||(_(l.$$.fragment,T),_(c.$$.fragment,T),_(p),h=!0)},o(T){g(l.$$.fragment,T),g(c.$$.fragment,T),g(p),h=!1},d(T){T&&v(e),S(l),S(c),$[d].d()}}}function s1e(r){let e,t;return e=new fi({props:{style:"--Label__display:contents;",$$slots:{default:[l1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2299&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function i1e(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(f,h=>t(9,i=h)),f);Z(r,ge,h=>t(5,s=h)),r.$$.on_destroy.push(()=>o());let{linkType:u}=e,{isSelfReferential:c}=e,{field:f}=e;a();let{base:m}=e,{target:d}=e;function p({detail:h}){h&&f.set(u)}return r.$$set=h=>{"linkType"in h&&t(0,u=h.linkType),"isSelfReferential"in h&&t(1,c=h.isSelfReferential),"field"in h&&a(t(2,f=h.field)),"base"in h&&t(3,m=h.base),"target"in h&&t(4,d=h.target)},r.$$.update=()=>{r.$$.dirty&513&&t(7,n=u===i),r.$$.dirty&33&&t(6,l=(()=>u==="oneToMany"?s("one_to_many"):u==="manyToOne"?s("many_to_one"):u==="manyToMany"?s("many_to_many"):An(u))())},[u,c,f,m,d,s,l,n,p,i]}class o1e extends x{constructor(e){super(),J(this,e,i1e,s1e,Q,{linkType:0,isSelfReferential:1,field:2,base:3,target:4})}}function J$(r,e,t){const n=r.slice();return n[6]=e[t],n}function x$(r,e){let t,n,l;return n=new o1e({props:{linkType:e[6],isSelfReferential:e[1],field:e[2],base:e[3],target:e[4]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1&&(o.linkType=e[6]),i&2&&(o.isSelfReferential=e[1]),i&4&&(o.field=e[2]),i&8&&(o.base=e[3]),i&16&&(o.target=e[4]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function a1e(r){let e,t,n=r[5]("type_of_link_to")+"",l,s,i,o,a,u,c=[],f=new Map,m,d,p;i=new tr({props:{table:r[4],which:"target"}});let h=r[0];const b=$=>$[6];for(let $=0;$<h.length;$+=1){let k=J$(r,h,$),T=b(k);f.set(T,c[$]=x$(T,k))}return d=new Am({props:{field:r[2]}}),{c(){e=M("fieldset"),t=M("legend"),l=q(n),s=N(),C(i.$$.fragment),o=q(":"),a=N(),u=M("div");for(let $=0;$<c.length;$+=1)c[$].c();m=N(),C(d.$$.fragment),D(t,"class","svelte-5rsfq9"),D(u,"class","options svelte-5rsfq9"),D(e,"class","svelte-5rsfq9")},m($,k){w($,e,k),I(e,t),I(t,l),I(t,s),y(i,t,null),I(t,o),I(e,a),I(e,u);for(let T=0;T<c.length;T+=1)c[T].m(u,null);w($,m,k),y(d,$,k),p=!0},p($,k){(!p||k&32)&&n!==(n=$[5]("type_of_link_to")+"")&&Y(l,n);const T={};k&16&&(T.table=$[4]),i.$set(T),k&31&&(h=$[0],G(),c=gt(c,k,b,1,$,h,f,u,bt,x$,null,J$),K());const E={};k&4&&(E.field=$[2]),d.$set(E)},i($){if(!p){_(i.$$.fragment,$);for(let k=0;k<h.length;k+=1)_(c[k]);_(d.$$.fragment,$),p=!0}},o($){g(i.$$.fragment,$);for(let k=0;k<c.length;k+=1)g(c[k]);g(d.$$.fragment,$),p=!1},d($){$&&v(e),S(i);for(let k=0;k<c.length;k+=1)c[k].d();$&&v(m),S(d,$)}}}function u1e(r){let e,t;return e=new Jn({props:{$$slots:{default:[a1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&575&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function c1e(r,e,t){let n;Z(r,ge,u=>t(5,n=u));let{linkTypes:l}=e,{isSelfReferential:s}=e,{field:i}=e,{base:o}=e,{target:a}=e;return r.$$set=u=>{"linkTypes"in u&&t(0,l=u.linkTypes),"isSelfReferential"in u&&t(1,s=u.isSelfReferential),"field"in u&&t(2,i=u.field),"base"in u&&t(3,o=u.base),"target"in u&&t(4,a=u.target)},[l,s,i,o,a,n]}class f1e extends x{constructor(e){super(),J(this,e,c1e,u1e,Q,{linkTypes:0,isSelfReferential:1,field:2,base:3,target:4})}}function ev(){return Oo(r=>r==="id",Ve(ge)("id_is_reserved_column"))}function m1e(r,e,t){return e?Tl(`${r.name}_${e.name}`,new Set(t.map(n=>n.name))):""}function d1e(r){let e=r[13]("links_info")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&8192&&e!==(e=n[13]("links_info")+"")&&Y(t,e)},d(n){n&&v(t)}}}function _1e(r){let e,t;return e=new Cs({props:{$$slots:{default:[d1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8192|l[1]&8192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function tv(r){let e,t;return e=new tr({props:{table:r[0],which:"base"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.table=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function p1e(r){let e,t,n=r[43]==="tablePill"&&tv(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[43]==="tablePill"?n?(n.p(l,s),s[1]&4096&&_(n,1)):(n=tv(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function g1e(r){let e,t,n;return t=new St({props:{text:r[13]("link_table_to"),$$slots:{default:[p1e,({slotName:l})=>({43:l}),({slotName:l})=>[0,l?4096:0]]},$$scope:{ctx:r}}}),{c(){e=M("span"),C(t.$$.fragment),D(e,"slot","label")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s[0]&8192&&(i.text=l[13]("link_table_to")),s[0]&1|s[1]&12288&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function nv(r){let e,t,n,l;return e=new f1e({props:{field:r[8],isSelfReferential:r[11],linkTypes:r[18],base:r[0],target:r[2]}}),n=new Jn({props:{$$slots:{default:[E1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&256&&(o.field=s[8]),i[0]&2048&&(o.isSelfReferential=s[11]),i[0]&262144&&(o.linkTypes=s[18]),i[0]&1&&(o.base=s[0]),i[0]&4&&(o.target=s[2]),e.$set(o);const a={};i[0]&2112765|i[1]&8192&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function h1e(r){let e=An(r[12])+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&4096&&e!==(e=An(n[12])+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function b1e(r){let e,t,n,l;const s=[k1e,w1e],i=[];function o(a,u){return a[11]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function $1e(r){let e,t;return e=new eu({props:{base:r[0],target:r[2],field:r[6]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.base=n[0]),l[0]&4&&(s.target=n[2]),l[0]&64&&(s.field=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function v1e(r){let e,t;return e=new eu({props:{base:r[2],target:r[0],field:r[7],targetColumnsAreLoading:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.base=n[2]),l[0]&1&&(s.target=n[0]),l[0]&128&&(s.field=n[7]),l[0]&1024&&(s.targetColumnsAreLoading=n[10]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function w1e(r){let e,t=r[13]("we_will_create_a_new_table")+"",n,l,s,i,o,a;s=new Vt({props:{field:r[5],label:r[13]("table_name")}});let u=r[21]&&rv(r);return{c(){e=M("p"),n=q(t),l=N(),C(s.$$.fragment),i=N(),u&&u.c(),o=oe()},m(c,f){w(c,e,f),I(e,n),w(c,l,f),y(s,c,f),w(c,i,f),u&&u.m(c,f),w(c,o,f),a=!0},p(c,f){(!a||f[0]&8192)&&t!==(t=c[13]("we_will_create_a_new_table")+"")&&Y(n,t);const m={};f[0]&32&&(m.field=c[5]),f[0]&8192&&(m.label=c[13]("table_name")),s.$set(m),c[21]?u?(u.p(c,f),f[0]&2097152&&_(u,1)):(u=rv(c),u.c(),_(u,1),u.m(o.parentNode,o)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){a||(_(s.$$.fragment,c),_(u),a=!0)},o(c){g(s.$$.fragment,c),g(u),a=!1},d(c){c&&v(e),c&&v(l),S(s,c),c&&v(i),u&&u.d(c),c&&v(o)}}}function k1e(r){let e,t=r[13]("we_will_create_a_new_table")+"",n,l,s,i,o,a;s=new Vt({props:{field:r[5],label:r[13]("table_name")}});let u=r[21]&&lv(r);return{c(){e=M("p"),n=q(t),l=N(),C(s.$$.fragment),i=N(),u&&u.c(),o=oe()},m(c,f){w(c,e,f),I(e,n),w(c,l,f),y(s,c,f),w(c,i,f),u&&u.m(c,f),w(c,o,f),a=!0},p(c,f){(!a||f[0]&8192)&&t!==(t=c[13]("we_will_create_a_new_table")+"")&&Y(n,t);const m={};f[0]&32&&(m.field=c[5]),f[0]&8192&&(m.label=c[13]("table_name")),s.$set(m),c[21]?u?(u.p(c,f),f[0]&2097152&&_(u,1)):(u=lv(c),u.c(),_(u,1),u.m(o.parentNode,o)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){a||(_(s.$$.fragment,c),_(u),a=!0)},o(c){g(s.$$.fragment,c),g(u),a=!1},d(c){c&&v(e),c&&v(l),S(s,c),c&&v(i),u&&u.d(c),c&&v(o)}}}function rv(r){let e,t,n,l;return e=new eu({props:{base:{name:r[21]},baseWhich:"mapping",target:r[0],targetWhich:"base",field:r[4]}}),n=new eu({props:{base:{name:r[21]},baseWhich:"mapping",target:r[2],field:r[3]}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&2097152&&(o.base={name:s[21]}),i[0]&1&&(o.target=s[0]),i[0]&16&&(o.field=s[4]),e.$set(o);const a={};i[0]&2097152&&(a.base={name:s[21]}),i[0]&4&&(a.target=s[2]),i[0]&8&&(a.field=s[3]),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function lv(r){let e,t,n,l,s,i,o;return t=new St({props:{text:r[13]("we_will_add_two_columns_in_x_to_y"),$$slots:{default:[C1e,({slotName:a})=>({43:a}),({slotName:a})=>[0,a?4096:0]]},$$scope:{ctx:r}}}),l=new Vt({props:{field:r[4],label:r[13]("column_number_name",{values:{number:1}})}}),i=new Vt({props:{field:r[3],label:r[13]("column_number_name",{values:{number:2}})}}),{c(){e=M("p"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment)},m(a,u){w(a,e,u),y(t,e,null),w(a,n,u),y(l,a,u),w(a,s,u),y(i,a,u),o=!0},p(a,u){const c={};u[0]&8192&&(c.text=a[13]("we_will_add_two_columns_in_x_to_y")),u[0]&2097156|u[1]&12288&&(c.$$scope={dirty:u,ctx:a}),t.$set(c);const f={};u[0]&16&&(f.field=a[4]),u[0]&8192&&(f.label=a[13]("column_number_name",{values:{number:1}})),l.$set(f);const m={};u[0]&8&&(m.field=a[3]),u[0]&8192&&(m.label=a[13]("column_number_name",{values:{number:2}})),i.$set(m)},i(a){o||(_(t.$$.fragment,a),_(l.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(t.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&v(e),S(t),a&&v(n),S(l,a),a&&v(s),S(i,a)}}}function y1e(r){let e,t;return e=new tr({props:{table:r[2],which:"target"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4&&(s.table=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function S1e(r){let e,t;return e=new tr({props:{table:{name:r[21]},which:"mapping"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2097152&&(s.table={name:n[21]}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function C1e(r){let e,t,n,l;const s=[S1e,y1e],i=[];function o(a,u){return a[43]==="mappingTable"?0:a[43]==="targetTable"?1:-1}return~(e=o(r))&&(t=i[e]=s[e](r)),{c(){t&&t.c(),n=oe()},m(a,u){~e&&i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?~e&&i[e].p(a,u):(t&&(G(),g(i[c],1,1,()=>{i[c]=null}),K()),~e?(t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){~e&&i[e].d(a),a&&v(n)}}}function T1e(r){let e,t,n,l;const s=[v1e,$1e,b1e,h1e],i=[];function o(a,u){return a[12]==="oneToMany"?0:a[12]==="manyToOne"?1:a[12]==="manyToMany"?2:3}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function E1e(r){let e,t;return e=new S8({props:{$$slots:{default:[T1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2112765|l[1]&8192&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function D1e(r){let e,t,n,l,s,i,o,a,u,c,f;t=new Jn({props:{$$slots:{default:[_1e]},$$scope:{ctx:r}}}),l=new Vt({props:{field:r[9],input:{component:go,props:{tables:r[20],autoSelect:"none"}},$$slots:{label:[g1e]},$$scope:{ctx:r}}});let m=r[2]&&nv(r);return a=new Zr({props:{form:r[14],catchErrors:!0,canProceed:r[15],onCancel:r[1],proceedButton:{label:r[13]("create_link"),icon:io},onProceed:r[23]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),m&&m.c(),i=N(),o=M("div"),C(a.$$.fragment),D(e,"class","form svelte-1ed7u92"),re(e,"self-referential",r[11])},m(d,p){w(d,e,p),y(t,e,null),I(e,n),y(l,e,null),I(e,s),m&&m.m(e,null),w(d,i,p),w(d,o,p),y(a,o,null),u=!0,c||(f=Dn(F6.call(null,o)),c=!0)},p(d,p){const h={};p[0]&8192|p[1]&8192&&(h.$$scope={dirty:p,ctx:d}),t.$set(h);const b={};p[0]&512&&(b.field=d[9]),p[0]&1048576&&(b.input={component:go,props:{tables:d[20],autoSelect:"none"}}),p[0]&8193|p[1]&8192&&(b.$$scope={dirty:p,ctx:d}),l.$set(b),d[2]?m?(m.p(d,p),p[0]&4&&_(m,1)):(m=nv(d),m.c(),_(m,1),m.m(e,null)):m&&(G(),g(m,1,1,()=>{m=null}),K()),(!u||p[0]&2048)&&re(e,"self-referential",d[11]);const $={};p[0]&16384&&($.form=d[14]),p[0]&32768&&($.canProceed=d[15]),p[0]&2&&($.onCancel=d[1]),p[0]&8192&&($.proceedButton={label:d[13]("create_link"),icon:io}),a.$set($)},i(d){u||(_(t.$$.fragment,d),_(l.$$.fragment,d),_(m),_(a.$$.fragment,d),u=!0)},o(d){g(t.$$.fragment,d),g(l.$$.fragment,d),g(m),g(a.$$.fragment,d),u=!1},d(d){d&&v(e),S(t),S(l),m&&m.d(),d&&v(i),d&&v(o),S(a),c=!1,f()}}}function I1e(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F,L=j,U=()=>(L(),L=ue(m,it=>t(12,F=it)),m),W,H,z=j,te=()=>(z(),z=ue(A,it=>t(37,H=it)),A),se,B=j,V=()=>(B(),B=ue(E,it=>t(38,se=it)),E),ee,ie=j,_e=()=>(ie(),ie=ue(T,it=>t(21,ee=it)),T),ae,fe=j,Ue=()=>(fe(),fe=ue($,it=>t(39,ae=it)),$),ve,Se=j,ke=()=>(Se(),Se=ue(k,it=>t(40,ve=it)),k),Fe,we,Re,Ge=j,Je=()=>(Ge(),Ge=ue(p,it=>t(30,Re=it)),p),Ke,ot=j,lt=()=>(ot(),ot=ue(o,it=>t(31,Ke=it)),o),ze,Xe=j,pt=()=>(Xe(),Xe=ue(h,it=>t(32,ze=it)),h),rt,st=j,qe=()=>(st(),st=ue(a,it=>t(33,rt=it)),a),et,mt;Z(r,Wr,it=>t(36,W=it)),Z(r,ge,it=>t(13,Fe=it)),Z(r,ny,it=>t(29,we=it)),Z(r,fn,it=>t(34,et=it)),Z(r,Xu,it=>t(35,mt=it)),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>z()),r.$$.on_destroy.push(()=>B()),r.$$.on_destroy.push(()=>ie()),r.$$.on_destroy.push(()=>fe()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>Ge()),r.$$.on_destroy.push(()=>ot()),r.$$.on_destroy.push(()=>Xe()),r.$$.on_destroy.push(()=>st());const Ot=Ft();Z(r,Ot,it=>t(28,R=it));let{base:Qe}=e,{close:Nt}=e;function Ct(it){return F==="oneToMany"?{link_type:"one-to-many",reference_table:it.targetTable.id,reference_column_name:ve,referent_table:Qe.id}:F==="manyToOne"?{link_type:"one-to-many",reference_table:Qe.id,reference_column_name:ae,referent_table:it.targetTable.id}:F==="manyToMany"?{link_type:"many-to-many",mapping_table_name:ee,referents:[{referent_table:Qe.id,column_name:se},{referent_table:it.targetTable.id,column_name:H}]}:An(F)}async function Dt(){if(F==="manyToMany"&&W!==void 0){await ii(W);return}const it=F==="oneToMany"?u:Qe;!it||it.id===R.id&&await R.refresh()}async function Mt(it){await cn("/api/db/v0/links/",Ct(it)),Tt.success("The link has been created successfully"),await Dt(),Nt()}return r.$$set=it=>{"base"in it&&t(0,Qe=it.base),"close"in it&&t(1,Nt=it.close)},r.$$.update=()=>{var it;r.$$.dirty[0]&1&&t(24,n=r5(Qe.name)),r.$$.dirty[1]&16&&t(20,l=[...mt.values()]),r.$$.dirty[1]&8&&t(25,s=[...et.data.values()]),r.$$.dirty[0]&268435456&&t(27,{columnsDataStore:i}=R,i),r.$$.dirty[0]&134217728&&lt(t(19,o=i.columns)),r.$$.dirty[1]&4&&t(2,u=rt),r.$$.dirty[0]&5&&t(11,c=Qe.id===(u==null?void 0:u.id)),r.$$.dirty[0]&2048&&t(18,f=(()=>c?["manyToOne","manyToMany"]:["manyToOne","oneToMany","manyToMany"])()),r.$$.dirty[0]&256|r.$$.dirty[1]&4&&m.reset(),r.$$.dirty[0]&4&&t(26,d=u?new wm({tableId:u.id}):void 0),r.$$.dirty[0]&67108864&&Je(t(17,p=lr((it=d==null?void 0:d.columns)!=null?it:[]))),r.$$.dirty[0]&67108864&&pt(t(16,h=lr(d==null?void 0:d.fetchStatus))),r.$$.dirty[1]&2&&t(10,b=(ze==null?void 0:ze.state)==="processing"),r.$$.dirty[0]&4|r.$$.dirty[1]&1&&Ue(t(6,$=wt(Vi(u,Ke),[Ya(Ke)]))),r.$$.dirty[0]&1073741825&&ke(t(7,k=wt(Vi(Qe,Re),[Ya(Re)]))),r.$$.dirty[0]&570425349&&_e(t(5,T=wt(m1e(Qe,u,s),[we]))),r.$$.dirty[0]&16779265&&V(t(4,E=(()=>{const Yt=c?Tl(`${n}_1`,new Set(["id",n])):Vi(Qe);return wt(Yt,[ev()])})())),r.$$.dirty[0]&16779268&&te(t(3,A=(()=>{const Yt=c?Tl(`${n}_2`,new Set(["id",n])):Vi(u);return wt(Yt,[ev()])})())),r.$$.dirty[0]&5120&&t(15,P=!(F==="manyToOne"&&b)),r.$$.dirty[0]&13304&&t(14,O=(()=>{const Yt={targetTable:a,linkType:m};return F==="oneToMany"?Un({...Yt,columnNameInTarget:k}):F==="manyToOne"?Un({...Yt,columnNameInBase:$}):F==="manyToMany"?Un({...Yt,mappingTableName:T,columnNameMappingToBase:E,columnNameMappingToTarget:A},[DU([E,A],([tn,$n])=>tn===$n,Fe("two_columns_cannot_have_same_name"))]):An(F)})())},qe(t(9,a=wt(void 0))),U(t(8,m=wt("manyToOne"))),[Qe,Nt,u,A,E,T,$,k,m,a,b,c,F,Fe,O,P,h,p,f,o,l,ee,Ot,Mt,n,s,d,i,R,we,Re,Ke,ze,rt,et,mt]}class M1e extends x{constructor(e){super(),J(this,e,I1e,D1e,Q,{base:0,close:1},null,[-1,-1])}}function sv(r){let e,t;return e=new al({props:{controller:r[0],size:"large",title:r[2]("create_link"),$$slots:{default:[A1e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.controller=n[0]),l&4&&(s.title=n[2]("create_link")),l&19&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function A1e(r){let e,t;return e=new M1e({props:{base:r[1],close:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.base=n[1]),l&1&&(s.close=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function P1e(r){let e,t,n=r[1]&&sv(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,[s]){l[1]?n?(n.p(l,s),s&2&&_(n,1)):(n=sv(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function R1e(r,e,t){let n,l;Z(r,ks,o=>t(1,n=o)),Z(r,ge,o=>t(2,l=o));let{controller:s}=e;const i=()=>s.close();return r.$$set=o=>{"controller"in o&&t(0,s=o.controller)},[s,n,l,i]}class O1e extends x{constructor(e){super(),J(this,e,R1e,P1e,Q,{controller:0})}}function iv(r){let e,t=r[0].column.name+"",n;return{c(){e=M("strong"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0].column.name+"")&&Y(n,t)},d(l){l&&v(e)}}}function L1e(r){let e,t=r[5]==="columnName"&&iv(r);return{c(){t&&t.c(),e=oe()},m(n,l){t&&t.m(n,l),w(n,e,l)},p(n,l){n[5]==="columnName"?t?t.p(n,l):(t=iv(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&v(e)}}}function N1e(r){let e,t,n,l,s,i,o;return n=new Sn({props:{table:r[0].table,truncate:!1}}),i=new St({props:{text:r[2]("linked_via_column"),$$slots:{default:[L1e,({slotName:a})=>({5:a}),({slotName:a})=>a?32:0]},$$scope:{ctx:r}}}),{c(){e=M("a"),t=M("span"),C(n.$$.fragment),l=N(),s=M("span"),C(i.$$.fragment),D(t,"class","table-name svelte-qstra6"),D(s,"class","sub-text svelte-qstra6"),D(e,"class","passthrough link-item-container svelte-qstra6"),D(e,"href",r[1])},m(a,u){w(a,e,u),I(e,t),y(n,t,null),I(e,l),I(e,s),y(i,s,null),o=!0},p(a,[u]){const c={};u&1&&(c.table=a[0].table),n.$set(c);const f={};u&4&&(f.text=a[2]("linked_via_column")),u&97&&(f.$$scope={dirty:u,ctx:a}),i.$set(f),(!o||u&2)&&D(e,"href",a[1])},i(a){o||(_(n.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(n.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){a&&v(e),S(n),S(i)}}}function F1e(r,e,t){let n,l,s,i;Z(r,Pm,a=>t(4,s=a)),Z(r,ge,a=>t(2,i=a));let{link:o}=e;return r.$$set=a=>{"link"in a&&t(0,o=a.link)},r.$$.update=()=>{r.$$.dirty&1&&t(3,n=o.table.id),r.$$.dirty&24&&t(1,l=s({tableId:n}))},[o,l,i,n,s]}class H1e extends x{constructor(e){super(),J(this,e,F1e,N1e,Q,{link:0})}}function ov(r,e,t){const n=r.slice();return n[5]=e[t],n}function av(r){let e,t;return e=new H1e({props:{link:r[5]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.link=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function z1e(r){let e,t,n,l,s,i,o,a,u,c;const f=[r[2]];let m={};for(let b=0;b<f.length;b+=1)m=le(m,f[b]);l=new Be({props:m});let d=r[0],p=[];for(let b=0;b<d.length;b+=1)p[b]=av(ov(r,d,b));const h=b=>g(p[b],1,1,()=>{p[b]=null});return{c(){e=M("div"),t=M("div"),n=M("div"),C(l.$$.fragment),s=N(),i=M("span"),o=q(r[1]),a=N(),u=M("div");for(let b=0;b<p.length;b+=1)p[b].c();D(n,"class","left svelte-t66uzd"),D(t,"class","header svelte-t66uzd"),D(u,"class","links svelte-t66uzd"),D(e,"class","link-section-container svelte-t66uzd")},m(b,$){w(b,e,$),I(e,t),I(t,n),y(l,n,null),I(n,s),I(n,i),I(i,o),I(e,a),I(e,u);for(let k=0;k<p.length;k+=1)p[k].m(u,null);c=!0},p(b,[$]){const k=$&4?de(f,[$e(b[2])]):{};if(l.$set(k),(!c||$&2)&&Y(o,b[1]),$&1){d=b[0];let T;for(T=0;T<d.length;T+=1){const E=ov(b,d,T);p[T]?(p[T].p(E,$),_(p[T],1)):(p[T]=av(E),p[T].c(),_(p[T],1),p[T].m(u,null))}for(G(),T=d.length;T<p.length;T+=1)h(T);K()}},i(b){if(!c){_(l.$$.fragment,b);for(let $=0;$<d.length;$+=1)_(p[$]);c=!0}},o(b){g(l.$$.fragment,b),p=p.filter(Boolean);for(let $=0;$<p.length;$+=1)g(p[$]);c=!1},d(b){b&&v(e),S(l),jn(p,b)}}}function V1e(r,e,t){let n,l,s;Z(r,ge,a=>t(4,s=a));let{links:i}=e,{type:o}=e;return r.$$set=a=>{"links"in a&&t(0,i=a.links),"type"in a&&t(3,o=a.type)},r.$$.update=()=>{r.$$.dirty&8&&t(2,n=(()=>{switch(o){case"in_this_table":return NO;case"from_other_tables":return FO;default:throw new $l(o)}})()),r.$$.dirty&24&&t(1,l=(()=>{switch(o){case"in_this_table":return s("in_this_table");case"from_other_tables":return s("from_other_tables");default:throw new $l(o)}})())},[i,l,n,o,s]}class P8 extends x{constructor(e){super(),J(this,e,V1e,z1e,Q,{links:0,type:3})}}function uv(r){let e,t;return e=new P8({props:{type:"in_this_table",links:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.links=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cv(r){let e,t;return e=new P8({props:{type:"from_other_tables",links:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.links=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fv(r){let e,t=r[4]("table_does_not_link")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","null-text svelte-1stqpqi")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&16&&t!==(t=l[4]("table_does_not_link")+"")&&Y(n,t)},d(l){l&&v(e)}}}function mv(r){let e,t,n,l,s;return t=new dt({props:{appearance:"secondary",$$slots:{default:[q1e]},$$scope:{ctx:r}}}),t.$on("click",r[6]),l=new O1e({props:{controller:r[5]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment)},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&144&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function q1e(r){let e,t,n,l=r[4]("create_link")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&16)&&l!==(l=u[4]("create_link")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function B1e(r){let e,t,n,l,s,i=r[0].length&&uv(r),o=r[1].length&&cv(r),a=r[3]&&fv(r),u=r[2]&&mv(r);return{c(){e=M("div"),i&&i.c(),t=N(),o&&o.c(),n=N(),a&&a.c(),l=N(),u&&u.c(),D(e,"class","links-section svelte-1stqpqi")},m(c,f){w(c,e,f),i&&i.m(e,null),I(e,t),o&&o.m(e,null),I(e,n),a&&a.m(e,null),I(e,l),u&&u.m(e,null),s=!0},p(c,[f]){c[0].length?i?(i.p(c,f),f&1&&_(i,1)):(i=uv(c),i.c(),_(i,1),i.m(e,t)):i&&(G(),g(i,1,1,()=>{i=null}),K()),c[1].length?o?(o.p(c,f),f&2&&_(o,1)):(o=cv(c),o.c(),_(o,1),o.m(e,n)):o&&(G(),g(o,1,1,()=>{o=null}),K()),c[3]?a?a.p(c,f):(a=fv(c),a.c(),a.m(e,l)):a&&(a.d(1),a=null),c[2]?u?(u.p(c,f),f&4&&_(u,1)):(u=mv(c),u.c(),_(u,1),u.m(e,null)):u&&(G(),g(u,1,1,()=>{u=null}),K())},i(c){s||(_(i),_(o),_(u),s=!0)},o(c){g(i),g(o),g(u),s=!1},d(c){c&&v(e),i&&i.d(),o&&o.d(),a&&a.d(),u&&u.d()}}}function U1e(r,e,t){let n,l;Z(r,ge,c=>t(4,l=c));let{linksInThisTable:s}=e,{linksFromOtherTables:i}=e,{canExecuteDDL:o}=e;const a=Bn.spawnModalController(),u=()=>a.open();return r.$$set=c=>{"linksInThisTable"in c&&t(0,s=c.linksInThisTable),"linksFromOtherTables"in c&&t(1,i=c.linksFromOtherTables),"canExecuteDDL"in c&&t(2,o=c.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&3&&t(3,n=!s.length&&!i.length)},[s,i,o,n,l,a,u]}class W1e extends x{constructor(e){super(),J(this,e,U1e,B1e,Q,{linksInThisTable:0,linksFromOtherTables:1,canExecuteDDL:2})}}function la(r,e,t){switch(r){case"in_this_table":return e.joinable_tables.filter(s=>!s.fk_path[0][1]).map(s=>{var i;return{table:{id:s.target,name:e.tables[s.target].name},column:{id:s.jp_path[0][0],name:((i=t.get(s.jp_path[0][0]))==null?void 0:i.column.name)||"--"}}});case"from_other_tables":return e.joinable_tables.filter(s=>s.fk_path[0][1]).map(s=>({table:{id:s.target,name:e.tables[s.target].name},column:{id:s.jp_path[0][1],name:e.columns[s.jp_path[0][1]].name}}));default:throw new $l(r)}}function j1e(r){return{c:j,m:j,p:j,i:j,o:j,d:j}}function Y1e(r){let e,t;return e=new W1e({props:{linksInThisTable:la("in_this_table",r[6],r[3]),linksFromOtherTables:la("from_other_tables",r[6],r[3]),canExecuteDDL:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&12&&(s.linksInThisTable=la("in_this_table",n[6],n[3])),l&12&&(s.linksFromOtherTables=la("from_other_tables",n[6],n[3])),l&1&&(s.canExecuteDDL=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function G1e(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function K1e(r){let e,t,n,l={ctx:r,current:null,token:null,hasCatch:!1,pending:G1e,then:Y1e,catch:j1e,value:6,blocks:[,,,]};return Bl(t=lh(r[2]),l),{c(){e=M("div"),l.block.c()},m(s,i){w(s,e,i),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=null,n=!0},p(s,[i]){r=s,l.ctx=r,i&4&&t!==(t=lh(r[2]))&&Bl(t,l)||su(l,r,i)},i(s){n||(_(l.block),n=!0)},o(s){for(let i=0;i<3;i+=1){const o=l.blocks[i];g(o)}n=!1},d(s){s&&v(e),l.block.d(),l.token=null,l=null}}}function X1e(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(l,f=>t(3,i=f)),l);r.$$.on_destroy.push(()=>o());let{canExecuteDDL:u}=e;const c=Ft();return Z(r,c,f=>t(5,s=f)),r.$$set=f=>{"canExecuteDDL"in f&&t(0,u=f.canExecuteDDL)},r.$$.update=()=>{r.$$.dirty&32&&t(2,n=s.id),r.$$.dirty&32&&a(t(1,l=s.processedColumns))},[u,l,n,i,c,s]}class Q1e extends x{constructor(e){super(),J(this,e,X1e,K1e,Q,{canExecuteDDL:0})}}function Z1e(r){var u,c;let e,t,n=r[2]("description")+"",l,s,i,o;function a(...f){return r[5](r[6],...f)}return i=new Ja({props:{initialValue:(c=(u=r[3].data.get(r[1].id))==null?void 0:u.description)!=null?c:"",onSubmit:a,isLongText:!0,disabled:r[0]}}),{c(){e=M("div"),t=M("span"),l=q(n),s=N(),C(i.$$.fragment),D(t,"class","label"),D(e,"class","update-table-description-property-container svelte-86tcs8")},m(f,m){w(f,e,m),I(e,t),I(t,l),I(e,s),y(i,e,null),o=!0},p(f,m){var p,h;r=f,(!o||m&4)&&n!==(n=r[2]("description")+"")&&Y(l,n);const d={};m&10&&(d.initialValue=(h=(p=r[3].data.get(r[1].id))==null?void 0:p.description)!=null?h:""),m&64&&(d.onSubmit=a),m&1&&(d.disabled=r[0]),i.$set(d)},i(f){o||(_(i.$$.fragment,f),o=!0)},o(f){g(i.$$.fragment,f),o=!1},d(f){f&&v(e),S(i)}}}function J1e(r){let e,t;return e=new Zm({props:{tableId:r[1].id,$$slots:{default:[Z1e,({onUpdate:n})=>({6:n}),({onUpdate:n})=>n?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2&&(s.tableId=n[1].id),l&207&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function x1e(r,e,t){let n,l,s;Z(r,ge,u=>t(2,l=u)),Z(r,fn,u=>t(3,s=u));const i=Ft();Z(r,i,u=>t(1,n=u));let{disabled:o=!1}=e;const a=(u,c)=>u({description:c});return r.$$set=u=>{"disabled"in u&&t(0,o=u.disabled)},[o,n,l,s,i,a]}class ege extends x{constructor(e){super(),J(this,e,x1e,J1e,Q,{disabled:0})}}function tge(r){let e,t;return e=new Pr({props:{slot:"header",title:r[1]("properties"),isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.title=n[1]("properties")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function nge(r){let e,t,n,l,s;return t=new t_e({props:{disabled:!r[0]}}),l=new ege({props:{disabled:!r[0]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&1&&(a.disabled=!i[0]),t.$set(a);const u={};o&1&&(u.disabled=!i[0]),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function rge(r){let e,t;return e=new Pr({props:{slot:"header",title:r[1]("links"),isDbLevelConfiguration:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.title=n[1]("links")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function lge(r){let e,t,n;return t=new Q1e({props:{canExecuteDDL:r[0]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.canExecuteDDL=l[0]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function sge(r){let e,t;return e=new Pr({props:{slot:"header",title:r[1]("record_summary")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.title=n[1]("record_summary")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function ige(r){let e,t,n;return t=new y8({props:{table:r[2],tabularData:r[3]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&4&&(i.table=l[2]),s&8&&(i.tabularData=l[3]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function oge(r){let e,t;return e=new Pr({props:{slot:"header",title:r[1]("actions")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.title=n[1]("actions")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function age(r){let e,t,n;return t=new u_e({props:{canExecuteDDL:r[0]}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1&&(i.canExecuteDDL=l[0]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function uge(r){let e,t;return e=new Pr({props:{slot:"header",title:r[1]("advanced")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.title=n[1]("advanced")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function cge(r){let e,t,n;return t=new Spe({}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","content-container svelte-1l3z76u")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function fge(r){let e,t,n,l,s,i,o,a,u,c,f;return t=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[nge],header:[tge]},$$scope:{ctx:r}}}),l=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[lge],header:[rge]},$$scope:{ctx:r}}}),i=new Nn({props:{triggerAppearance:"plain",$$slots:{content:[ige],header:[sge]},$$scope:{ctx:r}}}),a=new Nn({props:{isOpen:!0,triggerAppearance:"plain",$$slots:{content:[age],header:[oge]},$$scope:{ctx:r}}}),c=new Nn({props:{triggerAppearance:"plain",$$slots:{content:[cge],header:[uge]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment),u=N(),C(c.$$.fragment),D(e,"class","table-mode-container svelte-1l3z76u")},m(m,d){w(m,e,d),y(t,e,null),I(e,n),y(l,e,null),I(e,s),y(i,e,null),I(e,o),y(a,e,null),I(e,u),y(c,e,null),f=!0},p(m,[d]){const p={};d&2051&&(p.$$scope={dirty:d,ctx:m}),t.$set(p);const h={};d&2051&&(h.$$scope={dirty:d,ctx:m}),l.$set(h);const b={};d&2062&&(b.$$scope={dirty:d,ctx:m}),i.$set(b);const $={};d&2051&&($.$$scope={dirty:d,ctx:m}),a.$set($);const k={};d&2050&&(k.$$scope={dirty:d,ctx:m}),c.$set(k)},i(m){f||(_(t.$$.fragment,m),_(l.$$.fragment,m),_(i.$$.fragment,m),_(a.$$.fragment,m),_(c.$$.fragment,m),f=!0)},o(m){g(t.$$.fragment,m),g(l.$$.fragment,m),g(i.$$.fragment,m),g(a.$$.fragment,m),g(c.$$.fragment,m),f=!1},d(m){m&&v(e),S(t),S(l),S(i),S(a),S(c)}}}function mge(r,e,t){let n,l,s,i,o,a,u,c,f;Z(r,En,p=>t(9,o=p)),Z(r,On,p=>t(10,a=p)),Z(r,ge,p=>t(1,u=p)),Z(r,ks,p=>t(2,c=p));const m=Ft();Z(r,m,p=>t(3,f=p));const d=Zt();return Z(r,d,p=>t(8,i=p)),r.$$.update=()=>{r.$$.dirty&1024&&t(7,n=a),r.$$.dirty&512&&t(6,l=o),r.$$.dirty&448&&t(0,s=!!(i!=null&&i.hasPermission({database:n,schema:l},"canExecuteDDL")))},[s,u,c,f,m,d,l,n,i,o,a]}class dge extends x{constructor(e){super(),J(this,e,mge,fge,Q,{})}}function dv(r){let e,t,n;var l=r[0].component;function s(i){return{}}return l&&(t=new l(s())),{c(){e=M("div"),t&&C(t.$$.fragment),D(e,"class","tabs-container")},m(i,o){w(i,e,o),t&&y(t,e,null),n=!0},p(i,o){if(l!==(l=i[0].component)){if(t){G();const a=t;g(a.$$.fragment,1,0,()=>{S(a,1)}),K()}l?(t=new l(s()),C(t.$$.fragment),_(t.$$.fragment,1),y(t,e,null)):t=null}},i(i){n||(t&&_(t.$$.fragment,i),n=!0)},o(i){t&&g(t.$$.fragment,i),n=!1},d(i){i&&v(e),t&&S(t)}}}function _ge(r){let e,t,n=r[0]&&dv(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[0]?n?(n.p(l,s),s&1&&_(n,1)):(n=dv(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function pge(r){let e;const t=r[7].default,n=Ie(t,r,r[9],null),l=n||_ge(r);return{c(){l&&l.c()},m(s,i){l&&l.m(s,i),e=!0},p(s,i){n?n.p&&(!e||i&512)&&Ae(n,t,s,s[9],e?Me(t,s[9],i,null):Pe(s[9]),null):l&&l.p&&(!e||i&1)&&l.p(s,e?i:-1)},i(s){e||(_(l,s),e=!0)},o(s){g(l,s),e=!1},d(s){l&&l.d(s)}}}function gge(r){let e,t,n,l;function s(o){r[8](o)}let i={tabs:r[2],tabStyle:"compact",fillContainerHeight:!0,fillTabWidth:!0,$$slots:{default:[pge]},$$scope:{ctx:r}};return r[0]!==void 0&&(i.activeTab=r[0]),t=new gu({props:i}),Te.push(()=>Oe(t,"activeTab",s)),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","table-inspector svelte-1y945nw")},m(o,a){w(o,e,a),y(t,e,null),l=!0},p(o,[a]){const u={};a&513&&(u.$$scope={dirty:a,ctx:o}),!n&&a&1&&(n=!0,u.activeTab=o[0],Ne(()=>n=!1)),t.$set(u)},i(o){l||(_(t.$$.fragment,o),l=!0)},o(o){g(t.$$.fragment,o),l=!1},d(o){o&&v(e),S(t)}}}function hge(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(l,b=>t(5,s=b)),l),a,u;Z(r,ge,b=>t(10,u=b)),r.$$.on_destroy.push(()=>i());let{$$slots:c={},$$scope:f}=e;const m=[{label:u("table"),component:dge,id:1},{label:u("column"),component:Ode,id:2},{label:u("record"),component:Yde,id:3},{label:u("cell"),component:Zde,id:4}];let d;const p=Ft();Z(r,p,b=>t(6,a=b));function h(b){d=b,t(0,d),t(5,s),t(4,n),t(6,a)}return r.$$set=b=>{"$$scope"in b&&t(9,f=b.$$scope)},r.$$.update=()=>{r.$$.dirty&64&&t(4,{selection:n}=a,n),r.$$.dirty&16&&o(t(1,{selectedCells:l}=n,l)),r.$$.dirty&48&&(n.isAnyColumnCompletelySelected()&&t(0,[,d]=m,d),n.isAnyRowCompletelySelected()&&t(0,[,,d]=m,d))},[d,l,m,p,n,s,a,c,h,f]}class bge extends x{constructor(e){super(),J(this,e,hge,gge,Q,{})}}function $ge(r){let e,t,n;function l(i){r[4](i)}let s={showPanel:r[1],minSizePx:200,maxSizePx:600,$$slots:{panel:[kge],default:[wge]},$$scope:{ctx:r}};return r[2]!==void 0&&(s.sizePx=r[2]),e=new zf({props:s}),Te.push(()=>Oe(e,"sizePx",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&2&&(a.showPanel=i[1]),o&32&&(a.$$scope={dirty:o,ctx:i}),!t&&o&4&&(t=!0,a.sizePx=i[2],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function vge(r){let e;const t=r[3].default,n=Ie(t,r,r[5],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,null):Pe(l[5]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function wge(r){let e;const t=r[3].default,n=Ie(t,r,r[5],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&32)&&Ae(n,t,l,l[5],e?Me(t,l[5],s,null):Pe(l[5]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function kge(r){let e,t;return e=new bge({props:{slot:"panel"}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yge(r){let e,t,n,l;const s=[vge,$ge],i=[];function o(a,u){return a[0]==="widget"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Sge(r,e,t){let n;Z(r,F1,u=>t(2,n=u));let{$$slots:l={},$$scope:s}=e,{context:i}=e,{showTableInspector:o}=e;function a(u){n=u,F1.set(n)}return r.$$set=u=>{"context"in u&&t(0,i=u.context),"showTableInspector"in u&&t(1,o=u.showTableInspector),"$$scope"in u&&t(5,s=u.$$scope)},[i,o,n,l,a,s]}class Cge extends x{constructor(e){super(),J(this,e,Sge,yge,Q,{context:0,showTableInspector:1})}}function _v(r){let e,t,n,l;function s(a){r[37](a)}function i(a){r[38](a)}let o={columns:r[6],getColumnIdentifier:Mge,usesVirtualList:r[15],columnWidths:r[20],clipboardHandler:r[12],hasBorder:r[14],restrictWidthToRowWidth:!r[15],hasPaddingRight:!0,$$slots:{default:[Tge]},$$scope:{ctx:r}};return r[16]!==void 0&&(o.horizontalScrollOffset=r[16]),r[17]!==void 0&&(o.scrollOffset=r[17]),e=new Sm({props:o}),Te.push(()=>Oe(e,"horizontalScrollOffset",s)),Te.push(()=>Oe(e,"scrollOffset",i)),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,u){const c={};u[0]&64&&(c.columns=a[6]),u[0]&32768&&(c.usesVirtualList=a[15]),u[0]&4096&&(c.clipboardHandler=a[12]),u[0]&16384&&(c.hasBorder=a[14]),u[0]&32768&&(c.restrictWidthToRowWidth=!a[15]),u[0]&32902|u[1]&512&&(c.$$scope={dirty:u,ctx:a}),!t&&u[0]&65536&&(t=!0,c.horizontalScrollOffset=a[16],Ne(()=>t=!1)),!n&&u[0]&131072&&(n=!0,c.scrollOffset=a[17],Ne(()=>n=!1)),e.$set(c)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function Tge(r){let e,t,n,l;return e=new Ace({props:{hasNewColumnButton:r[2],columnOrder:r[7],table:r[1]}}),n=new Kue({props:{usesVirtualList:r[15]}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i[0]&4&&(o.hasNewColumnButton=s[2]),i[0]&128&&(o.columnOrder=s[7]),i[0]&2&&(o.table=s[1]),e.$set(o);const a={};i[0]&32768&&(a.usesVirtualList=s[15]),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function Ege(r){let e,t,n,l,s=r[4].size&&_v(r);return{c(){e=M("div"),s&&s.c(),D(e,"class","sheet-area svelte-1sftw4x")},m(i,o){w(i,e,o),s&&s.m(e,null),t=!0,n||(l=He(e,"click",r[21]),n=!0)},p(i,o){i[4].size?s?(s.p(i,o),o[0]&16&&_(s,1)):(s=_v(i),s.c(),_(s,1),s.m(e,null)):s&&(G(),g(s,1,1,()=>{s=null}),K())},i(i){t||(_(s),t=!0)},o(i){g(s),t=!1},d(i){i&&v(e),s&&s.d(),n=!1,l()}}}function Dge(r){let e,t,n,l,s;return t=new Cge({props:{context:r[0],showTableInspector:r[5],$$slots:{default:[Ege]},$$scope:{ctx:r}}}),l=new Fce({props:{context:r[0]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","table-view svelte-1sftw4x")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,o){const a={};o[0]&1&&(a.context=i[0]),o[0]&32&&(a.showTableInspector=i[5]),o[0]&250070|o[1]&512&&(a.$$scope={dirty:o,ctx:i}),t.$set(a);const u={};o[0]&1&&(u.context=i[0]),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function Ige(r,e,t){t!=="widget"&&!r&&e.selectAndActivateFirstCellIfExists()}const Mge=r=>r.column.id;function Age(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h,b,$,k,T,E,A,P,O,R,F,L=j,U=()=>(L(),L=ue(f,rt=>t(31,F=rt)),f),W,H=j,z=()=>(H(),H=ue(h,rt=>t(39,W=rt)),h),te,se=j,B=()=>(se(),se=ue(k,rt=>t(32,te=rt)),k),V,ee=j,ie=()=>(ee(),ee=ue(u,rt=>t(4,V=rt)),u),_e,ae,fe,Ue,ve,Se=j,ke=()=>(Se(),Se=ue(b,rt=>t(16,ve=rt)),b),Fe,we=j,Re=()=>(we(),we=ue($,rt=>t(17,Fe=rt)),$);Z(r,En,rt=>t(35,fe=rt)),Z(r,On,rt=>t(36,Ue=rt)),r.$$.on_destroy.push(()=>L()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>se()),r.$$.on_destroy.push(()=>ee()),r.$$.on_destroy.push(()=>Se()),r.$$.on_destroy.push(()=>we());const Ge=Ft();Z(r,Ge,rt=>t(33,_e=rt));const Je=Zt();Z(r,Je,rt=>t(34,ae=rt));let{context:Ke="page"}=e,{table:ot}=e;const lt=new yt([[Ha,w5],[_f,32]]);function ze(rt){rt.target.closest('[data-sheet-element="cell"')||W&&m.focusCell({rowIndex:W.rowIndex},{id:Number(W.columnId)})}function Xe(rt){ve=rt,b.set(ve)}function pt(rt){Fe=rt,$.set(Fe)}return r.$$set=rt=>{"context"in rt&&t(0,Ke=rt.context),"table"in rt&&t(1,ot=rt.table)},r.$$.update=()=>{r.$$.dirty[1]&32&&t(30,n=Ue),r.$$.dirty[1]&16&&t(29,l=fe),r.$$.dirty[0]&1610612736|r.$$.dirty[1]&8&&t(28,s=!!(ae!=null&&ae.hasPermission({database:n,schema:l},"canExecuteDDL"))),r.$$.dirty[0]&1&&t(15,i=Ke!=="widget"),r.$$.dirty[0]&268435457&&t(24,o=Ke!=="widget"&&s),r.$$.dirty[0]&1&&t(14,a=Ke==="widget"),r.$$.dirty[1]&4&&ie(t(3,{processedColumns:u,display:c,isLoading:f,selection:m,recordsData:d}=_e,u,(t(26,c),t(33,_e)),U(t(13,f)),(t(22,m),t(33,_e)),(t(27,d),t(33,_e)))),r.$$.dirty[0]&138412040&&t(12,p=new e8({selection:m,toast:Tt,getRows:()=>[...Ve(d.savedRecords),...Ve(d.newRecords)],getColumnsMap:()=>Ve(u),getRecordSummaries:()=>Ve(d.recordSummaries)})),r.$$.dirty[0]&4194304&&z(t(11,{activeCell:h}=m,h)),r.$$.dirty[0]&67108864&&ke(t(10,{horizontalScrollOffset:b,scrollOffset:$,isTableInspectorVisible:k}=c,b,Re(t(9,$)),B(t(8,k)))),r.$$.dirty[0]&2&&t(25,{settings:T}=ot,T),r.$$.dirty[0]&33554432&&t(7,{column_order:E}=T,E),r.$$.dirty[0]&16777216&&t(2,A=o),r.$$.dirty[0]&1&&t(23,P=Ke==="page"),r.$$.dirty[0]&22&&t(6,O=(()=>{const rt=WL(V,ot),st=[{column:{id:Ha,name:"ROW_CONTROL"}},...rt.values()];return A&&st.push({column:{id:_f,name:"ADD_NEW"}}),st})()),r.$$.dirty[0]&8388608|r.$$.dirty[1]&2&&t(5,R=te&&P),r.$$.dirty[0]&4194305|r.$$.dirty[1]&1&&Ige(F,m,Ke)},[Ke,ot,A,u,V,R,O,E,k,$,b,h,p,f,a,i,ve,Fe,Ge,Je,lt,ze,m,P,o,T,c,d,s,l,n,F,te,_e,ae,fe,Ue,Xe,pt]}class R8 extends x{constructor(e){super(),J(this,e,Age,Dge,Q,{context:0,table:1},null,[-1,-1])}}function pv(r){return new _l({combination:r.combination,entries:JSON.parse(JSON.stringify(r.entries))})}function gv(r,e,t){const n=r.slice();return n[15]=e[t],n[16]=e,n[17]=t,n}function Pge(r){let e,t;return e=new a6({props:{$$slots:{default:[Lge]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&262146&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Rge(r){let e,t,n;function l(i){r[6](i)}let s={options:km};return r[1]!==void 0&&(s.value=r[1]),e=new Tn({props:s}),Te.push(()=>Oe(e,"value",l)),e.$on("change",r[7]),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&2&&(t=!0,a.value=i[1],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function Oge(r){let e,t;return e=new a6({props:{$$slots:{default:[Nge]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&262160&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Lge(r){let e;return{c(){e=q(r[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&Y(e,t[1])},d(t){t&&v(e)}}}function Nge(r){let e=r[4]("where")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("where")+"")&&Y(t,e)},d(n){n&&v(t)}}}function Fge(r){let e,t,n,l;const s=[Oge,Rge,Pge],i=[];function o(a,u){return a[17]===0?0:a[17]===1?1:2}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=N()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function hv(r,e){let t,n,l,s,i,o;function a(d){e[10](d,e[15])}function u(d){e[11](d,e[15])}function c(d){e[12](d,e[15])}function f(){return e[13](e[17])}let m={columns:e[2],getColumnLabel:e[8],getColumnConstraintType:e[9],numberOfFilters:e[0].length,recordSummaryStore:e[3],$$slots:{default:[Fge]},$$scope:{ctx:e}};return e[15].columnId!==void 0&&(m.columnIdentifier=e[15].columnId),e[15].conditionId!==void 0&&(m.conditionIdentifier=e[15].conditionId),e[15].value!==void 0&&(m.value=e[15].value),n=new Vy({props:m}),Te.push(()=>Oe(n,"columnIdentifier",a)),Te.push(()=>Oe(n,"conditionIdentifier",u)),Te.push(()=>Oe(n,"value",c)),n.$on("removeFilter",f),n.$on("update",e[14]),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(d,p){w(d,t,p),y(n,d,p),o=!0},p(d,p){e=d;const h={};p&4&&(h.columns=e[2]),p&4&&(h.getColumnLabel=e[8]),p&4&&(h.getColumnConstraintType=e[9]),p&1&&(h.numberOfFilters=e[0].length),p&8&&(h.recordSummaryStore=e[3]),p&262163&&(h.$$scope={dirty:p,ctx:e}),!l&&p&1&&(l=!0,h.columnIdentifier=e[15].columnId,Ne(()=>l=!1)),!s&&p&1&&(s=!0,h.conditionIdentifier=e[15].conditionId,Ne(()=>s=!1)),!i&&p&1&&(i=!0,h.value=e[15].value,Ne(()=>i=!1)),n.$set(h)},i(d){o||(_(n.$$.fragment,d),o=!0)},o(d){g(n.$$.fragment,d),o=!1},d(d){d&&v(t),S(n,d)}}}function Hge(r){let e=[],t=new Map,n,l,s=r[0];const i=o=>o[15];for(let o=0;o<s.length;o+=1){let a=gv(r,s,o),u=i(a);t.set(u,e[o]=hv(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,[a]){a&63&&(s=o[0],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,hv,n,gv),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function zge(r,e,t){let n;Z(r,ge,k=>t(4,n=k));const l=ht();let{processedColumns:s}=e,{recordSummaries:i}=e,{entries:o}=e,{filterCombination:a=gf}=e;function u(k){a=k,t(1,a)}const c=()=>l("updateCombination",a),f=k=>{var T,E;return(E=(T=s.get(k.id))==null?void 0:T.column.name)!=null?E:""},m=k=>Zl(k.id,s);function d(k,T){r.$$.not_equal(T.columnId,k)&&(T.columnId=k,t(0,o))}function p(k,T){r.$$.not_equal(T.conditionId,k)&&(T.conditionId=k,t(0,o))}function h(k,T){r.$$.not_equal(T.value,k)&&(T.value=k,t(0,o))}const b=k=>l("remove",k);function $(k){ye.call(this,r,k)}return r.$$set=k=>{"processedColumns"in k&&t(2,s=k.processedColumns),"recordSummaries"in k&&t(3,i=k.recordSummaries),"entries"in k&&t(0,o=k.entries),"filterCombination"in k&&t(1,a=k.filterCombination)},[o,a,s,i,n,l,u,c,f,m,d,p,h,b,$]}class Vge extends x{constructor(e){super(),J(this,e,zge,Hge,Q,{processedColumns:2,recordSummaries:3,entries:0,filterCombination:1})}}function qge(r){let e,t=r[6]("no_filters_added")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","muted svelte-1honasg")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&64&&t!==(t=l[6]("no_filters_added")+"")&&Y(n,t)},i:j,o:j,d(l){l&&v(e)}}}function Bge(r){let e,t,n,l;function s(a){r[13](a)}function i(a){r[14](a)}let o={processedColumns:r[1],recordSummaries:r[2]};return r[3].entries!==void 0&&(o.entries=r[3].entries),r[3].combination!==void 0&&(o.filterCombination=r[3].combination),e=new Vge({props:o}),Te.push(()=>Oe(e,"entries",s)),Te.push(()=>Oe(e,"filterCombination",i)),e.$on("remove",r[15]),e.$on("update",r[11]),e.$on("updateCombination",r[16]),{c(){C(e.$$.fragment)},m(a,u){y(e,a,u),l=!0},p(a,u){const c={};u&2&&(c.processedColumns=a[1]),u&4&&(c.recordSummaries=a[2]),!t&&u&8&&(t=!0,c.entries=a[3].entries,Ne(()=>t=!1)),!n&&u&8&&(n=!0,c.filterCombination=a[3].combination,Ne(()=>n=!1)),e.$set(c)},i(a){l||(_(e.$$.fragment,a),l=!0)},o(a){g(e.$$.fragment,a),l=!1},d(a){S(e,a)}}}function bv(r){let e,t,n;return t=new dt({props:{appearance:"secondary",$$slots:{default:[Uge]},$$scope:{ctx:r}}}),t.$on("click",r[17]),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","footer")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&4194368&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function Uge(r){let e,t,n,l=r[6]("add_new_filter")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&64)&&l!==(l=u[6]("add_new_filter")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Wge(r){let e,t,n=r[6]("filter_records")+"",l,s,i,o,a,u,c;const f=[Bge,qge],m=[];function d(h,b){return h[5]?0:1}o=d(r),a=m[o]=f[o](r);let p=r[1].size&&bv(r);return{c(){e=M("div"),t=M("div"),l=q(n),s=N(),i=M("div"),a.c(),u=N(),p&&p.c(),D(t,"class","header svelte-1honasg"),D(i,"class","content"),D(e,"class","filters svelte-1honasg"),re(e,"filtered",r[5])},m(h,b){w(h,e,b),I(e,t),I(t,l),I(e,s),I(e,i),m[o].m(i,null),I(e,u),p&&p.m(e,null),r[18](e),c=!0},p(h,[b]){(!c||b&64)&&n!==(n=h[6]("filter_records")+"")&&Y(l,n);let $=o;o=d(h),o===$?m[o].p(h,b):(G(),g(m[$],1,1,()=>{m[$]=null}),K(),a=m[o],a?a.p(h,b):(a=m[o]=f[o](h),a.c()),_(a,1),a.m(i,null)),h[1].size?p?(p.p(h,b),b&2&&_(p,1)):(p=bv(h),p.c(),_(p,1),p.m(e,null)):p&&(G(),g(p,1,1,()=>{p=null}),K()),(!c||b&32)&&re(e,"filtered",h[5])},i(h){c||(_(a),_(p),c=!0)},o(h){g(a),g(p),c=!1},d(h){h&&v(e),m[o].d(),p&&p.d(),r[18](null)}}}function jge(r,e,t){let n,l,s=j,i=()=>(s(),s=ue(c,U=>t(19,l=U)),c),o,a;Z(r,ge,U=>t(6,a=U)),r.$$.on_destroy.push(()=>s());const u=Jm();let{filtering:c}=e;i();let{processedColumns:f}=e,{recordSummaries:m}=e;const d=xe(pv(l));Z(r,d,U=>t(3,o=U));let p;function h(){const U=o.entries.filter(H=>{const z=f.get(H.columnId),te=z==null?void 0:z.allowedFiltersMap.get(H.conditionId);return te?Ua(te,H.value):!1}),W=pv({...o,entries:U});l.equals(W)||c.set(W)}function b(U){const W=U===void 0?[...f.values()][0]:f.get(U);if(!W)return;const H=[...W.allowedFiltersMap.values()][0];if(!H)return;const z={columnId:W.id,conditionId:H.id,value:void 0,isValid:Ua(H,void 0)};d.update(te=>te.withEntry(z)),h()}function $(U){d.update(W=>W.withoutEntry(U)),h()}function k(U){d.update(W=>W.withCombination(U)),h()}function T(){h()}function E(){const U=cH(p.querySelectorAll(`.${iy}`));U&&("launchRecordSelector"in U?U.launchRecordSelector():U.focus())}_n(()=>u==null?void 0:u.onAddFilter(b)),_n(()=>u==null?void 0:u.onActivateLastFilterInput(E));function A(U){r.$$.not_equal(o.entries,U)&&(o.entries=U,d.set(o))}function P(U){r.$$.not_equal(o.combination,U)&&(o.combination=U,d.set(o))}const O=U=>$(U.detail),R=U=>k(U.detail),F=async()=>{b(),await on(),E()};function L(U){Te[U?"unshift":"push"](()=>{p=U,t(4,p)})}return r.$$set=U=>{"filtering"in U&&i(t(0,c=U.filtering)),"processedColumns"in U&&t(1,f=U.processedColumns),"recordSummaries"in U&&t(2,m=U.recordSummaries)},r.$$.update=()=>{r.$$.dirty&8&&t(5,n=o.entries.length)},[c,f,m,o,p,n,a,d,b,$,k,T,E,A,P,O,R,F,L]}class Yge extends x{constructor(e){super(),J(this,e,jge,Wge,Q,{filtering:0,processedColumns:1,recordSummaries:2})}}function Gge(r){let e,t,n,l=r[5]("filter")+"",s,i,o,a;const u=[Aa,{size:"0.8em"}];let c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return e=new Be({props:c}),o=new Mf({props:{value:r[6].entries.length}}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),i=N(),C(o.$$.fragment),D(n,"class","responsive-button-label")},m(f,m){y(e,f,m),w(f,t,m),w(f,n,m),I(n,s),I(n,i),y(o,n,null),a=!0},p(f,m){const d=m&0?de(u,[$e(Aa),u[1]]):{};e.$set(d),(!a||m&32)&&l!==(l=f[5]("filter")+"")&&Y(s,l);const p={};m&64&&(p.value=f[6].entries.length),o.$set(p)},i(f){a||(_(e.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){g(e.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){S(e,f),f&&v(t),f&&v(n),S(o)}}}function Kge(r){let e,t;return e=new Yge({props:{slot:"content",filtering:r[0],processedColumns:r[2],recordSummaries:r[3].recordSummaries}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.filtering=n[0]),l&4&&(s.processedColumns=n[2]),l&8&&(s.recordSummaries=n[3].recordSummaries),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xge(r){let e,t,n;const l=[{showArrow:!1},{triggerAppearance:"secondary"},r[8],{ariaLabel:r[5]("filter")}];function s(o){r[12](o)}let i={$$slots:{content:[Kge],trigger:[Gge]},$$scope:{ctx:r}};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[1]!==void 0&&(i.isOpen=r[1]),e=new Pl({props:i}),Te.push(()=>Oe(e,"isOpen",s)),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&288?de(l,[l[0],l[1],a&256&&$e(o[8]),a&32&&{ariaLabel:o[5]("filter")}]):{};a&32877&&(u.$$scope={dirty:a,ctx:o}),!t&&a&2&&(t=!0,u.isOpen=o[1],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function Qge(r,e,t){let n,l,s;const i=["filtering","canViewLinkedEntities"];let o=Ye(e,i),a,u=j,c=()=>(u(),u=ue(n,O=>t(10,a=O)),n),f,m,d,p=j,h=()=>(p(),p=ue(k,O=>t(6,d=O)),k);Z(r,ge,O=>t(5,m=O)),r.$$.on_destroy.push(()=>u()),r.$$.on_destroy.push(()=>p());const b=Jm(),$=Ft();Z(r,$,O=>t(11,f=O));let{filtering:k}=e;h();let{canViewLinkedEntities:T=!0}=e,E=!1;function A(){t(1,E=!0)}_n(()=>b==null?void 0:b.onOpenDropdown(A));function P(O){E=O,t(1,E)}return r.$$set=O=>{e=le(le({},e),_t(O)),t(8,o=Ye(e,i)),"filtering"in O&&h(t(0,k=O.filtering)),"canViewLinkedEntities"in O&&t(9,T=O.canViewLinkedEntities)},r.$$.update=()=>{r.$$.dirty&2048&&c(t(4,{processedColumns:n,recordsData:l}=f,n,(t(3,l),t(11,f)))),r.$$.dirty&1536&&t(2,s=T?a:new Map([...a].filter(([,O])=>!O.linkFk)))},[k,E,s,l,n,m,d,$,o,T,a,f,P]}class O8 extends x{constructor(e){super(),J(this,e,Qge,Xge,Q,{filtering:0,canViewLinkedEntities:9})}}function $v(r,e,t){const n=r.slice();return n[14]=e[t],n}function vv(r,e,t){const n=r.slice();return n[17]=e[t],n[19]=t,n}function wv(r){let e,t=r[5]("no_grouping_condition_added")+"",n;return{c(){e=M("span"),n=q(t),D(e,"class","muted svelte-rsw3wh")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&32&&t!==(t=l[5]("no_grouping_condition_added")+"")&&Y(n,t)},d(l){l&&v(e)}}}function kv(r,e){let t,n,l;function s(...o){return e[11](e[19],...o)}function i(){return e[12](e[19])}return n=new Qy({props:{columns:e[2],columnsAllowedForSelection:e[3].map(Sv),getColumnLabel:ehe,getColumnConstraintType:e[10],columnIdentifier:e[17].columnId,preprocFunctionIdentifier:e[17].preprocFnId,disableColumnChange:e[1].entries.length>1&&e[19]<e[1].entries.length-1}}),n.$on("update",s),n.$on("removeGroup",i),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,a){e=o;const u={};a&4&&(u.columns=e[2]),a&8&&(u.columnsAllowedForSelection=e[3].map(Sv)),a&4&&(u.getColumnConstraintType=e[10]),a&2&&(u.columnIdentifier=e[17].columnId),a&2&&(u.preprocFunctionIdentifier=e[17].preprocFnId),a&2&&(u.disableColumnChange=e[1].entries.length>1&&e[19]<e[1].entries.length-1),n.$set(u)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&v(t),S(n,o)}}}function Zge(r){var l,s,i,o,a,u,c,f;let e,t,n;return e=new er({props:{column:{name:(s=(l=r[2].get(r[14].id))==null?void 0:l.column.name)!=null?s:"",type:(o=(i=r[2].get(r[14].id))==null?void 0:i.column.type)!=null?o:"",type_options:(u=(a=r[2].get(r[14].id))==null?void 0:a.column.type_options)!=null?u:null,display_options:(f=(c=r[2].get(r[14].id))==null?void 0:c.column.display_options)!=null?f:null,constraintsType:Zl(r[14].id,r[2])}}}),{c(){C(e.$$.fragment),t=N()},m(m,d){y(e,m,d),w(m,t,d),n=!0},p(m,d){var h,b,$,k,T,E,A,P;const p={};d&12&&(p.column={name:(b=(h=m[2].get(m[14].id))==null?void 0:h.column.name)!=null?b:"",type:(k=($=m[2].get(m[14].id))==null?void 0:$.column.type)!=null?k:"",type_options:(E=(T=m[2].get(m[14].id))==null?void 0:T.column.type_options)!=null?E:null,display_options:(P=(A=m[2].get(m[14].id))==null?void 0:A.column.display_options)!=null?P:null,constraintsType:Zl(m[14].id,m[2])}),e.$set(p)},i(m){n||(_(e.$$.fragment,m),n=!0)},o(m){g(e.$$.fragment,m),n=!1},d(m){S(e,m),m&&v(t)}}}function yv(r,e){let t,n,l;function s(){return e[13](e[14])}return n=new sn({props:{$$slots:{default:[Zge]},$$scope:{ctx:e}}}),n.$on("click",s),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(i,o){w(i,t,o),y(n,i,o),l=!0},p(i,o){e=i;const a={};o&1048588&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(i){l||(_(n.$$.fragment,i),l=!0)},o(i){g(n.$$.fragment,i),l=!1},d(i){i&&v(t),S(n,i)}}}function Jge(r){let e=[],t=new Map,n,l,s=r[3];const i=o=>o[14].id;for(let o=0;o<s.length;o+=1){let a=$v(r,s,o),u=i(a);t.set(u,e[o]=yv(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&140&&(s=o[3],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,yv,n,$v),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function xge(r){let e,t,n=r[5]("group_records_by")+"",l,s,i,o=[],a=new Map,u,c,f,m,d=r[1].entries;const p=b=>b[19];for(let b=0;b<d.length;b+=1){let $=vv(r,d,b),k=p($);a.set(k,o[b]=kv(k,$))}let h=null;return d.length||(h=wv(r)),f=new Xr({props:{label:r[5]("add_new_grouping"),disabled:r[3].length===0,triggerAppearance:"secondary",$$slots:{default:[Jge]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("header"),l=q(n),s=N(),i=M("div");for(let b=0;b<o.length;b+=1)o[b].c();h&&h.c(),u=N(),c=M("footer"),C(f.$$.fragment),D(t,"class","svelte-rsw3wh"),D(i,"class","content svelte-rsw3wh"),D(c,"class","svelte-rsw3wh"),D(e,"class","groups svelte-rsw3wh"),re(e,"grouped",r[1].entries.length>0)},m(b,$){w(b,e,$),I(e,t),I(t,l),I(e,s),I(e,i);for(let k=0;k<o.length;k+=1)o[k].m(i,null);h&&h.m(i,null),I(e,u),I(e,c),y(f,c,null),m=!0},p(b,[$]){(!m||$&32)&&n!==(n=b[5]("group_records_by")+"")&&Y(l,n),$&303&&(d=b[1].entries,G(),o=gt(o,$,p,1,b,d,a,i,bt,kv,null,vv),K(),!d.length&&h?h.p(b,$):d.length?h&&(h.d(1),h=null):(h=wv(b),h.c(),h.m(i,null)));const k={};$&32&&(k.label=b[5]("add_new_grouping")),$&8&&(k.disabled=b[3].length===0),$&1048588&&(k.$$scope={dirty:$,ctx:b}),f.$set(k),(!m||$&2)&&re(e,"grouped",b[1].entries.length>0)},i(b){if(!m){for(let $=0;$<d.length;$+=1)_(o[$]);_(f.$$.fragment,b),m=!0}},o(b){for(let $=0;$<o.length;$+=1)g(o[$]);g(f.$$.fragment,b),m=!1},d(b){b&&v(e);for(let $=0;$<o.length;$+=1)o[$].d();h&&h.d(),S(f)}}}const Sv=r=>r.id,ehe=r=>{var e;return(e=r==null?void 0:r.column.name)!=null?e:""};function the(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(p,A=>t(1,s=A)),p),a,u=j,c=()=>(u(),u=ue(n,A=>t(2,a=A)),n),f,m;Z(r,ge,A=>t(5,m=A)),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());const d=Ft();Z(r,d,A=>t(9,f=A));let{grouping:p}=e;o();function h(A){p.update(P=>P.withEntry({columnId:A.id,preprocFnId:void 0}))}function b(A,P){p.update(O=>O.withReplacedEntry(A,{columnId:P.columnIdentifier,preprocFnId:P.preprocFunctionIdentifier}))}const $=A=>Zl(A.id,a),k=(A,P)=>b(A,P.detail),T=A=>p.update(P=>P.withoutEntry(A)),E=A=>h(A);return r.$$set=A=>{"grouping"in A&&o(t(0,p=A.grouping))},r.$$.update=()=>{r.$$.dirty&512&&c(t(4,{processedColumns:n}=f,n)),r.$$.dirty&6&&t(3,l=[...a.values()].filter(A=>!s.hasColumn(A.id)))},[p,s,a,l,n,m,d,h,b,f,$,k,T,E]}class nhe extends x{constructor(e){super(),J(this,e,the,xge,Q,{grouping:0})}}function rhe(r){let e,t,n,l=r[1]("group")+"",s,i,o,a;const u=[Js];let c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return e=new Be({props:c}),o=new Mf({props:{value:r[2].entries.length}}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),i=N(),C(o.$$.fragment),D(n,"class","responsive-button-label")},m(f,m){y(e,f,m),w(f,t,m),w(f,n,m),I(n,s),I(n,i),y(o,n,null),a=!0},p(f,m){const d=m&0?de(u,[$e(Js)]):{};e.$set(d),(!a||m&2)&&l!==(l=f[1]("group")+"")&&Y(s,l);const p={};m&4&&(p.value=f[2].entries.length),o.$set(p)},i(f){a||(_(e.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){g(e.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){S(e,f),f&&v(t),f&&v(n),S(o)}}}function lhe(r){let e,t;return e=new nhe({props:{slot:"content",grouping:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.grouping=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function she(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[3],{ariaLabel:r[1]("group")}];let l={$$slots:{content:[lhe],trigger:[rhe]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&10?de(n,[n[0],n[1],i&8&&$e(s[3]),i&2&&{ariaLabel:s[1]("group")}]):{};i&23&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function ihe(r,e,t){const n=["grouping"];let l=Ye(e,n),s,i,o=j,a=()=>(o(),o=ue(u,c=>t(2,i=c)),u);Z(r,ge,c=>t(1,s=c)),r.$$.on_destroy.push(()=>o());let{grouping:u}=e;return a(),r.$$set=c=>{e=le(le({},e),_t(c)),t(3,l=Ye(e,n)),"grouping"in c&&a(t(0,u=c.grouping))},[u,s,i,l]}class L8 extends x{constructor(e){super(),J(this,e,ihe,she,Q,{grouping:0})}}const N8="data-sortable-container",tu="data-sortable-item",ohe="data-sortable-trigger",Cv="is-dragging",Tv="is-sorting";function ahe(r,e,t){return Math.min(Math.max(r,e),t)}function uhe(r){var e;return r.hasAttribute(tu)?r:(e=r.closest(`[${tu}]`))!=null?e:void 0}function che(r){var e;return(e=r.closest(`[${N8}]`))!=null?e:void 0}function Lc(r){r.preventDefault()}function Ev(r){return r.top+r.height/2}function Nc(r,e){e===0&&r.style.removeProperty("transform"),r.style.setProperty("transform",`translateY(${e}px)`)}function fhe(r,e){const t=r.getBoundingClientRect(),n=r.querySelectorAll(`[${tu}]`),l=[...Array(n.length).keys()],s=[...n].map(a=>a.getBoundingClientRect()),i=[...n].indexOf(e),o=s[i];return{items:n,draggingItemIndex:i,draggingItemHeight:o.height,draggingItemMarginTop:s[i-1]?o.top-s[i-1].bottom:0,draggingItemMarginBottom:s[i+1]?s[i+1].top-o.bottom:0,minDelta:t.top-o.top,maxDelta:t.bottom-o.bottom,destinationsLowerBounds:l.map(a=>a===0?-1/0:a<=i?Ev(s[a-1])-o.top:Ev(s[a])-o.bottom)}}function kf(r,e,t,n=0){var s;const l=e+n;if(n===-1||n===0){const i=t[l];if(r<i)return kf(r,l,t,-1)}if(n===1||n===0){const i=(s=t[l+1])!=null?s:1/0;if(r>i)return kf(r,l,t,1)}return l}function mhe(r,e,t){const{draggingItemIndex:n,draggingItemHeight:l,draggingItemMarginBottom:s,draggingItemMarginTop:i}=e;return r>=t&&r<n?l+i:r<=t&&r>n?-1*(l+s):0}function dhe(r,e){r.setAttribute(N8,"");const t=r;return t.sortableController={isSorting:!1,getItems:e.getItems,onSort:e.onSort},{}}function _he(r){return r.setAttribute(tu,""),{}}function phe(r){let e,t,n,l,s;function i(){for(const[c,f]of s.items.entries())c!==s.draggingItemIndex&&Nc(f,mhe(c,s,l))}function o(c){const f=c.clientY-n,m=ahe(f,s.minDelta,s.maxDelta);Nc(t,m);const d=kf(m,l,s.destinationsLowerBounds);d!==l&&(l=d,i())}function a(c){r.removeEventListener("pointermove",o),r.removeEventListener("pointerup",a),r.removeEventListener("pointercancel",a),window.removeEventListener("selectstart",Lc),r.releasePointerCapture(c.pointerId),e.classList.remove(Tv),t.classList.remove(Cv);const f=e.sortableController;f.isSorting=!1;for(const m of s.items)Nc(m,0);if(s.draggingItemIndex!==l){const m=[...f.getItems()],d=m.splice(s.draggingItemIndex,1)[0];m.splice(l,0,d),f.onSort(m)}}function u(c){const f=uhe(r);if(!f)return;t=f;const m=che(r);if(!m)return;e=m,e.classList.add(Tv);const d=e.sortableController;d.isSorting||(d.isSorting=!0,t.classList.add(Cv),s=fhe(e,t),l=s.draggingItemIndex,n=c.clientY,r.setPointerCapture(c.pointerId),r.addEventListener("pointermove",o),r.addEventListener("pointerup",a),r.addEventListener("pointercancel",a),window.addEventListener("selectstart",Lc))}return r.setAttribute(ohe,""),r.addEventListener("pointerdown",u),r.addEventListener("contextmenu",Lc),{destroy(){r.removeEventListener("pointerdown",u)}}}function Dv(r,e,t){const n=r.slice();return n[16]=e[t][0],n[17]=e[t][1],n}function Iv(r){let e,t=r[5]("no_sorting_condition_added")+"",n;return{c(){e=M("span"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&32&&t!==(t=l[5]("no_sorting_condition_added")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Mv(r,e){let t,n,l,s,i,o,a,u,c;const f=[C1];let m={};for(let h=0;h<f.length;h+=1)m=le(m,f[h]);l=new Be({props:m});function d(){return e[12](e[16])}function p(...h){return e[13](e[16],...h)}return i=new Zy({props:{columns:e[2],columnsAllowedForSelection:e[3],getColumnLabel:bhe,getColumnConstraintType:e[11],columnIdentifier:e[16],sortDirection:e[17]}}),i.$on("remove",d),i.$on("update",p),{key:r,first:null,c(){t=M("div"),n=M("div"),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),D(n,"class","trigger svelte-o1j9dj"),D(t,"class","item svelte-o1j9dj"),this.first=t},m(h,b){w(h,t,b),I(t,n),y(l,n,null),I(t,s),y(i,t,null),I(t,o),a=!0,u||(c=[Dn(phe.call(null,n)),Dn(_he.call(null,t))],u=!0)},p(h,b){e=h;const $=b&0?de(f,[$e(C1)]):{};l.$set($);const k={};b&4&&(k.columns=e[2]),b&8&&(k.columnsAllowedForSelection=e[3]),b&4&&(k.getColumnConstraintType=e[11]),b&2&&(k.columnIdentifier=e[16]),b&2&&(k.sortDirection=e[17]),i.$set(k)},i(h){a||(_(l.$$.fragment,h),_(i.$$.fragment,h),a=!0)},o(h){g(l.$$.fragment,h),g(i.$$.fragment,h),a=!1},d(h){h&&v(t),S(l),S(i),u=!1,It(c)}}}function Av(r){let e,t,n;return t=new dt({props:{appearance:"secondary",$$slots:{default:[ghe]},$$scope:{ctx:r}}}),t.$on("click",r[7]),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","footer")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&1048608&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function ghe(r){let e,t,n,l=r[5]("add_new_sort_condition")+"",s,i;const o=[jt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(jt)]):{};e.$set(f),(!i||c&32)&&l!==(l=u[5]("add_new_sort_condition")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function hhe(r){let e,t,n=r[5]("sort")+"",l,s,i,o=[],a=new Map,u,c,f,m,d,p=[...r[1]];const h=k=>k[16];for(let k=0;k<p.length;k+=1){let T=Dv(r,p,k),E=h(T);a.set(E,o[k]=Mv(E,T))}let b=null;p.length||(b=Iv(r));let $=r[3].length>0&&Av(r);return{c(){e=M("div"),t=M("div"),l=q(n),s=N(),i=M("div");for(let k=0;k<o.length;k+=1)o[k].c();b&&b.c(),c=N(),$&&$.c(),D(t,"class","header svelte-o1j9dj"),D(i,"class","content svelte-o1j9dj"),D(e,"class","sorters svelte-o1j9dj")},m(k,T){w(k,e,T),I(e,t),I(t,l),I(e,s),I(e,i);for(let E=0;E<o.length;E+=1)o[E].m(i,null);b&&b.m(i,null),I(e,c),$&&$.m(e,null),f=!0,m||(d=Dn(u=dhe.call(null,i,{getItems:r[14],onSort:r[15]})),m=!0)},p(k,[T]){(!f||T&32)&&n!==(n=k[5]("sort")+"")&&Y(l,n),T&814&&(p=[...k[1]],G(),o=gt(o,T,h,1,k,p,a,i,bt,Mv,null,Dv),K(),!p.length&&b?b.p(k,T):p.length?b&&(b.d(1),b=null):(b=Iv(k),b.c(),b.m(i,null))),u&&Pt(u.update)&&T&3&&u.update.call(null,{getItems:k[14],onSort:k[15]}),k[3].length>0?$?($.p(k,T),T&8&&_($,1)):($=Av(k),$.c(),_($,1),$.m(e,null)):$&&(G(),g($,1,1,()=>{$=null}),K())},i(k){if(!f){for(let T=0;T<p.length;T+=1)_(o[T]);_($),f=!0}},o(k){for(let T=0;T<o.length;T+=1)g(o[T]);g($),f=!1},d(k){k&&v(e);for(let T=0;T<o.length;T+=1)o[T].d();b&&b.d(),$&&$.d(),m=!1,d()}}}const bhe=r=>{var e;return(e=r==null?void 0:r.column.name)!=null?e:""};function $he(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(p,O=>t(1,s=O)),p),a,u=j,c=()=>(u(),u=ue(n,O=>t(2,a=O)),n),f,m;Z(r,ge,O=>t(5,m=O)),r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());const d=Ft();Z(r,d,O=>t(10,f=O));let{sorting:p}=e;o();function h(){const[O]=l;p.update(R=>R.with(O,"ASCENDING"))}function b(O){p.update(R=>R.without(O))}function $(O,R,F){p.update(L=>new ds([...L].map(([U,W])=>U===O?[R,F]:[U,W])))}const k=O=>Zl(O.id,a),T=O=>b(O),E=(O,R)=>$(O,R.detail.columnIdentifier,R.detail.sortDirection),A=()=>[...s],P=O=>p.set(new ds(O));return r.$$set=O=>{"sorting"in O&&o(t(0,p=O.sorting))},r.$$.update=()=>{r.$$.dirty&1024&&c(t(4,{processedColumns:n}=f,n)),r.$$.dirty&6&&t(3,l=[...a.values()].filter(O=>!s.has(O.id)).map(O=>O.id))},[p,s,a,l,n,m,d,h,b,$,f,k,T,E,A,P]}class vhe extends x{constructor(e){super(),J(this,e,$he,hhe,Q,{sorting:0})}}function whe(r){let e,t,n,l=r[1]("sort")+"",s,i,o,a;const u=[E1];let c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return e=new Be({props:c}),o=new Mf({props:{value:r[2].size}}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),i=N(),C(o.$$.fragment),D(n,"class","responsive-button-label")},m(f,m){y(e,f,m),w(f,t,m),w(f,n,m),I(n,s),I(n,i),y(o,n,null),a=!0},p(f,m){const d=m&0?de(u,[$e(E1)]):{};e.$set(d),(!a||m&2)&&l!==(l=f[1]("sort")+"")&&Y(s,l);const p={};m&4&&(p.value=f[2].size),o.$set(p)},i(f){a||(_(e.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){g(e.$$.fragment,f),g(o.$$.fragment,f),a=!1},d(f){S(e,f),f&&v(t),f&&v(n),S(o)}}}function khe(r){let e,t;return e=new vhe({props:{slot:"content",sorting:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.sorting=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function yhe(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[3],{ariaLabel:r[1]("sort")}];let l={$$slots:{content:[khe],trigger:[whe]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&10?de(n,[n[0],n[1],i&8&&$e(s[3]),i&2&&{ariaLabel:s[1]("sort")}]):{};i&23&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function She(r,e,t){const n=["sorting"];let l=Ye(e,n),s,i,o=j,a=()=>(o(),o=ue(u,c=>t(2,i=c)),u);Z(r,ge,c=>t(1,s=c)),r.$$.on_destroy.push(()=>o());let{sorting:u}=e;return a(),r.$$set=c=>{e=le(le({},e),_t(c)),t(3,l=Ye(e,n)),"sorting"in c&&a(t(0,u=c.sorting))},[u,s,i,l]}class F8 extends x{constructor(e){super(),J(this,e,She,yhe,Q,{sorting:0})}}function Che(r){let e,t;return e=new Yu({props:{errors:r[2].errors}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.errors=n[2].errors),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function The(r){let e,t,n,l;const s=[Ihe,Dhe],i=[];function o(a,u){return a[1]&&a[1].enabled?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Ehe(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Dhe(r){let e,t=r[0].empty+"",n,l,s,i,o;return i=new Yr({props:{onClick:r[6],icon:jt,label:r[5]("create_link")}}),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment)},m(a,u){w(a,e,u),I(e,n),w(a,l,u),w(a,s,u),y(i,s,null),o=!0},p(a,u){(!o||u&1)&&t!==(t=a[0].empty+"")&&Y(n,t);const c={};u&32&&(c.label=a[5]("create_link")),i.$set(c)},i(a){o||(_(i.$$.fragment,a),o=!0)},o(a){g(i.$$.fragment,a),o=!1},d(a){a&&v(e),a&&v(l),a&&v(s),S(i)}}}function Ihe(r){let e,t,n,l,s,i,o;return e=new mi({props:{$$slots:{default:[Ahe]},$$scope:{ctx:r}}}),l=new Yr({props:{appearance:"secondary",onClick:r[7],icon:PO,label:r[5]("regenerate_link")}}),i=new Yr({props:{appearance:"secondary",onClick:r[8],icon:RO,label:r[5]("disable_link")}}),{c(){C(e.$$.fragment),t=N(),n=M("div"),C(l.$$.fragment),s=N(),C(i.$$.fragment),D(n,"class","share-control-options svelte-kou0je")},m(a,u){y(e,a,u),w(a,t,u),w(a,n,u),y(l,n,null),I(n,s),y(i,n,null),o=!0},p(a,u){const c={};u&131096&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&32&&(f.label=a[5]("regenerate_link")),l.$set(f);const m={};u&32&&(m.label=a[5]("disable_link")),i.$set(m)},i(a){o||(_(e.$$.fragment,a),_(l.$$.fragment,a),_(i.$$.fragment,a),o=!0)},o(a){g(e.$$.fragment,a),g(l.$$.fragment,a),g(i.$$.fragment,a),o=!1},d(a){S(e,a),a&&v(t),a&&v(n),S(l),S(i)}}}function Mhe(r){let e,t;const n=[g1];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Be({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){const o=i&0?de(n,[$e(g1)]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Ahe(r){let e,t,n,l,s,i,o,a;function u(d){r[13](d)}let c={readonly:!0,value:r[4]};r[3]!==void 0&&(c.element=r[3]),e=new gn({props:c}),Te.push(()=>Oe(e,"element",u)),l=new dt({props:{appearance:"secondary",$$slots:{default:[Mhe]},$$scope:{ctx:r}}}),l.$on("click",r[9]);const f=[S1];let m={};for(let d=0;d<f.length;d+=1)m=le(m,f[d]);return o=new Be({props:m}),{c(){C(e.$$.fragment),n=N(),C(l.$$.fragment),s=N(),i=M("a"),C(o.$$.fragment),D(i,"class","btn btn-secondary"),D(i,"target","_blank"),D(i,"href",r[4])},m(d,p){y(e,d,p),w(d,n,p),y(l,d,p),w(d,s,p),w(d,i,p),y(o,i,null),a=!0},p(d,p){const h={};p&16&&(h.value=d[4]),!t&&p&8&&(t=!0,h.element=d[3],Ne(()=>t=!1)),e.$set(h);const b={};p&131072&&(b.$$scope={dirty:p,ctx:d}),l.$set(b);const $=p&0?de(f,[$e(S1)]):{};o.$set($),(!a||p&16)&&D(i,"href",d[4])},i(d){a||(_(e.$$.fragment,d),_(l.$$.fragment,d),_(o.$$.fragment,d),a=!0)},o(d){g(e.$$.fragment,d),g(l.$$.fragment,d),g(o.$$.fragment,d),a=!1},d(d){S(e,d),d&&v(n),S(l,d),d&&v(s),d&&v(i),S(o)}}}function Phe(r){let e,t,n=r[0].header+"",l,s,i,o=r[0].description+"",a,u,c,f,m,d;const p=[Ehe,The,Che],h=[];function b($,k){return $[2].state==="processing"?0:$[2].state==="success"?1:2}return f=b(r),m=h[f]=p[f](r),{c(){e=M("div"),t=M("header"),l=q(n),s=N(),i=M("div"),a=q(o),u=N(),c=M("div"),m.c(),D(t,"class","svelte-kou0je"),D(i,"class","description svelte-kou0je"),D(c,"class","content svelte-kou0je"),D(e,"class","share-entity-container svelte-kou0je")},m($,k){w($,e,k),I(e,t),I(t,l),I(e,s),I(e,i),I(i,a),I(e,u),I(e,c),h[f].m(c,null),d=!0},p($,[k]){(!d||k&1)&&n!==(n=$[0].header+"")&&Y(l,n),(!d||k&1)&&o!==(o=$[0].description+"")&&Y(a,o);let T=f;f=b($),f===T?h[f].p($,k):(G(),g(h[T],1,1,()=>{h[T]=null}),K(),m=h[f],m?m.p($,k):(m=h[f]=p[f]($),m.c()),_(m,1),m.m(c,null))},i($){d||(_(m),d=!0)},o($){g(m),d=!1},d($){$&&v(e),h[f].d()}}}function Rhe(r,e,t){let n,l;Z(r,ge,E=>t(5,l=E));const s=Fn("dropdownAccompanyingElements");let{entityId:i}=e,{api:o}=e,{text:a}=e,{getLink:u}=e,c={state:"processing"},f,m;async function d(){if(!o||!i)throw new Error(`Unable to request shares because api or entityId is missing.
        This state should never occur`);try{t(2,c={state:"processing"});const E=await o.list(i);t(1,[f]=E.results,f),t(2,c={state:"success"})}catch(E){t(2,c={state:"failure",errors:lL(E)})}}async function p(){f&&!f.enabled?t(1,f=await o.update(i,f.id,{enabled:!0})):t(1,f=await o.add(i))}function h(){if(!s)return()=>{};const E=document.querySelector(`[data-modal-id='${Qf.modal.modalId}']`);return E?s.add(E):()=>{}}async function b(){if(!f)throw new Error(`Unable to regenerate link for share.
        This state should never occur`);const E=Ra({title:l("remove_old_link_create_new"),body:[l("new_link_wont_work_once_regenerated"),l("are_you_sure_to_proceed")],proceedButton:{label:l("regenerate_link"),icon:void 0}});await on();const A=h(),P=await E;A(),P&&(t(1,f=await o.regenerate(i,f.id)),Tt.success(l("link_successfully_regenerated")))}async function $(){if(!f)throw new Error(`Unable to disable share.
        This state should never occur`);const E=Ra({title:l("disable_link_question"),body:l("are_you_sure_to_proceed"),proceedButton:{label:l("disable_link"),icon:void 0}});await on();const A=h(),P=await E;A(),P&&t(1,f=await o.update(i,f.id,{enabled:!1}))}async function k(){if(m&&n){m.select();try{await navigator.clipboard.writeText(n)}catch(E){document.execCommand("copy")}Tt.info(l("link_copied"))}}function T(E){m=E,t(3,m)}return r.$$set=E=>{"entityId"in E&&t(10,i=E.entityId),"api"in E&&t(11,o=E.api),"text"in E&&t(0,a=E.text),"getLink"in E&&t(12,u=E.getLink)},r.$$.update=()=>{r.$$.dirty&4098&&t(4,n=f?`${window.location.origin}${u(f)}`:void 0),r.$$.dirty&3072&&d()},[a,f,c,m,n,l,p,b,$,k,i,o,u,T]}class H8 extends x{constructor(e){super(),J(this,e,Rhe,Phe,Q,{entityId:10,api:11,text:0,getLink:12})}}function Ohe(r){return bn(`/api/ui/v0/tables/${r}/shares/`)}function Lhe(r,e){return cn(`/api/ui/v0/tables/${r}/shares/`,e)}function Nhe(r,e,t){return Ar(`/api/ui/v0/tables/${r}/shares/${e}/`,t)}function Fhe(r,e){return cn(`/api/ui/v0/tables/${r}/shares/${e}/regenerate/`)}const Hhe={list:Ohe,add:Lhe,update:Nhe,regenerate:Fhe};function zhe(r){let e,t,n,l=r[1]("share")+"",s,i;const o=[Ma];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),D(n,"class","responsive-button-label")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(Ma)]):{};e.$set(f),(!i||c&2)&&l!==(l=u[1]("share")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Vhe(r){let e,t;return e=new H8({props:{slot:"content",entityId:r[0],api:Hhe,text:{header:r[1]("share_table"),description:r[1]("give_readonly_access_table_via_link"),empty:r[1]("table_not_shared")},getLink:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.entityId=n[0]),l&2&&(s.text={header:n[1]("share_table"),description:n[1]("give_readonly_access_table_via_link"),empty:n[1]("table_not_shared")}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qhe(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[2],{ariaLabel:r[1]("share")}];let l={$$slots:{content:[Vhe],trigger:[zhe]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&6?de(n,[n[0],n[1],i&4&&$e(s[2]),i&2&&{ariaLabel:s[1]("share")}]):{};i&19&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function Bhe(r,e,t){const n=["id"];let l=Ye(e,n),s;Z(r,ge,a=>t(1,s=a));let{id:i}=e;const o=a=>qL(a.slug);return r.$$set=a=>{e=le(le({},e),_t(a)),t(2,l=Ye(e,n)),"id"in a&&t(0,i=a.id)},[i,s,l,o]}class Uhe extends x{constructor(e){super(),J(this,e,Bhe,qhe,Q,{id:0})}}function Pv(r){let e,t;return e=new jm({props:{requestState:r[14]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16384&&(s.requestState=n[14]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Whe(r){let e,t,n,l,s,i,o,a,u;t=new O8({props:{filtering:r[8],canViewLinkedEntities:r[3]}}),l=new F8({props:{sorting:r[7]}}),i=new L8({props:{grouping:r[6]}});let c=r[0]==="page"&&Pv(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),c&&c.c(),a=oe(),D(e,"class","quick-access svelte-1yr7j0")},m(f,m){w(f,e,m),y(t,e,null),I(e,n),y(l,e,null),I(e,s),y(i,e,null),w(f,o,m),c&&c.m(f,m),w(f,a,m),u=!0},p(f,m){const d={};m&256&&(d.filtering=f[8]),m&8&&(d.canViewLinkedEntities=f[3]),t.$set(d);const p={};m&128&&(p.sorting=f[7]),l.$set(p);const h={};m&64&&(h.grouping=f[6]),i.$set(h),f[0]==="page"?c?(c.p(f,m),m&1&&_(c,1)):(c=Pv(f),c.c(),_(c,1),c.m(a.parentNode,a)):c&&(G(),g(c,1,1,()=>{c=null}),K())},i(f){u||(_(t.$$.fragment,f),_(l.$$.fragment,f),_(i.$$.fragment,f),_(c),u=!0)},o(f){g(t.$$.fragment,f),g(l.$$.fragment,f),g(i.$$.fragment,f),g(c),u=!1},d(f){f&&v(e),S(t),S(l),S(i),f&&v(o),c&&c.d(f),f&&v(a)}}}function Rv(r){let e,t,n,l=r[4]&&Ov(r);return t=new dt({props:{appearance:"secondary",size:"medium",disabled:r[12],active:r[11],"aria-label":r[13]("inspector"),$$slots:{default:[jhe]},$$scope:{ctx:r}}}),t.$on("click",r[17]),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[4]?l?(l.p(s,i),i&16&&_(l,1)):(l=Ov(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K());const o={};i&4096&&(o.disabled=s[12]),i&2048&&(o.active=s[11]),i&8192&&(o["aria-label"]=s[13]("inspector")),i&16785408&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(_(l),_(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function Ov(r){let e,t;return e=new Uhe({props:{id:r[10]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1024&&(s.id=n[10]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function jhe(r){let e,t,n,l=r[13]("inspector")+"",s,i;const o=[ti];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),D(n,"class","responsive-button-label")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(ti)]):{};e.$set(f),(!i||c&8192)&&l!==(l=u[13]("inspector")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function Yhe(r){let e,t,n=r[0]==="page"&&Rv(r);return{c(){e=M("div"),n&&n.c(),D(e,"class","aux-actions svelte-1yr7j0"),D(e,"slot","actions-right")},m(l,s){w(l,e,s),n&&n.m(e,null),t=!0},p(l,s){l[0]==="page"?n?(n.p(l,s),s&1&&_(n,1)):(n=Rv(l),n.c(),_(n,1),n.m(e,null)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){l&&v(e),n&&n.d()}}}function Ghe(r){var n;let e,t;return e=new Ym({props:{title:{name:r[1].name,description:(n=r[1].description)!=null?n:void 0,icon:Kl},$$slots:{"actions-right":[Yhe],default:[Whe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,[s]){var o;const i={};s&2&&(i.title={name:l[1].name,description:(o=l[1].description)!=null?o:void 0,icon:Kl}),s&16809433&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function Khe(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h=j,b=()=>(h(),h=ue(f,B=>t(11,p=B)),f),$,k,T,E,A,P=j,O=()=>(P(),P=ue(s,B=>t(12,A=B)),s),R,F,L=j,U=()=>(L(),L=ue(c,B=>t(14,F=B)),c);Z(r,En,B=>t(20,$=B)),Z(r,On,B=>t(21,k=B)),Z(r,ge,B=>t(13,R=B)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>P()),r.$$.on_destroy.push(()=>L());const W=Ft();Z(r,W,B=>t(23,E=B));const H=Zt();Z(r,H,B=>t(22,T=B));let{context:z="page"}=e,{table:te}=e;function se(){f.set(!p)}return r.$$set=B=>{"context"in B&&t(0,z=B.context),"table"in B&&t(1,te=B.table)},r.$$.update=()=>{r.$$.dirty&8388608&&t(10,{id:n,meta:l,isLoading:s,display:i}=E,n,(t(19,l),t(23,E)),O(t(9,s)),(t(18,i),t(23,E))),r.$$.dirty&524288&&t(8,{filtering:o,sorting:a,grouping:u,sheetState:c}=l,o,(t(7,a),t(19,l),t(23,E)),(t(6,u),t(19,l),t(23,E)),U(t(5,c))),r.$$.dirty&262144&&b(t(2,{isTableInspectorVisible:f}=i,f)),r.$$.dirty&7340032&&t(4,m=!!(T!=null&&T.hasPermission({database:k,schema:$},"canEditMetadata"))),r.$$.dirty&7340032&&t(3,d=!!(T!=null&&T.hasPermission({database:k,schema:$},"canViewLinkedEntities")))},[z,te,f,d,m,c,u,a,o,s,n,p,A,R,F,W,H,se,i,l,$,k,T,E]}class Xhe extends x{constructor(e){super(),J(this,e,Khe,Ghe,Q,{context:0,table:1})}}function Qhe(r){let e,t,n,l,s;return t=new Xhe({props:{table:r[0],context:r[1]}}),l=new R8({props:{table:r[0],context:r[1]}}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),D(e,"class","table-page svelte-cngme6")},m(i,o){w(i,e,o),y(t,e,null),I(e,n),y(l,e,null),s=!0},p(i,o){const a={};o&1&&(a.table=i[0]),o&2&&(a.context=i[1]),t.$set(a);const u={};o&1&&(u.table=i[0]),o&2&&(u.context=i[1]),l.$set(u)},i(i){s||(_(t.$$.fragment,i),_(l.$$.fragment,i),s=!0)},o(i){g(t.$$.fragment,i),g(l.$$.fragment,i),s=!1},d(i){i&&v(e),S(t),S(l)}}}function Zhe(r){let e,t,n,l;return document.title=e=Pn(r[0].name),n=new kr({props:{fitViewport:!0,restrictWidth:!1,$$slots:{default:[Qhe]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&1)&&e!==(e=Pn(s[0].name))&&(document.title=e);const o={};i&8195&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}const Lv="q";function Jhe(r,e,t){let n,l,s,i,o,a,u=j,c=()=>(u(),u=ue(o,k=>t(8,a=k)),o),f,m;Z(r,un,k=>t(9,f=k)),Z(r,wr,k=>t(10,m=k)),r.$$.on_destroy.push(()=>u());const d=Nm(void 0);Wae();let{table:p}=e,{shareConsumer:h=void 0}=e,b="page";function $(k){un.location.query.set(Lv,k)}return r.$$set=k=>{"table"in k&&t(0,p=k.table),"shareConsumer"in k&&t(3,h=k.shareConsumer)},r.$$.update=()=>{var k;r.$$.dirty&1024&&t(6,n=m.data),r.$$.dirty&512&&t(7,{query:l}=f,l),r.$$.dirty&128&&t(5,s=vs.fromSerialization((k=l[Lv])!=null?k:"")),r.$$.dirty&105&&t(4,i=new Qu({id:p.id,abstractTypesMap:n,meta:s,table:p,shareConsumer:h})),r.$$.dirty&16&&d.set(i),r.$$.dirty&8&&t(1,b=h?"shared-consumer-page":"page"),r.$$.dirty&16&&c(t(2,o=i.meta.serialization)),r.$$.dirty&256&&$(a)},[p,b,o,h,i,s,n,l,a,f,m]}class z8 extends x{constructor(e){super(),J(this,e,Jhe,Zhe,Q,{table:0,shareConsumer:3})}}function Nv(r){return{columnErrors:r,recordErrors:[]}}function yf(r){return{columnErrors:new yt,recordErrors:r}}function xhe(){return yf([])}function ebe(r,e){return r.withEntries(e,(t,n)=>[...t,...n])}function tbe(r,e){return{columnErrors:ebe(r.columnErrors,e.columnErrors),recordErrors:[...r.recordErrors,...e.recordErrors]}}const nbe=[r=>{if(!!Jl(r,"constraint_columns")&&!!Array.isArray(r.constraint_columns)&&!!ou(r,"original_details"))return new yt(r.constraint_columns.filter(v7).map(e=>[e,[r.original_details]]))}];function Fv(r){for(const e of nbe){const t=e(r);if(t)return t}}function V8(r){{const e=Fv(r);if(e)return Nv(e)}if(r instanceof Jf){const e=Fv(r.detail);return e?Nv(e):yf([r.message])}return r instanceof bi?r.errors.map(V8).reduce(tbe,xhe()):yf([en(r)])}function rbe(r){var n;let e,t;return e=new jm({props:{hasChanges:r[1],requestState:(n=r[3])==null?void 0:n.state}}),{c(){C(e.$$.fragment)},m(l,s){y(e,l,s),t=!0},p(l,[s]){var o;const i={};s&2&&(i.hasChanges=l[1]),s&8&&(i.requestState=(o=l[3])==null?void 0:o.state),e.$set(i)},i(l){t||(_(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){S(e,l)}}}function lbe(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(f,m=>t(4,s=m)),f),a,u=j,c=()=>(u(),u=ue(n,m=>t(3,a=m)),n);r.$$.on_destroy.push(()=>i()),r.$$.on_destroy.push(()=>u());let{form:f}=e;return o(),r.$$set=m=>{"form"in m&&o(t(0,f=m.form))},r.$$.update=()=>{r.$$.dirty&1&&c(t(2,{requestStatus:n}=f,n)),r.$$.dirty&16&&t(1,{hasChanges:l}=s,l)},[f,l,n,a,s]}class sbe extends x{constructor(e){super(),J(this,e,lbe,rbe,Q,{form:0})}}const ibe=r=>({}),Hv=r=>({});function zv(r){let e,t;const n=r[2].header,l=Ie(n,r,r[1],Hv);return{c(){e=M("div"),l&&l.c(),D(e,"class","header")},m(s,i){w(s,e,i),l&&l.m(e,null),t=!0},p(s,i){l&&l.p&&(!t||i&2)&&Ae(l,n,s,s[1],t?Me(n,s[1],i,ibe):Pe(s[1]),Hv)},i(s){t||(_(l,s),t=!0)},o(s){g(l,s),t=!1},d(s){s&&v(e),l&&l.d(s)}}}function obe(r){let e,t,n,l,s=r[0].header&&zv(r);const i=r[2].default,o=Ie(i,r,r[1],null);return{c(){e=M("div"),s&&s.c(),t=N(),n=M("div"),o&&o.c(),D(n,"class","section svelte-gk8umx"),D(e,"class","inset-page-section")},m(a,u){w(a,e,u),s&&s.m(e,null),I(e,t),I(e,n),o&&o.m(n,null),l=!0},p(a,[u]){a[0].header?s?(s.p(a,u),u&1&&_(s,1)):(s=zv(a),s.c(),_(s,1),s.m(e,t)):s&&(G(),g(s,1,1,()=>{s=null}),K()),o&&o.p&&(!l||u&2)&&Ae(o,i,a,a[1],l?Me(i,a[1],u,null):Pe(a[1]),null)},i(a){l||(_(s),_(o,a),l=!0)},o(a){g(s),g(o,a),l=!1},d(a){a&&v(e),s&&s.d(),o&&o.d(a)}}}function abe(r,e,t){let{$$slots:n={},$$scope:l}=e;const s=ur(n);return r.$$set=i=>{"$$scope"in i&&t(1,l=i.$$scope)},[s,l,n]}class nu extends x{constructor(e){super(),J(this,e,abe,obe,Q,{})}}const ube=r=>({}),Vv=r=>({});function cbe(r){let e,t;return e=new nu({props:{$$slots:{default:[mbe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function fbe(r){let e;const t=r[1].default,n=Ie(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ae(n,t,l,l[2],e?Me(t,l[2],s,null):Pe(l[2]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function mbe(r){let e;const t=r[1].default,n=Ie(t,r,r[2],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&4)&&Ae(n,t,l,l[2],e?Me(t,l[2],s,null):Pe(l[2]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function dbe(r){let e,t,n,l,s,i,o;const a=r[1].header,u=Ie(a,r,r[2],Vv),c=[fbe,cbe],f=[];function m(d,p){return d[0]?0:1}return s=m(r),i=f[s]=c[s](r),{c(){e=M("div"),t=M("div"),u&&u.c(),n=N(),l=M("div"),i.c(),D(t,"class","header restrict-width svelte-u2qdd0"),D(l,"class","page restrict-width svelte-u2qdd0"),D(e,"class","inset-page-layout svelte-u2qdd0")},m(d,p){w(d,e,p),I(e,t),u&&u.m(t,null),I(e,n),I(e,l),f[s].m(l,null),o=!0},p(d,[p]){u&&u.p&&(!o||p&4)&&Ae(u,a,d,d[2],o?Me(a,d[2],p,ube):Pe(d[2]),Vv);let h=s;s=m(d),s===h?f[s].p(d,p):(G(),g(f[h],1,1,()=>{f[h]=null}),K(),i=f[s],i?i.p(d,p):(i=f[s]=c[s](d),i.c()),_(i,1),i.m(l,null))},i(d){o||(_(u,d),_(i),o=!0)},o(d){g(u,d),g(i),o=!1},d(d){d&&v(e),u&&u.d(d),f[s].d()}}}function _be(r,e,t){let{$$slots:n={},$$scope:l}=e,{hasMultipleSections:s=!1}=e;return r.$$set=i=>{"hasMultipleSections"in i&&t(0,s=i.hasMultipleSections),"$$scope"in i&&t(2,l=i.$$scope)},[s,n,l]}class xm extends x{constructor(e){super(),J(this,e,_be,dbe,Q,{hasMultipleSections:0})}}function pbe(r){let e,t;return e=new Si({props:{processedColumn:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.processedColumn=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gbe(r){let e=r[10]("set_to")+"",t,n,l,s;return l=new wi({}),{c(){t=q(e),n=N(),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o&1024)&&e!==(e=i[10]("set_to")+"")&&Y(t,e)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(t),i&&v(n),S(l,i)}}}function hbe(r){let e,t;return e=new sn({props:{icon:nk,disabled:r[5],$$slots:{default:[gbe]},$$scope:{ctx:r}}}),e.$on("click",r[24]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&32&&(s.disabled=n[5]),l&268436480&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function qv(r){let e,t,n;return t=new wi({}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","null svelte-e4chwr")},m(l,s){w(l,e,s),y(t,e,null),n=!0},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function bbe(r){var E;let e,t,n,l,s,i,o,a,u,c,f,m,d,p,h,b;s=new fi({props:{controller:r[14],$$slots:{default:[pbe]},$$scope:{ctx:r}}}),a=new Xr({props:{showArrow:!1,triggerAppearance:"plain",closeOnInnerClick:!0,ariaLabel:r[10]("column_field_options",{values:{columnName:r[2].name}}),icon:ar,$$slots:{default:[hbe]},$$scope:{ctx:r}}});let $=r[3]===null&&r[4]&&qv();function k(A){r[26](A)}let T={disabled:r[5],componentAndProps:r[0].inputComponentAndProps,labelController:r[14],recordSummary:(E=r[11].get(String(r[2].id)))==null?void 0:E.get(String(r[8])),setRecordSummary:r[25],hasError:r[12]};return r[3]!==void 0&&(T.value=r[3]),m=new Ju({props:T}),Te.push(()=>Oe(m,"value",k)),h=new Am({props:{field:r[1]}}),{c(){e=M("div"),t=M("div"),n=M("div"),l=M("div"),C(s.$$.fragment),i=N(),o=M("div"),C(a.$$.fragment),u=N(),c=M("div"),$&&$.c(),f=N(),C(m.$$.fragment),p=N(),C(h.$$.fragment),D(l,"class","label svelte-e4chwr"),D(o,"class","options svelte-e4chwr"),D(n,"class","complex-label svelte-e4chwr"),D(t,"class","left cell svelte-e4chwr"),D(c,"class","input cell svelte-e4chwr"),D(e,"class","direct-field svelte-e4chwr")},m(A,P){w(A,e,P),I(e,t),I(t,n),I(n,l),y(s,l,null),I(n,i),I(n,o),y(a,o,null),I(e,u),I(e,c),$&&$.m(c,null),I(c,f),y(m,c,null),I(c,p),y(h,c,null),b=!0},p(A,[P]){var U;const O={};P&268435457&&(O.$$scope={dirty:P,ctx:A}),s.$set(O);const R={};P&1028&&(R.ariaLabel=A[10]("column_field_options",{values:{columnName:A[2].name}})),P&268436514&&(R.$$scope={dirty:P,ctx:A}),a.$set(R),A[3]===null&&A[4]?$?P&24&&_($,1):($=qv(),$.c(),_($,1),$.m(c,f)):$&&(G(),g($,1,1,()=>{$=null}),K());const F={};P&32&&(F.disabled=A[5]),P&1&&(F.componentAndProps=A[0].inputComponentAndProps),P&2308&&(F.recordSummary=(U=A[11].get(String(A[2].id)))==null?void 0:U.get(String(A[8]))),P&516&&(F.setRecordSummary=A[25]),P&4096&&(F.hasError=A[12]),!d&&P&8&&(d=!0,F.value=A[3],Ne(()=>d=!1)),m.$set(F);const L={};P&2&&(L.field=A[1]),h.$set(L)},i(A){b||(_(s.$$.fragment,A),_(a.$$.fragment,A),_($),_(m.$$.fragment,A),_(h.$$.fragment,A),b=!0)},o(A){g(s.$$.fragment,A),g(a.$$.fragment,A),g($),g(m.$$.fragment,A),g(h.$$.fragment,A),b=!1},d(A){A&&v(e),S(s),S(a),$&&$.d(),S(m),S(h)}}}function $be(r,e,t){let n,l,s,i,o,a,u,c,f,m,d,p,h=j,b=()=>(h(),h=ue(c,fe=>t(20,p=fe)),c),$,k=j,T=()=>(k(),k=ue(ee,fe=>t(3,$=fe)),ee),E,A,P,O,R,F=j,L=()=>(F(),F=ue(i,fe=>t(11,R=fe)),i),U,W=j,H=()=>(W(),W=ue(f,fe=>t(12,U=fe)),f);Z(r,En,fe=>t(22,A=fe)),Z(r,On,fe=>t(23,P=fe)),Z(r,ge,fe=>t(10,O=fe)),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k()),r.$$.on_destroy.push(()=>F()),r.$$.on_destroy.push(()=>W());const z=Zt();Z(r,z,fe=>t(21,E=fe));const te=new Set(["date","datetime","duration","time"]),se=new ko;let{record:B}=e,{processedColumn:V}=e,{field:ee}=e;T();const ie=()=>ee.set(null),_e=(fe,Ue)=>i.addBespokeRecordSummary({columnId:String(o.id),recordId:fe,recordSummary:Ue});function ae(fe){$=fe,ee.set($)}return r.$$set=fe=>{"record"in fe&&t(15,B=fe.record),"processedColumn"in fe&&t(0,V=fe.processedColumn),"field"in fe&&T(t(1,ee=fe.field))},r.$$.update=()=>{var fe;r.$$.dirty&8388608&&t(19,n=P),r.$$.dirty&4194304&&t(18,l=A),r.$$.dirty&2883584&&t(17,s=(fe=E==null?void 0:E.hasPermission({database:n,schema:l},"canEditTableRecords"))!=null?fe:!1),r.$$.dirty&32768&&L(t(9,{recordSummaries:i}=B,i)),r.$$.dirty&1&&t(2,{column:o,abstractType:a}=V,o,(t(16,a),t(0,V))),r.$$.dirty&8&&t(8,u=$),r.$$.dirty&2&&b(t(7,c=ee.disabled)),r.$$.dirty&2&&H(t(6,{showsError:f}=ee,f)),r.$$.dirty&1179652&&t(5,m=o.primary_key||!s||p),r.$$.dirty&65536&&t(4,d=!te.has(a.cellInfo.type))},[V,ee,o,$,d,m,f,c,u,i,O,R,U,z,se,B,a,s,l,n,p,E,A,P,ie,_e,ae]}class vbe extends x{constructor(e){super(),J(this,e,$be,bbe,Q,{record:15,processedColumn:0,field:1})}}function wbe(r){let e,t,n;return t=new yn({}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","record-page-loading-spinner svelte-covpeg")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}class q8 extends x{constructor(e){super(),J(this,e,null,wbe,Q,{})}}function kbe(r){let e,t,n,l,s,i,o;const a=[{filtering:r[2]},{canViewLinkedEntities:r[3]},r[5]];let u={};for(let p=0;p<a.length;p+=1)u=le(u,a[p]);t=new O8({props:u});const c=[{sorting:r[1]},r[5]];let f={};for(let p=0;p<c.length;p+=1)f=le(f,c[p]);l=new F8({props:f});const m=[{grouping:r[0]},r[5]];let d={};for(let p=0;p<m.length;p+=1)d=le(d,m[p]);return i=new L8({props:d}),{c(){e=M("div"),C(t.$$.fragment),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),D(e,"class","mini-actions-pane svelte-17z38bs")},m(p,h){w(p,e,h),y(t,e,null),I(e,n),y(l,e,null),I(e,s),y(i,e,null),o=!0},p(p,[h]){const b=h&44?de(a,[h&4&&{filtering:p[2]},h&8&&{canViewLinkedEntities:p[3]},h&32&&$e(p[5])]):{};t.$set(b);const $=h&34?de(c,[h&2&&{sorting:p[1]},h&32&&$e(p[5])]):{};l.$set($);const k=h&33?de(m,[h&1&&{grouping:p[0]},h&32&&$e(p[5])]):{};i.$set(k)},i(p){o||(_(t.$$.fragment,p),_(l.$$.fragment,p),_(i.$$.fragment,p),o=!0)},o(p){g(t.$$.fragment,p),g(l.$$.fragment,p),g(i.$$.fragment,p),o=!1},d(p){p&&v(e),S(t),S(l),S(i)}}}function ybe(r,e,t){let n,l,s,i,o,a,u,c,f;Z(r,En,h=>t(9,u=h)),Z(r,On,h=>t(10,c=h));const m=Zt();Z(r,m,h=>t(11,f=h));const d={placement:"bottom-end",size:"small"},p=Ft();return Z(r,p,h=>t(8,a=h)),r.$$.update=()=>{r.$$.dirty&3584&&t(3,n=!!(f!=null&&f.hasPermission({database:c,schema:u},"canViewLinkedEntities"))),r.$$.dirty&256&&t(7,{meta:l}=a,l),r.$$.dirty&128&&t(2,{filtering:s,sorting:i,grouping:o}=l,s,(t(1,i),t(7,l),t(8,a)),(t(0,o),t(7,l),t(8,a)))},[o,i,s,n,m,d,p,l,a,u,c,f]}class Sbe extends x{constructor(e){super(),J(this,e,ybe,kbe,Q,{})}}function Cbe(r){let e,t,n,l,s,i,o,a,u,c;return l=new Sn({props:{table:r[0]}}),i=new Sbe({}),u=new R8({props:{context:"widget",table:r[0]}}),{c(){e=M("div"),t=M("div"),n=M("h3"),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),a=M("div"),C(u.$$.fragment),D(n,"class","bold-header"),D(t,"class","top svelte-11m8z5a"),D(a,"class","results"),D(e,"class","table-widget")},m(f,m){w(f,e,m),I(e,t),I(t,n),y(l,n,null),I(t,s),y(i,t,null),I(e,o),I(e,a),y(u,a,null),c=!0},p(f,[m]){const d={};m&1&&(d.table=f[0]),l.$set(d);const p={};m&1&&(p.table=f[0]),u.$set(p)},i(f){c||(_(l.$$.fragment,f),_(i.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(l.$$.fragment,f),g(i.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),S(l),S(i),S(u)}}}function Tbe(r,e,t){let n,l,s;Z(r,wr,f=>t(5,s=f));const i=Nm(void 0),o=new vs({pagination:new Gr({size:10})});let{recordPk:a}=e,{table:u}=e,{fkColumn:c}=e;return r.$$set=f=>{"recordPk"in f&&t(1,a=f.recordPk),"table"in f&&t(0,u=f.table),"fkColumn"in f&&t(2,c=f.fkColumn)},r.$$.update=()=>{r.$$.dirty&32&&t(4,n=s.data),r.$$.dirty&23&&t(3,l=new Qu({id:u.id,abstractTypesMap:n,meta:o,contextualFilters:new Map([[c.id,a]]),table:u})),r.$$.dirty&8&&i.set(l)},[u,a,c,l,n,s]}class Ebe extends x{constructor(e){super(),J(this,e,Tbe,Cbe,Q,{recordPk:1,table:0,fkColumn:2})}}const{Map:Dbe}=iu;function Bv(r,e,t){const n=r.slice();return n[8]=e[t].table,n[9]=e[t].fkColumn,n}function Ibe(r){let e;return{c(){e=M("div"),D(e,"class","no-widgets svelte-m6bumh")},m(t,n){w(t,e,n)},p:j,i:j,o:j,d(t){t&&v(e)}}}function Mbe(r){let e,t,n=r[3]("related_records")+"",l,s,i,o,a,u=[],c=new Dbe,f;i=new $r({props:{$$slots:{default:[Rbe]},$$scope:{ctx:r}}});let m=r[2];const d=p=>`${p[8].id}-${p[9].id}`;for(let p=0;p<m.length;p+=1){let h=Bv(r,m,p),b=d(h);c.set(b,u[p]=Wv(b,h))}return{c(){e=M("div"),t=M("h2"),l=q(n),s=N(),C(i.$$.fragment),o=N(),a=M("div");for(let p=0;p<u.length;p+=1)u[p].c();D(t,"class","passthrough svelte-m6bumh"),D(a,"class","widgets svelte-m6bumh"),D(e,"class","widgets-area svelte-m6bumh")},m(p,h){w(p,e,h),I(e,t),I(t,l),I(t,s),y(i,t,null),I(e,o),I(e,a);for(let b=0;b<u.length;b+=1)u[b].m(a,null);f=!0},p(p,h){(!f||h&8)&&n!==(n=p[3]("related_records")+"")&&Y(l,n);const b={};h&8202&&(b.$$scope={dirty:h,ctx:p}),i.$set(b),h&5&&(m=p[2],G(),u=gt(u,h,d,1,p,m,c,a,bt,Wv,null,Bv),K())},i(p){if(!f){_(i.$$.fragment,p);for(let h=0;h<m.length;h+=1)_(u[h]);f=!0}},o(p){g(i.$$.fragment,p);for(let h=0;h<u.length;h+=1)g(u[h]);f=!1},d(p){p&&v(e),S(i);for(let h=0;h<u.length;h+=1)u[h].d()}}}function Uv(r){let e,t;return e=new Rn({props:{icon:xs,truncate:!1,$$slots:{default:[Abe]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8194&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Abe(r){let e,t;return{c(){e=M("strong"),t=q(r[1])},m(n,l){w(n,e,l),I(e,t)},p(n,l){l&2&&Y(t,n[1])},d(n){n&&v(e)}}}function Pbe(r){let e,t,n=r[12]==="recordSummary"&&Uv(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[12]==="recordSummary"?n?(n.p(l,s),s&4096&&_(n,1)):(n=Uv(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Rbe(r){let e,t;return e=new St({props:{text:r[3]("related_records_help"),$$slots:{default:[Pbe,({slotName:n})=>({12:n}),({slotName:n})=>n?4096:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.text=n[3]("related_records_help")),l&12290&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wv(r,e){let t,n,l,s;return n=new Ebe({props:{recordPk:e[0],table:e[8],fkColumn:e[9]}}),{key:r,first:null,c(){t=M("section"),C(n.$$.fragment),l=N(),D(t,"class","table-widget-positioner svelte-m6bumh"),this.first=t},m(i,o){w(i,t,o),y(n,t,null),I(t,l),s=!0},p(i,o){e=i;const a={};o&1&&(a.recordPk=e[0]),o&4&&(a.table=e[8]),o&4&&(a.fkColumn=e[9]),n.$set(a)},i(i){s||(_(n.$$.fragment,i),s=!0)},o(i){g(n.$$.fragment,i),s=!1},d(i){i&&v(t),S(n)}}}function Obe(r){let e,t,n,l;const s=[Mbe,Ibe],i=[];function o(a,u){return a[2].length?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Lbe(r,e,t){let n,l,s,i;Z(r,ge,f=>t(3,s=f)),Z(r,fn,f=>t(6,i=f));let{recordPk:o}=e,{recordSummary:a}=e,{joinableTablesResult:u}=e;function c(f){var h;const m=i.data.get(f.target);if(!m)return;const d=f.jp_path[0].slice(-1)[0],p=(h=n.get(d))!=null?h:`(${s("unknown_column")})`;return{table:m,fkColumn:{id:d,name:p}}}return r.$$set=f=>{"recordPk"in f&&t(0,o=f.recordPk),"recordSummary"in f&&t(1,a=f.recordSummary),"joinableTablesResult"in f&&t(4,u=f.joinableTablesResult)},r.$$.update=()=>{r.$$.dirty&16&&(n=new Map(Object.entries(u.columns).map(([f,m])=>[parseInt(f,10),m.name]))),r.$$.dirty&16&&t(2,l=u.joinable_tables.filter(f=>f.multiple_results).map(c).filter(kn).sort((f,m)=>f.table.name.localeCompare(m.table.name)))},[o,a,l,s,u]}class Nbe extends x{constructor(e){super(),J(this,e,Lbe,Obe,Q,{recordPk:0,recordSummary:1,joinableTablesResult:4})}}function jv(r,e,t){const n=r.slice();return n[21]=e[t].field,n[22]=e[t].processedColumn,n}function Yv(r,e){let t,n,l;return n=new vbe({props:{record:e[0],processedColumn:e[22],field:e[21]}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&1&&(o.record=e[0]),i&4&&(o.processedColumn=e[22]),i&4&&(o.field=e[21]),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function Fbe(r){let e,t=[],n=new Map,l,s,i,o,a=r[2];const u=c=>c[22].id;for(let c=0;c<a.length;c+=1){let f=jv(r,a,c),m=u(f);n.set(m,t[c]=Yv(m,f))}return i=new Zr({props:{form:r[3],catchErrors:!0,proceedButton:{label:r[10]("save"),icon:Ks},cancelButton:{label:r[10]("discard_changes"),icon:Xs},onProceed:r[17],getErrorMessages:r[18],initiallyHidden:!0}}),{c(){e=M("div");for(let c=0;c<t.length;c+=1)t[c].c();l=N(),s=M("div"),C(i.$$.fragment),D(e,"class","fields svelte-4domsl"),D(s,"class","submit svelte-4domsl")},m(c,f){w(c,e,f);for(let m=0;m<t.length;m+=1)t[m].m(e,null);w(c,l,f),w(c,s,f),y(i,s,null),o=!0},p(c,f){f&5&&(a=c[2],G(),t=gt(t,f,u,1,c,a,n,e,bt,Yv,null,jv),K());const m={};f&8&&(m.form=c[3]),f&1024&&(m.proceedButton={label:c[10]("save"),icon:Ks}),f&1024&&(m.cancelButton={label:c[10]("discard_changes"),icon:Xs}),f&2049&&(m.onProceed=c[17]),f&2&&(m.getErrorMessages=c[18]),i.$set(m)},i(c){if(!o){for(let f=0;f<a.length;f+=1)_(t[f]);_(i.$$.fragment,c),o=!0}},o(c){for(let f=0;f<t.length;f+=1)g(t[f]);g(i.$$.fragment,c),o=!1},d(c){c&&v(e);for(let f=0;f<t.length;f+=1)t[f].d();c&&v(l),c&&v(s),S(i)}}}function Hbe(r){let e,t;return e=new qu({props:{recordSummary:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&512&&(s.recordSummary=n[9]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Gv(r){let e,t,n;return t=new Sn({props:{table:r[8],truncate:!1}}),{c(){e=M("strong"),C(t.$$.fragment)},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&256&&(i.table=l[8]),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function zbe(r){let e,t,n=r[20]==="tableName"&&Gv(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[20]==="tableName"?n?(n.p(l,s),s&1048576&&_(n,1)):(n=Gv(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function Vbe(r){let e,t,n,l,s,i,o,a,u,c;return n=new Rn({props:{icon:xs,$$slots:{default:[Hbe]},$$scope:{ctx:r}}}),i=new St({props:{text:r[10]("record_in_table"),$$slots:{default:[zbe,({slotName:f})=>({20:f}),({slotName:f})=>f?1048576:0]},$$scope:{ctx:r}}}),u=new sbe({props:{form:r[3]}}),{c(){e=M("div"),t=M("h1"),C(n.$$.fragment),l=N(),s=M("div"),C(i.$$.fragment),o=N(),a=M("div"),C(u.$$.fragment),D(t,"class","title svelte-4domsl"),D(s,"class","table-name svelte-4domsl"),D(a,"class","form-status svelte-4domsl"),D(e,"slot","header"),D(e,"class","header svelte-4domsl")},m(f,m){w(f,e,m),I(e,t),y(n,t,null),I(e,l),I(e,s),y(i,s,null),I(e,o),I(e,a),y(u,a,null),c=!0},p(f,m){const d={};m&33554944&&(d.$$scope={dirty:m,ctx:f}),n.$set(d);const p={};m&1024&&(p.text=f[10]("record_in_table")),m&34603264&&(p.$$scope={dirty:m,ctx:f}),i.$set(p);const h={};m&8&&(h.form=f[3]),u.$set(h)},i(f){c||(_(n.$$.fragment,f),_(i.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){g(n.$$.fragment,f),g(i.$$.fragment,f),g(u.$$.fragment,f),c=!1},d(f){f&&v(e),S(n),S(i),S(u)}}}function qbe(r){return{c:j,m:j,p:j,i:j,o:j,d:j}}function Bbe(r){let e,t;return e=new Nbe({props:{joinableTablesResult:r[19],recordPk:r[6],recordSummary:r[9]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&256&&(s.joinableTablesResult=n[19]),l&64&&(s.recordPk=n[6]),l&512&&(s.recordSummary=n[9]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Ube(r){let e,t;return e=new q8({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Wbe(r){let e,t,n,l,s;t=new xm({props:{$$slots:{header:[Vbe],default:[Fbe]},$$scope:{ctx:r}}});let i={ctx:r,current:null,token:null,hasCatch:!1,pending:Ube,then:Bbe,catch:qbe,value:19,blocks:[,,,]};return Bl(l=r[12](r[8].id),i),{c(){e=M("div"),C(t.$$.fragment),n=N(),i.block.c(),D(e,"class","record-page-content svelte-4domsl")},m(o,a){w(o,e,a),y(t,e,null),I(e,n),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,s=!0},p(o,[a]){r=o;const u={};a&33558287&&(u.$$scope={dirty:a,ctx:r}),t.$set(u),i.ctx=r,a&256&&l!==(l=r[12](r[8].id))&&Bl(l,i)||su(i,r,a)},i(o){s||(_(t.$$.fragment,o),_(i.block),s=!0)},o(o){g(t.$$.fragment,o);for(let a=0;a<3;a+=1){const u=i.blocks[a];g(u)}s=!1},d(o){o&&v(e),S(t),i.block.d(),i.token=null,i=null}}}function jbe(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(o,z=>t(14,f=z)),o),p,h=j,b=()=>(h(),h=ue(l,z=>t(15,p=z)),l),$,k,T=j,E=()=>(T(),T=ue(i,z=>t(9,k=z)),i),A,P,O=j,R=()=>(O(),O=ue(c,z=>t(11,P=z)),c);Z(r,ks,z=>t(16,$=z)),Z(r,ge,z=>t(10,A=z)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>O());let{record:F}=e,{tableStructure:L}=e;function U(z){return bn(`/api/db/v0/tables/${z}/joinable_tables/?max_depth=1`)}const W=()=>F.patch(P.values),H=z=>{var B;const{columnErrors:te,recordErrors:se}=V8(z);for(const[V,ee]of te)(B=u[V])==null||B.serverErrors.set(ee);return se};return r.$$set=z=>{"record"in z&&t(0,F=z.record),"tableStructure"in z&&t(13,L=z.tableStructure)},r.$$.update=()=>{r.$$.dirty&65536&&t(8,n=$),r.$$.dirty&8192&&b(t(7,{processedColumns:l}=L,l)),r.$$.dirty&1&&t(6,{recordPk:s,summary:i,fieldValues:o}=F,s,E(t(5,i)),d(t(4,o))),r.$$.dirty&49152&&t(2,a=[...p.values()].map(z=>({processedColumn:z,field:po(f.get(z.id))}))),r.$$.dirty&4&&t(1,u=Object.fromEntries(a.map(z=>[z.processedColumn.id,z.field]))),r.$$.dirty&2&&R(t(3,c=Un(u)))},[F,u,a,c,o,i,s,l,n,k,A,P,U,L,f,p,$,W,H]}class Ybe extends x{constructor(e){super(),J(this,e,jbe,Wbe,Q,{record:0,tableStructure:13})}}function Gbe(r){let e,t;return e=new Ybe({props:{tableStructure:r[1],record:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.tableStructure=n[1]),l&1&&(s.record=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Kbe(r){let e,t;return e=new q8({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Xbe(r){let e,t,n,l;const s=[Kbe,Gbe],i=[];function o(a,u){return a[3]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Qbe(r){let e,t,n,l;return document.title=e=Pn(r[2]),n=new kr({props:{cssVariables:{"--page-padding":"0"},fitViewport:!0,$$slots:{default:[Xbe]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&4)&&e!==(e=Pn(s[2]))&&(document.title=e);const o={};i&16395&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function Zbe(r,e,t){let n,l,s,i,o,a,u,c,f,m=j,d=()=>(m(),m=ue(o,O=>t(9,f=O)),o),p,h=j,b=()=>(h(),h=ue(s,O=>t(10,p=O)),s),$,k=j,T=()=>(k(),k=ue(i,O=>t(11,$=O)),i),E,A;Z(r,wr,O=>t(12,E=O)),Z(r,ks,O=>t(13,A=O)),r.$$.on_destroy.push(()=>m()),r.$$.on_destroy.push(()=>h()),r.$$.on_destroy.push(()=>k());let{record:P}=e;return r.$$set=O=>{"record"in O&&t(0,P=O.record)},r.$$.update=()=>{r.$$.dirty&8192&&t(8,n=A),r.$$.dirty&4352&&t(1,l=new uy({id:n.id,abstractTypesMap:E.data})),r.$$.dirty&2&&b(t(6,s=l.isLoading)),r.$$.dirty&1&&T(t(5,i=P.fetchRequest)),r.$$.dirty&1&&d(t(4,{summary:o}=P,o)),r.$$.dirty&2048&&t(7,a=($==null?void 0:$.state)==="processing"),r.$$.dirty&1152&&t(3,u=p||a),r.$$.dirty&640&&t(2,c=a?"":jH(f))},[P,l,c,u,o,i,s,a,n,f,p,$,E,A]}class Jbe extends x{constructor(e){super(),J(this,e,Zbe,Qbe,Q,{record:0})}}class xbe{constructor({table:e,recordPk:t}){ce(this,"fetchRequest",xe(void 0));ce(this,"fieldValues",new as);ce(this,"recordSummaries",new d5);ce(this,"summary");ce(this,"table");ce(this,"recordPk");ce(this,"url");this.table=e,this.recordPk=t,this.url=`/api/db/v0/tables/${this.table.id}/records/${this.recordPk}/`;const{template:n}=this.table.settings.preview_settings;this.summary=at([this.fieldValues,this.recordSummaries],([l,s])=>Ou({template:n,inputData:m5(l),transitiveData:s})),this.fetch()}updateSelfWithApiResponseData(e){const t=e.results[0];this.fieldValues.reconstruct(Object.entries(t).map(([n,l])=>[parseInt(n,10),l])),e.preview_data&&this.recordSummaries.setFetchedSummaries(bm(e.preview_data))}async fetch(){this.fetchRequest.set({state:"processing"});try{this.updateSelfWithApiResponseData(await bn(this.url)),this.fetchRequest.set({state:"success"})}catch(e){this.fetchRequest.set({state:"failure",errors:[en(e)]})}}async patch(e){this.updateSelfWithApiResponseData(await Ar(this.url,e))}}function Kv(r){let e,t;return e=new Wn({props:{item:{type:"record",database:r[0],schema:r[1],table:r[2],record:{pk:r[3],summary:r[8]}}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&271&&(s.item={type:"record",database:n[0],schema:n[1],table:n[2],record:{pk:n[3],summary:n[8]}}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e0e(r){var s;let e,t,n,l=((s=r[7])==null?void 0:s.state)==="success"&&Kv(r);return t=new Jbe({props:{record:r[4]}}),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(i,o){l&&l.m(i,o),w(i,e,o),y(t,i,o),n=!0},p(i,[o]){var u;((u=i[7])==null?void 0:u.state)==="success"?l?(l.p(i,o),o&128&&_(l,1)):(l=Kv(i),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K());const a={};o&16&&(a.record=i[4]),t.$set(a)},i(i){n||(_(l),_(t.$$.fragment,i),n=!0)},o(i){g(l),g(t.$$.fragment,i),n=!1},d(i){l&&l.d(i),i&&v(e),S(t,i)}}}function t0e(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(s,b=>t(7,i=b)),s),u,c=j,f=()=>(c(),c=ue(l,b=>t(8,u=b)),l);r.$$.on_destroy.push(()=>o()),r.$$.on_destroy.push(()=>c());let{database:m}=e,{schema:d}=e,{table:p}=e,{recordPk:h}=e;return r.$$set=b=>{"database"in b&&t(0,m=b.database),"schema"in b&&t(1,d=b.schema),"table"in b&&t(2,p=b.table),"recordPk"in b&&t(3,h=b.recordPk)},r.$$.update=()=>{r.$$.dirty&12&&t(4,n=new xbe({table:p,recordPk:h})),r.$$.dirty&16&&f(t(6,{summary:l,fetchRequest:s}=n,l,a(t(5,s))))},[m,d,p,h,n,s,l,i,u]}class n0e extends x{constructor(e){super(),J(this,e,t0e,e0e,Q,{database:0,schema:1,table:2,recordPk:3})}}function r0e(r){let e,t;return e=new Ll({props:{$$slots:{default:[s0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&520&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function l0e(r){let e,t,n,l,s,i;return e=new Wn({props:{item:{type:"table",database:r[0],schema:r[1],table:r[2]}}}),n=new Wt({props:{path:"/",$$slots:{default:[i0e]},$$scope:{ctx:r}}}),s=new Wt({props:{path:"/:recordPk",$$slots:{default:[o0e,({meta:o})=>({8:o}),({meta:o})=>o?256:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&7&&(u.item={type:"table",database:o[0],schema:o[1],table:o[2]}),e.$set(u);const c={};a&516&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&775&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function s0e(r){let e=r[3]("table_not_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("table_not_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function i0e(r){let e,t;return e=new z8({props:{table:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.table=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function o0e(r){let e,t;return e=new n0e({props:{database:r[0],schema:r[1],table:r[2],recordPk:String(r[8].params.recordPk)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&4&&(s.table=n[2]),l&256&&(s.recordPk=String(n[8].params.recordPk)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function a0e(r){let e,t,n,l;const s=[l0e,r0e],i=[];function o(a,u){return a[2]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function u0e(r,e,t){let n,l,s,i;Z(r,ql,f=>t(6,l=f)),Z(r,fn,f=>t(5,s=f)),Z(r,ge,f=>t(3,i=f));let{database:o}=e,{schema:a}=e,{tableId:u}=e;function c(){an(ql,l=void 0,l)}return _n(()=>c),r.$$set=f=>{"database"in f&&t(0,o=f.database),"schema"in f&&t(1,a=f.schema),"tableId"in f&&t(4,u=f.tableId)},r.$$.update=()=>{r.$$.dirty&16&&an(ql,l=u,l),r.$$.dirty&48&&t(2,n=s.data.get(u))},[o,a,n,i,u,s]}class c0e extends x{constructor(e){super(),J(this,e,u0e,a0e,Q,{database:0,schema:1,tableId:4})}}const tc="/api/db/v0/data_files/";function Xv(r){return cn(tc,r)}function f0e(r){return bn(`${tc}${r}/`)}function m0e(r,e){return fL(tc,r,e)}function d0e(r,e){return Ar(`${tc}${r}/`,e)}const ho={addViaUrlToFile:r=>Xv({url:r}),addViaText:r=>Xv({paste:r}),addViaUpload:m0e,get:f0e,update:d0e};class Ai{constructor({isLoading:e,settlement:t}){ce(this,"settlement");ce(this,"isLoading");this.isLoading=e,this.settlement=t}get isInitializing(){return this.isLoading&&this.settlement===void 0}get isReloading(){return this.isLoading&&this.settlement!==void 0}get isOk(){var e;return!this.isLoading&&((e=this.settlement)==null?void 0:e.state)==="resolved"}get isStable(){var e;return!(this.isLoading||((e=this.settlement)==null?void 0:e.state)==="rejected")}get resolvedValue(){var e;return((e=this.settlement)==null?void 0:e.state)==="resolved"?this.settlement.value:void 0}get error(){var e;return((e=this.settlement)==null?void 0:e.state)==="rejected"?this.settlement.error:void 0}get isRejected(){var e;return!this.isLoading&&((e=this.settlement)==null?void 0:e.state)==="rejected"}get hasInitialized(){return this.settlement!==void 0}}class cs{constructor(e,t=en){ce(this,"runFn");ce(this,"getError");ce(this,"value",xe(new Ai({isLoading:!1})));ce(this,"promise");this.runFn=e,this.getError=t}subscribe(e,t){return this.value.subscribe(e,t)}async run(e){this.cancel(),this.value.update(t=>new Ai({...t,isLoading:!0})),this.promise=this.runFn(e);try{return this.value.set(new Ai({settlement:{state:"resolved",value:await this.promise},isLoading:!1})),Ve(this.value)}catch(t){return this.value.set(new Ai({settlement:{state:"rejected",error:this.getError(t)},isLoading:!1})),Ve(this.value)}}cancel(){this.promise&&"cancel"in this.promise&&this.promise.cancel()}reset(){this.cancel(),this.value.set(new Ai({isLoading:!1}))}}function _0e(r){const e=`/api/db/v0/tables/${r}/columns/?limit=500`;return bn(e)}const p0e={list:_0e};function g0e(r){let e=r[0]("take_first_row_as_column_names")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0]("take_first_row_as_column_names")+"")&&Y(t,e)},d(n){n&&v(t)}}}function h0e(r){let e,t;return e=new Rn({props:{icon:MO,truncate:!1,$$slots:{default:[g0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function b0e(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class $0e extends x{constructor(e){super(),J(this,e,b0e,h0e,Q,{})}}function v0e(r){let e=r[0]("keep_first_row_as_data")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=n[0]("keep_first_row_as_data")+"")&&Y(t,e)},d(n){n&&v(t)}}}function w0e(r){let e,t;return e=new Rn({props:{icon:AO,truncate:!1,$$slots:{default:[v0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function k0e(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class y0e extends x{constructor(e){super(),J(this,e,k0e,w0e,Q,{})}}function S0e(r){let e,t,n;const l=[{boxed:!0},{options:[!0,!1]},{label:r[1]("column_names")},{getRadioLabel:r[3]},r[2]];function s(o){r[4](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new hs({props:i}),Te.push(()=>Oe(e,"value",s)),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&6?de(l,[l[0],l[1],a&2&&{label:o[1]("column_names")},a&0&&{getRadioLabel:o[3]},a&4&&$e(o[2])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function C0e(r,e,t){const n=["value"];let l=Ye(e,n),s;Z(r,ge,c=>t(1,s=c));let{value:i=!0}=e;const o=c=>c?{component:$0e}:{component:y0e};function a(c){i=c,t(0,i)}function u(c){ye.call(this,r,c)}return r.$$set=c=>{e=le(le({},e),_t(c)),t(2,l=Ye(e,n)),"value"in c&&t(0,i=c.value)},[i,s,l,o,a,u]}class T0e extends x{constructor(e){super(),J(this,e,C0e,S0e,Q,{value:0})}}function E0e(r){let e=r[0]("pick_best_data_type_column")+"",t,n,l,s,i=r[0]("slower_for_large_imports")+"",o,a;return{c(){t=q(e),n=N(),l=M("em"),s=q("("),o=q(i),a=q(")")},m(u,c){w(u,t,c),w(u,n,c),w(u,l,c),I(l,s),I(l,o),I(l,a)},p(u,c){c&1&&e!==(e=u[0]("pick_best_data_type_column")+"")&&Y(t,e),c&1&&i!==(i=u[0]("slower_for_large_imports")+"")&&Y(o,i)},d(u){u&&v(t),u&&v(n),u&&v(l)}}}function D0e(r){let e,t;return e=new Rn({props:{icon:CO,truncate:!1,$$slots:{default:[E0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function I0e(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class M0e extends x{constructor(e){super(),J(this,e,I0e,D0e,Q,{})}}function A0e(r){let e=r[0]("use_text_for_all_columns")+"",t,n,l,s,i=r[0]("faster_for_large_imports")+"",o,a;return{c(){t=q(e),n=N(),l=M("em"),s=q("("),o=q(i),a=q(")")},m(u,c){w(u,t,c),w(u,n,c),w(u,l,c),I(l,s),I(l,o),I(l,a)},p(u,c){c&1&&e!==(e=u[0]("use_text_for_all_columns")+"")&&Y(t,e),c&1&&i!==(i=u[0]("faster_for_large_imports")+"")&&Y(o,i)},d(u){u&&v(t),u&&v(n),u&&v(l)}}}function P0e(r){let e,t;return e=new Rn({props:{icon:rk,truncate:!1,$$slots:{default:[A0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&3&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function R0e(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class O0e extends x{constructor(e){super(),J(this,e,R0e,P0e,Q,{})}}function L0e(r){let e,t,n;const l=[{boxed:!0},{options:[!0,!1]},{label:r[1]("column_data_types")},{getRadioLabel:r[3]},r[2]];function s(o){r[4](o)}let i={};for(let o=0;o<l.length;o+=1)i=le(i,l[o]);return r[0]!==void 0&&(i.value=r[0]),e=new hs({props:i}),Te.push(()=>Oe(e,"value",s)),e.$on("change",r[5]),{c(){C(e.$$.fragment)},m(o,a){y(e,o,a),n=!0},p(o,[a]){const u=a&6?de(l,[l[0],l[1],a&2&&{label:o[1]("column_data_types")},a&0&&{getRadioLabel:o[3]},a&4&&$e(o[2])]):{};!t&&a&1&&(t=!0,u.value=o[0],Ne(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){S(e,o)}}}function N0e(r,e,t){const n=["value"];let l=Ye(e,n),s;Z(r,ge,c=>t(1,s=c));let{value:i=!0}=e;const o=c=>c?{component:M0e}:{component:O0e};function a(c){i=c,t(0,i)}function u(c){ye.call(this,r,c)}return r.$$set=c=>{e=le(le({},e),_t(c)),t(2,l=Ye(e,n)),"value"in c&&t(0,i=c.value)},[i,s,l,o,a,u]}class B8 extends x{constructor(e){super(),J(this,e,N0e,L0e,Q,{value:0})}}function F0e(r){let e=r[1]("retry")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("retry")+"")&&Y(t,e)},d(n){n&&v(t)}}}function H0e(r){let e,t,n,l=r[1]("delete_import")+"",s,i;const o=[qt];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),D(n,"class","svelte-1wuw7rs")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(qt)]):{};e.$set(f),(!i||c&2)&&l!==(l=u[1]("delete_import")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function z0e(r){let e,t=r[1]("failed_load_preview")+"",n,l,s,i,o,a,u,c,f,m=r[1]("or")+"",d,p,h,b;return u=new dt({props:{appearance:"primary",$$slots:{default:[F0e]},$$scope:{ctx:r}}}),u.$on("click",r[3]),h=new dt({props:{appearance:"outline-primary",$$slots:{default:[H0e]},$$scope:{ctx:r}}}),h.$on("click",r[4]),{c(){e=M("div"),n=q(t),l=N(),s=M("div"),i=q(r[0]),o=N(),a=M("div"),C(u.$$.fragment),c=N(),f=M("span"),d=q(m),p=N(),C(h.$$.fragment),D(e,"class","title svelte-1wuw7rs"),D(f,"class","svelte-1wuw7rs"),D(a,"class","buttons svelte-1wuw7rs")},m($,k){w($,e,k),I(e,n),w($,l,k),w($,s,k),I(s,i),w($,o,k),w($,a,k),y(u,a,null),I(a,c),I(a,f),I(f,d),I(a,p),y(h,a,null),b=!0},p($,k){(!b||k&2)&&t!==(t=$[1]("failed_load_preview")+"")&&Y(n,t),(!b||k&1)&&Y(i,$[0]);const T={};k&34&&(T.$$scope={dirty:k,ctx:$}),u.$set(T),(!b||k&2)&&m!==(m=$[1]("or")+"")&&Y(d,m);const E={};k&34&&(E.$$scope={dirty:k,ctx:$}),h.$set(E)},i($){b||(_(u.$$.fragment,$),_(h.$$.fragment,$),b=!0)},o($){g(u.$$.fragment,$),g(h.$$.fragment,$),b=!1},d($){$&&v(e),$&&v(l),$&&v(s),$&&v(o),$&&v(a),S(u),S(h)}}}function V0e(r){let e,t;return e=new Yn({props:{fullWidth:!0,$$slots:{default:[z0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&35&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function q0e(r,e,t){let n;Z(r,ge,a=>t(1,n=a));const l=ht();let{error:s}=e;const i=()=>l("retry"),o=()=>l("delete");return r.$$set=a=>{"error"in a&&t(0,s=a.error)},[s,n,l,i,o]}class ed extends x{constructor(e){super(),J(this,e,q0e,V0e,Q,{error:0})}}const B0e=r=>({}),Qv=r=>({}),U0e=r=>({}),Zv=r=>({});function W0e(r){let e;const t=r[2].default,n=Ie(t,r,r[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&Ae(n,t,l,l[3],e?Me(t,l[3],s,null):Pe(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){g(n,l),e=!1},d(l){n&&n.d(l)}}}function j0e(r){let e,t=r[0]("finish_setting_up_table")+"",n;return{c(){e=M("h1"),n=q(t),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&1&&t!==(t=l[0]("finish_setting_up_table")+"")&&Y(n,t)},d(l){l&&v(e)}}}function Y0e(r){let e,t,n,l,s,i,o;n=new xm({props:{$$slots:{header:[j0e],default:[W0e]},$$scope:{ctx:r}}});const a=r[2].preview,u=Ie(a,r,r[3],Zv),c=r[2].footer,f=Ie(c,r,r[3],Qv);return{c(){e=M("div"),t=M("div"),C(n.$$.fragment),l=N(),u&&u.c(),s=N(),i=M("div"),f&&f.c(),D(t,"class","page-content svelte-1irkssg"),re(t,"has-preview",r[1].preview),D(i,"class","footer svelte-1irkssg"),D(e,"class","import-preview-content svelte-1irkssg")},m(m,d){w(m,e,d),I(e,t),y(n,t,null),I(t,l),u&&u.m(t,null),I(e,s),I(e,i),f&&f.m(i,null),o=!0},p(m,d){const p={};d&9&&(p.$$scope={dirty:d,ctx:m}),n.$set(p),u&&u.p&&(!o||d&8)&&Ae(u,a,m,m[3],o?Me(a,m[3],d,U0e):Pe(m[3]),Zv),(!o||d&2)&&re(t,"has-preview",m[1].preview),f&&f.p&&(!o||d&8)&&Ae(f,c,m,m[3],o?Me(c,m[3],d,B0e):Pe(m[3]),Qv)},i(m){o||(_(n.$$.fragment,m),_(u,m),_(f,m),o=!0)},o(m){g(n.$$.fragment,m),g(u,m),g(f,m),o=!1},d(m){m&&v(e),S(n),u&&u.d(m),f&&f.d(m)}}}function G0e(r){let e,t;return e=new kr({props:{fitViewport:!0,cssVariables:{"--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--slate-50)","--inset-page-section-padding":"var(--size-xx-large)","--page-padding":"var(--outer-page-padding-for-inset-page)"},$$slots:{default:[Y0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&11&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function K0e(r,e,t){let n;Z(r,ge,o=>t(0,n=o));let{$$slots:l={},$$scope:s}=e;const i=ur(l);return r.$$set=o=>{"$$scope"in o&&t(3,s=o.$$scope)},[n,i,l,s]}class td extends x{constructor(e){super(),J(this,e,K0e,G0e,Q,{})}}function X0e(r){let e=r[3].abstractType.name+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3].abstractType.name+"")&&Y(t,e)},d(n){n&&v(t)}}}function Q0e(r){let e,t;return e=new Rn({props:{slot:"trigger",icon:r[3].abstractType.getIcon(),$$slots:{default:[X0e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.icon=n[3].abstractType.getIcon()),l&2056&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Z0e(r){let e,t,n;function l(...s){return r[9](r[10],...s)}return t=new D8({props:{column:{...r[3].column,abstractType:r[3].abstractType},showWarnings:!1,save:l}}),t.$on("cancel",function(){Pt(r[10])&&r[10].apply(this,arguments)}),{c(){e=M("div"),C(t.$$.fragment),D(e,"slot","content"),D(e,"class","type-options-content svelte-12dazpn")},m(s,i){w(s,e,i),y(t,e,null),n=!0},p(s,i){r=s;const o={};i&8&&(o.column={...r[3].column,abstractType:r[3].abstractType}),i&1048&&(o.save=l),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){s&&v(e),S(t)}}}function J0e(r){let e,t,n,l,s,i,o,a,u,c;function f(h){r[7](h)}let m={disabled:r[5]};r[0]!==void 0&&(m.checked=r[0]),n=new Al({props:m}),Te.push(()=>Oe(n,"checked",f));function d(h){r[8](h)}let p={disabled:r[2]};return r[1]!==void 0&&(p.value=r[1]),i=new gn({props:p}),Te.push(()=>Oe(i,"value",d)),i.$on("blur",r[6]),u=new Pl({props:{disabled:r[5],triggerClass:"column-type",triggerAppearance:"plain",$$slots:{content:[Z0e,({close:h})=>({10:h}),({close:h})=>h?1024:0],trigger:[Q0e]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("div"),C(n.$$.fragment),s=N(),C(i.$$.fragment),a=N(),C(u.$$.fragment),D(t,"class","column-name svelte-12dazpn"),D(e,"class","column svelte-12dazpn")},m(h,b){w(h,e,b),I(e,t),y(n,t,null),I(t,s),y(i,t,null),I(e,a),y(u,e,null),c=!0},p(h,[b]){const $={};b&32&&($.disabled=h[5]),!l&&b&1&&(l=!0,$.checked=h[0],Ne(()=>l=!1)),n.$set($);const k={};b&4&&(k.disabled=h[2]),!o&&b&2&&(o=!0,k.value=h[1],Ne(()=>o=!1)),i.$set(k);const T={};b&32&&(T.disabled=h[5]),b&3096&&(T.$$scope={dirty:b,ctx:h}),u.$set(T)},i(h){c||(_(n.$$.fragment,h),_(i.$$.fragment,h),_(u.$$.fragment,h),c=!0)},o(h){g(n.$$.fragment,h),g(i.$$.fragment,h),g(u.$$.fragment,h),c=!1},d(h){h&&v(e),S(n),S(i),S(u)}}}function x0e(r,e,t){let n,{isLoading:l=!1}=e,{processedColumn:s}=e,{selected:i}=e,{displayName:o}=e,{updateTypeRelatedOptions:a}=e;function u(){o.trim()===""&&t(1,o=s.column.name)}function c(d){i=d,t(0,i)}function f(d){o=d,t(1,o)}const m=async(d,p)=>{await a({...s.column,...p}),d()};return r.$$set=d=>{"isLoading"in d&&t(2,l=d.isLoading),"processedColumn"in d&&t(3,s=d.processedColumn),"selected"in d&&t(0,i=d.selected),"displayName"in d&&t(1,o=d.displayName),"updateTypeRelatedOptions"in d&&t(4,a=d.updateTypeRelatedOptions)},r.$$.update=()=>{r.$$.dirty&12&&t(5,n=s.column.primary_key||l)},[i,o,l,s,a,n,u,c,f,m]}class e2e extends x{constructor(e){super(),J(this,e,x0e,J0e,Q,{isLoading:2,processedColumn:3,selected:0,displayName:1,updateTypeRelatedOptions:4})}}function Jv(r,e,t){const n=r.slice();return n[7]=e[t],n}function xv(r,e,t){const n=r.slice();return n[12]=e[t],n}function ew(r,e,t){const n=r.slice();return n[12]=e[t],n[17]=e,n[18]=t,n}function t2e(r){let e,t,n,l,s,i,o,a,u;function c(h){r[5](h,r[12])}function f(h){r[6](h,r[12])}let m={isLoading:r[2],processedColumn:r[12],updateTypeRelatedOptions:r[3]};r[0][r[12].id].selected!==void 0&&(m.selected=r[0][r[12].id].selected),r[0][r[12].id].displayName!==void 0&&(m.displayName=r[0][r[12].id].displayName),t=new e2e({props:m}),Te.push(()=>Oe(t,"selected",c)),Te.push(()=>Oe(t,"displayName",f)),i=new Tm({props:{columnIdentifierKey:r[12].id,minColumnWidth:120}});let d=[r[10],{style:o=r[16]}],p={};for(let h=0;h<d.length;h+=1)p=le(p,d[h]);return{c(){e=M("div"),C(t.$$.fragment),s=N(),C(i.$$.fragment),a=N(),ct(e,p),re(e,"svelte-11ufinz",!0)},m(h,b){w(h,e,b),y(t,e,null),I(e,s),y(i,e,null),w(h,a,b),u=!0},p(h,b){r=h;const $={};b&4&&($.isLoading=r[2]),b&2&&($.processedColumn=r[12]),b&8&&($.updateTypeRelatedOptions=r[3]),!n&&b&3&&(n=!0,$.selected=r[0][r[12].id].selected,Ne(()=>n=!1)),!l&&b&3&&(l=!0,$.displayName=r[0][r[12].id].displayName,Ne(()=>l=!1)),t.$set($);const k={};b&2&&(k.columnIdentifierKey=r[12].id),i.$set(k),ct(e,p=de(d,[b&1024&&r[10],(!u||b&65536&&o!==(o=r[16]))&&{style:o}])),re(e,"svelte-11ufinz",!0)},i(h){u||(_(t.$$.fragment,h),_(i.$$.fragment,h),u=!0)},o(h){g(t.$$.fragment,h),g(i.$$.fragment,h),u=!1},d(h){h&&v(e),S(t),S(i),h&&v(a)}}}function tw(r,e){let t,n,l;return n=new Qr({props:{columnIdentifierKey:e[12].id,$$slots:{default:[t2e,({htmlAttributes:s,style:i})=>({10:s,16:i}),({htmlAttributes:s,style:i})=>(s?1024:0)|(i?65536:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.columnIdentifierKey=e[12].id),i&590863&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function n2e(r){let e=[],t=new Map,n,l,s=r[1];const i=o=>o[12].id;for(let o=0;o<s.length;o+=1){let a=ew(r,s,o),u=i(a);t.set(u,e[o]=tw(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=oe()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),l=!0},p(o,a){a&66575&&(s=o[1],G(),e=gt(e,a,i,1,o,s,t,n.parentNode,bt,tw,n,ew),K())},i(o){if(!l){for(let a=0;a<s.length;a+=1)_(e[a]);l=!0}},o(o){for(let a=0;a<e.length;a+=1)g(e[a]);l=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&v(n)}}}function r2e(r){let e,t,n,l,s;t=new Ci({props:{columnFabric:r[12],value:r[7][r[12].column.name],showAsSkeleton:r[2],disabled:!0}});let i=[r[15],{style:n=r[16]}],o={};for(let a=0;a<i.length;a+=1)o=le(o,i[a]);return{c(){e=M("div"),C(t.$$.fragment),l=N(),ct(e,o),re(e,"svelte-11ufinz",!0)},m(a,u){w(a,e,u),y(t,e,null),w(a,l,u),s=!0},p(a,u){const c={};u&2&&(c.columnFabric=a[12]),u&18&&(c.value=a[7][a[12].column.name]),u&4&&(c.showAsSkeleton=a[2]),t.$set(c),ct(e,o=de(i,[u&32768&&a[15],(!s||u&65536&&n!==(n=a[16]))&&{style:n}])),re(e,"svelte-11ufinz",!0)},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){g(t.$$.fragment,a),s=!1},d(a){a&&v(e),S(t),a&&v(l)}}}function nw(r,e){let t,n,l;return n=new Qr({props:{columnIdentifierKey:e[12].id,$$slots:{default:[r2e,({htmlAttributes:s,style:i})=>({15:s,16:i}),({htmlAttributes:s,style:i})=>(s?32768:0)|(i?65536:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&2&&(o.columnIdentifierKey=e[12].id),i&622614&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function l2e(r){let e,t=[],n=new Map,l,s,i,o=r[1];const a=f=>f[12];for(let f=0;f<o.length;f+=1){let m=xv(r,o,f),d=a(m);n.set(d,t[f]=nw(d,m))}let u=[r[10],{style:l=r[11]}],c={};for(let f=0;f<u.length;f+=1)c=le(c,u[f]);return{c(){e=M("div");for(let f=0;f<t.length;f+=1)t[f].c();s=N(),ct(e,c),re(e,"svelte-11ufinz",!0)},m(f,m){w(f,e,m);for(let d=0;d<t.length;d+=1)t[d].m(e,null);w(f,s,m),i=!0},p(f,m){m&98326&&(o=f[1],G(),t=gt(t,m,a,1,f,o,n,e,bt,nw,null,xv),K()),ct(e,c=de(u,[m&1024&&f[10],(!i||m&2048&&l!==(l=f[11]))&&{style:l}])),re(e,"svelte-11ufinz",!0)},i(f){if(!i){for(let m=0;m<o.length;m+=1)_(t[m]);i=!0}},o(f){for(let m=0;m<t.length;m+=1)g(t[m]);i=!1},d(f){f&&v(e);for(let m=0;m<t.length;m+=1)t[m].d();f&&v(s)}}}function rw(r,e){let t,n,l;return n=new Em({props:{style:{position:"relative",height:30},$$slots:{default:[l2e,({htmlAttributes:s,styleString:i})=>({10:s,11:i}),({htmlAttributes:s,styleString:i})=>(s?1024:0)|(i?2048:0)]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=oe(),C(n.$$.fragment),this.first=t},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,i){e=s;const o={};i&527382&&(o.$$scope={dirty:i,ctx:e}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function s2e(r){let e,t,n=[],l=new Map,s,i;e=new Cm({props:{inheritFontStyle:!0,$$slots:{default:[n2e]},$$scope:{ctx:r}}});let o=r[4];const a=u=>u[7];for(let u=0;u<o.length;u+=1){let c=Jv(r,o,u),f=a(c);l.set(f,n[u]=rw(f,c))}return{c(){C(e.$$.fragment),t=N();for(let u=0;u<n.length;u+=1)n[u].c();s=oe()},m(u,c){y(e,u,c),w(u,t,c);for(let f=0;f<n.length;f+=1)n[f].m(u,c);w(u,s,c),i=!0},p(u,c){const f={};c&524303&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),c&101398&&(o=u[4],G(),n=gt(n,c,a,1,u,o,l,s.parentNode,bt,rw,s,Jv),K())},i(u){if(!i){_(e.$$.fragment,u);for(let c=0;c<o.length;c+=1)_(n[c]);i=!0}},o(u){g(e.$$.fragment,u);for(let c=0;c<n.length;c+=1)g(n[c]);i=!1},d(u){S(e,u),u&&v(t);for(let c=0;c<n.length;c+=1)n[c].d(u);u&&v(s)}}}function i2e(r){let e,t,n;return t=new Sm({props:{restrictWidthToRowWidth:!0,columns:r[1],getColumnIdentifier:o2e,$$slots:{default:[s2e]},$$scope:{ctx:r}}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","import-preview svelte-11ufinz")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,[s]){const i={};s&2&&(i.columns=l[1]),s&524319&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}const o2e=r=>r.id;function a2e(r,e,t){let{columns:n}=e,{isLoading:l}=e,{updateTypeRelatedOptions:s}=e,{columnPropertiesMap:i}=e,{records:o}=e;function a(c,f){r.$$.not_equal(i[f.id].selected,c)&&(i[f.id].selected=c,t(0,i))}function u(c,f){r.$$.not_equal(i[f.id].displayName,c)&&(i[f.id].displayName=c,t(0,i))}return r.$$set=c=>{"columns"in c&&t(1,n=c.columns),"isLoading"in c&&t(2,l=c.isLoading),"updateTypeRelatedOptions"in c&&t(3,s=c.updateTypeRelatedOptions),"columnPropertiesMap"in c&&t(0,i=c.columnPropertiesMap),"records"in c&&t(4,o=c.records)},[i,n,l,s,o,a,u]}class u2e extends x{constructor(e){super(),J(this,e,a2e,i2e,Q,{columns:1,isLoading:2,updateTypeRelatedOptions:3,columnPropertiesMap:0,records:4})}}function c2e(){return[{},{}]}function f2e(r,e){return r.map(t=>{const n=$s(t.type,e);return{id:t.id,column:t,abstractType:n,cellComponentAndProps:Rm({cellInfo:n.cellInfo,column:t})}})}function m2e(){async function r(e){return await Promise.all([Ku(e.database,e.schema,e.table.id),ho.update(e.dataFile.id,{header:e.firstRowIsHeader})]),No(e.database,e.schema,{name:e.customizedTableName,dataFiles:[e.dataFile.id]})}return new cs(r)}function d2e(){return new cs(r=>Ku(r.database,r.schema,r.table.id))}function _2e(r){return{selected:!0,displayName:r.name}}function lw(r){return Object.fromEntries(r.map(e=>[e.id,_2e(e)]))}function p2e(r,e){return r.filter(t=>{var n;return(n=e[t.id])==null?void 0:n.selected}).map(t=>{var n,l;return{id:t.id,name:(l=(n=e[t.id])==null?void 0:n.displayName)!=null?l:"",type:t.type,type_options:t.type_options,display_options:t.display_options}})}function g2e(r){let e,t;return e=new T0e({props:{value:r[0].header,disabled:r[8]}}),e.$on("change",r[19]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&1&&(s.value=n[0].header),l[0]&256&&(s.disabled=n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function h2e(r){let e,t;return e=new B8({props:{value:r[1],disabled:r[8]}}),e.$on("change",r[20]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&2&&(s.value=n[1]),l[0]&256&&(s.disabled=n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function b2e(r){let e=r[4]("customize_names_types_preview")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l[0]&16&&e!==(e=n[4]("customize_names_types_preview")+"")&&Y(t,e)},d(n){n&&v(t)}}}function $2e(r){let e,t;return e=new Cs({props:{$$slots:{default:[b2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16|l[1]&16&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function v2e(r){let e,t,n,l,s,i,o,a;return e=new Vt({props:{field:r[2],label:r[4]("table_name")}}),n=new Jn({props:{$$slots:{default:[g2e]},$$scope:{ctx:r}}}),s=new Jn({props:{$$slots:{default:[h2e]},$$scope:{ctx:r}}}),o=new Jn({props:{$$slots:{default:[$2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment),i=N(),C(o.$$.fragment)},m(u,c){y(e,u,c),w(u,t,c),y(n,u,c),w(u,l,c),y(s,u,c),w(u,i,c),y(o,u,c),a=!0},p(u,c){const f={};c[0]&4&&(f.field=u[2]),c[0]&16&&(f.label=u[4]("table_name")),e.$set(f);const m={};c[0]&257|c[1]&16&&(m.$$scope={dirty:c,ctx:u}),n.$set(m);const d={};c[0]&258|c[1]&16&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const p={};c[0]&16|c[1]&16&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){g(e.$$.fragment,u),g(n.$$.fragment,u),g(s.$$.fragment,u),g(o.$$.fragment,u),a=!1},d(u){S(e,u),u&&v(t),S(n,u),u&&v(l),S(s,u),u&&v(i),S(o,u)}}}function w2e(r){let e,t,n,l,s;t=new u2e({props:{columns:r[6],isLoading:r[3].isLoading,updateTypeRelatedOptions:r[21],columnPropertiesMap:r[5],records:r[9]}});let i=r[9].length===ru&&sw(r);return{c(){e=M("div"),C(t.$$.fragment),n=N(),i&&i.c(),l=oe(),D(e,"class","sheet-holder svelte-wa8e2j")},m(o,a){w(o,e,a),y(t,e,null),w(o,n,a),i&&i.m(o,a),w(o,l,a),s=!0},p(o,a){const u={};a[0]&64&&(u.columns=o[6]),a[0]&8&&(u.isLoading=o[3].isLoading),a[0]&32&&(u.columnPropertiesMap=o[5]),a[0]&512&&(u.records=o[9]),t.$set(u),o[9].length===ru?i?i.p(o,a):(i=sw(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},i(o){s||(_(t.$$.fragment,o),s=!0)},o(o){g(t.$$.fragment,o),s=!1},d(o){o&&v(e),S(t),o&&v(n),i&&i.d(o),o&&v(l)}}}function k2e(r){let e,t;return e=new ed({props:{error:r[13].error}}),e.$on("retry",r[18]),e.$on("delete",r[22]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8192&&(s.error=n[13].error),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function y2e(r){let e,t;return e=new ed({props:{error:r[3].error}}),e.$on("retry",r[18]),e.$on("delete",r[22]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&8&&(s.error=n[3].error),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function S2e(r){let e,t,n;return t=new yn({}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","loading svelte-wa8e2j")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function C2e(r){let e,t;return e=new ed({props:{error:r[12].error}}),e.$on("retry",r[18]),e.$on("delete",r[22]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&4096&&(s.error=n[12].error),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function sw(r){let e,t,n=r[4]("preview_truncated_at_limit",{values:{limit:ru}})+"",l,s;return{c(){e=M("div"),t=q("("),l=q(n),s=q(")"),D(e,"class","truncation-alert svelte-wa8e2j")},m(i,o){w(i,e,o),I(e,t),I(e,l),I(e,s)},p(i,o){o[0]&16&&n!==(n=i[4]("preview_truncated_at_limit",{values:{limit:ru}})+"")&&Y(l,n)},d(i){i&&v(e)}}}function T2e(r){let e,t=r[4]("table_preview")+"",n,l,s,i,o,a;const u=[C2e,S2e,y2e,k2e,w2e],c=[];function f(m,d){return m[12].error?0:m[3].hasInitialized?m[3].error?2:m[13].error?3:4:1}return i=f(r),o=c[i]=u[i](r),{c(){e=M("h2"),n=q(t),l=N(),s=M("div"),o.c(),D(e,"class","large-bold-header preview-header svelte-wa8e2j"),D(s,"class","preview-content svelte-wa8e2j")},m(m,d){w(m,e,d),I(e,n),w(m,l,d),w(m,s,d),c[i].m(s,null),a=!0},p(m,d){(!a||d[0]&16)&&t!==(t=m[4]("table_preview")+"")&&Y(n,t);let p=i;i=f(m),i===p?c[i].p(m,d):(G(),g(c[p],1,1,()=>{c[p]=null}),K(),o=c[i],o?o.p(m,d):(o=c[i]=u[i](m),o.c()),_(o,1),o.m(s,null))},i(m){a||(_(o),a=!0)},o(m){g(o),a=!1},d(m){m&&v(e),m&&v(l),m&&v(s),c[i].d()}}}function E2e(r){let e,t;return e=new Kr({props:{onCancel:r[22],onProceed:r[23],cancelButton:{icon:qt},proceedButton:{label:r[4]("confirm_and_create_table")},canProceed:r[7]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&16&&(s.proceedButton={label:n[4]("confirm_and_create_table")}),l[0]&128&&(s.canProceed=n[7]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function D2e(r){let e=r[4]("cleaning_up")+"",t,n,l,s;return l=new yn({}),{c(){t=q(e),n=q("... "),C(l.$$.fragment)},m(i,o){w(i,t,o),w(i,n,o),y(l,i,o),s=!0},p(i,o){(!s||o[0]&16)&&e!==(e=i[4]("cleaning_up")+"")&&Y(t,e)},i(i){s||(_(l.$$.fragment,i),s=!0)},o(i){g(l.$$.fragment,i),s=!1},d(i){i&&v(t),i&&v(n),S(l,i)}}}function I2e(r){let e,t,n,l;const s=[D2e,E2e],i=[];function o(a,u){return a[11].isLoading?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function M2e(r){let e,t;return e=new td({props:{$$slots:{footer:[I2e],preview:[T2e],default:[v2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l[0]&15359|l[1]&16&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}const ru=20;function A2e(r,e,t){let n,l,s,i,o,a,u,c,f=j,m=()=>(f(),f=ue(l,Se=>t(32,c=Se)),l),d,p,h=j,b=()=>(h(),h=ue(s,Se=>t(30,p=Se)),s),$,k,T,E,A,P;Z(r,wr,Se=>t(29,d=Se)),Z(r,ge,Se=>t(4,k=Se)),Z(r,fn,Se=>t(31,T=Se)),r.$$.on_destroy.push(()=>f()),r.$$.on_destroy.push(()=>h());const O=new cs(p0e.list);Z(r,O,Se=>t(12,A=Se));const R=new cs(bW);Z(r,R,Se=>t(3,$=Se));const F=new cs(hW),L=m2e();Z(r,L,Se=>t(13,P=Se));const U=d2e();Z(r,U,Se=>t(11,E=Se));let{database:W}=e,{schema:H}=e,{table:z}=e,{dataFile:te}=e,{useColumnTypeInference:se=!1}=e,B=[],V=lw([]);async function ee(){var Fe,we;const Se=await O.run(z.id),ke=(Fe=Se==null?void 0:Se.resolvedValue)==null?void 0:Fe.results;if(!!ke){if(t(27,B=ke),t(5,V=lw(B)),se){const Re=await F.run(z.id);if(((we=Re.settlement)==null?void 0:we.state)==="resolved"){const Ge=Re.settlement.value;t(27,B=B.map(Je=>{var Ke;return{...Je,type:(Ke=Ge[Je.name])!=null?Ke:Je.type}}))}}await R.run({table:z,columns:B})}}function ie(Se){var Fe,we,Re;const ke=(we=(Fe=Se.table)==null?void 0:Fe.id)!=null?we:z.id;un.goto(Iu(W.id,H.id,ke,{useColumnTypeInference:(Re=Se.useColumnTypeInference)!=null?Re:se}),!0)}async function _e(){R.reset();const Se=await L.run({database:W,dataFile:te,firstRowIsHeader:!te.header,schema:H,table:z,customizedTableName:c});Se.resolvedValue&&ie({table:Se.resolvedValue})}async function ae(){R.reset(),ie({useColumnTypeInference:!se})}function fe(Se){return t(27,B=B.map(ke=>ke.id===Se.id?Se:ke)),R.run({table:z,columns:B})}async function Ue(){const Se=await U.run({database:W,schema:H,table:z});Se.isOk?un.goto(br(W.id,H.id),!0):Tt.fromError(Se.error)}async function ve(){try{await _W(z.id,{name:c,import_verified:!0,columns:p2e(B,V)}),un.goto(Ol(W.id,H.id,z.id),!0)}catch(Se){Tt.fromError(Se)}}return r.$$set=Se=>{"database"in Se&&t(24,W=Se.database),"schema"in Se&&t(25,H=Se.schema),"table"in Se&&t(26,z=Se.table),"dataFile"in Se&&t(0,te=Se.dataFile),"useColumnTypeInference"in Se&&t(1,se=Se.useColumnTypeInference)},r.$$.update=()=>{var Se,ke;r.$$.dirty[0]&67108864|r.$$.dirty[1]&1&&t(28,n=[...T.data.values()].filter(Fe=>Fe.id!==z.id).map(Fe=>Fe.name)),r.$$.dirty[0]&335544336&&m(t(2,l=wt(z.name,[Lo(n,k("table_name_already_exists"))]))),r.$$.dirty[0]&4&&b(t(10,s=Un({customizedTableName:l}))),r.$$.dirty[0]&8&&t(9,i=(ke=(Se=$.resolvedValue)==null?void 0:Se.records)!=null?ke:c2e()),r.$$.dirty[0]&8&&t(8,o=!$.isOk),r.$$.dirty[0]&1073741832&&t(7,a=$.isOk&&p.canSubmit),r.$$.dirty[0]&671088640&&t(6,u=f2e(B,d.data)),r.$$.dirty[0]&67108866&&ee()},[te,se,l,$,k,V,u,a,o,i,s,E,A,P,O,R,L,U,ee,_e,ae,fe,Ue,ve,W,H,z,B,n,d,p,T]}class P2e extends x{constructor(e){super(),J(this,e,A2e,M2e,Q,{database:24,schema:25,table:26,dataFile:0,useColumnTypeInference:1},null,[-1,-1])}}function R2e(r){let e,t;return e=new td({props:{$$slots:{default:[F2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2144&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function O2e(r){let e,t;return e=new td({props:{$$slots:{default:[H2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2048&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function L2e(r){let e,t;return e=new P2e({props:{database:r[0],schema:r[1],table:r[4].resolvedValue,dataFile:r[3].resolvedValue,useColumnTypeInference:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&16&&(s.table=n[4].resolvedValue),l&8&&(s.dataFile=n[3].resolvedValue),l&4&&(s.useColumnTypeInference=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function N2e(r){let e,t=r[6]("unable_to_load_preview")+"",n,l,s,i=en(r[5])+"",o;return{c(){e=M("p"),n=q(t),l=N(),s=M("p"),o=q(i)},m(a,u){w(a,e,u),I(e,n),w(a,l,u),w(a,s,u),I(s,o)},p(a,u){u&64&&t!==(t=a[6]("unable_to_load_preview")+"")&&Y(n,t),u&32&&i!==(i=en(a[5])+"")&&Y(o,i)},d(a){a&&v(e),a&&v(l),a&&v(s)}}}function F2e(r){let e,t;return e=new Yn({props:{$$slots:{default:[N2e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2144&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function H2e(r){let e,t;return e=new yn({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function z2e(r){let e,t,n,l,s,i;document.title=e=Pn(r[6]("import"));const o=[L2e,O2e,R2e],a=[];function u(c,f){return c[4].resolvedValue&&c[3].resolvedValue?0:c[4].isLoading||c[3].isLoading?1:2}return n=u(r),l=a[n]=o[n](r),{c(){t=N(),l.c(),s=oe()},m(c,f){w(c,t,f),a[n].m(c,f),w(c,s,f),i=!0},p(c,[f]){(!i||f&64)&&e!==(e=Pn(c[6]("import")))&&(document.title=e);let m=n;n=u(c),n===m?a[n].p(c,f):(G(),g(a[m],1,1,()=>{a[m]=null}),K(),l=a[n],l?l.p(c,f):(l=a[n]=o[n](c),l.c()),_(l,1),l.m(s.parentNode,s))},i(c){i||(_(l),i=!0)},o(c){g(l),i=!1},d(c){c&&v(t),a[n].d(c),c&&v(s)}}}function V2e(r,e,t){let n,l,s,i;Z(r,ge,p=>t(6,i=p));const o=new cs(ty);Z(r,o,p=>t(4,s=p));const a=new cs(ho.get);Z(r,a,p=>t(3,l=p));let{database:u}=e,{schema:c}=e,{tableId:f}=e,{useColumnTypeInference:m=!1}=e;function d(){un.goto(Ol(u.id,c.id,f))}return r.$$set=p=>{"database"in p&&t(0,u=p.database),"schema"in p&&t(1,c=p.schema),"tableId"in p&&t(9,f=p.tableId),"useColumnTypeInference"in p&&t(2,m=p.useColumnTypeInference)},r.$$.update=()=>{var p;r.$$.dirty&512&&(async()=>{var $;const h=(await o.run(f)).resolvedValue;if(!h)return;if(h.import_verified){d();return}const b=($=h.data_files)==null?void 0:$[0];if(b===void 0){d();return}await a.run(b)})(),r.$$.dirty&24&&t(5,n=(p=s.error)!=null?p:l.error)},[u,c,m,l,s,n,i,o,a,f]}class q2e extends x{constructor(e){super(),J(this,e,V2e,z2e,Q,{database:0,schema:1,tableId:9,useColumnTypeInference:2})}}function iw(r){let e,t,n;return t=new dt({props:{$$slots:{default:[B2e]},$$scope:{ctx:r}}}),t.$on("click",r[5]),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","button svelte-j8a923")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p(l,s){const i={};s&8200&&(i.$$scope={dirty:s,ctx:l}),t.$set(i)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function B2e(r){let e=r[3]("cancel_upload")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("cancel_upload")+"")&&Y(t,e)},d(n){n&&v(t)}}}function U2e(r){let e,t,n,l,s;function i(u){r[10](u)}let o={fileProgress:r[2]};r[0]!==void 0&&(o.fileUploads=r[0]),e=new SI({props:o}),Te.push(()=>Oe(e,"fileUploads",i)),e.$on("add",r[4]);let a=r[1]&&iw(r);return{c(){C(e.$$.fragment),n=N(),a&&a.c(),l=oe()},m(u,c){y(e,u,c),w(u,n,c),a&&a.m(u,c),w(u,l,c),s=!0},p(u,[c]){const f={};c&4&&(f.fileProgress=u[2]),!t&&c&1&&(t=!0,f.fileUploads=u[0],Ne(()=>t=!1)),e.$set(f),u[1]?a?(a.p(u,c),c&2&&_(a,1)):(a=iw(u),a.c(),_(a,1),a.m(l.parentNode,l)):a&&(G(),g(a,1,1,()=>{a=null}),K())},i(u){s||(_(e.$$.fragment,u),_(a),s=!0)},o(u){g(e.$$.fragment,u),g(a),s=!1},d(u){S(e,u),u&&v(n),a&&a.d(u),u&&v(l)}}}const W2e=98;function j2e(r,e,t){let n,l,s;Z(r,ge,b=>t(3,s=b));let{value:i=void 0}=e,{isUploading:o=!1}=e,a,u=0,c;function f(){t(6,i=void 0),t(7,o=!1),t(0,a=void 0),t(8,u=0),t(1,c=void 0)}function m(b){t(8,u=b.percentCompleted)}async function d(b){try{const $=new FormData;$.append("file",b.detail.added[0].file),t(7,o=!0),t(1,c=ho.addViaUpload($,m));const k=await c;t(6,i=k.id),t(7,o=!1),t(1,c=void 0)}catch($){Tt.fromError($),f()}}function p(){c&&c.cancel(),f()}Dl(p);function h(b){a=b,t(0,a)}return r.$$set=b=>{"value"in b&&t(6,i=b.value),"isUploading"in b&&t(7,o=b.isUploading)},r.$$.update=()=>{r.$$.dirty&64&&i===void 0&&f(),r.$$.dirty&1&&t(9,n=a==null?void 0:a[0]),r.$$.dirty&896&&t(2,l=(()=>{if(!n)return{};const b=o?Math.min(u,W2e):100;return{[n.fileId]:b}})())},[a,c,l,s,d,p,i,o,u,n,h]}class Y2e extends x{constructor(e){super(),J(this,e,j2e,U2e,Q,{value:6,isUploading:7})}}function ow(r,e,t){const n=r.slice();return n[23]=e[t],n}function G2e(r){let e,t,n,l,s,i;return e=new Jn({props:{$$slots:{default:[r3e]},$$scope:{ctx:r}}}),n=new Vt({props:{field:r[11],input:{component:B8}}}),s=new Jn({props:{$$slots:{default:[l3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&268435481&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&268435508&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function K2e(r){let e,t;return e=new Yn({props:{$$slots:{default:[s3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&268435458&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function X2e(r){let e,t=r[4]("processing_data")+"",n,l,s,i,o,a,u;return i=new yn({}),a=new Fo({props:{$$slots:{default:[i3e]},$$scope:{ctx:r}}}),{c(){e=M("h2"),n=q(t),l=N(),s=M("div"),C(i.$$.fragment),o=N(),C(a.$$.fragment),D(s,"class","processing-spinner svelte-ghvmhi")},m(c,f){w(c,e,f),I(e,n),w(c,l,f),w(c,s,f),y(i,s,null),w(c,o,f),y(a,c,f),u=!0},p(c,f){(!u||f&16)&&t!==(t=c[4]("processing_data")+"")&&Y(n,t);const m={};f&268435472&&(m.$$scope={dirty:f,ctx:c}),a.$set(m)},i(c){u||(_(i.$$.fragment,c),_(a.$$.fragment,c),u=!0)},o(c){g(i.$$.fragment,c),g(a.$$.fragment,c),u=!1},d(c){c&&v(e),c&&v(l),c&&v(s),S(i),c&&v(o),S(a,c)}}}function Q2e(r){let e=An(r[0].key)+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&1&&e!==(e=An(n[0].key)+"")&&Y(t,e)},i:j,o:j,d(n){n&&v(t)}}}function Z2e(r){let e,t;return e=new Vt({props:{field:r[9],label:r[4]("paste_data_import"),layout:"stacked",input:{component:bs,props:{rows:10}}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.label=n[4]("paste_data_import")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function J2e(r){let e,t;return e=new Vt({props:{field:r[8],layout:"stacked",label:r[4]("enter_url_import_file")}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16&&(s.label=n[4]("enter_url_import_file")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function x2e(r){let e,t,n;function l(i){r[16](i)}let s={};return r[3]!==void 0&&(s.value=r[3]),e=new Y2e({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&8&&(t=!0,a.value=i[3],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function aw(r){let e,t;return e=new cX({props:{path:"/user-guide/importing-data/",$$slots:{default:[e3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&402653184&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e3e(r){let e=r[27]+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&134217728&&e!==(e=n[27]+"")&&Y(t,e)},d(n){n&&v(t)}}}function t3e(r){let e,t,n=r[26]==="documentationLink"&&aw(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[26]==="documentationLink"?n?(n.p(l,s),s&67108864&&_(n,1)):(n=aw(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function n3e(r){let e,t,n,l,s,i,o,a;const u=[x2e,J2e,Z2e,Q2e],c=[];function f(m,d){return m[0].key==="file"?0:m[0].key==="url"?1:m[0].key==="clipboard"?2:3}return n=f(r),l=c[n]=u[n](r),o=new St({props:{text:r[4]("data_tabular_format_help"),$$slots:{default:[t3e,({slotName:m,translatedArg:d})=>({26:m,27:d}),({slotName:m,translatedArg:d})=>(m?67108864:0)|(d?134217728:0)]},$$scope:{ctx:r}}}),{c(){e=M("div"),t=M("div"),l.c(),s=N(),i=M("div"),C(o.$$.fragment),D(t,"class","data-source-input svelte-ghvmhi"),D(i,"class","upload-format-help svelte-ghvmhi"),D(e,"class","data-source-detail"),D(e,"slot","extra")},m(m,d){w(m,e,d),I(e,t),c[n].m(t,null),I(e,s),I(e,i),y(o,i,null),a=!0},p(m,d){let p=n;n=f(m),n===p?c[n].p(m,d):(G(),g(c[p],1,1,()=>{c[p]=null}),K(),l=c[n],l?l.p(m,d):(l=c[n]=u[n](m),l.c()),_(l,1),l.m(t,null));const h={};d&16&&(h.text=m[4]("data_tabular_format_help")),d&469762048&&(h.$$scope={dirty:d,ctx:m}),o.$set(h)},i(m){a||(_(l),_(o.$$.fragment,m),a=!0)},o(m){g(l),g(o.$$.fragment,m),a=!1},d(m){m&&v(e),c[n].d(),S(o)}}}function r3e(r){let e,t,n;function l(i){r[18](i)}let s={boxed:!0,options:r[6],isInline:!0,label:r[4]("data_source"),getRadioLabel:r[17],$$slots:{extra:[n3e]},$$scope:{ctx:r}};return r[0]!==void 0&&(s.value=r[0]),e=new hs({props:s}),Te.push(()=>Oe(e,"value",l)),{c(){C(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&16&&(a.label=i[4]("data_source")),o&268435481&&(a.$$scope={dirty:o,ctx:i}),!t&&o&1&&(t=!0,a.value=i[0],Ne(()=>t=!1)),e.$set(a)},i(i){n||(_(e.$$.fragment,i),n=!0)},o(i){g(e.$$.fragment,i),n=!1},d(i){S(e,i)}}}function l3e(r){let e,t;return e=new Zr({props:{form:r[2],onProceed:r[13],onCancel:r[12],cancelButton:{label:r[4]("reset")},canCancel:r[5].hasChanges}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.form=n[2]),l&16&&(s.cancelButton={label:n[4]("reset")}),l&32&&(s.canCancel=n[5].hasChanges),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function uw(r){let e,t=r[23]+"",n;return{c(){e=M("li"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[23]+"")&&Y(n,t)},d(l){l&&v(e)}}}function s3e(r){let e,t=r[1].errors,n=[];for(let l=0;l<t.length;l+=1)n[l]=uw(ow(r,t,l));return{c(){e=M("ul");for(let l=0;l<n.length;l+=1)n[l].c()},m(l,s){w(l,e,s);for(let i=0;i<n.length;i+=1)n[i].m(e,null)},p(l,s){if(s&2){t=l[1].errors;let i;for(i=0;i<t.length;i+=1){const o=ow(l,t,i);n[i]?n[i].p(o,s):(n[i]=uw(o),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&v(e),jn(n,l)}}}function i3e(r){let e=r[4]("large_data_takes_time_warning")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("large_data_takes_time_warning")+"")&&Y(t,e)},d(n){n&&v(t)}}}function o3e(r){let e,t=r[4]("create_a_table_by_importing")+"",n,l,s,i,o,a;const u=[X2e,K2e,G2e],c=[];function f(m,d){var p,h;return((p=m[1])==null?void 0:p.state)==="processing"?0:((h=m[1])==null?void 0:h.state)==="failure"?1:2}return i=f(r),o=c[i]=u[i](r),{c(){e=M("h1"),n=q(t),l=N(),s=M("div"),o.c(),D(s,"class","import-file-view svelte-ghvmhi")},m(m,d){w(m,e,d),I(e,n),w(m,l,d),w(m,s,d),c[i].m(s,null),a=!0},p(m,d){(!a||d&16)&&t!==(t=m[4]("create_a_table_by_importing")+"")&&Y(n,t);let p=i;i=f(m),i===p?c[i].p(m,d):(G(),g(c[p],1,1,()=>{c[p]=null}),K(),o=c[i],o?o.p(m,d):(o=c[i]=u[i](m),o.c()),_(o,1),o.m(s,null))},i(m){a||(_(o),a=!0)},o(m){g(o),a=!1},d(m){m&&v(e),m&&v(l),m&&v(s),c[i].d()}}}function a3e(r){let e,t,n,l;return document.title=e=Pn(r[4]("import")),n=new kr({props:{restrictWidth:!0,cssVariables:{"--page-padding":"var(--inset-page-padding)","--max-layout-width":"var(--max-layout-width-data-pages)","--layout-background-color":"var(--sand-200)"},$$slots:{default:[o3e]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&16)&&e!==(e=Pn(s[4]("import")))&&(document.title=e);const o={};i&268435519&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function u3e(r,e,t){let n,l,s,i,o,a,u,c,f=j,m=()=>(f(),f=ue(n,W=>t(5,c=W)),n);Z(r,ge,W=>t(4,u=W)),r.$$.on_destroy.push(()=>f());let{database:d}=e,{schema:p}=e;const h=[{key:"file",label:u("upload_a_file"),icon:Uc},{key:"url",label:u("provide_url_to_file"),icon:HO},{key:"clipboard",label:u("copy_and_paste_text"),icon:DO}],b=wt(h[0]);Z(r,b,W=>t(0,s=W));const $=wt("");Z(r,$,W=>t(21,o=W));const k=wt("");Z(r,k,W=>t(20,i=W));const T=wt(void 0);Z(r,T,W=>t(3,a=W));const E=wt(!0);Z(r,E,W=>t(19,l=W));let A;function P(){n.reset(),t(1,A=void 0)}async function O(){if(s.key==="file"){if(a===void 0)throw new Error(u("no_file_uploaded"));return a}return s.key==="url"?(await ho.addViaUrlToFile(o)).id:s.key==="clipboard"?(await ho.addViaText(i)).id:An(s.key)}async function R(){try{t(1,A={state:"processing"});const W=await O();if(W===void 0)return;const H=await No(d,p,{dataFiles:[W]}),z=Iu(d.id,p.id,H.id,{useColumnTypeInference:l});un.goto(z,!0),t(1,A=void 0)}catch(W){t(1,A={state:"failure",errors:[en(W)]})}}function F(W){a=W,T.set(a)}const L=W=>({component:Rn,props:{name:W.label,icon:W.icon}});function U(W){s=W,b.set(s)}return r.$$set=W=>{"database"in W&&t(14,d=W.database),"schema"in W&&t(15,p=W.schema)},r.$$.update=()=>{r.$$.dirty&1&&m(t(2,n=(()=>{const W={uploadMethod:b,useColumnTypeInference:E};return s.key==="file"?Un({...W,fileUploadId:T}):s.key==="url"?Un({...W,urlToFile:$}):s.key==="clipboard"?Un({...W,clipboardContent:k}):An(s.key)})()))},[s,A,n,a,u,c,h,b,$,k,T,E,P,R,d,p,F,L,U]}class c3e extends x{constructor(e){super(),J(this,e,u3e,a3e,Q,{database:14,schema:15})}}function cw(r){const e=zL(r[3].query);r[4]=e;const t=parseInt(r[3].params.tableIdString,10);r[5]=t}function f3e(r){let e,t;return e=new c3e({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m3e(r){cw(r);let e,t;const n=[{database:r[0]},{schema:r[1]},{tableId:r[5]},r[4]];let l={};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new q2e({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,i){cw(s);const o=i&11?de(n,[i&1&&{database:s[0]},i&2&&{schema:s[1]},i&8&&{tableId:s[5]},i&8&&$e(s[4])]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function d3e(r){let e,t,n,l,s,i;return e=new Wn({props:{item:{type:"simple",href:kl(r[0].id,r[1].id),label:r[2]("import"),icon:$1}}}),n=new Wt({props:{path:"/",$$slots:{default:[f3e]},$$scope:{ctx:r}}}),s=new Wt({props:{path:"/:tableIdString",$$slots:{default:[m3e,({meta:o})=>({3:o}),({meta:o})=>o?8:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,[a]){const u={};a&7&&(u.item={type:"simple",href:kl(o[0].id,o[1].id),label:o[2]("import"),icon:$1}),e.$set(u);const c={};a&67&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&75&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function _3e(r,e,t){let n;Z(r,ge,i=>t(2,n=i));let{database:l}=e,{schema:s}=e;return r.$$set=i=>{"database"in i&&t(0,l=i.database),"schema"in i&&t(1,s=i.schema)},[l,s,n]}class p3e extends x{constructor(e){super(),J(this,e,_3e,d3e,Q,{database:0,schema:1})}}function g3e(r){return bn(`/api/ui/v0/queries/${r}/shares/`)}function h3e(r,e){return cn(`/api/ui/v0/queries/${r}/shares/`,e)}function b3e(r,e,t){return Ar(`/api/ui/v0/queries/${r}/shares/${e}/`,t)}function $3e(r,e){return cn(`/api/ui/v0/queries/${r}/shares/${e}/regenerate/`)}const v3e={list:g3e,add:h3e,update:b3e,regenerate:$3e};function w3e(r){let e,t,n,l=r[1]("share")+"",s,i;const o=[Ma];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l),D(n,"class","responsive-button-label")},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(Ma)]):{};e.$set(f),(!i||c&2)&&l!==(l=u[1]("share")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function k3e(r){let e,t;return e=new H8({props:{slot:"content",entityId:r[0],api:v3e,text:{header:r[1]("share_exploration"),description:r[1]("share_exploration_help"),empty:r[1]("exploration_not_shared")},getLink:r[3]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.entityId=n[0]),l&2&&(s.text={header:n[1]("share_exploration"),description:n[1]("share_exploration_help"),empty:n[1]("exploration_not_shared")}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function y3e(r){let e,t;const n=[{showArrow:!1},{triggerAppearance:"secondary"},r[2],{ariaLabel:r[1]("share")}];let l={$$slots:{content:[k3e],trigger:[w3e]},$$scope:{ctx:r}};for(let s=0;s<n.length;s+=1)l=le(l,n[s]);return e=new Pl({props:l}),{c(){C(e.$$.fragment)},m(s,i){y(e,s,i),t=!0},p(s,[i]){const o=i&6?de(n,[n[0],n[1],i&4&&$e(s[2]),i&2&&{ariaLabel:s[1]("share")}]):{};i&19&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){g(e.$$.fragment,s),t=!1},d(s){S(e,s)}}}function S3e(r,e,t){const n=["id"];let l=Ye(e,n),s;Z(r,ge,a=>t(1,s=a));let{id:i}=e;const o=a=>BL(a.slug);return r.$$set=a=>{e=le(le({},e),_t(a)),t(2,l=Ye(e,n)),"id"in a&&t(0,i=a.id)},[i,s,l,o]}class C3e extends x{constructor(e){super(),J(this,e,S3e,y3e,Q,{id:0})}}function fw(r){let e,t,n,l=r[4]&&mw(r);return t=new C3e({props:{id:r[3].id}}),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[4]?l?l.p(s,i):(l=mw(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const o={};i&8&&(o.id=s[3].id),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function mw(r){let e,t,n=r[6]("edit_in_data_explorer")+"",l,s;return{c(){e=M("a"),t=M("span"),l=q(n),D(e,"class","btn btn-primary"),D(e,"href",s=yl(r[1].id,r[2].id,r[3].id))},m(i,o){w(i,e,o),I(e,t),I(t,l)},p(i,o){o&64&&n!==(n=i[6]("edit_in_data_explorer")+"")&&Y(l,n),o&14&&s!==(s=yl(i[1].id,i[2].id,i[3].id))&&D(e,"href",s)},d(i){i&&v(e)}}}function T3e(r){let e,t,n,l=r[6]("inspector")+"",s,i;const o=[ti];let a={};for(let u=0;u<o.length;u+=1)a=le(a,o[u]);return e=new Be({props:a}),{c(){C(e.$$.fragment),t=N(),n=M("span"),s=q(l)},m(u,c){y(e,u,c),w(u,t,c),w(u,n,c),I(n,s),i=!0},p(u,c){const f=c&0?de(o,[$e(ti)]):{};e.$set(f),(!i||c&64)&&l!==(l=u[6]("inspector")+"")&&Y(s,l)},i(u){i||(_(e.$$.fragment,u),i=!0)},o(u){g(e.$$.fragment,u),i=!1},d(u){S(e,u),u&&v(t),u&&v(n)}}}function E3e(r){let e,t,n,l=r[5]!=="shared-consumer-page"&&fw(r);return t=new dt({props:{appearance:"secondary",$$slots:{default:[T3e]},$$scope:{ctx:r}}}),t.$on("click",r[7]),{c(){l&&l.c(),e=N(),C(t.$$.fragment)},m(s,i){l&&l.m(s,i),w(s,e,i),y(t,s,i),n=!0},p(s,i){s[5]!=="shared-consumer-page"?l?(l.p(s,i),i&32&&_(l,1)):(l=fw(s),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(G(),g(l,1,1,()=>{l=null}),K());const o={};i&320&&(o.$$scope={dirty:i,ctx:s}),t.$set(o)},i(s){n||(_(l),_(t.$$.fragment,s),n=!0)},o(s){g(l),g(t.$$.fragment,s),n=!1},d(s){l&&l.d(s),s&&v(e),S(t,s)}}}function D3e(r){let e,t;return e=new Ym({props:{title:{icon:zn,name:r[3].name,description:r[3].description},$$slots:{"actions-right":[E3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&8&&(s.title={icon:zn,name:n[3].name,description:n[3].description}),l&383&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function I3e(r,e,t){let n;Z(r,ge,f=>t(6,n=f));let{database:l}=e,{schema:s}=e,{query:i}=e,{isInspectorOpen:o=!0}=e,{canEditMetadata:a}=e,{context:u="page"}=e;const c=()=>{t(0,o=!o)};return r.$$set=f=>{"database"in f&&t(1,l=f.database),"schema"in f&&t(2,s=f.schema),"query"in f&&t(3,i=f.query),"isInspectorOpen"in f&&t(0,o=f.isInspectorOpen),"canEditMetadata"in f&&t(4,a=f.canEditMetadata),"context"in f&&t(5,u=f.context)},[o,l,s,i,a,u,n,c]}class M3e extends x{constructor(e){super(),J(this,e,I3e,D3e,Q,{database:1,schema:2,query:3,isInspectorOpen:0,canEditMetadata:4,context:5})}}function dw(r){let e,t,n,l,s,i;function o(u){r[13](u)}let a={query:r[2],database:r[0],schema:r[1],canEditMetadata:r[6],context:r[5]};return r[4]!==void 0&&(a.isInspectorOpen=r[4]),t=new M3e({props:a}),Te.push(()=>Oe(t,"isInspectorOpen",o)),s=new Yy({props:{isInspectorOpen:r[4],queryHandler:r[3],canEditMetadata:r[6],$$slots:{default:[A3e]},$$scope:{ctx:r}}}),s.$on("delete",r[9]),{c(){e=M("div"),C(t.$$.fragment),l=N(),C(s.$$.fragment),D(e,"class","exploration-page svelte-weidhd")},m(u,c){w(u,e,c),y(t,e,null),I(e,l),y(s,e,null),i=!0},p(u,c){const f={};c&4&&(f.query=u[2]),c&1&&(f.database=u[0]),c&2&&(f.schema=u[1]),c&64&&(f.canEditMetadata=u[6]),c&32&&(f.context=u[5]),!n&&c&16&&(n=!0,f.isInspectorOpen=u[4],Ne(()=>n=!1)),t.$set(f);const m={};c&16&&(m.isInspectorOpen=u[4]),c&8&&(m.queryHandler=u[3]),c&64&&(m.canEditMetadata=u[6]),c&32776&&(m.$$scope={dirty:c,ctx:u}),s.$set(m)},i(u){i||(_(t.$$.fragment,u),_(s.$$.fragment,u),i=!0)},o(u){g(t.$$.fragment,u),g(s.$$.fragment,u),i=!1},d(u){u&&v(e),S(t),S(s)}}}function A3e(r){let e,t;return e=new r8({props:{queryHandler:r[3],isExplorationPage:!0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.queryHandler=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function P3e(r){let e,t,n=r[3]&&dw(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[3]?n?(n.p(l,s),s&8&&_(n,1)):(n=dw(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function R3e(r){let e,t,n,l;return document.title=e=r[2].name+" | "+r[1].name+" | "+r[7]("mathesar"),n=new kr({props:{fitViewport:!0,$$slots:{default:[P3e]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(s,i){w(s,t,i),y(n,s,i),l=!0},p(s,[i]){(!l||i&134)&&e!==(e=s[2].name+" | "+s[1].name+" | "+s[7]("mathesar"))&&(document.title=e);const o={};i&32895&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){g(n.$$.fragment,s),l=!1},d(s){s&&v(t),S(n,s)}}}function O3e(r,e,t){let n,l,s,i;Z(r,wr,k=>t(11,l=k)),Z(r,ge,k=>t(7,i=k));const o=Zt();Z(r,o,k=>t(12,s=k));let{database:a}=e,{schema:u}=e,{query:c}=e,{shareConsumer:f=void 0}=e,m,d=!0;function p(k,T){m==null||m.destroy(),t(3,m=new Wy({query:new qn(k),abstractTypeMap:T,runMode:"queryId",shareConsumer:f}))}let h="page";function b(){un.goto(br(a.id,u.id))}function $(k){d=k,t(4,d)}return r.$$set=k=>{"database"in k&&t(0,a=k.database),"schema"in k&&t(1,u=k.schema),"query"in k&&t(2,c=k.query),"shareConsumer"in k&&t(10,f=k.shareConsumer)},r.$$.update=()=>{var k;r.$$.dirty&4099&&t(6,n=(k=s==null?void 0:s.hasPermission({database:a,schema:u},"canEditMetadata"))!=null?k:!1),r.$$.dirty&1024&&t(5,h=f?"shared-consumer-page":"page"),r.$$.dirty&2052&&p(c,l.data)},[a,u,c,m,d,h,n,i,o,b,f,l,s,$]}class U8 extends x{constructor(e){super(),J(this,e,O3e,R3e,Q,{database:0,schema:1,query:2,shareConsumer:10})}}function L3e(r){let e,t;return e=new Ll({props:{$$slots:{default:[F3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&72&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function N3e(r){let e,t,n,l;return e=new Wn({props:{item:{type:"exploration",database:r[0],schema:r[1],query:r[2]}}}),n=new U8({props:{database:r[0],schema:r[1],query:r[2]}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&7&&(o.item={type:"exploration",database:s[0],schema:s[1],query:s[2]}),e.$set(o);const a={};i&1&&(a.database=s[0]),i&2&&(a.schema=s[1]),i&4&&(a.query=s[2]),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function F3e(r){let e=r[3]("page_doesnt_exist")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&8&&e!==(e=n[3]("page_doesnt_exist")+"")&&Y(t,e)},d(n){n&&v(t)}}}function H3e(r){let e,t,n,l;const s=[N3e,L3e],i=[];function o(a,u){return a[2]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function z3e(r,e,t){let n,l,s;Z(r,Ss,u=>t(5,l=u)),Z(r,ge,u=>t(3,s=u));let{database:i}=e,{schema:o}=e,{queryId:a}=e;return r.$$set=u=>{"database"in u&&t(0,i=u.database),"schema"in u&&t(1,o=u.schema),"queryId"in u&&t(4,a=u.queryId)},r.$$.update=()=>{r.$$.dirty&48&&t(2,n=l.data.get(a))},[i,o,n,s,a,l]}class V3e extends x{constructor(e){super(),J(this,e,z3e,H3e,Q,{database:0,schema:1,queryId:4})}}function q3e(r){let e,t;return e=new Ll({props:{$$slots:{default:[U3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16400&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function B3e(r){let e,t,n,l,s,i,o,a,u,c,f;e=new Wn({props:{item:{type:"schema",database:r[0],schema:r[1]}}});let m=r[3]&&_w(r);return l=new Wt({props:{path:"/tables/:tableId/*",firstmatch:!0,$$slots:{default:[j3e,({meta:d})=>({13:d}),({meta:d})=>d?8192:0]},$$scope:{ctx:r}}}),i=new Wt({props:{path:"/explorations/:queryId",firstmatch:!0,$$slots:{default:[Y3e,({meta:d})=>({13:d}),({meta:d})=>d?8192:0]},$$scope:{ctx:r}}}),a=new Y3({props:{paths:r[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},r[6]]:[r[6]],$$slots:{default:[G3e,({path:d,meta:p})=>({12:d,13:p}),({path:d,meta:p})=>(d?4096:0)|(p?8192:0)]},$$scope:{ctx:r}}}),c=new Y3({props:{paths:[{name:"tables",path:"/tables/"},{name:"explorations",path:"/explorations/"},{name:"overview",path:"/"}],$$slots:{default:[K3e,({path:d})=>({12:d}),({path:d})=>d?4096:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),m&&m.c(),n=N(),C(l.$$.fragment),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment),u=N(),C(c.$$.fragment)},m(d,p){y(e,d,p),w(d,t,p),m&&m.m(d,p),w(d,n,p),y(l,d,p),w(d,s,p),y(i,d,p),w(d,o,p),y(a,d,p),w(d,u,p),y(c,d,p),f=!0},p(d,p){const h={};p&3&&(h.item={type:"schema",database:d[0],schema:d[1]}),e.$set(h),d[3]?m?(m.p(d,p),p&8&&_(m,1)):(m=_w(d),m.c(),_(m,1),m.m(n.parentNode,n)):m&&(G(),g(m,1,1,()=>{m=null}),K());const b={};p&24579&&(b.$$scope={dirty:p,ctx:d}),l.$set(b);const $={};p&24579&&($.$$scope={dirty:p,ctx:d}),i.$set($);const k={};p&4&&(k.paths=d[2]?[{name:"edit-exploration",path:"/explorations/:queryId/edit/"},d[6]]:[d[6]]),p&28675&&(k.$$scope={dirty:p,ctx:d}),a.$set(k);const T={};p&20483&&(T.$$scope={dirty:p,ctx:d}),c.$set(T)},i(d){f||(_(e.$$.fragment,d),_(m),_(l.$$.fragment,d),_(i.$$.fragment,d),_(a.$$.fragment,d),_(c.$$.fragment,d),f=!0)},o(d){g(e.$$.fragment,d),g(m),g(l.$$.fragment,d),g(i.$$.fragment,d),g(a.$$.fragment,d),g(c.$$.fragment,d),f=!1},d(d){S(e,d),d&&v(t),m&&m.d(d),d&&v(n),S(l,d),d&&v(s),S(i,d),d&&v(o),S(a,d),d&&v(u),S(c,d)}}}function U3e(r){let e=r[4]("schema_not_found")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("schema_not_found")+"")&&Y(t,e)},d(n){n&&v(t)}}}function _w(r){let e,t;return e=new Wt({props:{path:"/import/*",firstmatch:!0,$$slots:{default:[W3e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&16387&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function W3e(r){let e,t;return e=new p3e({props:{database:r[0],schema:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function j3e(r){let e,t;return e=new c0e({props:{database:r[0],schema:r[1],tableId:parseInt(r[13].params.tableId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&8192&&(s.tableId=parseInt(n[13].params.tableId,10)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function Y3e(r){let e,t;return e=new V3e({props:{database:r[0],schema:r[1],queryId:parseInt(r[13].params.queryId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&8192&&(s.queryId=parseInt(n[13].params.queryId,10)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function G3e(r){let e,t;return e=new Sae({props:{database:r[0],schema:r[1],queryId:r[12]==="edit-exploration"?parseInt(r[13].params.queryId,10):void 0}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&12288&&(s.queryId=n[12]==="edit-exploration"?parseInt(n[13].params.queryId,10):void 0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function K3e(r){let e,t;return e=new nae({props:{database:r[0],schema:r[1],section:r[12]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.database=n[0]),l&2&&(s.schema=n[1]),l&4096&&(s.section=n[12]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function X3e(r){let e,t,n,l;const s=[B3e,q3e],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function Q3e(r,e,t){let n,l,s,i,o,a,u;Z(r,Wr,h=>t(10,i=h)),Z(r,Ro,h=>t(9,a=h)),Z(r,ge,h=>t(4,u=h));const c=Zt();Z(r,c,h=>t(8,o=h));let{database:f}=e,{schemaId:m}=e;const d={name:"new-exploration",path:"/data-explorer/"};function p(){an(Wr,i=void 0,i)}return _n(()=>p),r.$$set=h=>{"database"in h&&t(0,f=h.database),"schemaId"in h&&t(7,m=h.schemaId)},r.$$.update=()=>{r.$$.dirty&128&&an(Wr,i=m,i),r.$$.dirty&640&&t(1,n=a.data.get(m)),r.$$.dirty&259&&t(3,l=o==null?void 0:o.hasPermission({database:f,schema:n},"canExecuteDDL")),r.$$.dirty&259&&t(2,s=o==null?void 0:o.hasPermission({database:f,schema:n},"canEditMetadata"))},[f,n,s,l,u,c,d,m,o,a]}class Z3e extends x{constructor(e){super(),J(this,e,Q3e,X3e,Q,{database:0,schemaId:7})}}function J3e(r){let e,t;return e=new Ll({props:{$$slots:{default:[n4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&265&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function x3e(r){let e,t,n,l,s,i;return e=new Wn({props:{item:{type:"database",database:r[1]}}}),n=new Wt({props:{path:"/",$$slots:{default:[r4e]},$$scope:{ctx:r}}}),s=new Wt({props:{path:"/:schemaId/*",firstmatch:!0,$$slots:{default:[l4e,({meta:o})=>({6:o}),({meta:o})=>o?64:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),C(s.$$.fragment)},m(o,a){y(e,o,a),w(o,t,a),y(n,o,a),w(o,l,a),y(s,o,a),i=!0},p(o,a){const u={};a&2&&(u.item={type:"database",database:o[1]}),e.$set(u);const c={};a&258&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&322&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){i||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),i=!0)},o(o){g(e.$$.fragment,o),g(n.$$.fragment,o),g(s.$$.fragment,o),i=!1},d(o){S(e,o),o&&v(t),S(n,o),o&&v(l),S(s,o)}}}function pw(r){let e,t;return e=new vr({props:{$$slots:{default:[e4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&257&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e4e(r){let e;return{c(){e=q(r[0])},m(t,n){w(t,e,n)},p(t,n){n&1&&Y(e,t[0])},d(t){t&&v(e)}}}function t4e(r){let e,t,n=r[7]==="connectionId"&&pw(r);return{c(){n&&n.c(),e=oe()},m(l,s){n&&n.m(l,s),w(l,e,s),t=!0},p(l,s){l[7]==="connectionId"?n?(n.p(l,s),s&128&&_(n,1)):(n=pw(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(G(),g(n,1,1,()=>{n=null}),K())},i(l){t||(_(n),t=!0)},o(l){g(n),t=!1},d(l){n&&n.d(l),l&&v(e)}}}function n4e(r){let e,t;return e=new St({props:{text:r[3]("database_not_found"),$$slots:{default:[t4e,({slotName:n})=>({7:n}),({slotName:n})=>n?128:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&8&&(s.text=n[3]("database_not_found")),l&385&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function r4e(r){let e,t;return e=new Tee({props:{database:r[1]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.database=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function l4e(r){let e,t;return e=new Z3e({props:{database:r[1],schemaId:parseInt(r[6].params.schemaId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.database=n[1]),l&64&&(s.schemaId=parseInt(n[6].params.schemaId,10)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function s4e(r){let e,t,n,l;const s=[x3e,J3e],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function i4e(r,e,t){let n,l,s,i=j,o=()=>(i(),i=ue(n,f=>t(4,s=f)),n),a;Z(r,ge,f=>t(3,a=f)),r.$$.on_destroy.push(()=>i());let{connectionId:u}=e;function c(){Hn.clearCurrentConnectionId()}return _n(()=>c),r.$$set=f=>{"connectionId"in f&&t(0,u=f.connectionId)},r.$$.update=()=>{r.$$.dirty&1&&Hn.setCurrentConnectionId(u),r.$$.dirty&17&&t(1,l=s.get(u))},o(t(2,{connections:n}=Hn,n)),[u,l,n,a,s]}class o4e extends x{constructor(e){super(),J(this,e,i4e,s4e,Q,{connectionId:0})}}function a4e(r){let e,t;return e=new Yn({props:{$$slots:{default:[c4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function u4e(r){let e,t,n,l,s,i;e=new nu({props:{$$slots:{header:[m4e],default:[f4e]},$$scope:{ctx:r}}}),n=new nu({props:{$$slots:{default:[d4e]},$$scope:{ctx:r}}});let o=!r[0].isSuperUser&&gw(r);return{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),o&&o.c(),s=oe()},m(a,u){y(e,a,u),w(a,t,u),y(n,a,u),w(a,l,u),o&&o.m(a,u),w(a,s,u),i=!0},p(a,u){const c={};u&19&&(c.$$scope={dirty:u,ctx:a}),e.$set(c);const f={};u&17&&(f.$$scope={dirty:u,ctx:a}),n.$set(f),a[0].isSuperUser?o&&(G(),g(o,1,1,()=>{o=null}),K()):o?(o.p(a,u),u&1&&_(o,1)):(o=gw(a),o.c(),_(o,1),o.m(s.parentNode,s))},i(a){i||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(o),i=!0)},o(a){g(e.$$.fragment,a),g(n.$$.fragment,a),g(o),i=!1},d(a){S(e,a),a&&v(t),S(n,a),a&&v(l),o&&o.d(a),a&&v(s)}}}function c4e(r){let e=r[1]("could_not_fetch_profile_error")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("could_not_fetch_profile_error")+"")&&Y(t,e)},d(n){n&&v(t)}}}function f4e(r){let e,t;return e=new Um({props:{user:r[0].getUser()}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.user=n[0].getUser()),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function m4e(r){let e,t=r[1]("account_details")+"",n;return{c(){e=M("h2"),n=q(t),D(e,"class","large-bold-header svelte-zd9d3z"),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1]("account_details")+"")&&Y(n,t)},d(l){l&&v(e)}}}function d4e(r){let e,t;return e=new Ly({props:{userId:r[0].id}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.userId=n[0].id),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function gw(r){let e,t;return e=new nu({props:{$$slots:{header:[p4e],default:[_4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function _4e(r){let e,t=r[1]("delete_account_contact_admin")+"",n;return{c(){e=M("div"),n=q(t)},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1]("delete_account_contact_admin")+"")&&Y(n,t)},d(l){l&&v(e)}}}function p4e(r){let e,t=r[1]("delete_account")+"",n;return{c(){e=M("h2"),n=q(t),D(e,"class","large-bold-header svelte-zd9d3z"),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1]("delete_account")+"")&&Y(n,t)},d(l){l&&v(e)}}}function g4e(r){let e,t,n,l;const s=[u4e,a4e],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function h4e(r){let e,t=r[1]("user_profile")+"",n;return{c(){e=M("h1"),n=q(t),D(e,"slot","header")},m(l,s){w(l,e,s),I(e,n)},p(l,s){s&2&&t!==(t=l[1]("user_profile")+"")&&Y(n,t)},d(l){l&&v(e)}}}function b4e(r){let e,t;return e=new xm({props:{hasMultipleSections:!0,$$slots:{header:[h4e],default:[g4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&19&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function $4e(r){var s,i;let e,t,n,l;return document.title=e=`
    `+((i=(s=r[0])==null?void 0:s.getDisplayName())!=null?i:r[1]("user_profile"))+" | "+r[1]("mathesar")+`
  `,n=new kr({props:{cssVariables:{"--page-padding":"var(--outer-page-padding-for-inset-page)","--layout-background-color":"var(--sand-200)","--inset-page-section-padding":"var(--size-ultra-large) var(--size-xx-large)"},$$slots:{default:[b4e]},$$scope:{ctx:r}}}),{c(){t=N(),C(n.$$.fragment)},m(o,a){w(o,t,a),y(n,o,a),l=!0},p(o,[a]){var c,f;(!l||a&3)&&e!==(e=`
    `+((f=(c=o[0])==null?void 0:c.getDisplayName())!=null?f:o[1]("user_profile"))+" | "+o[1]("mathesar")+`
  `)&&(document.title=e);const u={};a&19&&(u.$$scope={dirty:a,ctx:o}),n.$set(u)},i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){g(n.$$.fragment,o),l=!1},d(o){o&&v(t),S(n,o)}}}function v4e(r,e,t){let n,l,s;Z(r,ge,o=>t(1,s=o));const i=Zt();return Z(r,i,o=>t(3,l=o)),r.$$.update=()=>{r.$$.dirty&8&&t(0,n=l)},[n,s,i,l]}class w4e extends x{constructor(e){super(),J(this,e,v4e,$4e,Q,{})}}function k4e(r){let e,t,n,l;return e=new Wn({props:{item:{type:"simple",href:of,label:r[0]("user_profile"),icon:ni}}}),n=new w4e({}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,[i]){const o={};i&1&&(o.item={type:"simple",href:of,label:s[0]("user_profile"),icon:ni}),e.$set(o)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function y4e(r,e,t){let n;return Z(r,ge,l=>t(0,n=l)),[n]}class S4e extends x{constructor(e){super(),J(this,e,y4e,k4e,Q,{})}}function C4e(r){let e,t;return e=new EX({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function T4e(r){let e,t;return e=new S4e({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function hw(r){let e,t;return e=new Wt({props:{path:"/administration/*",firstmatch:!0,$$slots:{default:[E4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function E4e(r){let e,t;return e=new fx({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function D4e(r){let e,t;return e=new o4e({props:{connectionId:parseInt(r[6].params.connectionId,10)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&64&&(s.connectionId=parseInt(n[6].params.connectionId,10)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function I4e(r){let e,t,n,l;return e=new Wn({props:{item:{type:"connectionList"}}}),n=new sQ({}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p:j,i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function M4e(r){var f;let e,t,n,l,s,i,o,a,u;e=new Wt({props:{path:"/",redirect:r[0],$$slots:{default:[C4e]},$$scope:{ctx:r}}}),n=new Wt({props:{path:"/profile",$$slots:{default:[T4e]},$$scope:{ctx:r}}});let c=((f=r[2])==null?void 0:f.isSuperUser)&&hw(r);return i=new Wt({props:{path:"/db/:connectionId/*",firstmatch:!0,$$slots:{default:[D4e,({meta:m})=>({6:m}),({meta:m})=>m?64:0]},$$scope:{ctx:r}}}),a=new Wt({props:{path:"/connections",$$slots:{default:[I4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment),l=N(),c&&c.c(),s=N(),C(i.$$.fragment),o=N(),C(a.$$.fragment)},m(m,d){y(e,m,d),w(m,t,d),y(n,m,d),w(m,l,d),c&&c.m(m,d),w(m,s,d),y(i,m,d),w(m,o,d),y(a,m,d),u=!0},p(m,[d]){var k;const p={};d&1&&(p.redirect=m[0]),d&128&&(p.$$scope={dirty:d,ctx:m}),e.$set(p);const h={};d&128&&(h.$$scope={dirty:d,ctx:m}),n.$set(h),(k=m[2])!=null&&k.isSuperUser?c?d&4&&_(c,1):(c=hw(m),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(G(),g(c,1,1,()=>{c=null}),K());const b={};d&192&&(b.$$scope={dirty:d,ctx:m}),i.$set(b);const $={};d&128&&($.$$scope={dirty:d,ctx:m}),a.$set($)},i(m){u||(_(e.$$.fragment,m),_(n.$$.fragment,m),_(c),_(i.$$.fragment,m),_(a.$$.fragment,m),u=!0)},o(m){g(e.$$.fragment,m),g(n.$$.fragment,m),g(c),g(i.$$.fragment,m),g(a.$$.fragment,m),u=!1},d(m){S(e,m),m&&v(t),S(n,m),m&&v(l),c&&c.d(m),m&&v(s),S(i,m),m&&v(o),S(a,m)}}}function A4e(r,e,t){let n,l,s,i,o=j,a=()=>(o(),o=ue(l,f=>t(4,i=f)),l),u;r.$$.on_destroy.push(()=>o());const c=Zt();return Z(r,c,f=>t(5,u=f)),r.$$.update=()=>{r.$$.dirty&32&&t(2,n=u),r.$$.dirty&16&&t(0,s=iQ(i,{whenZero:void 0,whenOne:([f])=>sl(f),whenMany:li}))},a(t(1,{connections:l}=Hn,l)),[s,l,n,c,i,u]}class P4e extends x{constructor(e){super(),J(this,e,A4e,M4e,Q,{})}}function R4e(r){let e,t;return e=new Ll({props:{$$slots:{default:[L4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&516&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function O4e(r){let e,t;return e=new z8({props:{table:r[1],shareConsumer:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2&&(s.table=n[1]),l&1&&(s.shareConsumer=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function L4e(r){let e=r[2]("page_doesnt_exist")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&4&&e!==(e=n[2]("page_doesnt_exist")+"")&&Y(t,e)},d(n){n&&v(t)}}}function N4e(r){let e,t,n,l;const s=[O4e,R4e],i=[];function o(a,u){return a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function F4e(r){let e,t;return e=new Wt({props:{path:"/",$$slots:{default:[N4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&519&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function H4e(r,e,t){var m;let n,l,s,i,o,a;Z(r,ql,d=>t(6,i=d)),Z(r,fn,d=>t(5,o=d)),Z(r,ge,d=>t(2,a=d));const u=z6("shared_table");let{slug:c}=e;function f(){an(ql,i=void 0,i)}return _n(()=>f),r.$$set=d=>{"slug"in d&&t(3,c=d.slug)},r.$$.update=()=>{r.$$.dirty&16&&an(ql,i=n!=null?n:void 0,i),r.$$.dirty&48&&t(1,l=n?o.data.get(n):void 0),r.$$.dirty&8&&t(0,s=new Cy({slug:c}))},t(4,n=(m=u==null?void 0:u.table_id)!=null?m:void 0),[s,l,a,c,n,o]}class z4e extends x{constructor(e){super(),J(this,e,H4e,F4e,Q,{slug:3})}}function V4e(r){let e,t;return e=new Ll({props:{$$slots:{default:[B4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&2064&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function q4e(r){let e,t;return e=new U8({props:{database:r[2],schema:r[1],query:r[3],shareConsumer:r[0]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&4&&(s.database=n[2]),l&2&&(s.schema=n[1]),l&8&&(s.query=n[3]),l&1&&(s.shareConsumer=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function B4e(r){let e=r[4]("page_doesnt_exist")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&16&&e!==(e=n[4]("page_doesnt_exist")+"")&&Y(t,e)},d(n){n&&v(t)}}}function U4e(r){let e,t,n,l;const s=[q4e,V4e],i=[];function o(a,u){return a[3]&&a[2]&&a[1]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function W4e(r){let e,t;return e=new Wt({props:{path:"/",$$slots:{default:[U4e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&2079&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function j4e(r,e,t){var p;let n,l,s,i,o,a,u,c,f;Z(r,En,h=>t(7,a=h)),Z(r,On,h=>t(8,u=h)),Z(r,Ss,h=>t(9,c=h)),Z(r,ge,h=>t(4,f=h));const m=z6("shared_query");let{slug:d}=e;return r.$$set=h=>{"slug"in h&&t(5,d=h.slug)},r.$$.update=()=>{r.$$.dirty&576&&t(3,l=n?c.data.get(n):void 0),r.$$.dirty&256&&t(2,s=u),r.$$.dirty&128&&t(1,i=a),r.$$.dirty&32&&t(0,o=new Cy({slug:d}))},t(6,n=(p=m==null?void 0:m.query_id)!=null?p:void 0),[o,i,s,l,f,d,n,a,u,c]}class Y4e extends x{constructor(e){super(),J(this,e,j4e,W4e,Q,{slug:5})}}function G4e(r){let e,t;return e=new z4e({props:{slug:String(r[0].params.slug)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.slug=String(n[0].params.slug)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function K4e(r){let e,t;return e=new Y4e({props:{slug:String(r[0].params.slug)}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&1&&(s.slug=String(n[0].params.slug)),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function X4e(r){let e,t,n,l;return e=new Wt({props:{path:"/tables/:slug/*",$$slots:{default:[G4e,({meta:s})=>({0:s}),({meta:s})=>s?1:0]},$$scope:{ctx:r}}}),n=new Wt({props:{path:"/explorations/:slug/*",$$slots:{default:[K4e,({meta:s})=>({0:s}),({meta:s})=>s?1:0]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,[i]){const o={};i&3&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&3&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}class Q4e extends x{constructor(e){super(),J(this,e,null,X4e,Q,{})}}function Z4e(r){let e,t;return e=new Wt({props:{path:"/*",firstmatch:!0,$$slots:{default:[n$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&19&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function J4e(r){let e,t;return e=new Wt({props:{path:"/*",firstmatch:!0,$$slots:{default:[o$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function bw(r){let e,t;return e=new P4e({}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function x4e(r){let e,t;return e=new qm({}),e.$on("load",r[3]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function e$e(r){let e=r[1]("page_doesnt_exist")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("page_doesnt_exist")+"")&&Y(t,e)},d(n){n&&v(t)}}}function t$e(r){let e,t;return e=new Ll({props:{$$slots:{default:[e$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function n$e(r){let e,t,n,l,s,i=r[0].is_authenticated&&bw();return t=new Wt({props:{path:"/shares/*",$$slots:{default:[x4e]},$$scope:{ctx:r}}}),l=new Wt({props:{fallback:!0,$$slots:{default:[t$e]},$$scope:{ctx:r}}}),{c(){i&&i.c(),e=N(),C(t.$$.fragment),n=N(),C(l.$$.fragment)},m(o,a){i&&i.m(o,a),w(o,e,a),y(t,o,a),w(o,n,a),y(l,o,a),s=!0},p(o,a){o[0].is_authenticated?i?a&1&&_(i,1):(i=bw(),i.c(),_(i,1),i.m(e.parentNode,e)):i&&(G(),g(i,1,1,()=>{i=null}),K());const u={};a&16&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&18&&(c.$$scope={dirty:a,ctx:o}),l.$set(c)},i(o){s||(_(i),_(t.$$.fragment,o),_(l.$$.fragment,o),s=!0)},o(o){g(i),g(t.$$.fragment,o),g(l.$$.fragment,o),s=!1},d(o){i&&i.d(o),o&&v(e),S(t,o),o&&v(n),S(l,o)}}}function r$e(r){let e=r[1]("page_doesnt_exist")+"",t;return{c(){t=q(e)},m(n,l){w(n,t,l)},p(n,l){l&2&&e!==(e=n[1]("page_doesnt_exist")+"")&&Y(t,e)},d(n){n&&v(t)}}}function l$e(r){let e,t;return e=new Ll({props:{$$slots:{default:[r$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,l){const s={};l&18&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function s$e(r){let e,t,n,l;return e=new Q4e({}),n=new Wt({props:{fallback:!0,$$slots:{default:[l$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&18&&(o.$$scope={dirty:i,ctx:s}),n.$set(o)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function i$e(r){let e,t;return e=new qm({}),e.$on("load",r[2]),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function o$e(r){let e,t,n,l;return e=new Wt({props:{path:"/shares/*",firstmatch:!0,$$slots:{default:[s$e]},$$scope:{ctx:r}}}),n=new Wt({props:{fallback:!0,$$slots:{default:[i$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment),t=N(),C(n.$$.fragment)},m(s,i){y(e,s,i),w(s,t,i),y(n,s,i),l=!0},p(s,i){const o={};i&18&&(o.$$scope={dirty:i,ctx:s}),e.$set(o);const a={};i&16&&(a.$$scope={dirty:i,ctx:s}),n.$set(a)},i(s){l||(_(e.$$.fragment,s),_(n.$$.fragment,s),l=!0)},o(s){g(e.$$.fragment,s),g(n.$$.fragment,s),l=!1},d(s){S(e,s),s&&v(t),S(n,s)}}}function a$e(r){let e,t,n,l;const s=[J4e,Z4e],i=[];function o(a,u){return a[0].routing_context==="anonymous"?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,[u]){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function u$e(r,e,t){let n;Z(r,ge,o=>t(1,n=o));let{commonData:l}=e;const s=()=>window.location.reload(),i=()=>window.location.reload();return r.$$set=o=>{"commonData"in o&&t(0,l=o.commonData)},[l,n,s,i]}class c$e extends x{constructor(e){super(),J(this,e,u$e,a$e,Q,{commonData:0})}}function f$e(r){let e=r[1],t,n,l=$w(r);return{c(){l.c(),t=oe()},m(s,i){l.m(s,i),w(s,t,i),n=!0},p(s,i){i&2&&Q(e,e=s[1])?(G(),g(l,1,1,j),K(),l=$w(s),l.c(),_(l,1),l.m(t.parentNode,t)):l.p(s,i)},i(s){n||(_(l),n=!0)},o(s){g(l),n=!1},d(s){s&&v(t),l.d(s)}}}function m$e(r){let e,t,n;return t=new yn({props:{size:"2rem"}}),{c(){e=M("div"),C(t.$$.fragment),D(e,"class","app-loader")},m(l,s){w(l,e,s),y(t,e,null),n=!0},p:j,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){g(t.$$.fragment,l),n=!1},d(l){l&&v(e),S(t)}}}function $w(r){let e,t;return e=new c$e({props:{commonData:r[2]}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p:j,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function d$e(r){let e,t,n,l;const s=[m$e,f$e],i=[];function o(a,u){return a[0]?0:1}return e=o(r),t=i[e]=s[e](r),{c(){t.c(),n=oe()},m(a,u){i[e].m(a,u),w(a,n,u),l=!0},p(a,u){let c=e;e=o(a),e===c?i[e].p(a,u):(G(),g(i[c],1,1,()=>{i[c]=null}),K(),t=i[e],t?t.p(a,u):(t=i[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){l||(_(t),l=!0)},o(a){g(t),l=!1},d(a){i[e].d(a),a&&v(n)}}}function _$e(r){let e,t;return e=new tY({props:{commonData:r[2],$$slots:{default:[d$e]},$$scope:{ctx:r}}}),{c(){C(e.$$.fragment)},m(n,l){y(e,n,l),t=!0},p(n,[l]){const s={};l&11&&(s.$$scope={dirty:l,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){g(e.$$.fragment,n),t=!1},d(n){S(e,n)}}}function p$e(r,e,t){var i;let n,l;Z(r,aa,o=>t(0,n=o)),Z(r,ts,o=>t(1,l=o));const s=ul();return hZ((i=s.user.display_language)!=null?i:"en"),[n,l,s]}class g$e extends x{constructor(e){super(),J(this,e,p$e,_$e,Q,{})}}new g$e({target:document.body});export{b$e as __vite_legacy_guard};
